"use strict";var{S3Client:c,PutObjectCommand:a}=require("@aws-sdk/client-s3"),{S3RequestPresigner:u,getSignedUrl:d}=require("@aws-sdk/s3-request-presigner"),y=new c({});exports.handler=async e=>{let n=JSON.parse(e.body||"{}"),{keyHint:o="upload",extension:s="jpg"}=n,r=e.requestContext.identity?.cognitoIdentityId||"anonymous",t=`${o}/${r}/${Date.now()}.${s}`,i=await d(y,new a({Bucket:process.env.BUCKET_NAME,Key:t,ContentType:n.contentType||"image/jpeg"}),{expiresIn:3600});return{statusCode:200,headers:{"access-control-allow-origin":"*"},body:JSON.stringify({key:t,url:i})}};
//# sourceMappingURL=index.js.map
