"use strict";var tN=Object.create;var Ii=Object.defineProperty;var rN=Object.getOwnPropertyDescriptor;var nN=Object.getOwnPropertyNames;var sN=Object.getPrototypeOf,oN=Object.prototype.hasOwnProperty;var w=(e,t)=>()=>(e&&(t=e(e=0)),t);var N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pt=(e,t)=>{for(var r in t)Ii(e,r,{get:t[r],enumerable:!0})},_g=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of nN(t))!oN.call(e,s)&&s!==r&&Ii(e,s,{get:()=>t[s],enumerable:!(n=rN(t,s))||n.enumerable});return e};var C=(e,t,r)=>(r=e!=null?tN(sN(e)):{},_g(t||!e||!e.__esModule?Ii(r,"default",{value:e,enumerable:!0}):r,e)),me=e=>_g(Ii({},"__esModule",{value:!0}),e);var Tr=N(_e=>{"use strict";_e.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(_e.HttpAuthLocation||(_e.HttpAuthLocation={}));_e.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(_e.HttpApiKeyAuthLocation||(_e.HttpApiKeyAuthLocation={}));_e.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(_e.EndpointURLScheme||(_e.EndpointURLScheme={}));_e.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(_e.AlgorithmId||(_e.AlgorithmId={}));var iN=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>_e.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>_e.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},aN=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},cN=e=>iN(e),dN=e=>aN(e);_e.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(_e.FieldPosition||(_e.FieldPosition={}));var lN="__smithy_context";_e.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(_e.IniSectionType||(_e.IniSectionType={}));_e.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(_e.RequestHandlerProtocol||(_e.RequestHandlerProtocol={}));_e.SMITHY_CONTEXT_KEY=lN;_e.getDefaultClientConfiguration=cN;_e.resolveDefaultRuntimeConfig=dN});var Ze=N(cu=>{"use strict";var wg=Tr(),uN=e=>e[wg.SMITHY_CONTEXT_KEY]||(e[wg.SMITHY_CONTEXT_KEY]={}),pN=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};cu.getSmithyContext=uN;cu.normalizeProvider=pN});function Fn(e){return xg.includes(e)}var Ms,xg,Ai=w(()=>{Ms="preferred",xg=["disabled","preferred","required"]});var Tg,mN,Cg=w(()=>{Tg=C(Ze());Ai();mN=e=>{let{accountIdEndpointMode:t}=e,r=(0,Tg.normalizeProvider)(t??Ms);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Fn(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var Ig,Ag,Rg,Pg,fN,Ng=w(()=>{Ai();Ig="Invalid AccountIdEndpointMode value",Ag=e=>{throw new Error(e)},Rg="AWS_ACCOUNT_ID_ENDPOINT_MODE",Pg="account_id_endpoint_mode",fN={environmentVariableSelector:e=>{let t=e[Rg];return t&&!Fn(t)&&Ag(Ig),t},configFileSelector:e=>{let t=e[Pg];return t&&!Fn(t)&&Ag(Ig),t},default:Ms}});var du={};pt(du,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>xg,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>Pg,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Ms,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>Rg,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>fN,resolveAccountIdEndpointModeConfig:()=>mN,validateAccountIdEndpointMode:()=>Fn});var lu=w(()=>{Cg();Ai();Ng()});var Se=N(Cr=>{"use strict";var hN=Tr(),gN=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),yN=e=>({httpHandler:e.httpHandler()}),uu=class{name;kind;values;constructor({name:t,kind:r=hN.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},pu=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},mu=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=EN(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function EN(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var fu=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function SN(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Cr.Field=uu;Cr.Fields=pu;Cr.HttpRequest=mu;Cr.HttpResponse=fu;Cr.getHttpHandlerExtensionConfiguration=gN;Cr.isValidHostname=SN;Cr.resolveHttpHandlerRuntimeConfig=yN});var Dg=N((CG,vg)=>{function Qt(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Qt.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Qt.prototype[Symbol.iterator]=function(){return this});Qt.of=function(){var e=arguments,t=e.length,r=0;return new Qt(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Qt.empty=function(){var e=new Qt(null);return e.done=!0,e};Qt.is=function(e){return e instanceof Qt?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};vg.exports=Qt});var hu=N((IG,Mg)=>{var Og=typeof ArrayBuffer<"u",kg=typeof Symbol<"u";function Lg(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Og&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(kg&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,s),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}Lg.forEachWithNullKeys=function(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||Og&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],null);return}if(e instanceof Set){e.forEach(function(c){t(c,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(kg&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,null),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};Mg.exports=Lg});var gu=N(Lt=>{var bN=Math.pow(2,8)-1,_N=Math.pow(2,16)-1,wN=Math.pow(2,32)-1,xN=Math.pow(2,7)-1,TN=Math.pow(2,15)-1,CN=Math.pow(2,31)-1;Lt.getPointerArray=function(e){var t=e-1;return t<=bN?Uint8Array:t<=_N?Uint16Array:t<=wN?Uint32Array:Float64Array};Lt.getSignedPointerArray=function(e){var t=e-1;return t<=xN?Int8Array:t<=TN?Int16Array:t<=CN?Int32Array:Float64Array};Lt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var IN={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Lt.getMinimalRepresentation=function(e,t){var r=null,n=0,s,o,i,c,d;for(c=0,d=e.length;c<d;c++)i=t?t(e[c]):e[c],o=Lt.getNumberType(i),s=IN[o.name],s>n&&(n=s,r=o);return r};Lt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Lt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var s=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)s.set(arguments[t],r),r+=arguments[t].length;return s};Lt.indices=function(e){for(var t=Lt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var Fg=N(Bs=>{var Bg=hu(),Ug=gu();function AN(e){return Array.isArray(e)||Ug.isTypedArray(e)}function yu(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function RN(e){var t=yu(e),r=typeof t=="number"?new Array(t):[],n=0;return Bg(e,function(s){r[n++]=s}),r}function PN(e){var t=yu(e),r=typeof t=="number"?Ug.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],s=typeof t=="number"?new r(t):[],o=0;return Bg(e,function(i){n[o]=i,s[o]=o++}),[n,s]}Bs.isArrayLike=AN;Bs.guessLength=yu;Bs.toArray=RN;Bs.toArrayWithIndices=PN});var jg=N((PG,$g)=>{var Eu=Dg(),NN=hu(),vN=gu(),DN=Fg();function Le(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=vN.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Le.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Le.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Le.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Le.prototype.setpop=function(e,t){var r=null,n=null,s=this.items[e];return typeof s<"u"?(this.splayOnTop(s),r=this.V[s],this.V[s]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?s=this.size++:(s=this.tail,this.tail=this.backward[s],r=this.V[s],n=this.K[s],delete this.items[this.K[s]]),this.items[e]=s,this.K[s]=e,this.V[s]=t,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,n?{evicted:!0,key:n,value:r}:null)};Le.prototype.has=function(e){return e in this.items};Le.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Le.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Le.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,s=this.head,o=this.K,i=this.V,c=this.forward;r<n;)e.call(t,i[s],o[s],this),s=c[s],r++};Le.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.forward;return new Eu(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};Le.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,s=this.forward;return new Eu(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};Le.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.V,o=this.forward;return new Eu(function(){if(e>=t)return{done:!0};var i=n[r],c=s[r];return e++,e<t&&(r=o[r]),{done:!1,value:[i,c]}})};typeof Symbol<"u"&&(Le.prototype[Symbol.iterator]=Le.prototype.entries);Le.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Le,enumerable:!1}),e};typeof Symbol<"u"&&(Le.prototype[Symbol.for("nodejs.util.inspect.custom")]=Le.prototype.inspect);Le.from=function(e,t,r,n){if(arguments.length<2){if(n=DN.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var s=new Le(t,r,n);return NN(e,function(o,i){s.set(i,o)}),s};$g.exports=Le});var Vg=N((NG,Hg)=>{"use strict";var ON=Object.create,Us=Object.defineProperty,kN=Object.getOwnPropertyDescriptor,LN=Object.getOwnPropertyNames,MN=Object.getPrototypeOf,BN=Object.prototype.hasOwnProperty,UN=(e,t)=>Us(e,"name",{value:t,configurable:!0}),FN=(e,t)=>{for(var r in t)Us(e,r,{get:t[r],enumerable:!0})},zg=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of LN(t))!BN.call(e,s)&&s!==r&&Us(e,s,{get:()=>t[s],enumerable:!(n=kN(t,s))||n.enumerable});return e},$N=(e,t,r)=>(r=e!=null?ON(MN(e)):{},zg(t||!e||!e.__esModule?Us(r,"default",{value:e,enumerable:!0}):r,e)),jN=e=>zg(Us({},"__esModule",{value:!0}),e),qg={};FN(qg,{EndpointCache:()=>qN});Hg.exports=jN(qg);var zN=$N(jg()),qN=class{static{UN(this,"EndpointCache")}cache;constructor(e){this.cache=new zN.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(s=>r<s.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:s})=>({Address:n,Expires:r+s*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var _u=N(un=>{"use strict";var HN=Se(),VN=Vg(),Gg=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Su="endpoint_discovery_enabled",Wg=e=>["false","0"].indexOf(e)>=0,GN={environmentVariableSelector:e=>{for(let t=0;t<Gg.length;t++){let r=Gg[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!Wg(n)}}},configFileSelector:e=>{if(Su in e){let t=e[Su];if(t===void 0)throw Error(`Shared config entry ${Su} can't be undefined, got "${t}"`);return!Wg(t)}},default:void 0},WN=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:s}=r;return JSON.stringify({...n&&{accessKeyId:n},...s&&{commandName:e,identifiers:Object.entries(s).sort().reduce((o,[i,c])=>({...o,[i]:c}),{})}})},Zt={},Kg=async(e,t)=>new Promise((r,n)=>{let{endpointCache:s}=e,{cacheKey:o,commandName:i,identifiers:c}=t,d=s.get(o);if(d&&d.length===1&&d[0].Address==="")t.isDiscoveredEndpointRequired?(Zt[o]||(Zt[o]=[]),Zt[o].push({resolve:r,reject:n})):r();else if(d&&d.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];s.set(o,l);let m=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:c});m.resolveMiddleware(t.clientStack,e,t.options)(m).then(g=>{s.set(o,g.output.Endpoints),Zt[o]&&(Zt[o].forEach(({resolve:h})=>{h()}),delete Zt[o]),r()}).catch(g=>{s.delete(o);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:g});Zt[o]&&(Zt[o].forEach(({reject:E})=>{E(h)}),delete Zt[o]),t.isDiscoveredEndpointRequired?n(h):(s.set(o,l),r())})}}),bu=(e,t)=>(r,n)=>async s=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(s)}let{endpointDiscoveryCommandCtor:o}=e,{isDiscoveredEndpointRequired:i,identifiers:c}=t,d=n.clientName,l=n.commandName,m=await e.endpointDiscoveryEnabled(),f=await WN(l,e,{identifiers:c});if(i){if(m===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${d} requires it. Please check your configurations.`);await Kg(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:o})}else m&&Kg(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:o});let{request:g}=s;if(f&&HN.HttpRequest.isInstance(g)){let h=e.endpointCache.getEndpoint(f);h&&(g.hostname=h)}return r(s)},Ri={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},KN=(e,t)=>({applyToStack:r=>{r.add(bu(e,t),Ri)}}),JN=(e,t)=>({applyToStack:r=>{r.add(bu(e,{...t,isDiscoveredEndpointRequired:!0}),Ri)}}),YN=(e,t)=>({applyToStack:r=>{r.add(bu(e,{...t,isDiscoveredEndpointRequired:!1}),Ri)}}),XN=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:s}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new VN.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):s,isClientEndpointDiscoveryEnabled:n!==void 0})};un.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=GN;un.endpointDiscoveryMiddlewareOptions=Ri;un.getEndpointDiscoveryOptionalPlugin=YN;un.getEndpointDiscoveryPlugin=KN;un.getEndpointDiscoveryRequiredPlugin=JN;un.resolveEndpointDiscoveryConfig=XN});var $s=N(Fs=>{"use strict";var QN=Se();function ZN(e){return e}var Jg=e=>t=>async r=>{if(!QN.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},Yg={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ev=e=>({applyToStack:t=>{t.add(Jg(e),Yg)}});Fs.getHostHeaderPlugin=ev;Fs.hostHeaderMiddleware=Jg;Fs.hostHeaderMiddlewareOptions=Yg;Fs.resolveHostHeaderConfig=ZN});var js=N(Pi=>{"use strict";var Xg=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:l}=c,m=d??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:g,...h}=n.output;return i?.info?.({clientName:s,commandName:o,input:m(r.input),output:f(h),metadata:g}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:d}=c,l=d??t.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},Qg={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},tv=e=>({applyToStack:t=>{t.add(Xg(),Qg)}});Pi.getLoggerPlugin=tv;Pi.loggerMiddleware=Xg;Pi.loggerMiddlewareOptions=Qg});var Zg=N(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.InvokeStore=void 0;var rv=require("async_hooks"),wu=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";wu||(globalThis.awslambda=globalThis.awslambda||{});var nv={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},xu=class{static storage=new rv.AsyncLocalStorage;static PROTECTED_KEYS=nv;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},Ni;!wu&&globalThis.awslambda?.InvokeStore?Ni=globalThis.awslambda.InvokeStore:(Ni=xu,!wu&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Ni));vi.InvokeStore=Ni});var ey=N(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.recursionDetectionMiddleware=void 0;var sv=Zg(),ov=Se(),Tu="X-Amzn-Trace-Id",iv="AWS_LAMBDA_FUNCTION_NAME",av="_X_AMZN_TRACE_ID",cv=()=>e=>async t=>{let{request:r}=t;if(!ov.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===Tu.toLowerCase())??Tu;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[iv],o=process.env[av],c=sv.InvokeStore.getXRayTraceId()??o,d=l=>typeof l=="string"&&l.length>0;return d(s)&&d(c)&&(r.headers[Tu]=c),e({...t,request:r})};Di.recursionDetectionMiddleware=cv});var zs=N(Oi=>{"use strict";var Cu=ey(),dv={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},lv=e=>({applyToStack:t=>{t.add(Cu.recursionDetectionMiddleware(),dv)}});Oi.getRecursionDetectionPlugin=lv;Object.keys(Cu).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Oi,e)&&Object.defineProperty(Oi,e,{enumerable:!0,get:function(){return Cu[e]}})})});var Iu,uv,ty=w(()=>{Iu=C(Tr()),uv=e=>e[Iu.SMITHY_CONTEXT_KEY]||(e[Iu.SMITHY_CONTEXT_KEY]={})});var ry,ny=w(()=>{ry=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function pv(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var sy,qs,ki=w(()=>{sy=C(Ze());ny();qs=(e,t)=>(r,n)=>async s=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],c=ry(o,i),d=pv(e.httpAuthSchemes),l=(0,sy.getSmithyContext)(n),m=[];for(let f of c){let g=d.get(f.schemeId);if(!g){m.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let h=g.identityProvider(await t.identityProviderConfigProvider(e));if(!h){m.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:E={},signingProperties:T={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},E),f.signingProperties=Object.assign(f.signingProperties||{},T),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await h(f.identityProperties),signer:g.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(m.join(`
`));return r(s)}});var oy,Hs,iy=w(()=>{ki();oy={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Hs=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(qs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),oy)}})});var Ir=N($n=>{"use strict";var mv=Se(),ay=(e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(mv.HttpResponse.isInstance(o)){let{headers:d={}}=o,l=Object.entries(d);i.$metadata={httpStatusCode:o.statusCode,requestId:Au(/^x-[\w-]+-request-?id$/,l),extendedRequestId:Au(/^x-[\w-]+-id-2$/,l),cfId:Au(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},Au=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],cy=(e,t)=>(r,n)=>async s=>{let o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let c=await t(s.input,{...e,endpoint:i});return r({...s,request:c})},dy={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ly={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function fv(e,t,r){return{applyToStack:n=>{n.add(ay(e,r),dy),n.add(cy(e,t),ly)}}}$n.deserializerMiddleware=ay;$n.deserializerMiddlewareOption=dy;$n.getSerdePlugin=fv;$n.serializerMiddleware=cy;$n.serializerMiddlewareOption=ly});var uy,py,hv,my=w(()=>{uy=C(Ir());ki();py={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:uy.serializerMiddlewareOption.name},hv=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(qs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),py)}})});var fy=w(()=>{ki();iy();my()});var hy,gy,gv,yv,Ru,Pu=w(()=>{hy=C(Se()),gy=C(Ze()),gv=e=>t=>{throw t},yv=(e,t)=>{},Ru=e=>(t,r)=>async n=>{if(!hy.HttpRequest.isInstance(n.request))return t(n);let o=(0,gy.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:c,signer:d}=o,l=await t({...n,request:await d.sign(n.request,c,i)}).catch((d.errorHandler||gv)(i));return(d.successHandler||yv)(l.response,i),l}});var yy,Vs,Ey=w(()=>{Pu();yy={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Vs=e=>({applyToStack:t=>{t.addRelativeTo(Ru(e),yy)}})});var Sy=w(()=>{Pu();Ey()});var Ar,by=w(()=>{Ar=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function _y(e,t,r,n,s){return async function*(i,c,...d){let l=c,m=i.startingToken??l[r],f=!0,g;for(;f;){if(l[r]=m,s&&(l[s]=l[s]??i.pageSize),i.client instanceof e)g=await Ev(t,i.client,c,i.withCommand,...d);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let h=m;m=Sv(g,n),f=!!(m&&(!i.stopOnSameToken||m!==h))}return void 0}}var Ev,Sv,wy=w(()=>{Ev=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};Sv=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var Nu=N(xy=>{"use strict";var bv=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";xy.isArrayBuffer=bv});var jn=N(Du=>{"use strict";var _v=Nu(),vu=require("buffer"),wv=(e,t=0,r=e.byteLength-t)=>{if(!_v.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return vu.Buffer.from(e,t,r)},xv=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?vu.Buffer.from(e,t):vu.Buffer.from(e)};Du.fromArrayBuffer=wv;Du.fromString=xv});var Ty=N(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.fromBase64=void 0;var Tv=jn(),Cv=/^[A-Za-z0-9+/]*={0,2}$/,Iv=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Cv.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Tv.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Li.fromBase64=Iv});var ze=N(Mi=>{"use strict";var Cy=jn(),Iy=e=>{let t=Cy.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},Av=e=>typeof e=="string"?Iy(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Rv=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Cy.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Mi.fromUtf8=Iy;Mi.toUint8Array=Av;Mi.toUtf8=Rv});var Ay=N(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.toBase64=void 0;var Pv=jn(),Nv=ze(),vv=e=>{let t;if(typeof e=="string"?t=(0,Nv.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Pv.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Bi.toBase64=vv});var qe=N(Gs=>{"use strict";var Ry=Ty(),Py=Ay();Object.keys(Ry).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gs,e)&&Object.defineProperty(Gs,e,{enumerable:!0,get:function(){return Ry[e]}})});Object.keys(Py).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gs,e)&&Object.defineProperty(Gs,e,{enumerable:!0,get:function(){return Py[e]}})})});var ku=N(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.ChecksumStream=void 0;var Dv=qe(),Ov=require("stream"),Ou=class extends Ov.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??Dv.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Ui.ChecksumStream=Ou});var Rr=N(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.isBlob=zn.isReadableStream=void 0;var kv=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);zn.isReadableStream=kv;var Lv=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);zn.isBlob=Lv});var Ny=N(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.ChecksumStream=void 0;var Mv=typeof ReadableStream=="function"?ReadableStream:function(){},Lu=class extends Mv{};Fi.ChecksumStream=Lu});var vy=N($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.createChecksumStream=void 0;var Bv=qe(),Uv=Rr(),Fv=Ny(),$v=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,Uv.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=s??Bv.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(d,l){t.update(d),l.enqueue(d)},async flush(d){let l=await t.digest(),m=o(l);if(e!==m){let f=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${n}".`);d.error(f)}else d.terminate()}});r.pipeThrough(i);let c=i.readable;return Object.setPrototypeOf(c,Fv.ChecksumStream.prototype),c};$i.createChecksumStream=$v});var Dy=N(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.createChecksumStream=Hv;var jv=Rr(),zv=ku(),qv=vy();function Hv(e){return typeof ReadableStream=="function"&&(0,jv.isReadableStream)(e.source)?(0,qv.createChecksumStream)(e):new zv.ChecksumStream(e)}});var Uu=N(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.ByteArrayCollector=void 0;var Bu=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};ji.ByteArrayCollector=Bu});var My=N(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.createBufferedReadable=void 0;er.createBufferedReadableStream=Oy;er.merge=ky;er.flush=zi;er.sizeOf=qn;er.modeOf=Ly;var Vv=Uu();function Oy(e,t,r){let n=e.getReader(),s=!1,o=0,i=["",new Vv.ByteArrayCollector(l=>new Uint8Array(l))],c=-1,d=async l=>{let{value:m,done:f}=await n.read(),g=m;if(f){if(c!==-1){let h=zi(i,c);qn(h)>0&&l.enqueue(h)}l.close()}else{let h=Ly(g,!1);if(c!==h&&(c>=0&&l.enqueue(zi(i,c)),c=h),c===-1){l.enqueue(g);return}let E=qn(g);o+=E;let T=qn(i[c]);if(E>=t&&T===0)l.enqueue(g);else{let I=ky(i,c,g);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${E} is below threshold of ${t}, automatically buffering.`)),I>=t?l.enqueue(zi(i,c)):await d(l)}}};return new ReadableStream({pull:d})}er.createBufferedReadable=Oy;function ky(e,t,r){switch(t){case 0:return e[0]+=r,qn(e[0]);case 1:case 2:return e[t].push(r),qn(e[t])}}function zi(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function qn(e){return e?.byteLength??e?.length??0}function Ly(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Uy=N(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.createBufferedReadable=Kv;var Gv=require("node:stream"),By=Uu(),tr=My(),Wv=Rr();function Kv(e,t,r){if((0,Wv.isReadableStream)(e))return(0,tr.createBufferedReadableStream)(e,t,r);let n=new Gv.Readable({read(){}}),s=!1,o=0,i=["",new By.ByteArrayCollector(d=>new Uint8Array(d)),new By.ByteArrayCollector(d=>Buffer.from(new Uint8Array(d)))],c=-1;return e.on("data",d=>{let l=(0,tr.modeOf)(d,!0);if(c!==l&&(c>=0&&n.push((0,tr.flush)(i,c)),c=l),c===-1){n.push(d);return}let m=(0,tr.sizeOf)(d);o+=m;let f=(0,tr.sizeOf)(i[c]);if(m>=t&&f===0)n.push(d);else{let g=(0,tr.merge)(i,c,d);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${t}, automatically buffering.`)),g>=t&&n.push((0,tr.flush)(i,c))}}),e.on("end",()=>{if(c!==-1){let d=(0,tr.flush)(i,c);(0,tr.sizeOf)(d)>0&&n.push(d)}n.push(null)}),n}});var Fy=N(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.getAwsChunkedEncodingStream=void 0;var Jv=require("stream"),Yv=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,c=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,d=c?i(s,e):void 0,l=new Jv.Readable({read:()=>{}});return e.on("data",m=>{let f=n(m)||0;l.push(`${f.toString(16)}\r
`),l.push(m),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),c){let m=r(await d);l.push(`${o}:${m}\r
`),l.push(`\r
`)}l.push(null)}),l};qi.getAwsChunkedEncodingStream=Yv});var $y=N($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.headStream=Xv;async function Xv(e,t){let r=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:d,value:l}=await s.read();if(l&&(n.push(l),r+=l?.byteLength??0),r>=t)break;o=d}s.releaseLock();let i=new Uint8Array(Math.min(t,r)),c=0;for(let d of n){if(d.byteLength>i.byteLength-c){i.set(d.subarray(0,i.byteLength-c),c);break}else i.set(d,c);c+=d.length}return i}});var jy=N(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.headStream=void 0;var Qv=require("stream"),Zv=$y(),e0=Rr(),t0=(e,t)=>(0,e0.isReadableStream)(e)?(0,Zv.headStream)(e,t):new Promise((r,n)=>{let s=new ju;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});Hi.headStream=t0;var ju=class extends Qv.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var qu=N(zu=>{"use strict";var zy=e=>encodeURIComponent(e).replace(/[!'()*]/g,r0),r0=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,n0=e=>e.split("/").map(zy).join("/");zu.escapeUri=zy;zu.escapeUriPath=n0});var Vu=N(qy=>{"use strict";var Hu=qu();function s0(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Hu.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${Hu.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Hu.escapeUri(n)}`),t.push(s)}}return t.join("&")}qy.buildQueryString=s0});var pn=N(Ws=>{"use strict";var Wy=Se(),Ky=Vu(),Vi=require("http"),Gi=require("https"),Jy=require("stream"),Gu=require("http2"),o0=["ECONNRESET","EPIPE","ETIMEDOUT"],Yy=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},et={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},Hy=1e3,i0=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let o=et.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=c=>{c?.connecting?c.on("connect",()=>{et.clearTimeout(o)}):et.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):et.setTimeout(n.bind(null,Hy),Hy)},a0=(e,t,r=0,n,s)=>r?et.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},r):-1,c0=3e3,d0=(e,{keepAlive:t,keepAliveMsecs:r},n=c0)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return n===0?(s(),0):et.setTimeout(s,n)},Vy=3e3,l0=(e,t,r=0)=>{let n=s=>{let o=r-s,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):et.setTimeout(n.bind(null,r===0?0:Vy),Vy)},Gy=6e3;async function Xy(e,t,r=Gy,n=!1){let s=t.headers??{},o=s.Expect||s.expect,i=-1,c=!0;!n&&o==="100-continue"&&(c=await Promise.race([new Promise(d=>{i=Number(et.setTimeout(()=>d(!0),Math.max(Gy,r)))}),new Promise(d=>{e.on("continue",()=>{et.clearTimeout(i),d(!0)}),e.on("response",()=>{et.clearTimeout(i),d(!1)}),e.on("error",()=>{et.clearTimeout(i),d(!1)})})])),c&&u0(e,t.body)}function u0(e,t){if(t instanceof Jy.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var p0=0,Wu=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let d in s){let l=s[d]?.length??0,m=o[d]?.length??0;if(l>=i&&m>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:c,throwOnRequestTimeout:d}=t||{},l=!0,m=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:d,httpAgent:i instanceof Vi.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Vi.Agent({keepAlive:l,maxSockets:m,...i}),httpsAgent:c instanceof Gi.Agent||typeof c?.destroy=="function"?(this.externalAgent=!0,c):new Gi.Agent({keepAlive:l,maxSockets:m,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,c,d=[],l=async oe=>{await c,d.forEach(et.clearTimeout),s(oe)},m=async oe=>{await c,d.forEach(et.clearTimeout),o(oe)};if(r?.aborted){let oe=new Error("Request aborted");oe.name="AbortError",m(oe);return}let f=t.protocol==="https:",g=t.headers??{},h=(g.Expect??g.expect)==="100-continue",E=f?i.httpsAgent:i.httpAgent;h&&!this.externalAgent&&(E=new(f?Gi.Agent:Vi.Agent)({keepAlive:!1,maxSockets:1/0})),d.push(et.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(E,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let T=Ky.buildQueryString(t.query||{}),I;if(t.username!=null||t.password!=null){let oe=t.username??"",le=t.password??"";I=`${oe}:${le}`}let R=t.path;T&&(R+=`?${T}`),t.fragment&&(R+=`#${t.fragment}`);let D=t.hostname??"";D[0]==="["&&D.endsWith("]")?D=t.hostname.slice(1,-1):D=t.hostname;let B={headers:t.headers,host:D,method:t.method,path:R,port:t.port,agent:E,auth:I},ee=(f?Gi.request:Vi.request)(B,oe=>{let le=new Wy.HttpResponse({statusCode:oe.statusCode||-1,reason:oe.statusMessage,headers:Yy(oe.headers),body:oe});l({response:le})});if(ee.on("error",oe=>{o0.includes(oe.code)?m(Object.assign(oe,{name:"TimeoutError"})):m(oe)}),r){let oe=()=>{ee.destroy();let le=new Error("Request aborted");le.name="AbortError",m(le)};if(typeof r.addEventListener=="function"){let le=r;le.addEventListener("abort",oe,{once:!0}),ee.once("close",()=>le.removeEventListener("abort",oe))}else r.onabort=oe}let de=n??i.requestTimeout;d.push(i0(ee,m,i.connectionTimeout)),d.push(a0(ee,m,de,i.throwOnRequestTimeout,i.logger??console)),d.push(l0(ee,m,i.socketTimeout));let Re=B.agent;typeof Re=="object"&&"keepAlive"in Re&&d.push(d0(ee,{keepAlive:Re.keepAlive,keepAliveMsecs:Re.keepAliveMsecs})),c=Xy(ee,t,de,this.externalAgent).catch(oe=>(d.forEach(et.clearTimeout),o(oe)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Ku=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},Ju=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let d=s.poll();if(d&&!this.config.disableConcurrency)return d}let o=Gu.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},d=>{if(d)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let c=this.sessionCache.get(n)||new Ku;return c.offerLast(o),this.sessionCache.set(n,c),o}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Yu=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Ju({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((c,d)=>{let l=!1,m,f=async Ee=>{await m,c(Ee)},g=async Ee=>{await m,d(Ee)};if(r?.aborted){l=!0;let Ee=new Error("Request aborted");Ee.name="AbortError",g(Ee);return}let{hostname:h,method:E,port:T,protocol:I,query:R}=t,D="";if(t.username!=null||t.password!=null){let Ee=t.username??"",Pe=t.password??"";D=`${Ee}:${Pe}@`}let B=`${I}//${D}${h}${T?`:${T}`:""}`,Y={destination:new URL(B)},ee=this.connectionManager.lease(Y,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),de=Ee=>{o&&this.destroySession(ee),l=!0,g(Ee)},Re=Ky.buildQueryString(R||{}),oe=t.path;Re&&(oe+=`?${Re}`),t.fragment&&(oe+=`#${t.fragment}`);let le=ee.request({...t.headers,[Gu.constants.HTTP2_HEADER_PATH]:oe,[Gu.constants.HTTP2_HEADER_METHOD]:E});if(ee.ref(),le.on("response",Ee=>{let Pe=new Wy.HttpResponse({statusCode:Ee[":status"]||-1,headers:Yy(Ee),body:le});l=!0,f({response:Pe}),o&&(ee.close(),this.connectionManager.deleteSession(B,ee))}),i&&le.setTimeout(i,()=>{le.close();let Ee=new Error(`Stream timed out because of no activity for ${i} ms`);Ee.name="TimeoutError",de(Ee)}),r){let Ee=()=>{le.close();let Pe=new Error("Request aborted");Pe.name="AbortError",de(Pe)};if(typeof r.addEventListener=="function"){let Pe=r;Pe.addEventListener("abort",Ee,{once:!0}),le.once("close",()=>Pe.removeEventListener("abort",Ee))}else r.onabort=Ee}le.on("frameError",(Ee,Pe,Un)=>{de(new Error(`Frame type id ${Ee} in stream id ${Un} has failed with code ${Pe}.`))}),le.on("error",de),le.on("aborted",()=>{de(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${le.rstCode}.`))}),le.on("close",()=>{ee.unref(),o&&ee.destroy(),l||de(new Error("Unexpected error: http2 request did not get a response"))}),m=Xy(le,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Xu=class extends Jy.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},m0=e=>f0(e)?h0(e):new Promise((t,r)=>{let n=new Xu;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),f0=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function h0(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=c}let o=new Uint8Array(s),i=0;for(let c of t)o.set(c,i),i+=c.length;return o}Ws.DEFAULT_REQUEST_TIMEOUT=p0;Ws.NodeHttp2Handler=Yu;Ws.NodeHttpHandler=Wu;Ws.streamCollector=m0});var eE=N(Ki=>{"use strict";var Qy=Se(),g0=Vu(),y0=qe();function Zy(e,t){return new Request(e,t)}function E0(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Wi={supported:void 0},Qu=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Wi.supported===void 0&&(Wi.supported=typeof Request<"u"&&"keepalive"in Zy("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let D=new Error("Request aborted");return D.name="AbortError",Promise.reject(D)}let c=t.path,d=g0.buildQueryString(t.query||{});d&&(c+=`?${d}`),t.fragment&&(c+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let D=t.username??"",B=t.password??"";l=`${D}:${B}@`}let{port:m,method:f}=t,g=`${t.protocol}//${l}${t.hostname}${m?`:${m}`:""}${c}`,h=f==="GET"||f==="HEAD"?void 0:t.body,E={body:h,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(E.cache=this.config.cache),h&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=r),Wi.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(t));let T=()=>{},I=Zy(g,E),R=[fetch(I).then(D=>{let B=D.headers,Y={};for(let de of B.entries())Y[de[0]]=de[1];return D.body!=null?{response:new Qy.HttpResponse({headers:Y,reason:D.statusText,statusCode:D.status,body:D.body})}:D.blob().then(de=>({response:new Qy.HttpResponse({headers:Y,reason:D.statusText,statusCode:D.status,body:de})}))}),E0(s)];return r&&R.push(new Promise((D,B)=>{let Y=()=>{let ee=new Error("Request aborted");ee.name="AbortError",B(ee)};if(typeof r.addEventListener=="function"){let ee=r;ee.addEventListener("abort",Y,{once:!0}),T=()=>ee.removeEventListener("abort",Y)}else r.onabort=Y})),Promise.race(R).finally(T)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},S0=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):b0(e):_0(e);async function b0(e){let t=await w0(e),r=y0.fromBase64(t);return new Uint8Array(r)}async function _0(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=c}let o=new Uint8Array(s),i=0;for(let c of t)o.set(c,i),i+=c.length;return o}function w0(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Ki.FetchHttpHandler=Qu;Ki.keepAliveSupport=Wi;Ki.streamCollector=S0});var tp=N(ep=>{"use strict";var tE={},Zu={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),tE[e]=t,Zu[t]=e}function x0(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Zu)t[r/2]=Zu[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function T0(e){let t="";for(let r=0;r<e.byteLength;r++)t+=tE[e[r]];return t}ep.fromHex=x0;ep.toHex=T0});var oE=N(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.sdkStreamMixin=void 0;var C0=eE(),I0=qe(),A0=tp(),R0=ze(),rE=Rr(),nE="The stream has already been transformed.",P0=e=>{if(!sE(e)&&!(0,rE.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(nE);return t=!0,await(0,C0.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let o=await r();if(s==="base64")return(0,I0.toBase64)(o);if(s==="hex")return(0,A0.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,R0.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(nE);if(t=!0,sE(e))return n(e);if((0,rE.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ji.sdkStreamMixin=P0;var sE=e=>typeof Blob=="function"&&e instanceof Blob});var aE=N(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.sdkStreamMixin=void 0;var N0=pn(),v0=jn(),rp=require("stream"),D0=oE(),iE="The stream has already been transformed.",O0=e=>{if(!(e instanceof rp.Readable))try{return(0,D0.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(iE);return t=!0,await(0,N0.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,v0.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(t)throw new Error(iE);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof rp.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,rp.Readable.toWeb(e)}})};Yi.sdkStreamMixin=O0});var cE=N(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.splitStream=k0;async function k0(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var uE=N(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.splitStream=M0;var dE=require("stream"),L0=cE(),lE=Rr();async function M0(e){if((0,lE.isReadableStream)(e)||(0,lE.isBlob)(e))return(0,L0.splitStream)(e);let t=new dE.PassThrough,r=new dE.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Xi=N(Fe=>{"use strict";var pE=qe(),mE=ze(),fE=ku(),hE=Dy(),gE=Uy(),yE=Fy(),EE=jy(),SE=aE(),bE=uE(),_E=Rr(),op=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(pE.fromBase64(t)):e.mutate(mE.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?pE.toBase64(this):mE.toUtf8(this)}};Fe.Uint8ArrayBlobAdapter=op;Object.keys(fE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return fE[e]}})});Object.keys(hE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return hE[e]}})});Object.keys(gE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return gE[e]}})});Object.keys(yE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return yE[e]}})});Object.keys(EE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return EE[e]}})});Object.keys(SE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return SE[e]}})});Object.keys(bE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return bE[e]}})});Object.keys(_E).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Fe,e)&&Object.defineProperty(Fe,e,{enumerable:!0,get:function(){return _E[e]}})})});var Qi,yt,Zi=w(()=>{Qi=C(Xi()),yt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Qi.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Qi.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Qi.Uint8ArrayBlobAdapter.mutate(await r)}});function Mt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ea=w(()=>{});var At,ip=w(()=>{At=e=>typeof e=="function"?e():e});var Ks,ta=w(()=>{Ks=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var wE,xE,TE,ap,CE=w(()=>{wE=C(Se()),xE=C(Ze());ta();TE=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:o}=(0,xE.getSmithyContext)(r),[,i,c,d,l,m]=o??[];try{let f=await e.protocol.deserializeResponse(Ks(i,c,d,l,m),{...e,...r},s);return{response:s,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in f)){let g="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+g}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(g):r.logger?.warn?.(g)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(wE.HttpResponse.isInstance(s)){let{headers:h={}}=s,E=Object.entries(h);f.$metadata={httpStatusCode:s.statusCode,requestId:ap(/^x-[\w-]+-request-?id$/,E),extendedRequestId:ap(/^x-[\w-]+-id-2$/,E),cfId:ap(/^x-[\w-]+-cf-id$/,E)}}}catch{}}throw f}},ap=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var IE,AE,RE=w(()=>{IE=C(Ze());ta();AE=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,IE.getSmithyContext)(r),[,o,i,c,d,l]=s??[],m=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,f=await e.protocol.serializeRequest(Ks(o,i,c,d,l),n.input,{...e,...r,endpoint:m});return t({...n,request:f})}});function B0(e){return{applyToStack:t=>{t.add(AE(e),NE),t.add(TE(e),PE),e.protocol.setSerdeContext(e)}}}var PE,NE,vE=w(()=>{CE();RE();PE={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},NE={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ne,Pr=w(()=>{Ne=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var ra,U0,DE=w(()=>{Pr();ra=class e extends Ne{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},U0=(e,t,r,n)=>Ne.assign(new ra,{name:t,namespace:e,traits:r,valueSchema:n})});var na,F0,OE=w(()=>{Pr();na=class e extends Ne{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},F0=(e,t,r,n,s)=>Ne.assign(new na,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var sa,$0,kE=w(()=>{Pr();sa=class e extends Ne{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},$0=(e,t,r,n,s)=>Ne.assign(new sa,{name:t,namespace:e,traits:r,input:n,output:s})});var Hn,j0,cp=w(()=>{Pr();Hn=class e extends Ne{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},j0=(e,t,r,n,s)=>Ne.assign(new Hn,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var oa,z0,LE=w(()=>{Pr();cp();oa=class e extends Hn{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},z0=(e,t,r,n,s,o)=>Ne.assign(new oa,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function Bt(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var dp=w(()=>{});function Js(e,t){if(e instanceof W)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=W;return new r(e,t)}var W,lp,ME,BE=w(()=>{ip();dp();W=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,o=t;for(this._isMemberSchema=!1;lp(s);)n.push(s[1]),s=s[0],o=At(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let c=n[i];Object.assign(this.memberTraits,Bt(c))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=At(o),ME(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=At(t);if(r instanceof e)return r;if(lp(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Bt(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Bt(this.memberTraits)}getOwnTraits(){return Bt(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return Js([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(o!=null)return Js([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return Js(lp(s)?s:[s,0],t)}if(this.isDocumentSchema())return Js([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Js([t[5][r],0],t[4][r])]}};lp=e=>Array.isArray(e)&&e.length===2,ME=e=>Array.isArray(e)&&e.length>=5});var Ys,q0,H0,UE=w(()=>{Pr();Ys=class e extends Ne{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},q0=(e,t,r,n)=>Ne.assign(new Ys,{name:t,namespace:e,traits:n,schemaRef:r}),H0=(e,t,r,n)=>Ne.assign(new Ys,{name:t,namespace:e,traits:r,schemaRef:n})});var V0,FE=w(()=>{V0={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Be,$E=w(()=>{Be=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var jE={};pt(jE,{ErrorSchema:()=>oa,ListSchema:()=>ra,MapSchema:()=>na,NormalizedSchema:()=>W,OperationSchema:()=>sa,SCHEMA:()=>V0,Schema:()=>Ne,SimpleSchema:()=>Ys,StructureSchema:()=>Hn,TypeRegistry:()=>Be,deref:()=>At,deserializerMiddlewareOption:()=>PE,error:()=>z0,getSchemaSerdePlugin:()=>B0,isStaticSchema:()=>ME,list:()=>U0,map:()=>F0,op:()=>$0,operation:()=>Ks,serializerMiddlewareOption:()=>NE,sim:()=>q0,simAdapter:()=>H0,struct:()=>j0,translateTraits:()=>Bt});var Ce=w(()=>{ip();vE();DE();OE();kE();ta();LE();BE();Pr();UE();cp();FE();dp();$E()});var G0,zE=w(()=>{G0=(e,t,r=n=>n)=>e});var W0,K0,Xs,J0,ia,Qs,Y0,up,pp,mp,fp,X0,Q0,qE,Z0,eD,ca,tD,hp,rD,Vn,gp,nD,sD,oD,HE,VE,iD,aD,mn,yp,aa,Zs,Ep=w(()=>{W0=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},K0=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Zs.warn(aa(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Zs.warn(aa(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Xs=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Zs.warn(aa(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},J0=Math.ceil(34028234663852886e22),ia=e=>{let t=Xs(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>J0)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Qs=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Y0=Qs,up=e=>fp(e,32),pp=e=>fp(e,16),mp=e=>fp(e,8),fp=(e,t)=>{let r=Qs(e);if(r!==void 0&&X0(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},X0=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Q0=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},qE=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Z0=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Zs.warn(aa(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},eD=e=>{if(e==null)return;let t=qE(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},ca=e=>Xs(typeof e=="string"?Vn(e):e),tD=ca,hp=e=>ia(typeof e=="string"?Vn(e):e),rD=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Vn=e=>{let t=e.match(rD);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},gp=e=>typeof e=="string"?HE(e):Xs(e),nD=gp,sD=gp,oD=e=>typeof e=="string"?HE(e):ia(e),HE=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},VE=e=>Qs(typeof e=="string"?Vn(e):e),iD=VE,aD=e=>up(typeof e=="string"?Vn(e):e),mn=e=>pp(typeof e=="string"?Vn(e):e),yp=e=>mp(typeof e=="string"?Vn(e):e),aa=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Zs={warn:console.warn}});function to(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),c=e.getUTCSeconds(),d=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,m=i<10?`0${i}`:`${i}`,f=c<10?`0${c}`:`${c}`;return`${cD[n]}, ${d} ${bp[r]} ${t} ${l}:${m}:${f} GMT`}var cD,bp,dD,lD,uD,_p,pD,mD,fD,wp,xp,eo,hD,gD,yD,Sp,ED,SD,bD,Ut,_D,wD,Gn,GE=w(()=>{Ep();cD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bp=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];dD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),lD=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=dD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,c,d,l]=t,m=mn(Gn(n)),f=Ut(s,"month",1,12),g=Ut(o,"day",1,31);return eo(m,f,g,{hours:i,minutes:c,seconds:d,fractionalMilliseconds:l})},uD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_p=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=uD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,c,d,l,m]=t,f=mn(Gn(n)),g=Ut(s,"month",1,12),h=Ut(o,"day",1,31),E=eo(f,g,h,{hours:i,minutes:c,seconds:d,fractionalMilliseconds:l});return m.toUpperCase()!="Z"&&E.setTime(E.getTime()-wD(m)),E},pD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),mD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),fD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),wp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=pD.exec(e);if(t){let[r,n,s,o,i,c,d,l]=t;return eo(mn(Gn(o)),Sp(s),Ut(n,"day",1,31),{hours:i,minutes:c,seconds:d,fractionalMilliseconds:l})}if(t=mD.exec(e),t){let[r,n,s,o,i,c,d,l]=t;return yD(eo(hD(o),Sp(s),Ut(n,"day",1,31),{hours:i,minutes:c,seconds:d,fractionalMilliseconds:l}))}if(t=fD.exec(e),t){let[r,n,s,o,i,c,d,l]=t;return eo(mn(Gn(l)),Sp(n),Ut(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:c,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},xp=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=ca(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},eo=(e,t,r,n)=>{let s=t-1;return SD(e,s,r),new Date(Date.UTC(e,s,r,Ut(n.hours,"hour",0,23),Ut(n.minutes,"minute",0,59),Ut(n.seconds,"seconds",0,60),_D(n.fractionalMilliseconds)))},hD=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+mn(Gn(e));return r<t?r+100:r},gD=50*365*24*60*60*1e3,yD=e=>e.getTime()-new Date().getTime()>gD?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Sp=e=>{let t=bp.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},ED=[31,28,31,30,31,30,31,31,30,31,30,31],SD=(e,t,r)=>{let n=ED[t];if(t===1&&bD(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${bp[t]} in ${e}: ${r}`)},bD=e=>e%4===0&&(e%100!==0||e%400===0),Ut=(e,t,r,n)=>{let s=yp(Gn(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},_D=e=>e==null?0:hp("0."+e)*1e3,wD=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},Gn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var ro={};pt(ro,{__addDisposableResource:()=>yS,__assign:()=>da,__asyncDelegator:()=>dS,__asyncGenerator:()=>cS,__asyncValues:()=>lS,__await:()=>Wn,__awaiter:()=>rS,__classPrivateFieldGet:()=>fS,__classPrivateFieldIn:()=>gS,__classPrivateFieldSet:()=>hS,__createBinding:()=>ua,__decorate:()=>JE,__disposeResources:()=>ES,__esDecorate:()=>XE,__exportStar:()=>sS,__extends:()=>WE,__generator:()=>nS,__importDefault:()=>mS,__importStar:()=>pS,__makeTemplateObject:()=>uS,__metadata:()=>tS,__param:()=>YE,__propKey:()=>ZE,__read:()=>Ip,__rest:()=>KE,__rewriteRelativeImportExtension:()=>SS,__runInitializers:()=>QE,__setFunctionName:()=>eS,__spread:()=>oS,__spreadArray:()=>aS,__spreadArrays:()=>iS,__values:()=>la,default:()=>CD});function WE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function KE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function JE(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function YE(e,t){return function(r,n){t(r,n,e)}}function XE(e,t,r,n,s,o){function i(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,m=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,g=!1,h=r.length-1;h>=0;h--){var E={};for(var T in n)E[T]=T==="access"?{}:n[T];for(var T in n.access)E.access[T]=n.access[T];E.addInitializer=function(R){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(R||null))};var I=(0,r[h])(c==="accessor"?{get:m.get,set:m.set}:m[d],E);if(c==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(f=i(I.get))&&(m.get=f),(f=i(I.set))&&(m.set=f),(f=i(I.init))&&s.unshift(f)}else(f=i(I))&&(c==="field"?s.unshift(f):m[d]=f)}l&&Object.defineProperty(l,n.name,m),g=!0}function QE(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function ZE(e){return typeof e=="symbol"?e:"".concat(e)}function eS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function tS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rS(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(m){try{l(n.next(m))}catch(f){i(f)}}function d(m){try{l(n.throw(m))}catch(f){i(f)}}function l(m){m.done?o(m.value):s(m.value).then(c,d)}l((n=n.apply(e,t||[])).next())})}function nS(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=c(0),i.throw=c(1),i.return=c(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(l){return function(m){return d([l,m])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(m){l=[6,m],s=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function sS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ua(t,e,r)}function la(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ip(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){i={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function oS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ip(arguments[t]));return e}function iS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,s++)n[s]=o[i];return n}function aS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Wn(e){return this instanceof Wn?(this.v=e,this):new Wn(e)}function cS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(h){return function(E){return Promise.resolve(E).then(h,f)}}function c(h,E){n[h]&&(s[h]=function(T){return new Promise(function(I,R){o.push([h,T,I,R])>1||d(h,T)})},E&&(s[h]=E(s[h])))}function d(h,E){try{l(n[h](E))}catch(T){g(o[0][3],T)}}function l(h){h.value instanceof Wn?Promise.resolve(h.value.v).then(m,f):g(o[0][2],h)}function m(h){d("next",h)}function f(h){d("throw",h)}function g(h,E){h(E),o.shift(),o.length&&d(o[0][0],o[0][1])}}function dS(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Wn(e[s](i)),done:!1}:o?o(i):i}:o}}function lS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof la=="function"?la(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(c,d){i=e[o](i),s(c,d,i.done,i.value)})}}function s(o,i,c,d){Promise.resolve(d).then(function(l){o({value:l,done:c})},i)}}function uS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function pS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Cp(e),n=0;n<r.length;n++)r[n]!=="default"&&ua(t,e,r[n]);return xD(t,e),t}function mS(e){return e&&e.__esModule?e:{default:e}}function fS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function hS(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function gS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function yS(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function ES(e){function t(o){e.error=e.hasError?new TD(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function SS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}var Tp,da,ua,xD,Cp,TD,CD,no=w(()=>{Tp=function(e,t){return Tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Tp(e,t)};da=function(){return da=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},da.apply(this,arguments)};ua=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});xD=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Cp=function(e){return Cp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Cp(e)};TD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};CD={__extends:WE,__assign:da,__rest:KE,__decorate:JE,__param:YE,__esDecorate:XE,__runInitializers:QE,__propKey:ZE,__setFunctionName:eS,__metadata:tS,__awaiter:rS,__generator:nS,__createBinding:ua,__exportStar:sS,__values:la,__read:Ip,__spread:oS,__spreadArrays:iS,__spreadArray:aS,__await:Wn,__asyncGenerator:cS,__asyncDelegator:dS,__asyncValues:lS,__makeTemplateObject:uS,__importStar:pS,__importDefault:mS,__classPrivateFieldGet:fS,__classPrivateFieldSet:hS,__classPrivateFieldIn:gS,__addDisposableResource:yS,__disposeResources:ES,__rewriteRelativeImportExtension:SS}});var _S=N(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.randomUUID=void 0;var ID=(no(),me(ro)),bS=ID.__importDefault(require("crypto"));pa.randomUUID=bS.default.randomUUID.bind(bS.default)});var ma=N(xS=>{"use strict";var wS=_S(),We=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),AD=()=>{if(wS.randomUUID)return wS.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,We[e[0]]+We[e[1]]+We[e[2]]+We[e[3]]+"-"+We[e[4]]+We[e[5]]+"-"+We[e[6]]+We[e[7]]+"-"+We[e[8]]+We[e[9]]+"-"+We[e[10]]+We[e[11]]+We[e[12]]+We[e[13]]+We[e[14]]+We[e[15]]};xS.v4=AD});var Et,TS=w(()=>{Et=C(ma())});var tt,CS=w(()=>{tt=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};tt.from=e=>e&&typeof e=="object"&&(e instanceof tt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?tt(String(e)):tt(JSON.stringify(e));tt.fromObject=tt.from});function Ap(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var IS=w(()=>{});function rr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var Rp,Pp,Np,AS,RS,RD,PD,ND,vD,DD,so,vp,Dp,PS=w(()=>{Rp="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Pp="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Np="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",AS="(\\d?\\d)",RS="(\\d{4})",RD=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),PD=new RegExp(`^${Rp}, ${AS} ${Pp} ${RS} ${Np} GMT$`),ND=new RegExp(`^${Rp}, ${AS}-${Pp}-(\\d\\d) ${Np} GMT$`),vD=new RegExp(`^${Rp} ${Pp} ( [1-9]|\\d\\d) ${Np} ${RS}$`),DD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],so=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},vp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=RD.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,o,i,c,,d,l]=t;rr(n,1,12),rr(s,1,31),rr(o,0,23),rr(i,0,59),rr(c,0,60);let m=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(o),Number(i),Number(c),Number(d)?Math.round(parseFloat(`0.${d}`)*1e3):0));if(m.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,f,g,h]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],E=f==="-"?1:-1;m.setTime(m.getTime()+E*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return m},Dp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,o,i,c,d;if((d=PD.exec(e))?[,t,r,n,s,o,i,c]=d:(d=ND.exec(e))?([,t,r,n,s,o,i,c]=d,n=(Number(n)+1900).toString()):(d=vD.exec(e))&&([,r,t,s,o,i,c,n]=d),n&&i){let l=Date.UTC(Number(n),DD.indexOf(r),Number(t),Number(s),Number(o),Number(i),c?Math.round(parseFloat(`0.${c}`)*1e3):0);rr(t,1,31),rr(s,0,23),rr(o,0,59),rr(i,0,60);let m=new Date(l);return m.setUTCFullYear(Number(n)),m}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function Op(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var NS=w(()=>{});var oo,vS=w(()=>{oo=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let i=0;i<t;++i){let c=e[i];switch(c){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,i)),o=i+1);break;default:}s=c}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let c=i.length;return c<2?i:(i[0]==='"'&&i[c-1]==='"'&&(i=i.slice(1,c-1)),i.replace(/\\"/g,'"'))})}});function kp(e){return new xe(String(e),"bigDecimal")}var DS,xe,OS=w(()=>{DS=/^-?\d*(\.\d+)?$/,xe=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!DS.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&DS.test(r.string)}}});var kS={};pt(kS,{LazyJsonString:()=>tt,NumericValue:()=>xe,_parseEpochTimestamp:()=>so,_parseRfc3339DateTimeWithOffset:()=>vp,_parseRfc7231DateTime:()=>Dp,copyDocumentWithTransform:()=>G0,dateToUtcString:()=>to,expectBoolean:()=>K0,expectByte:()=>mp,expectFloat32:()=>ia,expectInt:()=>Y0,expectInt32:()=>up,expectLong:()=>Qs,expectNonNull:()=>Q0,expectNumber:()=>Xs,expectObject:()=>qE,expectShort:()=>pp,expectString:()=>Z0,expectUnion:()=>eD,generateIdempotencyToken:()=>Et.v4,handleFloat:()=>nD,limitedParseDouble:()=>gp,limitedParseFloat:()=>sD,limitedParseFloat32:()=>oD,logger:()=>Zs,nv:()=>kp,parseBoolean:()=>W0,parseEpochTimestamp:()=>xp,parseRfc3339DateTime:()=>lD,parseRfc3339DateTimeWithOffset:()=>_p,parseRfc7231DateTime:()=>wp,quoteHeader:()=>Ap,splitEvery:()=>Op,splitHeader:()=>oo,strictParseByte:()=>yp,strictParseDouble:()=>ca,strictParseFloat:()=>tD,strictParseFloat32:()=>hp,strictParseInt:()=>iD,strictParseInt32:()=>aD,strictParseLong:()=>VE,strictParseShort:()=>mn});var it=w(()=>{zE();GE();TS();CS();Ep();IS();PS();NS();vS();OS()});var rt,Kn=w(()=>{rt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var fa,Lp,LS=w(()=>{fa=C(ze()),Lp=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),c=this.serializer,d=this.defaultContentType,l=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(n){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:d}};c.write(r,n);let g=c.flush();yield{[l]:!0,headers:f,body:g}}for await(let f of t)yield f}};return s.serialize(m,f=>{if(f[l])return{headers:f.headers,body:f.body};let g=Object.keys(f).find(D=>D!=="__type")??"",{additionalHeaders:h,body:E,eventType:T,explicitPayloadContentType:I}=this.writeEventBody(g,i,f);return{headers:{":event-type":{type:"string",value:T},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:I??d},...h},body:E}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,o=r.getEventStreamMember(),c=r.getMemberSchema(o).getMemberSchemas(),d=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async g=>{let h=Object.keys(g).find(T=>T!=="__type")??"",E=g[h].body;if(h==="initial-response"){let T=await this.deserializer.read(r,E);return delete T[o],{[d]:!0,...T}}else if(h in c){let T=c[h];if(T.isStructSchema()){let I={},R=!1;for(let[D,B]of T.structIterator()){let{eventHeader:Y,eventPayload:ee}=B.getMergedTraits();if(R=R||!!(Y||ee),ee)B.isBlobSchema()?I[D]=E:B.isStringSchema()?I[D]=(this.serdeContext?.utf8Encoder??fa.toUtf8)(E):B.isStructSchema()&&(I[D]=await this.deserializer.read(B,E));else if(Y){let de=g[h].headers[D]?.value;de!=null&&(B.isNumericSchema()?de&&typeof de=="object"&&"bytes"in de?I[D]=BigInt(de.toString()):I[D]=Number(de):I[D]=de)}}if(R)return{[h]:I}}return{[h]:await this.deserializer.read(T,E)}}else return{$unknown:g}}),m=l[Symbol.asyncIterator](),f=await m.next();if(f.done)return l;if(f.value?.[d]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,h]of Object.entries(f.value))n[g]=h}return{async*[Symbol.asyncIterator](){for(f?.value?.[d]||(yield f.value);;){let{done:g,value:h}=await m.next();if(g)break;yield h}}}}writeEventBody(t,r,n){let s=this.serializer,o=t,i=null,c,d=r.getSchema()[4].includes(t),l={};if(d){let g=r.getMemberSchema(t);if(g.isStructSchema()){for(let[h,E]of g.structIterator()){let{eventHeader:T,eventPayload:I}=E.getMergedTraits();if(I){i=h;break}else if(T){let R=n[t][h],D="binary";E.isNumericSchema()?(-2)**31<=R&&R<=2**31-1?D="integer":D="long":E.isTimestampSchema()?D="timestamp":E.isStringSchema()?D="string":E.isBooleanSchema()&&(D="boolean"),R!=null&&(l[h]={type:D,value:R},delete n[t][h])}}if(i!==null){let h=g.getMemberSchema(i);h.isBlobSchema()?c="application/octet-stream":h.isStringSchema()&&(c="text/plain"),s.write(h,n[t][i])}else s.write(g,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,h]=n[t];o=g,s.write(15,h)}let m=s.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??fa.fromUtf8)(m):m,eventType:o,explicitPayloadContentType:c,additionalHeaders:l}}}});var MS={};pt(MS,{EventStreamSerde:()=>Lp});var BS=w(()=>{LS()});var ha,fn,ga=w(()=>{Ce();ha=C(Se());Kn();fn=class extends rt{options;constructor(t){super(),this.options=t}getRequestType(){return ha.HttpRequest}getResponseType(){return ha.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=W.of(r.input),o=Bt(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let c=[...s.structIterator()].filter(([,d])=>d.getMergedTraits().hostLabel);for(let[d]of c){let l=n[d];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${d} in input must be a string as hostLabel.`);i=i.replace(`{${d}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(BS(),MS));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var US,FS,hn,$S=w(()=>{Ce();it();US=C(Se()),FS=C(Xi());Zi();ea();ga();hn=class extends fn{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,i={},c={},d=await n.endpoint(),l=W.of(t?.input),m=l.getSchema(),f=!1,g,h=new US.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:c,body:void 0});if(d){this.updateServiceEndpoint(h,d),this.setHostPrefix(h,t,s);let E=Bt(t.traits);if(E.http){h.method=E.http[0];let[T,I]=E.http[1].split("?");h.path=="/"?h.path=T:h.path+=T;let R=new URLSearchParams(I??"");Object.assign(i,Object.fromEntries(R))}}for(let[E,T]of l.structIterator()){let I=T.getMergedTraits()??{},R=s[E];if(!(R==null&&!T.isIdempotencyToken()))if(I.httpPayload)T.isStreaming()?T.isStructSchema()?s[E]&&(g=await this.serializeEventStream({eventStream:s[E],requestSchema:l})):g=R:(o.write(T,R),g=o.flush()),delete s[E];else if(I.httpLabel){o.write(T,R);let D=o.flush();h.path.includes(`{${E}+}`)?h.path=h.path.replace(`{${E}+}`,D.split("/").map(Mt).join("/")):h.path.includes(`{${E}}`)&&(h.path=h.path.replace(`{${E}}`,Mt(D))),delete s[E]}else if(I.httpHeader)o.write(T,R),c[I.httpHeader.toLowerCase()]=String(o.flush()),delete s[E];else if(typeof I.httpPrefixHeaders=="string"){for(let[D,B]of Object.entries(R)){let Y=I.httpPrefixHeaders+D;o.write([T.getValueSchema(),{httpHeader:Y}],B),c[Y.toLowerCase()]=o.flush()}delete s[E]}else I.httpQuery||I.httpQueryParams?(this.serializeQuery(T,R,i),delete s[E]):f=!0}return f&&s&&(o.write(m,s),g=o.flush()),h.headers=c,h.query=i,h.body=g,h}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,c]of Object.entries(r))if(!(i in n)){let d=t.getValueSchema();Object.assign(d.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(d,c,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,c=[];for(let d of r){s.write([t.getValueSchema(),o],d);let l=s.flush();(i||l!==void 0)&&c.push(l)}n[o.httpQuery]=c}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=W.of(t.output),i={};if(n.statusCode>=300){let d=await yt(n.body,r);throw d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let c=await this.deserializeHttpMessage(o,r,n,i);if(c.length){let d=await yt(n.body,r);if(d.byteLength>0){let l=await s.read(o,d);for(let m of c)i[m]=l[m]}}else c.discardResponseBody&&await yt(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,s,o){let i;s instanceof Set?i=o:i=s;let c=!0,d=this.deserializer,l=W.of(t),m=[];for(let[f,g]of l.structIterator()){let h=g.getMemberTraits();if(h.httpPayload){if(c=!1,g.isStreaming())g.isStructSchema()?i[f]=await this.deserializeEventStream({response:n,responseSchema:l}):i[f]=(0,FS.sdkStreamMixin)(n.body);else if(n.body){let T=await yt(n.body,r);T.byteLength>0&&(i[f]=await d.read(g,T))}}else if(h.httpHeader){let E=String(h.httpHeader).toLowerCase(),T=n.headers[E];if(T!=null)if(g.isListSchema()){let I=g.getValueSchema();I.getMergedTraits().httpHeader=E;let R;I.isTimestampSchema()&&I.getSchema()===4?R=Op(T,",",2):R=oo(T);let D=[];for(let B of R)D.push(await d.read(I,B.trim()));i[f]=D}else i[f]=await d.read(g,T)}else if(h.httpPrefixHeaders!==void 0){i[f]={};for(let[E,T]of Object.entries(n.headers))if(E.startsWith(h.httpPrefixHeaders)){let I=g.getValueSchema();I.getMergedTraits().httpHeader=E,i[f][E.slice(h.httpPrefixHeaders.length)]=await d.read(I,T)}}else h.httpResponseCode?i[f]=n.statusCode:m.push(f)}return m.discardResponseBody=c,m}}});var jS,nr,zS=w(()=>{Ce();jS=C(Se());Zi();ga();nr=class extends fn{async serializeRequest(t,r,n){let s=this.serializer,o={},i={},c=await n.endpoint(),d=W.of(t?.input),l=d.getSchema(),m,f=new jS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});c&&(this.updateServiceEndpoint(f,c),this.setHostPrefix(f,t,r));let g={...r};if(r){let h=d.getEventStreamMember();if(h){if(g[h]){let E={};for(let[T,I]of d.structIterator())T!==h&&g[T]&&(s.write(I,g[T]),E[T]=s.flush());m=await this.serializeEventStream({eventStream:g[h],requestSchema:d,initialRequest:E})}}else s.write(l,g),m=s.flush()}return f.headers=i,f.query=o,f.body=m,f.method="POST",f}async deserializeResponse(t,r,n){let s=this.deserializer,o=W.of(t.output),i={};if(n.statusCode>=300){let d=await yt(n.body,r);throw d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let c=o.getEventStreamMember();if(c)i[c]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let d=await yt(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(o,d))}return i.$metadata=this.deserializeMetadata(n),i}}});var Mp,Bp=w(()=>{ea();Mp=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(c=>Mt(c)).join("/"):Mt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function io(e,t){return new ya(e,t)}var qS,ya,HS=w(()=>{qS=C(Se());Bp();ya=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new qS.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=Mp(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function mt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var Ea=w(()=>{});var Up,VS,gn,Fp=w(()=>{Ce();it();Up=C(qe()),VS=C(ze());Kn();Ea();gn=class extends rt{settings;constructor(t){super(),this.settings=t}read(t,r){let n=W.of(t);if(n.isListSchema())return oo(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Up.fromBase64)(r);if(n.isTimestampSchema())switch(mt(n,this.settings)){case 5:return vp(r);case 6:return Dp(r);case 7:return so(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=tt.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new xe(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??VS.toUtf8)((this.serdeContext?.base64Decoder??Up.fromBase64)(t))}}});var Sa,yn,GS=w(()=>{Ce();Sa=C(ze());Kn();Fp();yn=class extends rt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new gn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=W.of(t),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Sa.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Sa.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var $p,ao,jp=w(()=>{Ce();it();$p=C(qe());Kn();Ea();ao=class extends rt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=W.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(mt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=to(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??$p.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let c of r){this.write([n.getValueSchema(),n.getMergedTraits()],c);let d=this.flush(),l=n.getValueSchema().isTimestampSchema()?d:Ap(d);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=tt.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??$p.toBase64)(o.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Et.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var En,WS=w(()=>{Ce();jp();En=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new ao(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=W.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var KS={};pt(KS,{FromStringShapeDeserializer:()=>gn,HttpBindingProtocol:()=>hn,HttpInterceptingShapeDeserializer:()=>yn,HttpInterceptingShapeSerializer:()=>En,HttpProtocol:()=>fn,RequestBuilder:()=>ya,RpcProtocol:()=>nr,SerdeContext:()=>rt,ToStringShapeSerializer:()=>ao,collectBody:()=>yt,determineTimestampFormat:()=>mt,extendedEncodeURIComponent:()=>Mt,requestBuilder:()=>io,resolvedPath:()=>Mp});var at=w(()=>{Zi();ea();$S();ga();zS();HS();Bp();Fp();GS();WS();jp();Ea();Kn()});var JS=w(()=>{at()});function OD(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var YS=w(()=>{});var Sn,XS=w(()=>{Sn=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var QS,zp,qp,ZS=w(()=>{QS=C(Se()),zp=C(Tr()),qp=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=QS.HttpRequest.clone(t);if(n.in===zp.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===zp.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var eb,Hp,tb=w(()=>{eb=C(Se()),Hp=class{async sign(t,r,n){let s=eb.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var sr,rb=w(()=>{sr=class{async sign(t,r,n){return t}}});var nb=w(()=>{ZS();tb();rb()});var sb,kD,Vp,ba,Gp,ob=w(()=>{sb=e=>function(r){return ba(r)&&r.expiration.getTime()-Date.now()<e},kD=3e5,Vp=sb(3e5),ba=e=>e.expiration!==void 0,Gp=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,c=!1,d=async l=>{o||(o=n(l));try{s=await o,i=!0,c=!1}finally{o=void 0}return s};return t===void 0?async l=>((!i||l?.forceRefresh)&&(s=await d(l)),s):async l=>((!i||l?.forceRefresh)&&(s=await d(l)),c?s:r(s)?(t(s)&&await d(l),s):(c=!0,s))}});var ib=w(()=>{XS();nb();ob()});var Jn={};pt(Jn,{DefaultIdentityProviderConfig:()=>Sn,EXPIRATION_MS:()=>kD,HttpApiKeyAuthSigner:()=>qp,HttpBearerAuthSigner:()=>Hp,NoAuthSigner:()=>sr,createIsIdentityExpiredFunction:()=>sb,createPaginator:()=>_y,doesIdentityRequireRefresh:()=>ba,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Hs,getHttpAuthSchemePlugin:()=>hv,getHttpSigningPlugin:()=>Vs,getSmithyContext:()=>uv,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>oy,httpAuthSchemeMiddleware:()=>qs,httpAuthSchemeMiddlewareOptions:()=>py,httpSigningMiddleware:()=>Ru,httpSigningMiddlewareOptions:()=>yy,isIdentityExpired:()=>Vp,memoizeIdentityProvider:()=>Gp,normalizeProvider:()=>Ar,requestBuilder:()=>io,setFeature:()=>OD});var ct=w(()=>{ty();fy();Sy();by();wy();JS();YS();ib()});var _n=N(bn=>{"use strict";var Kp=Tr(),Jp=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:c}=s.next();if(this.data.delete(i),c||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(t[s]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},LD=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ab=e=>LD.test(e)||e.startsWith("[")&&e.endsWith("]"),MD=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Xp=(e,t=!1)=>{if(!t)return MD.test(e);let r=e.split(".");for(let n of r)if(!Xp(n))return!1;return!0},Yp={},co="endpoints";function Nr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Nr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Nr).join(", ")})`:JSON.stringify(e,null,2)}var Ke=class extends Error{constructor(t){super(t),this.name="EndpointError"}},BD=(e,t)=>e===t,UD=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ke(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Ke(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},cb=(e,t)=>UD(t).reduce((r,n)=>{if(typeof r!="object")throw new Ke(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),FD=e=>e!=null,$D=e=>!e,Wp={[Kp.EndpointURLScheme.HTTP]:80,[Kp.EndpointURLScheme.HTTPS]:443},jD=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:E="",path:T="",query:I={}}=e,R=new URL(`${E}//${g}${h?`:${h}`:""}${T}`);return R.search=Object.entries(I).map(([D,B])=>`${D}=${B}`).join("&"),R}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:c}=t;if(c)return null;let d=i.slice(0,-1);if(!Object.values(Kp.EndpointURLScheme).includes(d))return null;let l=ab(s),m=r.includes(`${n}:${Wp[d]}`)||typeof e=="string"&&e.includes(`${n}:${Wp[d]}`),f=`${n}${m?`:${Wp[d]}`:""}`;return{scheme:d,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},zD=(e,t)=>e===t,qD=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),HD=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),VD={booleanEquals:BD,getAttr:cb,isSet:FD,isValidHostLabel:Xp,not:$D,parseURL:jD,stringEquals:zD,substring:qD,uriEncode:HD},db=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let c=e.substring(o+1,i);if(c.includes("#")){let[d,l]=c.split("#");r.push(cb(n[d],l))}else r.push(n[c]);s=i+1}return r.join("")},GD=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],_a=(e,t,r)=>{if(typeof e=="string")return db(e,r);if(e.fn)return ub.callFunction(e,r);if(e.ref)return GD(e,r);throw new Ke(`'${t}': ${String(e)} is not a string, function or reference.`)},lb=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:ub.evaluateExpression(o,"arg",r)),s=e.split(".");return s[0]in Yp&&s[1]!=null?Yp[s[0]][s[1]](...n):VD[e](...n)},ub={evaluateExpression:_a,callFunction:lb},WD=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ke(`'${e}' is already defined in Reference Record.`);let n=lb(t,r);return r.logger?.debug?.(`${co} evaluateCondition: ${Nr(t)} = ${Nr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Qp=(e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:o}=WD(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};o&&(r[o.name]=o.value,t.logger?.debug?.(`${co} assign: ${o.name} := ${Nr(o.value)}`))}return{result:!0,referenceRecord:r}},KD=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=_a(o,"Header value entry",t);if(typeof i!="string")throw new Ke(`Header '${n}' value '${i}' is not a string`);return i})}),{}),pb=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:fb.getEndpointProperty(s,t)}),{}),mb=(e,t)=>{if(Array.isArray(e))return e.map(r=>mb(r,t));switch(typeof e){case"string":return db(e,t);case"object":if(e===null)throw new Ke(`Unexpected endpoint property: ${e}`);return fb.getEndpointProperties(e,t);case"boolean":return e;default:throw new Ke(`Unexpected endpoint property type: ${typeof e}`)}},fb={getEndpointProperty:mb,getEndpointProperties:pb},JD=(e,t)=>{let r=_a(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ke(`Endpoint URL must be a string, got ${typeof r}`)},YD=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=Qp(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:c,properties:d,headers:l}=n;return t.logger?.debug?.(`${co} Resolving endpoint from template: ${Nr(n)}`),{...l!=null&&{headers:KD(l,i)},...d!=null&&{properties:pb(d,i)},url:JD(c,i)}},XD=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=Qp(r,t);if(s)throw new Ke(_a(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},hb=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=YD(r,t);if(n)return n}else if(r.type==="error")XD(r,t);else if(r.type==="tree"){let n=gb.evaluateTreeRule(r,t);if(n)return n}else throw new Ke(`Unknown endpoint rule: ${r}`);throw new Ke("Rules evaluation failed")},QD=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=Qp(r,t);if(s)return gb.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},gb={evaluateRules:hb,evaluateTreeRule:QD},ZD=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${co} Initial EndpointParams: ${Nr(r)}`);let i=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,m])=>[l,m.default]);if(i.length>0)for(let[l,m]of i)r[l]=r[l]??m;let c=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of c)if(r[l]==null)throw new Ke(`Missing required parameter: '${l}'`);let d=hb(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${co} Resolved endpoint: ${Nr(d)}`),d};bn.EndpointCache=Jp;bn.EndpointError=Ke;bn.customEndpointFunctions=Yp;bn.isIpAddress=ab;bn.isValidHostLabel=Xp;bn.resolveEndpoint=ZD});var Eb=N(yb=>{"use strict";function eO(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}yb.parseQueryString=eO});var vr=N(bb=>{"use strict";var tO=Eb(),Sb=e=>{if(typeof e=="string")return Sb(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=tO.parseQueryString(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};bb.parseUrl=Sb});var Xn=N(Rt=>{"use strict";var Yn=_n(),rO=vr(),wb=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!wb(r))return!1;return!0}return!(!Yn.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Yn.isIpAddress(e))},_b=":",nO="/",sO=e=>{let t=e.split(_b);if(t.length<6)return null;let[r,n,s,o,i,...c]=t;if(r!=="arn"||n===""||s===""||c.join(_b)==="")return null;let d=c.map(l=>l.split(nO)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:d}},oO=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],iO="1.1",xb={partitions:oO,version:iO},Tb=xb,Cb="",Ib=e=>{let{partitions:t}=Tb;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,c]of Object.entries(s))if(i===e)return{...o,...c}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Ab=(e,t="")=>{Tb=e,Cb=t},aO=()=>{Ab(xb,"")},cO=()=>Cb,Rb={isVirtualHostableS3Bucket:wb,parseArn:sO,partition:Ib};Yn.customEndpointFunctions.aws=Rb;var dO=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Pb(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},Pb=e=>rO.parseUrl(e.url);Object.defineProperty(Rt,"EndpointError",{enumerable:!0,get:function(){return Yn.EndpointError}});Object.defineProperty(Rt,"isIpAddress",{enumerable:!0,get:function(){return Yn.isIpAddress}});Object.defineProperty(Rt,"resolveEndpoint",{enumerable:!0,get:function(){return Yn.resolveEndpoint}});Rt.awsEndpointFunctions=Rb;Rt.getUserAgentPrefix=cO;Rt.partition=Ib;Rt.resolveDefaultAwsRegionalEndpointsConfig=dO;Rt.setPartitionInfo=Ab;Rt.toEndpointV1=Pb;Rt.useDefaultPartitionInfo=aO});var wa,Qn,Nb=w(()=>{wa={warningEmitted:!1},Qn=e=>{e&&!wa.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(wa.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Dr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var vb=w(()=>{});function Db(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Ob=w(()=>{});function kb(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Lb=w(()=>{});var Or={};pt(Or,{emitWarningIfUnsupportedVersion:()=>Qn,setCredentialFeature:()=>Dr,setFeature:()=>Db,setTokenFeature:()=>kb,state:()=>wa});var Pt=w(()=>{Nb();vb();Ob();Lb()});var Mb,Zp,Bb=w(()=>{Mb=C(Se()),Zp=e=>Mb.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var Zn,em=w(()=>{Zn=e=>new Date(Date.now()+e)});var Ub,Fb=w(()=>{em();Ub=(e,t)=>Math.abs(Zn(t).getTime()-e)>=3e5});var tm,$b=w(()=>{Fb();tm=(e,t)=>{let r=Date.parse(e);return Ub(r,t)?r-Date.now():t}});var rm=w(()=>{Bb();em();$b()});var jb,lo,es,dt,nm,sm=w(()=>{jb=C(Se());rm();lo=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},es=async e=>{let t=lo("context",e.context),r=lo("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await lo("signer",r.signer)(n),i=e?.signingRegion,c=e?.signingRegionSet,d=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:c,signingName:d}},dt=class{async sign(t,r,n){if(!jb.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await es(n),{config:o,signer:i}=s,{signingRegion:c,signingName:d}=s,l=n.context;if(l?.authSchemes?.length??!1){let[f,g]=l.authSchemes;f?.name==="sigv4a"&&g?.name==="sigv4"&&(c=g?.signingRegion??c,d=g?.signingName??d)}return await i.sign(t,{signingDate:Zn(o.systemClockOffset),signingRegion:c,signingService:d})}errorHandler(t){return r=>{let n=r.ServerTime??Zp(r.$response);if(n){let s=lo("config",t.config),o=s.systemClockOffset;s.systemClockOffset=tm(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Zp(t);if(n){let s=lo("config",r.config);s.systemClockOffset=tm(n,s.systemClockOffset)}}},nm=dt});var zb,uo,qb=w(()=>{zb=C(Se());rm();sm();uo=class extends dt{async sign(t,r,n){if(!zb.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:c,signingName:d}=await es(n),m=(await s.sigv4aSigningRegionSet?.()??c??[i]).join(",");return await o.sign(t,{signingDate:Zn(s.systemClockOffset),signingRegion:m,signingService:d})}}});var om,Hb=w(()=>{om=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var xa,im=w(()=>{xa=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Vb,Gb,ts,Wb=w(()=>{Hb();im();Vb="AWS_AUTH_SCHEME_PREFERENCE",Gb="auth_scheme_preference",ts={environmentVariableSelector:(e,t)=>{if(t?.signingName&&xa(t.signingName)in e)return["httpBearerAuth"];if(Vb in e)return om(e[Vb])},configFileSelector:e=>{if(Gb in e)return om(e[Gb])},default:[]}});var nt=N(wn=>{"use strict";var rs=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},am=class e extends rs{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},cm=class e extends rs{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},lO=(...e)=>async()=>{if(e.length===0)throw new rs("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},uO=e=>()=>Promise.resolve(e),pO=(e,t,r)=>{let n,s,o,i=!1,c=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async d=>((!o||d?.forceRefresh)&&(n=await c()),n):async d=>((!o||d?.forceRefresh)&&(n=await c()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await c(),n))};wn.CredentialsProviderError=am;wn.ProviderError=rs;wn.TokenProviderError=cm;wn.chain=lO;wn.fromStatic=uO;wn.memoize=pO});var dm,Kb,Jb,Yb=w(()=>{ct();dm=C(nt()),Kb=e=>(e.sigv4aSigningRegionSet=Ar(e.sigv4aSigningRegionSet),e),Jb={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new dm.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new dm.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var b_=N(re=>{"use strict";var kr=tp(),xn=ze(),mO=Nu(),e_=Se(),Xb=Ze(),Ta=qu(),t_="X-Amz-Algorithm",r_="X-Amz-Credential",hm="X-Amz-Date",n_="X-Amz-SignedHeaders",s_="X-Amz-Expires",gm="X-Amz-Signature",ym="X-Amz-Security-Token",fO="X-Amz-Region-Set",Em="authorization",Sm=hm.toLowerCase(),o_="date",i_=[Em,Sm,o_],a_=gm.toLowerCase(),Pa="x-amz-content-sha256",c_=ym.toLowerCase(),hO="host",d_={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},l_=/^proxy-/,u_=/^sec-/,gO=[/^proxy-/i,/^sec-/i],Ca="AWS4-HMAC-SHA256",yO="AWS4-ECDSA-P256-SHA256",p_="AWS4-HMAC-SHA256-PAYLOAD",m_="UNSIGNED-PAYLOAD",f_=50,bm="aws4_request",h_=3600*24*7,ns={},Ia=[],Aa=(e,t,r)=>`${e}/${t}/${r}/${bm}`,g_=async(e,t,r,n,s)=>{let o=await Qb(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${kr.toHex(o)}:${t.sessionToken}`;if(i in ns)return ns[i];for(Ia.push(i);Ia.length>f_;)delete ns[Ia.shift()];let c=`AWS4${t.secretAccessKey}`;for(let d of[r,n,s,bm])c=await Qb(e,c,d);return ns[i]=c},EO=()=>{Ia.length=0,Object.keys(ns).forEach(e=>{delete ns[e]})},Qb=(e,t,r)=>{let n=new e(t);return n.update(xn.toUint8Array(r)),n.digest()},lm=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in d_||t?.has(o)||l_.test(o)||u_.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},Ra=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Pa)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||mO.isArrayBuffer(t)){let n=new r;return n.update(xn.toUint8Array(t)),kr.toHex(await n.digest())}return m_},um=class{format(t){let r=[];for(let o of Object.keys(t)){let i=xn.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let c=xn.fromUtf8(t.value),d=new DataView(new ArrayBuffer(3+c.byteLength));d.setUint8(0,7),d.setUint16(1,c.byteLength,!1);let l=new Uint8Array(d.buffer);return l.set(c,3),l;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(pm.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!SO.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(kr.fromHex(t.value.replace(/\-/g,"")),1),f}}},SO=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,pm=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&Zb(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Zb(t),parseInt(kr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Zb(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var y_=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},E_=(e,t={})=>{let{headers:r,query:n={}}=e_.HttpRequest.clone(e);for(let s of Object.keys(r)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},mm=e=>{e=e_.HttpRequest.clone(e);for(let t of Object.keys(e.headers))i_.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},S_=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===a_)continue;let s=Ta.escapeUri(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${Ta.escapeUri(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,c)=>i.concat([`${s}=${Ta.escapeUri(c)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},bO=e=>_O(e).toISOString().replace(/\.\d{3}Z$/,"Z"),_O=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Na=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Xb.normalizeProvider(n),this.credentialProvider=Xb.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${S_(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let o=new this.sha256;o.update(xn.toUint8Array(n));let i=await o.digest();return`${s}
${t}
${r}
${kr.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Ta.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=bO(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},fm=class extends Na{headerFormatter=new um;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:c,hoistableHeaders:d,signingRegion:l,signingService:m}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let g=l??await this.regionProvider(),{longDate:h,shortDate:E}=this.formatDate(n);if(s>h_)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let T=Aa(E,g,m??this.service),I=E_(mm(t),{unhoistableHeaders:i,hoistableHeaders:d});f.sessionToken&&(I.query[ym]=f.sessionToken),I.query[t_]=Ca,I.query[r_]=`${f.accessKeyId}/${T}`,I.query[hm]=h,I.query[s_]=s.toString(10);let R=lm(I,o,c);return I.query[n_]=this.getCanonicalHeaderList(R),I.query[gm]=await this.getSignature(h,T,this.getSigningKey(f,g,E,m),this.createCanonicalRequest(I,R,await Ra(t,this.sha256))),I}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let c=o??await this.regionProvider(),{shortDate:d,longDate:l}=this.formatDate(n),m=Aa(d,c,i??this.service),f=await Ra({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=kr.toHex(await g.digest()),E=[p_,l,m,s,h,f].join(`
`);return this.signString(E,{signingDate:n,signingRegion:c,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:c}=this.formatDate(r),d=new this.sha256(await this.getSigningKey(o,i,c,s));return d.update(xn.toUint8Array(t)),kr.toHex(await d.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let c=await this.credentialProvider();this.validateResolvedCredentials(c);let d=o??await this.regionProvider(),l=mm(t),{longDate:m,shortDate:f}=this.formatDate(r),g=Aa(f,d,i??this.service);l.headers[Sm]=m,c.sessionToken&&(l.headers[c_]=c.sessionToken);let h=await Ra(l,this.sha256);!y_(Pa,l.headers)&&this.applyChecksum&&(l.headers[Pa]=h);let E=lm(l,s,n),T=await this.getSignature(m,g,this.getSigningKey(c,d,f,i),this.createCanonicalRequest(l,E,h));return l.headers[Em]=`${Ca} Credential=${c.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${T}`,l}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s,Ca),i=new this.sha256(await n);return i.update(xn.toUint8Array(o)),kr.toHex(await i.digest())}getSigningKey(t,r,n,s){return g_(this.sha256,t,n,r,s||this.service)}},wO={SignatureV4a:null};re.ALGORITHM_IDENTIFIER=Ca;re.ALGORITHM_IDENTIFIER_V4A=yO;re.ALGORITHM_QUERY_PARAM=t_;re.ALWAYS_UNSIGNABLE_HEADERS=d_;re.AMZ_DATE_HEADER=Sm;re.AMZ_DATE_QUERY_PARAM=hm;re.AUTH_HEADER=Em;re.CREDENTIAL_QUERY_PARAM=r_;re.DATE_HEADER=o_;re.EVENT_ALGORITHM_IDENTIFIER=p_;re.EXPIRES_QUERY_PARAM=s_;re.GENERATED_HEADERS=i_;re.HOST_HEADER=hO;re.KEY_TYPE_IDENTIFIER=bm;re.MAX_CACHE_SIZE=f_;re.MAX_PRESIGNED_TTL=h_;re.PROXY_HEADER_PATTERN=l_;re.REGION_SET_PARAM=fO;re.SEC_HEADER_PATTERN=u_;re.SHA256_HEADER=Pa;re.SIGNATURE_HEADER=a_;re.SIGNATURE_QUERY_PARAM=gm;re.SIGNED_HEADERS_QUERY_PARAM=n_;re.SignatureV4=fm;re.SignatureV4Base=Na;re.TOKEN_HEADER=c_;re.TOKEN_QUERY_PARAM=ym;re.UNSIGNABLE_PATTERNS=gO;re.UNSIGNED_PAYLOAD=m_;re.clearCredentialCache=EO;re.createScope=Aa;re.getCanonicalHeaders=lm;re.getCanonicalQuery=S_;re.getPayloadHash=Ra;re.getSigningKey=g_;re.hasHeader=y_;re.moveHeadersToQuery=E_;re.prepareRequest=mm;re.signatureV4aContainer=wO});function xO(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=Gp(t,Vp,ba):r?n=Ar(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function TO(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var _m,Tn,__,w_=w(()=>{Pt();ct();_m=C(b_()),Tn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let m=xO(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=TO(e,m);r&&!f.attributed?(n=async g=>f(g).then(h=>Dr(h,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,c;return e.signer?c=Ar(e.signer):e.regionInfoProvider?c=()=>Ar(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,m])=>{let{signingRegion:f,signingService:g}=l;e.signingRegion=e.signingRegion||f||m,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},E=e.signerConstructor||_m.SignatureV4;return new E(h)}):c=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Ar(e.region)(),properties:{}},l);let m=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||f||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},h=e.signerConstructor||_m.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:c})},__=Tn});var x_=w(()=>{sm();qb();Wb();Yb();w_()});var T_={};pt(T_,{AWSSDKSigV4Signer:()=>nm,AwsSdkSigV4ASigner:()=>uo,AwsSdkSigV4Signer:()=>dt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ts,NODE_SIGV4A_CONFIG_OPTIONS:()=>Jb,getBearerTokenEnvKey:()=>xa,resolveAWSSDKSigV4Config:()=>__,resolveAwsSdkSigV4AConfig:()=>Kb,resolveAwsSdkSigV4Config:()=>Tn,validateSigningProperties:()=>es});var wm=w(()=>{x_();im()});function Lr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function va(e){return e[xm]=!0,e}var xm,Da=w(()=>{xm=Symbol("@smithy/core/cbor::tagSymbol")});function A_(e){be=e,ir=new DataView(be.buffer,be.byteOffset,be.byteLength)}function Ft(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(be[e]&224)>>5,n=be[e]&31;switch(r){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=P_[n],c=i+1;if(o=c,t-e<c)throw new Error(`countLength ${i} greater than remaining buf len.`);let d=e+1;i===1?s=be[d]:i===2?s=ir.getUint16(d):i===4?s=ir.getUint32(d):s=ir.getBigUint64(d);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ie=o,Tm(s);if(r===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,ie=o,Tm(i)}else if(n===2||n===3){let i=ho(e+o,t),c=BigInt(0),d=e+o+ie;for(let l=d;l<d+i;++l)c=c<<BigInt(8)|BigInt(be[l]);return ie=o+ie+i,n===3?-c-BigInt(1):c}else if(n===4){let i=Ft(e+o,t),[c,d]=i,l=d<0?-1:1,m="0".repeat(Math.abs(c)+1)+String(BigInt(l)*BigInt(d)),f,g=d<0?"-":"";return f=c===0?m:m.slice(0,m.length+c)+"."+m.slice(c),f=f.replace(/^0+/g,""),f===""&&(f="0"),f[0]==="."&&(f="0"+f),f=g+f,ie=o+ie,kp(f)}else{let i=Ft(e+o,t);return ie=o+ie,va({tag:Tm(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return vO(e,t);case 5:return MO(e,t);case 4:return kO(e,t);case 2:return DO(e,t)}else switch(r){case 3:return NO(e,t);case 5:return LO(e,t);case 4:return OO(e,t);case 2:return Nm(e,t)}default:return BO(e,t)}}function R_(e,t,r){return AO&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):C_?C_.decode(e.subarray(t,r)):(0,I_.toUtf8)(e.subarray(t,r))}function RO(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function PO(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,o=r===0?1:-1,i,c;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),c=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),c=1}return c+=s/1024,o*(i*c)}function ho(e,t){let r=be[e]&31;if(r<24)return ie=1,r;if(r===24||r===25||r===26||r===27){let n=P_[r];if(ie=n+1,t-e<ie)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?be[s]:n===2?ir.getUint16(s):n===4?ir.getUint32(s):RO(ir.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function NO(e,t){let r=ho(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=R_(be,e,e+r);return ie=n+r,s}function vO(e,t){e+=1;let r=[];for(let n=e;e<t;){if(be[e]===255){let d=Lr(r.length);return d.set(r,0),ie=e-n+2,R_(d,0,d.length)}let s=(be[e]&224)>>5,o=be[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Nm(e,t);e+=ie;for(let d=0;d<i.length;++d)r.push(i[d])}throw new Error("expected break marker.")}function Nm(e,t){let r=ho(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=be.subarray(e,e+r);return ie=n+r,s}function DO(e,t){e+=1;let r=[];for(let n=e;e<t;){if(be[e]===255){let d=Lr(r.length);return d.set(r,0),ie=e-n+2,d}let s=(be[e]&224)>>5,o=be[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Nm(e,t);e+=ie;for(let d=0;d<i.length;++d)r.push(i[d])}throw new Error("expected break marker.")}function OO(e,t){let r=ho(e,t),n=ie;e+=n;let s=e,o=Array(r);for(let i=0;i<r;++i){let c=Ft(e,t),d=ie;o[i]=c,e+=d}return ie=n+(e-s),o}function kO(e,t){e+=1;let r=[];for(let n=e;e<t;){if(be[e]===255)return ie=e-n+2,r;let s=Ft(e,t);e+=ie,r.push(s)}throw new Error("expected break marker.")}function LO(e,t){let r=ho(e,t),n=ie;e+=n;let s=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let c=(be[e]&224)>>5;if(c!==3)throw new Error(`unexpected major type ${c} for map key at index ${e}.`);let d=Ft(e,t);e+=ie;let l=Ft(e,t);e+=ie,o[d]=l}return ie=n+(e-s),o}function MO(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(be[e]===255)return ie=e-r+2,n;let s=(be[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Ft(e,t);e+=ie;let i=Ft(e,t);e+=ie,n[o]=i}throw new Error("expected break marker.")}function BO(e,t){let r=be[e]&31;switch(r){case 21:case 20:return ie=1,r===21;case 22:return ie=1,null;case 23:return ie=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ie=3,PO(be[e+1],be[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ie=5,ir.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ie=9,ir.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Tm(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var I_,IO,AO,be,ir,C_,ie,P_,N_=w(()=>{it();I_=C(ze());Da();IO=typeof TextDecoder<"u",AO=typeof Buffer<"u",be=Lr(0),ir=new DataView(be.buffer,be.byteOffset,be.byteLength),C_=IO?new TextDecoder:null,ie=0;P_={24:1,25:2,26:4,27:8}});function Dm(e){Q.byteLength-K<e&&(K<16e6?ka(Math.max(Q.byteLength*4,Q.byteLength+e)):ka(Q.byteLength+e+16e6))}function Om(){let e=Lr(K);return e.set(Q.subarray(0,K),0),K=0,e}function ka(e){let t=Q;Q=Lr(e),t&&(t.copy?t.copy(Q,0,0,t.byteLength):Q.set(t,0)),dr=new DataView(Q.buffer,Q.byteOffset,Q.byteLength)}function cr(e,t){t<24?Q[K++]=e<<5|t:t<256?(Q[K++]=e<<5|24,Q[K++]=t):t<65536?(Q[K++]=e<<5|25,dr.setUint16(K,t),K+=2):t<2**32?(Q[K++]=e<<5|26,dr.setUint32(K,t),K+=4):(Q[K++]=e<<5|27,dr.setBigUint64(K,typeof t=="bigint"?t:BigInt(t)),K+=8)}function O_(e){let t=[e];for(;t.length;){let r=t.pop();if(Dm(typeof r=="string"?r.length*4:64),typeof r=="string"){if(v_)cr(3,Buffer.byteLength(r)),K+=Q.write(r,K);else{let n=(0,D_.fromUtf8)(r);cr(3,n.byteLength),Q.set(n,K),K+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,o=n?r:-r-1;o<24?Q[K++]=s<<5|o:o<256?(Q[K++]=s<<5|24,Q[K++]=o):o<65536?(Q[K++]=s<<5|25,Q[K++]=o>>8,Q[K++]=o):o<4294967296?(Q[K++]=s<<5|26,dr.setUint32(K,o),K+=4):(Q[K++]=s<<5|27,dr.setBigUint64(K,BigInt(o)),K+=8);continue}Q[K++]=251,dr.setFloat64(K,r),K+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,o=n?r:-r-BigInt(1),i=Number(o);if(i<24)Q[K++]=s<<5|i;else if(i<256)Q[K++]=s<<5|24,Q[K++]=i;else if(i<65536)Q[K++]=s<<5|25,Q[K++]=i>>8,Q[K++]=i&255;else if(i<4294967296)Q[K++]=s<<5|26,dr.setUint32(K,i),K+=4;else if(o<BigInt("18446744073709551616"))Q[K++]=s<<5|27,dr.setBigUint64(K,o),K+=8;else{let c=o.toString(2),d=new Uint8Array(Math.ceil(c.length/8)),l=o,m=0;for(;d.byteLength-++m>=0;)d[d.byteLength-m]=Number(l&BigInt(255)),l>>=BigInt(8);Dm(d.byteLength*2),Q[K++]=n?194:195,v_?cr(2,Buffer.byteLength(d)):cr(2,d.byteLength),Q.set(d,K),K+=d.byteLength}continue}else if(r===null){Q[K++]=246;continue}else if(typeof r=="boolean"){Q[K++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);cr(4,r.length);continue}else if(typeof r.byteLength=="number"){Dm(r.length*2),cr(2,r.length),Q.set(r,K),K+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof xe){let s=r.string.indexOf("."),o=s===-1?0:s-r.string.length+1,i=BigInt(r.string.replace(".",""));Q[K++]=196,t.push(i),t.push(o),cr(4,2);continue}if(r[xm])if("tag"in r&&"value"in r){t.push(r.value),cr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let o=n[s];t.push(r[o]),t.push(o)}cr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var D_,v_,UO,Q,dr,K,k_=w(()=>{it();D_=C(ze());Da();v_=typeof Buffer<"u",UO=2048,Q=Lr(UO),dr=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),K=0});var km,L_=w(()=>{N_();k_();km={deserialize(e){return A_(e),Ft(0,e.length)},serialize(e){try{return O_(e),Om()}catch(t){throw Om(),t}},resizeEncodingBuffer(e){ka(e)}}});var La,Ma,Ba=w(()=>{Da();La=e=>va({tag:1,value:e.getTime()/1e3}),Ma=(e,t)=>{let r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var Bm,Ua,Lm,Mm,Um=w(()=>{at();Ce();it();Bm=C(qe());L_();Ba();Ua=class extends rt{createSerializer(){let t=new Lm;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Mm;return t.setSerdeContext(this.serdeContext),t}},Lm=class extends rt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=W.of(t);if(r==null)return n.isIdempotencyToken()?(0,Et.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Bm.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?La(new Date(Number(r)/1e3|0)):La(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let i=!!n.getMergedTraits().sparse,c=[],d=0;for(let l of s){let m=this.serialize(n.getValueSchema(),l);(m!=null||i)&&(c[d++]=m)}return c}if(s instanceof Date)return La(s);let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let c of Object.keys(s)){let d=this.serialize(n.getValueSchema(),s[c]);(d!=null||i)&&(o[c]=d)}}else if(n.isStructSchema())for(let[i,c]of n.structIterator()){let d=this.serialize(c,s[i]);d!=null&&(o[i]=d)}else if(n.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(n.getValueSchema(),s[i]);return o}return r}flush(){let t=km.serialize(this.value);return this.value=void 0,t}},Mm=class extends rt{read(t,r){let n=km.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=W.of(t);if(n.isTimestampSchema()&&typeof r=="number")return so(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??Bm.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let o=[],i=n.getValueSchema(),c=!!n.getMergedTraits().sparse;for(let d of r){let l=this.readValue(i,d);(l!=null||c)&&o.push(l)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let c of Object.keys(r)){let d=this.readValue(i,r[c]);(d!=null||o)&&(s[c]=d)}}else if(n.isStructSchema())for(let[o,i]of n.structIterator()){let c=this.readValue(i,r[o]);c!=null&&(s[o]=c)}return s}else return r}}});var M_,Fa,B_=w(()=>{at();Ce();M_=C(Ze());Um();Ba();Fa=class extends nr{codec=new Ua;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),At(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,M_.getSmithyContext)(n),c=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=c.slice(1):s.path+=c,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=Ma(n,s)??"Unknown",c=this.options.defaultNamespace;i.includes("#")&&([c]=i.split("#"));let d={$metadata:o,$fault:n.statusCode<=500?"client":"server"},l=Be.for(c),m;try{m=l.getSchema(i)}catch{s.Message&&(s.message=s.Message);let R=Be.for("smithy.ts.sdk.synthetic."+c),D=R.getBaseException();if(D){let B=R.getErrorCtor(D);throw Object.assign(new B({name:i}),d,s)}throw Object.assign(new Error(i),d,s)}let f=W.of(m),g=l.getErrorCtor(m),h=s.message??s.Message??"Unknown",E=new g(h),T={};for(let[I,R]of f.structIterator())T[I]=this.deserializer.readValue(R,s[I]);throw Object.assign(E,d,{$fault:f.getMergedTraits().error,message:h},T)}getDefaultContentType(){return"application/cbor"}}});var U_=w(()=>{Ba();B_();Um()});var St,os=w(()=>{Ce();St=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:c,httpQueryParams:d,httpHeader:l,httpLabel:m,httpPrefixHeaders:f}=i.getMergedTraits();return!c&&!d&&!l&&!m&&f===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,o,i){let c=r,d=t;t.includes("#")&&([c,d]=t.split("#"));let l={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},m=Be.for(c);try{return{errorSchema:i?.(m,d)??m.getSchema(t),errorMetadata:l}}catch{s.message=s.message??s.Message??"UnknownError";let g=Be.for("smithy.ts.sdk.synthetic."+c),h=g.getBaseException();if(h){let E=g.getErrorCtor(h)??Error;throw Object.assign(new E({name:d}),l,s)}throw Object.assign(new Error(d),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,o]=n.split(";"),i=Object.entries(t),c={Code:s,Type:o};Object.assign(t,c);for(let[d,l]of i)c[d]=l;delete c.__type,t.Error=c}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Fm,F_=w(()=>{U_();Ce();os();Fm=class extends Fa{awsQueryCompatible;mixin=new St;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=Ma(n,s)??"Unknown",{errorSchema:c,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(c),m=s.message??s.Message??"Unknown",f=Be.for(c[1]).getErrorCtor(c)??Error,g=new f(m),h={};for(let[E,T]of l.structIterator())h[E]=this.deserializer.readValue(T,s[E]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(g,d,{$fault:l.getMergedTraits().error,message:m},h)}}});var FO,$O,jO,$_=w(()=>{FO=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},$O=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},jO=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Je,Fr=w(()=>{Je=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function j_(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new xe(n,"bigDecimal"):BigInt(n)}return t}var z_=w(()=>{it()});var G_=N(V_=>{"use strict";var Cn=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},$r=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,$m=()=>{let e=[],t=[],r=!1,n=new Set,s=f=>f.sort((g,h)=>q_[h.step]-q_[g.step]||H_[h.priority||"normal"]-H_[g.priority||"normal"]),o=f=>{let g=!1,h=E=>{let T=Cn(E.name,E.aliases);if(T.includes(f)){g=!0;for(let I of T)n.delete(I);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},i=f=>{let g=!1,h=E=>{if(E.middleware===f){g=!0;for(let T of Cn(E.name,E.aliases))n.delete(T);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},c=f=>(e.forEach(g=>{f.add(g.middleware,{...g})}),t.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),f.identifyOnResolve?.(m.identifyOnResolve()),f),d=f=>{let g=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...d(h))}),g.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...d(h))}),g},l=(f=!1)=>{let g=[],h=[],E={};return e.forEach(I=>{let R={...I,before:[],after:[]};for(let D of Cn(R.name,R.aliases))E[D]=R;g.push(R)}),t.forEach(I=>{let R={...I,before:[],after:[]};for(let D of Cn(R.name,R.aliases))E[D]=R;h.push(R)}),h.forEach(I=>{if(I.toMiddleware){let R=E[I.toMiddleware];if(R===void 0){if(f)return;throw new Error(`${I.toMiddleware} is not found when adding ${$r(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&R.after.push(I),I.relation==="before"&&R.before.push(I)}}),s(g).map(d).reduce((I,R)=>(I.push(...R),I),[])},m={add:(f,g={})=>{let{name:h,override:E,aliases:T}=g,I={step:"initialize",priority:"normal",middleware:f,...g},R=Cn(h,T);if(R.length>0){if(R.some(D=>n.has(D))){if(!E)throw new Error(`Duplicate middleware name '${$r(h,T)}'`);for(let D of R){let B=e.findIndex(ee=>ee.name===D||ee.aliases?.some(de=>de===D));if(B===-1)continue;let Y=e[B];if(Y.step!==I.step||I.priority!==Y.priority)throw new Error(`"${$r(Y.name,Y.aliases)}" middleware with ${Y.priority} priority in ${Y.step} step cannot be overridden by "${$r(h,T)}" middleware with ${I.priority} priority in ${I.step} step.`);e.splice(B,1)}}for(let D of R)n.add(D)}e.push(I)},addRelativeTo:(f,g)=>{let{name:h,override:E,aliases:T}=g,I={middleware:f,...g},R=Cn(h,T);if(R.length>0){if(R.some(D=>n.has(D))){if(!E)throw new Error(`Duplicate middleware name '${$r(h,T)}'`);for(let D of R){let B=t.findIndex(ee=>ee.name===D||ee.aliases?.some(de=>de===D));if(B===-1)continue;let Y=t[B];if(Y.toMiddleware!==I.toMiddleware||Y.relation!==I.relation)throw new Error(`"${$r(Y.name,Y.aliases)}" middleware ${Y.relation} "${Y.toMiddleware}" middleware cannot be overridden by "${$r(h,T)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);t.splice(B,1)}}for(let D of R)n.add(D)}t.push(I)},clone:()=>c($m()),use:f=>{f.applyToStack(m)},remove:f=>typeof f=="string"?o(f):i(f),removeByTag:f=>{let g=!1,h=E=>{let{tags:T,name:I,aliases:R}=E;if(T&&T.includes(f)){let D=Cn(I,R);for(let B of D)n.delete(B);return g=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),g},concat:f=>{let g=c($m());return g.use(f),g.identifyOnResolve(r||g.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),g},applyToStack:c,identify:()=>l(!0).map(f=>{let g=f.step??f.relation+" "+f.toMiddleware;return $r(f.name,f.aliases)+" - "+g}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,g)=>{for(let h of l().map(E=>E.middleware).reverse())f=h(f,g);return r&&console.log(m.identify()),f}};return m},q_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},H_={high:3,normal:2,low:1};V_.constructStack=$m});var ae=N(ge=>{"use strict";var J_=G_(),Jm=(at(),me(KS)),zm=Tr(),zO=(Ce(),me(jE)),W_=(it(),me(kS)),qm=class{config;middlewareStack=J_.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,c;if(i){this.handlers||(this.handlers=new WeakMap);let d=this.handlers;d.has(t.constructor)?c=d.get(t.constructor):(c=t.resolveMiddleware(this.middlewareStack,this.config,s),d.set(t.constructor,c))}else delete this.handlers,c=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)c(t).then(d=>o(null,d.output),d=>o(d)).catch(()=>{});else return c(t).then(d=>d.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},jm="***SensitiveInformation***";function Hm(e,t){if(t==null)return t;let r=zO.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return jm;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return jm}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return jm}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=Hm(i,n[o]));return s}return t}var $a=class{middlewareStack=J_.constructStack();schema;static classBuilder(){return new Vm}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:c,outputFilterSensitiveLog:d,smithyContext:l,additionalContext:m,CommandCtor:f}){for(let I of s.bind(this)(f,t,r,n))this.middlewareStack.use(I);let g=t.concat(this.middlewareStack),{logger:h}=r,E={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:c,outputFilterSensitiveLog:d,[zm.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...m},{requestHandler:T}=r;return g.resolve(I=>T.handle(I.request,n||{}),E)}},Vm=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends $a{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,o){let i=t._operationSchema,c=i?.[4]??i?.input,d=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?Hm.bind(null,c):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?Hm.bind(null,d):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},qO="***SensitiveInformation***",HO=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(i,c,d){let l=new n(i);if(typeof c=="function")this.send(l,c);else if(typeof d=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(l,c||{},d)}else return this.send(l,c)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},Gm=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},Y_=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},X_=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=GO(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw Y_(i,t)},VO=e=>({output:t,parsedBody:r,errorCode:n})=>{X_({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},GO=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),WO=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},K_=!1,KO=e=>{e&&!K_&&parseInt(e.substring(1,e.indexOf(".")))<16&&(K_=!0)},JO=e=>{let t=[];for(let r in zm.AlgorithmId){let n=zm.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},YO=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},XO=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),QO=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},Q_=e=>Object.assign(JO(e),XO(e)),ZO=Q_,ek=e=>Object.assign(YO(e),QO(e)),tk=e=>Array.isArray(e)?e:[e],Z_=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Z_(e[r]));return e},rk=e=>e!=null,Wm=class{trace(){}debug(){}info(){}warn(){}error(){}};function ew(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,ok(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}tw(n,null,o,i)}return n}var nk=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},sk=(e,t)=>{let r={};for(let n in t)tw(r,e,t,n);return r},ok=(e,t,r)=>ew(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),tw=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[c=ik,d=ak,l=n]=i;(typeof c=="function"&&c(t[l])||typeof c!="function"&&c)&&(e[n]=d(t[l]));return}let[s,o]=r[n];if(typeof o=="function"){let i,c=s===void 0&&(i=o())!=null,d=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;c?e[n]=i:d&&(e[n]=o())}else{let i=s===void 0&&o!=null,c=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||c)&&(e[n]=o)}},ik=e=>e!=null,ak=e=>e,ck=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},dk=e=>e.toISOString().replace(".000Z","Z"),Km=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Km);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Km(e[r]));return t}return e};Object.defineProperty(ge,"collectBody",{enumerable:!0,get:function(){return Jm.collectBody}});Object.defineProperty(ge,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Jm.extendedEncodeURIComponent}});Object.defineProperty(ge,"resolvedPath",{enumerable:!0,get:function(){return Jm.resolvedPath}});ge.Client=qm;ge.Command=$a;ge.NoOpLogger=Wm;ge.SENSITIVE_STRING=qO;ge.ServiceException=Gm;ge._json=Km;ge.convertMap=nk;ge.createAggregatedClient=HO;ge.decorateServiceException=Y_;ge.emitWarningIfUnsupportedVersion=KO;ge.getArrayIfSingleItem=tk;ge.getDefaultClientConfiguration=ZO;ge.getDefaultExtensionConfiguration=Q_;ge.getValueFromTextNode=Z_;ge.isSerializableHeaderValue=rk;ge.loadConfigsForDefaultMode=WO;ge.map=ew;ge.resolveDefaultRuntimeConfig=ek;ge.serializeDateTime=dk;ge.serializeFloat=ck;ge.take=sk;ge.throwDefaultError=X_;ge.withBaseException=VO;Object.keys(W_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ge,e)&&Object.defineProperty(ge,e,{enumerable:!0,get:function(){return W_[e]}})})});var rw,nw,ja,Ym=w(()=>{rw=C(ae()),nw=C(ze()),ja=(e,t)=>(0,rw.collectBody)(e,t).then(r=>(t?.utf8Encoder??nw.toUtf8)(r))});var is,Xm,In,go=w(()=>{Ym();is=(e,t)=>ja(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Xm=async(e,t)=>{let r=await is(e,t);return r.message=r.message??r.Message,r},In=(e,t)=>{let r=(o,i)=>Object.keys(o).find(c=>c.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var sw,yo,Qm=w(()=>{at();Ce();it();sw=C(qe());Fr();z_();go();yo=class extends Je{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,j_):await is(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=W.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),c=[],d=!!s.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&c.push(this._read(i,l));return c}else if(s.isMapSchema()&&n){let i=s.getValueSchema(),c={},d=!!s.getMergedTraits().sparse;for(let[l,m]of Object.entries(r))(d||m!=null)&&(c[l]=this._read(i,m));return c}else if(s.isStructSchema()&&n){let i={};for(let[c,d]of s.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??c:c,m=this._read(d,r[l]);m!=null&&(i[c]=m)}return i}if(s.isBlobSchema()&&typeof r=="string")return(0,sw.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return tt.from(r);if(s.isTimestampSchema()&&r!=null)switch(mt(s,this.settings)){case 5:return _p(r);case 6:return wp(r);case 7:return xp(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof xe)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new xe(i.string,i.type):new xe(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[c,d]of Object.entries(r))d instanceof xe?i[c]=d:i[c]=this._read(s,d);return i}else return structuredClone(r);return r}}});var ow,za,iw=w(()=>{it();ow="\u039D",za=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof xe){let n=`${ow+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${ow+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var aw,Eo,Zm=w(()=>{at();Ce();it();aw=C(qe());Fr();iw();Eo=class extends Je{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=W.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=W.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new za;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",o=W.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),c=[],d=!!o.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&c.push(this._write(i,l));return c}else if(o.isMapSchema()&&s){let i=o.getValueSchema(),c={},d=!!o.getMergedTraits().sparse;for(let[l,m]of Object.entries(r))(d||m!=null)&&(c[l]=this._write(i,m));return c}else if(o.isStructSchema()&&s){let i={};for(let[c,d]of o.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??c:c,m=this._write(d,r[c],o);m!==void 0&&(i[l]=m)}return i}if(!(r===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||o.isDocumentSchema()&&r instanceof Uint8Array)return o===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,aw.toBase64)(r);if((o.isTimestampSchema()||o.isDocumentSchema())&&r instanceof Date)switch(mt(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return to(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(o.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,Et.v4)();let i=o.getMergedTraits().mediaType;if(r!=null&&i&&(i==="application/json"||i.endsWith("+json")))return tt.from(r)}if(o.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[c,d]of Object.entries(r))d instanceof xe?i[c]=d:i[c]=this._write(o,d);return i}else return structuredClone(r);return r}}}});var An,qa=w(()=>{Fr();Qm();Zm();An=class extends Je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Eo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new yo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Rn,Ha=w(()=>{at();Ce();os();qa();go();Rn=class extends nr{serializer;deserializer;serviceTarget;codec;mixin=new St;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new An({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(At(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=In(n,s)??"Unknown",{errorSchema:c,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(c),m=s.message??s.Message??"Unknown",f=Be.for(c[1]).getErrorCtor(c)??Error,g=new f(m),h={};for(let[E,T]of l.structIterator()){let I=T.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(T,s[I])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(g,d,{$fault:l.getMergedTraits().error,message:m},h)}}});var ef,cw=w(()=>{Ha();ef=class extends Rn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var tf,dw=w(()=>{Ha();tf=class extends Rn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var rf,lw=w(()=>{at();Ce();os();qa();go();rf=class extends hn{serializer;deserializer;codec;mixin=new St;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new An(r),this.serializer=new En(this.codec.createSerializer(),r),this.deserializer=new yn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=W.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(t,r,n,s,o){let i=In(n,s)??"Unknown",{errorSchema:c,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(c),m=s.message??s.Message??"Unknown",f=Be.for(c[1]).getErrorCtor(c)??Error,g=new f(m);await this.deserializeHttpMessage(c,r,n,s);let h={};for(let[E,T]of l.structIterator()){let I=T.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(T,s[I])}throw Object.assign(g,d,{$fault:l.getMergedTraits().error,message:m},h)}getDefaultContentType(){return"application/json"}}});var uw,lk,pw=w(()=>{uw=C(ae()),lk=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,uw.expectUnion)(e)}});var fw=N((v8,mw)=>{(()=>{"use strict";var e={d:(u,p)=>{for(var y in p)e.o(p,y)&&!e.o(u,y)&&Object.defineProperty(u,y,{enumerable:!0,get:p[y]})},o:(u,p)=>Object.prototype.hasOwnProperty.call(u,p),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>wr,XMLParser:()=>GP,XMLValidator:()=>eN});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,p){let y=[],_=p.exec(u);for(;_;){let S=[];S.startIndex=p.lastIndex-_[0].length;let b=_.length;for(let P=0;P<b;P++)S.push(_[P]);y.push(S),_=p.exec(u)}return y}let o=function(u){return n.exec(u)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function c(u,p){p=Object.assign({},i,p);let y=[],_=!1,S=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let b=0;b<u.length;b++)if(u[b]==="<"&&u[b+1]==="?"){if(b+=2,b=l(u,b),b.err)return b}else{if(u[b]!=="<"){if(d(u[b]))continue;return R("InvalidChar","char '"+u[b]+"' is not expected.",B(u,b))}{let P=b;if(b++,u[b]==="!"){b=m(u,b);continue}{let A=!1;u[b]==="/"&&(A=!0,b++);let v="";for(;b<u.length&&u[b]!==">"&&u[b]!==" "&&u[b]!=="	"&&u[b]!==`
`&&u[b]!=="\r";b++)v+=u[b];if(v=v.trim(),v[v.length-1]==="/"&&(v=v.substring(0,v.length-1),b--),!o(v)){let J;return J=v.trim().length===0?"Invalid space after '<'.":"Tag '"+v+"' is an invalid name.",R("InvalidTag",J,B(u,b))}let L=h(u,b);if(L===!1)return R("InvalidAttr","Attributes for '"+v+"' have open quote.",B(u,b));let Z=L.value;if(b=L.index,Z[Z.length-1]==="/"){let J=b-Z.length;Z=Z.substring(0,Z.length-1);let ue=T(Z,p);if(ue!==!0)return R(ue.err.code,ue.err.msg,B(u,J+ue.err.line));_=!0}else if(A){if(!L.tagClosed)return R("InvalidTag","Closing tag '"+v+"' doesn't have proper closing.",B(u,b));if(Z.trim().length>0)return R("InvalidTag","Closing tag '"+v+"' can't have attributes or invalid starting.",B(u,P));if(y.length===0)return R("InvalidTag","Closing tag '"+v+"' has not been opened.",B(u,P));{let J=y.pop();if(v!==J.tagName){let ue=B(u,J.tagStartPos);return R("InvalidTag","Expected closing tag '"+J.tagName+"' (opened in line "+ue.line+", col "+ue.col+") instead of closing tag '"+v+"'.",B(u,P))}y.length==0&&(S=!0)}}else{let J=T(Z,p);if(J!==!0)return R(J.err.code,J.err.msg,B(u,b-Z.length+J.err.line));if(S===!0)return R("InvalidXml","Multiple possible root nodes found.",B(u,b));p.unpairedTags.indexOf(v)!==-1||y.push({tagName:v,tagStartPos:P}),_=!0}for(b++;b<u.length;b++)if(u[b]==="<"){if(u[b+1]==="!"){b++,b=m(u,b);continue}if(u[b+1]!=="?")break;if(b=l(u,++b),b.err)return b}else if(u[b]==="&"){let J=I(u,b);if(J==-1)return R("InvalidChar","char '&' is not expected.",B(u,b));b=J}else if(S===!0&&!d(u[b]))return R("InvalidXml","Extra text at the end",B(u,b));u[b]==="<"&&b--}}}return _?y.length==1?R("InvalidTag","Unclosed tag '"+y[0].tagName+"'.",B(u,y[0].tagStartPos)):!(y.length>0)||R("InvalidXml","Invalid '"+JSON.stringify(y.map((b=>b.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):R("InvalidXml","Start tag expected.",1)}function d(u){return u===" "||u==="	"||u===`
`||u==="\r"}function l(u,p){let y=p;for(;p<u.length;p++)if(!(u[p]!="?"&&u[p]!=" ")){let _=u.substr(y,p-y);if(p>5&&_==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",B(u,p));if(u[p]=="?"&&u[p+1]==">"){p++;break}}return p}function m(u,p){if(u.length>p+5&&u[p+1]==="-"&&u[p+2]==="-"){for(p+=3;p<u.length;p++)if(u[p]==="-"&&u[p+1]==="-"&&u[p+2]===">"){p+=2;break}}else if(u.length>p+8&&u[p+1]==="D"&&u[p+2]==="O"&&u[p+3]==="C"&&u[p+4]==="T"&&u[p+5]==="Y"&&u[p+6]==="P"&&u[p+7]==="E"){let y=1;for(p+=8;p<u.length;p++)if(u[p]==="<")y++;else if(u[p]===">"&&(y--,y===0))break}else if(u.length>p+9&&u[p+1]==="["&&u[p+2]==="C"&&u[p+3]==="D"&&u[p+4]==="A"&&u[p+5]==="T"&&u[p+6]==="A"&&u[p+7]==="["){for(p+=8;p<u.length;p++)if(u[p]==="]"&&u[p+1]==="]"&&u[p+2]===">"){p+=2;break}}return p}let f='"',g="'";function h(u,p){let y="",_="",S=!1;for(;p<u.length;p++){if(u[p]===f||u[p]===g)_===""?_=u[p]:_!==u[p]||(_="");else if(u[p]===">"&&_===""){S=!0;break}y+=u[p]}return _===""&&{value:y,index:p,tagClosed:S}}let E=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function T(u,p){let y=s(u,E),_={};for(let S=0;S<y.length;S++){if(y[S][1].length===0)return R("InvalidAttr","Attribute '"+y[S][2]+"' has no space in starting.",Y(y[S]));if(y[S][3]!==void 0&&y[S][4]===void 0)return R("InvalidAttr","Attribute '"+y[S][2]+"' is without value.",Y(y[S]));if(y[S][3]===void 0&&!p.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+y[S][2]+"' is not allowed.",Y(y[S]));let b=y[S][2];if(!D(b))return R("InvalidAttr","Attribute '"+b+"' is an invalid name.",Y(y[S]));if(_.hasOwnProperty(b))return R("InvalidAttr","Attribute '"+b+"' is repeated.",Y(y[S]));_[b]=1}return!0}function I(u,p){if(u[++p]===";")return-1;if(u[p]==="#")return(function(_,S){let b=/\d/;for(_[S]==="x"&&(S++,b=/[\da-fA-F]/);S<_.length;S++){if(_[S]===";")return S;if(!_[S].match(b))break}return-1})(u,++p);let y=0;for(;p<u.length;p++,y++)if(!(u[p].match(/\w/)&&y<20)){if(u[p]===";")break;return-1}return p}function R(u,p,y){return{err:{code:u,msg:p,line:y.line||y,col:y.col}}}function D(u){return o(u)}function B(u,p){let y=u.substring(0,p).split(/\r?\n/);return{line:y.length,col:y[y.length-1].length+1}}function Y(u){return u.startIndex+u[1].length}let ee={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,p){return p},attributeValueProcessor:function(u,p){return p},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,p,y){return u},captureMetaData:!1},de;de=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Re{constructor(p){this.tagname=p,this.child=[],this[":@"]={}}add(p,y){p==="__proto__"&&(p="#__proto__"),this.child.push({[p]:y})}addChild(p,y){p.tagname==="__proto__"&&(p.tagname="#__proto__"),p[":@"]&&Object.keys(p[":@"]).length>0?this.child.push({[p.tagname]:p.child,":@":p[":@"]}):this.child.push({[p.tagname]:p.child}),y!==void 0&&(this.child[this.child.length-1][de]={startIndex:y})}static getMetaDataSymbol(){return de}}function oe(u,p){let y={};if(u[p+3]!=="O"||u[p+4]!=="C"||u[p+5]!=="T"||u[p+6]!=="Y"||u[p+7]!=="P"||u[p+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{p+=9;let _=1,S=!1,b=!1,P="";for(;p<u.length;p++)if(u[p]!=="<"||b)if(u[p]===">"){if(b?u[p-1]==="-"&&u[p-2]==="-"&&(b=!1,_--):_--,_===0)break}else u[p]==="["?S=!0:P+=u[p];else{if(S&&dn(u,"!ENTITY",p)){let A,v;p+=7,[A,v,p]=Ee(u,p+1),v.indexOf("&")===-1&&(y[A]={regx:RegExp(`&${A};`,"g"),val:v})}else if(S&&dn(u,"!ELEMENT",p)){p+=8;let{index:A}=CP(u,p+1);p=A}else if(S&&dn(u,"!ATTLIST",p))p+=8;else if(S&&dn(u,"!NOTATION",p)){p+=9;let{index:A}=Pe(u,p+1);p=A}else{if(!dn(u,"!--",p))throw new Error("Invalid DOCTYPE");b=!0}_++,P=""}if(_!==0)throw new Error("Unclosed DOCTYPE")}return{entities:y,i:p}}let le=(u,p)=>{for(;p<u.length&&/\s/.test(u[p]);)p++;return p};function Ee(u,p){p=le(u,p);let y="";for(;p<u.length&&!/\s/.test(u[p])&&u[p]!=='"'&&u[p]!=="'";)y+=u[p],p++;if(ou(y),p=le(u,p),u.substring(p,p+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[p]==="%")throw new Error("Parameter entities are not supported");let _="";return[p,_]=Un(u,p,"entity"),[y,_,--p]}function Pe(u,p){p=le(u,p);let y="";for(;p<u.length&&!/\s/.test(u[p]);)y+=u[p],p++;ou(y),p=le(u,p);let _=u.substring(p,p+6).toUpperCase();if(_!=="SYSTEM"&&_!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${_}"`);p+=_.length,p=le(u,p);let S=null,b=null;if(_==="PUBLIC")[p,S]=Un(u,p,"publicIdentifier"),u[p=le(u,p)]!=='"'&&u[p]!=="'"||([p,b]=Un(u,p,"systemIdentifier"));else if(_==="SYSTEM"&&([p,b]=Un(u,p,"systemIdentifier"),!b))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:y,publicIdentifier:S,systemIdentifier:b,index:--p}}function Un(u,p,y){let _="",S=u[p];if(S!=='"'&&S!=="'")throw new Error(`Expected quoted string, found "${S}"`);for(p++;p<u.length&&u[p]!==S;)_+=u[p],p++;if(u[p]!==S)throw new Error(`Unterminated ${y} value`);return[++p,_]}function CP(u,p){p=le(u,p);let y="";for(;p<u.length&&!/\s/.test(u[p]);)y+=u[p],p++;if(!ou(y))throw new Error(`Invalid element name: "${y}"`);let _="";if(u[p=le(u,p)]==="E"&&dn(u,"MPTY",p))p+=4;else if(u[p]==="A"&&dn(u,"NY",p))p+=2;else{if(u[p]!=="(")throw new Error(`Invalid Element Expression, found "${u[p]}"`);for(p++;p<u.length&&u[p]!==")";)_+=u[p],p++;if(u[p]!==")")throw new Error("Unterminated content model")}return{elementName:y,contentModel:_.trim(),index:p}}function dn(u,p,y){for(let _=0;_<p.length;_++)if(p[_]!==u[y+_+1])return!1;return!0}function ou(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let IP=/^[-+]?0x[a-fA-F0-9]+$/,AP=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,RP={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},PP=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function hg(u){return typeof u=="function"?u:Array.isArray(u)?p=>{for(let y of u)if(typeof y=="string"&&p===y||y instanceof RegExp&&y.test(p))return!0}:()=>!1}class NP{constructor(p){this.options=p,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(y,_)=>String.fromCodePoint(Number.parseInt(_,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(y,_)=>String.fromCodePoint(Number.parseInt(_,16))}},this.addExternalEntities=vP,this.parseXml=MP,this.parseTextData=DP,this.resolveNameSpace=OP,this.buildAttributesMap=LP,this.isItStopNode=$P,this.replaceEntitiesValue=UP,this.readStopNodeData=jP,this.saveTextToParentTag=FP,this.addChild=BP,this.ignoreAttributesFn=hg(this.options.ignoreAttributes)}}function vP(u){let p=Object.keys(u);for(let y=0;y<p.length;y++){let _=p[y];this.lastEntities[_]={regex:new RegExp("&"+_+";","g"),val:u[_]}}}function DP(u,p,y,_,S,b,P){if(u!==void 0&&(this.options.trimValues&&!_&&(u=u.trim()),u.length>0)){P||(u=this.replaceEntitiesValue(u));let A=this.options.tagValueProcessor(p,u,y,S,b);return A==null?u:typeof A!=typeof u||A!==u?A:this.options.trimValues||u.trim()===u?gg(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function OP(u){if(this.options.removeNSPrefix){let p=u.split(":"),y=u.charAt(0)==="/"?"/":"";if(p[0]==="xmlns")return"";p.length===2&&(u=y+p[1])}return u}let kP=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function LP(u,p,y){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let _=s(u,kP),S=_.length,b={};for(let P=0;P<S;P++){let A=this.resolveNameSpace(_[P][1]);if(this.ignoreAttributesFn(A,p))continue;let v=_[P][4],L=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(L=this.options.transformAttributeName(L)),L==="__proto__"&&(L="#__proto__"),v!==void 0){this.options.trimValues&&(v=v.trim()),v=this.replaceEntitiesValue(v);let Z=this.options.attributeValueProcessor(A,v,p);b[L]=Z==null?v:typeof Z!=typeof v||Z!==v?Z:gg(v,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(b[L]=!0)}if(!Object.keys(b).length)return;if(this.options.attributesGroupName){let P={};return P[this.options.attributesGroupName]=b,P}return b}}let MP=function(u){u=u.replace(/\r\n?/g,`
`);let p=new Re("!xml"),y=p,_="",S="";for(let b=0;b<u.length;b++)if(u[b]==="<")if(u[b+1]==="/"){let P=ln(u,">",b,"Closing Tag is not closed."),A=u.substring(b+2,P).trim();if(this.options.removeNSPrefix){let Z=A.indexOf(":");Z!==-1&&(A=A.substr(Z+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),y&&(_=this.saveTextToParentTag(_,y,S));let v=S.substring(S.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let L=0;v&&this.options.unpairedTags.indexOf(v)!==-1?(L=S.lastIndexOf(".",S.lastIndexOf(".")-1),this.tagsNodeStack.pop()):L=S.lastIndexOf("."),S=S.substring(0,L),y=this.tagsNodeStack.pop(),_="",b=P}else if(u[b+1]==="?"){let P=iu(u,b,!1,"?>");if(!P)throw new Error("Pi Tag is not closed.");if(_=this.saveTextToParentTag(_,y,S),!(this.options.ignoreDeclaration&&P.tagName==="?xml"||this.options.ignorePiTags)){let A=new Re(P.tagName);A.add(this.options.textNodeName,""),P.tagName!==P.tagExp&&P.attrExpPresent&&(A[":@"]=this.buildAttributesMap(P.tagExp,S,P.tagName)),this.addChild(y,A,S,b)}b=P.closeIndex+1}else if(u.substr(b+1,3)==="!--"){let P=ln(u,"-->",b+4,"Comment is not closed.");if(this.options.commentPropName){let A=u.substring(b+4,P-2);_=this.saveTextToParentTag(_,y,S),y.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}b=P}else if(u.substr(b+1,2)==="!D"){let P=oe(u,b);this.docTypeEntities=P.entities,b=P.i}else if(u.substr(b+1,2)==="!["){let P=ln(u,"]]>",b,"CDATA is not closed.")-2,A=u.substring(b+9,P);_=this.saveTextToParentTag(_,y,S);let v=this.parseTextData(A,y.tagname,S,!0,!1,!0,!0);v==null&&(v=""),this.options.cdataPropName?y.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):y.add(this.options.textNodeName,v),b=P+2}else{let P=iu(u,b,this.options.removeNSPrefix),A=P.tagName,v=P.rawTagName,L=P.tagExp,Z=P.attrExpPresent,J=P.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),y&&_&&y.tagname!=="!xml"&&(_=this.saveTextToParentTag(_,y,S,!1));let ue=y;ue&&this.options.unpairedTags.indexOf(ue.tagname)!==-1&&(y=this.tagsNodeStack.pop(),S=S.substring(0,S.lastIndexOf("."))),A!==p.tagname&&(S+=S?"."+A:A);let he=b;if(this.isItStopNode(this.options.stopNodes,S,A)){let pe="";if(L.length>0&&L.lastIndexOf("/")===L.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),S=S.substr(0,S.length-1),L=A):L=L.substr(0,L.length-1),b=P.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)b=P.closeIndex;else{let kt=this.readStopNodeData(u,v,J+1);if(!kt)throw new Error(`Unexpected end of ${v}`);b=kt.i,pe=kt.tagContent}let ke=new Re(A);A!==L&&Z&&(ke[":@"]=this.buildAttributesMap(L,S,A)),pe&&(pe=this.parseTextData(pe,A,S,!0,Z,!0,!0)),S=S.substr(0,S.lastIndexOf(".")),ke.add(this.options.textNodeName,pe),this.addChild(y,ke,S,he)}else{if(L.length>0&&L.lastIndexOf("/")===L.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),S=S.substr(0,S.length-1),L=A):L=L.substr(0,L.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));let pe=new Re(A);A!==L&&Z&&(pe[":@"]=this.buildAttributesMap(L,S,A)),this.addChild(y,pe,S,he),S=S.substr(0,S.lastIndexOf("."))}else{let pe=new Re(A);this.tagsNodeStack.push(y),A!==L&&Z&&(pe[":@"]=this.buildAttributesMap(L,S,A)),this.addChild(y,pe,S,he),y=pe}_="",b=J}}else _+=u[b];return p.child};function BP(u,p,y,_){this.options.captureMetaData||(_=void 0);let S=this.options.updateTag(p.tagname,y,p[":@"]);S===!1||(typeof S=="string"&&(p.tagname=S),u.addChild(p,_))}let UP=function(u){if(this.options.processEntities){for(let p in this.docTypeEntities){let y=this.docTypeEntities[p];u=u.replace(y.regx,y.val)}for(let p in this.lastEntities){let y=this.lastEntities[p];u=u.replace(y.regex,y.val)}if(this.options.htmlEntities)for(let p in this.htmlEntities){let y=this.htmlEntities[p];u=u.replace(y.regex,y.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function FP(u,p,y,_){return u&&(_===void 0&&(_=p.child.length===0),(u=this.parseTextData(u,p.tagname,y,!1,!!p[":@"]&&Object.keys(p[":@"]).length!==0,_))!==void 0&&u!==""&&p.add(this.options.textNodeName,u),u=""),u}function $P(u,p,y){let _="*."+y;for(let S in u){let b=u[S];if(_===b||p===b)return!0}return!1}function ln(u,p,y,_){let S=u.indexOf(p,y);if(S===-1)throw new Error(_);return S+p.length-1}function iu(u,p,y,_=">"){let S=(function(J,ue,he=">"){let pe,ke="";for(let kt=ue;kt<J.length;kt++){let xr=J[kt];if(pe)xr===pe&&(pe="");else if(xr==='"'||xr==="'")pe=xr;else if(xr===he[0]){if(!he[1])return{data:ke,index:kt};if(J[kt+1]===he[1])return{data:ke,index:kt}}else xr==="	"&&(xr=" ");ke+=xr}})(u,p+1,_);if(!S)return;let b=S.data,P=S.index,A=b.search(/\s/),v=b,L=!0;A!==-1&&(v=b.substring(0,A),b=b.substring(A+1).trimStart());let Z=v;if(y){let J=v.indexOf(":");J!==-1&&(v=v.substr(J+1),L=v!==S.data.substr(J+1))}return{tagName:v,tagExp:b,closeIndex:P,attrExpPresent:L,rawTagName:Z}}function jP(u,p,y){let _=y,S=1;for(;y<u.length;y++)if(u[y]==="<")if(u[y+1]==="/"){let b=ln(u,">",y,`${p} is not closed`);if(u.substring(y+2,b).trim()===p&&(S--,S===0))return{tagContent:u.substring(_,y),i:b};y=b}else if(u[y+1]==="?")y=ln(u,"?>",y+1,"StopNode is not closed.");else if(u.substr(y+1,3)==="!--")y=ln(u,"-->",y+3,"StopNode is not closed.");else if(u.substr(y+1,2)==="![")y=ln(u,"]]>",y,"StopNode is not closed.")-2;else{let b=iu(u,y,">");b&&((b&&b.tagName)===p&&b.tagExp[b.tagExp.length-1]!=="/"&&S++,y=b.closeIndex)}}function gg(u,p,y){if(p&&typeof u=="string"){let _=u.trim();return _==="true"||_!=="false"&&(function(S,b={}){if(b=Object.assign({},RP,b),!S||typeof S!="string")return S;let P=S.trim();if(b.skipLike!==void 0&&b.skipLike.test(P))return S;if(S==="0")return 0;if(b.hex&&IP.test(P))return(function(v){if(parseInt)return parseInt(v,16);if(Number.parseInt)return Number.parseInt(v,16);if(window&&window.parseInt)return window.parseInt(v,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(P);if(P.search(/.+[eE].+/)!==-1)return(function(v,L,Z){if(!Z.eNotation)return v;let J=L.match(PP);if(J){let ue=J[1]||"",he=J[3].indexOf("e")===-1?"E":"e",pe=J[2],ke=ue?v[pe.length+1]===he:v[pe.length]===he;return pe.length>1&&ke?v:pe.length!==1||!J[3].startsWith(`.${he}`)&&J[3][0]!==he?Z.leadingZeros&&!ke?(L=(J[1]||"")+J[3],Number(L)):v:Number(L)}return v})(S,P,b);{let v=AP.exec(P);if(v){let L=v[1]||"",Z=v[2],J=((A=v[3])&&A.indexOf(".")!==-1&&((A=A.replace(/0+$/,""))==="."?A="0":A[0]==="."?A="0"+A:A[A.length-1]==="."&&(A=A.substring(0,A.length-1))),A),ue=L?S[Z.length+1]===".":S[Z.length]===".";if(!b.leadingZeros&&(Z.length>1||Z.length===1&&!ue))return S;{let he=Number(P),pe=String(he);if(he===0||he===-0)return he;if(pe.search(/[eE]/)!==-1)return b.eNotation?he:S;if(P.indexOf(".")!==-1)return pe==="0"||pe===J||pe===`${L}${J}`?he:S;let ke=Z?J:P;return Z?ke===pe||L+ke===pe?he:S:ke===pe||ke===L+pe?he:S}}return S}var A})(u,y)}return u!==void 0?u:""}let au=Re.getMetaDataSymbol();function zP(u,p){return yg(u,p)}function yg(u,p,y){let _,S={};for(let b=0;b<u.length;b++){let P=u[b],A=qP(P),v="";if(v=y===void 0?A:y+"."+A,A===p.textNodeName)_===void 0?_=P[A]:_+=""+P[A];else{if(A===void 0)continue;if(P[A]){let L=yg(P[A],p,v),Z=VP(L,p);P[au]!==void 0&&(L[au]=P[au]),P[":@"]?HP(L,P[":@"],v,p):Object.keys(L).length!==1||L[p.textNodeName]===void 0||p.alwaysCreateTextNode?Object.keys(L).length===0&&(p.alwaysCreateTextNode?L[p.textNodeName]="":L=""):L=L[p.textNodeName],S[A]!==void 0&&S.hasOwnProperty(A)?(Array.isArray(S[A])||(S[A]=[S[A]]),S[A].push(L)):p.isArray(A,v,Z)?S[A]=[L]:S[A]=L}}}return typeof _=="string"?_.length>0&&(S[p.textNodeName]=_):_!==void 0&&(S[p.textNodeName]=_),S}function qP(u){let p=Object.keys(u);for(let y=0;y<p.length;y++){let _=p[y];if(_!==":@")return _}}function HP(u,p,y,_){if(p){let S=Object.keys(p),b=S.length;for(let P=0;P<b;P++){let A=S[P];_.isArray(A,y+"."+A,!0,!0)?u[A]=[p[A]]:u[A]=p[A]}}}function VP(u,p){let{textNodeName:y}=p,_=Object.keys(u).length;return _===0||!(_!==1||!u[y]&&typeof u[y]!="boolean"&&u[y]!==0)}class GP{constructor(p){this.externalEntities={},this.options=(function(y){return Object.assign({},ee,y)})(p)}parse(p,y){if(typeof p!="string"){if(!p.toString)throw new Error("XML data is accepted in String or Bytes[] form.");p=p.toString()}if(y){y===!0&&(y={});let b=c(p,y);if(b!==!0)throw Error(`${b.err.msg}:${b.err.line}:${b.err.col}`)}let _=new NP(this.options);_.addExternalEntities(this.externalEntities);let S=_.parseXml(p);return this.options.preserveOrder||S===void 0?S:zP(S,this.options)}addEntity(p,y){if(y.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(p.indexOf("&")!==-1||p.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(y==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[p]=y}static getMetaDataSymbol(){return Re.getMetaDataSymbol()}}function WP(u,p){let y="";return p.format&&p.indentBy.length>0&&(y=`
`),Eg(u,p,"",y)}function Eg(u,p,y,_){let S="",b=!1;for(let P=0;P<u.length;P++){let A=u[P],v=KP(A);if(v===void 0)continue;let L="";if(L=y.length===0?v:`${y}.${v}`,v===p.textNodeName){let he=A[v];JP(L,p)||(he=p.tagValueProcessor(v,he),he=bg(he,p)),b&&(S+=_),S+=he,b=!1;continue}if(v===p.cdataPropName){b&&(S+=_),S+=`<![CDATA[${A[v][0][p.textNodeName]}]]>`,b=!1;continue}if(v===p.commentPropName){S+=_+`<!--${A[v][0][p.textNodeName]}-->`,b=!0;continue}if(v[0]==="?"){let he=Sg(A[":@"],p),pe=v==="?xml"?"":_,ke=A[v][0][p.textNodeName];ke=ke.length!==0?" "+ke:"",S+=pe+`<${v}${ke}${he}?>`,b=!0;continue}let Z=_;Z!==""&&(Z+=p.indentBy);let J=_+`<${v}${Sg(A[":@"],p)}`,ue=Eg(A[v],p,L,Z);p.unpairedTags.indexOf(v)!==-1?p.suppressUnpairedNode?S+=J+">":S+=J+"/>":ue&&ue.length!==0||!p.suppressEmptyNode?ue&&ue.endsWith(">")?S+=J+`>${ue}${_}</${v}>`:(S+=J+">",ue&&_!==""&&(ue.includes("/>")||ue.includes("</"))?S+=_+p.indentBy+ue+_:S+=ue,S+=`</${v}>`):S+=J+"/>",b=!0}return S}function KP(u){let p=Object.keys(u);for(let y=0;y<p.length;y++){let _=p[y];if(u.hasOwnProperty(_)&&_!==":@")return _}}function Sg(u,p){let y="";if(u&&!p.ignoreAttributes)for(let _ in u){if(!u.hasOwnProperty(_))continue;let S=p.attributeValueProcessor(_,u[_]);S=bg(S,p),S===!0&&p.suppressBooleanAttributes?y+=` ${_.substr(p.attributeNamePrefix.length)}`:y+=` ${_.substr(p.attributeNamePrefix.length)}="${S}"`}return y}function JP(u,p){let y=(u=u.substr(0,u.length-p.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let _ in p.stopNodes)if(p.stopNodes[_]===u||p.stopNodes[_]==="*."+y)return!0;return!1}function bg(u,p){if(u&&u.length>0&&p.processEntities)for(let y=0;y<p.entities.length;y++){let _=p.entities[y];u=u.replace(_.regex,_.val)}return u}let YP={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,p){return p},attributeValueProcessor:function(u,p){return p},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function wr(u){this.options=Object.assign({},YP,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=hg(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=ZP),this.processTextOrObjNode=XP,this.options.format?(this.indentate=QP,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function XP(u,p,y,_){let S=this.j2x(u,y+1,_.concat(p));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],p,S.attrStr,y):this.buildObjectNode(S.val,p,S.attrStr,y)}function QP(u){return this.options.indentBy.repeat(u)}function ZP(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}wr.prototype.build=function(u){return this.options.preserveOrder?WP(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},wr.prototype.j2x=function(u,p,y){let _="",S="",b=y.join(".");for(let P in u)if(Object.prototype.hasOwnProperty.call(u,P))if(u[P]===void 0)this.isAttribute(P)&&(S+="");else if(u[P]===null)this.isAttribute(P)||P===this.options.cdataPropName?S+="":P[0]==="?"?S+=this.indentate(p)+"<"+P+"?"+this.tagEndChar:S+=this.indentate(p)+"<"+P+"/"+this.tagEndChar;else if(u[P]instanceof Date)S+=this.buildTextValNode(u[P],P,"",p);else if(typeof u[P]!="object"){let A=this.isAttribute(P);if(A&&!this.ignoreAttributesFn(A,b))_+=this.buildAttrPairStr(A,""+u[P]);else if(!A)if(P===this.options.textNodeName){let v=this.options.tagValueProcessor(P,""+u[P]);S+=this.replaceEntitiesValue(v)}else S+=this.buildTextValNode(u[P],P,"",p)}else if(Array.isArray(u[P])){let A=u[P].length,v="",L="";for(let Z=0;Z<A;Z++){let J=u[P][Z];if(J!==void 0)if(J===null)P[0]==="?"?S+=this.indentate(p)+"<"+P+"?"+this.tagEndChar:S+=this.indentate(p)+"<"+P+"/"+this.tagEndChar;else if(typeof J=="object")if(this.options.oneListGroup){let ue=this.j2x(J,p+1,y.concat(P));v+=ue.val,this.options.attributesGroupName&&J.hasOwnProperty(this.options.attributesGroupName)&&(L+=ue.attrStr)}else v+=this.processTextOrObjNode(J,P,p,y);else if(this.options.oneListGroup){let ue=this.options.tagValueProcessor(P,J);ue=this.replaceEntitiesValue(ue),v+=ue}else v+=this.buildTextValNode(J,P,"",p)}this.options.oneListGroup&&(v=this.buildObjectNode(v,P,L,p)),S+=v}else if(this.options.attributesGroupName&&P===this.options.attributesGroupName){let A=Object.keys(u[P]),v=A.length;for(let L=0;L<v;L++)_+=this.buildAttrPairStr(A[L],""+u[P][A[L]])}else S+=this.processTextOrObjNode(u[P],P,p,y);return{attrStr:_,val:S}},wr.prototype.buildAttrPairStr=function(u,p){return p=this.options.attributeValueProcessor(u,""+p),p=this.replaceEntitiesValue(p),this.options.suppressBooleanAttributes&&p==="true"?" "+u:" "+u+'="'+p+'"'},wr.prototype.buildObjectNode=function(u,p,y,_){if(u==="")return p[0]==="?"?this.indentate(_)+"<"+p+y+"?"+this.tagEndChar:this.indentate(_)+"<"+p+y+this.closeTag(p)+this.tagEndChar;{let S="</"+p+this.tagEndChar,b="";return p[0]==="?"&&(b="?",S=""),!y&&y!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&p===this.options.commentPropName&&b.length===0?this.indentate(_)+`<!--${u}-->`+this.newLine:this.indentate(_)+"<"+p+y+b+this.tagEndChar+u+this.indentate(_)+S:this.indentate(_)+"<"+p+y+b+">"+u+S}},wr.prototype.closeTag=function(u){let p="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(p="/"):p=this.options.suppressEmptyNode?"/":`></${u}`,p},wr.prototype.buildTextValNode=function(u,p,y,_){if(this.options.cdataPropName!==!1&&p===this.options.cdataPropName)return this.indentate(_)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&p===this.options.commentPropName)return this.indentate(_)+`<!--${u}-->`+this.newLine;if(p[0]==="?")return this.indentate(_)+"<"+p+y+"?"+this.tagEndChar;{let S=this.options.tagValueProcessor(p,u);return S=this.replaceEntitiesValue(S),S===""?this.indentate(_)+"<"+p+y+this.closeTag(p)+this.tagEndChar:this.indentate(_)+"<"+p+y+">"+S+"</"+p+this.tagEndChar}},wr.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let p=0;p<this.options.entities.length;p++){let y=this.options.entities[p];u=u.replace(y.regex,y.val)}return u};let eN={validate:c};mw.exports=t})()});var hw=N(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.parseXML=pk;var uk=fw(),nf=new uk.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});nf.addEntity("#xD","\r");nf.addEntity("#10",`
`);function pk(e){return nf.parse(e,!0)}});var Wa=N(Ga=>{"use strict";var mk=hw();function fk(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function hk(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Va=class{value;constructor(t){this.value=t}toString(){return hk(""+this.value)}},of=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new Va(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),i=new e(n);o.map(c=>{i.c(c)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${fk(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Ga,"parseXML",{enumerable:!0,get:function(){return mk.parseXML}});Ga.XmlNode=of;Ga.XmlText=Va});var gw,yw,Ew,Pn,Ka=w(()=>{gw=C(Wa());at();Ce();yw=C(ae()),Ew=C(ze());Fr();Pn=class extends Je{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new gn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=W.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},m=Object.keys(o)[0];return o[m].isBlobSchema()?l[m]=r:l[m]=this.read(o[m],r),l}let c=(this.serdeContext?.utf8Encoder??Ew.toUtf8)(r),d=this.parseXml(c);return this.readSchema(t,n?d[n]:d)}readSchema(t,r){let n=W.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let d=n.getValueSchema(),l=[],m=d.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[m],g=Array.isArray(f)?f:[f];for(let h of g)(h!=null||o)&&l.push(this.readSchema(d,h));return l}let c={};if(n.isMapSchema()){let d=n.getKeySchema(),l=n.getValueSchema(),m;i?m=Array.isArray(r)?r:[r]:m=Array.isArray(r.entry)?r.entry:[r.entry];let f=d.getMergedTraits().xmlName??"key",g=l.getMergedTraits().xmlName??"value";for(let h of m){let E=h[f],T=h[g];(T!=null||o)&&(c[E]=this.readSchema(l,T))}return c}if(n.isStructSchema()){for(let[d,l]of n.structIterator()){let m=l.getMergedTraits(),f=m.httpPayload?m.xmlName??l.getName():l.getMemberTraits().xmlName??d;r[f]!=null&&(c[d]=this.readSchema(l,r[f]))}return c}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,gw.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,yw.getValueFromTextNode)(o)}return{}}}});var Sw,bw,Ja,_w=w(()=>{at();Ce();it();Sw=C(ae()),bw=C(qe());Fr();Ja=class extends Je{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=W.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??bw.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Et.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof xe?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),mt(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,Sw.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let d of r){if(d==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),m=i?`${n}${c}`:`${n}${l}.${c}`;this.write(o,d,m),++c}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,d=1;for(let[l,m]of Object.entries(r)){if(m==null)continue;let f=this.getKey("key",o.getMergedTraits().xmlName),g=c?`${n}${d}.${f}`:`${n}entry.${d}.${f}`,h=this.getKey("value",i.getMergedTraits().xmlName),E=c?`${n}${d}.${h}`:`${n}entry.${d}.${h}`;this.write(o,l,g),this.write(i,m,E),++d}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[o,i]of s.structIterator()){if(r[o]==null&&!i.isIdempotencyToken())continue;let c=this.getKey(o,i.getMergedTraits().xmlName),d=`${n}${c}`;this.write(i,r[o],d)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Mt(t)}=`}writeValue(t){this.buffer+=Mt(t)}}});var So,af=w(()=>{at();Ce();os();Ka();_w();So=class extends nr{options;serializer;deserializer;mixin=new St;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Ja(r),this.deserializer=new Pn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(At(t.input)==="unit"||!s.body)&&(s.body="");let o=t.name.split("#")[1]??t.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,o=W.of(t.output),i={};if(n.statusCode>=300){let f=await yt(n.body,r);f.byteLength>0&&Object.assign(i,await s.read(15,f)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let f in n.headers){let g=n.headers[f];delete n.headers[f],n.headers[f.toLowerCase()]=g}let c=t.name.split("#")[1]??t.name,d=o.isStructSchema()&&this.useNestedResult()?c+"Result":void 0,l=await yt(n.body,r);return l.byteLength>0&&Object.assign(i,await s.read(o,l,d)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",c=this.loadQueryError(s),d=this.loadQueryErrorMessage(s);c.message=d,c.Error={Type:c.Type,Code:c.Code,Message:d};let{errorSchema:l,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,c,o,(T,I)=>T.find(R=>W.of(R).getMergedTraits().awsQueryError?.[0]===I)),f=W.of(l),g=Be.for(l[1]).getErrorCtor(l)??Error,h=new g(d),E={Error:c.Error};for(let[T,I]of f.structIterator()){let R=I.getMergedTraits().xmlName??T,D=c[R]??s[R];E[T]=this.deserializer.readSchema(I,D)}throw Object.assign(h,m,{$fault:f.getMergedTraits().error,message:d},E)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var cf,ww=w(()=>{af();cf=class extends So{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var xw,Tw,bo,df,lf,uf=w(()=>{xw=C(Wa()),Tw=C(ae());Ym();bo=(e,t)=>ja(e,t).then(r=>{if(r.length){let n;try{n=(0,xw.parseXML)(r)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,Tw.getValueFromTextNode)(i)}return{}}),df=async(e,t)=>{let r=await bo(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},lf=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var bt,pf,Ya,_o,mf=w(()=>{bt=C(Wa());at();Ce();it();pf=C(ae()),Ya=C(qe());Fr();_o=class extends Je{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=W.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Ya.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=bt.XmlNode.of(o),[c,d]=this.getXmlnsAttribute(t,n);for(let[l,m]of t.structIterator()){let f=r[l];if(f!=null||m.isIdempotencyToken()){if(m.getMergedTraits().xmlAttribute){i.addAttribute(m.getMergedTraits().xmlName??l,this.writeSimple(m,f));continue}if(m.isListSchema())this.writeList(m,f,i,d);else if(m.isMapSchema())this.writeMap(m,f,i,d);else if(m.isStructSchema())i.addChildNode(this.writeStruct(m,f,d));else{let g=bt.XmlNode.of(m.getMergedTraits().xmlName??m.getMemberName());this.writeSimpleInto(m,f,g,d),i.addChildNode(g)}}}return d&&i.addAttribute(c,d),i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),c=i.getMergedTraits(),d=!!c.sparse,l=!!o.xmlFlattened,[m,f]=this.getXmlnsAttribute(t,s),g=(h,E)=>{if(i.isListSchema())this.writeList(i,Array.isArray(E)?E:[E],h,f);else if(i.isMapSchema())this.writeMap(i,E,h,f);else if(i.isStructSchema()){let T=this.writeStruct(i,E,f);h.addChildNode(T.withName(l?o.xmlName??t.getMemberName():c.xmlName??"member"))}else{let T=bt.XmlNode.of(l?o.xmlName??t.getMemberName():c.xmlName??"member");this.writeSimpleInto(i,E,T,f),h.addChildNode(T)}};if(l)for(let h of r)(d||h!=null)&&g(n,h);else{let h=bt.XmlNode.of(o.xmlName??t.getMemberName());f&&h.addAttribute(m,f);for(let E of r)(d||E!=null)&&g(h,E);n.addChildNode(h)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),c=t.getKeySchema(),l=c.getMergedTraits().xmlName??"key",m=t.getValueSchema(),f=m.getMergedTraits(),g=f.xmlName??"value",h=!!f.sparse,E=!!i.xmlFlattened,[T,I]=this.getXmlnsAttribute(t,s),R=(D,B,Y)=>{let ee=bt.XmlNode.of(l,B),[de,Re]=this.getXmlnsAttribute(c,I);Re&&ee.addAttribute(de,Re),D.addChildNode(ee);let oe=bt.XmlNode.of(g);m.isListSchema()?this.writeList(m,Y,oe,I):m.isMapSchema()?this.writeMap(m,Y,oe,I,!0):m.isStructSchema()?oe=this.writeStruct(m,Y,I):this.writeSimpleInto(m,Y,oe,I),D.addChildNode(oe)};if(E){for(let[D,B]of Object.entries(r))if(h||B!=null){let Y=bt.XmlNode.of(i.xmlName??t.getMemberName());R(Y,D,B),n.addChildNode(Y)}}else{let D;o||(D=bt.XmlNode.of(i.xmlName??t.getMemberName()),I&&D.addAttribute(T,I),n.addChildNode(D));for(let[B,Y]of Object.entries(r))if(h||Y!=null){let ee=bt.XmlNode.of("entry");R(ee,B,Y),(o?n:D).addChildNode(ee)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=W.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??Ya.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(mt(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,pf.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,pf.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof xe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Et.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=W.of(t),c=new bt.XmlText(o),[d,l]=this.getXmlnsAttribute(i,s);l&&n.addAttribute(d,l),n.addChildNode(c)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var wo,ff=w(()=>{Fr();Ka();mf();wo=class extends Je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new _o(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Pn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var hf,Cw=w(()=>{at();Ce();os();uf();ff();hf=class extends hn{codec;serializer;deserializer;mixin=new St;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new wo(r),this.serializer=new En(this.codec.createSerializer(),r),this.deserializer=new yn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=W.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=lf(n,s)??"Unknown",{errorSchema:c,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(c),m=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",f=Be.for(c[1]).getErrorCtor(c)??Error,g=new f(m);await this.deserializeHttpMessage(c,r,n,s);let h={};for(let[E,T]of l.structIterator()){let I=T.getMergedTraits().xmlName??E,R=s.Error?.[I]??s[I];h[E]=this.codec.createDeserializer().readSchema(T,R)}throw Object.assign(g,d,{$fault:l.getMergedTraits().error,message:m},h)}getDefaultContentType(){return"application/xml"}}});var Iw=w(()=>{F_();$_();cw();dw();Ha();lw();qa();Qm();Zm();pw();go();ww();af();Cw();ff();Ka();mf();uf()});var $t={};pt($t,{AWSSDKSigV4Signer:()=>nm,AwsEc2QueryProtocol:()=>cf,AwsJson1_0Protocol:()=>ef,AwsJson1_1Protocol:()=>tf,AwsJsonRpcProtocol:()=>Rn,AwsQueryProtocol:()=>So,AwsRestJsonProtocol:()=>rf,AwsRestXmlProtocol:()=>hf,AwsSdkSigV4ASigner:()=>uo,AwsSdkSigV4Signer:()=>dt,AwsSmithyRpcV2CborProtocol:()=>Fm,JsonCodec:()=>An,JsonShapeDeserializer:()=>yo,JsonShapeSerializer:()=>Eo,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>ts,NODE_SIGV4A_CONFIG_OPTIONS:()=>Jb,XmlCodec:()=>wo,XmlShapeDeserializer:()=>Pn,XmlShapeSerializer:()=>_o,_toBool:()=>$O,_toNum:()=>jO,_toStr:()=>FO,awsExpectUnion:()=>lk,emitWarningIfUnsupportedVersion:()=>Qn,getBearerTokenEnvKey:()=>xa,loadRestJsonErrorCode:()=>In,loadRestXmlErrorCode:()=>lf,parseJsonBody:()=>is,parseJsonErrorBody:()=>Xm,parseXmlBody:()=>bo,parseXmlErrorBody:()=>df,resolveAWSSDKSigV4Config:()=>__,resolveAwsSdkSigV4AConfig:()=>Kb,resolveAwsSdkSigV4Config:()=>Tn,setCredentialFeature:()=>Dr,setFeature:()=>Db,setTokenFeature:()=>kb,state:()=>wa,validateSigningProperties:()=>es});var $e=w(()=>{Pt();wm();Iw()});var cs=N(as=>{"use strict";var gk=(ct(),me(Jn)),yk=Xn(),Ek=Se(),jt=($e(),me($t)),Nw=void 0;function Sk(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function bk(e){let t=gk.normalizeProvider(e.userAgentAppId??Nw),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!Sk(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var _k=/\d{12}\.ddb/;async function wk(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&jt.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?jt.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):jt.setFeature(e,"RETRY_MODE_STANDARD","E"):jt.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(_k)&&jt.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":jt.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":jt.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":jt.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&jt.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,c]of Object.entries(o.$source??{}))jt.setFeature(e,i,c)}}var Aw="user-agent",gf="x-amz-user-agent",Rw=" ",yf="/",xk=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Tk=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Pw="-",Ck=1024;function Ik(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=Ck){t.length?t+=","+n:t+=n;continue}break}return t}var vw=e=>(t,r)=>async n=>{let{request:s}=n;if(!Ek.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,i=r?.userAgent?.map(Xa)||[],c=(await e.defaultUserAgentProvider()).map(Xa);await wk(r,e,n);let d=r;c.push(`m/${Ik(Object.assign({},r.__smithy_context?.features,d.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(Xa)||[],m=await e.userAgentAppId();m&&c.push(Xa([`app/${m}`]));let f=yk.getUserAgentPrefix(),g=(f?[f]:[]).concat([...c,...i,...l]).join(Rw),h=[...c.filter(E=>E.startsWith("aws-sdk-")),...l].join(Rw);return e.runtime!=="browser"?(h&&(o[gf]=o[gf]?`${o[Aw]} ${h}`:h),o[Aw]=g):o[gf]=g,t({...n,request:s})},Xa=e=>{let t=e[0].split(yf).map(i=>i.replace(xk,Pw)).join(yf),r=e[1]?.replace(Tk,Pw),n=t.indexOf(yf),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(i=>i&&i.length>0).reduce((i,c,d)=>{switch(d){case 0:return c;case 1:return`${i}/${c}`;default:return`${i}#${c}`}},"")},Dw={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ak=e=>({applyToStack:t=>{t.add(vw(e),Dw)}});as.DEFAULT_UA_APP_ID=Nw;as.getUserAgentMiddlewareOptions=Dw;as.getUserAgentPlugin=Ak;as.resolveUserAgentConfig=bk;as.userAgentMiddleware=vw});var Ow=N(ds=>{"use strict";var Rk=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},Pk=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};ds.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(ds.SelectorType||(ds.SelectorType={}));ds.booleanSelector=Rk;ds.numberSelector=Pk});var zt=N(He=>{"use strict";var jr=Ow(),Qa=Ze(),Nk=_n(),Mw="AWS_USE_DUALSTACK_ENDPOINT",Bw="use_dualstack_endpoint",vk=!1,Dk={environmentVariableSelector:e=>jr.booleanSelector(e,Mw,jr.SelectorType.ENV),configFileSelector:e=>jr.booleanSelector(e,Bw,jr.SelectorType.CONFIG),default:!1},Uw="AWS_USE_FIPS_ENDPOINT",Fw="use_fips_endpoint",Ok=!1,kk={environmentVariableSelector:e=>jr.booleanSelector(e,Uw,jr.SelectorType.ENV),configFileSelector:e=>jr.booleanSelector(e,Fw,jr.SelectorType.CONFIG),default:!1},Lk=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:Qa.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Qa.normalizeProvider(s??!1)})},Mk=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},Bk=e=>{let t=Qa.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?Qa.normalizeProvider(typeof r=="string"?s(r):r):()=>Mk({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},$w="AWS_REGION",jw="region",Uk={environmentVariableSelector:e=>e[$w],configFileSelector:e=>e[jw],default:()=>{throw new Error("Region is missing")}},Fk={preferredFile:"credentials"},kw=new Set,$k=(e,t=Nk.isValidHostLabel)=>{if(!kw.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else kw.add(e)},zw=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),jk=e=>zw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,zk=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=jk(n);return $k(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return zw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},Lw=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,qk=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),Hk=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",Vk=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},Gk=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=Hk(e,{partitionHash:o}),c=e in s?e:o[i]?.endpoint??e,d={useFipsEndpoint:t,useDualstackEndpoint:r},l=Lw(s[c]?.variants,d),m=Lw(o[i]?.variants,d),f=qk(c,{regionHostname:l,partitionHostname:m});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let g=Vk(f,{signingRegion:s[c]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...g&&{signingRegion:g},...s[c]?.signingService&&{signingService:s[c].signingService}}};He.CONFIG_USE_DUALSTACK_ENDPOINT=Bw;He.CONFIG_USE_FIPS_ENDPOINT=Fw;He.DEFAULT_USE_DUALSTACK_ENDPOINT=vk;He.DEFAULT_USE_FIPS_ENDPOINT=Ok;He.ENV_USE_DUALSTACK_ENDPOINT=Mw;He.ENV_USE_FIPS_ENDPOINT=Uw;He.NODE_REGION_CONFIG_FILE_OPTIONS=Fk;He.NODE_REGION_CONFIG_OPTIONS=Uk;He.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=Dk;He.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=kk;He.REGION_ENV_NAME=$w;He.REGION_INI_NAME=jw;He.getRegionInfo=Gk;He.resolveCustomEndpointsConfig=Lk;He.resolveEndpointsConfig=Bk;He.resolveRegionConfig=zk});var xo=N(Za=>{"use strict";var Wk=Se(),qw="content-length";function Hw(e){return t=>async r=>{let n=r.request;if(Wk.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(qw)===-1)try{let i=e(s);n.headers={...n.headers,[qw]:String(i)}}catch{}}return t({...r,request:n})}}var Vw={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Kk=e=>({applyToStack:t=>{t.add(Hw(e.bodyLengthChecker),Vw)}});Za.contentLengthMiddleware=Hw;Za.contentLengthMiddlewareOptions=Vw;Za.getContentLengthPlugin=Kk});var Sf=N(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.getHomeDir=void 0;var Jk=require("os"),Yk=require("path"),Ef={},Xk=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",Qk=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Yk.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=Xk();return Ef[s]||(Ef[s]=(0,Jk.homedir)()),Ef[s]};ec.getHomeDir=Qk});var bf=N(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.getSSOTokenFilepath=void 0;var Zk=require("crypto"),e1=require("path"),t1=Sf(),r1=e=>{let r=(0,Zk.createHash)("sha1").update(e).digest("hex");return(0,e1.join)((0,t1.getHomeDir)(),".aws","sso","cache",`${r}.json`)};tc.getSSOTokenFilepath=r1});var Gw=N(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.getSSOTokenFromFile=zr.tokenIntercept=void 0;var n1=require("fs/promises"),s1=bf();zr.tokenIntercept={};var o1=async e=>{if(zr.tokenIntercept[e])return zr.tokenIntercept[e];let t=(0,s1.getSSOTokenFilepath)(e),r=await(0,n1.readFile)(t,"utf8");return JSON.parse(r)};zr.getSSOTokenFromFile=o1});var Ww=N(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.readFile=ft.fileIntercept=ft.filePromises=void 0;var i1=require("node:fs/promises");ft.filePromises={};ft.fileIntercept={};var a1=(e,t)=>ft.fileIntercept[e]!==void 0?ft.fileIntercept[e]:((!ft.filePromises[e]||t?.ignoreCache)&&(ft.filePromises[e]=(0,i1.readFile)(e,"utf8")),ft.filePromises[e]);ft.readFile=a1});var lr=N(st=>{"use strict";var To=Sf(),Kw=bf(),_f=Gw(),rc=require("path"),nc=Tr(),ls=Ww(),Yw="AWS_PROFILE",Xw="default",c1=e=>e.profile||process.env[Yw]||Xw,Nn=".",d1=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Nn);return r===-1?!1:Object.values(nc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Nn),o=r.substring(0,s)===nc.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),l1="AWS_CONFIG_FILE",Qw=()=>process.env[l1]||rc.join(To.getHomeDir(),".aws","config"),u1="AWS_SHARED_CREDENTIALS_FILE",p1=()=>process.env[u1]||rc.join(To.getHomeDir(),".aws","credentials"),m1=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,f1=["__proto__","profile __proto__"],wf=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let c=o.substring(1,o.length-1),d=m1.exec(c);if(d){let[,l,,m]=d;Object.values(nc.IniSectionType).includes(l)&&(r=[l,m].join(Nn))}else r=c;if(f1.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(r){let c=o.indexOf("=");if(![0,-1].includes(c)){let[d,l]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(l==="")n=d;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let m=n?[n,d].join(Nn):d;t[r][m]=l}}}}return t},Jw=()=>({}),Zw=async(e={})=>{let{filepath:t=p1(),configFilepath:r=Qw()}=e,n=To.getHomeDir(),s="~/",o=t;t.startsWith(s)&&(o=rc.join(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=rc.join(n,r.slice(2)));let c=await Promise.all([ls.readFile(i,{ignoreCache:e.ignoreCache}).then(wf).then(d1).catch(Jw),ls.readFile(o,{ignoreCache:e.ignoreCache}).then(wf).catch(Jw)]);return{configFile:c[0],credentialsFile:c[1]}},h1=e=>Object.entries(e).filter(([t])=>t.startsWith(nc.IniSectionType.SSO_SESSION+Nn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Nn)+1)]:n}),{}),g1=()=>({}),y1=async(e={})=>ls.readFile(e.configFilepath??Qw()).then(wf).then(h1).catch(g1),E1=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},S1=async e=>{let t=await Zw(e);return E1(t.configFile,t.credentialsFile)},b1={getFileRecord(){return ls.fileIntercept},interceptFile(e,t){ls.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return _f.tokenIntercept},interceptToken(e,t){_f.tokenIntercept[e]=t}};Object.defineProperty(st,"getSSOTokenFromFile",{enumerable:!0,get:function(){return _f.getSSOTokenFromFile}});Object.defineProperty(st,"readFile",{enumerable:!0,get:function(){return ls.readFile}});st.CONFIG_PREFIX_SEPARATOR=Nn;st.DEFAULT_PROFILE=Xw;st.ENV_PROFILE=Yw;st.externalDataInterceptor=b1;st.getProfileName=c1;st.loadSharedConfigFiles=Zw;st.loadSsoSessionData=y1;st.parseKnownFiles=S1;Object.keys(To).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return To[e]}})});Object.keys(Kw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return Kw[e]}})})});var qr=N(rx=>{"use strict";var Co=nt(),ex=lr();function tx(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var _1=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Co.CredentialsProviderError(r.message||`Not found in ENV: ${tx(e.toString())}`,{logger:t?.logger})}},w1=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=ex.getProfileName(r),{configFile:s,credentialsFile:o}=await ex.loadSharedConfigFiles(r),i=o[n]||{},c=s[n]||{},d=t==="config"?{...i,...c}:{...c,...i};try{let m=e(d,t==="config"?s:o);if(m===void 0)throw new Error;return m}catch(l){throw new Co.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${tx(e.toString())}`,{logger:r.logger})}},x1=e=>typeof e=="function",T1=e=>x1(e)?async()=>await e():Co.fromStatic(e),C1=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return Co.memoize(Co.chain(_1(e,i),w1(t,n),T1(r)))};rx.loadConfig=C1});var ix=N(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.getEndpointUrlConfig=void 0;var nx=lr(),sx="AWS_ENDPOINT_URL",ox="endpoint_url",I1=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[sx,...r].join("_")];if(n)return n;let s=t[sx];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(nx.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(c=>c.toLowerCase()),i=s[[o.join("_"),ox].join(nx.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[ox];if(n)return n},default:void 0});sc.getEndpointUrlConfig=I1});var ax=N(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.getEndpointFromConfig=void 0;var A1=qr(),R1=ix(),P1=async e=>(0,A1.loadConfig)((0,R1.getEndpointUrlConfig)(e??""))();oc.getEndpointFromConfig=P1});var Hr=N(ur=>{"use strict";var dx=ax(),cx=vr(),N1=(ct(),me(Jn)),ic=Ze(),v1=Ir(),D1=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),B1(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!M1(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},O1=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,k1=/(\d+\.){3}\d+/,L1=/\.\./,M1=e=>O1.test(e)&&!k1.test(e)&&!L1.test(e),B1=e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},U1=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:c,path:d}=s;return`${o}//${i}${c?":"+c:""}${d}`}}return s}:n},xf=e=>typeof e=="object"?"url"in e?cx.parseUrl(e.url):e:cx.parseUrl(e),lx=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await dx.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(xf(i)),r.isCustomEndpoint=!0)}let s=await ux(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},ux=async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=e[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await U1(i.name,o,r)();break;case"operationContextParams":n[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await D1(n),n},px=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&N1.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await lx(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let d=ic.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},mx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:v1.serializerMiddlewareOption.name},F1=(e,t)=>({applyToStack:r=>{r.addRelativeTo(px({config:e,instructions:t}),mx)}}),$1=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>xf(await ic.normalizeProvider(r)()):void 0,c=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:ic.normalizeProvider(n??!1),useFipsEndpoint:ic.normalizeProvider(s??!1)}),d;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=dx.getEndpointFromConfig(e.serviceId)),d),c},j1=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};ur.endpointMiddleware=px;ur.endpointMiddlewareOptions=mx;ur.getEndpointFromInstructions=lx;ur.getEndpointPlugin=F1;ur.resolveEndpointConfig=$1;ur.resolveEndpointRequiredConfig=j1;ur.resolveParams=ux;ur.toEndpointV1=xf});var Cf=N(Vr=>{"use strict";var z1=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],q1=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],H1=["TimeoutError","RequestTimeout","RequestTimeoutException"],V1=[500,502,503,504],G1=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],W1=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],fx=e=>e?.$retryable!==void 0,K1=e=>z1.includes(e.name),hx=e=>e.$metadata?.clockSkewCorrected,gx=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},J1=e=>e.$metadata?.httpStatusCode===429||q1.includes(e.name)||e.$retryable?.throttling==!0,Tf=(e,t=0)=>fx(e)||hx(e)||H1.includes(e.name)||G1.includes(e?.code||"")||W1.includes(e?.code||"")||V1.includes(e.$metadata?.httpStatusCode||0)||gx(e)||e.cause!==void 0&&t<=10&&Tf(e.cause,t+1),Y1=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Tf(e)}return!1};Vr.isBrowserNetworkError=gx;Vr.isClockSkewCorrectedError=hx;Vr.isClockSkewError=K1;Vr.isRetryableByTrait=fx;Vr.isServerError=Y1;Vr.isThrottlingError=J1;Vr.isTransientError=Tf});var us=N(Ie=>{"use strict";var X1=Cf();Ie.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ie.RETRY_MODES||(Ie.RETRY_MODES={}));var If=3,Q1=Ie.RETRY_MODES.STANDARD,ac=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),X1.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Io=100,Nf=20*1e3,Ex=500,Af=500,Sx=5,bx=10,_x=1,Z1="amz-sdk-invocation-id",eL="amz-sdk-request",tL=()=>{let e=Io;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Nf,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},yx=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Nf,e),getRetryCost:()=>r}),Ao=class{maxAttempts;mode=Ie.RETRY_MODES.STANDARD;capacity=Af;retryBackoffStrategy=tL();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return yx({retryDelay:Io,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Ex:Io);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,c=this.getCapacityCost(s);return this.capacity-=c,yx({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:c})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Af,this.capacity+(t.getRetryCost()??_x))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${If}`),If}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?bx:Sx}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Rf=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ie.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new ac,this.standardRetryStrategy=new Ao(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Pf=class extends Ao{computeNextBackoffDelay;constructor(t,r=Io){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ie.AdaptiveRetryStrategy=Rf;Ie.ConfiguredRetryStrategy=Pf;Ie.DEFAULT_MAX_ATTEMPTS=If;Ie.DEFAULT_RETRY_DELAY_BASE=Io;Ie.DEFAULT_RETRY_MODE=Q1;Ie.DefaultRateLimiter=ac;Ie.INITIAL_RETRY_TOKENS=Af;Ie.INVOCATION_ID_HEADER=Z1;Ie.MAXIMUM_RETRY_DELAY=Nf;Ie.NO_RETRY_INCREMENT=_x;Ie.REQUEST_HEADER=eL;Ie.RETRY_COST=Sx;Ie.StandardRetryStrategy=Ao;Ie.THROTTLING_RETRY_DELAY_BASE=Ex;Ie.TIMEOUT_RETRY_COST=bx});var wx=N(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.isStreamingPayload=void 0;var rL=require("stream"),nL=e=>e?.body instanceof rL.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;cc.isStreamingPayload=nL});var pr=N(Ue=>{"use strict";var Te=us(),ps=Se(),Gr=Cf(),Tx=ma(),xx=Ze(),sL=ae(),oL=wx(),iL=(e,t)=>{let r=e,n=Te.NO_RETRY_INCREMENT,s=Te.RETRY_COST,o=Te.TIMEOUT_RETRY_COST,i=e,c=f=>f.name==="TimeoutError"?o:s,d=f=>c(f)<=i;return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:f=>{if(!d(f))throw new Error("No retry token available");let g=c(f);return i-=g,g},releaseRetryTokens:f=>{i+=f??n,i=Math.min(i,r)}})},Cx=(e,t)=>Math.floor(Math.min(Te.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),Ix=e=>e?Gr.isRetryableByTrait(e)||Gr.isClockSkewError(e)||Gr.isThrottlingError(e)||Gr.isTransientError(e):!1,Ax=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),dc=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Te.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??Ix,this.delayDecider=r?.delayDecider??Cx,this.retryQuota=r?.retryQuota??iL(Te.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Te.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,o=0,i=0,c=await this.getMaxAttempts(),{request:d}=r;for(ps.HttpRequest.isInstance(d)&&(d.headers[Te.INVOCATION_ID_HEADER]=Tx.v4());;)try{ps.HttpRequest.isInstance(d)&&(d.headers[Te.REQUEST_HEADER]=`attempt=${o+1}; max=${c}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:m}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),m.$metadata.attempts=o+1,m.$metadata.totalRetryDelay=i,{response:l,output:m}}catch(l){let m=Ax(l);if(o++,this.shouldRetry(m,o,c)){s=this.retryQuota.retrieveRetryTokens(m);let f=this.delayDecider(Gr.isThrottlingError(m)?Te.THROTTLING_RETRY_DELAY_BASE:Te.DEFAULT_RETRY_DELAY_BASE,o),g=aL(m.$response),h=Math.max(g||0,f);i+=h,await new Promise(E=>setTimeout(E,h));continue}throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=o,m.$metadata.totalRetryDelay=i,m}}},aL=e=>{if(!ps.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},vf=class extends dc{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new Te.DefaultRateLimiter,this.mode=Te.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Df="AWS_MAX_ATTEMPTS",Of="max_attempts",cL={environmentVariableSelector:e=>{let t=e[Df];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Df} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Of];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Of} mast be a number, got "${t}"`);return r},default:Te.DEFAULT_MAX_ATTEMPTS},dL=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=xx.normalizeProvider(n??Te.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await xx.normalizeProvider(r)()===Te.RETRY_MODES.ADAPTIVE?new Te.AdaptiveRetryStrategy(s):new Te.StandardRetryStrategy(s))})},Rx="AWS_RETRY_MODE",Px="retry_mode",lL={environmentVariableSelector:e=>e[Rx],configFileSelector:e=>e[Px],default:Te.DEFAULT_RETRY_MODE},Nx=()=>e=>async t=>{let{request:r}=t;return ps.HttpRequest.isInstance(r)&&(delete r.headers[Te.INVOCATION_ID_HEADER],delete r.headers[Te.REQUEST_HEADER]),e(t)},vx={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},uL=e=>({applyToStack:t=>{t.addRelativeTo(Nx(),vx)}}),Dx=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(pL(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),c=new Error,d=0,l=0,{request:m}=n,f=ps.HttpRequest.isInstance(m);for(f&&(m.headers[Te.INVOCATION_ID_HEADER]=Tx.v4());;)try{f&&(m.headers[Te.REQUEST_HEADER]=`attempt=${d+1}; max=${o}`);let{response:g,output:h}=await t(n);return s.recordSuccess(i),h.$metadata.attempts=d+1,h.$metadata.totalRetryDelay=l,{response:g,output:h}}catch(g){let h=mL(g);if(c=Ax(g),f&&oL.isStreamingPayload(m))throw(r.logger instanceof sL.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{i=await s.refreshRetryTokenForRetry(i,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=d+1,c.$metadata.totalRetryDelay=l,c}d=i.getRetryCount();let E=i.getRetryDelay();l+=E,await new Promise(T=>setTimeout(T,E))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},pL=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",mL=e=>{let t={error:e,errorType:fL(e)},r=kx(e.$response);return r&&(t.retryAfterHint=r),t},fL=e=>Gr.isThrottlingError(e)?"THROTTLING":Gr.isTransientError(e)?"TRANSIENT":Gr.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",Ox={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},hL=e=>({applyToStack:t=>{t.add(Dx(e),Ox)}}),kx=e=>{if(!ps.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ue.AdaptiveRetryStrategy=vf;Ue.CONFIG_MAX_ATTEMPTS=Of;Ue.CONFIG_RETRY_MODE=Px;Ue.ENV_MAX_ATTEMPTS=Df;Ue.ENV_RETRY_MODE=Rx;Ue.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=cL;Ue.NODE_RETRY_MODE_CONFIG_OPTIONS=lL;Ue.StandardRetryStrategy=dc;Ue.defaultDelayDecider=Cx;Ue.defaultRetryDecider=Ix;Ue.getOmitRetryHeadersPlugin=uL;Ue.getRetryAfterHint=kx;Ue.getRetryPlugin=hL;Ue.omitRetryHeadersMiddleware=Nx;Ue.omitRetryHeadersMiddlewareOptions=vx;Ue.resolveRetryConfig=dL;Ue.retryMiddleware=Dx;Ue.retryMiddlewareOptions=Ox});var Lf=N(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.resolveHttpAuthSchemeConfig=Wr.defaultDynamoDBHttpAuthSchemeProvider=Wr.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var gL=($e(),me($t)),kf=Ze(),yL=async(e,t,r)=>({operation:(0,kf.getSmithyContext)(t).operation,region:await(0,kf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Wr.defaultDynamoDBHttpAuthSchemeParametersProvider=yL;function EL(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var SL=e=>{let t=[];switch(e.operation){default:t.push(EL(e))}return t};Wr.defaultDynamoDBHttpAuthSchemeProvider=SL;var bL=e=>{let t=(0,gL.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,kf.normalizeProvider)(e.authSchemePreference??[])})};Wr.resolveHttpAuthSchemeConfig=bL});var Lx=N((e5,_L)=>{_L.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.913.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/credential-provider-node":"3.913.0","@aws-sdk/middleware-endpoint-discovery":"3.910.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.2","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Mf=N(Kr=>{"use strict";var wL=(Pt(),me(Or)),xL=nt(),Mx="AWS_ACCESS_KEY_ID",Bx="AWS_SECRET_ACCESS_KEY",Ux="AWS_SESSION_TOKEN",Fx="AWS_CREDENTIAL_EXPIRATION",$x="AWS_CREDENTIAL_SCOPE",jx="AWS_ACCOUNT_ID",TL=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Mx],r=process.env[Bx],n=process.env[Ux],s=process.env[Fx],o=process.env[$x],i=process.env[jx];if(t&&r){let c={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return wL.setCredentialFeature(c,"CREDENTIALS_ENV_VARS","g"),c}throw new xL.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Kr.ENV_ACCOUNT_ID=jx;Kr.ENV_CREDENTIAL_SCOPE=$x;Kr.ENV_EXPIRATION=Fx;Kr.ENV_KEY=Mx;Kr.ENV_SECRET=Bx;Kr.ENV_SESSION=Ux;Kr.fromEnv=TL});var Po=N(Ye=>{"use strict";var qt=nt(),CL=require("url"),IL=require("buffer"),AL=require("http"),jf=qr(),RL=vr();function Ro(e){return new Promise((t,r)=>{let n=AL.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new qt.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new qt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new qt.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",c=>{i.push(c)}),s.on("end",()=>{t(IL.Buffer.concat(i)),n.destroy()})}),n.end()})}var Vx=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",Gx=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),Wx=1e3,Kx=0,zf=({maxRetries:e=Kx,timeout:t=Wx})=>({maxRetries:e,timeout:t}),Uf=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},lc="AWS_CONTAINER_CREDENTIALS_FULL_URI",uc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Ff="AWS_CONTAINER_AUTHORIZATION_TOKEN",PL=(e={})=>{let{timeout:t,maxRetries:r}=zf(e);return()=>Uf(async()=>{let n=await kL({logger:e.logger}),s=JSON.parse(await NL(t,n));if(!Vx(s))throw new qt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return Gx(s)},r)},NL=async(e,t)=>(process.env[Ff]&&(t.headers={...t.headers,Authorization:process.env[Ff]}),(await Ro({...t,timeout:e})).toString()),vL="169.254.170.2",DL={localhost:!0,"127.0.0.1":!0},OL={"http:":!0,"https:":!0},kL=async({logger:e})=>{if(process.env[uc])return{hostname:vL,path:process.env[uc]};if(process.env[lc]){let t=CL.parse(process.env[lc]);if(!t.hostname||!(t.hostname in DL))throw new qt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in OL))throw new qt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new qt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${uc} or ${lc} environment variable is set`,{tryNextLink:!1,logger:e})},$f=class e extends qt.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};Ye.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Ye.Endpoint||(Ye.Endpoint={}));var LL="AWS_EC2_METADATA_SERVICE_ENDPOINT",ML="ec2_metadata_service_endpoint",BL={environmentVariableSelector:e=>e[LL],configFileSelector:e=>e[ML],default:void 0},ms;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(ms||(ms={}));var UL="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",FL="ec2_metadata_service_endpoint_mode",$L={environmentVariableSelector:e=>e[UL],configFileSelector:e=>e[FL],default:ms.IPv4},Jx=async()=>RL.parseUrl(await jL()||await zL()),jL=async()=>jf.loadConfig(BL)(),zL=async()=>{let e=await jf.loadConfig($L)();switch(e){case ms.IPv4:return Ye.Endpoint.IPv4;case ms.IPv6:return Ye.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(ms)}`)}},qL=300,HL=300,VL="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",zx=(e,t)=>{let r=qL+Math.floor(Math.random()*HL),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+VL);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},GL=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=zx(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=zx(n,r);else throw o}return n=s,s}},Yx="/latest/meta-data/iam/security-credentials/",WL="/latest/api/token",Bf="AWS_EC2_METADATA_V1_DISABLED",qx="ec2_metadata_v1_disabled",Hx="x-aws-ec2-metadata-token",KL=(e={})=>GL(JL(e),{logger:e.logger}),JL=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=zf(e),i=async(c,d)=>{if(t||d.headers?.[Hx]==null){let f=!1,g=!1,h=await jf.loadConfig({environmentVariableSelector:E=>{let T=E[Bf];if(g=!!T&&T!=="false",T===void 0)throw new qt.CredentialsProviderError(`${Bf} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:E=>{let T=E[qx];return f=!!T&&T!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let E=[];throw e.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&E.push(`config file profile (${qx})`),g&&E.push(`process environment variable (${Bf})`),new $f(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let m=(await Uf(async()=>{let f;try{f=await XL(d)}catch(g){throw g.statusCode===401&&(t=!1),g}return f},c)).trim();return Uf(async()=>{let f;try{f=await QL(m,d,e)}catch(g){throw g.statusCode===401&&(t=!1),g}return f},c)};return async()=>{let c=await Jx();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...c,timeout:s});{let d;try{d=(await YL({...c,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...c,timeout:s})}return i(o,{...c,headers:{[Hx]:d},timeout:s})}}},YL=async e=>Ro({...e,path:WL,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),XL=async e=>(await Ro({...e,path:Yx})).toString(),QL=async(e,t,r)=>{let n=JSON.parse((await Ro({...t,path:Yx+e})).toString());if(!Vx(n))throw new qt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return Gx(n)};Ye.DEFAULT_MAX_RETRIES=Kx;Ye.DEFAULT_TIMEOUT=Wx;Ye.ENV_CMDS_AUTH_TOKEN=Ff;Ye.ENV_CMDS_FULL_URI=lc;Ye.ENV_CMDS_RELATIVE_URI=uc;Ye.fromContainerMetadata=PL;Ye.fromInstanceMetadata=KL;Ye.getInstanceMetadataEndpoint=Jx;Ye.httpRequest=Ro;Ye.providerConfigFromInit=zf});var Xx=N(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.checkUrl=void 0;var ZL=nt(),eM="169.254.170.2",tM="169.254.170.23",rM="[fd00:ec2::23]",nM=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===eM||e.hostname===tM||e.hostname===rM)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new ZL.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};pc.checkUrl=nM});var Qx=N(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.createGetRequest=aM;mc.getCredentials=cM;var qf=nt(),sM=Se(),oM=ae(),iM=Xi();function aM(e){return new sM.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function cM(e,t){let n=await(0,iM.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new qf.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,oM.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new qf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new qf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var Zx=N(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.retryWrapper=void 0;var dM=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};fc.retryWrapper=dM});var rT=N(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.fromHttp=void 0;var lM=(no(),me(ro)),uM=(Pt(),me(Or)),pM=pn(),eT=nt(),mM=lM.__importDefault(require("fs/promises")),fM=Xx(),tT=Qx(),hM=Zx(),gM="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",yM="http://169.254.170.2",EM="AWS_CONTAINER_CREDENTIALS_FULL_URI",SM="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",bM="AWS_CONTAINER_AUTHORIZATION_TOKEN",_M=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[gM],n=e.awsContainerCredentialsFullUri??process.env[EM],s=e.awsContainerAuthorizationToken??process.env[bM],o=e.awsContainerAuthorizationTokenFile??process.env[SM],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${yM}${r}`;else throw new eT.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(t);(0,fM.checkUrl)(c,e.logger);let d=pM.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,hM.retryWrapper)(async()=>{let l=(0,tT.createGetRequest)(c);s?l.headers.Authorization=s:o&&(l.headers.Authorization=(await mM.default.readFile(o)).toString());try{let m=await d.handle(l);return(0,tT.getCredentials)(m.response).then(f=>(0,uM.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(m){throw new eT.CredentialsProviderError(String(m),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};hc.fromHttp=_M});var Hf=N(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.fromHttp=void 0;var wM=rT();Object.defineProperty(gc,"fromHttp",{enumerable:!0,get:function(){return wM.fromHttp}})});function xM(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function TM(e){return{schemeId:"smithy.api#noAuth"}}var No,nT,sT,oT,Vf=w(()=>{$e();No=C(Ze()),nT=async(e,t,r)=>({operation:(0,No.getSmithyContext)(t).operation,region:await(0,No.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});sT=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(TM(e));break}default:t.push(xM(e))}return t},oT=e=>{let t=Tn(e);return Object.assign(t,{authSchemePreference:(0,No.normalizeProvider)(e.authSchemePreference??[])})}});var iT,aT,Gf=w(()=>{iT=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),aT={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var yc,Wf=w(()=>{yc={name:"@aws-sdk/nested-clients",version:"3.911.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var vo=N(vn=>{"use strict";var cT=require("os"),Kf=require("process"),IM=cs(),dT={isCrtAvailable:!1},AM=()=>dT.isCrtAvailable?["md/crt-avail"]:null,lT=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${cT.platform()}`,cT.release()],["lang/js"],["md/nodejs",`${Kf.versions.node}`]],s=AM();s&&n.push(s),e&&n.push([`api/${e}`,t]),Kf.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Kf.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},RM=lT,uT="AWS_SDK_UA_APP_ID",pT="sdk_ua_app_id",PM="sdk-ua-app-id",NM={environmentVariableSelector:e=>e[uT],configFileSelector:e=>e[pT]??e[PM],default:IM.DEFAULT_UA_APP_ID};vn.NODE_APP_ID_CONFIG_OPTIONS=NM;vn.UA_APP_ID_ENV_NAME=uT;vn.UA_APP_ID_INI_NAME=pT;vn.createDefaultUserAgentProvider=lT;vn.crtAvailability=dT;vn.defaultUserAgent=RM});var Do=N(hT=>{"use strict";var Jf=jn(),vM=ze(),DM=require("buffer"),mT=require("crypto"),Yf=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(vM.toUint8Array(fT(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?mT.createHmac(this.algorithmIdentifier,fT(this.secret)):mT.createHash(this.algorithmIdentifier)}};function fT(e,t){return DM.Buffer.isBuffer(e)?e:typeof e=="string"?Jf.fromString(e,t):ArrayBuffer.isView(e)?Jf.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Jf.fromArrayBuffer(e)}hT.Hash=Yf});var Oo=N(gT=>{"use strict";var Xf=require("node:fs"),OM=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Xf.ReadStream){if(e.path!=null)return Xf.lstatSync(e.path).size;if(typeof e.fd=="number")return Xf.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};gT.calculateBodyLength=OM});var IT,wt,yT,ko,fs,hs,mr,Qf,Zf,ET,ST,bT,AT,RT,_t,_T,PT,wT,xT,TT,CT,kM,NT,vT=w(()=>{IT="required",wt="argv",yT="isSet",ko="booleanEquals",fs="error",hs="endpoint",mr="tree",Qf="PartitionResult",Zf="getAttr",ET={[IT]:!1,type:"String"},ST={[IT]:!0,default:!1,type:"Boolean"},bT={ref:"Endpoint"},AT={fn:ko,[wt]:[{ref:"UseFIPS"},!0]},RT={fn:ko,[wt]:[{ref:"UseDualStack"},!0]},_t={},_T={fn:Zf,[wt]:[{ref:Qf},"supportsFIPS"]},PT={ref:Qf},wT={fn:ko,[wt]:[!0,{fn:Zf,[wt]:[PT,"supportsDualStack"]}]},xT=[AT],TT=[RT],CT=[{ref:"Region"}],kM={version:"1.0",parameters:{Region:ET,UseDualStack:ST,UseFIPS:ST,Endpoint:ET},rules:[{conditions:[{fn:yT,[wt]:[bT]}],rules:[{conditions:xT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:fs},{conditions:TT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:fs},{endpoint:{url:bT,properties:_t,headers:_t},type:hs}],type:mr},{conditions:[{fn:yT,[wt]:CT}],rules:[{conditions:[{fn:"aws.partition",[wt]:CT,assign:Qf}],rules:[{conditions:[AT,RT],rules:[{conditions:[{fn:ko,[wt]:[!0,_T]},wT],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:hs}],type:mr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:fs}],type:mr},{conditions:xT,rules:[{conditions:[{fn:ko,[wt]:[_T,!0]}],rules:[{conditions:[{fn:"stringEquals",[wt]:[{fn:Zf,[wt]:[PT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:_t,headers:_t},type:hs},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:hs}],type:mr},{error:"FIPS is enabled but this partition does not support FIPS",type:fs}],type:mr},{conditions:TT,rules:[{conditions:[wT],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:hs}],type:mr},{error:"DualStack is enabled but this partition does not support DualStack",type:fs}],type:mr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:hs}],type:mr}],type:mr},{error:"Invalid Configuration: Missing Region",type:fs}]},NT=kM});var DT,gs,LM,OT,kT=w(()=>{DT=C(Xn()),gs=C(_n());vT();LM=new gs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),OT=(e,t={})=>LM.get(e,()=>(0,gs.resolveEndpoint)(NT,{endpointParams:e,logger:t.logger}));gs.customEndpointFunctions.aws=DT.awsEndpointFunctions});var LT,MT,Ec,Sc,BT,UT=w(()=>{$e();ct();LT=C(ae()),MT=C(vr()),Ec=C(qe()),Sc=C(ze());Vf();kT();BT=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ec.fromBase64,base64Encoder:e?.base64Encoder??Ec.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??OT,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??sT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new dt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new sr}],logger:e?.logger??new LT.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??MT.parseUrl,utf8Decoder:e?.utf8Decoder??Sc.fromUtf8,utf8Encoder:e?.utf8Encoder??Sc.toUtf8})});var Lo=N(zT=>{"use strict";var MM=zt(),FT=qr(),BM=nt(),UM="AWS_EXECUTION_ENV",$T="AWS_REGION",jT="AWS_DEFAULT_REGION",FM="AWS_EC2_METADATA_DISABLED",$M=["in-region","cross-region","mobile","standard","legacy"],jM="/latest/meta-data/placement/region",zM="AWS_DEFAULTS_MODE",qM="defaults_mode",HM={environmentVariableSelector:e=>e[zM],configFileSelector:e=>e[qM],default:"legacy"},VM=({region:e=FT.loadConfig(MM.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=FT.loadConfig(HM)}={})=>BM.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return GM(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${$M.join(", ")}, got ${r}`)}}),GM=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await WM();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},WM=async()=>{if(process.env[UM]&&(process.env[$T]||process.env[jT]))return process.env[$T]??process.env[jT];if(!process.env[FM])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>C(Po())),r=await e();return(await t({...r,path:jM})).toString()}catch{}};zT.resolveDefaultsModeConfig=VM});var bc,Yr,qT,_c,Jr,wc,HT,VT,GT,WT,KT,JT,YT=w(()=>{Wf();$e();bc=C(vo()),Yr=C(zt()),qT=C(Do()),_c=C(pr()),Jr=C(qr()),wc=C(pn()),HT=C(Oo()),VT=C(us());UT();GT=C(ae()),WT=C(Lo()),KT=C(ae()),JT=e=>{(0,KT.emitWarningIfUnsupportedVersion)(process.version);let t=(0,WT.resolveDefaultsModeConfig)(e),r=()=>t().then(GT.loadConfigsForDefaultMode),n=BT(e);Qn(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,Jr.loadConfig)(ts,s),bodyLengthChecker:e?.bodyLengthChecker??HT.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,bc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:yc.version}),maxAttempts:e?.maxAttempts??(0,Jr.loadConfig)(_c.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Jr.loadConfig)(Yr.NODE_REGION_CONFIG_OPTIONS,{...Yr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:wc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Jr.loadConfig)({..._c.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||VT.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??qT.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??wc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Jr.loadConfig)(Yr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Jr.loadConfig)(Yr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Jr.loadConfig)(bc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Mo=N(Xr=>{"use strict";var KM=e=>({setRegion(t){e.region=t},region(){return e.region}}),JM=e=>({region:e.region()}),QT="AWS_REGION",ZT="region",YM={environmentVariableSelector:e=>e[QT],configFileSelector:e=>e[ZT],default:()=>{throw new Error("Region is missing")}},XM={preferredFile:"credentials"},eC=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),XT=e=>eC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,QM=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return XT(t);let n=await t();return XT(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return eC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})};Xr.NODE_REGION_CONFIG_FILE_OPTIONS=XM;Xr.NODE_REGION_CONFIG_OPTIONS=YM;Xr.REGION_ENV_NAME=QT;Xr.REGION_INI_NAME=ZT;Xr.getAwsRegionExtensionConfiguration=KM;Xr.resolveAwsRegionExtensionConfiguration=JM;Xr.resolveRegionConfig=QM});var tC,rC,nC=w(()=>{tC=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},rC=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var xc,Tc,Cc,sC,oC=w(()=>{xc=C(Mo()),Tc=C(Se()),Cc=C(ae());nC();sC=(e,t)=>{let r=Object.assign((0,xc.getAwsRegionExtensionConfiguration)(e),(0,Cc.getDefaultExtensionConfiguration)(e),(0,Tc.getHttpHandlerExtensionConfiguration)(e),tC(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,xc.resolveAwsRegionExtensionConfiguration)(r),(0,Cc.resolveDefaultRuntimeConfig)(r),(0,Tc.resolveHttpHandlerRuntimeConfig)(r),rC(r))}});var Ic,iC,aC,Ac,cC,dC,lC,Rc,eh,Bo,th=w(()=>{Ic=C($s()),iC=C(js()),aC=C(zs()),Ac=C(cs()),cC=C(zt());ct();dC=C(xo()),lC=C(Hr()),Rc=C(pr()),eh=C(ae());Vf();Gf();YT();oC();Bo=class extends eh.Client{config;constructor(...[t]){let r=JT(t||{});super(r),this.initConfig=r;let n=iT(r),s=(0,Ac.resolveUserAgentConfig)(n),o=(0,Rc.resolveRetryConfig)(s),i=(0,cC.resolveRegionConfig)(o),c=(0,Ic.resolveHostHeaderConfig)(i),d=(0,lC.resolveEndpointConfig)(c),l=oT(d),m=sC(l,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,Ac.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Rc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,dC.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ic.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iC.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,aC.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Hs(this.config,{httpAuthSchemeParametersProvider:nT,identityProviderConfigProvider:async f=>new Sn({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Vs(this.config))}destroy(){super.destroy()}}});var uC,je,Pc=w(()=>{uC=C(ae()),je=class e extends uC.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Dn,ZM,Uo,Fo,rh,nh,$o,jo,zo,qo,eB,Ho,Vo,Go,Wo,Ko,Nc=w(()=>{Dn=C(ae());Pc();ZM={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Uo=class e extends je{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Fo=class e extends je{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},rh=e=>({...e,...e.clientSecret&&{clientSecret:Dn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Dn.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:Dn.SENSITIVE_STRING}}),nh=e=>({...e,...e.accessToken&&{accessToken:Dn.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:Dn.SENSITIVE_STRING},...e.idToken&&{idToken:Dn.SENSITIVE_STRING}}),$o=class e extends je{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},jo=class e extends je{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},zo=class e extends je{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qo=class e extends je{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},eB={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},Ho=class e extends je{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Vo=class e extends je{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Go=class e extends je{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Wo=class e extends je{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ko=class e extends je{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var k,pC,mC,tB,rB,nB,sB,oB,iB,aB,cB,dB,lB,uB,pB,mB,xt,fC=w(()=>{$e();ct();k=C(ae());Nc();Pc();pC=async(e,t)=>{let r=io(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,k.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,k._json)(o)})),r.m("POST").h(n).b(s),r.build()},mC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tB(e,t);let r=(0,k.map)({$metadata:xt(e)}),n=(0,k.expectNonNull)((0,k.expectObject)(await is(e.body,t)),"body"),s=(0,k.take)(n,{accessToken:k.expectString,expiresIn:k.expectInt32,idToken:k.expectString,refreshToken:k.expectString,tokenType:k.expectString});return Object.assign(r,s),r},tB=async(e,t)=>{let r={...e,body:await Xm(e.body,t)},n=In(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await nB(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await sB(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await oB(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await iB(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await aB(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await cB(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await dB(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await lB(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await uB(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await pB(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await mB(r,t);default:let s=r.body;return rB({output:e,parsedBody:s,errorCode:n})}},rB=(0,k.withBaseException)(je),nB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString,reason:k.expectString});Object.assign(r,s);let o=new Uo({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},sB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Fo({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},oB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new $o({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},iB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new jo({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},aB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new zo({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},cB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new qo({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},dB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString,reason:k.expectString});Object.assign(r,s);let o=new Ho({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},lB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Vo({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},uB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Go({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},pB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Wo({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},mB=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Ko({$metadata:xt(e),...r});return(0,k.decorateServiceException)(o,e.body)},xt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var hC,gC,sh,Jo,oh=w(()=>{hC=C(Hr()),gC=C(Ir()),sh=C(ae());Gf();Nc();fC();Jo=class extends sh.Command.classBuilder().ep(aT).m(function(t,r,n,s){return[(0,gC.getSerdePlugin)(n,this.serialize,this.deserialize),(0,hC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(rh,nh).ser(pC).de(mC).build(){}});var yC,fB,vc,EC=w(()=>{yC=C(ae());oh();th();fB={CreateTokenCommand:Jo},vc=class extends Bo{};(0,yC.createAggregatedClient)(fB,vc)});var SC=w(()=>{oh()});var bC=w(()=>{Nc()});var ih={};pt(ih,{$Command:()=>sh.Command,AccessDeniedException:()=>Uo,AccessDeniedExceptionReason:()=>ZM,AuthorizationPendingException:()=>Fo,CreateTokenCommand:()=>Jo,CreateTokenRequestFilterSensitiveLog:()=>rh,CreateTokenResponseFilterSensitiveLog:()=>nh,ExpiredTokenException:()=>$o,InternalServerException:()=>jo,InvalidClientException:()=>zo,InvalidGrantException:()=>qo,InvalidRequestException:()=>Ho,InvalidRequestExceptionReason:()=>eB,InvalidScopeException:()=>Vo,SSOOIDC:()=>vc,SSOOIDCClient:()=>Bo,SSOOIDCServiceException:()=>je,SlowDownException:()=>Go,UnauthorizedClientException:()=>Wo,UnsupportedGrantTypeException:()=>Ko,__Client:()=>eh.Client});var ah=w(()=>{th();EC();SC();bC();Pc()});var TC=N(Xo=>{"use strict";var hB=(Pt(),me(Or)),gB=(wm(),me(T_)),ht=nt(),Yo=lr(),yB=require("fs"),EB=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new ht.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=gB.getBearerTokenEnvKey(t);if(!(r in process.env))throw new ht.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return hB.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},SB=300*1e3,ch="To refresh this SSO session run 'aws sso login' with the corresponding profile.",bB=async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(ah(),ih));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},_B=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(ah(),ih));return(await bB(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},_C=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new ht.TokenProviderError(`Token is expired. ${ch}`,!1)},On=(e,t,r=!1)=>{if(typeof t>"u")throw new ht.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${ch}`,!1)},{writeFile:wB}=yB.promises,xB=(e,t)=>{let r=Yo.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return wB(r,n)},wC=new Date(0),xC=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Yo.parseKnownFiles(r),s=Yo.getProfileName({profile:r.profile??t?.profile}),o=n[s];if(o){if(!o.sso_session)throw new ht.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new ht.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,d=(await Yo.loadSsoSessionData(r))[i];if(!d)throw new ht.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!d[E])throw new ht.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);d.sso_start_url;let l=d.sso_region,m;try{m=await Yo.getSSOTokenFromFile(i)}catch{throw new ht.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${ch}`,!1)}On("accessToken",m.accessToken),On("expiresAt",m.expiresAt);let{accessToken:f,expiresAt:g}=m,h={token:f,expiration:new Date(g)};if(h.expiration.getTime()-Date.now()>SB)return h;if(Date.now()-wC.getTime()<30*1e3)return _C(h),h;On("clientId",m.clientId,!0),On("clientSecret",m.clientSecret,!0),On("refreshToken",m.refreshToken,!0);try{wC.setTime(Date.now());let E=await _B(m,l,r);On("accessToken",E.accessToken),On("expiresIn",E.expiresIn);let T=new Date(Date.now()+E.expiresIn*1e3);try{await xB(i,{...m,accessToken:E.accessToken,expiresAt:T.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:T}}catch{return _C(h),h}},TB=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new ht.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},CB=(e={})=>ht.memoize(ht.chain(xC(e),async()=>{throw new ht.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Xo.fromEnvSigningName=EB;Xo.fromSso=xC;Xo.fromStatic=TB;Xo.nodeProvider=CB});var lh=N(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.resolveHttpAuthSchemeConfig=Qr.defaultSSOHttpAuthSchemeProvider=Qr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var IB=($e(),me($t)),dh=Ze(),AB=async(e,t,r)=>({operation:(0,dh.getSmithyContext)(t).operation,region:await(0,dh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Qr.defaultSSOHttpAuthSchemeParametersProvider=AB;function RB(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Dc(e){return{schemeId:"smithy.api#noAuth"}}var PB=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Dc(e));break}case"ListAccountRoles":{t.push(Dc(e));break}case"ListAccounts":{t.push(Dc(e));break}case"Logout":{t.push(Dc(e));break}default:t.push(RB(e))}return t};Qr.defaultSSOHttpAuthSchemeProvider=PB;var NB=e=>{let t=(0,IB.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,dh.normalizeProvider)(e.authSchemePreference??[])})};Qr.resolveHttpAuthSchemeConfig=NB});var CC=N((lY,vB)=>{vB.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.911.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var $C=N(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.ruleSet=void 0;var MC="required",Ct="fn",It="argv",Ss="ref",IC=!0,AC="isSet",Qo="booleanEquals",ys="error",Es="endpoint",fr="tree",uh="PartitionResult",ph="getAttr",RC={[MC]:!1,type:"String"},PC={[MC]:!0,default:!1,type:"Boolean"},NC={[Ss]:"Endpoint"},BC={[Ct]:Qo,[It]:[{[Ss]:"UseFIPS"},!0]},UC={[Ct]:Qo,[It]:[{[Ss]:"UseDualStack"},!0]},Tt={},vC={[Ct]:ph,[It]:[{[Ss]:uh},"supportsFIPS"]},FC={[Ss]:uh},DC={[Ct]:Qo,[It]:[!0,{[Ct]:ph,[It]:[FC,"supportsDualStack"]}]},OC=[BC],kC=[UC],LC=[{[Ss]:"Region"}],DB={version:"1.0",parameters:{Region:RC,UseDualStack:PC,UseFIPS:PC,Endpoint:RC},rules:[{conditions:[{[Ct]:AC,[It]:[NC]}],rules:[{conditions:OC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ys},{conditions:kC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ys},{endpoint:{url:NC,properties:Tt,headers:Tt},type:Es}],type:fr},{conditions:[{[Ct]:AC,[It]:LC}],rules:[{conditions:[{[Ct]:"aws.partition",[It]:LC,assign:uh}],rules:[{conditions:[BC,UC],rules:[{conditions:[{[Ct]:Qo,[It]:[IC,vC]},DC],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:Es}],type:fr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ys}],type:fr},{conditions:OC,rules:[{conditions:[{[Ct]:Qo,[It]:[vC,IC]}],rules:[{conditions:[{[Ct]:"stringEquals",[It]:[{[Ct]:ph,[It]:[FC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Tt,headers:Tt},type:Es},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:Es}],type:fr},{error:"FIPS is enabled but this partition does not support FIPS",type:ys}],type:fr},{conditions:kC,rules:[{conditions:[DC],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:Es}],type:fr},{error:"DualStack is enabled but this partition does not support DualStack",type:ys}],type:fr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:Es}],type:fr}],type:fr},{error:"Invalid Configuration: Missing Region",type:ys}]};Oc.ruleSet=DB});var jC=N(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.defaultEndpointResolver=void 0;var OB=Xn(),mh=_n(),kB=$C(),LB=new mh.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),MB=(e,t={})=>LB.get(e,()=>(0,mh.resolveEndpoint)(kB.ruleSet,{endpointParams:e,logger:t.logger}));kc.defaultEndpointResolver=MB;mh.customEndpointFunctions.aws=OB.awsEndpointFunctions});var HC=N(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getRuntimeConfig=void 0;var BB=($e(),me($t)),UB=(ct(),me(Jn)),FB=ae(),$B=vr(),zC=qe(),qC=ze(),jB=lh(),zB=jC(),qB=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??zC.fromBase64,base64Encoder:e?.base64Encoder??zC.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??zB.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??jB.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new BB.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new UB.NoAuthSigner}],logger:e?.logger??new FB.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??$B.parseUrl,utf8Decoder:e?.utf8Decoder??qC.fromUtf8,utf8Encoder:e?.utf8Encoder??qC.toUtf8});Lc.getRuntimeConfig=qB});var JC=N(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getRuntimeConfig=void 0;var HB=(no(),me(ro)),VB=HB.__importDefault(CC()),VC=($e(),me($t)),GC=vo(),Mc=zt(),GB=Do(),WC=pr(),kn=qr(),KC=pn(),WB=Oo(),KB=us(),JB=HC(),YB=ae(),XB=Lo(),QB=ae(),ZB=e=>{(0,QB.emitWarningIfUnsupportedVersion)(process.version);let t=(0,XB.resolveDefaultsModeConfig)(e),r=()=>t().then(YB.loadConfigsForDefaultMode),n=(0,JB.getRuntimeConfig)(e);(0,VC.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,kn.loadConfig)(VC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??WB.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,GC.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:VB.default.version}),maxAttempts:e?.maxAttempts??(0,kn.loadConfig)(WC.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,kn.loadConfig)(Mc.NODE_REGION_CONFIG_OPTIONS,{...Mc.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:KC.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,kn.loadConfig)({...WC.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||KB.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??GB.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??KC.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,kn.loadConfig)(Mc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,kn.loadConfig)(Mc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,kn.loadConfig)(GC.NODE_APP_ID_CONFIG_OPTIONS,s)}};Bc.getRuntimeConfig=ZB});var fI=N(Ae=>{"use strict";var YC=$s(),eU=js(),tU=zs(),XC=cs(),rU=zt(),hr=(ct(),me(Jn)),nU=xo(),ri=Hr(),QC=pr(),M=ae(),ZC=lh(),sU=JC(),eI=Mo(),tI=Se(),Vc=Ir(),Zo=($e(),me($t)),oU=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Gc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},iU=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},aU=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),cU=(e,t)=>{let r=Object.assign(eI.getAwsRegionExtensionConfiguration(e),M.getDefaultExtensionConfiguration(e),tI.getHttpHandlerExtensionConfiguration(e),iU(e));return t.forEach(n=>n.configure(r)),Object.assign(e,eI.resolveAwsRegionExtensionConfiguration(r),M.resolveDefaultRuntimeConfig(r),tI.resolveHttpHandlerRuntimeConfig(r),aU(r))},bs=class extends M.Client{config;constructor(...[t]){let r=sU.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=oU(r),s=XC.resolveUserAgentConfig(n),o=QC.resolveRetryConfig(s),i=rU.resolveRegionConfig(o),c=YC.resolveHostHeaderConfig(i),d=ri.resolveEndpointConfig(c),l=ZC.resolveHttpAuthSchemeConfig(d),m=cU(l,t?.extensions||[]);this.config=m,this.middlewareStack.use(XC.getUserAgentPlugin(this.config)),this.middlewareStack.use(QC.getRetryPlugin(this.config)),this.middlewareStack.use(nU.getContentLengthPlugin(this.config)),this.middlewareStack.use(YC.getHostHeaderPlugin(this.config)),this.middlewareStack.use(eU.getLoggerPlugin(this.config)),this.middlewareStack.use(tU.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(hr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:ZC.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new hr.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(hr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Zr=class e extends M.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Uc=class e extends Zr{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Fc=class e extends Zr{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$c=class e extends Zr{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jc=class e extends Zr{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rI=e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),nI=e=>({...e,...e.secretAccessKey&&{secretAccessKey:M.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:M.SENSITIVE_STRING}}),sI=e=>({...e,...e.roleCredentials&&{roleCredentials:nI(e.roleCredentials)}}),oI=e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),iI=e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),aI=e=>({...e,...e.accessToken&&{accessToken:M.SENSITIVE_STRING}}),dU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=M.map({},M.isSerializableHeaderValue,{[Jc]:e[Kc]});r.bp("/federation/credentials");let s=M.map({[xU]:[,M.expectNonNull(e[wU],"roleName")],[dI]:[,M.expectNonNull(e[cI],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},lU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=M.map({},M.isSerializableHeaderValue,{[Jc]:e[Kc]});r.bp("/assignment/roles");let s=M.map({[mI]:[,e[pI]],[uI]:[()=>e.maxResults!==void 0,()=>e[lI].toString()],[dI]:[,M.expectNonNull(e[cI],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},uU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=M.map({},M.isSerializableHeaderValue,{[Jc]:e[Kc]});r.bp("/assignment/accounts");let s=M.map({[mI]:[,e[pI]],[uI]:[()=>e.maxResults!==void 0,()=>e[lI].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},pU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=M.map({},M.isSerializableHeaderValue,{[Jc]:e[Kc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},mU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wc(e,t);let r=M.map({$metadata:en(e)}),n=M.expectNonNull(M.expectObject(await Zo.parseJsonBody(e.body,t)),"body"),s=M.take(n,{roleCredentials:M._json});return Object.assign(r,s),r},fU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wc(e,t);let r=M.map({$metadata:en(e)}),n=M.expectNonNull(M.expectObject(await Zo.parseJsonBody(e.body,t)),"body"),s=M.take(n,{nextToken:M.expectString,roleList:M._json});return Object.assign(r,s),r},hU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wc(e,t);let r=M.map({$metadata:en(e)}),n=M.expectNonNull(M.expectObject(await Zo.parseJsonBody(e.body,t)),"body"),s=M.take(n,{accountList:M._json,nextToken:M.expectString});return Object.assign(r,s),r},gU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wc(e,t);let r=M.map({$metadata:en(e)});return await M.collectBody(e.body,t),r},Wc=async(e,t)=>{let r={...e,body:await Zo.parseJsonErrorBody(e.body,t)},n=Zo.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await EU(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await SU(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await bU(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await _U(r);default:let s=r.body;return yU({output:e,parsedBody:s,errorCode:n})}},yU=M.withBaseException(Zr),EU=async(e,t)=>{let r=M.map({}),n=e.body,s=M.take(n,{message:M.expectString});Object.assign(r,s);let o=new Uc({$metadata:en(e),...r});return M.decorateServiceException(o,e.body)},SU=async(e,t)=>{let r=M.map({}),n=e.body,s=M.take(n,{message:M.expectString});Object.assign(r,s);let o=new Fc({$metadata:en(e),...r});return M.decorateServiceException(o,e.body)},bU=async(e,t)=>{let r=M.map({}),n=e.body,s=M.take(n,{message:M.expectString});Object.assign(r,s);let o=new $c({$metadata:en(e),...r});return M.decorateServiceException(o,e.body)},_U=async(e,t)=>{let r=M.map({}),n=e.body,s=M.take(n,{message:M.expectString});Object.assign(r,s);let o=new jc({$metadata:en(e),...r});return M.decorateServiceException(o,e.body)},en=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),cI="accountId",Kc="accessToken",dI="account_id",lI="maxResults",uI="max_result",pI="nextToken",mI="next_token",wU="roleName",xU="role_name",Jc="x-amz-sso_bearer_token",zc=class extends M.Command.classBuilder().ep(Gc).m(function(t,r,n,s){return[Vc.getSerdePlugin(n,this.serialize,this.deserialize),ri.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(rI,sI).ser(dU).de(mU).build(){},ei=class extends M.Command.classBuilder().ep(Gc).m(function(t,r,n,s){return[Vc.getSerdePlugin(n,this.serialize,this.deserialize),ri.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(oI,void 0).ser(lU).de(fU).build(){},ti=class extends M.Command.classBuilder().ep(Gc).m(function(t,r,n,s){return[Vc.getSerdePlugin(n,this.serialize,this.deserialize),ri.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(iI,void 0).ser(uU).de(hU).build(){},qc=class extends M.Command.classBuilder().ep(Gc).m(function(t,r,n,s){return[Vc.getSerdePlugin(n,this.serialize,this.deserialize),ri.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(aI,void 0).ser(pU).de(gU).build(){},TU={GetRoleCredentialsCommand:zc,ListAccountRolesCommand:ei,ListAccountsCommand:ti,LogoutCommand:qc},Hc=class extends bs{};M.createAggregatedClient(TU,Hc);var CU=hr.createPaginator(bs,ei,"nextToken","nextToken","maxResults"),IU=hr.createPaginator(bs,ti,"nextToken","nextToken","maxResults");Object.defineProperty(Ae,"$Command",{enumerable:!0,get:function(){return M.Command}});Object.defineProperty(Ae,"__Client",{enumerable:!0,get:function(){return M.Client}});Ae.GetRoleCredentialsCommand=zc;Ae.GetRoleCredentialsRequestFilterSensitiveLog=rI;Ae.GetRoleCredentialsResponseFilterSensitiveLog=sI;Ae.InvalidRequestException=Uc;Ae.ListAccountRolesCommand=ei;Ae.ListAccountRolesRequestFilterSensitiveLog=oI;Ae.ListAccountsCommand=ti;Ae.ListAccountsRequestFilterSensitiveLog=iI;Ae.LogoutCommand=qc;Ae.LogoutRequestFilterSensitiveLog=aI;Ae.ResourceNotFoundException=Fc;Ae.RoleCredentialsFilterSensitiveLog=nI;Ae.SSO=Hc;Ae.SSOClient=bs;Ae.SSOServiceException=Zr;Ae.TooManyRequestsException=$c;Ae.UnauthorizedException=jc;Ae.paginateListAccountRoles=CU;Ae.paginateListAccounts=IU});var gI=N(fh=>{"use strict";var hI=fI();Object.defineProperty(fh,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return hI.GetRoleCredentialsCommand}});Object.defineProperty(fh,"SSOClient",{enumerable:!0,get:function(){return hI.SSOClient}})});var hh=N(Xc=>{"use strict";var Nt=nt(),Yc=lr(),yI=(Pt(),me(Or)),AU=TC(),SI=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ni=!1,EI=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:c,profile:d,filepath:l,configFilepath:m,ignoreCache:f,logger:g})=>{let h,E="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Pe=await AU.fromSso({profile:d,filepath:l,configFilepath:m,ignoreCache:f})();h={accessToken:Pe.token,expiresAt:new Date(Pe.expiration).toISOString()}}catch(Pe){throw new Nt.CredentialsProviderError(Pe.message,{tryNextLink:ni,logger:g})}else try{h=await Yc.getSSOTokenFromFile(e)}catch{throw new Nt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${E}`,{tryNextLink:ni,logger:g})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Nt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${E}`,{tryNextLink:ni,logger:g});let{accessToken:T}=h,{SSOClient:I,GetRoleCredentialsCommand:R}=await Promise.resolve().then(function(){return gI()}),D=o||new I(Object.assign({},i??{},{logger:i?.logger??c?.logger,region:i?.region??n})),B;try{B=await D.send(new R({accountId:r,roleName:s,accessToken:T}))}catch(Pe){throw new Nt.CredentialsProviderError(Pe,{tryNextLink:ni,logger:g})}let{roleCredentials:{accessKeyId:Y,secretAccessKey:ee,sessionToken:de,expiration:Re,credentialScope:oe,accountId:le}={}}=B;if(!Y||!ee||!de||!Re)throw new Nt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ni,logger:g});let Ee={accessKeyId:Y,secretAccessKey:ee,sessionToken:de,expiration:new Date(Re),...oe&&{credentialScope:oe},...le&&{accountId:le}};return t?yI.setCredentialFeature(Ee,"CREDENTIALS_SSO","s"):yI.setCredentialFeature(Ee,"CREDENTIALS_SSO_LEGACY","u"),Ee},bI=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!r||!n||!s||!o)throw new Nt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},RU=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:c}=e,d=Yc.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!o&&!i){let m=(await Yc.parseKnownFiles(e))[d];if(!m)throw new Nt.CredentialsProviderError(`Profile ${d} was not found.`,{logger:e.logger});if(!SI(m))throw new Nt.CredentialsProviderError(`Profile ${d} is not configured with SSO credentials.`,{logger:e.logger});if(m?.sso_session){let R=(await Yc.loadSsoSessionData(e))[m.sso_session],D=` configurations in profile ${d} and sso-session ${m.sso_session}`;if(s&&s!==R.sso_region)throw new Nt.CredentialsProviderError("Conflicting SSO region"+D,{tryNextLink:!1,logger:e.logger});if(r&&r!==R.sso_start_url)throw new Nt.CredentialsProviderError("Conflicting SSO start_url"+D,{tryNextLink:!1,logger:e.logger});m.sso_region=R.sso_region,m.sso_start_url=R.sso_start_url}let{sso_start_url:f,sso_account_id:g,sso_region:h,sso_role_name:E,sso_session:T}=bI(m,e.logger);return EI({ssoStartUrl:f,ssoSession:T,ssoAccountId:g,ssoRegion:h,ssoRoleName:E,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!o)throw new Nt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return EI({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Xc.fromSSO=RU;Xc.isSsoProfile=SI;Xc.validateSsoProfile=bI});function PU(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function NU(e){return{schemeId:"smithy.api#noAuth"}}var si,_I,wI,vU,xI,gh=w(()=>{$e();si=C(Ze());oi();_I=async(e,t,r)=>({operation:(0,si.getSmithyContext)(t).operation,region:await(0,si.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wI=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(NU(e));break}default:t.push(PU(e))}return t},vU=e=>Object.assign(e,{stsClientCtor:Ht}),xI=e=>{let t=vU(e),r=Tn(t);return Object.assign(r,{authSchemePreference:(0,si.normalizeProvider)(e.authSchemePreference??[])})}});var TI,Qc,Zc=w(()=>{TI=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Qc={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var LI,te,fe,tn,Ve,MI,BI,we,CI,Vt,_s,Eh,II,yh,UI,AI,Ge,RI,FI,$I,Xe,gt,PI,jI,zI,NI,qI,vI,DI,OI,kI,DU,HI,VI=w(()=>{LI="required",te="type",fe="argv",tn="booleanEquals",Ve="stringEquals",MI="sigv4",BI="us-east-1",we="endpoint",CI="https://sts.{Region}.{PartitionResult#dnsSuffix}",Vt="tree",_s="error",Eh="getAttr",II={[LI]:!1,[te]:"String"},yh={[LI]:!0,default:!1,[te]:"Boolean"},UI={ref:"Endpoint"},AI={fn:"isSet",[fe]:[{ref:"Region"}]},Ge={ref:"Region"},RI={fn:"aws.partition",[fe]:[Ge],assign:"PartitionResult"},FI={ref:"UseFIPS"},$I={ref:"UseDualStack"},Xe={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:MI,signingName:"sts",signingRegion:BI}]},headers:{}},gt={},PI={conditions:[{fn:Ve,[fe]:[Ge,"aws-global"]}],[we]:Xe,[te]:we},jI={fn:tn,[fe]:[FI,!0]},zI={fn:tn,[fe]:[$I,!0]},NI={fn:Eh,[fe]:[{ref:"PartitionResult"},"supportsFIPS"]},qI={ref:"PartitionResult"},vI={fn:tn,[fe]:[!0,{fn:Eh,[fe]:[qI,"supportsDualStack"]}]},DI=[{fn:"isSet",[fe]:[UI]}],OI=[jI],kI=[zI],DU={version:"1.0",parameters:{Region:II,UseDualStack:yh,UseFIPS:yh,Endpoint:II,UseGlobalEndpoint:yh},rules:[{conditions:[{fn:tn,[fe]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[fe]:DI},AI,RI,{fn:tn,[fe]:[FI,!1]},{fn:tn,[fe]:[$I,!1]}],rules:[{conditions:[{fn:Ve,[fe]:[Ge,"ap-northeast-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"ap-south-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"ap-southeast-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"ap-southeast-2"]}],endpoint:Xe,[te]:we},PI,{conditions:[{fn:Ve,[fe]:[Ge,"ca-central-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"eu-central-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"eu-north-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"eu-west-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"eu-west-2"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"eu-west-3"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"sa-east-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,BI]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"us-east-2"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"us-west-1"]}],endpoint:Xe,[te]:we},{conditions:[{fn:Ve,[fe]:[Ge,"us-west-2"]}],endpoint:Xe,[te]:we},{endpoint:{url:CI,properties:{authSchemes:[{name:MI,signingName:"sts",signingRegion:"{Region}"}]},headers:gt},[te]:we}],[te]:Vt},{conditions:DI,rules:[{conditions:OI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[te]:_s},{conditions:kI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[te]:_s},{endpoint:{url:UI,properties:gt,headers:gt},[te]:we}],[te]:Vt},{conditions:[AI],rules:[{conditions:[RI],rules:[{conditions:[jI,zI],rules:[{conditions:[{fn:tn,[fe]:[!0,NI]},vI],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},[te]:we}],[te]:Vt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[te]:_s}],[te]:Vt},{conditions:OI,rules:[{conditions:[{fn:tn,[fe]:[NI,!0]}],rules:[{conditions:[{fn:Ve,[fe]:[{fn:Eh,[fe]:[qI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:gt,headers:gt},[te]:we},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},[te]:we}],[te]:Vt},{error:"FIPS is enabled but this partition does not support FIPS",[te]:_s}],[te]:Vt},{conditions:kI,rules:[{conditions:[vI],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},[te]:we}],[te]:Vt},{error:"DualStack is enabled but this partition does not support DualStack",[te]:_s}],[te]:Vt},PI,{endpoint:{url:CI,properties:gt,headers:gt},[te]:we}],[te]:Vt}],[te]:Vt},{error:"Invalid Configuration: Missing Region",[te]:_s}]},HI=DU});var GI,ws,OU,WI,KI=w(()=>{GI=C(Xn()),ws=C(_n());VI();OU=new ws.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),WI=(e,t={})=>OU.get(e,()=>(0,ws.resolveEndpoint)(HI,{endpointParams:e,logger:t.logger}));ws.customEndpointFunctions.aws=GI.awsEndpointFunctions});var JI,YI,ed,td,XI,QI=w(()=>{$e();ct();JI=C(ae()),YI=C(vr()),ed=C(qe()),td=C(ze());gh();KI();XI=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??ed.fromBase64,base64Encoder:e?.base64Encoder??ed.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??WI,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??wI,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new dt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new sr}],logger:e?.logger??new JI.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??YI.parseUrl,utf8Decoder:e?.utf8Decoder??td.fromUtf8,utf8Encoder:e?.utf8Encoder??td.toUtf8})});var rd,nn,ZI,nd,rn,sd,eA,tA,rA,nA,sA,oA,iA=w(()=>{Wf();$e();rd=C(vo()),nn=C(zt());ct();ZI=C(Do()),nd=C(pr()),rn=C(qr()),sd=C(pn()),eA=C(Oo()),tA=C(us());QI();rA=C(ae()),nA=C(Lo()),sA=C(ae()),oA=e=>{(0,sA.emitWarningIfUnsupportedVersion)(process.version);let t=(0,nA.resolveDefaultsModeConfig)(e),r=()=>t().then(rA.loadConfigsForDefaultMode),n=XI(e);Qn(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,rn.loadConfig)(ts,s),bodyLengthChecker:e?.bodyLengthChecker??eA.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,rd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:yc.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new dt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new sr}],maxAttempts:e?.maxAttempts??(0,rn.loadConfig)(nd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,rn.loadConfig)(nn.NODE_REGION_CONFIG_OPTIONS,{...nn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:sd.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,rn.loadConfig)({...nd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||tA.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??ZI.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??sd.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,rn.loadConfig)(nn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,rn.loadConfig)(nn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,rn.loadConfig)(rd.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var aA,cA,dA=w(()=>{aA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},cA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var od,id,ad,lA,uA=w(()=>{od=C(Mo()),id=C(Se()),ad=C(ae());dA();lA=(e,t)=>{let r=Object.assign((0,od.getAwsRegionExtensionConfiguration)(e),(0,ad.getDefaultExtensionConfiguration)(e),(0,id.getHttpHandlerExtensionConfiguration)(e),aA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,od.resolveAwsRegionExtensionConfiguration)(r),(0,ad.resolveDefaultRuntimeConfig)(r),(0,id.resolveHttpHandlerRuntimeConfig)(r),cA(r))}});var cd,pA,mA,dd,fA,hA,gA,ld,Sh,Ht,oi=w(()=>{cd=C($s()),pA=C(js()),mA=C(zs()),dd=C(cs()),fA=C(zt());ct();hA=C(xo()),gA=C(Hr()),ld=C(pr()),Sh=C(ae());gh();Zc();iA();uA();Ht=class extends Sh.Client{config;constructor(...[t]){let r=oA(t||{});super(r),this.initConfig=r;let n=TI(r),s=(0,dd.resolveUserAgentConfig)(n),o=(0,ld.resolveRetryConfig)(s),i=(0,fA.resolveRegionConfig)(o),c=(0,cd.resolveHostHeaderConfig)(i),d=(0,gA.resolveEndpointConfig)(c),l=xI(d),m=lA(l,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,dd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ld.getRetryPlugin)(this.config)),this.middlewareStack.use((0,hA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,cd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,pA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,mA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Hs(this.config,{httpAuthSchemeParametersProvider:_I,identityProviderConfigProvider:async f=>new Sn({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Vs(this.config))}destroy(){super.destroy()}}});var yA,lt,ud=w(()=>{yA=C(ae()),lt=class e extends yA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var bh,_h,wh,ii,ai,ci,di,li,ui,xh,Th,pi,mi=w(()=>{bh=C(ae());ud();_h=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:bh.SENSITIVE_STRING}}),wh=e=>({...e,...e.Credentials&&{Credentials:_h(e.Credentials)}}),ii=class e extends lt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ai=class e extends lt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ci=class e extends lt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},di=class e extends lt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},li=class e extends lt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ui=class e extends lt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xh=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:bh.SENSITIVE_STRING}}),Th=e=>({...e,...e.Credentials&&{Credentials:_h(e.Credentials)}}),pi=class e extends lt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var EA,ne,SA,bA,_A,wA,xA,kU,LU,MU,BU,UU,FU,$U,jU,zU,TA,qU,HU,VU,GU,WU,KU,CA,JU,YU,IA,XU,QU,ZU,eF,tF,rF,nF,yr,sF,AA,RA,PA,NA,Ch,oF,Ih,xs,iF,Ah,Rh,Ts,Ph,Cs,Nh,vh,Dh,Is,As,Oh,kh,Lh,Rs,Mh,Ps,Ns,Bh,Uh,gr,Fh,$h,jh,zh,qh,vA,Hh,Vh,Gh,ve,DA,aF,Wh=w(()=>{$e();EA=C(Se()),ne=C(ae());mi();ud();SA=async(e,t)=>{let r=RA,n;return n=DA({...jU(e,t),[NA]:oF,[vA]:PA}),AA(t,r,"/",void 0,n)},bA=async(e,t)=>{let r=RA,n;return n=DA({...zU(e,t),[NA]:iF,[vA]:PA}),AA(t,r,"/",void 0,n)},_A=async(e,t)=>{if(e.statusCode>=300)return xA(e,t);let r=await bo(e.body,t),n={};return n=JU(r.AssumeRoleResult,t),{$metadata:yr(e),...n}},wA=async(e,t)=>{if(e.statusCode>=300)return xA(e,t);let r=await bo(e.body,t),n={};return n=YU(r.AssumeRoleWithWebIdentityResult,t),{$metadata:yr(e),...n}},xA=async(e,t)=>{let r={...e,body:await df(e.body,t)},n=aF(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await kU(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await UU(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await FU(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await $U(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await LU(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await MU(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await BU(r,t);default:let s=r.body;return sF({output:e,parsedBody:s.Error,errorCode:n})}},kU=async(e,t)=>{let r=e.body,n=XU(r.Error,t),s=new ii({$metadata:yr(e),...n});return(0,ne.decorateServiceException)(s,r)},LU=async(e,t)=>{let r=e.body,n=QU(r.Error,t),s=new pi({$metadata:yr(e),...n});return(0,ne.decorateServiceException)(s,r)},MU=async(e,t)=>{let r=e.body,n=ZU(r.Error,t),s=new li({$metadata:yr(e),...n});return(0,ne.decorateServiceException)(s,r)},BU=async(e,t)=>{let r=e.body,n=eF(r.Error,t),s=new ui({$metadata:yr(e),...n});return(0,ne.decorateServiceException)(s,r)},UU=async(e,t)=>{let r=e.body,n=tF(r.Error,t),s=new ai({$metadata:yr(e),...n});return(0,ne.decorateServiceException)(s,r)},FU=async(e,t)=>{let r=e.body,n=rF(r.Error,t),s=new ci({$metadata:yr(e),...n});return(0,ne.decorateServiceException)(s,r)},$U=async(e,t)=>{let r=e.body,n=nF(r.Error,t),s=new di({$metadata:yr(e),...n});return(0,ne.decorateServiceException)(s,r)},jU=(e,t)=>{let r={};if(e[Ps]!=null&&(r[Ps]=e[Ps]),e[Ns]!=null&&(r[Ns]=e[Ns]),e[As]!=null){let n=TA(e[As],t);e[As]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;r[i]=o})}if(e[Is]!=null&&(r[Is]=e[Is]),e[Cs]!=null&&(r[Cs]=e[Cs]),e[jh]!=null){let n=KU(e[jh],t);e[jh]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,o])=>{let i=`Tags.${s}`;r[i]=o})}if(e[qh]!=null){let n=WU(e[qh],t);e[qh]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let i=`TransitiveTagKeys.${s}`;r[i]=o})}if(e[vh]!=null&&(r[vh]=e[vh]),e[Fh]!=null&&(r[Fh]=e[Fh]),e[zh]!=null&&(r[zh]=e[zh]),e[gr]!=null&&(r[gr]=e[gr]),e[kh]!=null){let n=VU(e[kh],t);e[kh]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let i=`ProvidedContexts.${s}`;r[i]=o})}return r},zU=(e,t)=>{let r={};if(e[Ps]!=null&&(r[Ps]=e[Ps]),e[Ns]!=null&&(r[Ns]=e[Ns]),e[Vh]!=null&&(r[Vh]=e[Vh]),e[Lh]!=null&&(r[Lh]=e[Lh]),e[As]!=null){let n=TA(e[As],t);e[As]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;r[i]=o})}return e[Is]!=null&&(r[Is]=e[Is]),e[Cs]!=null&&(r[Cs]=e[Cs]),r},TA=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=qU(s,t);Object.entries(o).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},qU=(e,t)=>{let r={};return e[Gh]!=null&&(r[Gh]=e[Gh]),r},HU=(e,t)=>{let r={};return e[Oh]!=null&&(r[Oh]=e[Oh]),e[Ph]!=null&&(r[Ph]=e[Ph]),r},VU=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=HU(s,t);Object.entries(o).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},GU=(e,t)=>{let r={};return e[Dh]!=null&&(r[Dh]=e[Dh]),e[Hh]!=null&&(r[Hh]=e[Hh]),r},WU=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},KU=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=GU(s,t);Object.entries(o).forEach(([i,c])=>{r[`member.${n}.${i}`]=c}),n++}return r},CA=(e,t)=>{let r={};return e[Ih]!=null&&(r[Ih]=(0,ne.expectString)(e[Ih])),e[Ah]!=null&&(r[Ah]=(0,ne.expectString)(e[Ah])),r},JU=(e,t)=>{let r={};return e[Ts]!=null&&(r[Ts]=IA(e[Ts],t)),e[xs]!=null&&(r[xs]=CA(e[xs],t)),e[Rs]!=null&&(r[Rs]=(0,ne.strictParseInt32)(e[Rs])),e[gr]!=null&&(r[gr]=(0,ne.expectString)(e[gr])),r},YU=(e,t)=>{let r={};return e[Ts]!=null&&(r[Ts]=IA(e[Ts],t)),e[Uh]!=null&&(r[Uh]=(0,ne.expectString)(e[Uh])),e[xs]!=null&&(r[xs]=CA(e[xs],t)),e[Rs]!=null&&(r[Rs]=(0,ne.strictParseInt32)(e[Rs])),e[Mh]!=null&&(r[Mh]=(0,ne.expectString)(e[Mh])),e[Rh]!=null&&(r[Rh]=(0,ne.expectString)(e[Rh])),e[gr]!=null&&(r[gr]=(0,ne.expectString)(e[gr])),r},IA=(e,t)=>{let r={};return e[Ch]!=null&&(r[Ch]=(0,ne.expectString)(e[Ch])),e[Bh]!=null&&(r[Bh]=(0,ne.expectString)(e[Bh])),e[$h]!=null&&(r[$h]=(0,ne.expectString)(e[$h])),e[Nh]!=null&&(r[Nh]=(0,ne.expectNonNull)((0,ne.parseRfc3339DateTimeWithOffset)(e[Nh]))),r},XU=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,ne.expectString)(e[ve])),r},QU=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,ne.expectString)(e[ve])),r},ZU=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,ne.expectString)(e[ve])),r},eF=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,ne.expectString)(e[ve])),r},tF=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,ne.expectString)(e[ve])),r},rF=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,ne.expectString)(e[ve])),r},nF=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,ne.expectString)(e[ve])),r},yr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),sF=(0,ne.withBaseException)(lt),AA=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:c,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:c,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new EA.HttpRequest(l)},RA={"content-type":"application/x-www-form-urlencoded"},PA="2011-06-15",NA="Action",Ch="AccessKeyId",oF="AssumeRole",Ih="AssumedRoleId",xs="AssumedRoleUser",iF="AssumeRoleWithWebIdentity",Ah="Arn",Rh="Audience",Ts="Credentials",Ph="ContextAssertion",Cs="DurationSeconds",Nh="Expiration",vh="ExternalId",Dh="Key",Is="Policy",As="PolicyArns",Oh="ProviderArn",kh="ProvidedContexts",Lh="ProviderId",Rs="PackedPolicySize",Mh="Provider",Ps="RoleArn",Ns="RoleSessionName",Bh="SecretAccessKey",Uh="SubjectFromWebIdentityToken",gr="SourceIdentity",Fh="SerialNumber",$h="SessionToken",jh="Tags",zh="TokenCode",qh="TransitiveTagKeys",vA="Version",Hh="Value",Vh="WebIdentityToken",Gh="arn",ve="message",DA=e=>Object.entries(e).map(([t,r])=>(0,ne.extendedEncodeURIComponent)(t)+"="+(0,ne.extendedEncodeURIComponent)(r)).join("&"),aF=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var OA,kA,LA,Ln,pd=w(()=>{OA=C(Hr()),kA=C(Ir()),LA=C(ae());Zc();mi();Wh();Ln=class extends LA.Command.classBuilder().ep(Qc).m(function(t,r,n,s){return[(0,kA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,OA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,wh).ser(SA).de(_A).build(){}});var MA,BA,UA,Mn,md=w(()=>{MA=C(Hr()),BA=C(Ir()),UA=C(ae());Zc();mi();Wh();Mn=class extends UA.Command.classBuilder().ep(Qc).m(function(t,r,n,s){return[(0,BA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,MA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(xh,Th).ser(bA).de(wA).build(){}});var FA,cF,fd,$A=w(()=>{FA=C(ae());pd();md();oi();cF={AssumeRoleCommand:Ln,AssumeRoleWithWebIdentityCommand:Mn},fd=class extends Ht{};(0,FA.createAggregatedClient)(cF,fd)});var jA=w(()=>{pd();md()});var zA=w(()=>{mi()});var qA,HA,VA,GA,WA,KA,JA=w(()=>{Pt();pd();md();qA="us-east-1",HA=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},VA=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${qA} (STS default)`),n??s??qA},GA=(e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:m=e?.parentClientConfig?.logger,region:f,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,E=await VA(f,e?.parentClientConfig?.region,h),T=!KA(g);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:E,requestHandler:T?g:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:c}=await r.send(new Ln(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let d=HA(c),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...d&&{accountId:d}};return Dr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},WA=(e,t)=>{let r;return async n=>{if(!r){let{logger:d=e?.parentClientConfig?.logger,region:l,requestHandler:m=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,g=await VA(l,e?.parentClientConfig?.region,f),h=!KA(m);r=new t({profile:e?.parentClientConfig?.profile,region:g,requestHandler:h?m:void 0,logger:d})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new Mn(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=HA(o),c={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&Dr(c,"RESOLVED_ACCOUNT_ID","T"),Dr(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},KA=e=>e?.metadata?.handlerProtocol==="h2"});var YA,XA,QA,dF,ZA=w(()=>{JA();oi();YA=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,XA=(e={},t)=>GA(e,YA(Ht,t)),QA=(e={},t)=>WA(e,YA(Ht,t)),dF=e=>t=>e({roleAssumer:XA(t),roleAssumerWithWebIdentity:QA(t),...t})});var Kh={};pt(Kh,{AssumeRoleCommand:()=>Ln,AssumeRoleResponseFilterSensitiveLog:()=>wh,AssumeRoleWithWebIdentityCommand:()=>Mn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>xh,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Th,CredentialsFilterSensitiveLog:()=>_h,ExpiredTokenException:()=>ii,IDPCommunicationErrorException:()=>pi,IDPRejectedClaimException:()=>li,InvalidIdentityTokenException:()=>ui,MalformedPolicyDocumentException:()=>ai,PackedPolicyTooLargeException:()=>ci,RegionDisabledException:()=>di,STS:()=>fd,STSClient:()=>Ht,STSServiceException:()=>lt,__Client:()=>Sh.Client,decorateDefaultCredentialProvider:()=>dF,getDefaultRoleAssumer:()=>XA,getDefaultRoleAssumerWithWebIdentity:()=>QA});var Jh=w(()=>{oi();$A();jA();zA();ZA();ud()});var Qh=N(eR=>{"use strict";var Xh=lr(),Yh=nt(),lF=require("child_process"),uF=require("util"),pF=(Pt(),me(Or)),mF=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return pF.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},fF=async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let o=uF.promisify(Xh.externalDataInterceptor?.getTokenRecord?.().exec??lF.exec);try{let{stdout:i}=await o(s),c;try{c=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return mF(e,c,t)}catch(i){throw new Yh.CredentialsProviderError(i.message,{logger:r})}}else throw new Yh.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Yh.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},hF=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Xh.parseKnownFiles(e);return fF(Xh.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};eR.fromProcess=hF});var Zh=N(Gt=>{"use strict";var gF=Gt&&Gt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),yF=Gt&&Gt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),EF=Gt&&Gt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&gF(r,t,n[s]);return yF(r,t),r}})();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fromWebToken=void 0;var SF=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:c,durationSeconds:d}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>EF((Jh(),me(Kh))));l=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:c,DurationSeconds:d})};Gt.fromWebToken=SF});var rR=N(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.fromTokenFile=void 0;var bF=(Pt(),me(Or)),_F=nt(),wF=lr(),xF=require("fs"),TF=Zh(),tR="AWS_WEB_IDENTITY_TOKEN_FILE",CF="AWS_ROLE_ARN",IF="AWS_ROLE_SESSION_NAME",AF=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[tR],r=e?.roleArn??process.env[CF],n=e?.roleSessionName??process.env[IF];if(!t||!r)throw new _F.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,TF.fromWebToken)({...e,webIdentityToken:wF.externalDataInterceptor?.getTokenRecord?.()[t]??(0,xF.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[tR]&&(0,bF.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};hd.fromTokenFile=AF});var eg=N(fi=>{"use strict";var nR=rR(),sR=Zh();Object.keys(nR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fi,e)&&Object.defineProperty(fi,e,{enumerable:!0,get:function(){return nR[e]}})});Object.keys(sR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fi,e)&&Object.defineProperty(fi,e,{enumerable:!0,get:function(){return sR[e]}})})});var lR=N(dR=>{"use strict";var rg=lr(),hi=nt(),sn=(Pt(),me(Or)),RF=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>C(Hf())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>C(Po()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>hi.chain(o(s??{}),i(s))().then(tg)},Ec2InstanceMetadata:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>C(Po()));return async()=>o(s)().then(tg)},Environment:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>C(Mf()));return async()=>o(s)().then(tg)}};if(e in n)return n[e];throw new hi.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},tg=e=>sn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),PF=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(NF(e,{profile:t,logger:r})||vF(e,{profile:t,logger:r})),NF=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},vF=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},DF=async(e,t,r,n={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:i,region:c}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>(Jh(),Kh));r.roleAssumer=l({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:c??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new hi.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${rg.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let d=i?s(i,t,r,{...n,[i]:!0},oR(t[i]??{})):(await RF(o.credential_source,e,r.logger)(r))();if(oR(o))return d.then(l=>sn.setCredentialFeature(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:m}=o;if(m){if(!r.mfaCodeProvider)throw new hi.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});l.SerialNumber=m,l.TokenCode=await r.mfaCodeProvider(m)}let f=await d;return r.roleAssumer(f,l).then(g=>sn.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},oR=e=>!e.role_arn&&!!e.credential_source,OF=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",kF=async(e,t)=>Promise.resolve().then(()=>C(Qh())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>sn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),LF=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>C(hh()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?sn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):sn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},MF=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),iR=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,aR=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return sn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},BF=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,UF=async(e,t)=>Promise.resolve().then(()=>C(eg())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>sn.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),cR=async(e,t,r,n={},s=!1)=>{let o=t[e];if(Object.keys(n).length>0&&iR(o))return aR(o,r);if(s||PF(o,{profile:e,logger:r.logger}))return DF(e,t,r,n,cR);if(iR(o))return aR(o,r);if(BF(o))return UF(o,r);if(OF(o))return kF(r,e);if(MF(o))return await LF(e,o,r);throw new hi.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},FF=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await rg.parseKnownFiles(r);return cR(rg.getProfileName({profile:e.profile??t?.profile}),n,r)};dR.fromIni=FF});var hR=N(gd=>{"use strict";var ng=Mf(),Bn=nt(),$F=lr(),uR="AWS_EC2_METADATA_DISABLED",jF=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>C(Po()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>C(Hf()));return Bn.chain(o(e),n(e))}return process.env[uR]&&process.env[uR]!=="false"?async()=>{throw new Bn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},pR=!1,zF=(e={})=>Bn.memoize(Bn.chain(async()=>{if(e.profile??process.env[$F.ENV_PROFILE])throw process.env[ng.ENV_KEY]&&process.env[ng.ENV_SECRET]&&(pR||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),pR=!0)),new Bn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),ng.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!t&&!r&&!n&&!s&&!o)throw new Bn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>C(hh()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>C(lR()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>C(Qh()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>C(eg()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await jF(e))()),async()=>{throw new Bn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),fR,mR),mR=e=>e?.expiration!==void 0,fR=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;gd.credentialsTreatedAsExpired=fR;gd.credentialsWillNeedRefresh=mR;gd.defaultProvider=zF});var FR=N(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.ruleSet=void 0;var og="required",X="type",De="rules",ye="conditions",F="fn",$="argv",ce="ref",yd="assign",Wt="url",Kt="properties",Jt="headers",qF=!1,Oe="error",Qe="stringEquals",gR="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",ut="endpoint",Me="tree",ig="dynamodb",gi={[og]:!1,[X]:"string"},yR={[og]:!0,default:!1,[X]:"boolean"},ER={[F]:"isSet",[$]:[{[ce]:"Endpoint"}]},HF={[ce]:"Endpoint"},SR={[F]:"isSet",[$]:[{[ce]:"Region"}]},BR={[ce]:"Region"},bR={[F]:"aws.partition",[$]:[BR],[yd]:"PartitionResult"},_R={[ye]:[{[F]:"booleanEquals",[$]:[{[ce]:"UseFIPS"},!0]}],[Oe]:"Invalid Configuration: FIPS and custom endpoint are not supported",[X]:Oe},vs={[F]:"booleanEquals",[$]:[{[ce]:"UseFIPS"},!0]},wR={[ye]:[{[F]:"booleanEquals",[$]:[{[ce]:"UseDualStack"},!0]}],[Oe]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[X]:Oe},UR={[F]:"booleanEquals",[$]:[{[ce]:"UseDualStack"},!0]},xR={[ut]:{[Wt]:"{Endpoint}",[Kt]:{},[Jt]:{}},[X]:ut},vt={},TR={[F]:"booleanEquals",[$]:[{[F]:"getAttr",[$]:[{[ce]:"PartitionResult"},"supportsFIPS"]},!0]},CR={[F]:"booleanEquals",[$]:[{[F]:"getAttr",[$]:[{[ce]:"PartitionResult"},"supportsDualStack"]},!0]},sg={[ye]:[{[F]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[F]:Qe,[$]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[De]:[{[Oe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[X]:Oe}],[X]:Me},yi={[F]:"getAttr",[$]:[{[ce]:"PartitionResult"},"name"]},IR={[ut]:{[Wt]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Kt]:{},[Jt]:{}},[X]:ut},AR={[Wt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Kt]:{},[Jt]:{}},RR={[Oe]:"Credentials-sourced account ID parameter is invalid",[X]:Oe},PR={[ye]:[{[F]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[F]:Qe,[$]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[De]:[{[ye]:[{[F]:"not",[$]:[vs]}],[De]:[{[ye]:[{[F]:Qe,[$]:[yi,"aws"]}],[De]:[{[Oe]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[X]:Oe}],[X]:Me},{[Oe]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[X]:Oe}],[X]:Me},{[Oe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[X]:Oe}],[X]:Me},NR={[Wt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Kt]:{},[Jt]:{}},vR=[vs],DR=[UR],OR=[{[F]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[F]:"not",[$]:[{[F]:Qe,[$]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[F]:Qe,[$]:[yi,"aws"]},{[F]:"not",[$]:[vs]},{[F]:"isSet",[$]:[{[ce]:"ResourceArn"}]},{[F]:"aws.parseArn",[$]:[{[ce]:"ResourceArn"}],[yd]:"ParsedArn"},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"service"]},ig]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},!1]},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],kR=[{[F]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[F]:"not",[$]:[{[F]:Qe,[$]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[F]:Qe,[$]:[yi,"aws"]},{[F]:"not",[$]:[vs]},{[F]:"isSet",[$]:[{[ce]:"ResourceArnList"}]},{[F]:"getAttr",[$]:[{[ce]:"ResourceArnList"},"[0]"],[yd]:"FirstArn"},{[F]:"aws.parseArn",[$]:[{[ce]:"FirstArn"}],[yd]:"ParsedArn"},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"service"]},ig]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},!1]},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],LR=[{[F]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[F]:"not",[$]:[{[F]:Qe,[$]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[F]:Qe,[$]:[yi,"aws"]},{[F]:"not",[$]:[vs]},{[F]:"isSet",[$]:[{[ce]:"AccountId"}]}],MR=[{[F]:"isValidHostLabel",[$]:[{[ce]:"AccountId"},!1]}],VF={version:"1.0",parameters:{Region:gi,UseDualStack:yR,UseFIPS:yR,Endpoint:gi,AccountId:gi,AccountIdEndpointMode:gi,ResourceArn:gi,ResourceArnList:{[og]:qF,[X]:"stringArray"}},[De]:[{[ye]:[ER,SR,bR],[De]:[_R,wR,{[ye]:[{[F]:Qe,[$]:[HF,gR]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[X]:Oe},xR],[X]:Me},{[ye]:[ER],[De]:[_R,wR,xR],[X]:Me},{[ye]:[SR],[De]:[{[ye]:[bR],[De]:[{[ye]:[{[F]:Qe,[$]:[BR,"local"]}],[De]:[{[ye]:vR,error:"Invalid Configuration: FIPS and local endpoint are not supported",[X]:Oe},{[ye]:DR,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[X]:Oe},{endpoint:{[Wt]:"http://localhost:8000",[Kt]:{authSchemes:[{signingRegion:"us-east-1",name:"sigv4",signingName:ig}]},[Jt]:vt},[X]:ut}],[X]:Me},{[ye]:[vs,UR],[De]:[{[ye]:[TR,CR],[De]:[sg,{endpoint:{[Wt]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Kt]:vt,[Jt]:vt},[X]:ut}],[X]:Me},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[X]:Oe}],[X]:Me},{[ye]:vR,[De]:[{[ye]:[TR],[De]:[{[ye]:[{[F]:Qe,[$]:[yi,"aws-us-gov"]}],[De]:[sg,IR],[X]:Me},sg,{endpoint:{[Wt]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Kt]:vt,[Jt]:vt},[X]:ut}],[X]:Me},{error:"FIPS is enabled but this partition does not support FIPS",[X]:Oe}],[X]:Me},{[ye]:DR,[De]:[{[ye]:[CR],[De]:[{[ye]:OR,endpoint:AR,[X]:ut},{[ye]:kR,endpoint:AR,[X]:ut},{[ye]:LR,[De]:[{[ye]:MR,[De]:[{endpoint:{[Wt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Kt]:vt,[Jt]:vt},[X]:ut}],[X]:Me},RR],[X]:Me},PR,{endpoint:{[Wt]:gR,[Kt]:vt,[Jt]:vt},[X]:ut}],[X]:Me},{error:"DualStack is enabled but this partition does not support DualStack",[X]:Oe}],[X]:Me},{[ye]:OR,endpoint:NR,[X]:ut},{[ye]:kR,endpoint:NR,[X]:ut},{[ye]:LR,[De]:[{[ye]:MR,[De]:[{endpoint:{[Wt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Kt]:vt,[Jt]:vt},[X]:ut}],[X]:Me},RR],[X]:Me},PR,IR],[X]:Me}],[X]:Me},{error:"Invalid Configuration: Missing Region",[X]:Oe}]};Ed.ruleSet=VF});var $R=N(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.defaultEndpointResolver=void 0;var GF=Xn(),ag=_n(),WF=FR(),KF=new ag.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),JF=(e,t={})=>KF.get(e,()=>(0,ag.resolveEndpoint)(WF.ruleSet,{endpointParams:e,logger:t.logger}));Sd.defaultEndpointResolver=JF;ag.customEndpointFunctions.aws=GF.awsEndpointFunctions});var qR=N(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.getRuntimeConfig=void 0;var YF=($e(),me($t)),XF=ae(),QF=vr(),jR=qe(),zR=ze(),ZF=Lf(),e$=$R(),t$=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??jR.fromBase64,base64Encoder:e?.base64Encoder??jR.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??e$.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ZF.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new YF.AwsSdkSigV4Signer}],logger:e?.logger??new XF.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??QF.parseUrl,utf8Decoder:e?.utf8Decoder??zR.fromUtf8,utf8Encoder:e?.utf8Encoder??zR.toUtf8});bd.getRuntimeConfig=t$});var KR=N(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.getRuntimeConfig=void 0;var r$=(no(),me(ro)),n$=r$.__importDefault(Lx()),HR=($e(),me($t)),s$=(lu(),me(du)),o$=hR(),i$=_u(),VR=vo(),_d=zt(),a$=Do(),GR=pr(),Er=qr(),WR=pn(),c$=Oo(),d$=us(),l$=qR(),u$=ae(),p$=Lo(),m$=ae(),f$=e=>{(0,m$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,p$.resolveDefaultsModeConfig)(e),r=()=>t().then(u$.loadConfigsForDefaultMode),n=(0,l$.getRuntimeConfig)(e);(0,HR.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,Er.loadConfig)(s$.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,s),authSchemePreference:e?.authSchemePreference??(0,Er.loadConfig)(HR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??c$.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??o$.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,VR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:n$.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,Er.loadConfig)(i$.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,s),maxAttempts:e?.maxAttempts??(0,Er.loadConfig)(GR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Er.loadConfig)(_d.NODE_REGION_CONFIG_OPTIONS,{..._d.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:WR.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,Er.loadConfig)({...GR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||d$.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??a$.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??WR.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Er.loadConfig)(_d.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Er.loadConfig)(_d.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Er.loadConfig)(VR.NODE_APP_ID_CONFIG_OPTIONS,s)}};wd.getRuntimeConfig=f$});var QR=N(ot=>{"use strict";var xd=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},h$=e=>new Promise(t=>setTimeout(t,e*1e3)),XR={minDelay:2,maxDelay:120};ot.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(ot.WaiterState||(ot.WaiterState={}));var g$=e=>{if(e.state===ot.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},xd())}`);throw t.name="AbortError",t}else if(e.state===ot.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},xd())}`);throw t.name="TimeoutError",t}else if(e.state!==ot.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,xd())}`);return e},y$=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return E$(e,s)},E$=(e,t)=>e+Math.random()*(t-e),S$=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:o},i,c)=>{let d={},{state:l,reason:m}=await c(s,i);if(m){let E=JR(m);d[E]|=0,d[E]+=1}if(l!==ot.WaiterState.RETRY)return{state:l,reason:m,observedResponses:d};let f=1,g=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let R="AbortController signal aborted.";return d[R]|=0,d[R]+=1,{state:ot.WaiterState.ABORTED,observedResponses:d}}let E=y$(e,t,h,f);if(Date.now()+E*1e3>g)return{state:ot.WaiterState.TIMEOUT,observedResponses:d};await h$(E);let{state:T,reason:I}=await c(s,i);if(I){let R=JR(I);d[R]|=0,d[R]+=1}if(T!==ot.WaiterState.RETRY)return{state:T,reason:I,observedResponses:d};f+=1}},JR=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,xd())??"Unknown"),b$=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},YR=e=>{let t,r=new Promise(n=>{t=()=>n({state:ot.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},_$=async(e,t,r)=>{let n={...XR,...e};b$(n);let s=[S$(n,t,r)],o=[];if(e.abortSignal){let{aborted:i,clearListener:c}=YR(e.abortSignal);o.push(c),s.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:c}=YR(e.abortController.signal);o.push(c),s.push(i)}return Promise.race(s).then(i=>{for(let c of o)c();return i})};ot.checkExceptions=g$;ot.createWaiter=_$;ot.waiterServiceDefaults=XR});var TP=N(x=>{"use strict";var w$=(lu(),me(du)),x$=_u(),ZR=$s(),T$=js(),C$=zs(),eP=cs(),I$=zt(),Sr=(ct(),me(Jn)),A$=xo(),j=Hr(),tP=pr(),a=ae(),rP=Lf(),z=Ir(),U=($e(),me($t)),cg=Se(),tu=ma(),R$=KR(),nP=Mo(),Dt=QR(),P$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),q={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},se=class e extends a.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},N$={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},v$={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},D$={B:"B",N:"N",S:"S"},O$={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},k$={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},L$={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},M$={HASH:"HASH",RANGE:"RANGE"},B$={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},U$={AES256:"AES256",KMS:"KMS"},F$={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},$$={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},j$={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Td=class e extends se{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Cd=class e extends se{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},z$={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},q$={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},H$={ALL_OLD:"ALL_OLD",NONE:"NONE"},V$={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},Id=class e extends se{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},Ad=class e extends se{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},Rd=class e extends se{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},Pd=class e extends se{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Nd=class e extends se{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},vd=class e extends se{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},G$={NONE:"NONE",SIZE:"SIZE"},Dd=class e extends se{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Od=class e extends se{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},W$={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},K$={AND:"AND",OR:"OR"},J$={DISABLED:"DISABLED",ENABLED:"ENABLED"},Y$={DISABLED:"DISABLED",ENABLED:"ENABLED"},kd=class e extends se{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},X$={DISABLE:"DISABLE",ENABLE:"ENABLE"},Q$={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Z$={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},Ld=class e extends se{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Md=class e extends se{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Bd=class e extends se{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ej={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},tj={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},rj={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},nj={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},sj={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Ud=class e extends se{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},oj={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},ij={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},Fd=class e extends se{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},aj={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},$d=class e extends se{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jd=class e extends se{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cj={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},dj={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},lj={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},uj={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},pj={AES256:"AES256",KMS:"KMS"},zd=class e extends se{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qd=class e extends se{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mj={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},fj={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},hj={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Hd=class e extends se{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},gj={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Vd=class e extends se{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gd=class e extends se{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Wd=class e extends se{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Kd=class e extends se{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jd=class e extends se{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yd=class e extends se{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xd=class e extends se{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yj={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},Qd=class e extends se{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zd=class e extends se{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},el=class e extends se{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tl=class e extends se{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rl=class e extends se{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};x.AttributeValue=void 0;(function(e){e.visit=(t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1])})(x.AttributeValue||(x.AttributeValue={}));var nl=class e extends se{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},sl=class e extends se{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},Ej=async(e,t)=>{let r=G("BatchExecuteStatement"),n;return n=JSON.stringify(dq(e,t)),V(t,r,"/",void 0,n)},Sj=async(e,t)=>{let r=G("BatchGetItem"),n;return n=JSON.stringify(lq(e,t)),V(t,r,"/",void 0,n)},bj=async(e,t)=>{let r=G("BatchWriteItem"),n;return n=JSON.stringify(mq(e,t)),V(t,r,"/",void 0,n)},_j=async(e,t)=>{let r=G("CreateBackup"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},wj=async(e,t)=>{let r=G("CreateGlobalTable"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},xj=async(e,t)=>{let r=G("CreateTable"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Tj=async(e,t)=>{let r=G("DeleteBackup"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Cj=async(e,t)=>{let r=G("DeleteItem"),n;return n=JSON.stringify(Eq(e,t)),V(t,r,"/",void 0,n)},Ij=async(e,t)=>{let r=G("DeleteResourcePolicy"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Aj=async(e,t)=>{let r=G("DeleteTable"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Rj=async(e,t)=>{let r=G("DescribeBackup"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Pj=async(e,t)=>{let r=G("DescribeContinuousBackups"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Nj=async(e,t)=>{let r=G("DescribeContributorInsights"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},vj=async(e,t)=>{let r=G("DescribeEndpoints"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Dj=async(e,t)=>{let r=G("DescribeExport"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Oj=async(e,t)=>{let r=G("DescribeGlobalTable"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},kj=async(e,t)=>{let r=G("DescribeGlobalTableSettings"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Lj=async(e,t)=>{let r=G("DescribeImport"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Mj=async(e,t)=>{let r=G("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Bj=async(e,t)=>{let r=G("DescribeLimits"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Uj=async(e,t)=>{let r=G("DescribeTable"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Fj=async(e,t)=>{let r=G("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},$j=async(e,t)=>{let r=G("DescribeTimeToLive"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},jj=async(e,t)=>{let r=G("DisableKinesisStreamingDestination"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},zj=async(e,t)=>{let r=G("EnableKinesisStreamingDestination"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},qj=async(e,t)=>{let r=G("ExecuteStatement"),n;return n=JSON.stringify(bq(e,t)),V(t,r,"/",void 0,n)},Hj=async(e,t)=>{let r=G("ExecuteTransaction"),n;return n=JSON.stringify(_q(e,t)),V(t,r,"/",void 0,n)},Vj=async(e,t)=>{let r=G("ExportTableToPointInTime"),n;return n=JSON.stringify(xq(e)),V(t,r,"/",void 0,n)},Gj=async(e,t)=>{let r=G("GetItem"),n;return n=JSON.stringify(Cq(e,t)),V(t,r,"/",void 0,n)},Wj=async(e,t)=>{let r=G("GetResourcePolicy"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Kj=async(e,t)=>{let r=G("ImportTable"),n;return n=JSON.stringify(Nq(e)),V(t,r,"/",void 0,n)},Jj=async(e,t)=>{let r=G("ListBackups"),n;return n=JSON.stringify(Mq(e)),V(t,r,"/",void 0,n)},Yj=async(e,t)=>{let r=G("ListContributorInsights"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Xj=async(e,t)=>{let r=G("ListExports"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Qj=async(e,t)=>{let r=G("ListGlobalTables"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Zj=async(e,t)=>{let r=G("ListImports"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},ez=async(e,t)=>{let r=G("ListTables"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},tz=async(e,t)=>{let r=G("ListTagsOfResource"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},rz=async(e,t)=>{let r=G("PutItem"),n;return n=JSON.stringify(zq(e,t)),V(t,r,"/",void 0,n)},nz=async(e,t)=>{let r=G("PutResourcePolicy"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},sz=async(e,t)=>{let r=G("Query"),n;return n=JSON.stringify(Hq(e,t)),V(t,r,"/",void 0,n)},oz=async(e,t)=>{let r=G("RestoreTableFromBackup"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},iz=async(e,t)=>{let r=G("RestoreTableToPointInTime"),n;return n=JSON.stringify(Zq(e)),V(t,r,"/",void 0,n)},az=async(e,t)=>{let r=G("Scan"),n;return n=JSON.stringify(eH(e,t)),V(t,r,"/",void 0,n)},cz=async(e,t)=>{let r=G("TagResource"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},dz=async(e,t)=>{let r=G("TransactGetItems"),n;return n=JSON.stringify(nH(e,t)),V(t,r,"/",void 0,n)},lz=async(e,t)=>{let r=G("TransactWriteItems"),n;return n=JSON.stringify(iH(e,t)),V(t,r,"/",void 0,n)},uz=async(e,t)=>{let r=G("UntagResource"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},pz=async(e,t)=>{let r=G("UpdateContinuousBackups"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},mz=async(e,t)=>{let r=G("UpdateContributorInsights"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},fz=async(e,t)=>{let r=G("UpdateGlobalTable"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},hz=async(e,t)=>{let r=G("UpdateGlobalTableSettings"),n;return n=JSON.stringify(cH(e)),V(t,r,"/",void 0,n)},gz=async(e,t)=>{let r=G("UpdateItem"),n;return n=JSON.stringify(dH(e,t)),V(t,r,"/",void 0,n)},yz=async(e,t)=>{let r=G("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Ez=async(e,t)=>{let r=G("UpdateTable"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},Sz=async(e,t)=>{let r=G("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(lH(e)),V(t,r,"/",void 0,n)},bz=async(e,t)=>{let r=G("UpdateTimeToLive"),n;return n=JSON.stringify(a._json(e)),V(t,r,"/",void 0,n)},_z=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=SH(r,t),{$metadata:O(e),...n}},wz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=bH(r,t),{$metadata:O(e),...n}},xz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=CH(r,t),{$metadata:O(e),...n}},Tz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=vH(r),{$metadata:O(e),...n}},Cz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=DH(r),{$metadata:O(e),...n}},Iz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=OH(r),{$metadata:O(e),...n}},Az=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=kH(r),{$metadata:O(e),...n}},Rz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=LH(r,t),{$metadata:O(e),...n}},Pz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},Nz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=BH(r),{$metadata:O(e),...n}},vz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=UH(r),{$metadata:O(e),...n}},Dz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=FH(r),{$metadata:O(e),...n}},Oz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=$H(r),{$metadata:O(e),...n}},kz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},Lz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=jH(r),{$metadata:O(e),...n}},Mz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=zH(r),{$metadata:O(e),...n}},Bz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=qH(r),{$metadata:O(e),...n}},Uz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=HH(r),{$metadata:O(e),...n}},Fz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},$z=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},jz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=VH(r),{$metadata:O(e),...n}},zz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=GH(r),{$metadata:O(e),...n}},qz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},Hz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},Vz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},Gz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=WH(r,t),{$metadata:O(e),...n}},Wz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=KH(r,t),{$metadata:O(e),...n}},Kz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=JH(r),{$metadata:O(e),...n}},Jz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=YH(r,t),{$metadata:O(e),...n}},Yz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},Xz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=tV(r),{$metadata:O(e),...n}},Qz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=lV(r),{$metadata:O(e),...n}},Zz=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},e2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},t2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},r2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=uV(r),{$metadata:O(e),...n}},n2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},s2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},o2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=gV(r,t),{$metadata:O(e),...n}},i2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},a2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=EV(r,t),{$metadata:O(e),...n}},c2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=RV(r),{$metadata:O(e),...n}},d2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=PV(r),{$metadata:O(e),...n}},l2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=NV(r,t),{$metadata:O(e),...n}},u2=async(e,t)=>e.statusCode>=300?H(e,t):(await a.collectBody(e.body,t),{$metadata:O(e)}),p2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=OV(r,t),{$metadata:O(e),...n}},m2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=LV(r,t),{$metadata:O(e),...n}},f2=async(e,t)=>e.statusCode>=300?H(e,t):(await a.collectBody(e.body,t),{$metadata:O(e)}),h2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=MV(r),{$metadata:O(e),...n}},g2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},y2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=BV(r),{$metadata:O(e),...n}},E2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=UV(r),{$metadata:O(e),...n}},S2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=FV(r,t),{$metadata:O(e),...n}},b2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},_2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=$V(r),{$metadata:O(e),...n}},w2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=jV(r),{$metadata:O(e),...n}},x2=async(e,t)=>{if(e.statusCode>=300)return H(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=a._json(r),{$metadata:O(e),...n}},H=async(e,t)=>{let r={...e,body:await U.parseJsonErrorBody(e.body,t)},n=U.loadRestJsonErrorCode(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await B2(r);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await J2(r);case"ThrottlingException":case"com.amazonaws.dynamodb#ThrottlingException":throw await tq(r);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await U2(r);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await V2(r);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await X2(r);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await j2(r);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await K2(r);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await T2(r);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await A2(r);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await z2(r);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await Z2(r);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await eq(r);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await v2(r);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await Y2(r);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await C2(r);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await I2(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await nq(r);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await H2(r);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await N2(r);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await D2(r);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await L2(r);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await R2(r);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await O2(r);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await rq(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await sq(r);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await P2(r);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await F2(r);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await q2(r);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await k2(r);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Q2(r);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await $2(r);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await G2(r);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await W2(r);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await M2(r);default:let s=r.body;return HV({output:e,parsedBody:s,errorCode:n})}},T2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Td({$metadata:O(e),...n});return a.decorateServiceException(s,r)},C2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Cd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},I2=async(e,t)=>{let r=e.body,n=NH(r,t),s=new nl({$metadata:O(e),...n});return a.decorateServiceException(s,r)},A2=async(e,t)=>{let r=e.body,n=a._json(r),s=new kd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},R2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Vd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},P2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Kd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},N2=async(e,t)=>{let r=e.body,n=a._json(r),s=new zd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},v2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Ud({$metadata:O(e),...n});return a.decorateServiceException(s,r)},D2=async(e,t)=>{let r=e.body,n=a._json(r),s=new qd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},O2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Gd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},k2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Xd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},L2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Hd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},M2=async(e,t)=>{let r=e.body,n=a._json(r),s=new rl({$metadata:O(e),...n});return a.decorateServiceException(s,r)},B2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Id({$metadata:O(e),...n});return a.decorateServiceException(s,r)},U2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Pd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},F2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Jd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},$2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Zd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},j2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Dd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},z2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Ld({$metadata:O(e),...n});return a.decorateServiceException(s,r)},q2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Yd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},H2=async(e,t)=>{let r=e.body,n=a._json(r),s=new jd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},V2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Nd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},G2=async(e,t)=>{let r=e.body,n=a._json(r),s=new el({$metadata:O(e),...n});return a.decorateServiceException(s,r)},W2=async(e,t)=>{let r=e.body,n=a._json(r),s=new tl({$metadata:O(e),...n});return a.decorateServiceException(s,r)},K2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Od({$metadata:O(e),...n});return a.decorateServiceException(s,r)},J2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Ad({$metadata:O(e),...n});return a.decorateServiceException(s,r)},Y2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Fd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},X2=async(e,t)=>{let r=e.body,n=a._json(r),s=new vd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},Q2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Qd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},Z2=async(e,t)=>{let r=e.body,n=a._json(r),s=new Md({$metadata:O(e),...n});return a.decorateServiceException(s,r)},eq=async(e,t)=>{let r=e.body,n=a._json(r),s=new Bd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},tq=async(e,t)=>{let r=e.body,n=a._json(r),s=new Rd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},rq=async(e,t)=>{let r=e.body,n=kV(r,t),s=new sl({$metadata:O(e),...n});return a.decorateServiceException(s,r)},nq=async(e,t)=>{let r=e.body,n=a._json(r),s=new $d({$metadata:O(e),...n});return a.decorateServiceException(s,r)},sq=async(e,t)=>{let r=e.body,n=a._json(r),s=new Wd({$metadata:O(e),...n});return a.decorateServiceException(s,r)},oq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=iq(s,t)),r),{}),br=(e,t)=>x.AttributeValue.visit(e,{B:r=>({B:t.base64Encoder(r)}),BOOL:r=>({BOOL:r}),BS:r=>({BS:hq(r,t)}),L:r=>({L:Lq(r,t)}),M:r=>({M:Bq(r,t)}),N:r=>({N:r}),NS:r=>({NS:a._json(r)}),NULL:r=>({NULL:r}),S:r=>({S:r}),SS:r=>({SS:a._json(r)}),_:(r,n)=>({[r]:n})}),oP=(e,t)=>e.filter(r=>r!=null).map(r=>br(r,t)),iq=(e,t)=>a.take(e,{Action:[],Value:r=>br(r,t)}),aq=(e,t)=>a.take(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:r=>cq(r)}),an=(e,t)=>a.take(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:r=>aq(r)}),cq=(e,t)=>a.take(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:a.serializeFloat}),dq=(e,t)=>a.take(e,{ReturnConsumedCapacity:[],Statements:r=>$q(r,t)}),lq=(e,t)=>a.take(e,{RequestItems:r=>uq(r,t),ReturnConsumedCapacity:[]}),uq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=kq(s,t)),r),{}),pq=(e,t)=>a.take(e,{ConsistentRead:[],Parameters:r=>lg(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),mq=(e,t)=>a.take(e,{RequestItems:r=>fq(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),fq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=pH(s,t)),r),{}),hq=(e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),iP=(e,t)=>a.take(e,{AttributeValueList:r=>oP(r,t),ComparisonOperator:[]}),gq=(e,t)=>a.take(e,{ConditionExpression:[],ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),yq=(e,t)=>a.take(e,{ConditionExpression:[],ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),Eq=(e,t)=>a.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>dg(r,t),ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),Sq=(e,t)=>a.take(e,{Key:r=>Ot(r,t)}),bq=(e,t)=>a.take(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:r=>lg(r,t),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),_q=(e,t)=>a.take(e,{ClientRequestToken:[!0,r=>r??tu.v4()],ReturnConsumedCapacity:[],TransactStatements:r=>Fq(r,t)}),dg=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=wq(s,t)),r),{}),wq=(e,t)=>a.take(e,{AttributeValueList:r=>oP(r,t),ComparisonOperator:[],Exists:[],Value:r=>br(r,t)}),xq=(e,t)=>a.take(e,{ClientToken:[!0,r=>r??tu.v4()],ExportFormat:[],ExportTime:r=>r.getTime()/1e3,ExportType:[],IncrementalExportSpecification:r=>vq(r),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),_r=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),aP=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=iP(s,t)),r),{}),Tq=(e,t)=>a.take(e,{ExpressionAttributeNames:a._json,Key:r=>Ot(r,t),ProjectionExpression:[],TableName:[]}),Cq=(e,t)=>a.take(e,{AttributesToGet:a._json,ConsistentRead:[],ExpressionAttributeNames:a._json,Key:r=>Ot(r,t),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),Iq=(e,t)=>a.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:r=>an(r)}),Aq=(e,t)=>e.filter(r=>r!=null).map(r=>Iq(r)),Rq=(e,t)=>a.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>an(r),ProvisionedWriteCapacityUnits:[]}),Pq=(e,t)=>e.filter(r=>r!=null).map(r=>Rq(r)),Nq=(e,t)=>a.take(e,{ClientToken:[!0,r=>r??tu.v4()],InputCompressionType:[],InputFormat:[],InputFormatOptions:a._json,S3BucketSource:a._json,TableCreationParameters:a._json}),vq=(e,t)=>a.take(e,{ExportFromTime:r=>r.getTime()/1e3,ExportToTime:r=>r.getTime()/1e3,ExportViewType:[]}),Ot=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),Dq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=iP(s,t)),r),{}),Oq=(e,t)=>e.filter(r=>r!=null).map(r=>Ot(r,t)),kq=(e,t)=>a.take(e,{AttributesToGet:a._json,ConsistentRead:[],ExpressionAttributeNames:a._json,Keys:r=>Oq(r,t),ProjectionExpression:[]}),Lq=(e,t)=>e.filter(r=>r!=null).map(r=>br(r,t)),Mq=(e,t)=>a.take(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:r=>r.getTime()/1e3,TimeRangeUpperBound:r=>r.getTime()/1e3}),Bq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),Uq=(e,t)=>a.take(e,{Parameters:r=>lg(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),Fq=(e,t)=>e.filter(r=>r!=null).map(r=>Uq(r,t)),$q=(e,t)=>e.filter(r=>r!=null).map(r=>pq(r,t)),lg=(e,t)=>e.filter(r=>r!=null).map(r=>br(r,t)),jq=(e,t)=>a.take(e,{ConditionExpression:[],ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),Item:r=>ug(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),zq=(e,t)=>a.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>dg(r,t),ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),Item:r=>ug(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),ug=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),qq=(e,t)=>a.take(e,{Item:r=>ug(r,t)}),Hq=(e,t)=>a.take(e,{AttributesToGet:a._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Ot(r,t),ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:r=>Dq(r,t),Limit:[],ProjectionExpression:[],QueryFilter:r=>aP(r,t),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),Vq=(e,t)=>a.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:r=>Kq(r),ReplicaProvisionedReadCapacityAutoScalingUpdate:r=>an(r)}),Gq=(e,t)=>e.filter(r=>r!=null).map(r=>Vq(r)),Wq=(e,t)=>a.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:r=>an(r)}),Kq=(e,t)=>e.filter(r=>r!=null).map(r=>Wq(r)),Jq=(e,t)=>a.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:r=>an(r),ProvisionedReadCapacityUnits:[]}),Yq=(e,t)=>e.filter(r=>r!=null).map(r=>Jq(r)),Xq=(e,t)=>a.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:r=>Yq(r),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:r=>an(r),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),Qq=(e,t)=>e.filter(r=>r!=null).map(r=>Xq(r)),Zq=(e,t)=>a.take(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:a._json,LocalSecondaryIndexOverride:a._json,OnDemandThroughputOverride:a._json,ProvisionedThroughputOverride:a._json,RestoreDateTime:r=>r.getTime()/1e3,SSESpecificationOverride:a._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),eH=(e,t)=>a.take(e,{AttributesToGet:a._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Ot(r,t),ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:r=>aP(r,t),Segment:[],Select:[],TableName:[],TotalSegments:[]}),tH=(e,t)=>a.take(e,{Get:r=>Tq(r,t)}),rH=(e,t)=>e.filter(r=>r!=null).map(r=>tH(r,t)),nH=(e,t)=>a.take(e,{ReturnConsumedCapacity:[],TransactItems:r=>rH(r,t)}),sH=(e,t)=>a.take(e,{ConditionCheck:r=>gq(r,t),Delete:r=>yq(r,t),Put:r=>jq(r,t),Update:r=>aH(r,t)}),oH=(e,t)=>e.filter(r=>r!=null).map(r=>sH(r,t)),iH=(e,t)=>a.take(e,{ClientRequestToken:[!0,r=>r??tu.v4()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:r=>oH(r,t)}),aH=(e,t)=>a.take(e,{ConditionExpression:[],ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),cH=(e,t)=>a.take(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:r=>Pq(r),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>an(r),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:r=>Qq(r)}),dH=(e,t)=>a.take(e,{AttributeUpdates:r=>oq(r,t),ConditionExpression:[],ConditionalOperator:[],Expected:r=>dg(r,t),ExpressionAttributeNames:a._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),lH=(e,t)=>a.take(e,{GlobalSecondaryIndexUpdates:r=>Aq(r),ProvisionedWriteCapacityAutoScalingUpdate:r=>an(r),ReplicaUpdates:r=>Gq(r),TableName:[]}),uH=(e,t)=>a.take(e,{DeleteRequest:r=>Sq(r,t),PutRequest:r=>qq(r,t)}),pH=(e,t)=>e.filter(r=>r!=null).map(r=>uH(r,t)),mH=(e,t)=>a.take(e,{ArchivalBackupArn:a.expectString,ArchivalDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ArchivalReason:a.expectString}),Xt=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Os(U.awsExpectUnion(s),t)),r),{}),Os=(e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:a.expectBoolean(e.BOOL)!==void 0?{BOOL:a.expectBoolean(e.BOOL)}:e.BS!=null?{BS:AH(e.BS,t)}:e.L!=null?{L:dV(e.L,t)}:e.M!=null?{M:pV(e.M,t)}:a.expectString(e.N)!==void 0?{N:a.expectString(e.N)}:e.NS!=null?{NS:a._json(e.NS)}:a.expectBoolean(e.NULL)!==void 0?{NULL:a.expectBoolean(e.NULL)}:a.expectString(e.S)!==void 0?{S:a.expectString(e.S)}:e.SS!=null?{SS:a._json(e.SS)}:{$unknown:Object.entries(e)[0]},fH=(e,t)=>a.take(e,{PolicyName:a.expectString,TargetTrackingScalingPolicyConfiguration:r=>gH(r)}),hH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>fH(n)),on=(e,t)=>a.take(e,{AutoScalingDisabled:a.expectBoolean,AutoScalingRoleArn:a.expectString,MaximumUnits:a.expectLong,MinimumUnits:a.expectLong,ScalingPolicies:r=>hH(r)}),gH=(e,t)=>a.take(e,{DisableScaleIn:a.expectBoolean,ScaleInCooldown:a.expectInt32,ScaleOutCooldown:a.expectInt32,TargetValue:a.limitedParseDouble}),cP=(e,t)=>a.take(e,{BackupDetails:r=>dP(r),SourceTableDetails:r=>vV(r),SourceTableFeatureDetails:r=>DV(r)}),dP=(e,t)=>a.take(e,{BackupArn:a.expectString,BackupCreationDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),BackupExpiryDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),BackupName:a.expectString,BackupSizeBytes:a.expectLong,BackupStatus:a.expectString,BackupType:a.expectString}),yH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>EH(n)),EH=(e,t)=>a.take(e,{BackupArn:a.expectString,BackupCreationDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),BackupExpiryDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),BackupName:a.expectString,BackupSizeBytes:a.expectLong,BackupStatus:a.expectString,BackupType:a.expectString,TableArn:a.expectString,TableId:a.expectString,TableName:a.expectString}),SH=(e,t)=>a.take(e,{ConsumedCapacity:r=>ks(r),Responses:r=>mV(r,t)}),bH=(e,t)=>a.take(e,{ConsumedCapacity:r=>ks(r),Responses:r=>wH(r,t),UnprocessedKeys:r=>_H(r,t)}),_H=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=cV(s,t)),r),{}),wH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=nu(s,t)),r),{}),xH=(e,t)=>a.take(e,{Code:a.expectString,Item:r=>Xt(r,t),Message:a.expectString}),TH=(e,t)=>a.take(e,{Error:r=>xH(r,t),Item:r=>Xt(r,t),TableName:a.expectString}),CH=(e,t)=>a.take(e,{ConsumedCapacity:r=>ks(r),ItemCollectionMetrics:r=>hP(r,t),UnprocessedItems:r=>IH(r,t)}),IH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=qV(s,t)),r),{}),lP=(e,t)=>a.take(e,{BillingMode:a.expectString,LastUpdateToPayPerRequestDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r)))}),AH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),RH=(e,t)=>a.take(e,{Code:a.expectString,Item:r=>Xt(r,t),Message:a.expectString}),PH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>RH(n,t)),uP=(e,t)=>a.take(e,{CapacityUnits:a.limitedParseDouble,ReadCapacityUnits:a.limitedParseDouble,WriteCapacityUnits:a.limitedParseDouble}),NH=(e,t)=>a.take(e,{Item:r=>Xt(r,t),message:a.expectString}),cn=(e,t)=>a.take(e,{CapacityUnits:a.limitedParseDouble,GlobalSecondaryIndexes:r=>sP(r),LocalSecondaryIndexes:r=>sP(r),ReadCapacityUnits:a.limitedParseDouble,Table:r=>uP(r),TableName:a.expectString,WriteCapacityUnits:a.limitedParseDouble}),ks=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>cn(n)),pP=(e,t)=>a.take(e,{ContinuousBackupsStatus:a.expectString,PointInTimeRecoveryDescription:r=>fV(r)}),vH=(e,t)=>a.take(e,{BackupDetails:r=>dP(r)}),DH=(e,t)=>a.take(e,{GlobalTableDescription:r=>pg(r)}),OH=(e,t)=>a.take(e,{TableDescription:r=>Ls(r)}),kH=(e,t)=>a.take(e,{BackupDescription:r=>cP(r)}),LH=(e,t)=>a.take(e,{Attributes:r=>Xt(r,t),ConsumedCapacity:r=>cn(r),ItemCollectionMetrics:r=>ru(r,t)}),MH=(e,t)=>a.take(e,{Key:r=>Ci(r,t)}),BH=(e,t)=>a.take(e,{TableDescription:r=>Ls(r)}),UH=(e,t)=>a.take(e,{BackupDescription:r=>cP(r)}),FH=(e,t)=>a.take(e,{ContinuousBackupsDescription:r=>pP(r)}),$H=(e,t)=>a.take(e,{ContributorInsightsMode:a.expectString,ContributorInsightsRuleList:a._json,ContributorInsightsStatus:a.expectString,FailureException:a._json,IndexName:a.expectString,LastUpdateDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),TableName:a.expectString}),jH=(e,t)=>a.take(e,{ExportDescription:r=>mP(r)}),zH=(e,t)=>a.take(e,{GlobalTableDescription:r=>pg(r)}),qH=(e,t)=>a.take(e,{GlobalTableName:a.expectString,ReplicaSettings:r=>SP(r)}),HH=(e,t)=>a.take(e,{ImportTableDescription:r=>fP(r)}),VH=(e,t)=>a.take(e,{Table:r=>Ls(r)}),GH=(e,t)=>a.take(e,{TableAutoScalingDescription:r=>_P(r)}),WH=(e,t)=>a.take(e,{ConsumedCapacity:r=>cn(r),Items:r=>nu(r,t),LastEvaluatedKey:r=>Ci(r,t),NextToken:a.expectString}),KH=(e,t)=>a.take(e,{ConsumedCapacity:r=>ks(r),Responses:r=>gP(r,t)}),mP=(e,t)=>a.take(e,{BilledSizeBytes:a.expectLong,ClientToken:a.expectString,EndTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ExportArn:a.expectString,ExportFormat:a.expectString,ExportManifest:a.expectString,ExportStatus:a.expectString,ExportTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ExportType:a.expectString,FailureCode:a.expectString,FailureMessage:a.expectString,IncrementalExportSpecification:r=>rV(r),ItemCount:a.expectLong,S3Bucket:a.expectString,S3BucketOwner:a.expectString,S3Prefix:a.expectString,S3SseAlgorithm:a.expectString,S3SseKmsKeyId:a.expectString,StartTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),TableArn:a.expectString,TableId:a.expectString}),JH=(e,t)=>a.take(e,{ExportDescription:r=>mP(r)}),YH=(e,t)=>a.take(e,{ConsumedCapacity:r=>cn(r),Item:r=>Xt(r,t)}),XH=(e,t)=>a.take(e,{Backfilling:a.expectBoolean,IndexArn:a.expectString,IndexName:a.expectString,IndexSizeBytes:a.expectLong,IndexStatus:a.expectString,ItemCount:a.expectLong,KeySchema:a._json,OnDemandThroughput:a._json,Projection:a._json,ProvisionedThroughput:r=>yP(r),WarmThroughput:a._json}),QH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>XH(n)),pg=(e,t)=>a.take(e,{CreationDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),GlobalTableArn:a.expectString,GlobalTableName:a.expectString,GlobalTableStatus:a.expectString,ReplicationGroup:r=>EP(r)}),ZH=(e,t)=>a.take(e,{CloudWatchLogGroupArn:a.expectString,EndTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ImportArn:a.expectString,ImportStatus:a.expectString,InputFormat:a.expectString,S3BucketSource:a._json,StartTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),TableArn:a.expectString}),eV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ZH(n)),fP=(e,t)=>a.take(e,{ClientToken:a.expectString,CloudWatchLogGroupArn:a.expectString,EndTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ErrorCount:a.expectLong,FailureCode:a.expectString,FailureMessage:a.expectString,ImportArn:a.expectString,ImportStatus:a.expectString,ImportedItemCount:a.expectLong,InputCompressionType:a.expectString,InputFormat:a.expectString,InputFormatOptions:a._json,ProcessedItemCount:a.expectLong,ProcessedSizeBytes:a.expectLong,S3BucketSource:a._json,StartTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),TableArn:a.expectString,TableCreationParameters:a._json,TableId:a.expectString}),tV=(e,t)=>a.take(e,{ImportTableDescription:r=>fP(r)}),rV=(e,t)=>a.take(e,{ExportFromTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ExportToTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ExportViewType:a.expectString}),nV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Os(U.awsExpectUnion(s),t)),r),{}),ru=(e,t)=>a.take(e,{ItemCollectionKey:r=>nV(r,t),SizeEstimateRangeGB:r=>oV(r)}),sV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ru(n,t)),hP=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=sV(s,t)),r),{}),oV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>a.limitedParseDouble(n)),nu=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Xt(n,t)),iV=(e,t)=>a.take(e,{Item:r=>Xt(r,t)}),gP=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>iV(n,t)),Ci=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Os(U.awsExpectUnion(s),t)),r),{}),aV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ci(n,t)),cV=(e,t)=>a.take(e,{AttributesToGet:a._json,ConsistentRead:a.expectBoolean,ExpressionAttributeNames:a._json,Keys:r=>aV(r,t),ProjectionExpression:a.expectString}),dV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Os(U.awsExpectUnion(n),t)),lV=(e,t)=>a.take(e,{BackupSummaries:r=>yH(r),LastEvaluatedBackupArn:a.expectString}),uV=(e,t)=>a.take(e,{ImportSummaryList:r=>eV(r),NextToken:a.expectString}),pV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Os(U.awsExpectUnion(s),t)),r),{}),mV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>TH(n,t)),fV=(e,t)=>a.take(e,{EarliestRestorableDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),LatestRestorableDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),PointInTimeRecoveryStatus:a.expectString,RecoveryPeriodInDays:a.expectInt32}),yP=(e,t)=>a.take(e,{LastDecreaseDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),LastIncreaseDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),NumberOfDecreasesToday:a.expectLong,ReadCapacityUnits:a.expectLong,WriteCapacityUnits:a.expectLong}),hV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Os(U.awsExpectUnion(s),t)),r),{}),gV=(e,t)=>a.take(e,{Attributes:r=>Xt(r,t),ConsumedCapacity:r=>cn(r),ItemCollectionMetrics:r=>ru(r,t)}),yV=(e,t)=>a.take(e,{Item:r=>hV(r,t)}),EV=(e,t)=>a.take(e,{ConsumedCapacity:r=>cn(r),Count:a.expectInt32,Items:r=>nu(r,t),LastEvaluatedKey:r=>Ci(r,t),ScannedCount:a.expectInt32}),SV=(e,t)=>a.take(e,{GlobalSecondaryIndexes:r=>xV(r),RegionName:a.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:r=>on(r),ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>on(r),ReplicaStatus:a.expectString}),bV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>SV(n)),_V=(e,t)=>a.take(e,{GlobalSecondaryIndexes:a._json,KMSMasterKeyId:a.expectString,OnDemandThroughputOverride:a._json,ProvisionedThroughputOverride:a._json,RegionName:a.expectString,ReplicaInaccessibleDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),ReplicaStatus:a.expectString,ReplicaStatusDescription:a.expectString,ReplicaStatusPercentProgress:a.expectString,ReplicaTableClassSummary:r=>mg(r),WarmThroughput:a._json}),EP=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>_V(n)),wV=(e,t)=>a.take(e,{IndexName:a.expectString,IndexStatus:a.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>on(r),ProvisionedWriteCapacityAutoScalingSettings:r=>on(r)}),xV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>wV(n)),TV=(e,t)=>a.take(e,{IndexName:a.expectString,IndexStatus:a.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>on(r),ProvisionedReadCapacityUnits:a.expectLong,ProvisionedWriteCapacityAutoScalingSettings:r=>on(r),ProvisionedWriteCapacityUnits:a.expectLong}),CV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>TV(n)),IV=(e,t)=>a.take(e,{RegionName:a.expectString,ReplicaBillingModeSummary:r=>lP(r),ReplicaGlobalSecondaryIndexSettings:r=>CV(r),ReplicaProvisionedReadCapacityAutoScalingSettings:r=>on(r),ReplicaProvisionedReadCapacityUnits:a.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>on(r),ReplicaProvisionedWriteCapacityUnits:a.expectLong,ReplicaStatus:a.expectString,ReplicaTableClassSummary:r=>mg(r)}),SP=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>IV(n)),AV=(e,t)=>a.take(e,{RestoreDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),RestoreInProgress:a.expectBoolean,SourceBackupArn:a.expectString,SourceTableArn:a.expectString}),RV=(e,t)=>a.take(e,{TableDescription:r=>Ls(r)}),PV=(e,t)=>a.take(e,{TableDescription:r=>Ls(r)}),NV=(e,t)=>a.take(e,{ConsumedCapacity:r=>cn(r),Count:a.expectInt32,Items:r=>nu(r,t),LastEvaluatedKey:r=>Ci(r,t),ScannedCount:a.expectInt32}),sP=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=uP(s)),r),{}),vV=(e,t)=>a.take(e,{BillingMode:a.expectString,ItemCount:a.expectLong,KeySchema:a._json,OnDemandThroughput:a._json,ProvisionedThroughput:a._json,TableArn:a.expectString,TableCreationDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),TableId:a.expectString,TableName:a.expectString,TableSizeBytes:a.expectLong}),DV=(e,t)=>a.take(e,{GlobalSecondaryIndexes:a._json,LocalSecondaryIndexes:a._json,SSEDescription:r=>bP(r),StreamDescription:a._json,TimeToLiveDescription:a._json}),bP=(e,t)=>a.take(e,{InaccessibleEncryptionDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),KMSMasterKeyArn:a.expectString,SSEType:a.expectString,Status:a.expectString}),_P=(e,t)=>a.take(e,{Replicas:r=>bV(r),TableName:a.expectString,TableStatus:a.expectString}),mg=(e,t)=>a.take(e,{LastUpdateDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),TableClass:a.expectString}),Ls=(e,t)=>a.take(e,{ArchivalSummary:r=>mH(r),AttributeDefinitions:a._json,BillingModeSummary:r=>lP(r),CreationDateTime:r=>a.expectNonNull(a.parseEpochTimestamp(a.expectNumber(r))),DeletionProtectionEnabled:a.expectBoolean,GlobalSecondaryIndexes:r=>QH(r),GlobalTableVersion:a.expectString,GlobalTableWitnesses:a._json,ItemCount:a.expectLong,KeySchema:a._json,LatestStreamArn:a.expectString,LatestStreamLabel:a.expectString,LocalSecondaryIndexes:a._json,MultiRegionConsistency:a.expectString,OnDemandThroughput:a._json,ProvisionedThroughput:r=>yP(r),Replicas:r=>EP(r),RestoreSummary:r=>AV(r),SSEDescription:r=>bP(r),StreamSpecification:a._json,TableArn:a.expectString,TableClassSummary:r=>mg(r),TableId:a.expectString,TableName:a.expectString,TableSizeBytes:a.expectLong,TableStatus:a.expectString,WarmThroughput:a._json}),OV=(e,t)=>a.take(e,{ConsumedCapacity:r=>ks(r),Responses:r=>gP(r,t)}),kV=(e,t)=>a.take(e,{CancellationReasons:r=>PH(r,t),Message:a.expectString}),LV=(e,t)=>a.take(e,{ConsumedCapacity:r=>ks(r),ItemCollectionMetrics:r=>hP(r,t)}),MV=(e,t)=>a.take(e,{ContinuousBackupsDescription:r=>pP(r)}),BV=(e,t)=>a.take(e,{GlobalTableDescription:r=>pg(r)}),UV=(e,t)=>a.take(e,{GlobalTableName:a.expectString,ReplicaSettings:r=>SP(r)}),FV=(e,t)=>a.take(e,{Attributes:r=>Xt(r,t),ConsumedCapacity:r=>cn(r),ItemCollectionMetrics:r=>ru(r,t)}),$V=(e,t)=>a.take(e,{TableDescription:r=>Ls(r)}),jV=(e,t)=>a.take(e,{TableAutoScalingDescription:r=>_P(r)}),zV=(e,t)=>a.take(e,{DeleteRequest:r=>MH(r,t),PutRequest:r=>yV(r,t)}),qV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>zV(n,t)),O=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),HV=a.withBaseException(se),V=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:c,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:c,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return s!==void 0&&(l.body=s),new cg.HttpRequest(l)};function G(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}var Ei=class extends a.Command.classBuilder().ep(q).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(vj).de(kz).build(){},VV=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},GV=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),WV=(e,t)=>{let r=Object.assign(nP.getAwsRegionExtensionConfiguration(e),a.getDefaultExtensionConfiguration(e),cg.getHttpHandlerExtensionConfiguration(e),VV(e));return t.forEach(n=>n.configure(r)),Object.assign(e,nP.resolveAwsRegionExtensionConfiguration(r),a.resolveDefaultRuntimeConfig(r),cg.resolveHttpHandlerRuntimeConfig(r),GV(r))},Yt=class extends a.Client{config;constructor(...[t]){let r=R$.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=P$(r),s=w$.resolveAccountIdEndpointModeConfig(n),o=eP.resolveUserAgentConfig(s),i=tP.resolveRetryConfig(o),c=I$.resolveRegionConfig(i),d=ZR.resolveHostHeaderConfig(c),l=j.resolveEndpointConfig(d),m=rP.resolveHttpAuthSchemeConfig(l),f=x$.resolveEndpointDiscoveryConfig(m,{endpointDiscoveryCommandCtor:Ei}),g=WV(f,t?.extensions||[]);this.config=g,this.middlewareStack.use(eP.getUserAgentPlugin(this.config)),this.middlewareStack.use(tP.getRetryPlugin(this.config)),this.middlewareStack.use(A$.getContentLengthPlugin(this.config)),this.middlewareStack.use(ZR.getHostHeaderPlugin(this.config)),this.middlewareStack.use(T$.getLoggerPlugin(this.config)),this.middlewareStack.use(C$.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Sr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:rP.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new Sr.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Sr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},ol=class extends a.Command.classBuilder().ep(q).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(Ej).de(_z).build(){},il=class extends a.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(Sj).de(wz).build(){},al=class extends a.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(bj).de(xz).build(){},cl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(_j).de(Tz).build(){},dl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(wj).de(Cz).build(){},ll=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(xj).de(Iz).build(){},ul=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(Tj).de(Az).build(){},pl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(Cj).de(Rz).build(){},ml=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(Ij).de(Pz).build(){},fl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(Aj).de(Nz).build(){},hl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(Rj).de(vz).build(){},gl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(Pj).de(Dz).build(){},yl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(Nj).de(Oz).build(){},El=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(Dj).de(Lz).build(){},Sl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(Oj).de(Mz).build(){},bl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(kj).de(Bz).build(){},_l=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(Lj).de(Uz).build(){},wl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Mj).de(Fz).build(){},xl=class extends a.Command.classBuilder().ep(q).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(Bj).de($z).build(){},Ds=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(Uj).de(jz).build(){},Tl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(Fj).de(zz).build(){},Cl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser($j).de(qz).build(){},Il=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(jj).de(Hz).build(){},Al=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(zj).de(Vz).build(){},Rl=class extends a.Command.classBuilder().ep(q).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(qj).de(Gz).build(){},Pl=class extends a.Command.classBuilder().ep(q).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(Hj).de(Wz).build(){},Nl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(Vj).de(Kz).build(){},vl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(Gj).de(Jz).build(){},Dl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(Wj).de(Yz).build(){},Ol=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"operationContextParams",get:t=>t?.TableCreationParameters?.TableName}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(Kj).de(Xz).build(){},kl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(Jj).de(Qz).build(){},Si=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(Yj).de(Zz).build(){},bi=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(Xj).de(e2).build(){},Ll=class extends a.Command.classBuilder().ep(q).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(Qj).de(t2).build(){},_i=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(Zj).de(r2).build(){},wi=class extends a.Command.classBuilder().ep(q).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(ez).de(n2).build(){},Ml=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(tz).de(s2).build(){},Bl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(rz).de(o2).build(){},Ul=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(nz).de(i2).build(){},xi=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(sz).de(a2).build(){},Fl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(oz).de(c2).build(){},$l=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(iz).de(d2).build(){},Ti=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(az).de(l2).build(){},jl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(cz).de(u2).build(){},zl=class extends a.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(dz).de(p2).build(){},ql=class extends a.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(lz).de(m2).build(){},Hl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(uz).de(f2).build(){},Vl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(pz).de(h2).build(){},Gl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(mz).de(g2).build(){},Wl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(fz).de(y2).build(){},Kl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(hz).de(E2).build(){},Jl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(gz).de(S2).build(){},Yl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(yz).de(b2).build(){},Xl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(Ez).de(_2).build(){},Ql=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(Sz).de(w2).build(){},Zl=class extends a.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(bz).de(x2).build(){},KV={BatchExecuteStatementCommand:ol,BatchGetItemCommand:il,BatchWriteItemCommand:al,CreateBackupCommand:cl,CreateGlobalTableCommand:dl,CreateTableCommand:ll,DeleteBackupCommand:ul,DeleteItemCommand:pl,DeleteResourcePolicyCommand:ml,DeleteTableCommand:fl,DescribeBackupCommand:hl,DescribeContinuousBackupsCommand:gl,DescribeContributorInsightsCommand:yl,DescribeEndpointsCommand:Ei,DescribeExportCommand:El,DescribeGlobalTableCommand:Sl,DescribeGlobalTableSettingsCommand:bl,DescribeImportCommand:_l,DescribeKinesisStreamingDestinationCommand:wl,DescribeLimitsCommand:xl,DescribeTableCommand:Ds,DescribeTableReplicaAutoScalingCommand:Tl,DescribeTimeToLiveCommand:Cl,DisableKinesisStreamingDestinationCommand:Il,EnableKinesisStreamingDestinationCommand:Al,ExecuteStatementCommand:Rl,ExecuteTransactionCommand:Pl,ExportTableToPointInTimeCommand:Nl,GetItemCommand:vl,GetResourcePolicyCommand:Dl,ImportTableCommand:Ol,ListBackupsCommand:kl,ListContributorInsightsCommand:Si,ListExportsCommand:bi,ListGlobalTablesCommand:Ll,ListImportsCommand:_i,ListTablesCommand:wi,ListTagsOfResourceCommand:Ml,PutItemCommand:Bl,PutResourcePolicyCommand:Ul,QueryCommand:xi,RestoreTableFromBackupCommand:Fl,RestoreTableToPointInTimeCommand:$l,ScanCommand:Ti,TagResourceCommand:jl,TransactGetItemsCommand:zl,TransactWriteItemsCommand:ql,UntagResourceCommand:Hl,UpdateContinuousBackupsCommand:Vl,UpdateContributorInsightsCommand:Gl,UpdateGlobalTableCommand:Wl,UpdateGlobalTableSettingsCommand:Kl,UpdateItemCommand:Jl,UpdateKinesisStreamingDestinationCommand:Yl,UpdateTableCommand:Xl,UpdateTableReplicaAutoScalingCommand:Ql,UpdateTimeToLiveCommand:Zl},eu=class extends Yt{};a.createAggregatedClient(KV,eu);var JV=Sr.createPaginator(Yt,Si,"NextToken","NextToken","MaxResults"),YV=Sr.createPaginator(Yt,bi,"NextToken","NextToken","MaxResults"),XV=Sr.createPaginator(Yt,_i,"NextToken","NextToken","PageSize"),QV=Sr.createPaginator(Yt,wi,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),ZV=Sr.createPaginator(Yt,xi,"ExclusiveStartKey","LastEvaluatedKey","Limit"),eG=Sr.createPaginator(Yt,Ti,"ExclusiveStartKey","LastEvaluatedKey","Limit"),wP=async(e,t)=>{let r;try{let n=await e.send(new Ds(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:Dt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Dt.WaiterState.RETRY,reason:r}}return{state:Dt.WaiterState.RETRY,reason:r}},tG=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Dt.createWaiter({...r,...e},t,wP)},rG=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Dt.createWaiter({...r,...e},t,wP);return Dt.checkExceptions(n)},xP=async(e,t)=>{let r;try{r=await e.send(new Ds(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Dt.WaiterState.SUCCESS,reason:r}}return{state:Dt.WaiterState.RETRY,reason:r}},nG=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Dt.createWaiter({...r,...e},t,xP)},sG=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Dt.createWaiter({...r,...e},t,xP);return Dt.checkExceptions(n)};Object.defineProperty(x,"$Command",{enumerable:!0,get:function(){return a.Command}});Object.defineProperty(x,"__Client",{enumerable:!0,get:function(){return a.Client}});x.ApproximateCreationDateTimePrecision=N$;x.AttributeAction=v$;x.BackupInUseException=Td;x.BackupNotFoundException=Cd;x.BackupStatus=O$;x.BackupType=k$;x.BackupTypeFilter=z$;x.BatchExecuteStatementCommand=ol;x.BatchGetItemCommand=il;x.BatchStatementErrorCodeEnum=V$;x.BatchWriteItemCommand=al;x.BillingMode=L$;x.ComparisonOperator=W$;x.ConditionalCheckFailedException=nl;x.ConditionalOperator=K$;x.ContinuousBackupsStatus=J$;x.ContinuousBackupsUnavailableException=kd;x.ContributorInsightsAction=X$;x.ContributorInsightsMode=Q$;x.ContributorInsightsStatus=Z$;x.CreateBackupCommand=cl;x.CreateGlobalTableCommand=dl;x.CreateTableCommand=ll;x.DeleteBackupCommand=ul;x.DeleteItemCommand=pl;x.DeleteResourcePolicyCommand=ml;x.DeleteTableCommand=fl;x.DescribeBackupCommand=hl;x.DescribeContinuousBackupsCommand=gl;x.DescribeContributorInsightsCommand=yl;x.DescribeEndpointsCommand=Ei;x.DescribeExportCommand=El;x.DescribeGlobalTableCommand=Sl;x.DescribeGlobalTableSettingsCommand=bl;x.DescribeImportCommand=_l;x.DescribeKinesisStreamingDestinationCommand=wl;x.DescribeLimitsCommand=xl;x.DescribeTableCommand=Ds;x.DescribeTableReplicaAutoScalingCommand=Tl;x.DescribeTimeToLiveCommand=Cl;x.DestinationStatus=gj;x.DisableKinesisStreamingDestinationCommand=Il;x.DuplicateItemException=Vd;x.DynamoDB=eu;x.DynamoDBClient=Yt;x.DynamoDBServiceException=se;x.EnableKinesisStreamingDestinationCommand=Al;x.ExecuteStatementCommand=Rl;x.ExecuteTransactionCommand=Pl;x.ExportConflictException=Kd;x.ExportFormat=cj;x.ExportNotFoundException=zd;x.ExportStatus=dj;x.ExportTableToPointInTimeCommand=Nl;x.ExportType=lj;x.ExportViewType=uj;x.GetItemCommand=vl;x.GetResourcePolicyCommand=Dl;x.GlobalTableAlreadyExistsException=Ud;x.GlobalTableNotFoundException=qd;x.GlobalTableStatus=ej;x.IdempotentParameterMismatchException=Gd;x.ImportConflictException=Xd;x.ImportNotFoundException=Hd;x.ImportStatus=mj;x.ImportTableCommand=Ol;x.IndexNotFoundException=rl;x.IndexStatus=tj;x.InputCompressionType=fj;x.InputFormat=hj;x.InternalServerError=Id;x.InvalidEndpointException=Pd;x.InvalidExportTimeException=Jd;x.InvalidRestoreTimeException=Zd;x.ItemCollectionSizeLimitExceededException=Dd;x.KeyType=M$;x.LimitExceededException=Ld;x.ListBackupsCommand=kl;x.ListContributorInsightsCommand=Si;x.ListExportsCommand=bi;x.ListGlobalTablesCommand=Ll;x.ListImportsCommand=_i;x.ListTablesCommand=wi;x.ListTagsOfResourceCommand=Ml;x.MultiRegionConsistency=ij;x.PointInTimeRecoveryStatus=Y$;x.PointInTimeRecoveryUnavailableException=Yd;x.PolicyNotFoundException=jd;x.ProjectionType=B$;x.ProvisionedThroughputExceededException=Nd;x.PutItemCommand=Bl;x.PutResourcePolicyCommand=Ul;x.QueryCommand=xi;x.ReplicaAlreadyExistsException=el;x.ReplicaNotFoundException=tl;x.ReplicaStatus=rj;x.ReplicatedWriteConflictException=Od;x.RequestLimitExceeded=Ad;x.ResourceInUseException=Fd;x.ResourceNotFoundException=vd;x.RestoreTableFromBackupCommand=Fl;x.RestoreTableToPointInTimeCommand=$l;x.ReturnConsumedCapacity=q$;x.ReturnItemCollectionMetrics=G$;x.ReturnValue=aj;x.ReturnValuesOnConditionCheckFailure=H$;x.S3SseAlgorithm=pj;x.SSEStatus=F$;x.SSEType=U$;x.ScalarAttributeType=D$;x.ScanCommand=Ti;x.Select=yj;x.StreamViewType=$$;x.TableAlreadyExistsException=Qd;x.TableClass=nj;x.TableInUseException=Md;x.TableNotFoundException=Bd;x.TableStatus=sj;x.TagResourceCommand=jl;x.ThrottlingException=Rd;x.TimeToLiveStatus=j$;x.TransactGetItemsCommand=zl;x.TransactWriteItemsCommand=ql;x.TransactionCanceledException=sl;x.TransactionConflictException=$d;x.TransactionInProgressException=Wd;x.UntagResourceCommand=Hl;x.UpdateContinuousBackupsCommand=Vl;x.UpdateContributorInsightsCommand=Gl;x.UpdateGlobalTableCommand=Wl;x.UpdateGlobalTableSettingsCommand=Kl;x.UpdateItemCommand=Jl;x.UpdateKinesisStreamingDestinationCommand=Yl;x.UpdateTableCommand=Xl;x.UpdateTableReplicaAutoScalingCommand=Ql;x.UpdateTimeToLiveCommand=Zl;x.WitnessStatus=oj;x.paginateListContributorInsights=JV;x.paginateListExports=YV;x.paginateListImports=XV;x.paginateListTables=QV;x.paginateQuery=ZV;x.paginateScan=eG;x.waitForTableExists=tG;x.waitForTableNotExists=nG;x.waitUntilTableExists=rG;x.waitUntilTableNotExists=sG});var pG={};pt(pG,{handler:()=>uG});module.exports=me(pG);var su=C(TP()),oG=new su.DynamoDBClient({}),fg=process.env.EPISODE_FEED_TABLE,iG=process.env.EPISODE_FEED_PK_PREFIX??"EPISODE#",aG=process.env.EPISODE_FEED_SK_PREFIX??"VERSION#";function cG(e){!e.episodeId&&e.slug&&(e.episodeId=e.slug)}function dG(e){if(!e.version){let t=new Date,r=s=>s.toString().padStart(2,"0"),n=t.getUTCFullYear().toString()+r(t.getUTCMonth()+1)+r(t.getUTCDate())+r(t.getUTCHours())+r(t.getUTCMinutes())+r(t.getUTCSeconds());e.version=n}}async function lG(e){if(!fg){console.log("EPISODE_FEED_TABLE not set; skipping DynamoDB write, but publish succeeds.");return}let t=e.episodeId??e.slug;if(!t){console.warn("No episodeId or slug present; skipping DynamoDB write, but publish succeeds.");return}let r=`${iG}${t}`,n=`${aG}${e.version}`;console.log("Writing episode feed item to DynamoDB:",{table:fg,pk:r,sk:n,item:e});let s={pk:{S:r},sk:{S:n},type:{S:"episode#feed"}};for(let[o,i]of Object.entries(e))i!=null&&(s[o]={S:String(i)});await oG.send(new su.PutItemCommand({TableName:fg,Item:s}))}var uG=async e=>{if(console.log("PublishEpisode incoming event:",JSON.stringify(e,null,2)),!e||!e.episode)throw new Error("PublishEpisode requires 'episode' in payload.");if(e.validation&&e.validation.ok===!1){console.warn("Refusing to publish: validation.ok === false. Issues:",JSON.stringify(e.validation.issues??[],null,2));let c={...e.episode,status:e.episode.status??"validation_failed"};return{published:!1,status:c.status,episode:c,validation:e.validation,skippedWrite:!0}}let t=new Date().toISOString(),r=e.targetStatus??"published",n={status:r,...e.episode,publishedAt:e.episode.publishedAt??t};cG(n),dG(n);let s={episodeId:n.episodeId,slug:n.slug,title:n.title,version:n.version,status:n.status??r,publishedAt:n.publishedAt},o=!1;if(e.dryRun)console.log("Dry-run publish; not writing to any datastore."),o=!0;else try{await lG(s)}catch(c){throw console.error("Error writing episode feed record:",c),c}let i={published:!0,status:n.status??r,episode:n,feedItem:s,validation:e.validation,skippedWrite:o};return console.log("PublishEpisode result:",JSON.stringify(i,null,2)),i};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
