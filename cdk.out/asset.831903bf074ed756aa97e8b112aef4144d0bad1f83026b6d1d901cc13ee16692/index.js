"use strict";var s=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var o=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var m=(r,n)=>{for(var e in n)s(r,e,{get:n[e],enumerable:!0})},l=(r,n,e,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of o(n))!c.call(r,i)&&i!==e&&s(r,i,{get:()=>n[i],enumerable:!(t=a(n,i))||t.enumerable});return r};var d=r=>l(s({},"__esModule",{value:!0}),r);var p={};m(p,{handler:()=>g});module.exports=d(p);function u(r){var t,i;if(!r)return!1;let n=((t=r.claims)==null?void 0:t["cognito:groups"])??((i=r.claims)==null?void 0:i["custom:groups"])??r.groups,e=Array.isArray(n)?n:typeof n=="string"?n.split(","):[];return e.includes("admin")||e.includes("ADMIN")}var g=async r=>{var t;let n=((t=r.info)==null?void 0:t.fieldName)||"",e=r.identity;if(!(e!=null&&e.sub))throw new Error("Unauthorized");if(!u(e))throw new Error("Forbidden");if(n==="adminAnalyticsSummary")return{generatedAt:new Date().toISOString(),notes:"Admin analytics backend is wired. Replace this placeholder with real metrics (XP, coins, livestream engagement, etc)."};throw new Error(`Unknown field ${n} in admin-metrics lambda`)};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
