"use strict";var a=Object.defineProperty;var i=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var u=(s,e)=>{for(var t in e)a(s,t,{get:e[t],enumerable:!0})},l=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of y(e))!d.call(s,n)&&n!==t&&a(s,n,{get:()=>e[n],enumerable:!(r=i(e,n))||r.enumerable});return s};var p=s=>l(a({},"__esModule",{value:!0}),s);var h={};u(h,{handler:()=>O});module.exports=p(h);var o=require("@aws-sdk/client-s3"),C=new o.S3Client({region:process.env.AWS_REGION||"us-east-1"}),g=process.env.BUCKET,m=process.env.WEB_ORIGIN||"https://stylingadventures.com",c={"Content-Type":"application/json","Access-Control-Allow-Origin":m,"Access-Control-Allow-Credentials":"true",Vary:"Origin"},O=async s=>{let e=s?.queryStringParameters?.key;if(!e)return{statusCode:400,headers:c,body:JSON.stringify({message:"Missing key"})};let r=`thumbs/${decodeURIComponent(e).replace(/\.[^.]+$/,".jpg")}`;try{return await C.send(new o.HeadObjectCommand({Bucket:g,Key:r})),{statusCode:200,headers:c,body:JSON.stringify({ready:!0})}}catch{return{statusCode:200,headers:c,body:JSON.stringify({ready:!1})}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
