"use strict";var WM=Object.create;var hc=Object.defineProperty;var KM=Object.getOwnPropertyDescriptor;var YM=Object.getOwnPropertyNames;var QM=Object.getPrototypeOf,XM=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),We=(e,t)=>{for(var r in t)hc(e,r,{get:t[r],enumerable:!0})},$S=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of YM(t))!XM.call(e,s)&&s!==r&&hc(e,s,{get:()=>t[s],enumerable:!(n=KM(t,s))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?WM(QM(e)):{},$S(t||!e||!e.__esModule?hc(r,"default",{value:e,enumerable:!0}):r,e)),se=e=>$S(hc({},"__esModule",{value:!0}),e);var pn=P(Ie=>{"use strict";Ie.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ie.HttpAuthLocation||(Ie.HttpAuthLocation={}));Ie.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Ie.HttpApiKeyAuthLocation||(Ie.HttpApiKeyAuthLocation={}));Ie.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Ie.EndpointURLScheme||(Ie.EndpointURLScheme={}));Ie.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ie.AlgorithmId||(Ie.AlgorithmId={}));var JM=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>Ie.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>Ie.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},ZM=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},eU=e=>JM(e),tU=e=>ZM(e);Ie.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Ie.FieldPosition||(Ie.FieldPosition={}));var rU="__smithy_context";Ie.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Ie.IniSectionType||(Ie.IniSectionType={}));Ie.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Ie.RequestHandlerProtocol||(Ie.RequestHandlerProtocol={}));Ie.SMITHY_CONTEXT_KEY=rU;Ie.getDefaultClientConfiguration=eU;Ie.resolveDefaultRuntimeConfig=tU});var Ze=P(hm=>{"use strict";var GS=pn(),nU=e=>e[GS.SMITHY_CONTEXT_KEY]||(e[GS.SMITHY_CONTEXT_KEY]={}),sU=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};hm.getSmithyContext=nU;hm.normalizeProvider=sU});function Hs(e){return HS.includes(e)}var ii,HS,gc=_(()=>{ii="preferred",HS=["disabled","preferred","required"]});var qS,oU,jS=_(()=>{qS=T(Ze());gc();oU=e=>{let{accountIdEndpointMode:t}=e,r=(0,qS.normalizeProvider)(t??ii);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Hs(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var zS,VS,WS,KS,iU,YS=_(()=>{gc();zS="Invalid AccountIdEndpointMode value",VS=e=>{throw new Error(e)},WS="AWS_ACCOUNT_ID_ENDPOINT_MODE",KS="account_id_endpoint_mode",iU={environmentVariableSelector:e=>{let t=e[WS];return t&&!Hs(t)&&VS(zS),t},configFileSelector:e=>{let t=e[KS];return t&&!Hs(t)&&VS(zS),t},default:ii}});var gm={};We(gm,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>HS,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>KS,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>ii,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>WS,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>iU,resolveAccountIdEndpointModeConfig:()=>oU,validateAccountIdEndpointMode:()=>Hs});var ym=_(()=>{jS();gc();YS()});var _e=P(mn=>{"use strict";var aU=pn(),cU=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){var n;(n=e.httpHandler)==null||n.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),uU=e=>({httpHandler:e.httpHandler()}),Em=class{name;kind;values;constructor({name:t,kind:r=aU.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Sm=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},_m=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=lU(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function lU(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var bm=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function dU(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}mn.Field=Em;mn.Fields=Sm;mn.HttpRequest=_m;mn.HttpResponse=bm;mn.getHttpHandlerExtensionConfiguration=cU;mn.isValidHostname=dU;mn.resolveHttpHandlerRuntimeConfig=uU});var XS=P((sie,QS)=>{function Mr(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Mr.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Mr.prototype[Symbol.iterator]=function(){return this});Mr.of=function(){var e=arguments,t=e.length,r=0;return new Mr(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Mr.empty=function(){var e=new Mr(null);return e.done=!0,e};Mr.is=function(e){return e instanceof Mr?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};QS.exports=Mr});var Tm=P((oie,t_)=>{var JS=typeof ArrayBuffer<"u",ZS=typeof Symbol<"u";function e_(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||JS&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(ZS&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,s),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}e_.forEachWithNullKeys=function(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||JS&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(ZS&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,null),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};t_.exports=e_});var wm=P(dr=>{var pU=Math.pow(2,8)-1,mU=Math.pow(2,16)-1,fU=Math.pow(2,32)-1,hU=Math.pow(2,7)-1,gU=Math.pow(2,15)-1,yU=Math.pow(2,31)-1;dr.getPointerArray=function(e){var t=e-1;return t<=pU?Uint8Array:t<=mU?Uint16Array:t<=fU?Uint32Array:Float64Array};dr.getSignedPointerArray=function(e){var t=e-1;return t<=hU?Int8Array:t<=gU?Int16Array:t<=yU?Int32Array:Float64Array};dr.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var EU={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};dr.getMinimalRepresentation=function(e,t){var r=null,n=0,s,o,i,a,c;for(a=0,c=e.length;a<c;a++)i=t?t(e[a]):e[a],o=dr.getNumberType(i),s=EU[o.name],s>n&&(n=s,r=o);return r};dr.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};dr.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var s=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)s.set(arguments[t],r),r+=arguments[t].length;return s};dr.indices=function(e){for(var t=dr.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var s_=P(ai=>{var r_=Tm(),n_=wm();function SU(e){return Array.isArray(e)||n_.isTypedArray(e)}function Im(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function _U(e){var t=Im(e),r=typeof t=="number"?new Array(t):[],n=0;return r_(e,function(s){r[n++]=s}),r}function bU(e){var t=Im(e),r=typeof t=="number"?n_.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],s=typeof t=="number"?new r(t):[],o=0;return r_(e,function(i){n[o]=i,s[o]=o++}),[n,s]}ai.isArrayLike=SU;ai.guessLength=Im;ai.toArray=_U;ai.toArrayWithIndices=bU});var i_=P((cie,o_)=>{var xm=XS(),TU=Tm(),wU=wm(),IU=s_();function Be(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=wU.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Be.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Be.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Be.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Be.prototype.setpop=function(e,t){var r=null,n=null,s=this.items[e];return typeof s<"u"?(this.splayOnTop(s),r=this.V[s],this.V[s]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?s=this.size++:(s=this.tail,this.tail=this.backward[s],r=this.V[s],n=this.K[s],delete this.items[this.K[s]]),this.items[e]=s,this.K[s]=e,this.V[s]=t,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,n?{evicted:!0,key:n,value:r}:null)};Be.prototype.has=function(e){return e in this.items};Be.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Be.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Be.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,s=this.head,o=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[s],o[s],this),s=a[s],r++};Be.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.forward;return new xm(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};Be.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,s=this.forward;return new xm(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};Be.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.V,o=this.forward;return new xm(function(){if(e>=t)return{done:!0};var i=n[r],a=s[r];return e++,e<t&&(r=o[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Be.prototype[Symbol.iterator]=Be.prototype.entries);Be.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Be,enumerable:!1}),e};typeof Symbol<"u"&&(Be.prototype[Symbol.for("nodejs.util.inspect.custom")]=Be.prototype.inspect);Be.from=function(e,t,r,n){if(arguments.length<2){if(n=IU.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var s=new Be(t,r,n);return TU(e,function(o,i){s.set(i,o)}),s};o_.exports=Be});var l_=P((uie,u_)=>{"use strict";var xU=Object.create,ci=Object.defineProperty,CU=Object.getOwnPropertyDescriptor,AU=Object.getOwnPropertyNames,RU=Object.getPrototypeOf,vU=Object.prototype.hasOwnProperty,DU=(e,t)=>ci(e,"name",{value:t,configurable:!0}),PU=(e,t)=>{for(var r in t)ci(e,r,{get:t[r],enumerable:!0})},a_=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of AU(t))!vU.call(e,s)&&s!==r&&ci(e,s,{get:()=>t[s],enumerable:!(n=CU(t,s))||n.enumerable});return e},NU=(e,t,r)=>(r=e!=null?xU(RU(e)):{},a_(t||!e||!e.__esModule?ci(r,"default",{value:e,enumerable:!0}):r,e)),OU=e=>a_(ci({},"__esModule",{value:!0}),e),c_={};PU(c_,{EndpointCache:()=>kU});u_.exports=OU(c_);var LU=NU(i_()),qs,kU=(qs=class{cache;constructor(t){this.cache=new LU.default(t)}getEndpoint(t){let r=this.get(t);if(!r||r.length===0)return;let n=r.map(s=>s.Address);return n[Math.floor(Math.random()*n.length)]}get(t){if(!this.has(t))return;let r=this.cache.get(t);if(!r)return;let n=Date.now(),s=r.filter(o=>n<o.Expires);if(s.length===0){this.delete(t);return}return s}set(t,r){let n=Date.now();this.cache.set(t,r.map(({Address:s,CachePeriodInMinutes:o})=>({Address:s,Expires:n+o*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let r=this.cache.peek(t);return r?r.length>0:!1}clear(){this.cache.clear()}},DU(qs,"EndpointCache"),qs)});var Rm=P(cs=>{"use strict";var MU=_e(),UU=l_(),d_=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Cm="endpoint_discovery_enabled",p_=e=>["false","0"].indexOf(e)>=0,BU={environmentVariableSelector:e=>{for(let t=0;t<d_.length;t++){let r=d_[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!p_(n)}}},configFileSelector:e=>{if(Cm in e){let t=e[Cm];if(t===void 0)throw Error(`Shared config entry ${Cm} can't be undefined, got "${t}"`);return!p_(t)}},default:void 0},FU=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:s}=r;return JSON.stringify({...n&&{accessKeyId:n},...s&&{commandName:e,identifiers:Object.entries(s).sort().reduce((o,[i,a])=>({...o,[i]:a}),{})}})},Ur={},m_=async(e,t)=>new Promise((r,n)=>{let{endpointCache:s}=e,{cacheKey:o,commandName:i,identifiers:a}=t,c=s.get(o);if(c&&c.length===1&&c[0].Address==="")t.isDiscoveredEndpointRequired?(Ur[o]||(Ur[o]=[]),Ur[o].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let u=[{Address:"",CachePeriodInMinutes:1}];s.set(o,u);let l=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});l.resolveMiddleware(t.clientStack,e,t.options)(l).then(g=>{s.set(o,g.output.Endpoints),Ur[o]&&(Ur[o].forEach(({resolve:h})=>{h()}),delete Ur[o]),r()}).catch(g=>{s.delete(o);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:g});Ur[o]&&(Ur[o].forEach(({reject:y})=>{y(h)}),delete Ur[o]),t.isDiscoveredEndpointRequired?n(h):(s.set(o,u),r())})}}),Am=(e,t)=>(r,n)=>async s=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(s)}let{endpointDiscoveryCommandCtor:o}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,c=n.clientName,u=n.commandName,l=await e.endpointDiscoveryEnabled(),d=await FU(u,e,{identifiers:a});if(i){if(l===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${c} requires it. Please check your configurations.`);await m_(e,{...t,commandName:u,cacheKey:d,endpointDiscoveryCommandCtor:o})}else l&&m_(e,{...t,commandName:u,cacheKey:d,endpointDiscoveryCommandCtor:o});let{request:g}=s;if(d&&MU.HttpRequest.isInstance(g)){let h=e.endpointCache.getEndpoint(d);h&&(g.hostname=h)}return r(s)},yc={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},$U=(e,t)=>({applyToStack:r=>{r.add(Am(e,t),yc)}}),GU=(e,t)=>({applyToStack:r=>{r.add(Am(e,{...t,isDiscoveredEndpointRequired:!0}),yc)}}),HU=(e,t)=>({applyToStack:r=>{r.add(Am(e,{...t,isDiscoveredEndpointRequired:!1}),yc)}}),qU=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:s}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new UU.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):s,isClientEndpointDiscoveryEnabled:n!==void 0})};cs.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=BU;cs.endpointDiscoveryMiddlewareOptions=yc;cs.getEndpointDiscoveryOptionalPlugin=HU;cs.getEndpointDiscoveryPlugin=$U;cs.getEndpointDiscoveryRequiredPlugin=GU;cs.resolveEndpointDiscoveryConfig=qU});var js=P(ui=>{"use strict";var jU=_e();function zU(e){return e}var f_=e=>t=>async r=>{if(!jU.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},h_={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},VU=e=>({applyToStack:t=>{t.add(f_(e),h_)}});ui.getHostHeaderPlugin=VU;ui.hostHeaderMiddleware=f_;ui.hostHeaderMiddlewareOptions=h_;ui.resolveHostHeaderConfig=zU});var zs=P(Ec=>{"use strict";var g_=()=>(e,t)=>async r=>{var n,s;try{let o=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=u,g=l??t.inputFilterSensitiveLog,h=d??t.outputFilterSensitiveLog,{$metadata:y,...S}=o.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:g(r.input),output:h(S),metadata:y}),o}catch(o){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:l}=u,d=l??t.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:i,commandName:a,input:d(r.input),error:o,metadata:o.$metadata}),o}},y_={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},WU=e=>({applyToStack:t=>{t.add(g_(),y_)}});Ec.getLoggerPlugin=WU;Ec.loggerMiddleware=g_;Ec.loggerMiddlewareOptions=y_});var S_={};We(S_,{InvokeStore:()=>Nm,InvokeStoreBase:()=>di});var li,E_,vm,di,Dm,Pm,Nm,__=_(()=>{li={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},vm=["true","1"].includes(((E_=process.env)==null?void 0:E_.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA)??"");vm||(globalThis.awslambda=globalThis.awslambda||{});di=class{static PROTECTED_KEYS=li;isProtectedKey(t){return Object.values(li).includes(t)}getRequestId(){return this.get(li.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(li.X_RAY_TRACE_ID)}getTenantId(){return this.get(li.TENANT_ID)}},Dm=class extends di{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(t){var r;return(r=this.currentContext)==null?void 0:r[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);this.currentContext=this.currentContext||{},this.currentContext[t]=r}run(t,r){return this.currentContext=t,r()}},Pm=class e extends di{als;static async create(){let t=new e,r=await import("node:async_hooks");return t.als=new r.AsyncLocalStorage,t}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(t){var r;return(r=this.als.getStore())==null?void 0:r[t]}set(t,r){if(this.isProtectedKey(t))throw new Error(`Cannot modify protected Lambda context field: ${String(t)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[t]=r}run(t,r){return this.als.run(t,r)}};(function(e){let t=null;async function r(){return t||(t=(async()=>{var o;let s="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await Pm.create():new Dm;return!vm&&((o=globalThis.awslambda)!=null&&o.InvokeStore)?globalThis.awslambda.InvokeStore:(!vm&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=s),s)})()),t}e.getInstanceAsync=r,e._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{var n;t=null,(n=globalThis.awslambda)!=null&&n.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(Nm||(Nm={}))});var b_=P(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.recursionDetectionMiddleware=void 0;var KU=(__(),se(S_)),YU=_e(),Om="X-Amzn-Trace-Id",QU="AWS_LAMBDA_FUNCTION_NAME",XU="_X_AMZN_TRACE_ID",JU=()=>e=>async t=>{let{request:r}=t;if(!YU.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===Om.toLowerCase())??Om;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[QU],o=process.env[XU],i=await KU.InvokeStore.getInstanceAsync(),c=(i==null?void 0:i.getXRayTraceId())??o,u=l=>typeof l=="string"&&l.length>0;return u(s)&&u(c)&&(r.headers[Om]=c),e({...t,request:r})};Sc.recursionDetectionMiddleware=JU});var Vs=P(_c=>{"use strict";var Lm=b_(),ZU={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},eB=e=>({applyToStack:t=>{t.add(Lm.recursionDetectionMiddleware(),ZU)}});_c.getRecursionDetectionPlugin=eB;Object.keys(Lm).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(_c,e)&&Object.defineProperty(_c,e,{enumerable:!0,get:function(){return Lm[e]}})})});var km,tB,T_=_(()=>{km=T(pn()),tB=e=>e[km.SMITHY_CONTEXT_KEY]||(e[km.SMITHY_CONTEXT_KEY]={})});var w_,I_=_(()=>{w_=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function rB(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var x_,pi,bc=_(()=>{x_=T(Ze());I_();pi=(e,t)=>(r,n)=>async s=>{var d;let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=w_(o,i),c=rB(e.httpAuthSchemes),u=(0,x_.getSmithyContext)(n),l=[];for(let g of a){let h=c.get(g.schemeId);if(!h){l.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}let y=h.identityProvider(await t.identityProviderConfigProvider(e));if(!y){l.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:w={}}=((d=g.propertiesExtractor)==null?void 0:d.call(g,e,n))||{};g.identityProperties=Object.assign(g.identityProperties||{},S),g.signingProperties=Object.assign(g.signingProperties||{},w),u.selectedHttpAuthScheme={httpAuthOption:g,identity:await y(g.identityProperties),signer:h.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(l.join(`
`));return r(s)}});var C_,us,A_=_(()=>{bc();C_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},us=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(pi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),C_)}})});var Um=P(Ws=>{"use strict";var nB=_e(),R_=(e,t)=>(r,n)=>async s=>{var i,a,c,u;let{response:o}=await r(s);try{let l=await t(o,e);return{response:o,output:l}}catch(l){if(Object.defineProperty(l,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in l)){let d="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{l.message+=`
  `+d}catch{!n.logger||((a=(i=n.logger)==null?void 0:i.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(d):(u=(c=n.logger)==null?void 0:c.warn)==null||u.call(c,d)}typeof l.$responseBodyText<"u"&&l.$response&&(l.$response.body=l.$responseBodyText);try{if(nB.HttpResponse.isInstance(o)){let{headers:g={}}=o,h=Object.entries(g);l.$metadata={httpStatusCode:o.statusCode,requestId:Mm(/^x-[\w-]+-request-?id$/,h),extendedRequestId:Mm(/^x-[\w-]+-id-2$/,h),cfId:Mm(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw l}},Mm=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],v_=(e,t)=>(r,n)=>async s=>{var c;let o=e,i=(c=n.endpointV2)!=null&&c.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})},D_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},P_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function sB(e,t,r){return{applyToStack:n=>{n.add(R_(e,r),D_),n.add(v_(e,t),P_)}}}Ws.deserializerMiddleware=R_;Ws.deserializerMiddlewareOption=D_;Ws.getSerdePlugin=sB;Ws.serializerMiddleware=v_;Ws.serializerMiddlewareOption=P_});var N_,O_,oB,L_=_(()=>{N_=T(Um());bc();O_={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:N_.serializerMiddlewareOption.name},oB=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(pi(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),O_)}})});var k_=_(()=>{bc();A_();L_()});var M_,U_,iB,aB,Bm,Fm=_(()=>{M_=T(_e()),U_=T(Ze()),iB=e=>t=>{throw t},aB=(e,t)=>{},Bm=e=>(t,r)=>async n=>{if(!M_.HttpRequest.isInstance(n.request))return t(n);let o=(0,U_.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=o,u=await t({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||iB)(i));return(c.successHandler||aB)(u.response,i),u}});var B_,ls,F_=_(()=>{Fm();B_={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},ls=e=>({applyToStack:t=>{t.addRelativeTo(Bm(e),B_)}})});var $_=_(()=>{Fm();F_()});var fn,G_=_(()=>{fn=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function H_(e,t,r,n,s){return async function*(i,a,...c){let u=a,l=i.startingToken??u[r],d=!0,g;for(;d;){if(u[r]=l,s&&(u[s]=u[s]??i.pageSize),i.client instanceof e)g=await cB(t,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let h=l;l=uB(g,n),d=!!(l&&(!i.stopOnSameToken||l!==h))}return void 0}}var cB,uB,q_=_(()=>{cB=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};uB=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var $m=P(j_=>{"use strict";var lB=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";j_.isArrayBuffer=lB});var Ks=P(Hm=>{"use strict";var dB=$m(),Gm=require("buffer"),pB=(e,t=0,r=e.byteLength-t)=>{if(!dB.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Gm.Buffer.from(e,t,r)},mB=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Gm.Buffer.from(e,t):Gm.Buffer.from(e)};Hm.fromArrayBuffer=pB;Hm.fromString=mB});var z_=P(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.fromBase64=void 0;var fB=Ks(),hB=/^[A-Za-z0-9+/]*={0,2}$/,gB=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!hB.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,fB.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Tc.fromBase64=gB});var Fe=P(wc=>{"use strict";var V_=Ks(),W_=e=>{let t=V_.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},yB=e=>typeof e=="string"?W_(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),EB=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return V_.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};wc.fromUtf8=W_;wc.toUint8Array=yB;wc.toUtf8=EB});var K_=P(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.toBase64=void 0;var SB=Ks(),_B=Fe(),bB=e=>{let t;if(typeof e=="string"?t=(0,_B.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,SB.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};Ic.toBase64=bB});var Re=P(mi=>{"use strict";var Y_=z_(),Q_=K_();Object.keys(Y_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(mi,e)&&Object.defineProperty(mi,e,{enumerable:!0,get:function(){return Y_[e]}})});Object.keys(Q_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(mi,e)&&Object.defineProperty(mi,e,{enumerable:!0,get:function(){return Q_[e]}})})});var jm=P(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.ChecksumStream=void 0;var TB=Re(),wB=require("stream"),qm=class extends wB.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){var i;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${((i=n==null?void 0:n.constructor)==null?void 0:i.name)??n} in ChecksumStream.`);this.base64Encoder=o??TB.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};xc.ChecksumStream=qm});var hn=P(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.isBlob=Ys.isReadableStream=void 0;var IB=e=>{var t;return typeof ReadableStream=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Ys.isReadableStream=IB;var xB=e=>{var t;return typeof Blob=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===Blob.name||e instanceof Blob)};Ys.isBlob=xB});var X_=P(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.ChecksumStream=void 0;var CB=typeof ReadableStream=="function"?ReadableStream:function(){},zm=class extends CB{};Cc.ChecksumStream=zm});var J_=P(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.createChecksumStream=void 0;var AB=Re(),RB=hn(),vB=X_(),DB=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var c;if(!(0,RB.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${((c=r==null?void 0:r.constructor)==null?void 0:c.name)??r} in ChecksumStream.`);let o=s??AB.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(u,l){t.update(u),l.enqueue(u)},async flush(u){let l=await t.digest(),d=o(l);if(e!==d){let g=new Error(`Checksum mismatch: expected "${e}" but received "${d}" in response header "${n}".`);u.error(g)}else u.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,vB.ChecksumStream.prototype),a};Ac.createChecksumStream=DB});var Z_=P(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.createChecksumStream=LB;var PB=hn(),NB=jm(),OB=J_();function LB(e){return typeof ReadableStream=="function"&&(0,PB.isReadableStream)(e.source)?(0,OB.createChecksumStream)(e):new NB.ChecksumStream(e)}});var Km=P(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.ByteArrayCollector=void 0;var Wm=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Rc.ByteArrayCollector=Wm});var nb=P(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.createBufferedReadable=void 0;Br.createBufferedReadableStream=eb;Br.merge=tb;Br.flush=vc;Br.sizeOf=Qs;Br.modeOf=rb;var kB=Km();function eb(e,t,r){let n=e.getReader(),s=!1,o=0,i=["",new kB.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:l,done:d}=await n.read(),g=l;if(d){if(a!==-1){let h=vc(i,a);Qs(h)>0&&u.enqueue(h)}u.close()}else{let h=rb(g,!1);if(a!==h&&(a>=0&&u.enqueue(vc(i,a)),a=h),a===-1){u.enqueue(g);return}let y=Qs(g);o+=y;let S=Qs(i[a]);if(y>=t&&S===0)u.enqueue(g);else{let w=tb(i,a,g);!s&&o>t*2&&(s=!0,r==null||r.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),w>=t?u.enqueue(vc(i,a)):await c(u)}}};return new ReadableStream({pull:c})}Br.createBufferedReadable=eb;function tb(e,t,r){switch(t){case 0:return e[0]+=r,Qs(e[0]);case 1:case 2:return e[t].push(r),Qs(e[t])}}function vc(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Qs(e){return(e==null?void 0:e.byteLength)??(e==null?void 0:e.length)??0}function rb(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var ob=P(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.createBufferedReadable=BB;var MB=require("node:stream"),sb=Km(),Fr=nb(),UB=hn();function BB(e,t,r){if((0,UB.isReadableStream)(e))return(0,Fr.createBufferedReadableStream)(e,t,r);let n=new MB.Readable({read(){}}),s=!1,o=0,i=["",new sb.ByteArrayCollector(c=>new Uint8Array(c)),new sb.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return e.on("data",c=>{let u=(0,Fr.modeOf)(c,!0);if(a!==u&&(a>=0&&n.push((0,Fr.flush)(i,a)),a=u),a===-1){n.push(c);return}let l=(0,Fr.sizeOf)(c);o+=l;let d=(0,Fr.sizeOf)(i[a]);if(l>=t&&d===0)n.push(c);else{let g=(0,Fr.merge)(i,a,c);!s&&o>t*2&&(s=!0,r==null||r.warn(`@smithy/util-stream - stream chunk size ${l} is below threshold of ${t}, automatically buffering.`)),g>=t&&n.push((0,Fr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let c=(0,Fr.flush)(i,a);(0,Fr.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var ib=P(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.getAwsChunkedEncodingStream=void 0;var FB=require("stream"),$B=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,e):void 0,u=new FB.Readable({read:()=>{}});return e.on("data",l=>{let d=n(l)||0;u.push(`${d.toString(16)}\r
`),u.push(l),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),a){let l=r(await c);u.push(`${o}:${l}\r
`),u.push(`\r
`)}u.push(null)}),u};Dc.getAwsChunkedEncodingStream=$B});var ab=P(Qm=>{"use strict";Object.defineProperty(Qm,"__esModule",{value:!0});Qm.headStream=GB;async function GB(e,t){let r=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:c,value:u}=await s.read();if(u&&(n.push(u),r+=(u==null?void 0:u.byteLength)??0),r>=t)break;o=c}s.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var cb=P(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.headStream=void 0;var HB=require("stream"),qB=ab(),jB=hn(),zB=(e,t)=>(0,jB.isReadableStream)(e)?(0,qB.headStream)(e,t):new Promise((r,n)=>{let s=new Xm;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});Pc.headStream=zB;var Xm=class extends HB.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var Zm=P(Jm=>{"use strict";var ub=e=>encodeURIComponent(e).replace(/[!'()*]/g,VB),VB=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,WB=e=>e.split("/").map(ub).join("/");Jm.escapeUri=ub;Jm.escapeUriPath=WB});var tf=P(lb=>{"use strict";var ef=Zm();function KB(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=ef.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${ef.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${ef.escapeUri(n)}`),t.push(s)}}return t.join("&")}lb.buildQueryString=KB});var gn=P(fi=>{"use strict";var fb=_e(),hb=tf(),Nc=require("http"),Oc=require("https"),gb=require("stream"),rf=require("http2"),YB=["ECONNRESET","EPIPE","ETIMEDOUT"],yb=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},pt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},db=1e3,QB=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let o=pt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=a=>{a!=null&&a.connecting?a.on("connect",()=>{pt.clearTimeout(o)}):pt.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):pt.setTimeout(n.bind(null,db),db)},XB=(e,t,r=0,n,s)=>r?pt.setTimeout(()=>{var i;let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let a=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(a),t(a)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",(i=s==null?void 0:s.warn)==null||i.call(s,o)},r):-1,JB=3e3,ZB=(e,{keepAlive:t,keepAliveMsecs:r},n=JB)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return n===0?(s(),0):pt.setTimeout(s,n)},pb=3e3,eF=(e,t,r=0)=>{let n=s=>{let o=r-s,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>{var a;return(a=e.socket)==null?void 0:a.removeListener("timeout",i)})):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):pt.setTimeout(n.bind(null,r===0?0:pb),pb)},mb=6e3;async function Eb(e,t,r=mb,n=!1){let s=t.headers??{},o=s.Expect||s.expect,i=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(pt.setTimeout(()=>c(!0),Math.max(mb,r)))}),new Promise(c=>{e.on("continue",()=>{pt.clearTimeout(i),c(!0)}),e.on("response",()=>{pt.clearTimeout(i),c(!1)}),e.on("error",()=>{pt.clearTimeout(i),c(!1)})})])),a&&tF(e,t.body)}function tF(e,t){if(t instanceof gb.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var rF=0,nf=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){var c,u,l;let{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let d in s){let g=((c=s[d])==null?void 0:c.length)??0,h=((u=o[d])==null?void 0:u.length)??0;if(g>=i&&h>=2*i)return(l=n==null?void 0:n.warn)==null||l.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${g} and ${h} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=t||{},u=!0,l=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:i instanceof Nc.Agent||typeof(i==null?void 0:i.destroy)=="function"?(this.externalAgent=!0,i):new Nc.Agent({keepAlive:u,maxSockets:l,...i}),httpsAgent:a instanceof Oc.Agent||typeof(a==null?void 0:a.destroy)=="function"?(this.externalAgent=!0,a):new Oc.Agent({keepAlive:u,maxSockets:l,...a}),logger:console}}destroy(){var t,r,n,s;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,a,c=[],u=async V=>{await a,c.forEach(pt.clearTimeout),s(V)},l=async V=>{await a,c.forEach(pt.clearTimeout),o(V)};if(r!=null&&r.aborted){let V=new Error("Request aborted");V.name="AbortError",l(V);return}let d=t.protocol==="https:",g=t.headers??{},h=(g.Expect??g.expect)==="100-continue",y=d?i.httpsAgent:i.httpAgent;h&&!this.externalAgent&&(y=new(d?Oc.Agent:Nc.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(pt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(y,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let S=hb.buildQueryString(t.query||{}),w;if(t.username!=null||t.password!=null){let V=t.username??"",Q=t.password??"";w=`${V}:${Q}`}let C=t.path;S&&(C+=`?${S}`),t.fragment&&(C+=`#${t.fragment}`);let R=t.hostname??"";R[0]==="["&&R.endsWith("]")?R=t.hostname.slice(1,-1):R=t.hostname;let N={headers:t.headers,host:R,method:t.method,path:C,port:t.port,agent:y,auth:w},B=(d?Oc.request:Nc.request)(N,V=>{let Q=new fb.HttpResponse({statusCode:V.statusCode||-1,reason:V.statusMessage,headers:yb(V.headers),body:V});u({response:Q})});if(B.on("error",V=>{YB.includes(V.code)?l(Object.assign(V,{name:"TimeoutError"})):l(V)}),r){let V=()=>{B.destroy();let Q=new Error("Request aborted");Q.name="AbortError",l(Q)};if(typeof r.addEventListener=="function"){let Q=r;Q.addEventListener("abort",V,{once:!0}),B.once("close",()=>Q.removeEventListener("abort",V))}else r.onabort=V}let J=n??i.requestTimeout;c.push(QB(B,l,i.connectionTimeout)),c.push(XB(B,l,J,i.throwOnRequestTimeout,i.logger??console)),c.push(eF(B,l,i.socketTimeout));let oe=N.agent;typeof oe=="object"&&"keepAlive"in oe&&c.push(ZB(B,{keepAlive:oe.keepAlive,keepAliveMsecs:oe.keepAliveMsecs})),a=Eb(B,t,J,this.externalAgent).catch(V=>(c.forEach(pt.clearTimeout),o(V)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},sf=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},of=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let o=rf.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new sf;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var s;let n=this.getUrlString(t);(s=this.sessionCache.get(n))==null||s.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},af=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new of({});static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,c)=>{var Ct;let u=!1,l,d=async fe=>{await l,a(fe)},g=async fe=>{await l,c(fe)};if(r!=null&&r.aborted){u=!0;let fe=new Error("Request aborted");fe.name="AbortError",g(fe);return}let{hostname:h,method:y,port:S,protocol:w,query:C}=t,R="";if(t.username!=null||t.password!=null){let fe=t.username??"",Je=t.password??"";R=`${fe}:${Je}@`}let N=`${w}//${R}${h}${S?`:${S}`:""}`,M={destination:new URL(N)},B=this.connectionManager.lease(M,{requestTimeout:(Ct=this.config)==null?void 0:Ct.sessionTimeout,disableConcurrentStreams:o||!1}),J=fe=>{o&&this.destroySession(B),u=!0,g(fe)},oe=hb.buildQueryString(C||{}),V=t.path;oe&&(V+=`?${oe}`),t.fragment&&(V+=`#${t.fragment}`);let Q=B.request({...t.headers,[rf.constants.HTTP2_HEADER_PATH]:V,[rf.constants.HTTP2_HEADER_METHOD]:y});if(B.ref(),Q.on("response",fe=>{let Je=new fb.HttpResponse({statusCode:fe[":status"]||-1,headers:yb(fe),body:Q});u=!0,d({response:Je}),o&&(B.close(),this.connectionManager.deleteSession(N,B))}),i&&Q.setTimeout(i,()=>{Q.close();let fe=new Error(`Stream timed out because of no activity for ${i} ms`);fe.name="TimeoutError",J(fe)}),r){let fe=()=>{Q.close();let Je=new Error("Request aborted");Je.name="AbortError",J(Je)};if(typeof r.addEventListener=="function"){let Je=r;Je.addEventListener("abort",fe,{once:!0}),Q.once("close",()=>Je.removeEventListener("abort",fe))}else r.onabort=fe}Q.on("frameError",(fe,Je,dm)=>{J(new Error(`Frame type id ${fe} in stream id ${dm} has failed with code ${Je}.`))}),Q.on("error",J),Q.on("aborted",()=>{J(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Q.rstCode}.`))}),Q.on("close",()=>{B.unref(),o&&B.destroy(),u||J(new Error("Unexpected error: http2 request did not get a response"))}),l=Eb(Q,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},cf=class extends gb.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},nF=e=>sF(e)?oF(e):new Promise((t,r)=>{let n=new cf;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),sF=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function oF(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}fi.DEFAULT_REQUEST_TIMEOUT=rF;fi.NodeHttp2Handler=af;fi.NodeHttpHandler=nf;fi.streamCollector=nF});var bb=P(kc=>{"use strict";var Sb=_e(),iF=tf(),aF=Re();function _b(e,t){return new Request(e,t)}function cF(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Lc={supported:void 0},uf=class e{config;configProvider;static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Lc.supported===void 0&&(Lc.supported=typeof Request<"u"&&"keepalive"in _b("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){var R;this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r!=null&&r.aborted){let N=new Error("Request aborted");return N.name="AbortError",Promise.reject(N)}let a=t.path,c=iF.buildQueryString(t.query||{});c&&(a+=`?${c}`),t.fragment&&(a+=`#${t.fragment}`);let u="";if(t.username!=null||t.password!=null){let N=t.username??"",M=t.password??"";u=`${N}:${M}@`}let{port:l,method:d}=t,g=`${t.protocol}//${u}${t.hostname}${l?`:${l}`:""}${a}`,h=d==="GET"||d==="HEAD"?void 0:t.body,y={body:h,headers:new Headers(t.headers),method:d,credentials:i};(R=this.config)!=null&&R.cache&&(y.cache=this.config.cache),h&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),Lc.supported&&(y.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let S=()=>{},w=_b(g,y),C=[fetch(w).then(N=>{let M=N.headers,B={};for(let oe of M.entries())B[oe[0]]=oe[1];return N.body!=null?{response:new Sb.HttpResponse({headers:B,reason:N.statusText,statusCode:N.status,body:N.body})}:N.blob().then(oe=>({response:new Sb.HttpResponse({headers:B,reason:N.statusText,statusCode:N.status,body:oe})}))}),cF(s)];return r&&C.push(new Promise((N,M)=>{let B=()=>{let J=new Error("Request aborted");J.name="AbortError",M(J)};if(typeof r.addEventListener=="function"){let J=r;J.addEventListener("abort",B,{once:!0}),S=()=>J.removeEventListener("abort",B)}else r.onabort=B})),Promise.race(C).finally(S)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},uF=async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):lF(e):dF(e)};async function lF(e){let t=await pF(e),r=aF.fromBase64(t);return new Uint8Array(r)}async function dF(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(t.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}function pF(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}kc.FetchHttpHandler=uf;kc.keepAliveSupport=Lc;kc.streamCollector=uF});var pf=P(df=>{"use strict";var Tb={},lf={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Tb[e]=t,lf[t]=e}function mF(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in lf)t[r/2]=lf[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function fF(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Tb[e[r]];return t}df.fromHex=mF;df.toHex=fF});var Cb=P(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.sdkStreamMixin=void 0;var hF=bb(),gF=Re(),yF=pf(),EF=Fe(),wb=hn(),Ib="The stream has already been transformed.",SF=e=>{var s,o;if(!xb(e)&&!(0,wb.isReadableStream)(e)){let i=((o=(s=e==null?void 0:e.__proto__)==null?void 0:s.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let t=!1,r=async()=>{if(t)throw new Error(Ib);return t=!0,await(0,hF.streamCollector)(e)},n=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async i=>{let a=await r();if(i==="base64")return(0,gF.toBase64)(a);if(i==="hex")return(0,yF.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,EF.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(Ib);if(t=!0,xb(e))return n(e);if((0,wb.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Mc.sdkStreamMixin=SF;var xb=e=>typeof Blob=="function"&&e instanceof Blob});var Rb=P(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.sdkStreamMixin=void 0;var _F=gn(),bF=Ks(),mf=require("stream"),TF=Cb(),Ab="The stream has already been transformed.",wF=e=>{var n,s;if(!(e instanceof mf.Readable))try{return(0,TF.sdkStreamMixin)(e)}catch{let i=((s=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let t=!1,r=async()=>{if(t)throw new Error(Ab);return t=!0,await(0,_F.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let i=await r();return o===void 0||Buffer.isEncoding(o)?(0,bF.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(o):new TextDecoder(o).decode(i)},transformToWebStream:()=>{if(t)throw new Error(Ab);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof mf.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,mf.Readable.toWeb(e)}})};Uc.sdkStreamMixin=wF});var vb=P(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.splitStream=IF;async function IF(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Nb=P(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.splitStream=CF;var Db=require("stream"),xF=vb(),Pb=hn();async function CF(e){if((0,Pb.isReadableStream)(e)||(0,Pb.isBlob)(e))return(0,xF.splitStream)(e);let t=new Db.PassThrough,r=new Db.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var Bc=P(je=>{"use strict";var Ob=Re(),Lb=Fe(),kb=jm(),Mb=Z_(),Ub=ob(),Bb=ib(),Fb=cb(),$b=Rb(),Gb=Nb(),Hb=hn(),gf=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(Ob.fromBase64(t)):e.mutate(Lb.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?Ob.toBase64(this):Lb.toUtf8(this)}};je.Uint8ArrayBlobAdapter=gf;Object.keys(kb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return kb[e]}})});Object.keys(Mb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return Mb[e]}})});Object.keys(Ub).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return Ub[e]}})});Object.keys(Bb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return Bb[e]}})});Object.keys(Fb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return Fb[e]}})});Object.keys($b).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return $b[e]}})});Object.keys(Gb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return Gb[e]}})});Object.keys(Hb).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return Hb[e]}})})});var Fc,mt,$c=_(()=>{Fc=T(Bc()),mt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Fc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Fc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return Fc.Uint8ArrayBlobAdapter.mutate(await r)}});function At(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Gc=_(()=>{});var ft,yf=_(()=>{ft=e=>typeof e=="function"?e():e});var hi,Hc=_(()=>{hi=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var qb,jb,zb,Ef,Vb=_(()=>{qb=T(_e()),jb=T(Ze());Hc();zb=e=>(t,r)=>async n=>{var d,g,h,y;let{response:s}=await t(n),{operationSchema:o}=(0,jb.getSmithyContext)(r),[,i,a,c,u,l]=o??[];try{let S=await e.protocol.deserializeResponse(hi(i,a,c,u,l),{...e,...r},s);return{response:s,output:S}}catch(S){if(Object.defineProperty(S,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in S)){let w="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{S.message+=`
  `+w}catch{!r.logger||((g=(d=r.logger)==null?void 0:d.constructor)==null?void 0:g.name)==="NoOpLogger"?console.warn(w):(y=(h=r.logger)==null?void 0:h.warn)==null||y.call(h,w)}typeof S.$responseBodyText<"u"&&S.$response&&(S.$response.body=S.$responseBodyText);try{if(qb.HttpResponse.isInstance(s)){let{headers:C={}}=s,R=Object.entries(C);S.$metadata={httpStatusCode:s.statusCode,requestId:Ef(/^x-[\w-]+-request-?id$/,R),extendedRequestId:Ef(/^x-[\w-]+-id-2$/,R),cfId:Ef(/^x-[\w-]+-cf-id$/,R)}}}catch{}}throw S}},Ef=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Wb,Kb,Yb=_(()=>{Wb=T(Ze());Hc();Kb=e=>(t,r)=>async n=>{var g;let{operationSchema:s}=(0,Wb.getSmithyContext)(r),[,o,i,a,c,u]=s??[],l=(g=r.endpointV2)!=null&&g.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,d=await e.protocol.serializeRequest(hi(o,i,a,c,u),n.input,{...e,...r,endpoint:l});return t({...n,request:d})}});function ds(e){return{applyToStack:t=>{t.add(Kb(e),Xb),t.add(zb(e),Qb),e.protocol.setSerdeContext(e)}}}var Qb,Xb,Jb=_(()=>{Vb();Yb();Qb={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Xb={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Oe,yn=_(()=>{Oe=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var qc,AF,Zb=_(()=>{yn();qc=class e extends Oe{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},AF=(e,t,r,n)=>Oe.assign(new qc,{name:t,namespace:e,traits:r,valueSchema:n})});var jc,RF,eT=_(()=>{yn();jc=class e extends Oe{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},RF=(e,t,r,n,s)=>Oe.assign(new jc,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var zc,vF,tT=_(()=>{yn();zc=class e extends Oe{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},vF=(e,t,r,n,s)=>Oe.assign(new zc,{name:t,namespace:e,traits:r,input:n,output:s})});var Xs,DF,Sf=_(()=>{yn();Xs=class e extends Oe{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},DF=(e,t,r,n,s)=>Oe.assign(new Xs,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var Vc,PF,rT=_(()=>{yn();Sf();Vc=class e extends Xs{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},PF=(e,t,r,n,s,o)=>Oe.assign(new Vc,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function pr(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var _f=_(()=>{});function gi(e,t){if(e instanceof L)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=L;return new r(e,t)}var L,bf,nT,sT=_(()=>{yf();_f();L=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,o=t;for(this._isMemberSchema=!1;bf(s);)n.push(s[1]),s=s[0],o=ft(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,pr(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=ft(o),nT(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=ft(t);if(r instanceof e)return r;if(bf(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),pr(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=o=>(o&4)===4||!!(o!=null&&o.idempotencyToken),{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return pr(this.memberTraits)}getOwnTraits(){return pr(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return gi([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(o!=null)return gi([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return gi(bf(s)?s:[s,0],t)}if(this.isDocumentSchema())return gi([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],gi([t[5][r],0],t[4][r])]}};bf=e=>Array.isArray(e)&&e.length===2,nT=e=>Array.isArray(e)&&e.length>=5});var yi,NF,OF,oT=_(()=>{yn();yi=class e extends Oe{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},NF=(e,t,r,n)=>Oe.assign(new yi,{name:t,namespace:e,traits:n,schemaRef:r}),OF=(e,t,r,n)=>Oe.assign(new yi,{name:t,namespace:e,traits:r,schemaRef:n})});var LF,iT=_(()=>{LF={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var F,aT=_(()=>{F=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var Ei={};We(Ei,{ErrorSchema:()=>Vc,ListSchema:()=>qc,MapSchema:()=>jc,NormalizedSchema:()=>L,OperationSchema:()=>zc,SCHEMA:()=>LF,Schema:()=>Oe,SimpleSchema:()=>yi,StructureSchema:()=>Xs,TypeRegistry:()=>F,deref:()=>ft,deserializerMiddlewareOption:()=>Qb,error:()=>PF,getSchemaSerdePlugin:()=>ds,isStaticSchema:()=>nT,list:()=>AF,map:()=>RF,op:()=>vF,operation:()=>hi,serializerMiddlewareOption:()=>Xb,sim:()=>NF,simAdapter:()=>OF,struct:()=>DF,translateTraits:()=>pr});var Z=_(()=>{yf();Jb();Zb();eT();tT();Hc();rT();sT();yn();oT();Sf();iT();_f();aT()});var kF,cT=_(()=>{kF=(e,t,r=n=>n)=>e});var MF,UF,Si,BF,Wc,_i,FF,Tf,wf,If,xf,$F,GF,uT,HF,qF,Yc,jF,Cf,zF,Js,Af,VF,WF,KF,lT,dT,YF,QF,ps,Rf,Kc,bi,vf=_(()=>{MF=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},UF=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&bi.warn(Kc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&bi.warn(Kc(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Si=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&bi.warn(Kc(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},BF=Math.ceil(34028234663852886e22),Wc=e=>{let t=Si(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>BF)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},_i=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},FF=_i,Tf=e=>xf(e,32),wf=e=>xf(e,16),If=e=>xf(e,8),xf=(e,t)=>{let r=_i(e);if(r!==void 0&&$F(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},$F=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},GF=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},uT=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},HF=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return bi.warn(Kc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},qF=e=>{if(e==null)return;let t=uT(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Yc=e=>Si(typeof e=="string"?Js(e):e),jF=Yc,Cf=e=>Wc(typeof e=="string"?Js(e):e),zF=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Js=e=>{let t=e.match(zF);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Af=e=>typeof e=="string"?lT(e):Si(e),VF=Af,WF=Af,KF=e=>typeof e=="string"?lT(e):Wc(e),lT=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},dT=e=>_i(typeof e=="string"?Js(e):e),YF=dT,QF=e=>Tf(typeof e=="string"?Js(e):e),ps=e=>wf(typeof e=="string"?Js(e):e),Rf=e=>If(typeof e=="string"?Js(e):e),Kc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),bi={warn:console.warn}});function ms(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,d=a<10?`0${a}`:`${a}`;return`${XF[n]}, ${c} ${Pf[r]} ${t} ${u}:${l}:${d} GMT`}var XF,Pf,JF,ZF,e$,wi,t$,r$,n$,Ii,xi,Ti,s$,o$,i$,Df,a$,c$,u$,mr,l$,d$,Zs,pT=_(()=>{vf();XF=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Pf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];JF=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),ZF=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=JF.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u]=t,l=ps(Zs(n)),d=mr(s,"month",1,12),g=mr(o,"day",1,31);return Ti(l,d,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},e$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),wi=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=e$.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u,l]=t,d=ps(Zs(n)),g=mr(s,"month",1,12),h=mr(o,"day",1,31),y=Ti(d,g,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-d$(l)),y},t$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),r$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),n$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Ii=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=t$.exec(e);if(t){let[r,n,s,o,i,a,c,u]=t;return Ti(ps(Zs(o)),Df(s),mr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(t=r$.exec(e),t){let[r,n,s,o,i,a,c,u]=t;return i$(Ti(s$(o),Df(s),mr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(t=n$.exec(e),t){let[r,n,s,o,i,a,c,u]=t;return Ti(ps(Zs(u)),Df(n),mr(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},xi=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Yc(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Ti=(e,t,r,n)=>{let s=t-1;return c$(e,s,r),new Date(Date.UTC(e,s,r,mr(n.hours,"hour",0,23),mr(n.minutes,"minute",0,59),mr(n.seconds,"seconds",0,60),l$(n.fractionalMilliseconds)))},s$=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+ps(Zs(e));return r<t?r+100:r},o$=50*365*24*60*60*1e3,i$=e=>e.getTime()-new Date().getTime()>o$?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Df=e=>{let t=Pf.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},a$=[31,28,31,30,31,30,31,31,30,31,30,31],c$=(e,t,r)=>{let n=a$[t];if(t===1&&u$(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Pf[t]} in ${e}: ${r}`)},u$=e=>e%4===0&&(e%100!==0||e%400===0),mr=(e,t,r,n)=>{let s=Rf(Zs(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},l$=e=>e==null?0:Cf("0."+e)*1e3,d$=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},Zs=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ci={};We(Ci,{__addDisposableResource:()=>UT,__assign:()=>Qc,__asyncDelegator:()=>vT,__asyncGenerator:()=>RT,__asyncValues:()=>DT,__await:()=>eo,__awaiter:()=>TT,__classPrivateFieldGet:()=>LT,__classPrivateFieldIn:()=>MT,__classPrivateFieldSet:()=>kT,__createBinding:()=>Jc,__decorate:()=>hT,__disposeResources:()=>BT,__esDecorate:()=>yT,__exportStar:()=>IT,__extends:()=>mT,__generator:()=>wT,__importDefault:()=>OT,__importStar:()=>NT,__makeTemplateObject:()=>PT,__metadata:()=>bT,__param:()=>gT,__propKey:()=>ST,__read:()=>Lf,__rest:()=>fT,__rewriteRelativeImportExtension:()=>FT,__runInitializers:()=>ET,__setFunctionName:()=>_T,__spread:()=>xT,__spreadArray:()=>AT,__spreadArrays:()=>CT,__values:()=>Xc,default:()=>f$});function mT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function fT(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function hT(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function gT(e,t){return function(r,n){t(r,n,e)}}function yT(e,t,r,n,s,o){function i(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,l=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),d,g=!1,h=r.length-1;h>=0;h--){var y={};for(var S in n)y[S]=S==="access"?{}:n[S];for(var S in n.access)y.access[S]=n.access[S];y.addInitializer=function(C){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(C||null))};var w=(0,r[h])(a==="accessor"?{get:l.get,set:l.set}:l[c],y);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(d=i(w.get))&&(l.get=d),(d=i(w.set))&&(l.set=d),(d=i(w.init))&&s.unshift(d)}else(d=i(w))&&(a==="field"?s.unshift(d):l[c]=d)}u&&Object.defineProperty(u,n.name,l),g=!0}function ET(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function ST(e){return typeof e=="symbol"?e:"".concat(e)}function _T(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function bT(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function TT(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{u(n.next(l))}catch(d){i(d)}}function c(l){try{u(n.throw(l))}catch(d){i(d)}}function u(l){l.done?o(l.value):s(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function wT(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function IT(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Jc(t,e,r)}function Xc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lf(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function xT(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lf(arguments[t]));return e}function CT(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function AT(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function eo(e){return this instanceof eo?(this.v=e,this):new eo(e)}function RT(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(h){return function(y){return Promise.resolve(y).then(h,d)}}function a(h,y){n[h]&&(s[h]=function(S){return new Promise(function(w,C){o.push([h,S,w,C])>1||c(h,S)})},y&&(s[h]=y(s[h])))}function c(h,y){try{u(n[h](y))}catch(S){g(o[0][3],S)}}function u(h){h.value instanceof eo?Promise.resolve(h.value.v).then(l,d):g(o[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function g(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function vT(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:eo(e[s](i)),done:!1}:o?o(i):i}:o}}function DT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Xc=="function"?Xc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function PT(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function NT(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Of(e),n=0;n<r.length;n++)r[n]!=="default"&&Jc(t,e,r[n]);return p$(t,e),t}function OT(e){return e&&e.__esModule?e:{default:e}}function LT(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function kT(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function MT(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function UT(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function BT(e){function t(o){e.error=e.hasError?new m$(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function FT(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}var Nf,Qc,Jc,p$,Of,m$,f$,Ai=_(()=>{Nf=function(e,t){return Nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Nf(e,t)};Qc=function(){return Qc=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Qc.apply(this,arguments)};Jc=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});p$=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Of=function(e){return Of=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Of(e)};m$=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};f$={__extends:mT,__assign:Qc,__rest:fT,__decorate:hT,__param:gT,__esDecorate:yT,__runInitializers:ET,__propKey:ST,__setFunctionName:_T,__metadata:bT,__awaiter:TT,__generator:wT,__createBinding:Jc,__exportStar:IT,__values:Xc,__read:Lf,__spread:xT,__spreadArrays:CT,__spreadArray:AT,__await:eo,__asyncGenerator:RT,__asyncDelegator:vT,__asyncValues:DT,__makeTemplateObject:PT,__importStar:NT,__importDefault:OT,__classPrivateFieldGet:LT,__classPrivateFieldSet:kT,__classPrivateFieldIn:MT,__addDisposableResource:UT,__disposeResources:BT,__rewriteRelativeImportExtension:FT}});var GT=P(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.randomUUID=void 0;var h$=(Ai(),se(Ci)),$T=h$.__importDefault(require("crypto"));Zc.randomUUID=$T.default.randomUUID.bind($T.default)});var kf=P(qT=>{"use strict";var HT=GT(),et=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),g$=()=>{if(HT.randomUUID)return HT.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,et[e[0]]+et[e[1]]+et[e[2]]+et[e[3]]+"-"+et[e[4]]+et[e[5]]+"-"+et[e[6]]+et[e[7]]+"-"+et[e[8]]+et[e[9]]+"-"+et[e[10]]+et[e[11]]+et[e[12]]+et[e[13]]+et[e[14]]+et[e[15]]};qT.v4=g$});var ze,jT=_(()=>{ze=T(kf())});var He,zT=_(()=>{He=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};He.from=e=>e&&typeof e=="object"&&(e instanceof He||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?He(String(e)):He(JSON.stringify(e));He.fromObject=He.from});function Mf(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var VT=_(()=>{});function $r(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var Uf,Bf,Ff,WT,KT,y$,E$,S$,_$,b$,to,$f,Gf,YT=_(()=>{Uf="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Bf="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Ff="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",WT="(\\d?\\d)",KT="(\\d{4})",y$=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),E$=new RegExp(`^${Uf}, ${WT} ${Bf} ${KT} ${Ff} GMT$`),S$=new RegExp(`^${Uf}, ${WT}-${Bf}-(\\d\\d) ${Ff} GMT$`),_$=new RegExp(`^${Uf} ${Bf} ( [1-9]|\\d\\d) ${Ff} ${KT}$`),b$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],to=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},$f=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=y$.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,o,i,a,,c,u]=t;$r(n,1,12),$r(s,1,31),$r(o,0,23),$r(i,0,59),$r(a,0,60);let l=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(l.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,d,g,h]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],y=d==="-"?1:-1;l.setTime(l.getTime()+y*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return l},Gf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,o,i,a,c;if((c=E$.exec(e))?[,t,r,n,s,o,i,a]=c:(c=S$.exec(e))?([,t,r,n,s,o,i,a]=c,n=(Number(n)+1900).toString()):(c=_$.exec(e))&&([,r,t,s,o,i,a,n]=c),n&&i){let u=Date.UTC(Number(n),b$.indexOf(r),Number(t),Number(s),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);$r(t,1,31),$r(s,0,23),$r(o,0,59),$r(i,0,60);let l=new Date(u);return l.setUTCFullYear(Number(n)),l}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function Hf(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var QT=_(()=>{});var Ri,XT=_(()=>{Ri=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,i)),o=i+1);break;default:}s=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function qf(e){return new re(String(e),"bigDecimal")}var JT,re,ZT=_(()=>{JT=/^-?\d*(\.\d+)?$/,re=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!JT.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&JT.test(r.string)}}});var ew={};We(ew,{LazyJsonString:()=>He,NumericValue:()=>re,_parseEpochTimestamp:()=>to,_parseRfc3339DateTimeWithOffset:()=>$f,_parseRfc7231DateTime:()=>Gf,copyDocumentWithTransform:()=>kF,dateToUtcString:()=>ms,expectBoolean:()=>UF,expectByte:()=>If,expectFloat32:()=>Wc,expectInt:()=>FF,expectInt32:()=>Tf,expectLong:()=>_i,expectNonNull:()=>GF,expectNumber:()=>Si,expectObject:()=>uT,expectShort:()=>wf,expectString:()=>HF,expectUnion:()=>qF,generateIdempotencyToken:()=>ze.v4,handleFloat:()=>VF,limitedParseDouble:()=>Af,limitedParseFloat:()=>WF,limitedParseFloat32:()=>KF,logger:()=>bi,nv:()=>qf,parseBoolean:()=>MF,parseEpochTimestamp:()=>xi,parseRfc3339DateTime:()=>ZF,parseRfc3339DateTimeWithOffset:()=>wi,parseRfc7231DateTime:()=>Ii,quoteHeader:()=>Mf,splitEvery:()=>Hf,splitHeader:()=>Ri,strictParseByte:()=>Rf,strictParseDouble:()=>Yc,strictParseFloat:()=>jF,strictParseFloat32:()=>Cf,strictParseInt:()=>YF,strictParseInt32:()=>QF,strictParseLong:()=>dT,strictParseShort:()=>ps});var $e=_(()=>{cT();pT();jT();zT();vf();VT();YT();QT();XT();ZT()});var ht,ro=_(()=>{ht=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var eu,jf,tw=_(()=>{eu=T(Fe()),jf=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,c=this.defaultContentType,u=Symbol("initialRequestMarker"),l={async*[Symbol.asyncIterator](){if(n){let d={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let g=a.flush();yield{[u]:!0,headers:d,body:g}}for await(let d of t)yield d}};return s.serialize(l,d=>{if(d[u])return{headers:d.headers,body:d.body};let g=Object.keys(d).find(R=>R!=="__type")??"",{additionalHeaders:h,body:y,eventType:S,explicitPayloadContentType:w}=this.writeEventBody(g,i,d);return{headers:{":event-type":{type:"string",value:S},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:w??c},...h},body:y}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){var g;let s=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),c=Symbol("initialResponseMarker"),u=s.deserialize(t.body,async h=>{var w,C;let y=Object.keys(h).find(R=>R!=="__type")??"",S=h[y].body;if(y==="initial-response"){let R=await this.deserializer.read(r,S);return delete R[o],{[c]:!0,...R}}else if(y in a){let R=a[y];if(R.isStructSchema()){let N={},M=!1;for(let[B,J]of R.structIterator()){let{eventHeader:oe,eventPayload:V}=J.getMergedTraits();if(M=M||!!(oe||V),V)J.isBlobSchema()?N[B]=S:J.isStringSchema()?N[B]=(((w=this.serdeContext)==null?void 0:w.utf8Encoder)??eu.toUtf8)(S):J.isStructSchema()&&(N[B]=await this.deserializer.read(J,S));else if(oe){let Q=(C=h[y].headers[B])==null?void 0:C.value;Q!=null&&(J.isNumericSchema()?Q&&typeof Q=="object"&&"bytes"in Q?N[B]=BigInt(Q.toString()):N[B]=Number(Q):N[B]=Q)}}if(M)return{[y]:N}}return{[y]:await this.deserializer.read(R,S)}}else return{$unknown:h}}),l=u[Symbol.asyncIterator](),d=await l.next();if(d.done)return u;if((g=d.value)!=null&&g[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,y]of Object.entries(d.value))n[h]=y}return{async*[Symbol.asyncIterator](){var h;for((h=d==null?void 0:d.value)!=null&&h[c]||(yield d.value);;){let{done:y,value:S}=await l.next();if(y)break;yield S}}}}writeEventBody(t,r,n){var g;let s=this.serializer,o=t,i=null,a,c=r.getSchema()[4].includes(t),u={};if(c){let h=r.getMemberSchema(t);if(h.isStructSchema()){for(let[y,S]of h.structIterator()){let{eventHeader:w,eventPayload:C}=S.getMergedTraits();if(C)i=y;else if(w){let R=n[t][y],N="binary";S.isNumericSchema()?(-2)**31<=R&&R<=2**31-1?N="integer":N="long":S.isTimestampSchema()?N="timestamp":S.isStringSchema()?N="string":S.isBooleanSchema()&&(N="boolean"),R!=null&&(u[y]={type:N,value:R},delete n[t][y])}}if(i!==null){let y=h.getMemberSchema(i);y.isBlobSchema()?a="application/octet-stream":y.isStringSchema()&&(a="text/plain"),s.write(y,n[t][i])}else s.write(h,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,y]=n[t];o=h,s.write(15,y)}let l=s.flush();return{body:typeof l=="string"?(((g=this.serdeContext)==null?void 0:g.utf8Decoder)??eu.fromUtf8)(l):l,eventType:o,explicitPayloadContentType:a,additionalHeaders:u}}}});var rw={};We(rw,{EventStreamSerde:()=>jf});var nw=_(()=>{tw()});var tu,fs,ru=_(()=>{Z();tu=T(_e());ro();fs=class extends ht{options;constructor(t){super(),this.options=t}getRequestType(){return tu.HttpRequest}getResponseType(){return tu.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){var i;let s=L.of(r.input),o=pr(r.traits??{});if(o.endpoint){let a=(i=o.endpoint)==null?void 0:i[0];if(typeof a=="string"){let c=[...s.structIterator()].filter(([,u])=>u.getMergedTraits().hostLabel);for(let[u]of c){let l=n[u];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${u} in input must be a string as hostLabel.`);a=a.replace(`{${u}}`,l)}t.hostname=a+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(nw(),rw));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var sw,ow,Wt,iw=_(()=>{Z();$e();sw=T(_e()),ow=T(Bc());$c();Gc();ru();Wt=class extends fs{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,i={},a={},c=await n.endpoint(),u=L.of(t==null?void 0:t.input),l=u.getSchema(),d=!1,g,h=new sw.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,t,s);let y=pr(t.traits);if(y.http){h.method=y.http[0];let[S,w]=y.http[1].split("?");h.path=="/"?h.path=S:h.path+=S;let C=new URLSearchParams(w??"");Object.assign(i,Object.fromEntries(C))}}for(let[y,S]of u.structIterator()){let w=S.getMergedTraits()??{},C=s[y];if(!(C==null&&!S.isIdempotencyToken()))if(w.httpPayload)S.isStreaming()?S.isStructSchema()?s[y]&&(g=await this.serializeEventStream({eventStream:s[y],requestSchema:u})):g=C:(o.write(S,C),g=o.flush()),delete s[y];else if(w.httpLabel){o.write(S,C);let R=o.flush();h.path.includes(`{${y}+}`)?h.path=h.path.replace(`{${y}+}`,R.split("/").map(At).join("/")):h.path.includes(`{${y}}`)&&(h.path=h.path.replace(`{${y}}`,At(R))),delete s[y]}else if(w.httpHeader)o.write(S,C),a[w.httpHeader.toLowerCase()]=String(o.flush()),delete s[y];else if(typeof w.httpPrefixHeaders=="string"){for(let[R,N]of Object.entries(C)){let M=w.httpPrefixHeaders+R;o.write([S.getValueSchema(),{httpHeader:M}],N),a[M.toLowerCase()]=o.flush()}delete s[y]}else w.httpQuery||w.httpQueryParams?(this.serializeQuery(S,C,i),delete s[y]):d=!0}return d&&s&&(o.write(l,s),g=o.flush()),h.headers=a,h.query=i,h.body=g,h}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=t.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let c of r){s.write([t.getValueSchema(),o],c);let u=s.flush();(i||u!==void 0)&&a.push(u)}n[o.httpQuery]=a}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=L.of(t.output),i={};if(n.statusCode>=300){let c=await mt(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let c=await mt(n.body,r);if(c.byteLength>0){let u=await s.read(o,c);for(let l of a)i[l]=u[l]}}else a.discardResponseBody&&await mt(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=!0,c=this.deserializer,u=L.of(t),l=[];for(let[d,g]of u.structIterator()){let h=g.getMemberTraits();if(h.httpPayload){if(a=!1,g.isStreaming())g.isStructSchema()?i[d]=await this.deserializeEventStream({response:n,responseSchema:u}):i[d]=(0,ow.sdkStreamMixin)(n.body);else if(n.body){let S=await mt(n.body,r);S.byteLength>0&&(i[d]=await c.read(g,S))}}else if(h.httpHeader){let y=String(h.httpHeader).toLowerCase(),S=n.headers[y];if(S!=null)if(g.isListSchema()){let w=g.getValueSchema();w.getMergedTraits().httpHeader=y;let C;w.isTimestampSchema()&&w.getSchema()===4?C=Hf(S,",",2):C=Ri(S);let R=[];for(let N of C)R.push(await c.read(w,N.trim()));i[d]=R}else i[d]=await c.read(g,S)}else if(h.httpPrefixHeaders!==void 0){i[d]={};for(let[y,S]of Object.entries(n.headers))if(y.startsWith(h.httpPrefixHeaders)){let w=g.getValueSchema();w.getMergedTraits().httpHeader=y,i[d][y.slice(h.httpPrefixHeaders.length)]=await c.read(w,S)}}else h.httpResponseCode?i[d]=n.statusCode:l.push(d)}return l.discardResponseBody=a,l}}});var aw,Rt,cw=_(()=>{Z();aw=T(_e());$c();ru();Rt=class extends fs{async serializeRequest(t,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),c=L.of(t==null?void 0:t.input),u=c.getSchema(),l,d=new aw.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(d,a),this.setHostPrefix(d,t,r));let g={...r};if(r){let h=c.getEventStreamMember();if(h){if(g[h]){let y={};for(let[S,w]of c.structIterator())S!==h&&g[S]&&(s.write(w,g[S]),y[S]=s.flush());l=await this.serializeEventStream({eventStream:g[h],requestSchema:c,initialRequest:y})}}else s.write(u,g),l=s.flush()}return d.headers=i,d.query=o,d.body=l,d.method="POST",d}async deserializeResponse(t,r,n){let s=this.deserializer,o=L.of(t.output),i={};if(n.statusCode>=300){let c=await mt(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let c=await mt(n.body,r);c.byteLength>0&&Object.assign(i,await s.read(o,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var zf,Vf=_(()=>{Gc();zf=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>At(a)).join("/"):At(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Wf(e,t){return new nu(e,t)}var uw,nu,lw=_(()=>{uw=T(_e());Vf();nu=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new uw.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=zf(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function Le(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var su=_(()=>{});var Kf,dw,Gr,Yf=_(()=>{Z();$e();Kf=T(Re()),dw=T(Fe());ro();su();Gr=class extends ht{settings;constructor(t){super(),this.settings=t}read(t,r){var s;let n=L.of(t);if(n.isListSchema())return Ri(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Kf.fromBase64)(r);if(n.isTimestampSchema())switch(Le(n,this.settings)){case 5:return $f(r);case 6:return Gf(r);case 7:return to(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,i=r;if(o)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(o==="application/json"||o.endsWith("+json"))&&(i=He.from(i)),i}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new re(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){var r,n;return(((r=this.serdeContext)==null?void 0:r.utf8Encoder)??dw.toUtf8)((((n=this.serdeContext)==null?void 0:n.base64Decoder)??Kf.fromBase64)(t))}}});var ou,Kt,pw=_(()=>{Z();ou=T(Fe());ro();Yf();Kt=class extends ht{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new Gr(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){var i,a;let n=L.of(t),s=n.getMergedTraits(),o=((i=this.serdeContext)==null?void 0:i.utf8Encoder)??ou.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let c=((a=this.serdeContext)==null?void 0:a.utf8Decoder)??ou.fromUtf8;return typeof r=="string"?c(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var Qf,vi,Xf=_(()=>{Z();$e();Qf=T(Re());ro();su();vi=class extends ht{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){var s,o;let n=L.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(Le(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=ms(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(((s=this.serdeContext)==null?void 0:s.base64Encoder)??Qf.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let c="";for(let u of r){this.write([n.getValueSchema(),n.getMergedTraits()],u);let l=this.flush(),d=n.getValueSchema().isTimestampSchema()?l:Mf(l);c!==""&&(c+=", "),c+=d}this.stringBuffer=c;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let i=n.getMergedTraits().mediaType,a=r;if(i&&((i==="application/json"||i.endsWith("+json"))&&(a=He.from(a)),n.getMergedTraits().httpHeader)){this.stringBuffer=(((o=this.serdeContext)==null?void 0:o.base64Encoder)??Qf.toBase64)(a.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,ze.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Yt,mw=_(()=>{Z();Xf();Yt=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new vi(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=L.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var fw={};We(fw,{FromStringShapeDeserializer:()=>Gr,HttpBindingProtocol:()=>Wt,HttpInterceptingShapeDeserializer:()=>Kt,HttpInterceptingShapeSerializer:()=>Yt,HttpProtocol:()=>fs,RequestBuilder:()=>nu,RpcProtocol:()=>Rt,SerdeContext:()=>ht,ToStringShapeSerializer:()=>vi,collectBody:()=>mt,determineTimestampFormat:()=>Le,extendedEncodeURIComponent:()=>At,requestBuilder:()=>Wf,resolvedPath:()=>zf});var ve=_(()=>{$c();Gc();iw();ru();cw();lw();Vf();Yf();pw();mw();Xf();su();ro()});var hw=_(()=>{ve()});function T$(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var gw=_(()=>{});var Hr,yw=_(()=>{Hr=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var Ew,Jf,Zf,Sw=_(()=>{Ew=T(_e()),Jf=T(pn()),Zf=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=Ew.HttpRequest.clone(t);if(n.in===Jf.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===Jf.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var _w,eh,bw=_(()=>{_w=T(_e()),eh=class{async sign(t,r,n){let s=_w.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var Qt,Tw=_(()=>{Qt=class{async sign(t,r,n){return t}}});var ww=_(()=>{Sw();bw();Tw()});var Iw,w$,th,iu,rh,xw=_(()=>{Iw=e=>function(r){return iu(r)&&r.expiration.getTime()-Date.now()<e},w$=3e5,th=Iw(3e5),iu=e=>e.expiration!==void 0,rh=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,c=async u=>{o||(o=n(u));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return t===void 0?async u=>((!i||u!=null&&u.forceRefresh)&&(s=await c(u)),s):async u=>((!i||u!=null&&u.forceRefresh)&&(s=await c(u)),a?s:r(s)?(t(s)&&await c(u),s):(a=!0,s))}});var Cw=_(()=>{yw();ww();xw()});var no={};We(no,{DefaultIdentityProviderConfig:()=>Hr,EXPIRATION_MS:()=>w$,HttpApiKeyAuthSigner:()=>Zf,HttpBearerAuthSigner:()=>eh,NoAuthSigner:()=>Qt,createIsIdentityExpiredFunction:()=>Iw,createPaginator:()=>H_,doesIdentityRequireRefresh:()=>iu,getHttpAuthSchemeEndpointRuleSetPlugin:()=>us,getHttpAuthSchemePlugin:()=>oB,getHttpSigningPlugin:()=>ls,getSmithyContext:()=>tB,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>C_,httpAuthSchemeMiddleware:()=>pi,httpAuthSchemeMiddlewareOptions:()=>O_,httpSigningMiddleware:()=>Bm,httpSigningMiddlewareOptions:()=>B_,isIdentityExpired:()=>th,memoizeIdentityProvider:()=>rh,normalizeProvider:()=>fn,requestBuilder:()=>Wf,setFeature:()=>T$});var gt=_(()=>{T_();k_();$_();G_();q_();hw();gw();Cw()});var Sn=P(hs=>{"use strict";var sh=pn(),oh=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(t[s]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},I$=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Aw=e=>I$.test(e)||e.startsWith("[")&&e.endsWith("]"),x$=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ah=(e,t=!1)=>{if(!t)return x$.test(e);let r=e.split(".");for(let n of r)if(!ah(n))return!1;return!0},ih={},Di="endpoints";function En(e){return typeof e!="object"||e==null?e:"ref"in e?`$${En(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(En).join(", ")})`:JSON.stringify(e,null,2)}var tt=class extends Error{constructor(t){super(t),this.name="EndpointError"}},C$=(e,t)=>e===t,A$=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new tt(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new tt(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},Rw=(e,t)=>A$(t).reduce((r,n)=>{if(typeof r!="object")throw new tt(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),R$=e=>e!=null,v$=e=>!e,nh={[sh.EndpointURLScheme.HTTP]:80,[sh.EndpointURLScheme.HTTPS]:443},D$=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:y="",path:S="",query:w={}}=e,C=new URL(`${y}//${g}${h?`:${h}`:""}${S}`);return C.search=Object.entries(w).map(([R,N])=>`${R}=${N}`).join("&"),C}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(sh.EndpointURLScheme).includes(c))return null;let u=Aw(s),l=r.includes(`${n}:${nh[c]}`)||typeof e=="string"&&e.includes(`${n}:${nh[c]}`),d=`${n}${l?`:${nh[c]}`:""}`;return{scheme:c,authority:d,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}},P$=(e,t)=>e===t,N$=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),O$=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),L$={booleanEquals:C$,getAttr:Rw,isSet:R$,isValidHostLabel:ah,not:v$,parseURL:D$,stringEquals:P$,substring:N$,uriEncode:O$},vw=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push(Rw(n[c],u))}else r.push(n[a]);s=i+1}return r.join("")},k$=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],au=(e,t,r)=>{if(typeof e=="string")return vw(e,r);if(e.fn)return Pw.callFunction(e,r);if(e.ref)return k$(e,r);throw new tt(`'${t}': ${String(e)} is not a string, function or reference.`)},Dw=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Pw.evaluateExpression(o,"arg",r)),s=e.split(".");return s[0]in ih&&s[1]!=null?ih[s[0]][s[1]](...n):L$[e](...n)},Pw={evaluateExpression:au,callFunction:Dw},M$=({assign:e,...t},r)=>{var s,o;if(e&&e in r.referenceRecord)throw new tt(`'${e}' is already defined in Reference Record.`);let n=Dw(t,r);return(o=(s=r.logger)==null?void 0:s.debug)==null||o.call(s,`${Di} evaluateCondition: ${En(t)} = ${En(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},ch=(e=[],t)=>{var n,s;let r={};for(let o of e){let{result:i,toAssign:a}=M$(o,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(s=(n=t.logger)==null?void 0:n.debug)==null||s.call(n,`${Di} assign: ${a.name} := ${En(a.value)}`))}return{result:!0,referenceRecord:r}},U$=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=au(o,"Header value entry",t);if(typeof i!="string")throw new tt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),Nw=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:Lw.getEndpointProperty(s,t)}),{}),Ow=(e,t)=>{if(Array.isArray(e))return e.map(r=>Ow(r,t));switch(typeof e){case"string":return vw(e,t);case"object":if(e===null)throw new tt(`Unexpected endpoint property: ${e}`);return Lw.getEndpointProperties(e,t);case"boolean":return e;default:throw new tt(`Unexpected endpoint property type: ${typeof e}`)}},Lw={getEndpointProperty:Ow,getEndpointProperties:Nw},B$=(e,t)=>{let r=au(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new tt(`Endpoint URL must be a string, got ${typeof r}`)},F$=(e,t)=>{var l,d;let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=ch(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:u}=n;return(d=(l=t.logger)==null?void 0:l.debug)==null||d.call(l,`${Di} Resolving endpoint from template: ${En(n)}`),{...u!=null&&{headers:U$(u,i)},...c!=null&&{properties:Nw(c,i)},url:B$(a,i)}},$$=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=ch(r,t);if(s)throw new tt(au(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},kw=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=F$(r,t);if(n)return n}else if(r.type==="error")$$(r,t);else if(r.type==="tree"){let n=Mw.evaluateTreeRule(r,t);if(n)return n}else throw new tt(`Unknown endpoint rule: ${r}`);throw new tt("Rules evaluation failed")},G$=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=ch(r,t);if(s)return Mw.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},Mw={evaluateRules:kw,evaluateTreeRule:G$},H$=(e,t)=>{var u,l,d,g;let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;(l=(u=t.logger)==null?void 0:u.debug)==null||l.call(u,`${Di} Initial EndpointParams: ${En(r)}`);let i=Object.entries(s).filter(([,h])=>h.default!=null).map(([h,y])=>[h,y.default]);if(i.length>0)for(let[h,y]of i)r[h]=r[h]??y;let a=Object.entries(s).filter(([,h])=>h.required).map(([h])=>h);for(let h of a)if(r[h]==null)throw new tt(`Missing required parameter: '${h}'`);let c=kw(o,{endpointParams:r,logger:n,referenceRecord:{}});return(g=(d=t.logger)==null?void 0:d.debug)==null||g.call(d,`${Di} Resolved endpoint: ${En(c)}`),c};hs.EndpointCache=oh;hs.EndpointError=tt;hs.customEndpointFunctions=ih;hs.isIpAddress=Aw;hs.isValidHostLabel=ah;hs.resolveEndpoint=H$});var Bw=P(Uw=>{"use strict";function q$(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}Uw.parseQueryString=q$});var qr=P($w=>{"use strict";var j$=Bw(),Fw=e=>{if(typeof e=="string")return Fw(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=j$.parseQueryString(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};$w.parseUrl=Fw});var gs=P(Xt=>{"use strict";var so=Sn(),z$=qr(),Hw=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Hw(r))return!1;return!0}return!(!so.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||so.isIpAddress(e))},Gw=":",V$="/",W$=e=>{let t=e.split(Gw);if(t.length<6)return null;let[r,n,s,o,i,...a]=t;if(r!=="arn"||n===""||s===""||a.join(Gw)==="")return null;let c=a.map(u=>u.split(V$)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:c}},K$=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Y$="1.1",qw={partitions:K$,version:Y$},jw=qw,zw="",Vw=e=>{let{partitions:t}=jw;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Ww=(e,t="")=>{jw=e,zw=t},Q$=()=>{Ww(qw,"")},X$=()=>zw,Kw={isVirtualHostableS3Bucket:Hw,parseArn:W$,partition:Vw};so.customEndpointFunctions.aws=Kw;var J$=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Yw(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},Yw=e=>z$.parseUrl(e.url);Object.defineProperty(Xt,"EndpointError",{enumerable:!0,get:function(){return so.EndpointError}});Object.defineProperty(Xt,"isIpAddress",{enumerable:!0,get:function(){return so.isIpAddress}});Object.defineProperty(Xt,"resolveEndpoint",{enumerable:!0,get:function(){return so.resolveEndpoint}});Xt.awsEndpointFunctions=Kw;Xt.getUserAgentPrefix=X$;Xt.partition=Vw;Xt.resolveDefaultAwsRegionalEndpointsConfig=J$;Xt.setPartitionInfo=Ww;Xt.toEndpointV1=Yw;Xt.useDefaultPartitionInfo=Q$});var cu,_n,Qw=_(()=>{cu={warningEmitted:!1},_n=e=>{e&&!cu.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<20&&(cu.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js ${e} in January 2026.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/c895JFp`))}});function bn(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Xw=_(()=>{});function Jw(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Zw=_(()=>{});function eI(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var tI=_(()=>{});var jr={};We(jr,{emitWarningIfUnsupportedVersion:()=>_n,setCredentialFeature:()=>bn,setFeature:()=>Jw,setTokenFeature:()=>eI,state:()=>cu});var Lt=_(()=>{Qw();Xw();Zw();tI()});var rI,uh,nI=_(()=>{rI=T(_e()),uh=e=>{var t,r;return rI.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0}});var oo,lh=_(()=>{oo=e=>new Date(Date.now()+e)});var sI,oI=_(()=>{lh();sI=(e,t)=>Math.abs(oo(t).getTime()-e)>=3e5});var dh,iI=_(()=>{oI();dh=(e,t)=>{let r=Date.parse(e);return sI(r,t)?r-Date.now():t}});var ph=_(()=>{nI();lh();iI()});var aI,Pi,io,rt,mh,fh=_(()=>{aI=T(_e());ph();Pi=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},io=async e=>{var u,l,d;let t=Pi("context",e.context),r=Pi("config",e.config),n=(d=(l=(u=t.endpointV2)==null?void 0:u.properties)==null?void 0:l.authSchemes)==null?void 0:d[0],o=await Pi("signer",r.signer)(n),i=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,c=e==null?void 0:e.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}},rt=class{async sign(t,r,n){var d;if(!aI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await io(n),{config:o,signer:i}=s,{signingRegion:a,signingName:c}=s,u=n.context;if(((d=u==null?void 0:u.authSchemes)==null?void 0:d.length)??!1){let[g,h]=u.authSchemes;(g==null?void 0:g.name)==="sigv4a"&&(h==null?void 0:h.name)==="sigv4"&&(a=(h==null?void 0:h.signingRegion)??a,c=(h==null?void 0:h.signingName)??c)}return await i.sign(t,{signingDate:oo(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(t){return r=>{let n=r.ServerTime??uh(r.$response);if(n){let s=Pi("config",t.config),o=s.systemClockOffset;s.systemClockOffset=dh(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=uh(t);if(n){let s=Pi("config",r.config);s.systemClockOffset=dh(n,s.systemClockOffset)}}},mh=rt});var cI,Ni,uI=_(()=>{cI=T(_e());ph();fh();Ni=class extends rt{async sign(t,r,n){var g;if(!cI.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}=await io(n),l=(await((g=s.sigv4aSigningRegionSet)==null?void 0:g.call(s))??a??[i]).join(",");return await o.sign(t,{signingDate:oo(s.systemClockOffset),signingRegion:l,signingService:c})}}});var hh,lI=_(()=>{hh=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var uu,gh=_(()=>{uu=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var dI,pI,Tn,mI=_(()=>{lI();gh();dI="AWS_AUTH_SCHEME_PREFERENCE",pI="auth_scheme_preference",Tn={environmentVariableSelector:(e,t)=>{if(t!=null&&t.signingName&&uu(t.signingName)in e)return["httpBearerAuth"];if(dI in e)return hh(e[dI])},configFileSelector:e=>{if(pI in e)return hh(e[pI])},default:[]}});var nt=P(ys=>{"use strict";var ao=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){var o;let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),(o=n==null?void 0:n.debug)==null||o.call(n,`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},yh=class e extends ao{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Eh=class e extends ao{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Z$=(...e)=>async()=>{if(e.length===0)throw new ao("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n!=null&&n.tryNextLink)continue;throw n}throw t},eG=e=>()=>Promise.resolve(e),tG=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};ys.CredentialsProviderError=yh;ys.ProviderError=ao;ys.TokenProviderError=Eh;ys.chain=Z$;ys.fromStatic=eG;ys.memoize=tG});var Sh,fI,hI,gI=_(()=>{gt();Sh=T(nt()),fI=e=>(e.sigv4aSigningRegionSet=fn(e.sigv4aSigningRegionSet),e),hI={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new Sh.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new Sh.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var $I=P(ne=>{"use strict";var wn=pf(),Es=Fe(),rG=$m(),_I=_e(),yI=Ze(),lu=Zm(),bI="X-Amz-Algorithm",TI="X-Amz-Credential",xh="X-Amz-Date",wI="X-Amz-SignedHeaders",II="X-Amz-Expires",Ch="X-Amz-Signature",Ah="X-Amz-Security-Token",nG="X-Amz-Region-Set",Rh="authorization",vh=xh.toLowerCase(),xI="date",CI=[Rh,vh,xI],AI=Ch.toLowerCase(),hu="x-amz-content-sha256",RI=Ah.toLowerCase(),sG="host",vI={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},DI=/^proxy-/,PI=/^sec-/,oG=[/^proxy-/i,/^sec-/i],du="AWS4-HMAC-SHA256",iG="AWS4-ECDSA-P256-SHA256",NI="AWS4-HMAC-SHA256-PAYLOAD",OI="UNSIGNED-PAYLOAD",LI=50,Dh="aws4_request",kI=3600*24*7,co={},pu=[],mu=(e,t,r)=>`${e}/${t}/${r}/${Dh}`,MI=async(e,t,r,n,s)=>{let o=await EI(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${wn.toHex(o)}:${t.sessionToken}`;if(i in co)return co[i];for(pu.push(i);pu.length>LI;)delete co[pu.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,Dh])a=await EI(e,a,c);return co[i]=a},aG=()=>{pu.length=0,Object.keys(co).forEach(e=>{delete co[e]})},EI=(e,t,r)=>{let n=new e(t);return n.update(Es.toUint8Array(r)),n.digest()},_h=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in vI||t!=null&&t.has(o)||DI.test(o)||PI.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},fu=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===hu)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||rG.isArrayBuffer(t)){let n=new r;return n.update(Es.toUint8Array(t)),wn.toHex(await n.digest())}return OI},bh=class{format(t){let r=[];for(let o of Object.keys(t)){let i=Es.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=Es.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(Th.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!cG.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set(wn.fromHex(t.value.replace(/\-/g,"")),1),d}}},cG=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Th=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&SI(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&SI(t),parseInt(wn.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function SI(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var UI=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},BI=(e,t={})=>{var s,o;let{headers:r,query:n={}}=_I.HttpRequest.clone(e);for(let i of Object.keys(r)){let a=i.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((s=t.unhoistableHeaders)!=null&&s.has(a))||(o=t.hoistableHeaders)!=null&&o.has(a))&&(n[i]=r[i],delete r[i])}return{...e,headers:r,query:n}},wh=e=>{e=_I.HttpRequest.clone(e);for(let t of Object.keys(e.headers))CI.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},FI=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===AI)continue;let s=lu.escapeUri(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${lu.escapeUri(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${lu.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},uG=e=>lG(e).toISOString().replace(/\.\d{3}Z$/,"Z"),lG=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,gu=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=yI.normalizeProvider(n),this.credentialProvider=yI.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${FI(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let o=new this.sha256;o.update(Es.toUint8Array(n));let i=await o.digest();return`${s}
${t}
${r}
${wn.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return lu.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=uG(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},Ih=class extends gu{headerFormatter=new bh;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:l}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let g=u??await this.regionProvider(),{longDate:h,shortDate:y}=this.formatDate(n);if(s>kI)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=mu(y,g,l??this.service),w=BI(wh(t),{unhoistableHeaders:i,hoistableHeaders:c});d.sessionToken&&(w.query[Ah]=d.sessionToken),w.query[bI]=du,w.query[TI]=`${d.accessKeyId}/${S}`,w.query[xh]=h,w.query[II]=s.toString(10);let C=_h(w,o,a);return w.query[wI]=this.getCanonicalHeaderList(C),w.query[Ch]=await this.getSignature(h,S,this.getSigningKey(d,g,y,l),this.createCanonicalRequest(w,C,await fu(t,this.sha256))),w}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(n),l=mu(c,a,i??this.service),d=await fu({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=wn.toHex(await g.digest()),y=[NI,u,l,s,h,d].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(Es.toUint8Array(t)),wn.toHex(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),u=wh(t),{longDate:l,shortDate:d}=this.formatDate(r),g=mu(d,c,i??this.service);u.headers[vh]=l,a.sessionToken&&(u.headers[RI]=a.sessionToken);let h=await fu(u,this.sha256);!UI(hu,u.headers)&&this.applyChecksum&&(u.headers[hu]=h);let y=_h(u,s,n),S=await this.getSignature(l,g,this.getSigningKey(a,c,d,i),this.createCanonicalRequest(u,y,h));return u.headers[Rh]=`${du} Credential=${a.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${S}`,u}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s,du),i=new this.sha256(await n);return i.update(Es.toUint8Array(o)),wn.toHex(await i.digest())}getSigningKey(t,r,n,s){return MI(this.sha256,t,n,r,s||this.service)}},dG={SignatureV4a:null};ne.ALGORITHM_IDENTIFIER=du;ne.ALGORITHM_IDENTIFIER_V4A=iG;ne.ALGORITHM_QUERY_PARAM=bI;ne.ALWAYS_UNSIGNABLE_HEADERS=vI;ne.AMZ_DATE_HEADER=vh;ne.AMZ_DATE_QUERY_PARAM=xh;ne.AUTH_HEADER=Rh;ne.CREDENTIAL_QUERY_PARAM=TI;ne.DATE_HEADER=xI;ne.EVENT_ALGORITHM_IDENTIFIER=NI;ne.EXPIRES_QUERY_PARAM=II;ne.GENERATED_HEADERS=CI;ne.HOST_HEADER=sG;ne.KEY_TYPE_IDENTIFIER=Dh;ne.MAX_CACHE_SIZE=LI;ne.MAX_PRESIGNED_TTL=kI;ne.PROXY_HEADER_PATTERN=DI;ne.REGION_SET_PARAM=nG;ne.SEC_HEADER_PATTERN=PI;ne.SHA256_HEADER=hu;ne.SIGNATURE_HEADER=AI;ne.SIGNATURE_QUERY_PARAM=Ch;ne.SIGNED_HEADERS_QUERY_PARAM=wI;ne.SignatureV4=Ih;ne.SignatureV4Base=gu;ne.TOKEN_HEADER=RI;ne.TOKEN_QUERY_PARAM=Ah;ne.UNSIGNABLE_PATTERNS=oG;ne.UNSIGNED_PAYLOAD=OI;ne.clearCredentialCache=aG;ne.createScope=mu;ne.getCanonicalHeaders=_h;ne.getCanonicalQuery=FI;ne.getPayloadHash=fu;ne.getSigningKey=MI;ne.hasHeader=UI;ne.moveHeadersToQuery=BI;ne.prepareRequest=wh;ne.signatureV4aContainer=dG});function pG(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t!=null&&t.memoized?n=t:n=rh(t,th,iu):r?n=fn(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function mG(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Ph,zr,GI,HI=_(()=>{Lt();gt();Ph=T($I()),zr=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(u){u&&u!==t&&u!==n&&(r=!0),t=u;let l=pG(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),d=mG(e,l);r&&!d.attributed?(n=async g=>d(g).then(h=>bn(h,"CREDENTIALS_CODE","e")),n.memoized=d.memoized,n.configBound=d.configBound,n.attributed=!0):n=d},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=fn(e.signer):e.regionInfoProvider?a=()=>fn(e.region)().then(async u=>[await e.regionInfoProvider(u,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},u]).then(([u,l])=>{let{signingRegion:d,signingService:g}=u;e.signingRegion=e.signingRegion||d||l,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},y=e.signerConstructor||Ph.SignatureV4;return new y(h)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await fn(e.region)(),properties:{}},u);let l=u.signingRegion,d=u.signingName;e.signingRegion=e.signingRegion||l,e.signingName=e.signingName||d||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},h=e.signerConstructor||Ph.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},GI=zr});var qI=_(()=>{fh();uI();mI();gI();HI()});var jI={};We(jI,{AWSSDKSigV4Signer:()=>mh,AwsSdkSigV4ASigner:()=>Ni,AwsSdkSigV4Signer:()=>rt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Tn,NODE_SIGV4A_CONFIG_OPTIONS:()=>hI,getBearerTokenEnvKey:()=>uu,resolveAWSSDKSigV4Config:()=>GI,resolveAwsSdkSigV4AConfig:()=>fI,resolveAwsSdkSigV4Config:()=>zr,validateSigningProperties:()=>io});var Nh=_(()=>{qI();gh()});function In(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function yu(e){return e[Oh]=!0,e}var Oh,Eu=_(()=>{Oh=Symbol("@smithy/core/cbor::tagSymbol")});function WI(e){we=e,Wr=new DataView(we.buffer,we.byteOffset,we.byteLength)}function fr(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(we[e]&224)>>5,n=we[e]&31;switch(r){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=YI[n],a=i+1;if(o=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=e+1;i===1?s=we[c]:i===2?s=Wr.getUint16(c):i===4?s=Wr.getUint32(c):s=Wr.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ie=o,Lh(s);if(r===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,ie=o,Lh(i)}else if(n===2||n===3){let i=Mi(e+o,t),a=BigInt(0),c=e+o+ie;for(let u=c;u<c+i;++u)a=a<<BigInt(8)|BigInt(we[u]);return ie=o+ie+i,n===3?-a-BigInt(1):a}else if(n===4){let i=fr(e+o,t),[a,c]=i,u=c<0?-1:1,l="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(c)),d,g=c<0?"-":"";return d=a===0?l:l.slice(0,l.length+a)+"."+l.slice(a),d=d.replace(/^0+/g,""),d===""&&(d="0"),d[0]==="."&&(d="0"+d),d=g+d,ie=o+ie,qf(d)}else{let i=fr(e+o,t);return ie=o+ie,yu({tag:Lh(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return _G(e,t);case 5:return xG(e,t);case 4:return wG(e,t);case 2:return bG(e,t)}else switch(r){case 3:return SG(e,t);case 5:return IG(e,t);case 4:return TG(e,t);case 2:return $h(e,t)}default:return CG(e,t)}}function KI(e,t,r){var n;return gG&&((n=e.constructor)==null?void 0:n.name)==="Buffer"?e.toString("utf-8",t,r):zI?zI.decode(e.subarray(t,r)):(0,VI.toUtf8)(e.subarray(t,r))}function yG(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function EG(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,o=r===0?1:-1,i,a;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=s/1024,o*(i*a)}function Mi(e,t){let r=we[e]&31;if(r<24)return ie=1,r;if(r===24||r===25||r===26||r===27){let n=YI[r];if(ie=n+1,t-e<ie)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?we[s]:n===2?Wr.getUint16(s):n===4?Wr.getUint32(s):yG(Wr.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function SG(e,t){let r=Mi(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=KI(we,e,e+r);return ie=n+r,s}function _G(e,t){e+=1;let r=[];for(let n=e;e<t;){if(we[e]===255){let c=In(r.length);return c.set(r,0),ie=e-n+2,KI(c,0,c.length)}let s=(we[e]&224)>>5,o=we[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=$h(e,t);e+=ie;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function $h(e,t){let r=Mi(e,t),n=ie;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=we.subarray(e,e+r);return ie=n+r,s}function bG(e,t){e+=1;let r=[];for(let n=e;e<t;){if(we[e]===255){let c=In(r.length);return c.set(r,0),ie=e-n+2,c}let s=(we[e]&224)>>5,o=we[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=$h(e,t);e+=ie;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function TG(e,t){let r=Mi(e,t),n=ie;e+=n;let s=e,o=Array(r);for(let i=0;i<r;++i){let a=fr(e,t),c=ie;o[i]=a,e+=c}return ie=n+(e-s),o}function wG(e,t){e+=1;let r=[];for(let n=e;e<t;){if(we[e]===255)return ie=e-n+2,r;let s=fr(e,t);e+=ie,r.push(s)}throw new Error("expected break marker.")}function IG(e,t){let r=Mi(e,t),n=ie;e+=n;let s=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(we[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let c=fr(e,t);e+=ie;let u=fr(e,t);e+=ie,o[c]=u}return ie=n+(e-s),o}function xG(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(we[e]===255)return ie=e-r+2,n;let s=(we[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=fr(e,t);e+=ie;let i=fr(e,t);e+=ie,n[o]=i}throw new Error("expected break marker.")}function CG(e,t){let r=we[e]&31;switch(r){case 21:case 20:return ie=1,r===21;case 22:return ie=1,null;case 23:return ie=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ie=3,EG(we[e+1],we[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ie=5,Wr.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ie=9,Wr.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Lh(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var VI,hG,gG,we,Wr,zI,ie,YI,QI=_(()=>{$e();VI=T(Fe());Eu();hG=typeof TextDecoder<"u",gG=typeof Buffer<"u",we=In(0),Wr=new DataView(we.buffer,we.byteOffset,we.byteLength),zI=hG?new TextDecoder:null,ie=0;YI={24:1,25:2,26:4,27:8}});function Hh(e){K.byteLength-j<e&&(j<16e6?_u(Math.max(K.byteLength*4,K.byteLength+e)):_u(K.byteLength+e+16e6))}function qh(){let e=In(j);return e.set(K.subarray(0,j),0),j=0,e}function _u(e){let t=K;K=In(e),t&&(t.copy?t.copy(K,0,0,t.byteLength):K.set(t,0)),Qr=new DataView(K.buffer,K.byteOffset,K.byteLength)}function Yr(e,t){t<24?K[j++]=e<<5|t:t<256?(K[j++]=e<<5|24,K[j++]=t):t<65536?(K[j++]=e<<5|25,Qr.setUint16(j,t),j+=2):t<2**32?(K[j++]=e<<5|26,Qr.setUint32(j,t),j+=4):(K[j++]=e<<5|27,Qr.setBigUint64(j,typeof t=="bigint"?t:BigInt(t)),j+=8)}function ZI(e){var r;let t=[e];for(;t.length;){let n=t.pop();if(Hh(typeof n=="string"?n.length*4:64),typeof n=="string"){if(XI)Yr(3,Buffer.byteLength(n)),j+=K.write(n,j);else{let s=(0,JI.fromUtf8)(n);Yr(3,s.byteLength),K.set(s,j),j+=s.byteLength}continue}else if(typeof n=="number"){if(Number.isInteger(n)){let s=n>=0,o=s?0:1,i=s?n:-n-1;i<24?K[j++]=o<<5|i:i<256?(K[j++]=o<<5|24,K[j++]=i):i<65536?(K[j++]=o<<5|25,K[j++]=i>>8,K[j++]=i):i<4294967296?(K[j++]=o<<5|26,Qr.setUint32(j,i),j+=4):(K[j++]=o<<5|27,Qr.setBigUint64(j,BigInt(i)),j+=8);continue}K[j++]=251,Qr.setFloat64(j,n),j+=8;continue}else if(typeof n=="bigint"){let s=n>=0,o=s?0:1,i=s?n:-n-BigInt(1),a=Number(i);if(a<24)K[j++]=o<<5|a;else if(a<256)K[j++]=o<<5|24,K[j++]=a;else if(a<65536)K[j++]=o<<5|25,K[j++]=a>>8,K[j++]=a&255;else if(a<4294967296)K[j++]=o<<5|26,Qr.setUint32(j,a),j+=4;else if(i<BigInt("18446744073709551616"))K[j++]=o<<5|27,Qr.setBigUint64(j,i),j+=8;else{let c=i.toString(2),u=new Uint8Array(Math.ceil(c.length/8)),l=i,d=0;for(;u.byteLength-++d>=0;)u[u.byteLength-d]=Number(l&BigInt(255)),l>>=BigInt(8);Hh(u.byteLength*2),K[j++]=s?194:195,XI?Yr(2,Buffer.byteLength(u)):Yr(2,u.byteLength),K.set(u,j),j+=u.byteLength}continue}else if(n===null){K[j++]=246;continue}else if(typeof n=="boolean"){K[j++]=224|(n?21:20);continue}else{if(typeof n>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(n)){for(let s=n.length-1;s>=0;--s)t.push(n[s]);Yr(4,n.length);continue}else if(typeof n.byteLength=="number"){Hh(n.length*2),Yr(2,n.length),K.set(n,j),j+=n.byteLength;continue}else if(typeof n=="object"){if(n instanceof re){let o=n.string.indexOf("."),i=o===-1?0:o-n.string.length+1,a=BigInt(n.string.replace(".",""));K[j++]=196,t.push(a),t.push(i),Yr(4,2);continue}if(n[Oh])if("tag"in n&&"value"in n){t.push(n.value),Yr(6,n.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(n));let s=Object.keys(n);for(let o=s.length-1;o>=0;--o){let i=s[o];t.push(n[i]),t.push(i)}Yr(5,s.length);continue}}throw new Error(`data type ${((r=n==null?void 0:n.constructor)==null?void 0:r.name)??typeof n} not compatible for encoding.`)}}var JI,XI,AG,K,Qr,j,ex=_(()=>{$e();JI=T(Fe());Eu();XI=typeof Buffer<"u",AG=2048,K=In(AG),Qr=new DataView(K.buffer,K.byteOffset,K.byteLength),j=0});var jh,tx=_(()=>{QI();ex();jh={deserialize(e){return WI(e),fr(0,e.length)},serialize(e){try{return ZI(e),qh()}catch(t){throw qh(),t}},resizeEncodingBuffer(e){_u(e)}}});var bu,lo,Tu=_(()=>{Eu();bu=e=>yu({tag:1,value:e.getTime()/1e3}),lo=(e,t)=>{let r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var Wh,wu,zh,Vh,Kh=_(()=>{ve();Z();$e();Wh=T(Re());tx();Tu();wu=class extends ht{createSerializer(){let t=new zh;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Vh;return t.setSerdeContext(this.serdeContext),t}},zh=class extends ht{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){var s;let n=L.of(t);if(r==null)return n.isIdempotencyToken()?(0,ze.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Wh.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?bu(new Date(Number(r)/1e3|0)):bu(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let a=!!n.getMergedTraits().sparse,c=[],u=0;for(let l of o){let d=this.serialize(n.getValueSchema(),l);(d!=null||a)&&(c[u++]=d)}return c}if(o instanceof Date)return bu(o);let i={};if(n.isMapSchema()){let a=!!n.getMergedTraits().sparse;for(let c of Object.keys(o)){let u=this.serialize(n.getValueSchema(),o[c]);(u!=null||a)&&(i[c]=u)}}else if(n.isStructSchema())for(let[a,c]of n.structIterator()){let u=this.serialize(c,o[a]);u!=null&&(i[a]=u)}else if(n.isDocumentSchema())for(let a of Object.keys(o))i[a]=this.serialize(n.getValueSchema(),o[a]);return i}return r}flush(){let t=jh.serialize(this.value);return this.value=void 0,t}},Vh=class extends ht{read(t,r){let n=jh.deserialize(r);return this.readValue(t,n)}readValue(t,r){var s;let n=L.of(t);if(n.isTimestampSchema()){if(typeof r=="number")return to(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return to(r.value)}if(n.isBlobSchema())return typeof r=="string"?(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Wh.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],a=n.getValueSchema(),c=!!n.getMergedTraits().sparse;for(let u of r){let l=this.readValue(a,u);(l!=null||c)&&i.push(l)}return i}let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,a=n.getValueSchema();for(let c of Object.keys(r)){let u=this.readValue(a,r[c]);(u!=null||i)&&(o[c]=u)}}else if(n.isStructSchema())for(let[i,a]of n.structIterator()){let c=this.readValue(a,r[i]);c!=null&&(o[i]=c)}return o}else return r}}});var rx,po,nx=_(()=>{ve();Z();rx=T(Ze());Kh();Tu();po=class extends Rt{codec=new wu;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),ft(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,rx.getSmithyContext)(n),a=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=lo(n,s)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:o,$fault:n.statusCode<=500?"client":"server"},u=F.for(a),l;try{l=u.getSchema(i)}catch{s.Message&&(s.message=s.Message);let C=F.for("smithy.ts.sdk.synthetic."+a),R=C.getBaseException();if(R){let N=C.getErrorCtor(R);throw Object.assign(new N({name:i}),c,s)}throw Object.assign(new Error(i),c,s)}let d=L.of(l),g=u.getErrorCtor(l),h=s.message??s.Message??"Unknown",y=new g(h),S={};for(let[w,C]of d.structIterator())S[w]=this.deserializer.readValue(C,s[w]);throw Object.assign(y,c,{$fault:d.getMergedTraits().error,message:h},S)}getDefaultContentType(){return"application/cbor"}}});var Yh=_(()=>{Tu();nx();Kh()});var ax=P(ix=>{"use strict";var Ss=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Rn=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Qh=()=>{let e=[],t=[],r=!1,n=new Set,s=d=>d.sort((g,h)=>sx[h.step]-sx[g.step]||ox[h.priority||"normal"]-ox[g.priority||"normal"]),o=d=>{let g=!1,h=y=>{let S=Ss(y.name,y.aliases);if(S.includes(d)){g=!0;for(let w of S)n.delete(w);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},i=d=>{let g=!1,h=y=>{if(y.middleware===d){g=!0;for(let S of Ss(y.name,y.aliases))n.delete(S);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},a=d=>{var g;return e.forEach(h=>{d.add(h.middleware,{...h})}),t.forEach(h=>{d.addRelativeTo(h.middleware,{...h})}),(g=d.identifyOnResolve)==null||g.call(d,l.identifyOnResolve()),d},c=d=>{let g=[];return d.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...c(h))}),g.push(d),d.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...c(h))}),g},u=(d=!1)=>{let g=[],h=[],y={};return e.forEach(w=>{let C={...w,before:[],after:[]};for(let R of Ss(C.name,C.aliases))y[R]=C;g.push(C)}),t.forEach(w=>{let C={...w,before:[],after:[]};for(let R of Ss(C.name,C.aliases))y[R]=C;h.push(C)}),h.forEach(w=>{if(w.toMiddleware){let C=y[w.toMiddleware];if(C===void 0){if(d)return;throw new Error(`${w.toMiddleware} is not found when adding ${Rn(w.name,w.aliases)} middleware ${w.relation} ${w.toMiddleware}`)}w.relation==="after"&&C.after.push(w),w.relation==="before"&&C.before.push(w)}}),s(g).map(c).reduce((w,C)=>(w.push(...C),w),[])},l={add:(d,g={})=>{let{name:h,override:y,aliases:S}=g,w={step:"initialize",priority:"normal",middleware:d,...g},C=Ss(h,S);if(C.length>0){if(C.some(R=>n.has(R))){if(!y)throw new Error(`Duplicate middleware name '${Rn(h,S)}'`);for(let R of C){let N=e.findIndex(B=>{var J;return B.name===R||((J=B.aliases)==null?void 0:J.some(oe=>oe===R))});if(N===-1)continue;let M=e[N];if(M.step!==w.step||w.priority!==M.priority)throw new Error(`"${Rn(M.name,M.aliases)}" middleware with ${M.priority} priority in ${M.step} step cannot be overridden by "${Rn(h,S)}" middleware with ${w.priority} priority in ${w.step} step.`);e.splice(N,1)}}for(let R of C)n.add(R)}e.push(w)},addRelativeTo:(d,g)=>{let{name:h,override:y,aliases:S}=g,w={middleware:d,...g},C=Ss(h,S);if(C.length>0){if(C.some(R=>n.has(R))){if(!y)throw new Error(`Duplicate middleware name '${Rn(h,S)}'`);for(let R of C){let N=t.findIndex(B=>{var J;return B.name===R||((J=B.aliases)==null?void 0:J.some(oe=>oe===R))});if(N===-1)continue;let M=t[N];if(M.toMiddleware!==w.toMiddleware||M.relation!==w.relation)throw new Error(`"${Rn(M.name,M.aliases)}" middleware ${M.relation} "${M.toMiddleware}" middleware cannot be overridden by "${Rn(h,S)}" middleware ${w.relation} "${w.toMiddleware}" middleware.`);t.splice(N,1)}}for(let R of C)n.add(R)}t.push(w)},clone:()=>a(Qh()),use:d=>{d.applyToStack(l)},remove:d=>typeof d=="string"?o(d):i(d),removeByTag:d=>{let g=!1,h=y=>{let{tags:S,name:w,aliases:C}=y;if(S&&S.includes(d)){let R=Ss(w,C);for(let N of R)n.delete(N);return g=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),g},concat:d=>{var h;let g=a(Qh());return g.use(d),g.identifyOnResolve(r||g.identifyOnResolve()||(((h=d.identifyOnResolve)==null?void 0:h.call(d))??!1)),g},applyToStack:a,identify:()=>u(!0).map(d=>{let g=d.step??d.relation+" "+d.toMiddleware;return Rn(d.name,d.aliases)+" - "+g}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,g)=>{for(let h of u().map(y=>y.middleware).reverse())d=h(d,g);return r&&console.log(l.identify()),d}};return l},sx={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ox={high:3,normal:2,low:1};ix.constructStack=Qh});var Y=P(be=>{"use strict";var lx=ax(),og=(ve(),se(fw)),Jh=pn(),RG=(Z(),se(Ei)),cx=($e(),se(ew)),Zh=class{config;middlewareStack=lx.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(t.constructor)?a=c.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),c.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(t).then(c=>c.output)}destroy(){var t,r,n;(n=(r=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}},Xh="***SensitiveInformation***";function eg(e,t){if(t==null)return t;let r=RG.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Xh;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Xh}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Xh}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=eg(i,n[o]));return s}return t}var Iu=class{middlewareStack=lx.constructStack();schema;static classBuilder(){return new tg}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:l,CommandCtor:d}){for(let w of s.bind(this)(d,t,r,n))this.middlewareStack.use(w);let g=t.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Jh.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...l},{requestHandler:S}=r;return g.resolve(w=>S.handle(w.request,n||{}),y)}},tg=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Iu{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,o){let i=t._operationSchema,a=(i==null?void 0:i[4])??(i==null?void 0:i.input),c=(i==null?void 0:i[5])??(i==null?void 0:i.output);return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?eg.bind(null,a):u=>u),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?eg.bind(null,c):u=>u),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},vG="***SensitiveInformation***",DG=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(i,a,c){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},c)}else return this.send(u,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},rg=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},dx=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},px=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=NG(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw dx(i,t)},PG=e=>({output:t,parsedBody:r,errorCode:n})=>{px({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},NG=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),OG=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},ux=!1,LG=e=>{e&&!ux&&parseInt(e.substring(1,e.indexOf(".")))<16&&(ux=!0)},kG=e=>{let t=[];for(let r in Jh.AlgorithmId){let n=Jh.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},MG=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},UG=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),BG=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},mx=e=>Object.assign(kG(e),UG(e)),FG=mx,$G=e=>Object.assign(MG(e),BG(e)),GG=e=>Array.isArray(e)?e:[e],fx=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=fx(e[r]));return e},HG=e=>e!=null,ng=class{trace(){}debug(){}info(){}warn(){}error(){}};function hx(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,zG(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}gx(n,null,o,i)}return n}var qG=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},jG=(e,t)=>{let r={};for(let n in t)gx(r,e,t,n);return r},zG=(e,t,r)=>hx(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),gx=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=VG,c=WG,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&a)&&(e[n]=c(t[u]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:c&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},VG=e=>e!=null,WG=e=>e,KG=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},YG=e=>e.toISOString().replace(".000Z","Z"),sg=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(sg);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=sg(e[r]));return t}return e};Object.defineProperty(be,"collectBody",{enumerable:!0,get:function(){return og.collectBody}});Object.defineProperty(be,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return og.extendedEncodeURIComponent}});Object.defineProperty(be,"resolvedPath",{enumerable:!0,get:function(){return og.resolvedPath}});be.Client=Zh;be.Command=Iu;be.NoOpLogger=ng;be.SENSITIVE_STRING=vG;be.ServiceException=rg;be._json=sg;be.convertMap=qG;be.createAggregatedClient=DG;be.decorateServiceException=dx;be.emitWarningIfUnsupportedVersion=LG;be.getArrayIfSingleItem=GG;be.getDefaultClientConfiguration=FG;be.getDefaultExtensionConfiguration=mx;be.getValueFromTextNode=fx;be.isSerializableHeaderValue=HG;be.loadConfigsForDefaultMode=OG;be.map=hx;be.resolveDefaultRuntimeConfig=$G;be.serializeDateTime=YG;be.serializeFloat=KG;be.take=jG;be.throwDefaultError=px;be.withBaseException=PG;Object.keys(cx).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(be,e)&&Object.defineProperty(be,e,{enumerable:!0,get:function(){return cx[e]}})})});var ig,kt,mo=_(()=>{Z();ig=T(Y()),kt=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:l,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!c&&!u&&!l&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,o,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let u={$metadata:o,$fault:n.statusCode<500?"client":"server"},l=F.for(a);try{return{errorSchema:(i==null?void 0:i(l,c))??l.getSchema(t),errorMetadata:u}}catch{s.message=s.message??s.Message??"UnknownError";let g=F.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new y({name:c}),u),s)}throw this.decorateServiceException(Object.assign(new Error(c),u),s)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,s=(0,ig.decorateServiceException)(t,r);n&&(s.message=n),s.Error={...s.Error,Type:s.Error.Type,Code:s.Error.Code,Message:s.Error.message??s.Error.Message??n};let o=s.$metadata.requestId;return o&&(s.RequestId=o),s}return(0,ig.decorateServiceException)(t,r)}setQueryCompatError(t,r){var s;let n=(s=r.headers)==null?void 0:s["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,i]=n.split(";"),a=Object.entries(t),c={Code:o,Type:i};Object.assign(t,c);for(let[u,l]of a)c[u==="message"?"Message":u]=l;delete c.__type,t.Error=c}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(s=>{var o;return((o=L.of(s).getMergedTraits().awsQueryError)==null?void 0:o[0])===r})}}}});var xu,yx=_(()=>{Yh();Z();mo();xu=class extends po{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new kt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=(()=>{let y=n.headers["x-amzn-query-error"];return y&&this.awsQueryCompatible?y.split(";")[0]:lo(n,s)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=L.of(a),l=s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l),h={};for(let[y,S]of u.structIterator())s[y]!=null&&(h[y]=this.deserializer.readValue(S,s[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}}});var Ex,Sx,_x,bx=_(()=>{Ex=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},Sx=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},_x=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var st,vn=_(()=>{st=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*fo(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let s=r[4][n],o=r[5][n],i=new L([o,0],s);!(s in t)&&!i.isIdempotencyToken()||(yield[s,i])}}function*Tx(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),s=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<n[4].length&&s!==0;++o){let i=n[4][o],a=n[5][o],c=new L([a,0],i),u=i;r&&(u=c.getMergedTraits()[r]??i),u in t&&(yield[i,c],s-=1)}}var Ui=_(()=>{Z()});function wx(e,t,r){if(r!=null&&r.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new re(n,"bigDecimal"):BigInt(n)}return t}var Ix=_(()=>{$e()});var xx,Cx,Cu,ag=_(()=>{xx=T(Y()),Cx=T(Fe()),Cu=(e,t)=>(0,xx.collectBody)(e,t).then(r=>((t==null?void 0:t.utf8Encoder)??Cx.toUtf8)(r))});var Bi,Ax,ho,Fi=_(()=>{ag();Bi=(e,t)=>Cu(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw(n==null?void 0:n.name)==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Ax=async(e,t)=>{let r=await Bi(e,t);return r.message=r.message??r.Message,r},ho=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var Rx,go,cg=_(()=>{ve();Z();$e();Rx=T(Re());vn();Ui();Ix();Fi();go=class extends st{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,wx):await Bi(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=L.of(t);if(n){if(s.isStructSchema()){let i={};for(let[a,c]of Tx(s,r,this.settings.jsonName?"jsonName":!1)){let u=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,l=this._read(c,r[u]);l!=null&&(i[a]=l)}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,l]of Object.entries(r))(c||l!=null)&&(a[u]=this._read(i,l));return a}}if(s.isBlobSchema()&&typeof r=="string")return(0,Rx.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?He.from(r):r;if(s.isTimestampSchema()&&r!=null)switch(Le(s,this.settings)){case 5:return wi(r);case 6:return Ii(r);case 7:return xi(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof re)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new re(i.string,i.type):new re(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof re?i[a]=c:i[a]=this._read(s,c);return i}else return structuredClone(r);return r}}});var vx,Au,Dx=_(()=>{$e();vx="\u039D",Au=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof re){let n=`${vx+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${vx+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var ug,yo,lg=_(()=>{ve();Z();$e();ug=T(Re());vn();Ui();Dx();yo=class extends st{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=L.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=L.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t!=null&&t.isStructSchema()||t!=null&&t.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Au;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){var i,a;let s=r!==null&&typeof r=="object",o=L.of(t);if(s){if(o.isStructSchema()){let c={};for(let[u,l]of fo(o,r)){let d=this._write(l,r[u],o);if(d!==void 0){let g=l.getMergedTraits().jsonName,h=this.settings.jsonName?g??u:u;c[h]=d}}return c}if(Array.isArray(r)&&o.isListSchema()){let c=o.getValueSchema(),u=[],l=!!o.getMergedTraits().sparse;for(let d of r)(l||d!=null)&&u.push(this._write(c,d));return u}if(o.isMapSchema()){let c=o.getValueSchema(),u={},l=!!o.getMergedTraits().sparse;for(let[d,g]of Object.entries(r))(l||g!=null)&&(u[d]=this._write(c,g));return u}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(((i=this.serdeContext)==null?void 0:i.base64Encoder)??ug.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch(Le(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return ms(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof re&&(this.useReplacer=!0)}if(!(r===null&&(n!=null&&n.isStructSchema()))){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,ze.v4)();let c=o.getMergedTraits().mediaType;return r!=null&&c&&(c==="application/json"||c.endsWith("+json"))?He.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(((a=this.serdeContext)==null?void 0:a.base64Encoder)??ug.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(s){let c=Array.isArray(r)?[]:{};for(let[u,l]of Object.entries(r))l instanceof re?(this.useReplacer=!0,c[u]=l):c[u]=this._write(o,l);return c}else return structuredClone(r);return r}}}});var Dn,Ru=_(()=>{vn();cg();lg();Dn=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new yo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new go(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Pn,vu=_(()=>{ve();Z();mo();Ru();Fi();Pn=class extends Rt{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=s??new Dn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new kt(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(ft(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=ho(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=L.of(a),l=s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l),h={};for(let[y,S]of u.structIterator())s[y]!=null&&(h[y]=this.codec.createDeserializer().readObject(S,s[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}}});var Du,Px=_(()=>{vu();Du=class extends Pn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Pu,Nx=_(()=>{vu();Pu=class extends Pn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Nn,Ox=_(()=>{ve();Z();mo();Ru();Fi();Nn=class extends Wt{serializer;deserializer;codec;mixin=new kt;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Dn(r),this.serializer=new Yt(this.codec.createSerializer(),r),this.deserializer=new Kt(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=L.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.body==null&&s.headers["content-type"]===this.getDefaultContentType()&&(s.body="{}"),s}async deserializeResponse(t,r,n){let s=await super.deserializeResponse(t,r,n),o=L.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in s)&&(s[i]=null);return s}async handleError(t,r,n,s,o){let i=ho(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=L.of(a),l=s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[y,S]of u.structIterator()){let w=S.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(S,s[w])}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}getDefaultContentType(){return"application/json"}}});var Lx,kx,Mx=_(()=>{Lx=T(Y()),kx=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Lx.expectUnion)(e)}});var dg=P((ppe,Ux)=>{(()=>{"use strict";var e={d:(m,f)=>{for(var E in f)e.o(f,E)&&!e.o(m,E)&&Object.defineProperty(m,E,{enumerable:!0,get:f[E]})},o:(m,f)=>Object.prototype.hasOwnProperty.call(m,f),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>ln,XMLParser:()=>BM,XMLValidator:()=>VM});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(m,f){let E=[],x=f.exec(m);for(;x;){let b=[];b.startIndex=f.lastIndex-x[0].length;let I=x.length;for(let D=0;D<I;D++)b.push(x[D]);E.push(b),x=f.exec(m)}return E}let o=function(m){return n.exec(m)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(m,f){f=Object.assign({},i,f);let E=[],x=!1,b=!1;m[0]==="\uFEFF"&&(m=m.substr(1));for(let I=0;I<m.length;I++)if(m[I]==="<"&&m[I+1]==="?"){if(I+=2,I=u(m,I),I.err)return I}else{if(m[I]!=="<"){if(c(m[I]))continue;return C("InvalidChar","char '"+m[I]+"' is not expected.",N(m,I))}{let D=I;if(I++,m[I]==="!"){I=l(m,I);continue}{let v=!1;m[I]==="/"&&(v=!0,I++);let O="";for(;I<m.length&&m[I]!==">"&&m[I]!==" "&&m[I]!=="	"&&m[I]!==`
`&&m[I]!=="\r";I++)O+=m[I];if(O=O.trim(),O[O.length-1]==="/"&&(O=O.substring(0,O.length-1),I--),!o(O)){let z;return z=O.trim().length===0?"Invalid space after '<'.":"Tag '"+O+"' is an invalid name.",C("InvalidTag",z,N(m,I))}let k=h(m,I);if(k===!1)return C("InvalidAttr","Attributes for '"+O+"' have open quote.",N(m,I));let X=k.value;if(I=k.index,X[X.length-1]==="/"){let z=I-X.length;X=X.substring(0,X.length-1);let de=S(X,f);if(de!==!0)return C(de.err.code,de.err.msg,N(m,z+de.err.line));x=!0}else if(v){if(!k.tagClosed)return C("InvalidTag","Closing tag '"+O+"' doesn't have proper closing.",N(m,I));if(X.trim().length>0)return C("InvalidTag","Closing tag '"+O+"' can't have attributes or invalid starting.",N(m,D));if(E.length===0)return C("InvalidTag","Closing tag '"+O+"' has not been opened.",N(m,D));{let z=E.pop();if(O!==z.tagName){let de=N(m,z.tagStartPos);return C("InvalidTag","Expected closing tag '"+z.tagName+"' (opened in line "+de.line+", col "+de.col+") instead of closing tag '"+O+"'.",N(m,D))}E.length==0&&(b=!0)}}else{let z=S(X,f);if(z!==!0)return C(z.err.code,z.err.msg,N(m,I-X.length+z.err.line));if(b===!0)return C("InvalidXml","Multiple possible root nodes found.",N(m,I));f.unpairedTags.indexOf(O)!==-1||E.push({tagName:O,tagStartPos:D}),x=!0}for(I++;I<m.length;I++)if(m[I]==="<"){if(m[I+1]==="!"){I++,I=l(m,I);continue}if(m[I+1]!=="?")break;if(I=u(m,++I),I.err)return I}else if(m[I]==="&"){let z=w(m,I);if(z==-1)return C("InvalidChar","char '&' is not expected.",N(m,I));I=z}else if(b===!0&&!c(m[I]))return C("InvalidXml","Extra text at the end",N(m,I));m[I]==="<"&&I--}}}return x?E.length==1?C("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",N(m,E[0].tagStartPos)):!(E.length>0)||C("InvalidXml","Invalid '"+JSON.stringify(E.map((I=>I.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):C("InvalidXml","Start tag expected.",1)}function c(m){return m===" "||m==="	"||m===`
`||m==="\r"}function u(m,f){let E=f;for(;f<m.length;f++)if(!(m[f]!="?"&&m[f]!=" ")){let x=m.substr(E,f-E);if(f>5&&x==="xml")return C("InvalidXml","XML declaration allowed only at the start of the document.",N(m,f));if(m[f]=="?"&&m[f+1]==">"){f++;break}}return f}function l(m,f){if(m.length>f+5&&m[f+1]==="-"&&m[f+2]==="-"){for(f+=3;f<m.length;f++)if(m[f]==="-"&&m[f+1]==="-"&&m[f+2]===">"){f+=2;break}}else if(m.length>f+8&&m[f+1]==="D"&&m[f+2]==="O"&&m[f+3]==="C"&&m[f+4]==="T"&&m[f+5]==="Y"&&m[f+6]==="P"&&m[f+7]==="E"){let E=1;for(f+=8;f<m.length;f++)if(m[f]==="<")E++;else if(m[f]===">"&&(E--,E===0))break}else if(m.length>f+9&&m[f+1]==="["&&m[f+2]==="C"&&m[f+3]==="D"&&m[f+4]==="A"&&m[f+5]==="T"&&m[f+6]==="A"&&m[f+7]==="["){for(f+=8;f<m.length;f++)if(m[f]==="]"&&m[f+1]==="]"&&m[f+2]===">"){f+=2;break}}return f}let d='"',g="'";function h(m,f){let E="",x="",b=!1;for(;f<m.length;f++){if(m[f]===d||m[f]===g)x===""?x=m[f]:x!==m[f]||(x="");else if(m[f]===">"&&x===""){b=!0;break}E+=m[f]}return x===""&&{value:E,index:f,tagClosed:b}}let y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function S(m,f){let E=s(m,y),x={};for(let b=0;b<E.length;b++){if(E[b][1].length===0)return C("InvalidAttr","Attribute '"+E[b][2]+"' has no space in starting.",M(E[b]));if(E[b][3]!==void 0&&E[b][4]===void 0)return C("InvalidAttr","Attribute '"+E[b][2]+"' is without value.",M(E[b]));if(E[b][3]===void 0&&!f.allowBooleanAttributes)return C("InvalidAttr","boolean attribute '"+E[b][2]+"' is not allowed.",M(E[b]));let I=E[b][2];if(!R(I))return C("InvalidAttr","Attribute '"+I+"' is an invalid name.",M(E[b]));if(x.hasOwnProperty(I))return C("InvalidAttr","Attribute '"+I+"' is repeated.",M(E[b]));x[I]=1}return!0}function w(m,f){if(m[++f]===";")return-1;if(m[f]==="#")return(function(x,b){let I=/\d/;for(x[b]==="x"&&(b++,I=/[\da-fA-F]/);b<x.length;b++){if(x[b]===";")return b;if(!x[b].match(I))break}return-1})(m,++f);let E=0;for(;f<m.length;f++,E++)if(!(m[f].match(/\w/)&&E<20)){if(m[f]===";")break;return-1}return f}function C(m,f,E){return{err:{code:m,msg:f,line:E.line||E,col:E.col}}}function R(m){return o(m)}function N(m,f){let E=m.substring(0,f).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function M(m){return m.startIndex+m[1].length}let B={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(m,f){return f},attributeValueProcessor:function(m,f){return f},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(m,f,E){return m},captureMetaData:!1},J;J=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class oe{constructor(f){this.tagname=f,this.child=[],this[":@"]={}}add(f,E){f==="__proto__"&&(f="#__proto__"),this.child.push({[f]:E})}addChild(f,E){f.tagname==="__proto__"&&(f.tagname="#__proto__"),f[":@"]&&Object.keys(f[":@"]).length>0?this.child.push({[f.tagname]:f.child,":@":f[":@"]}):this.child.push({[f.tagname]:f.child}),E!==void 0&&(this.child[this.child.length-1][J]={startIndex:E})}static getMetaDataSymbol(){return J}}function V(m,f){let E={};if(m[f+3]!=="O"||m[f+4]!=="C"||m[f+5]!=="T"||m[f+6]!=="Y"||m[f+7]!=="P"||m[f+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{f+=9;let x=1,b=!1,I=!1,D="";for(;f<m.length;f++)if(m[f]!=="<"||I)if(m[f]===">"){if(I?m[f-1]==="-"&&m[f-2]==="-"&&(I=!1,x--):x--,x===0)break}else m[f]==="["?b=!0:D+=m[f];else{if(b&&is(m,"!ENTITY",f)){let v,O;f+=7,[v,O,f]=Ct(m,f+1),O.indexOf("&")===-1&&(E[v]={regx:RegExp(`&${v};`,"g"),val:O})}else if(b&&is(m,"!ELEMENT",f)){f+=8;let{index:v}=dm(m,f+1);f=v}else if(b&&is(m,"!ATTLIST",f))f+=8;else if(b&&is(m,"!NOTATION",f)){f+=9;let{index:v}=fe(m,f+1);f=v}else{if(!is(m,"!--",f))throw new Error("Invalid DOCTYPE");I=!0}x++,D=""}if(x!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:f}}let Q=(m,f)=>{for(;f<m.length&&/\s/.test(m[f]);)f++;return f};function Ct(m,f){f=Q(m,f);let E="";for(;f<m.length&&!/\s/.test(m[f])&&m[f]!=='"'&&m[f]!=="'";)E+=m[f],f++;if(pm(E),f=Q(m,f),m.substring(f,f+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(m[f]==="%")throw new Error("Parameter entities are not supported");let x="";return[f,x]=Je(m,f,"entity"),[E,x,--f]}function fe(m,f){f=Q(m,f);let E="";for(;f<m.length&&!/\s/.test(m[f]);)E+=m[f],f++;pm(E),f=Q(m,f);let x=m.substring(f,f+6).toUpperCase();if(x!=="SYSTEM"&&x!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${x}"`);f+=x.length,f=Q(m,f);let b=null,I=null;if(x==="PUBLIC")[f,b]=Je(m,f,"publicIdentifier"),m[f=Q(m,f)]!=='"'&&m[f]!=="'"||([f,I]=Je(m,f,"systemIdentifier"));else if(x==="SYSTEM"&&([f,I]=Je(m,f,"systemIdentifier"),!I))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:E,publicIdentifier:b,systemIdentifier:I,index:--f}}function Je(m,f,E){let x="",b=m[f];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(f++;f<m.length&&m[f]!==b;)x+=m[f],f++;if(m[f]!==b)throw new Error(`Unterminated ${E} value`);return[++f,x]}function dm(m,f){f=Q(m,f);let E="";for(;f<m.length&&!/\s/.test(m[f]);)E+=m[f],f++;if(!pm(E))throw new Error(`Invalid element name: "${E}"`);let x="";if(m[f=Q(m,f)]==="E"&&is(m,"MPTY",f))f+=4;else if(m[f]==="A"&&is(m,"NY",f))f+=2;else{if(m[f]!=="(")throw new Error(`Invalid Element Expression, found "${m[f]}"`);for(f++;f<m.length&&m[f]!==")";)x+=m[f],f++;if(m[f]!==")")throw new Error("Unterminated content model")}return{elementName:E,contentModel:x.trim(),index:f}}function is(m,f,E){for(let x=0;x<f.length;x++)if(f[x]!==m[E+x+1])return!1;return!0}function pm(m){if(o(m))return m;throw new Error(`Invalid entity name ${m}`)}let EM=/^[-+]?0x[a-fA-F0-9]+$/,SM=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,_M={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},bM=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function LS(m){return typeof m=="function"?m:Array.isArray(m)?f=>{for(let E of m)if(typeof E=="string"&&f===E||E instanceof RegExp&&E.test(f))return!0}:()=>!1}class TM{constructor(f){this.options=f,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,x)=>String.fromCodePoint(Number.parseInt(x,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,x)=>String.fromCodePoint(Number.parseInt(x,16))}},this.addExternalEntities=wM,this.parseXml=RM,this.parseTextData=IM,this.resolveNameSpace=xM,this.buildAttributesMap=AM,this.isItStopNode=NM,this.replaceEntitiesValue=DM,this.readStopNodeData=OM,this.saveTextToParentTag=PM,this.addChild=vM,this.ignoreAttributesFn=LS(this.options.ignoreAttributes)}}function wM(m){let f=Object.keys(m);for(let E=0;E<f.length;E++){let x=f[E];this.lastEntities[x]={regex:new RegExp("&"+x+";","g"),val:m[x]}}}function IM(m,f,E,x,b,I,D){if(m!==void 0&&(this.options.trimValues&&!x&&(m=m.trim()),m.length>0)){D||(m=this.replaceEntitiesValue(m));let v=this.options.tagValueProcessor(f,m,E,b,I);return v==null?m:typeof v!=typeof m||v!==m?v:this.options.trimValues||m.trim()===m?kS(m,this.options.parseTagValue,this.options.numberParseOptions):m}}function xM(m){if(this.options.removeNSPrefix){let f=m.split(":"),E=m.charAt(0)==="/"?"/":"";if(f[0]==="xmlns")return"";f.length===2&&(m=E+f[1])}return m}let CM=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function AM(m,f,E){if(this.options.ignoreAttributes!==!0&&typeof m=="string"){let x=s(m,CM),b=x.length,I={};for(let D=0;D<b;D++){let v=this.resolveNameSpace(x[D][1]);if(this.ignoreAttributesFn(v,f))continue;let O=x[D][4],k=this.options.attributeNamePrefix+v;if(v.length)if(this.options.transformAttributeName&&(k=this.options.transformAttributeName(k)),k==="__proto__"&&(k="#__proto__"),O!==void 0){this.options.trimValues&&(O=O.trim()),O=this.replaceEntitiesValue(O);let X=this.options.attributeValueProcessor(v,O,f);I[k]=X==null?O:typeof X!=typeof O||X!==O?X:kS(O,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(I[k]=!0)}if(!Object.keys(I).length)return;if(this.options.attributesGroupName){let D={};return D[this.options.attributesGroupName]=I,D}return I}}let RM=function(m){m=m.replace(/\r\n?/g,`
`);let f=new oe("!xml"),E=f,x="",b="";for(let I=0;I<m.length;I++)if(m[I]==="<")if(m[I+1]==="/"){let D=as(m,">",I,"Closing Tag is not closed."),v=m.substring(I+2,D).trim();if(this.options.removeNSPrefix){let X=v.indexOf(":");X!==-1&&(v=v.substr(X+1))}this.options.transformTagName&&(v=this.options.transformTagName(v)),E&&(x=this.saveTextToParentTag(x,E,b));let O=b.substring(b.lastIndexOf(".")+1);if(v&&this.options.unpairedTags.indexOf(v)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${v}>`);let k=0;O&&this.options.unpairedTags.indexOf(O)!==-1?(k=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):k=b.lastIndexOf("."),b=b.substring(0,k),E=this.tagsNodeStack.pop(),x="",I=D}else if(m[I+1]==="?"){let D=mm(m,I,!1,"?>");if(!D)throw new Error("Pi Tag is not closed.");if(x=this.saveTextToParentTag(x,E,b),!(this.options.ignoreDeclaration&&D.tagName==="?xml"||this.options.ignorePiTags)){let v=new oe(D.tagName);v.add(this.options.textNodeName,""),D.tagName!==D.tagExp&&D.attrExpPresent&&(v[":@"]=this.buildAttributesMap(D.tagExp,b,D.tagName)),this.addChild(E,v,b,I)}I=D.closeIndex+1}else if(m.substr(I+1,3)==="!--"){let D=as(m,"-->",I+4,"Comment is not closed.");if(this.options.commentPropName){let v=m.substring(I+4,D-2);x=this.saveTextToParentTag(x,E,b),E.add(this.options.commentPropName,[{[this.options.textNodeName]:v}])}I=D}else if(m.substr(I+1,2)==="!D"){let D=V(m,I);this.docTypeEntities=D.entities,I=D.i}else if(m.substr(I+1,2)==="!["){let D=as(m,"]]>",I,"CDATA is not closed.")-2,v=m.substring(I+9,D);x=this.saveTextToParentTag(x,E,b);let O=this.parseTextData(v,E.tagname,b,!0,!1,!0,!0);O==null&&(O=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:v}]):E.add(this.options.textNodeName,O),I=D+2}else{let D=mm(m,I,this.options.removeNSPrefix),v=D.tagName,O=D.rawTagName,k=D.tagExp,X=D.attrExpPresent,z=D.closeIndex;this.options.transformTagName&&(v=this.options.transformTagName(v)),E&&x&&E.tagname!=="!xml"&&(x=this.saveTextToParentTag(x,E,b,!1));let de=E;de&&this.options.unpairedTags.indexOf(de.tagname)!==-1&&(E=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),v!==f.tagname&&(b+=b?"."+v:v);let Se=I;if(this.isItStopNode(this.options.stopNodes,b,v)){let me="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)v[v.length-1]==="/"?(v=v.substr(0,v.length-1),b=b.substr(0,b.length-1),k=v):k=k.substr(0,k.length-1),I=D.closeIndex;else if(this.options.unpairedTags.indexOf(v)!==-1)I=D.closeIndex;else{let lr=this.readStopNodeData(m,O,z+1);if(!lr)throw new Error(`Unexpected end of ${O}`);I=lr.i,me=lr.tagContent}let Ue=new oe(v);v!==k&&X&&(Ue[":@"]=this.buildAttributesMap(k,b,v)),me&&(me=this.parseTextData(me,v,b,!0,X,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),Ue.add(this.options.textNodeName,me),this.addChild(E,Ue,b,Se)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){v[v.length-1]==="/"?(v=v.substr(0,v.length-1),b=b.substr(0,b.length-1),k=v):k=k.substr(0,k.length-1),this.options.transformTagName&&(v=this.options.transformTagName(v));let me=new oe(v);v!==k&&X&&(me[":@"]=this.buildAttributesMap(k,b,v)),this.addChild(E,me,b,Se),b=b.substr(0,b.lastIndexOf("."))}else{let me=new oe(v);this.tagsNodeStack.push(E),v!==k&&X&&(me[":@"]=this.buildAttributesMap(k,b,v)),this.addChild(E,me,b,Se),E=me}x="",I=z}}else x+=m[I];return f.child};function vM(m,f,E,x){this.options.captureMetaData||(x=void 0);let b=this.options.updateTag(f.tagname,E,f[":@"]);b===!1||(typeof b=="string"&&(f.tagname=b),m.addChild(f,x))}let DM=function(m){if(this.options.processEntities){for(let f in this.docTypeEntities){let E=this.docTypeEntities[f];m=m.replace(E.regx,E.val)}for(let f in this.lastEntities){let E=this.lastEntities[f];m=m.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let f in this.htmlEntities){let E=this.htmlEntities[f];m=m.replace(E.regex,E.val)}m=m.replace(this.ampEntity.regex,this.ampEntity.val)}return m};function PM(m,f,E,x){return m&&(x===void 0&&(x=f.child.length===0),(m=this.parseTextData(m,f.tagname,E,!1,!!f[":@"]&&Object.keys(f[":@"]).length!==0,x))!==void 0&&m!==""&&f.add(this.options.textNodeName,m),m=""),m}function NM(m,f,E){let x="*."+E;for(let b in m){let I=m[b];if(x===I||f===I)return!0}return!1}function as(m,f,E,x){let b=m.indexOf(f,E);if(b===-1)throw new Error(x);return b+f.length-1}function mm(m,f,E,x=">"){let b=(function(z,de,Se=">"){let me,Ue="";for(let lr=de;lr<z.length;lr++){let dn=z[lr];if(me)dn===me&&(me="");else if(dn==='"'||dn==="'")me=dn;else if(dn===Se[0]){if(!Se[1])return{data:Ue,index:lr};if(z[lr+1]===Se[1])return{data:Ue,index:lr}}else dn==="	"&&(dn=" ");Ue+=dn}})(m,f+1,x);if(!b)return;let I=b.data,D=b.index,v=I.search(/\s/),O=I,k=!0;v!==-1&&(O=I.substring(0,v),I=I.substring(v+1).trimStart());let X=O;if(E){let z=O.indexOf(":");z!==-1&&(O=O.substr(z+1),k=O!==b.data.substr(z+1))}return{tagName:O,tagExp:I,closeIndex:D,attrExpPresent:k,rawTagName:X}}function OM(m,f,E){let x=E,b=1;for(;E<m.length;E++)if(m[E]==="<")if(m[E+1]==="/"){let I=as(m,">",E,`${f} is not closed`);if(m.substring(E+2,I).trim()===f&&(b--,b===0))return{tagContent:m.substring(x,E),i:I};E=I}else if(m[E+1]==="?")E=as(m,"?>",E+1,"StopNode is not closed.");else if(m.substr(E+1,3)==="!--")E=as(m,"-->",E+3,"StopNode is not closed.");else if(m.substr(E+1,2)==="![")E=as(m,"]]>",E,"StopNode is not closed.")-2;else{let I=mm(m,E,">");I&&((I&&I.tagName)===f&&I.tagExp[I.tagExp.length-1]!=="/"&&b++,E=I.closeIndex)}}function kS(m,f,E){if(f&&typeof m=="string"){let x=m.trim();return x==="true"||x!=="false"&&(function(b,I={}){if(I=Object.assign({},_M,I),!b||typeof b!="string")return b;let D=b.trim();if(I.skipLike!==void 0&&I.skipLike.test(D))return b;if(b==="0")return 0;if(I.hex&&EM.test(D))return(function(O){if(parseInt)return parseInt(O,16);if(Number.parseInt)return Number.parseInt(O,16);if(window&&window.parseInt)return window.parseInt(O,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(D);if(D.search(/.+[eE].+/)!==-1)return(function(O,k,X){if(!X.eNotation)return O;let z=k.match(bM);if(z){let de=z[1]||"",Se=z[3].indexOf("e")===-1?"E":"e",me=z[2],Ue=de?O[me.length+1]===Se:O[me.length]===Se;return me.length>1&&Ue?O:me.length!==1||!z[3].startsWith(`.${Se}`)&&z[3][0]!==Se?X.leadingZeros&&!Ue?(k=(z[1]||"")+z[3],Number(k)):O:Number(k)}return O})(b,D,I);{let O=SM.exec(D);if(O){let k=O[1]||"",X=O[2],z=((v=O[3])&&v.indexOf(".")!==-1&&((v=v.replace(/0+$/,""))==="."?v="0":v[0]==="."?v="0"+v:v[v.length-1]==="."&&(v=v.substring(0,v.length-1))),v),de=k?b[X.length+1]===".":b[X.length]===".";if(!I.leadingZeros&&(X.length>1||X.length===1&&!de))return b;{let Se=Number(D),me=String(Se);if(Se===0||Se===-0)return Se;if(me.search(/[eE]/)!==-1)return I.eNotation?Se:b;if(D.indexOf(".")!==-1)return me==="0"||me===z||me===`${k}${z}`?Se:b;let Ue=X?z:D;return X?Ue===me||k+Ue===me?Se:b:Ue===me||Ue===k+me?Se:b}}return b}var v})(m,E)}return m!==void 0?m:""}let fm=oe.getMetaDataSymbol();function LM(m,f){return MS(m,f)}function MS(m,f,E){let x,b={};for(let I=0;I<m.length;I++){let D=m[I],v=kM(D),O="";if(O=E===void 0?v:E+"."+v,v===f.textNodeName)x===void 0?x=D[v]:x+=""+D[v];else{if(v===void 0)continue;if(D[v]){let k=MS(D[v],f,O),X=UM(k,f);D[fm]!==void 0&&(k[fm]=D[fm]),D[":@"]?MM(k,D[":@"],O,f):Object.keys(k).length!==1||k[f.textNodeName]===void 0||f.alwaysCreateTextNode?Object.keys(k).length===0&&(f.alwaysCreateTextNode?k[f.textNodeName]="":k=""):k=k[f.textNodeName],b[v]!==void 0&&b.hasOwnProperty(v)?(Array.isArray(b[v])||(b[v]=[b[v]]),b[v].push(k)):f.isArray(v,O,X)?b[v]=[k]:b[v]=k}}}return typeof x=="string"?x.length>0&&(b[f.textNodeName]=x):x!==void 0&&(b[f.textNodeName]=x),b}function kM(m){let f=Object.keys(m);for(let E=0;E<f.length;E++){let x=f[E];if(x!==":@")return x}}function MM(m,f,E,x){if(f){let b=Object.keys(f),I=b.length;for(let D=0;D<I;D++){let v=b[D];x.isArray(v,E+"."+v,!0,!0)?m[v]=[f[v]]:m[v]=f[v]}}}function UM(m,f){let{textNodeName:E}=f,x=Object.keys(m).length;return x===0||!(x!==1||!m[E]&&typeof m[E]!="boolean"&&m[E]!==0)}class BM{constructor(f){this.externalEntities={},this.options=(function(E){return Object.assign({},B,E)})(f)}parse(f,E){if(typeof f!="string"){if(!f.toString)throw new Error("XML data is accepted in String or Bytes[] form.");f=f.toString()}if(E){E===!0&&(E={});let I=a(f,E);if(I!==!0)throw Error(`${I.err.msg}:${I.err.line}:${I.err.col}`)}let x=new TM(this.options);x.addExternalEntities(this.externalEntities);let b=x.parseXml(f);return this.options.preserveOrder||b===void 0?b:LM(b,this.options)}addEntity(f,E){if(E.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(E==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=E}static getMetaDataSymbol(){return oe.getMetaDataSymbol()}}function FM(m,f){let E="";return f.format&&f.indentBy.length>0&&(E=`
`),US(m,f,"",E)}function US(m,f,E,x){let b="",I=!1;for(let D=0;D<m.length;D++){let v=m[D],O=$M(v);if(O===void 0)continue;let k="";if(k=E.length===0?O:`${E}.${O}`,O===f.textNodeName){let Se=v[O];GM(k,f)||(Se=f.tagValueProcessor(O,Se),Se=FS(Se,f)),I&&(b+=x),b+=Se,I=!1;continue}if(O===f.cdataPropName){I&&(b+=x),b+=`<![CDATA[${v[O][0][f.textNodeName]}]]>`,I=!1;continue}if(O===f.commentPropName){b+=x+`<!--${v[O][0][f.textNodeName]}-->`,I=!0;continue}if(O[0]==="?"){let Se=BS(v[":@"],f),me=O==="?xml"?"":x,Ue=v[O][0][f.textNodeName];Ue=Ue.length!==0?" "+Ue:"",b+=me+`<${O}${Ue}${Se}?>`,I=!0;continue}let X=x;X!==""&&(X+=f.indentBy);let z=x+`<${O}${BS(v[":@"],f)}`,de=US(v[O],f,k,X);f.unpairedTags.indexOf(O)!==-1?f.suppressUnpairedNode?b+=z+">":b+=z+"/>":de&&de.length!==0||!f.suppressEmptyNode?de&&de.endsWith(">")?b+=z+`>${de}${x}</${O}>`:(b+=z+">",de&&x!==""&&(de.includes("/>")||de.includes("</"))?b+=x+f.indentBy+de+x:b+=de,b+=`</${O}>`):b+=z+"/>",I=!0}return b}function $M(m){let f=Object.keys(m);for(let E=0;E<f.length;E++){let x=f[E];if(m.hasOwnProperty(x)&&x!==":@")return x}}function BS(m,f){let E="";if(m&&!f.ignoreAttributes)for(let x in m){if(!m.hasOwnProperty(x))continue;let b=f.attributeValueProcessor(x,m[x]);b=FS(b,f),b===!0&&f.suppressBooleanAttributes?E+=` ${x.substr(f.attributeNamePrefix.length)}`:E+=` ${x.substr(f.attributeNamePrefix.length)}="${b}"`}return E}function GM(m,f){let E=(m=m.substr(0,m.length-f.textNodeName.length-1)).substr(m.lastIndexOf(".")+1);for(let x in f.stopNodes)if(f.stopNodes[x]===m||f.stopNodes[x]==="*."+E)return!0;return!1}function FS(m,f){if(m&&m.length>0&&f.processEntities)for(let E=0;E<f.entities.length;E++){let x=f.entities[E];m=m.replace(x.regex,x.val)}return m}let HM={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(m,f){return f},attributeValueProcessor:function(m,f){return f},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ln(m){this.options=Object.assign({},HM,m),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=LS(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=zM),this.processTextOrObjNode=qM,this.options.format?(this.indentate=jM,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function qM(m,f,E,x){let b=this.j2x(m,E+1,x.concat(f));return m[this.options.textNodeName]!==void 0&&Object.keys(m).length===1?this.buildTextValNode(m[this.options.textNodeName],f,b.attrStr,E):this.buildObjectNode(b.val,f,b.attrStr,E)}function jM(m){return this.options.indentBy.repeat(m)}function zM(m){return!(!m.startsWith(this.options.attributeNamePrefix)||m===this.options.textNodeName)&&m.substr(this.attrPrefixLen)}ln.prototype.build=function(m){return this.options.preserveOrder?FM(m,this.options):(Array.isArray(m)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(m={[this.options.arrayNodeName]:m}),this.j2x(m,0,[]).val)},ln.prototype.j2x=function(m,f,E){let x="",b="",I=E.join(".");for(let D in m)if(Object.prototype.hasOwnProperty.call(m,D))if(m[D]===void 0)this.isAttribute(D)&&(b+="");else if(m[D]===null)this.isAttribute(D)||D===this.options.cdataPropName?b+="":D[0]==="?"?b+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(m[D]instanceof Date)b+=this.buildTextValNode(m[D],D,"",f);else if(typeof m[D]!="object"){let v=this.isAttribute(D);if(v&&!this.ignoreAttributesFn(v,I))x+=this.buildAttrPairStr(v,""+m[D]);else if(!v)if(D===this.options.textNodeName){let O=this.options.tagValueProcessor(D,""+m[D]);b+=this.replaceEntitiesValue(O)}else b+=this.buildTextValNode(m[D],D,"",f)}else if(Array.isArray(m[D])){let v=m[D].length,O="",k="";for(let X=0;X<v;X++){let z=m[D][X];if(z!==void 0)if(z===null)D[0]==="?"?b+=this.indentate(f)+"<"+D+"?"+this.tagEndChar:b+=this.indentate(f)+"<"+D+"/"+this.tagEndChar;else if(typeof z=="object")if(this.options.oneListGroup){let de=this.j2x(z,f+1,E.concat(D));O+=de.val,this.options.attributesGroupName&&z.hasOwnProperty(this.options.attributesGroupName)&&(k+=de.attrStr)}else O+=this.processTextOrObjNode(z,D,f,E);else if(this.options.oneListGroup){let de=this.options.tagValueProcessor(D,z);de=this.replaceEntitiesValue(de),O+=de}else O+=this.buildTextValNode(z,D,"",f)}this.options.oneListGroup&&(O=this.buildObjectNode(O,D,k,f)),b+=O}else if(this.options.attributesGroupName&&D===this.options.attributesGroupName){let v=Object.keys(m[D]),O=v.length;for(let k=0;k<O;k++)x+=this.buildAttrPairStr(v[k],""+m[D][v[k]])}else b+=this.processTextOrObjNode(m[D],D,f,E);return{attrStr:x,val:b}},ln.prototype.buildAttrPairStr=function(m,f){return f=this.options.attributeValueProcessor(m,""+f),f=this.replaceEntitiesValue(f),this.options.suppressBooleanAttributes&&f==="true"?" "+m:" "+m+'="'+f+'"'},ln.prototype.buildObjectNode=function(m,f,E,x){if(m==="")return f[0]==="?"?this.indentate(x)+"<"+f+E+"?"+this.tagEndChar:this.indentate(x)+"<"+f+E+this.closeTag(f)+this.tagEndChar;{let b="</"+f+this.tagEndChar,I="";return f[0]==="?"&&(I="?",b=""),!E&&E!==""||m.indexOf("<")!==-1?this.options.commentPropName!==!1&&f===this.options.commentPropName&&I.length===0?this.indentate(x)+`<!--${m}-->`+this.newLine:this.indentate(x)+"<"+f+E+I+this.tagEndChar+m+this.indentate(x)+b:this.indentate(x)+"<"+f+E+I+">"+m+b}},ln.prototype.closeTag=function(m){let f="";return this.options.unpairedTags.indexOf(m)!==-1?this.options.suppressUnpairedNode||(f="/"):f=this.options.suppressEmptyNode?"/":`></${m}`,f},ln.prototype.buildTextValNode=function(m,f,E,x){if(this.options.cdataPropName!==!1&&f===this.options.cdataPropName)return this.indentate(x)+`<![CDATA[${m}]]>`+this.newLine;if(this.options.commentPropName!==!1&&f===this.options.commentPropName)return this.indentate(x)+`<!--${m}-->`+this.newLine;if(f[0]==="?")return this.indentate(x)+"<"+f+E+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(f,m);return b=this.replaceEntitiesValue(b),b===""?this.indentate(x)+"<"+f+E+this.closeTag(f)+this.tagEndChar:this.indentate(x)+"<"+f+E+">"+b+"</"+f+this.tagEndChar}},ln.prototype.replaceEntitiesValue=function(m){if(m&&m.length>0&&this.options.processEntities)for(let f=0;f<this.options.entities.length;f++){let E=this.options.entities[f];m=m.replace(E.regex,E.val)}return m};let VM={validate:a};Ux.exports=t})()});var Bx=P(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.parseXML=XG;var QG=dg(),pg=new QG.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});pg.addEntity("#xD","\r");pg.addEntity("#10",`
`);function XG(e){return pg.parse(e,!0)}});var Lu=P(Ou=>{"use strict";var JG=Bx();function ZG(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function e2(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Nu=class{value;constructor(t){this.value=t}toString(){return e2(""+this.value)}},fg=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new Nu(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),i=new e(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${ZG(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Ou,"parseXML",{enumerable:!0,get:function(){return JG.parseXML}});Ou.XmlNode=fg;Ou.XmlText=Nu});var Fx,$x,Gx,On,ku=_(()=>{Fx=T(Lu());ve();Z();$x=T(Y()),Gx=T(Fe());vn();On=class extends st{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Gr(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){var u;let s=L.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(o)[0];return o[d].isBlobSchema()?l[d]=r:l[d]=this.read(o[d],r),l}let a=(((u=this.serdeContext)==null?void 0:u.utf8Encoder)??Gx.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=L.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),u=[],l=c.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[l],g=Array.isArray(d)?d:[d];for(let h of g)(h!=null||o)&&u.push(this.readSchema(c,h));return u}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),u=n.getValueSchema(),l;i?l=Array.isArray(r)?r:[r]:l=Array.isArray(r.entry)?r.entry:[r.entry];let d=c.getMergedTraits().xmlName??"key",g=u.getMergedTraits().xmlName??"value";for(let h of l){let y=h[d],S=h[g];(S!=null||o)&&(a[y]=this.readSchema(u,S))}return a}if(n.isStructSchema()){for(let[c,u]of n.structIterator()){let l=u.getMergedTraits(),d=l.httpPayload?l.xmlName??u.getName():u.getMemberTraits().xmlName??c;r[d]!=null&&(a[c]=this.readSchema(u,r[d]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,Fx.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,$x.getValueFromTextNode)(o)}return{}}}});var Hx,qx,Mu,jx=_(()=>{ve();Z();$e();Hx=T(Y()),qx=T(Re());vn();Ui();Mu=class extends st{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){var o;this.buffer===void 0&&(this.buffer="");let s=L.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((((o=this.serdeContext)==null?void 0:o.base64Encoder)??qx.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,ze.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof re?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Le(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,Hx.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let u of r){if(u==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=a?`${n}${c}`:`${n}${l}.${c}`;this.write(i,u,d),++c}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,u=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let g=this.getKey("key",i.getMergedTraits().xmlName),h=c?`${n}${u}.${g}`:`${n}entry.${u}.${g}`,y=this.getKey("value",a.getMergedTraits().xmlName),S=c?`${n}${u}.${y}`:`${n}entry.${u}.${y}`;this.write(i,l,h),this.write(a,d,S),++u}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,a]of fo(s,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),u=`${n}${c}`;this.write(a,r[i],u)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${At(t)}=`}writeValue(t){this.buffer+=At(t)}}});var Ln,hg=_(()=>{ve();Z();mo();ku();jx();Ln=class extends Rt{options;serializer;deserializer;mixin=new kt;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new Mu(r),this.deserializer=new On(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(ft(t.input)==="unit"||!s.body)&&(s.body="");let o=t.name.split("#")[1]??t.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,o=L.of(t.output),i={};if(n.statusCode>=300){let d=await mt(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let g=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await mt(n.body,r);return u.byteLength>0&&Object.assign(i,await s.read(o,u,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),c=this.loadQueryErrorMessage(s);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:u,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,o,this.mixin.findQueryCompatibleError),d=L.of(u),g=F.for(u[1]).getErrorCtor(u)??Error,h=new g(c),y={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[S,w]of d.structIterator()){let C=w.getMergedTraits().xmlName??S,R=a[C]??s[C];y[S]=this.deserializer.readSchema(w,R)}throw this.mixin.decorateServiceException(Object.assign(h,l,{$fault:d.getMergedTraits().error,message:c},y),s)}loadQueryErrorCode(t,r){var s,o,i,a;let n=(a=((o=(s=r.Errors)==null?void 0:s[0])==null?void 0:o.Error)??((i=r.Errors)==null?void 0:i.Error)??r.Error)==null?void 0:a.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){var r,n,s;return((n=(r=t.Errors)==null?void 0:r[0])==null?void 0:n.Error)??((s=t.Errors)==null?void 0:s.Error)??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return(r==null?void 0:r.message)??(r==null?void 0:r.Message)??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Uu,zx=_(()=>{hg();Uu=class extends Ln{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var Vx,Wx,gg,Kx,Bu,yg=_(()=>{Vx=T(Lu()),Wx=T(Y());ag();gg=(e,t)=>Cu(e,t).then(r=>{if(r.length){let n;try{n=(0,Vx.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,Wx.getValueFromTextNode)(i)}return{}}),Kx=async(e,t)=>{let r=await gg(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Bu=(e,t)=>{var r;if(((r=t==null?void 0:t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var Mt,Eg,Fu,Eo,Sg=_(()=>{Mt=T(Lu());ve();Z();$e();Eg=T(Y()),Fu=T(Re());vn();Ui();Eo=class extends st{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){var s;let n=L.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Fu.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){var r;if(this.byteBuffer!==void 0){let n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){let n=this.stringBuffer;return delete this.stringBuffer,n}let t=this.buffer;return this.settings.xmlNamespace&&((r=t==null?void 0:t.attributes)!=null&&r.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=Mt.XmlNode.of(o),[a,c]=this.getXmlnsAttribute(t,n);for(let[u,l]of fo(t,r)){let d=r[u];if(d!=null||l.isIdempotencyToken()){if(l.getMergedTraits().xmlAttribute){i.addAttribute(l.getMergedTraits().xmlName??u,this.writeSimple(l,d));continue}if(l.isListSchema())this.writeList(l,d,i,c);else if(l.isMapSchema())this.writeMap(l,d,i,c);else if(l.isStructSchema())i.addChildNode(this.writeStruct(l,d,c));else{let g=Mt.XmlNode.of(l.getMergedTraits().xmlName??l.getMemberName());this.writeSimpleInto(l,d,g,c),i.addChildNode(g)}}}return c&&i.addAttribute(a,c),i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!o.xmlFlattened,[l,d]=this.getXmlnsAttribute(t,s),g=(h,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],h,d);else if(i.isMapSchema())this.writeMap(i,y,h,d);else if(i.isStructSchema()){let S=this.writeStruct(i,y,d);h.addChildNode(S.withName(u?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=Mt.XmlNode.of(u?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,S,d),h.addChildNode(S)}};if(u)for(let h of r)(c||h!=null)&&g(n,h);else{let h=Mt.XmlNode.of(o.xmlName??t.getMemberName());d&&h.addAttribute(l,d);for(let y of r)(c||y!=null)&&g(h,y);n.addChildNode(h)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",l=t.getValueSchema(),d=l.getMergedTraits(),g=d.xmlName??"value",h=!!d.sparse,y=!!i.xmlFlattened,[S,w]=this.getXmlnsAttribute(t,s),C=(R,N,M)=>{let B=Mt.XmlNode.of(u,N),[J,oe]=this.getXmlnsAttribute(a,w);oe&&B.addAttribute(J,oe),R.addChildNode(B);let V=Mt.XmlNode.of(g);l.isListSchema()?this.writeList(l,M,V,w):l.isMapSchema()?this.writeMap(l,M,V,w,!0):l.isStructSchema()?V=this.writeStruct(l,M,w):this.writeSimpleInto(l,M,V,w),R.addChildNode(V)};if(y){for(let[R,N]of Object.entries(r))if(h||N!=null){let M=Mt.XmlNode.of(i.xmlName??t.getMemberName());C(M,R,N),n.addChildNode(M)}}else{let R;o||(R=Mt.XmlNode.of(i.xmlName??t.getMemberName()),w&&R.addAttribute(S,w),n.addChildNode(R));for(let[N,M]of Object.entries(r))if(h||M!=null){let B=Mt.XmlNode.of("entry");C(B,N,M),(o?n:R).addChildNode(B)}}}writeSimple(t,r){var o;if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=L.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(((o=this.serdeContext)==null?void 0:o.base64Encoder)??Fu.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Le(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,Eg.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Eg.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof re?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,ze.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=L.of(t),a=new Mt.XmlText(o),[c,u]=this.getXmlnsAttribute(i,s);u&&n.addAttribute(c,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var So,_g=_(()=>{vn();ku();Sg();So=class extends st{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Eo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new On(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var $u,Yx=_(()=>{ve();Z();mo();yg();_g();$u=class extends Wt{codec;serializer;deserializer;mixin=new kt;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new So(r),this.serializer=new Yt(this.codec.createSerializer(),r),this.deserializer=new Kt(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=L.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return typeof s.body=="string"&&s.headers["content-type"]===this.getDefaultContentType()&&!s.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){var y,S,w;let i=Bu(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=L.of(a),l=((y=s.Error)==null?void 0:y.message)??((S=s.Error)==null?void 0:S.Message)??s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[C,R]of u.structIterator()){let N=R.getMergedTraits().xmlName??C,M=((w=s.Error)==null?void 0:w[N])??s[N];h[C]=this.codec.createDeserializer().readSchema(R,M)}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var bg={};We(bg,{AwsEc2QueryProtocol:()=>Uu,AwsJson1_0Protocol:()=>Du,AwsJson1_1Protocol:()=>Pu,AwsJsonRpcProtocol:()=>Pn,AwsQueryProtocol:()=>Ln,AwsRestJsonProtocol:()=>Nn,AwsRestXmlProtocol:()=>$u,AwsSmithyRpcV2CborProtocol:()=>xu,JsonCodec:()=>Dn,JsonShapeDeserializer:()=>go,JsonShapeSerializer:()=>yo,XmlCodec:()=>So,XmlShapeDeserializer:()=>On,XmlShapeSerializer:()=>Eo,_toBool:()=>Sx,_toNum:()=>_x,_toStr:()=>Ex,awsExpectUnion:()=>kx,loadRestJsonErrorCode:()=>ho,loadRestXmlErrorCode:()=>Bu,parseJsonBody:()=>Bi,parseJsonErrorBody:()=>Ax,parseXmlBody:()=>gg,parseXmlErrorBody:()=>Kx});var _s=_(()=>{yx();bx();Px();Nx();vu();Ox();Ru();cg();lg();Mx();Fi();zx();hg();Yx();_g();ku();Sg();yg()});var kn={};We(kn,{AWSSDKSigV4Signer:()=>mh,AwsEc2QueryProtocol:()=>Uu,AwsJson1_0Protocol:()=>Du,AwsJson1_1Protocol:()=>Pu,AwsJsonRpcProtocol:()=>Pn,AwsQueryProtocol:()=>Ln,AwsRestJsonProtocol:()=>Nn,AwsRestXmlProtocol:()=>$u,AwsSdkSigV4ASigner:()=>Ni,AwsSdkSigV4Signer:()=>rt,AwsSmithyRpcV2CborProtocol:()=>xu,JsonCodec:()=>Dn,JsonShapeDeserializer:()=>go,JsonShapeSerializer:()=>yo,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Tn,NODE_SIGV4A_CONFIG_OPTIONS:()=>hI,XmlCodec:()=>So,XmlShapeDeserializer:()=>On,XmlShapeSerializer:()=>Eo,_toBool:()=>Sx,_toNum:()=>_x,_toStr:()=>Ex,awsExpectUnion:()=>kx,emitWarningIfUnsupportedVersion:()=>_n,getBearerTokenEnvKey:()=>uu,loadRestJsonErrorCode:()=>ho,loadRestXmlErrorCode:()=>Bu,parseJsonBody:()=>Bi,parseJsonErrorBody:()=>Ax,parseXmlBody:()=>gg,parseXmlErrorBody:()=>Kx,resolveAWSSDKSigV4Config:()=>GI,resolveAwsSdkSigV4AConfig:()=>fI,resolveAwsSdkSigV4Config:()=>zr,setCredentialFeature:()=>bn,setFeature:()=>Jw,setTokenFeature:()=>eI,state:()=>cu,validateSigningProperties:()=>io});var Ke=_(()=>{Lt();Nh();_s()});var bs=P(_o=>{"use strict";var t2=(gt(),se(no)),r2=gs(),n2=_e(),hr=(Ke(),se(kn)),Zx=void 0;function s2(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function o2(e){let t=t2.normalizeProvider(e.userAgentAppId??Zx),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{var s,o;let n=await t();if(!s2(n)){let i=((o=(s=e.logger)==null?void 0:s.constructor)==null?void 0:o.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):n.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}})}var i2=/\d{12}\.ddb/;async function a2(e,t,r){var o,i,a,c,u,l,d;let n=r.request;if(((o=n==null?void 0:n.headers)==null?void 0:o["smithy-protocol"])==="rpc-v2-cbor"&&hr.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let g=await t.retryStrategy();typeof g.acquireInitialRetryToken=="function"?(a=(i=g.constructor)==null?void 0:i.name)!=null&&a.includes("Adaptive")?hr.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):hr.setFeature(e,"RETRY_MODE_STANDARD","E"):hr.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let g=e.endpointV2;switch(String((c=g==null?void 0:g.url)==null?void 0:c.hostname).match(i2)&&hr.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await((u=t.accountIdEndpointMode)==null?void 0:u.call(t))){case"disabled":hr.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":hr.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":hr.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=(d=(l=e.__smithy_context)==null?void 0:l.selectedHttpAuthScheme)==null?void 0:d.identity;if(s!=null&&s.$source){let g=s;g.accountId&&hr.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[h,y]of Object.entries(g.$source??{}))hr.setFeature(e,h,y)}}var Qx="user-agent",Tg="x-amz-user-agent",Xx=" ",wg="/",c2=/[^!$%&'*+\-.^_`|~\w]/g,u2=/[^!$%&'*+\-.^_`|~\w#]/g,Jx="-",l2=1024;function d2(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=l2){t.length?t+=","+n:t+=n;continue}break}return t}var e0=e=>(t,r)=>async n=>{var y,S,w,C;let{request:s}=n;if(!n2.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,i=((y=r==null?void 0:r.userAgent)==null?void 0:y.map(Gu))||[],a=(await e.defaultUserAgentProvider()).map(Gu);await a2(r,e,n);let c=r;a.push(`m/${d2(Object.assign({},(S=r.__smithy_context)==null?void 0:S.features,(w=c.__aws_sdk_context)==null?void 0:w.features))}`);let u=((C=e==null?void 0:e.customUserAgent)==null?void 0:C.map(Gu))||[],l=await e.userAgentAppId();l&&a.push(Gu(["app",`${l}`]));let d=r2.getUserAgentPrefix(),g=(d?[d]:[]).concat([...a,...i,...u]).join(Xx),h=[...a.filter(R=>R.startsWith("aws-sdk-")),...u].join(Xx);return e.runtime!=="browser"?(h&&(o[Tg]=o[Tg]?`${o[Qx]} ${h}`:h),o[Qx]=g):o[Tg]=g,t({...n,request:s})},Gu=e=>{var i;let t=e[0].split(wg).map(a=>a.replace(c2,Jx)).join(wg),r=(i=e[1])==null?void 0:i.replace(u2,Jx),n=t.indexOf(wg),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(a=>a&&a.length>0).reduce((a,c,u)=>{switch(u){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},t0={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},p2=e=>({applyToStack:t=>{t.add(e0(e),t0)}});_o.DEFAULT_UA_APP_ID=Zx;_o.getUserAgentMiddlewareOptions=t0;_o.getUserAgentPlugin=p2;_o.resolveUserAgentConfig=o2;_o.userAgentMiddleware=e0});var r0=P(bo=>{"use strict";var m2=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},f2=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};bo.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(bo.SelectorType||(bo.SelectorType={}));bo.booleanSelector=m2;bo.numberSelector=f2});var bt=P(Ye=>{"use strict";var Mn=r0(),Hu=Ze(),h2=Sn(),o0="AWS_USE_DUALSTACK_ENDPOINT",i0="use_dualstack_endpoint",g2=!1,y2={environmentVariableSelector:e=>Mn.booleanSelector(e,o0,Mn.SelectorType.ENV),configFileSelector:e=>Mn.booleanSelector(e,i0,Mn.SelectorType.CONFIG),default:!1},a0="AWS_USE_FIPS_ENDPOINT",c0="use_fips_endpoint",E2=!1,S2={environmentVariableSelector:e=>Mn.booleanSelector(e,a0,Mn.SelectorType.ENV),configFileSelector:e=>Mn.booleanSelector(e,c0,Mn.SelectorType.CONFIG),default:!1},_2=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:Hu.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Hu.normalizeProvider(s??!1)})},b2=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},T2=e=>{let t=Hu.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?Hu.normalizeProvider(typeof r=="string"?s(r):r):()=>b2({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},u0="AWS_REGION",l0="region",w2={environmentVariableSelector:e=>e[u0],configFileSelector:e=>e[l0],default:()=>{throw new Error("Region is missing")}},I2={preferredFile:"credentials"},n0=new Set,x2=(e,t=h2.isValidHostLabel)=>{if(!n0.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else n0.add(e)},d0=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),C2=e=>d0(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,A2=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=C2(n);return x2(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return d0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},s0=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack")))==null?void 0:n.hostname},R2=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),v2=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",D2=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},P2=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{var h,y,S,w,C;let i=v2(e,{partitionHash:o}),a=e in s?e:((h=o[i])==null?void 0:h.endpoint)??e,c={useFipsEndpoint:t,useDualstackEndpoint:r},u=s0((y=s[a])==null?void 0:y.variants,c),l=s0((S=o[i])==null?void 0:S.variants,c),d=R2(a,{regionHostname:u,partitionHostname:l});if(d===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let g=D2(d,{signingRegion:(w=s[a])==null?void 0:w.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:d,...g&&{signingRegion:g},...((C=s[a])==null?void 0:C.signingService)&&{signingService:s[a].signingService}}};Ye.CONFIG_USE_DUALSTACK_ENDPOINT=i0;Ye.CONFIG_USE_FIPS_ENDPOINT=c0;Ye.DEFAULT_USE_DUALSTACK_ENDPOINT=g2;Ye.DEFAULT_USE_FIPS_ENDPOINT=E2;Ye.ENV_USE_DUALSTACK_ENDPOINT=o0;Ye.ENV_USE_FIPS_ENDPOINT=a0;Ye.NODE_REGION_CONFIG_FILE_OPTIONS=I2;Ye.NODE_REGION_CONFIG_OPTIONS=w2;Ye.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=y2;Ye.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=S2;Ye.REGION_ENV_NAME=u0;Ye.REGION_INI_NAME=l0;Ye.getRegionInfo=P2;Ye.resolveCustomEndpointsConfig=_2;Ye.resolveEndpointsConfig=T2;Ye.resolveRegionConfig=A2});var To=P(qu=>{"use strict";var N2=_e(),p0="content-length";function m0(e){return t=>async r=>{let n=r.request;if(N2.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(p0)===-1)try{let i=e(s);n.headers={...n.headers,[p0]:String(i)}}catch{}}return t({...r,request:n})}}var f0={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},O2=e=>({applyToStack:t=>{t.add(m0(e.bodyLengthChecker),f0)}});qu.contentLengthMiddleware=m0;qu.contentLengthMiddlewareOptions=f0;qu.getContentLengthPlugin=O2});var xg=P(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.getHomeDir=void 0;var L2=require("os"),k2=require("path"),Ig={},M2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",U2=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${k2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=M2();return Ig[s]||(Ig[s]=(0,L2.homedir)()),Ig[s]};ju.getHomeDir=U2});var Cg=P(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.getSSOTokenFilepath=void 0;var B2=require("crypto"),F2=require("path"),$2=xg(),G2=e=>{let r=(0,B2.createHash)("sha1").update(e).digest("hex");return(0,F2.join)((0,$2.getHomeDir)(),".aws","sso","cache",`${r}.json`)};zu.getSSOTokenFilepath=G2});var h0=P(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.getSSOTokenFromFile=Un.tokenIntercept=void 0;var H2=require("fs/promises"),q2=Cg();Un.tokenIntercept={};var j2=async e=>{if(Un.tokenIntercept[e])return Un.tokenIntercept[e];let t=(0,q2.getSSOTokenFilepath)(e),r=await(0,H2.readFile)(t,"utf8");return JSON.parse(r)};Un.getSSOTokenFromFile=j2});var g0=P(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.readFile=vt.fileIntercept=vt.filePromises=void 0;var z2=require("node:fs/promises");vt.filePromises={};vt.fileIntercept={};var V2=(e,t)=>vt.fileIntercept[e]!==void 0?vt.fileIntercept[e]:((!vt.filePromises[e]||t!=null&&t.ignoreCache)&&(vt.filePromises[e]=(0,z2.readFile)(e,"utf8")),vt.filePromises[e]);vt.readFile=V2});var gr=P(yt=>{"use strict";var $i=xg(),y0=Cg(),Ag=h0(),Vu=require("path"),Wu=pn(),wo=g0(),S0="AWS_PROFILE",_0="default",W2=e=>e.profile||process.env[S0]||_0,Ts=".",K2=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Ts);return r===-1?!1:Object.values(Wu.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Ts),o=r.substring(0,s)===Wu.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),Y2="AWS_CONFIG_FILE",b0=()=>process.env[Y2]||Vu.join($i.getHomeDir(),".aws","config"),Q2="AWS_SHARED_CREDENTIALS_FILE",X2=()=>process.env[Q2]||Vu.join($i.getHomeDir(),".aws","credentials"),J2=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,Z2=["__proto__","profile __proto__"],Rg=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=J2.exec(a);if(c){let[,u,,l]=c;Object.values(Wu.IniSectionType).includes(u)&&(r=[u,l].join(Ts))}else r=a;if(Z2.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,u]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(u==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let l=n?[n,c].join(Ts):c;t[r][l]=u}}}}return t},E0=()=>({}),T0=async(e={})=>{let{filepath:t=X2(),configFilepath:r=b0()}=e,n=$i.getHomeDir(),s="~/",o=t;t.startsWith(s)&&(o=Vu.join(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=Vu.join(n,r.slice(2)));let a=await Promise.all([wo.readFile(i,{ignoreCache:e.ignoreCache}).then(Rg).then(K2).catch(E0),wo.readFile(o,{ignoreCache:e.ignoreCache}).then(Rg).catch(E0)]);return{configFile:a[0],credentialsFile:a[1]}},eH=e=>Object.entries(e).filter(([t])=>t.startsWith(Wu.IniSectionType.SSO_SESSION+Ts)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Ts)+1)]:n}),{}),tH=()=>({}),rH=async(e={})=>wo.readFile(e.configFilepath??b0()).then(Rg).then(eH).catch(tH),nH=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},sH=async e=>{let t=await T0(e);return nH(t.configFile,t.credentialsFile)},oH={getFileRecord(){return wo.fileIntercept},interceptFile(e,t){wo.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Ag.tokenIntercept},interceptToken(e,t){Ag.tokenIntercept[e]=t}};Object.defineProperty(yt,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Ag.getSSOTokenFromFile}});Object.defineProperty(yt,"readFile",{enumerable:!0,get:function(){return wo.readFile}});yt.CONFIG_PREFIX_SEPARATOR=Ts;yt.DEFAULT_PROFILE=_0;yt.ENV_PROFILE=S0;yt.externalDataInterceptor=oH;yt.getProfileName=W2;yt.loadSharedConfigFiles=T0;yt.loadSsoSessionData=rH;yt.parseKnownFiles=sH;Object.keys($i).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(yt,e)&&Object.defineProperty(yt,e,{enumerable:!0,get:function(){return $i[e]}})});Object.keys(y0).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(yt,e)&&Object.defineProperty(yt,e,{enumerable:!0,get:function(){return y0[e]}})})});var yr=P(x0=>{"use strict";var Gi=nt(),w0=gr();function I0(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var iH=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Gi.CredentialsProviderError(r.message||`Not found in ENV: ${I0(e.toString())}`,{logger:t==null?void 0:t.logger})}},aH=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=w0.getProfileName(r),{configFile:s,credentialsFile:o}=await w0.loadSharedConfigFiles(r),i=o[n]||{},a=s[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let l=e(c,t==="config"?s:o);if(l===void 0)throw new Error;return l}catch(u){throw new Gi.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${I0(e.toString())}`,{logger:r.logger})}},cH=e=>typeof e=="function",uH=e=>cH(e)?async()=>await e():Gi.fromStatic(e),lH=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return Gi.memoize(Gi.chain(iH(e,i),aH(t,n),uH(r)))};x0.loadConfig=lH});var v0=P(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.getEndpointUrlConfig=void 0;var C0=gr(),A0="AWS_ENDPOINT_URL",R0="endpoint_url",dH=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[A0,...r].join("_")];if(n)return n;let s=t[A0];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(C0.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),R0].join(C0.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[R0];if(n)return n},default:void 0});Ku.getEndpointUrlConfig=dH});var D0=P(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.getEndpointFromConfig=void 0;var pH=yr(),mH=v0(),fH=async e=>(0,pH.loadConfig)((0,mH.getEndpointUrlConfig)(e??""))();Yu.getEndpointFromConfig=fH});var Er=P(Xr=>{"use strict";var N0=D0(),P0=qr(),hH=(gt(),se(no)),Qu=Ze(),gH=Um(),yH=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),TH(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!bH(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},EH=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,SH=/(\d+\.){3}\d+/,_H=/\.\./,bH=e=>EH.test(e)&&!SH.test(e)&&!_H.test(e),TH=e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},wH=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n},vg=e=>typeof e=="object"?"url"in e?P0.parseUrl(e.url):e:P0.parseUrl(e),O0=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await N0.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(vg(i)),r.isCustomEndpoint=!0)}let s=await L0(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},L0=async(e,t,r)=>{var o;let n={},s=((o=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:o.call(t))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await wH(a.name,i,r)();break;case"operationContextParams":n[i]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await yH(n),n},k0=({config:e,instructions:t})=>(r,n)=>async s=>{var a,c,u;e.isCustomEndpoint&&hH.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await O0(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let l=Qu.getSmithyContext(n),d=(u=l==null?void 0:l.selectedHttpAuthScheme)==null?void 0:u.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},M0={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:gH.serializerMiddlewareOption.name},IH=(e,t)=>({applyToStack:r=>{r.addRelativeTo(k0({config:e,instructions:t}),M0)}}),xH=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>vg(await Qu.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Qu.normalizeProvider(n??!1),useFipsEndpoint:Qu.normalizeProvider(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=N0.getEndpointFromConfig(e.serviceId)),c),a},CH=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Xr.endpointMiddleware=k0;Xr.endpointMiddlewareOptions=M0;Xr.getEndpointFromInstructions=O0;Xr.getEndpointPlugin=IH;Xr.resolveEndpointConfig=xH;Xr.resolveEndpointRequiredConfig=CH;Xr.resolveParams=L0;Xr.toEndpointV1=vg});var Pg=P(Bn=>{"use strict";var AH=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],RH=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],vH=["TimeoutError","RequestTimeout","RequestTimeoutException"],DH=[500,502,503,504],PH=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],NH=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],U0=e=>(e==null?void 0:e.$retryable)!==void 0,OH=e=>AH.includes(e.name),B0=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},F0=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},LH=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||RH.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},Dg=(e,t=0)=>{var r;return U0(e)||B0(e)||vH.includes(e.name)||PH.includes((e==null?void 0:e.code)||"")||NH.includes((e==null?void 0:e.code)||"")||DH.includes(((r=e.$metadata)==null?void 0:r.httpStatusCode)||0)||F0(e)||e.cause!==void 0&&t<=10&&Dg(e.cause,t+1)},kH=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Dg(e)}return!1};Bn.isBrowserNetworkError=F0;Bn.isClockSkewCorrectedError=B0;Bn.isClockSkewError=OH;Bn.isRetryableByTrait=U0;Bn.isServerError=kH;Bn.isThrottlingError=LH;Bn.isTransientError=Dg});var ws=P(Pe=>{"use strict";var MH=Pg();Pe.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Pe.RETRY_MODES||(Pe.RETRY_MODES={}));var Ng=3,UH=Pe.RETRY_MODES.STANDARD,Xu=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),MH.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Hi=100,Mg=20*1e3,G0=500,Og=500,H0=5,q0=10,j0=1,BH="amz-sdk-invocation-id",FH="amz-sdk-request",$H=()=>{let e=Hi;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Mg,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},$0=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Mg,e),getRetryCost:()=>r}),qi=class{maxAttempts;mode=Pe.RETRY_MODES.STANDARD;capacity=Og;retryBackoffStrategy=$H();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return $0({retryDelay:Hi,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?G0:Hi);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,$0({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Og,this.capacity+(t.getRetryCost()??j0))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Ng}`),Ng}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?q0:H0}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Lg=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Pe.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Xu,this.standardRetryStrategy=new qi(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},kg=class extends qi{computeNextBackoffDelay;constructor(t,r=Hi){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Pe.AdaptiveRetryStrategy=Lg;Pe.ConfiguredRetryStrategy=kg;Pe.DEFAULT_MAX_ATTEMPTS=Ng;Pe.DEFAULT_RETRY_DELAY_BASE=Hi;Pe.DEFAULT_RETRY_MODE=UH;Pe.DefaultRateLimiter=Xu;Pe.INITIAL_RETRY_TOKENS=Og;Pe.INVOCATION_ID_HEADER=BH;Pe.MAXIMUM_RETRY_DELAY=Mg;Pe.NO_RETRY_INCREMENT=j0;Pe.REQUEST_HEADER=FH;Pe.RETRY_COST=H0;Pe.StandardRetryStrategy=qi;Pe.THROTTLING_RETRY_DELAY_BASE=G0;Pe.TIMEOUT_RETRY_COST=q0});var z0=P(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.isStreamingPayload=void 0;var GH=require("stream"),HH=e=>(e==null?void 0:e.body)instanceof GH.Readable||typeof ReadableStream<"u"&&(e==null?void 0:e.body)instanceof ReadableStream;Ju.isStreamingPayload=HH});var Jt=P(qe=>{"use strict";var De=ws(),Io=_e(),Fn=Pg(),W0=kf(),V0=Ze(),qH=Y(),jH=z0(),zH=(e,t)=>{let r=e,n=De.NO_RETRY_INCREMENT,s=De.RETRY_COST,o=De.TIMEOUT_RETRY_COST,i=e,a=d=>d.name==="TimeoutError"?o:s,c=d=>a(d)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:d=>{if(!c(d))throw new Error("No retry token available");let g=a(d);return i-=g,g},releaseRetryTokens:d=>{i+=d??n,i=Math.min(i,r)}})},K0=(e,t)=>Math.floor(Math.min(De.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),Y0=e=>e?Fn.isRetryableByTrait(e)||Fn.isClockSkewError(e)||Fn.isThrottlingError(e)||Fn.isTransientError(e):!1,Q0=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Zu=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=De.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=(r==null?void 0:r.retryDecider)??Y0,this.delayDecider=(r==null?void 0:r.delayDecider)??K0,this.retryQuota=(r==null?void 0:r.retryQuota)??zH(De.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=De.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Io.HttpRequest.isInstance(c)&&(c.headers[De.INVOCATION_ID_HEADER]=W0.v4());;)try{Io.HttpRequest.isInstance(c)&&(c.headers[De.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n!=null&&n.beforeRequest&&await n.beforeRequest();let{response:u,output:l}=await t(r);return n!=null&&n.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(s),l.$metadata.attempts=o+1,l.$metadata.totalRetryDelay=i,{response:u,output:l}}catch(u){let l=Q0(u);if(o++,this.shouldRetry(l,o,a)){s=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider(Fn.isThrottlingError(l)?De.THROTTLING_RETRY_DELAY_BASE:De.DEFAULT_RETRY_DELAY_BASE,o),g=VH(l.$response),h=Math.max(g||0,d);i+=h,await new Promise(y=>setTimeout(y,h));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=o,l.$metadata.totalRetryDelay=i,l}}},VH=e=>{if(!Io.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Ug=class extends Zu{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new De.DefaultRateLimiter,this.mode=De.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Bg="AWS_MAX_ATTEMPTS",Fg="max_attempts",WH={environmentVariableSelector:e=>{let t=e[Bg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Bg} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Fg];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Fg} mast be a number, got "${t}"`);return r},default:De.DEFAULT_MAX_ATTEMPTS},KH=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=V0.normalizeProvider(n??De.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await V0.normalizeProvider(r)()===De.RETRY_MODES.ADAPTIVE?new De.AdaptiveRetryStrategy(s):new De.StandardRetryStrategy(s))})},X0="AWS_RETRY_MODE",J0="retry_mode",YH={environmentVariableSelector:e=>e[X0],configFileSelector:e=>e[J0],default:De.DEFAULT_RETRY_MODE},Z0=()=>e=>async t=>{let{request:r}=t;return Io.HttpRequest.isInstance(r)&&(delete r.headers[De.INVOCATION_ID_HEADER],delete r.headers[De.REQUEST_HEADER]),e(t)},eC={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},QH=e=>({applyToStack:t=>{t.addRelativeTo(Z0(),eC)}}),tC=e=>(t,r)=>async n=>{var i;let s=await e.retryStrategy(),o=await e.maxAttempts();if(XH(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),c=new Error,u=0,l=0,{request:d}=n,g=Io.HttpRequest.isInstance(d);for(g&&(d.headers[De.INVOCATION_ID_HEADER]=W0.v4());;)try{g&&(d.headers[De.REQUEST_HEADER]=`attempt=${u+1}; max=${o}`);let{response:h,output:y}=await t(n);return s.recordSuccess(a),y.$metadata.attempts=u+1,y.$metadata.totalRetryDelay=l,{response:h,output:y}}catch(h){let y=JH(h);if(c=Q0(h),g&&jH.isStreamingPayload(d))throw(i=r.logger instanceof qH.NoOpLogger?console:r.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,y)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=u+1,c.$metadata.totalRetryDelay=l,c}u=a.getRetryCount();let S=a.getRetryDelay();l+=S,await new Promise(w=>setTimeout(w,S))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},XH=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",JH=e=>{let t={error:e,errorType:ZH(e)},r=nC(e.$response);return r&&(t.retryAfterHint=r),t},ZH=e=>Fn.isThrottlingError(e)?"THROTTLING":Fn.isTransientError(e)?"TRANSIENT":Fn.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",rC={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},e3=e=>({applyToStack:t=>{t.add(tC(e),rC)}}),nC=e=>{if(!Io.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};qe.AdaptiveRetryStrategy=Ug;qe.CONFIG_MAX_ATTEMPTS=Fg;qe.CONFIG_RETRY_MODE=J0;qe.ENV_MAX_ATTEMPTS=Bg;qe.ENV_RETRY_MODE=X0;qe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=WH;qe.NODE_RETRY_MODE_CONFIG_OPTIONS=YH;qe.StandardRetryStrategy=Zu;qe.defaultDelayDecider=K0;qe.defaultRetryDecider=Y0;qe.getOmitRetryHeadersPlugin=QH;qe.getRetryAfterHint=nC;qe.getRetryPlugin=e3;qe.omitRetryHeadersMiddleware=Z0;qe.omitRetryHeadersMiddlewareOptions=eC;qe.resolveRetryConfig=KH;qe.retryMiddleware=tC;qe.retryMiddlewareOptions=rC});var Gg=P($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.resolveHttpAuthSchemeConfig=$n.defaultDynamoDBHttpAuthSchemeProvider=$n.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var t3=(Ke(),se(kn)),$g=Ze(),r3=async(e,t,r)=>({operation:(0,$g.getSmithyContext)(t).operation,region:await(0,$g.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});$n.defaultDynamoDBHttpAuthSchemeParametersProvider=r3;function n3(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var s3=e=>{let t=[];switch(e.operation){default:t.push(n3(e))}return t};$n.defaultDynamoDBHttpAuthSchemeProvider=s3;var o3=e=>{let t=(0,t3.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,$g.normalizeProvider)(e.authSchemePreference??[])})};$n.resolveHttpAuthSchemeConfig=o3});var sC=P((Mme,i3)=>{i3.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.948.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.947.0","@aws-sdk/credential-provider-node":"3.948.0","@aws-sdk/dynamodb-codec":"3.947.0","@aws-sdk/middleware-endpoint-discovery":"3.936.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.948.0","@aws-sdk/middleware-user-agent":"3.947.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.947.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.7","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.14","@smithy/middleware-retry":"^4.4.14","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.10","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.13","@smithy/util-defaults-mode-node":"^4.2.16","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.5",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Hg=P(Gn=>{"use strict";var a3=(Lt(),se(jr)),c3=nt(),oC="AWS_ACCESS_KEY_ID",iC="AWS_SECRET_ACCESS_KEY",aC="AWS_SESSION_TOKEN",cC="AWS_CREDENTIAL_EXPIRATION",uC="AWS_CREDENTIAL_SCOPE",lC="AWS_ACCOUNT_ID",u3=e=>async()=>{var a;(a=e==null?void 0:e.logger)==null||a.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[oC],r=process.env[iC],n=process.env[aC],s=process.env[cC],o=process.env[uC],i=process.env[lC];if(t&&r){let c={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return a3.setCredentialFeature(c,"CREDENTIALS_ENV_VARS","g"),c}throw new c3.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e==null?void 0:e.logger})};Gn.ENV_ACCOUNT_ID=lC;Gn.ENV_CREDENTIAL_SCOPE=uC;Gn.ENV_EXPIRATION=cC;Gn.ENV_KEY=oC;Gn.ENV_SECRET=iC;Gn.ENV_SESSION=aC;Gn.fromEnv=u3});var zi=P(ot=>{"use strict";var Sr=nt(),l3=require("url"),d3=require("buffer"),p3=require("http"),Wg=yr(),m3=qr();function ji(e){return new Promise((t,r)=>{var s;let n=p3.request({method:"GET",...e,hostname:(s=e.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Sr.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Sr.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(r(Object.assign(new Sr.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];o.on("data",c=>{a.push(c)}),o.on("end",()=>{t(d3.Buffer.concat(a)),n.destroy()})}),n.end()})}var fC=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",hC=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),gC=1e3,yC=0,Kg=({maxRetries:e=yC,timeout:t=gC})=>({maxRetries:e,timeout:t}),jg=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},el="AWS_CONTAINER_CREDENTIALS_FULL_URI",tl="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",zg="AWS_CONTAINER_AUTHORIZATION_TOKEN",f3=(e={})=>{let{timeout:t,maxRetries:r}=Kg(e);return()=>jg(async()=>{let n=await S3({logger:e.logger}),s=JSON.parse(await h3(t,n));if(!fC(s))throw new Sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return hC(s)},r)},h3=async(e,t)=>(process.env[zg]&&(t.headers={...t.headers,Authorization:process.env[zg]}),(await ji({...t,timeout:e})).toString()),g3="169.254.170.2",y3={localhost:!0,"127.0.0.1":!0},E3={"http:":!0,"https:":!0},S3=async({logger:e})=>{if(process.env[tl])return{hostname:g3,path:process.env[tl]};if(process.env[el]){let t=l3.parse(process.env[el]);if(!t.hostname||!(t.hostname in y3))throw new Sr.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in E3))throw new Sr.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Sr.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${tl} or ${el} environment variable is set`,{tryNextLink:!1,logger:e})},Vg=class e extends Sr.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};ot.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(ot.Endpoint||(ot.Endpoint={}));var _3="AWS_EC2_METADATA_SERVICE_ENDPOINT",b3="ec2_metadata_service_endpoint",T3={environmentVariableSelector:e=>e[_3],configFileSelector:e=>e[b3],default:void 0},xo;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(xo||(xo={}));var w3="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",I3="ec2_metadata_service_endpoint_mode",x3={environmentVariableSelector:e=>e[w3],configFileSelector:e=>e[I3],default:xo.IPv4},EC=async()=>m3.parseUrl(await C3()||await A3()),C3=async()=>Wg.loadConfig(T3)(),A3=async()=>{let e=await Wg.loadConfig(x3)();switch(e){case xo.IPv4:return ot.Endpoint.IPv4;case xo.IPv6:return ot.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(xo)}`)}},R3=300,v3=300,D3="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",dC=(e,t)=>{let r=R3+Math.floor(Math.random()*v3),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+D3);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},P3=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=dC(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=dC(n,r);else throw o}return n=s,s}},SC="/latest/meta-data/iam/security-credentials/",N3="/latest/api/token",qg="AWS_EC2_METADATA_V1_DISABLED",pC="ec2_metadata_v1_disabled",mC="x-aws-ec2-metadata-token",O3=(e={})=>P3(L3(e),{logger:e.logger}),L3=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=Kg(e),i=async(a,c)=>{var d;if(t||((d=c.headers)==null?void 0:d[mC])==null){let g=!1,h=!1,y=await Wg.loadConfig({environmentVariableSelector:S=>{let w=S[qg];if(h=!!w&&w!=="false",w===void 0)throw new Sr.CredentialsProviderError(`${qg} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:S=>{let w=S[pC];return g=!!w&&w!=="false",g},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||y){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),g&&S.push(`config file profile (${pC})`),h&&S.push(`process environment variable (${qg})`),new Vg(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let l=(await jg(async()=>{let g;try{g=await M3(c)}catch(h){throw h.statusCode===401&&(t=!1),h}return g},a)).trim();return jg(async()=>{let g;try{g=await U3(l,c,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return g},a)};return async()=>{let a=await EC();if(t)return r==null||r.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let c;try{c=(await k3({...a,timeout:s})).toString()}catch(u){if((u==null?void 0:u.statusCode)===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(t=!0),r==null||r.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[mC]:c},timeout:s})}}},k3=async e=>ji({...e,path:N3,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),M3=async e=>(await ji({...e,path:SC})).toString(),U3=async(e,t,r)=>{let n=JSON.parse((await ji({...t,path:SC+e})).toString());if(!fC(n))throw new Sr.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return hC(n)};ot.DEFAULT_MAX_RETRIES=yC;ot.DEFAULT_TIMEOUT=gC;ot.ENV_CMDS_AUTH_TOKEN=zg;ot.ENV_CMDS_FULL_URI=el;ot.ENV_CMDS_RELATIVE_URI=tl;ot.fromContainerMetadata=f3;ot.fromInstanceMetadata=O3;ot.getInstanceMetadataEndpoint=EC;ot.httpRequest=ji;ot.providerConfigFromInit=Kg});var _C=P(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.checkUrl=void 0;var B3=nt(),F3="169.254.170.2",$3="169.254.170.23",G3="[fd00:ec2::23]",H3=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===F3||e.hostname===$3||e.hostname===G3)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new B3.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};rl.checkUrl=H3});var bC=P(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.createGetRequest=V3;nl.getCredentials=W3;var Yg=nt(),q3=_e(),j3=Y(),z3=Bc();function V3(e){return new q3.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function W3(e,t){let n=await(0,z3.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Yg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,j3.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Yg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Yg.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var TC=P(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.retryWrapper=void 0;var K3=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};sl.retryWrapper=K3});var xC=P(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.fromHttp=void 0;var Y3=(Ai(),se(Ci)),Q3=(Lt(),se(jr)),X3=gn(),wC=nt(),J3=Y3.__importDefault(require("fs/promises")),Z3=_C(),IC=bC(),eq=TC(),tq="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",rq="http://169.254.170.2",nq="AWS_CONTAINER_CREDENTIALS_FULL_URI",sq="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",oq="AWS_CONTAINER_AUTHORIZATION_TOKEN",iq=(e={})=>{var u,l,d,g;(u=e.logger)==null||u.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[tq],n=e.awsContainerCredentialsFullUri??process.env[nq],s=e.awsContainerAuthorizationToken??process.env[oq],o=e.awsContainerAuthorizationTokenFile??process.env[sq],i=((d=(l=e.logger)==null?void 0:l.constructor)==null?void 0:d.name)==="NoOpLogger"||!((g=e.logger)!=null&&g.warn)?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${rq}${r}`;else throw new wC.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,Z3.checkUrl)(a,e.logger);let c=X3.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,eq.retryWrapper)(async()=>{let h=(0,IC.createGetRequest)(a);s?h.headers.Authorization=s:o&&(h.headers.Authorization=(await J3.default.readFile(o)).toString());try{let y=await c.handle(h);return(0,IC.getCredentials)(y.response).then(S=>(0,Q3.setCredentialFeature)(S,"CREDENTIALS_HTTP","z"))}catch(y){throw new wC.CredentialsProviderError(String(y),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};ol.fromHttp=iq});var Qg=P(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.fromHttp=void 0;var aq=xC();Object.defineProperty(il,"fromHttp",{enumerable:!0,get:function(){return aq.fromHttp}})});function cq(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function uq(e){return{schemeId:"smithy.api#noAuth"}}var Vi,CC,AC,RC,Xg=_(()=>{Ke();Vi=T(Ze()),CC=async(e,t,r)=>({operation:(0,Vi.getSmithyContext)(t).operation,region:await(0,Vi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});AC=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(uq(e));break}default:t.push(cq(e))}return t},RC=e=>{let t=zr(e);return Object.assign(t,{authSchemePreference:(0,Vi.normalizeProvider)(e.authSchemePreference??[])})}});var vC,DC,Jg=_(()=>{vC=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),DC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Co,al=_(()=>{Co={name:"@aws-sdk/nested-clients",version:"3.948.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.947.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.948.0","@aws-sdk/middleware-user-agent":"3.947.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.947.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.7","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.14","@smithy/middleware-retry":"^4.4.14","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.10","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.13","@smithy/util-defaults-mode-node":"^4.2.16","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Ao=P(Is=>{"use strict";var PC=require("os"),Zg=require("process"),dq=bs(),NC={isCrtAvailable:!1},pq=()=>NC.isCrtAvailable?["md/crt-avail"]:null,OC=({serviceId:e,clientVersion:t})=>async r=>{var a;let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${PC.platform()}`,PC.release()],["lang/js"],["md/nodejs",`${Zg.versions.node}`]],s=pq();s&&n.push(s),e&&n.push([`api/${e}`,t]),Zg.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Zg.env.AWS_EXECUTION_ENV}`]);let o=await((a=r==null?void 0:r.userAgentAppId)==null?void 0:a.call(r));return o?[...n,[`app/${o}`]]:[...n]},mq=OC,LC="AWS_SDK_UA_APP_ID",kC="sdk_ua_app_id",fq="sdk-ua-app-id",hq={environmentVariableSelector:e=>e[LC],configFileSelector:e=>e[kC]??e[fq],default:dq.DEFAULT_UA_APP_ID};Is.NODE_APP_ID_CONFIG_OPTIONS=hq;Is.UA_APP_ID_ENV_NAME=LC;Is.UA_APP_ID_INI_NAME=kC;Is.createDefaultUserAgentProvider=OC;Is.crtAvailability=NC;Is.defaultUserAgent=mq});var Ro=P(BC=>{"use strict";var ey=Ks(),gq=Fe(),yq=require("buffer"),MC=require("crypto"),ty=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(gq.toUint8Array(UC(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?MC.createHmac(this.algorithmIdentifier,UC(this.secret)):MC.createHash(this.algorithmIdentifier)}};function UC(e,t){return yq.Buffer.isBuffer(e)?e:typeof e=="string"?ey.fromString(e,t):ArrayBuffer.isView(e)?ey.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):ey.fromArrayBuffer(e)}BC.Hash=ty});var vo=P(FC=>{"use strict";var ry=require("node:fs"),Eq=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof ry.ReadStream){if(e.path!=null)return ry.lstatSync(e.path).size;if(typeof e.fd=="number")return ry.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};FC.calculateBodyLength=Eq});var Do=P(qC=>{"use strict";var Sq=bt(),$C=yr(),_q=nt(),bq="AWS_EXECUTION_ENV",GC="AWS_REGION",HC="AWS_DEFAULT_REGION",Tq="AWS_EC2_METADATA_DISABLED",wq=["in-region","cross-region","mobile","standard","legacy"],Iq="/latest/meta-data/placement/region",xq="AWS_DEFAULTS_MODE",Cq="defaults_mode",Aq={environmentVariableSelector:e=>e[xq],configFileSelector:e=>e[Cq],default:"legacy"},Rq=({region:e=$C.loadConfig(Sq.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=$C.loadConfig(Aq)}={})=>_q.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return vq(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${wq.join(", ")}, got ${r}`)}}),vq=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Dq();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},Dq=async()=>{if(process.env[bq]&&(process.env[GC]||process.env[HC]))return process.env[GC]??process.env[HC];if(!process.env[Tq])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>T(zi())),r=await e();return(await t({...r,path:Iq})).toString()}catch{}};qC.resolveDefaultsModeConfig=Rq});var ZC,Bt,jC,Wi,Po,No,Jr,ny,sy,zC,VC,WC,eA,tA,Ut,KC,rA,YC,QC,XC,JC,Pq,nA,sA=_(()=>{ZC="required",Bt="argv",jC="isSet",Wi="booleanEquals",Po="error",No="endpoint",Jr="tree",ny="PartitionResult",sy="getAttr",zC={[ZC]:!1,type:"string"},VC={[ZC]:!0,default:!1,type:"boolean"},WC={ref:"Endpoint"},eA={fn:Wi,[Bt]:[{ref:"UseFIPS"},!0]},tA={fn:Wi,[Bt]:[{ref:"UseDualStack"},!0]},Ut={},KC={fn:sy,[Bt]:[{ref:ny},"supportsFIPS"]},rA={ref:ny},YC={fn:Wi,[Bt]:[!0,{fn:sy,[Bt]:[rA,"supportsDualStack"]}]},QC=[eA],XC=[tA],JC=[{ref:"Region"}],Pq={version:"1.0",parameters:{Region:zC,UseDualStack:VC,UseFIPS:VC,Endpoint:zC},rules:[{conditions:[{fn:jC,[Bt]:[WC]}],rules:[{conditions:QC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Po},{conditions:XC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Po},{endpoint:{url:WC,properties:Ut,headers:Ut},type:No}],type:Jr},{conditions:[{fn:jC,[Bt]:JC}],rules:[{conditions:[{fn:"aws.partition",[Bt]:JC,assign:ny}],rules:[{conditions:[eA,tA],rules:[{conditions:[{fn:Wi,[Bt]:[!0,KC]},YC],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},type:No}],type:Jr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Po}],type:Jr},{conditions:QC,rules:[{conditions:[{fn:Wi,[Bt]:[KC,!0]}],rules:[{conditions:[{fn:"stringEquals",[Bt]:[{fn:sy,[Bt]:[rA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Ut,headers:Ut},type:No},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ut,headers:Ut},type:No}],type:Jr},{error:"FIPS is enabled but this partition does not support FIPS",type:Po}],type:Jr},{conditions:XC,rules:[{conditions:[YC],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},type:No}],type:Jr},{error:"DualStack is enabled but this partition does not support DualStack",type:Po}],type:Jr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Ut,headers:Ut},type:No}],type:Jr}],type:Jr},{error:"Invalid Configuration: Missing Region",type:Po}]},nA=Pq});var oA,Oo,Nq,iA,aA=_(()=>{oA=T(gs()),Oo=T(Sn());sA();Nq=new Oo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),iA=(e,t={})=>Nq.get(e,()=>(0,Oo.resolveEndpoint)(nA,{endpointParams:e,logger:t.logger}));Oo.customEndpointFunctions.aws=oA.awsEndpointFunctions});var cA,uA,cl,ul,lA,dA=_(()=>{Ke();_s();gt();cA=T(Y()),uA=T(qr()),cl=T(Re()),ul=T(Fe());Xg();aA();lA=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??cl.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??cl.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??iA,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??AC,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:(e==null?void 0:e.logger)??new cA.NoOpLogger,protocol:(e==null?void 0:e.protocol)??new Nn({defaultNamespace:"com.amazonaws.ssooidc"}),serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??uA.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ul.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ul.toUtf8})});var ll,qn,pA,dl,Hn,pl,ml,mA,fA,hA,gA,yA=_(()=>{al();Ke();ll=T(Ao()),qn=T(bt()),pA=T(Ro()),dl=T(Jt()),Hn=T(yr()),pl=T(gn()),ml=T(Y()),mA=T(vo()),fA=T(Do()),hA=T(ws());dA();gA=e=>{(0,ml.emitWarningIfUnsupportedVersion)(process.version);let t=(0,fA.resolveDefaultsModeConfig)(e),r=()=>t().then(ml.loadConfigsForDefaultMode),n=lA(e);_n(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Hn.loadConfig)(Tn,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mA.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,ll.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Co.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Hn.loadConfig)(dl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Hn.loadConfig)(qn.NODE_REGION_CONFIG_OPTIONS,{...qn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:pl.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Hn.loadConfig)({...dl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hA.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??pA.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??pl.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Hn.loadConfig)(qn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Hn.loadConfig)(qn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Hn.loadConfig)(ll.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var SA=P(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.warning=void 0;Lo.stsRegionDefaultResolver=Lq;var EA=bt(),Oq=yr();function Lq(e={}){return(0,Oq.loadConfig)({...EA.NODE_REGION_CONFIG_OPTIONS,async default(){return Lo.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...EA.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Lo.warning={silence:!1}});var xs=P(_r=>{"use strict";var Ki=bt(),_A=SA(),kq=e=>({setRegion(t){e.region=t},region(){return e.region}}),Mq=e=>({region:e.region()});Object.defineProperty(_r,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Ki.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(_r,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Ki.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(_r,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Ki.REGION_ENV_NAME}});Object.defineProperty(_r,"REGION_INI_NAME",{enumerable:!0,get:function(){return Ki.REGION_INI_NAME}});Object.defineProperty(_r,"resolveRegionConfig",{enumerable:!0,get:function(){return Ki.resolveRegionConfig}});_r.getAwsRegionExtensionConfiguration=kq;_r.resolveAwsRegionExtensionConfiguration=Mq;Object.keys(_A).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(_r,e)&&Object.defineProperty(_r,e,{enumerable:!0,get:function(){return _A[e]}})})});var bA,TA,wA=_(()=>{bA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},TA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var fl,hl,gl,IA,xA=_(()=>{fl=T(xs()),hl=T(_e()),gl=T(Y());wA();IA=(e,t)=>{let r=Object.assign((0,fl.getAwsRegionExtensionConfiguration)(e),(0,gl.getDefaultExtensionConfiguration)(e),(0,hl.getHttpHandlerExtensionConfiguration)(e),bA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,fl.resolveAwsRegionExtensionConfiguration)(r),(0,gl.resolveDefaultRuntimeConfig)(r),(0,hl.resolveHttpHandlerRuntimeConfig)(r),TA(r))}});var yl,CA,AA,El,RA,vA,DA,Sl,oy,Yi,iy=_(()=>{yl=T(js()),CA=T(zs()),AA=T(Vs()),El=T(bs()),RA=T(bt());gt();Z();vA=T(To()),DA=T(Er()),Sl=T(Jt()),oy=T(Y());Xg();Jg();yA();xA();Yi=class extends oy.Client{config;constructor(...[t]){let r=gA(t||{});super(r),this.initConfig=r;let n=vC(r),s=(0,El.resolveUserAgentConfig)(n),o=(0,Sl.resolveRetryConfig)(s),i=(0,RA.resolveRegionConfig)(o),a=(0,yl.resolveHostHeaderConfig)(i),c=(0,DA.resolveEndpointConfig)(a),u=RC(c),l=IA(u,(t==null?void 0:t.extensions)||[]);this.config=l,this.middlewareStack.use(ds(this.config)),this.middlewareStack.use((0,El.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Sl.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yl.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,CA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,AA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(us(this.config,{httpAuthSchemeParametersProvider:CC,identityProviderConfigProvider:async d=>new Hr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(ls(this.config))}destroy(){super.destroy()}}});var PA,Ve,_l=_(()=>{PA=T(Y()),Ve=class e extends PA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Qi,Xi,Ji,Zi,ea,ta,ra,na,sa,oa,ia,ay=_(()=>{_l();Qi=class e extends Ve{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Xi=class e extends Ve{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ji=class e extends Ve{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Zi=class e extends Ve{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ea=class e extends Ve{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ta=class e extends Ve{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ra=class e extends Ve{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},na=class e extends Ve{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},sa=class e extends Ve{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},oa=class e extends Ve{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ia=class e extends Ve{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var Uq,Bq,Fq,$q,Gq,Hq,qq,jq,zq,Vq,Wq,Kq,Yq,Qq,Xq,Jq,Zq,ej,tj,rj,br,nj,sj,oj,ij,aj,Ne,cj,Zt,uj,lj,er,dj,NA,OA,pj,mj,fj,LA,hj,ye,gj,yj,Ej,Sj,kA,_j,bj,Tj,wj,Ij,xj,Cj,Aj,Rj,vj,Dj,Pj,Nj,Oj,MA,UA=_(()=>{Z();ay();_l();Uq="AccessDeniedException",Bq="AuthorizationPendingException",Fq="AccessToken",$q="ClientSecret",Gq="CreateToken",Hq="CreateTokenRequest",qq="CreateTokenResponse",jq="CodeVerifier",zq="ExpiredTokenException",Vq="InvalidClientException",Wq="InvalidGrantException",Kq="InvalidRequestException",Yq="InternalServerException",Qq="InvalidScopeException",Xq="IdToken",Jq="RefreshToken",Zq="SlowDownException",ej="UnauthorizedClientException",tj="UnsupportedGrantTypeException",rj="accessToken",br="client",nj="clientId",sj="clientSecret",oj="codeVerifier",ij="code",aj="deviceCode",Ne="error",cj="expiresIn",Zt="error_description",uj="grantType",lj="http",er="httpError",dj="idToken",NA="reason",OA="refreshToken",pj="redirectUri",mj="scope",fj="server",LA="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",hj="tokenType",ye="com.amazonaws.ssooidc",gj=[0,ye,Fq,8,0],yj=[0,ye,$q,8,0],Ej=[0,ye,jq,8,0],Sj=[0,ye,Xq,8,0],kA=[0,ye,Jq,8,0],_j=[-3,ye,Uq,{[Ne]:br,[er]:400},[Ne,NA,Zt],[0,0,0]];F.for(ye).registerError(_j,Qi);bj=[-3,ye,Bq,{[Ne]:br,[er]:400},[Ne,Zt],[0,0]];F.for(ye).registerError(bj,Xi);Tj=[3,ye,Hq,0,[nj,sj,uj,aj,ij,OA,mj,pj,oj],[0,[()=>yj,0],0,0,0,[()=>kA,0],64,0,[()=>Ej,0]]],wj=[3,ye,qq,0,[rj,hj,cj,OA,dj],[[()=>gj,0],0,1,[()=>kA,0],[()=>Sj,0]]],Ij=[-3,ye,zq,{[Ne]:br,[er]:400},[Ne,Zt],[0,0]];F.for(ye).registerError(Ij,Ji);xj=[-3,ye,Yq,{[Ne]:fj,[er]:500},[Ne,Zt],[0,0]];F.for(ye).registerError(xj,Zi);Cj=[-3,ye,Vq,{[Ne]:br,[er]:401},[Ne,Zt],[0,0]];F.for(ye).registerError(Cj,ea);Aj=[-3,ye,Wq,{[Ne]:br,[er]:400},[Ne,Zt],[0,0]];F.for(ye).registerError(Aj,ta);Rj=[-3,ye,Kq,{[Ne]:br,[er]:400},[Ne,NA,Zt],[0,0,0]];F.for(ye).registerError(Rj,ra);vj=[-3,ye,Qq,{[Ne]:br,[er]:400},[Ne,Zt],[0,0]];F.for(ye).registerError(vj,na);Dj=[-3,ye,Zq,{[Ne]:br,[er]:400},[Ne,Zt],[0,0]];F.for(ye).registerError(Dj,sa);Pj=[-3,ye,ej,{[Ne]:br,[er]:400},[Ne,Zt],[0,0]];F.for(ye).registerError(Pj,oa);Nj=[-3,ye,tj,{[Ne]:br,[er]:400},[Ne,Zt],[0,0]];F.for(ye).registerError(Nj,ia);Oj=[-3,LA,"SSOOIDCServiceException",0,[],[]];F.for(LA).registerError(Oj,Ve);MA=[9,ye,Gq,{[lj]:["POST","/token",200]},()=>Tj,()=>wj]});var BA,cy,aa,uy=_(()=>{BA=T(Er()),cy=T(Y());Jg();UA();aa=class extends cy.Command.classBuilder().ep(DC).m(function(t,r,n,s){return[(0,BA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(MA).build(){}});var FA,Lj,bl,$A=_(()=>{FA=T(Y());uy();iy();Lj={CreateTokenCommand:aa},bl=class extends Yi{};(0,FA.createAggregatedClient)(Lj,bl)});var GA=_(()=>{uy()});var kj,Mj,HA=_(()=>{kj={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Mj={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var ly={};We(ly,{$Command:()=>cy.Command,AccessDeniedException:()=>Qi,AccessDeniedExceptionReason:()=>kj,AuthorizationPendingException:()=>Xi,CreateTokenCommand:()=>aa,ExpiredTokenException:()=>Ji,InternalServerException:()=>Zi,InvalidClientException:()=>ea,InvalidGrantException:()=>ta,InvalidRequestException:()=>ra,InvalidRequestExceptionReason:()=>Mj,InvalidScopeException:()=>na,SSOOIDC:()=>bl,SSOOIDCClient:()=>Yi,SSOOIDCServiceException:()=>Ve,SlowDownException:()=>sa,UnauthorizedClientException:()=>oa,UnsupportedGrantTypeException:()=>ia,__Client:()=>oy.Client});var dy=_(()=>{iy();$A();GA();HA();ay();_l()});var VA=P(ua=>{"use strict";var Uj=(Lt(),se(jr)),Bj=(Nh(),se(jI)),Dt=nt(),ca=gr(),Fj=require("fs"),$j=({logger:e,signingName:t}={})=>async()=>{var s;if((s=e==null?void 0:e.debug)==null||s.call(e,"@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new Dt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=Bj.getBearerTokenEnvKey(t);if(!(r in process.env))throw new Dt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return Uj.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},Gj=300*1e3,py="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Hj=async(e,t={})=>{var o;let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(dy(),ly)),n=i=>{var a,c;return((a=t.clientConfig)==null?void 0:a[i])??((c=t.parentClientConfig)==null?void 0:c[i])};return new r(Object.assign({},t.clientConfig??{},{region:e??((o=t.clientConfig)==null?void 0:o.region),logger:n("logger"),userAgentAppId:n("userAgentAppId")}))},qj=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(dy(),ly));return(await Hj(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},qA=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new Dt.TokenProviderError(`Token is expired. ${py}`,!1)},Cs=(e,t,r=!1)=>{if(typeof t>"u")throw new Dt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${py}`,!1)},{writeFile:jj}=Fj.promises,zj=(e,t)=>{let r=ca.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return jj(r,n)},jA=new Date(0),zA=(e={})=>async({callerClientConfig:t}={})=>{var y;let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};(y=r.logger)==null||y.debug("@aws-sdk/token-providers - fromSso");let n=await ca.parseKnownFiles(r),s=ca.getProfileName({profile:r.profile??(t==null?void 0:t.profile)}),o=n[s];if(o){if(!o.sso_session)throw new Dt.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new Dt.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,c=(await ca.loadSsoSessionData(r))[i];if(!c)throw new Dt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!c[S])throw new Dt.TokenProviderError(`Sso session '${i}' is missing required property '${S}'.`,!1);c.sso_start_url;let u=c.sso_region,l;try{l=await ca.getSSOTokenFromFile(i)}catch{throw new Dt.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${py}`,!1)}Cs("accessToken",l.accessToken),Cs("expiresAt",l.expiresAt);let{accessToken:d,expiresAt:g}=l,h={token:d,expiration:new Date(g)};if(h.expiration.getTime()-Date.now()>Gj)return h;if(Date.now()-jA.getTime()<30*1e3)return qA(h),h;Cs("clientId",l.clientId,!0),Cs("clientSecret",l.clientSecret,!0),Cs("refreshToken",l.refreshToken,!0);try{jA.setTime(Date.now());let S=await qj(l,u,r);Cs("accessToken",S.accessToken),Cs("expiresIn",S.expiresIn);let w=new Date(Date.now()+S.expiresIn*1e3);try{await zj(i,{...l,accessToken:S.accessToken,expiresAt:w.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:w}}catch{return qA(h),h}},Vj=({token:e,logger:t})=>async()=>{if(t==null||t.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new Dt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},Wj=(e={})=>Dt.memoize(Dt.chain(zA(e),async()=>{throw new Dt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);ua.fromEnvSigningName=$j;ua.fromSso=zA;ua.fromStatic=Vj;ua.nodeProvider=Wj});var fy=P(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.resolveHttpAuthSchemeConfig=jn.defaultSSOHttpAuthSchemeProvider=jn.defaultSSOHttpAuthSchemeParametersProvider=void 0;var Kj=(Ke(),se(kn)),my=Ze(),Yj=async(e,t,r)=>({operation:(0,my.getSmithyContext)(t).operation,region:await(0,my.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});jn.defaultSSOHttpAuthSchemeParametersProvider=Yj;function Qj(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Tl(e){return{schemeId:"smithy.api#noAuth"}}var Xj=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Tl(e));break}case"ListAccountRoles":{t.push(Tl(e));break}case"ListAccounts":{t.push(Tl(e));break}case"Logout":{t.push(Tl(e));break}default:t.push(Qj(e))}return t};jn.defaultSSOHttpAuthSchemeProvider=Xj;var Jj=e=>{let t=(0,Kj.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,my.normalizeProvider)(e.authSchemePreference??[])})};jn.resolveHttpAuthSchemeConfig=Jj});var WA=P((Wfe,Zj)=>{Zj.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.948.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso","test:index":"tsc --noEmit ./test/index-types.ts && node ./test/index-objects.spec.mjs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.947.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.948.0","@aws-sdk/middleware-user-agent":"3.947.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.947.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.7","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.14","@smithy/middleware-retry":"^4.4.14","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.10","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.13","@smithy/util-defaults-mode-node":"^4.2.16","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var cR=P(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.ruleSet=void 0;var sR="required",$t="fn",Gt="argv",Uo="ref",KA=!0,YA="isSet",la="booleanEquals",ko="error",Mo="endpoint",Zr="tree",hy="PartitionResult",gy="getAttr",QA={[sR]:!1,type:"string"},XA={[sR]:!0,default:!1,type:"boolean"},JA={[Uo]:"Endpoint"},oR={[$t]:la,[Gt]:[{[Uo]:"UseFIPS"},!0]},iR={[$t]:la,[Gt]:[{[Uo]:"UseDualStack"},!0]},Ft={},ZA={[$t]:gy,[Gt]:[{[Uo]:hy},"supportsFIPS"]},aR={[Uo]:hy},eR={[$t]:la,[Gt]:[!0,{[$t]:gy,[Gt]:[aR,"supportsDualStack"]}]},tR=[oR],rR=[iR],nR=[{[Uo]:"Region"}],ez={version:"1.0",parameters:{Region:QA,UseDualStack:XA,UseFIPS:XA,Endpoint:QA},rules:[{conditions:[{[$t]:YA,[Gt]:[JA]}],rules:[{conditions:tR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ko},{conditions:rR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ko},{endpoint:{url:JA,properties:Ft,headers:Ft},type:Mo}],type:Zr},{conditions:[{[$t]:YA,[Gt]:nR}],rules:[{conditions:[{[$t]:"aws.partition",[Gt]:nR,assign:hy}],rules:[{conditions:[oR,iR],rules:[{conditions:[{[$t]:la,[Gt]:[KA,ZA]},eR],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ft,headers:Ft},type:Mo}],type:Zr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ko}],type:Zr},{conditions:tR,rules:[{conditions:[{[$t]:la,[Gt]:[ZA,KA]}],rules:[{conditions:[{[$t]:"stringEquals",[Gt]:[{[$t]:gy,[Gt]:[aR,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ft,headers:Ft},type:Mo},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ft,headers:Ft},type:Mo}],type:Zr},{error:"FIPS is enabled but this partition does not support FIPS",type:ko}],type:Zr},{conditions:rR,rules:[{conditions:[eR],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ft,headers:Ft},type:Mo}],type:Zr},{error:"DualStack is enabled but this partition does not support DualStack",type:ko}],type:Zr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ft,headers:Ft},type:Mo}],type:Zr}],type:Zr},{error:"Invalid Configuration: Missing Region",type:ko}]};wl.ruleSet=ez});var uR=P(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.defaultEndpointResolver=void 0;var tz=gs(),yy=Sn(),rz=cR(),nz=new yy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),sz=(e,t={})=>nz.get(e,()=>(0,yy.resolveEndpoint)(rz.ruleSet,{endpointParams:e,logger:t.logger}));Il.defaultEndpointResolver=sz;yy.customEndpointFunctions.aws=tz.awsEndpointFunctions});var pR=P(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.getRuntimeConfig=void 0;var oz=(Ke(),se(kn)),iz=(_s(),se(bg)),az=(gt(),se(no)),cz=Y(),uz=qr(),lR=Re(),dR=Fe(),lz=fy(),dz=uR(),pz=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??lR.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??lR.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??dz.defaultEndpointResolver,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??lz.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new oz.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new az.NoAuthSigner}],logger:(e==null?void 0:e.logger)??new cz.NoOpLogger,protocol:(e==null?void 0:e.protocol)??new iz.AwsRestJsonProtocol({defaultNamespace:"com.amazonaws.sso"}),serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??uz.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??dR.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??dR.toUtf8});xl.getRuntimeConfig=pz});var ER=P(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getRuntimeConfig=void 0;var mz=(Ai(),se(Ci)),fz=mz.__importDefault(WA()),mR=(Ke(),se(kn)),fR=Ao(),Cl=bt(),hz=Ro(),hR=Jt(),As=yr(),gR=gn(),yR=Y(),gz=vo(),yz=Do(),Ez=ws(),Sz=pR(),_z=e=>{(0,yR.emitWarningIfUnsupportedVersion)(process.version);let t=(0,yz.resolveDefaultsModeConfig)(e),r=()=>t().then(yR.loadConfigsForDefaultMode),n=(0,Sz.getRuntimeConfig)(e);(0,mR.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,As.loadConfig)(mR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??gz.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,fR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:fz.default.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,As.loadConfig)(hR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,As.loadConfig)(Cl.NODE_REGION_CONFIG_OPTIONS,{...Cl.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:gR.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,As.loadConfig)({...hR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Ez.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??hz.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??gR.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,As.loadConfig)(Cl.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,As.loadConfig)(Cl.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,As.loadConfig)(fR.NODE_APP_ID_CONFIG_OPTIONS,s)}};Al.getRuntimeConfig=_z});var $R=P(it=>{"use strict";var SR=js(),bz=zs(),Tz=Vs(),_R=bs(),wz=bt(),da=(gt(),se(no)),Fo=(Z(),se(Ei)),Iz=To(),fa=Er(),bR=Jt(),tr=Y(),TR=fy(),xz=ER(),wR=xs(),IR=_e(),Cz=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Pl={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Az=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Rz=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),vz=(e,t)=>{let r=Object.assign(wR.getAwsRegionExtensionConfiguration(e),tr.getDefaultExtensionConfiguration(e),IR.getHttpHandlerExtensionConfiguration(e),Az(e));return t.forEach(n=>n.configure(r)),Object.assign(e,wR.resolveAwsRegionExtensionConfiguration(r),tr.resolveDefaultRuntimeConfig(r),IR.resolveHttpHandlerRuntimeConfig(r),Rz(r))},Bo=class extends tr.Client{config;constructor(...[t]){let r=xz.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=Cz(r),s=_R.resolveUserAgentConfig(n),o=bR.resolveRetryConfig(s),i=wz.resolveRegionConfig(o),a=SR.resolveHostHeaderConfig(i),c=fa.resolveEndpointConfig(a),u=TR.resolveHttpAuthSchemeConfig(c),l=vz(u,(t==null?void 0:t.extensions)||[]);this.config=l,this.middlewareStack.use(Fo.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(_R.getUserAgentPlugin(this.config)),this.middlewareStack.use(bR.getRetryPlugin(this.config)),this.middlewareStack.use(Iz.getContentLengthPlugin(this.config)),this.middlewareStack.use(SR.getHostHeaderPlugin(this.config)),this.middlewareStack.use(bz.getLoggerPlugin(this.config)),this.middlewareStack.use(Tz.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(da.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:TR.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async d=>new da.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(da.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},$o=class xR extends tr.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,xR.prototype)}},CR=class AR extends $o{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,AR.prototype)}},RR=class vR extends $o{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,vR.prototype)}},DR=class PR extends $o{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,PR.prototype)}},NR=class OR extends $o{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,OR.prototype)}},Dz="AccountInfo",Pz="AccountListType",Nz="AccessTokenType",Oz="GetRoleCredentials",Lz="GetRoleCredentialsRequest",kz="GetRoleCredentialsResponse",Mz="InvalidRequestException",Uz="Logout",Bz="ListAccounts",Fz="ListAccountsRequest",$z="ListAccountRolesRequest",Gz="ListAccountRolesResponse",Hz="ListAccountsResponse",qz="ListAccountRoles",jz="LogoutRequest",zz="RoleCredentials",Vz="RoleInfo",Wz="RoleListType",Kz="ResourceNotFoundException",Yz="SecretAccessKeyType",Qz="SessionTokenType",Xz="TooManyRequestsException",Jz="UnauthorizedException",Nl="accountId",Zz="accessKeyId",eV="accountList",tV="accountName",Ol="accessToken",LR="account_id",Ll="client",kl="error",rV="emailAddress",nV="expiration",Ml="http",Ul="httpError",Bl="httpHeader",Rs="httpQuery",Fl="message",kR="maxResults",MR="max_result",$l="nextToken",UR="next_token",sV="roleCredentials",oV="roleList",BR="roleName",iV="role_name",FR="smithy.ts.sdk.synthetic.com.amazonaws.sso",aV="secretAccessKey",cV="sessionToken",Gl="x-amz-sso_bearer_token",xe="com.amazonaws.sso",Hl=[0,xe,Nz,8,0],uV=[0,xe,Yz,8,0],lV=[0,xe,Qz,8,0],dV=[3,xe,Dz,0,[Nl,tV,rV],[0,0,0]],pV=[3,xe,Lz,0,[BR,Nl,Ol],[[0,{[Rs]:iV}],[0,{[Rs]:LR}],[()=>Hl,{[Bl]:Gl}]]],mV=[3,xe,kz,0,[sV],[[()=>bV,0]]],fV=[-3,xe,Mz,{[kl]:Ll,[Ul]:400},[Fl],[0]];Fo.TypeRegistry.for(xe).registerError(fV,CR);var hV=[3,xe,$z,0,[$l,kR,Ol,Nl],[[0,{[Rs]:UR}],[1,{[Rs]:MR}],[()=>Hl,{[Bl]:Gl}],[0,{[Rs]:LR}]]],gV=[3,xe,Gz,0,[$l,oV],[0,()=>RV]],yV=[3,xe,Fz,0,[$l,kR,Ol],[[0,{[Rs]:UR}],[1,{[Rs]:MR}],[()=>Hl,{[Bl]:Gl}]]],EV=[3,xe,Hz,0,[$l,eV],[0,()=>AV]],SV=[3,xe,jz,0,[Ol],[[()=>Hl,{[Bl]:Gl}]]],_V=[-3,xe,Kz,{[kl]:Ll,[Ul]:404},[Fl],[0]];Fo.TypeRegistry.for(xe).registerError(_V,RR);var bV=[3,xe,zz,0,[Zz,aV,cV,nV],[0,[()=>uV,0],[()=>lV,0],1]],TV=[3,xe,Vz,0,[BR,Nl],[0,0]],wV=[-3,xe,Xz,{[kl]:Ll,[Ul]:429},[Fl],[0]];Fo.TypeRegistry.for(xe).registerError(wV,DR);var IV=[-3,xe,Jz,{[kl]:Ll,[Ul]:401},[Fl],[0]];Fo.TypeRegistry.for(xe).registerError(IV,NR);var xV="unit",CV=[-3,FR,"SSOServiceException",0,[],[]];Fo.TypeRegistry.for(FR).registerError(CV,$o);var AV=[1,xe,Pz,0,()=>dV],RV=[1,xe,Wz,0,()=>TV],vV=[9,xe,Oz,{[Ml]:["GET","/federation/credentials",200]},()=>pV,()=>mV],DV=[9,xe,qz,{[Ml]:["GET","/assignment/roles",200]},()=>hV,()=>gV],PV=[9,xe,Bz,{[Ml]:["GET","/assignment/accounts",200]},()=>yV,()=>EV],NV=[9,xe,Uz,{[Ml]:["POST","/logout",200]},()=>SV,()=>xV],Rl=class extends tr.Command.classBuilder().ep(Pl).m(function(t,r,n,s){return[fa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(vV).build(){},pa=class extends tr.Command.classBuilder().ep(Pl).m(function(t,r,n,s){return[fa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(DV).build(){},ma=class extends tr.Command.classBuilder().ep(Pl).m(function(t,r,n,s){return[fa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(PV).build(){},vl=class extends tr.Command.classBuilder().ep(Pl).m(function(t,r,n,s){return[fa.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(NV).build(){},OV={GetRoleCredentialsCommand:Rl,ListAccountRolesCommand:pa,ListAccountsCommand:ma,LogoutCommand:vl},Dl=class extends Bo{};tr.createAggregatedClient(OV,Dl);var LV=da.createPaginator(Bo,pa,"nextToken","nextToken","maxResults"),kV=da.createPaginator(Bo,ma,"nextToken","nextToken","maxResults");Object.defineProperty(it,"$Command",{enumerable:!0,get:function(){return tr.Command}});Object.defineProperty(it,"__Client",{enumerable:!0,get:function(){return tr.Client}});it.GetRoleCredentialsCommand=Rl;it.InvalidRequestException=CR;it.ListAccountRolesCommand=pa;it.ListAccountsCommand=ma;it.LogoutCommand=vl;it.ResourceNotFoundException=RR;it.SSO=Dl;it.SSOClient=Bo;it.SSOServiceException=$o;it.TooManyRequestsException=DR;it.UnauthorizedException=NR;it.paginateListAccountRoles=LV;it.paginateListAccounts=kV});var HR=P(Ey=>{"use strict";var GR=$R();Object.defineProperty(Ey,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return GR.GetRoleCredentialsCommand}});Object.defineProperty(Ey,"SSOClient",{enumerable:!0,get:function(){return GR.SSOClient}})});var Sy=P(jl=>{"use strict";var rr=nt(),ql=gr(),qR=(Lt(),se(jr)),MV=VA(),zR=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ha=!1,jR=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:c,filepath:u,configFilepath:l,ignoreCache:d,logger:g})=>{let h,y="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let fe=await MV.fromSso({profile:c,filepath:u,configFilepath:l,ignoreCache:d})();h={accessToken:fe.token,expiresAt:new Date(fe.expiration).toISOString()}}catch(fe){throw new rr.CredentialsProviderError(fe.message,{tryNextLink:ha,logger:g})}else try{h=await ql.getSSOTokenFromFile(e)}catch{throw new rr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${y}`,{tryNextLink:ha,logger:g})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new rr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${y}`,{tryNextLink:ha,logger:g});let{accessToken:S}=h,{SSOClient:w,GetRoleCredentialsCommand:C}=await Promise.resolve().then(function(){return HR()}),R=o||new w(Object.assign({},i??{},{logger:(i==null?void 0:i.logger)??(a==null?void 0:a.logger),region:(i==null?void 0:i.region)??n,userAgentAppId:(i==null?void 0:i.userAgentAppId)??(a==null?void 0:a.userAgentAppId)})),N;try{N=await R.send(new C({accountId:r,roleName:s,accessToken:S}))}catch(fe){throw new rr.CredentialsProviderError(fe,{tryNextLink:ha,logger:g})}let{roleCredentials:{accessKeyId:M,secretAccessKey:B,sessionToken:J,expiration:oe,credentialScope:V,accountId:Q}={}}=N;if(!M||!B||!J||!oe)throw new rr.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ha,logger:g});let Ct={accessKeyId:M,secretAccessKey:B,sessionToken:J,expiration:new Date(oe),...V&&{credentialScope:V},...Q&&{accountId:Q}};return t?qR.setCredentialFeature(Ct,"CREDENTIALS_SSO","s"):qR.setCredentialFeature(Ct,"CREDENTIALS_SSO_LEGACY","u"),Ct},VR=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!r||!n||!s||!o)throw new rr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},UV=(e={})=>async({callerClientConfig:t}={})=>{var u;(u=e.logger)==null||u.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,c=ql.getProfileName({profile:e.profile??(t==null?void 0:t.profile)});if(!r&&!n&&!s&&!o&&!i){let d=(await ql.parseKnownFiles(e))[c];if(!d)throw new rr.CredentialsProviderError(`Profile ${c} was not found.`,{logger:e.logger});if(!zR(d))throw new rr.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:e.logger});if(d!=null&&d.sso_session){let R=(await ql.loadSsoSessionData(e))[d.sso_session],N=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(s&&s!==R.sso_region)throw new rr.CredentialsProviderError("Conflicting SSO region"+N,{tryNextLink:!1,logger:e.logger});if(r&&r!==R.sso_start_url)throw new rr.CredentialsProviderError("Conflicting SSO start_url"+N,{tryNextLink:!1,logger:e.logger});d.sso_region=R.sso_region,d.sso_start_url=R.sso_start_url}let{sso_start_url:g,sso_account_id:h,sso_region:y,sso_role_name:S,sso_session:w}=VR(d,e.logger);return jR({ssoStartUrl:g,ssoSession:w,ssoAccountId:h,ssoRegion:y,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!o)throw new rr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return jR({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:c,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};jl.fromSSO=UV;jl.isSsoProfile=zR;jl.validateSsoProfile=VR});function BV(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function FV(e){return{schemeId:"smithy.api#noAuth"}}var ga,WR,KR,YR,_y=_(()=>{Ke();ga=T(Ze()),WR=async(e,t,r)=>({operation:(0,ga.getSmithyContext)(t).operation,region:await(0,ga.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});KR=e=>{let t=[];switch(e.operation){case"CreateOAuth2Token":{t.push(FV(e));break}default:t.push(BV(e))}return t},YR=e=>{let t=zr(e);return Object.assign(t,{authSchemePreference:(0,ga.normalizeProvider)(e.authSchemePreference??[])})}});var QR,XR,by=_(()=>{QR=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"signin"}),XR={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ov,ct,JR,vs,Go,zn,nr,Wl,Ty,ZR,ev,tv,wy,Iy,at,xy,zl,Vl,rv,nv,sv,$V,iv,av=_(()=>{ov="required",ct="argv",JR="isSet",vs="booleanEquals",Go="error",zn="endpoint",nr="tree",Wl="PartitionResult",Ty="stringEquals",ZR={[ov]:!0,default:!1,type:"boolean"},ev={[ov]:!1,type:"string"},tv={ref:"Endpoint"},wy={fn:vs,[ct]:[{ref:"UseFIPS"},!0]},Iy={fn:vs,[ct]:[{ref:"UseDualStack"},!0]},at={},xy={fn:"getAttr",[ct]:[{ref:Wl},"name"]},zl={fn:vs,[ct]:[{ref:"UseFIPS"},!1]},Vl={fn:vs,[ct]:[{ref:"UseDualStack"},!1]},rv={fn:"getAttr",[ct]:[{ref:Wl},"supportsFIPS"]},nv={fn:vs,[ct]:[!0,{fn:"getAttr",[ct]:[{ref:Wl},"supportsDualStack"]}]},sv=[{ref:"Region"}],$V={version:"1.0",parameters:{UseDualStack:ZR,UseFIPS:ZR,Endpoint:ev,Region:ev},rules:[{conditions:[{fn:JR,[ct]:[tv]}],rules:[{conditions:[wy],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Go},{rules:[{conditions:[Iy],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Go},{endpoint:{url:tv,properties:at,headers:at},type:zn}],type:nr}],type:nr},{rules:[{conditions:[{fn:JR,[ct]:sv}],rules:[{conditions:[{fn:"aws.partition",[ct]:sv,assign:Wl}],rules:[{conditions:[{fn:Ty,[ct]:[xy,"aws"]},zl,Vl],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:at,headers:at},type:zn},{conditions:[{fn:Ty,[ct]:[xy,"aws-cn"]},zl,Vl],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:at,headers:at},type:zn},{conditions:[{fn:Ty,[ct]:[xy,"aws-us-gov"]},zl,Vl],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:at,headers:at},type:zn},{conditions:[wy,Iy],rules:[{conditions:[{fn:vs,[ct]:[!0,rv]},nv],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:zn}],type:nr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Go}],type:nr},{conditions:[wy,Vl],rules:[{conditions:[{fn:vs,[ct]:[rv,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:zn}],type:nr},{error:"FIPS is enabled but this partition does not support FIPS",type:Go}],type:nr},{conditions:[zl,Iy],rules:[{conditions:[nv],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:at,headers:at},type:zn}],type:nr},{error:"DualStack is enabled but this partition does not support DualStack",type:Go}],type:nr},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:at,headers:at},type:zn}],type:nr}],type:nr},{error:"Invalid Configuration: Missing Region",type:Go}],type:nr}]},iv=$V});var cv,Ho,GV,uv,lv=_(()=>{cv=T(gs()),Ho=T(Sn());av();GV=new Ho.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),uv=(e,t={})=>GV.get(e,()=>(0,Ho.resolveEndpoint)(iv,{endpointParams:e,logger:t.logger}));Ho.customEndpointFunctions.aws=cv.awsEndpointFunctions});var dv,pv,Kl,Yl,mv,fv=_(()=>{Ke();_s();gt();dv=T(Y()),pv=T(qr()),Kl=T(Re()),Yl=T(Fe());_y();lv();mv=e=>({apiVersion:"2023-01-01",base64Decoder:(e==null?void 0:e.base64Decoder)??Kl.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??Kl.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??uv,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??KR,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:(e==null?void 0:e.logger)??new dv.NoOpLogger,protocol:(e==null?void 0:e.protocol)??new Nn({defaultNamespace:"com.amazonaws.signin"}),serviceId:(e==null?void 0:e.serviceId)??"Signin",urlParser:(e==null?void 0:e.urlParser)??pv.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Yl.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Yl.toUtf8})});var Ql,Wn,hv,Xl,Vn,Jl,Zl,gv,yv,Ev,Sv,_v=_(()=>{al();Ke();Ql=T(Ao()),Wn=T(bt()),hv=T(Ro()),Xl=T(Jt()),Vn=T(yr()),Jl=T(gn()),Zl=T(Y()),gv=T(vo()),yv=T(Do()),Ev=T(ws());fv();Sv=e=>{(0,Zl.emitWarningIfUnsupportedVersion)(process.version);let t=(0,yv.resolveDefaultsModeConfig)(e),r=()=>t().then(Zl.loadConfigsForDefaultMode),n=mv(e);_n(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Vn.loadConfig)(Tn,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??gv.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,Ql.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Co.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Vn.loadConfig)(Xl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Vn.loadConfig)(Wn.NODE_REGION_CONFIG_OPTIONS,{...Wn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Jl.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Vn.loadConfig)({...Xl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Ev.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??hv.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Jl.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Vn.loadConfig)(Wn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Vn.loadConfig)(Wn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Vn.loadConfig)(Ql.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var bv,Tv,wv=_(()=>{bv=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Tv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ed,td,rd,Iv,xv=_(()=>{ed=T(xs()),td=T(_e()),rd=T(Y());wv();Iv=(e,t)=>{let r=Object.assign((0,ed.getAwsRegionExtensionConfiguration)(e),(0,rd.getDefaultExtensionConfiguration)(e),(0,td.getHttpHandlerExtensionConfiguration)(e),bv(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ed.resolveAwsRegionExtensionConfiguration)(r),(0,rd.resolveDefaultRuntimeConfig)(r),(0,td.resolveHttpHandlerRuntimeConfig)(r),Tv(r))}});var nd,Cv,Av,sd,Rv,vv,Dv,od,Cy,ya,Ay=_(()=>{nd=T(js()),Cv=T(zs()),Av=T(Vs()),sd=T(bs()),Rv=T(bt());gt();Z();vv=T(To()),Dv=T(Er()),od=T(Jt()),Cy=T(Y());_y();by();_v();xv();ya=class extends Cy.Client{config;constructor(...[t]){let r=Sv(t||{});super(r),this.initConfig=r;let n=QR(r),s=(0,sd.resolveUserAgentConfig)(n),o=(0,od.resolveRetryConfig)(s),i=(0,Rv.resolveRegionConfig)(o),a=(0,nd.resolveHostHeaderConfig)(i),c=(0,Dv.resolveEndpointConfig)(a),u=YR(c),l=Iv(u,(t==null?void 0:t.extensions)||[]);this.config=l,this.middlewareStack.use(ds(this.config)),this.middlewareStack.use((0,sd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,od.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vv.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,nd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Cv.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Av.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(us(this.config,{httpAuthSchemeParametersProvider:WR,identityProviderConfigProvider:async d=>new Hr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(ls(this.config))}destroy(){super.destroy()}}});var Pv,sr,id=_(()=>{Pv=T(Y()),sr=class e extends Pv.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ea,Sa,_a,ba,Ry=_(()=>{id();Ea=class e extends sr{name="AccessDeniedException";$fault="client";error;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},Sa=class e extends sr{name="InternalServerException";$fault="server";error;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},_a=class e extends sr{name="TooManyRequestsError";$fault="client";error;constructor(t){super({name:"TooManyRequestsError",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}},ba=class e extends sr{name="ValidationException";$fault="client";error;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error}}});var HV,qV,jV,zV,VV,WV,KV,YV,QV,XV,JV,Nv,Ov,vy,Lv,kv,ZV,Kn,Mv,Uv,e4,Dy,Bv,Pt,cd,ad,Fv,t4,$v,Gv,qv,r4,n4,Hv,Et,jv,s4,o4,i4,a4,c4,u4,l4,d4,p4,m4,zv,Vv=_(()=>{Z();Ry();id();HV="AccessDeniedException",qV="AccessToken",jV="CreateOAuth2Token",zV="CreateOAuth2TokenRequest",VV="CreateOAuth2TokenRequestBody",WV="CreateOAuth2TokenResponseBody",KV="CreateOAuth2TokenResponse",YV="InternalServerException",QV="RefreshToken",XV="TooManyRequestsError",JV="ValidationException",Nv="accessKeyId",Ov="accessToken",vy="client",Lv="clientId",kv="codeVerifier",ZV="code",Kn="error",Mv="expiresIn",Uv="grantType",e4="http",Dy="httpError",Bv="idToken",Pt="jsonName",cd="message",ad="refreshToken",Fv="redirectUri",t4="server",$v="secretAccessKey",Gv="sessionToken",qv="smithy.ts.sdk.synthetic.com.amazonaws.signin",r4="tokenInput",n4="tokenOutput",Hv="tokenType",Et="com.amazonaws.signin",jv=[0,Et,QV,8,0],s4=[-3,Et,HV,{[Kn]:vy},[Kn,cd],[0,0]];F.for(Et).registerError(s4,Ea);o4=[3,Et,qV,8,[Nv,$v,Gv],[[0,{[Pt]:Nv}],[0,{[Pt]:$v}],[0,{[Pt]:Gv}]]],i4=[3,Et,zV,0,[r4],[[()=>a4,16]]],a4=[3,Et,VV,0,[Lv,Uv,ZV,Fv,kv,ad],[[0,{[Pt]:Lv}],[0,{[Pt]:Uv}],0,[0,{[Pt]:Fv}],[0,{[Pt]:kv}],[()=>jv,{[Pt]:ad}]]],c4=[3,Et,KV,0,[n4],[[()=>u4,16]]],u4=[3,Et,WV,0,[Ov,Hv,Mv,ad,Bv],[[()=>o4,{[Pt]:Ov}],[0,{[Pt]:Hv}],[1,{[Pt]:Mv}],[()=>jv,{[Pt]:ad}],[0,{[Pt]:Bv}]]],l4=[-3,Et,YV,{[Kn]:t4,[Dy]:500},[Kn,cd],[0,0]];F.for(Et).registerError(l4,Sa);d4=[-3,Et,XV,{[Kn]:vy,[Dy]:429},[Kn,cd],[0,0]];F.for(Et).registerError(d4,_a);p4=[-3,Et,JV,{[Kn]:vy,[Dy]:400},[Kn,cd],[0,0]];F.for(Et).registerError(p4,ba);m4=[-3,qv,"SigninServiceException",0,[],[]];F.for(qv).registerError(m4,sr);zv=[9,Et,jV,{[e4]:["POST","/v1/token",200]},()=>i4,()=>c4]});var Wv,Py,Ta,Ny=_(()=>{Wv=T(Er()),Py=T(Y());by();Vv();Ta=class extends Py.Command.classBuilder().ep(XR).m(function(t,r,n,s){return[(0,Wv.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(zv).build(){}});var Kv,f4,ud,Yv=_(()=>{Kv=T(Y());Ny();Ay();f4={CreateOAuth2TokenCommand:Ta},ud=class extends ya{};(0,Kv.createAggregatedClient)(f4,ud)});var Qv=_(()=>{Ny()});var h4,Xv=_(()=>{h4={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var Jv={};We(Jv,{$Command:()=>Py.Command,AccessDeniedException:()=>Ea,CreateOAuth2TokenCommand:()=>Ta,InternalServerException:()=>Sa,OAuth2ErrorCode:()=>h4,Signin:()=>ud,SigninClient:()=>ya,SigninServiceException:()=>sr,TooManyRequestsError:()=>_a,ValidationException:()=>ba,__Client:()=>Cy.Client});var Zv=_(()=>{Ay();Yv();Qv();Xv();Ry();id()});var tD=P(eD=>{"use strict";var g4=(Lt(),se(jr)),Yn=nt(),ky=gr(),y4=_e(),ld=require("node:crypto"),Oy=require("node:fs"),E4=require("node:os"),Ly=require("node:path"),My=class e{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=300*1e3;constructor(t,r,n){this.profileData=t,this.init=r,this.callerClientConfig=n}async loadCredentials(){let t=await this.loadToken();if(!t)throw new Yn.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=t.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=e.REFRESH_THRESHOLD?this.refresh(t):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){var t;return(t=this.init)==null?void 0:t.logger}get loginSession(){return this.profileData.login_session}async refresh(t){var d,g,h,y,S,w;let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(Zv(),Jv)),{logger:s,userAgentAppId:o}=this.callerClientConfig??{},a=(C=>{var R;return((R=C==null?void 0:C.metadata)==null?void 0:R.handlerProtocol)==="h2"})((d=this.callerClientConfig)==null?void 0:d.requestHandler)||(g=this.callerClientConfig)==null?void 0:g.requestHandler,c=this.profileData.region??await((y=(h=this.callerClientConfig)==null?void 0:h.region)==null?void 0:y.call(h))??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:s,userAgentAppId:o,...(S=this.init)==null?void 0:S.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let l={tokenInput:{clientId:t.clientId,refreshToken:t.refreshToken,grantType:"refresh_token"}};try{let C=await u.send(new n(l)),{accessKeyId:R,secretAccessKey:N,sessionToken:M}=((w=C.tokenOutput)==null?void 0:w.accessToken)??{},{refreshToken:B,expiresIn:J}=C.tokenOutput??{};if(!R||!N||!M||!B)throw new Yn.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let oe=(J??900)*1e3,V=new Date(Date.now()+oe),Q={...t,accessToken:{...t.accessToken,accessKeyId:R,secretAccessKey:N,sessionToken:M,expiresAt:V.toISOString()},refreshToken:B};await this.saveToken(Q);let Ct=Q.accessToken;return{accessKeyId:Ct.accessKeyId,secretAccessKey:Ct.secretAccessKey,sessionToken:Ct.sessionToken,accountId:Ct.accountId,expiration:V}}catch(C){if(C.name==="AccessDeniedException"){let R=C.error,N;switch(R){case"TOKEN_EXPIRED":N="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":N="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":N="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:N=`Failed to refresh token: ${String(C)}. Please re-authenticate using \`aws login\``}throw new Yn.CredentialsProviderError(N,{logger:this.logger,tryNextLink:!1})}throw new Yn.CredentialsProviderError(`Failed to refresh token: ${String(C)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){var r,n;let t=this.getTokenFilePath();try{let s;try{s=await ky.readFile(t,{ignoreCache:(r=this.init)==null?void 0:r.ignoreCache})}catch{s=await Oy.promises.readFile(t,"utf8")}let o=JSON.parse(s),i=["accessToken","clientId","refreshToken","dpopKey"].filter(a=>!o[a]);if((n=o.accessToken)!=null&&n.accountId||i.push("accountId"),i.length>0)throw new Yn.CredentialsProviderError(`Token validation failed, missing fields: ${i.join(", ")}`,{logger:this.logger,tryNextLink:!1});return o}catch(s){throw new Yn.CredentialsProviderError(`Failed to load token from ${t}: ${String(s)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(t){let r=this.getTokenFilePath(),n=Ly.dirname(r);try{await Oy.promises.mkdir(n,{recursive:!0})}catch{}await Oy.promises.writeFile(r,JSON.stringify(t,null,2),"utf8")}getTokenFilePath(){let t=process.env.AWS_LOGIN_CACHE_DIRECTORY??Ly.join(E4.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=ld.createHash("sha256").update(r).digest("hex");return Ly.join(t,`${n}.json`)}derToRawSignature(t){let r=2;if(t[r]!==2)throw new Error("Invalid DER signature");r++;let n=t[r++],s=t.subarray(r,r+n);if(r+=n,t[r]!==2)throw new Error("Invalid DER signature");r++;let o=t[r++],i=t.subarray(r,r+o);s=s[0]===0?s.subarray(1):s,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-s.length),s]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(t){t.add(r=>async n=>{if(y4.HttpRequest.isInstance(n.request)){let s=n.request,o=`${s.protocol}//${s.hostname}${s.port?`:${s.port}`:""}${s.path}`,i=await this.generateDpop(s.method,o);s.headers={...s.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(t="POST",r){let n=await this.loadToken();try{let s=ld.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=ld.createPublicKey(s).export({format:"der",type:"spki"}),a=-1;for(let R=0;R<i.length;R++)if(i[R]===4){a=R;break}let c=i.slice(a+1,a+33),u=i.slice(a+33,a+65),l={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:u.toString("base64url")}},d={jti:crypto.randomUUID(),htm:t,htu:r,iat:Math.floor(Date.now()/1e3)},g=Buffer.from(JSON.stringify(l)).toString("base64url"),h=Buffer.from(JSON.stringify(d)).toString("base64url"),y=`${g}.${h}`,S=ld.sign("sha256",Buffer.from(y),s),C=this.derToRawSignature(S).toString("base64url");return`${y}.${C}`}catch(s){throw new Yn.CredentialsProviderError(`Failed to generate Dpop proof: ${s instanceof Error?s.message:String(s)}`,{logger:this.logger,tryNextLink:!1})}}},S4=e=>async({callerClientConfig:t}={})=>{var a,c;(c=(a=e==null?void 0:e.logger)==null?void 0:a.debug)==null||c.call(a,"@aws-sdk/credential-providers - fromLoginCredentials");let r=await ky.parseKnownFiles(e||{}),n=ky.getProfileName({profile:(e==null?void 0:e.profile)??(t==null?void 0:t.profile)}),s=r[n];if(!(s!=null&&s.login_session))throw new Yn.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:e==null?void 0:e.logger});let i=await new My(s,e,t).loadCredentials();return g4.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};eD.fromLoginCredentials=S4});function _4(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function b4(e){return{schemeId:"smithy.api#noAuth"}}var wa,rD,nD,T4,sD,Uy=_(()=>{Ke();wa=T(Ze());Ia();rD=async(e,t,r)=>({operation:(0,wa.getSmithyContext)(t).operation,region:await(0,wa.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});nD=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(b4(e));break}default:t.push(_4(e))}return t},T4=e=>Object.assign(e,{stsClientCtor:Tr}),sD=e=>{let t=T4(e),r=zr(t);return Object.assign(r,{authSchemePreference:(0,wa.normalizeProvider)(e.authSchemePreference??[])})}});var oD,dd,pd=_(()=>{oD=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),dd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var gD,te,he,Qn,Qe,yD,ED,Ce,iD,wr,qo,Fy,aD,By,SD,cD,Xe,uD,_D,bD,ut,Nt,lD,TD,wD,dD,ID,pD,mD,fD,hD,w4,xD,CD=_(()=>{gD="required",te="type",he="argv",Qn="booleanEquals",Qe="stringEquals",yD="sigv4",ED="us-east-1",Ce="endpoint",iD="https://sts.{Region}.{PartitionResult#dnsSuffix}",wr="tree",qo="error",Fy="getAttr",aD={[gD]:!1,[te]:"string"},By={[gD]:!0,default:!1,[te]:"boolean"},SD={ref:"Endpoint"},cD={fn:"isSet",[he]:[{ref:"Region"}]},Xe={ref:"Region"},uD={fn:"aws.partition",[he]:[Xe],assign:"PartitionResult"},_D={ref:"UseFIPS"},bD={ref:"UseDualStack"},ut={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:yD,signingName:"sts",signingRegion:ED}]},headers:{}},Nt={},lD={conditions:[{fn:Qe,[he]:[Xe,"aws-global"]}],[Ce]:ut,[te]:Ce},TD={fn:Qn,[he]:[_D,!0]},wD={fn:Qn,[he]:[bD,!0]},dD={fn:Fy,[he]:[{ref:"PartitionResult"},"supportsFIPS"]},ID={ref:"PartitionResult"},pD={fn:Qn,[he]:[!0,{fn:Fy,[he]:[ID,"supportsDualStack"]}]},mD=[{fn:"isSet",[he]:[SD]}],fD=[TD],hD=[wD],w4={version:"1.0",parameters:{Region:aD,UseDualStack:By,UseFIPS:By,Endpoint:aD,UseGlobalEndpoint:By},rules:[{conditions:[{fn:Qn,[he]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[he]:mD},cD,uD,{fn:Qn,[he]:[_D,!1]},{fn:Qn,[he]:[bD,!1]}],rules:[{conditions:[{fn:Qe,[he]:[Xe,"ap-northeast-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"ap-south-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"ap-southeast-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"ap-southeast-2"]}],endpoint:ut,[te]:Ce},lD,{conditions:[{fn:Qe,[he]:[Xe,"ca-central-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"eu-central-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"eu-north-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"eu-west-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"eu-west-2"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"eu-west-3"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"sa-east-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,ED]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"us-east-2"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"us-west-1"]}],endpoint:ut,[te]:Ce},{conditions:[{fn:Qe,[he]:[Xe,"us-west-2"]}],endpoint:ut,[te]:Ce},{endpoint:{url:iD,properties:{authSchemes:[{name:yD,signingName:"sts",signingRegion:"{Region}"}]},headers:Nt},[te]:Ce}],[te]:wr},{conditions:mD,rules:[{conditions:fD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[te]:qo},{conditions:hD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[te]:qo},{endpoint:{url:SD,properties:Nt,headers:Nt},[te]:Ce}],[te]:wr},{conditions:[cD],rules:[{conditions:[uD],rules:[{conditions:[TD,wD],rules:[{conditions:[{fn:Qn,[he]:[!0,dD]},pD],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},[te]:Ce}],[te]:wr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[te]:qo}],[te]:wr},{conditions:fD,rules:[{conditions:[{fn:Qn,[he]:[dD,!0]}],rules:[{conditions:[{fn:Qe,[he]:[{fn:Fy,[he]:[ID,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Nt,headers:Nt},[te]:Ce},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Nt,headers:Nt},[te]:Ce}],[te]:wr},{error:"FIPS is enabled but this partition does not support FIPS",[te]:qo}],[te]:wr},{conditions:hD,rules:[{conditions:[pD],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Nt,headers:Nt},[te]:Ce}],[te]:wr},{error:"DualStack is enabled but this partition does not support DualStack",[te]:qo}],[te]:wr},lD,{endpoint:{url:iD,properties:Nt,headers:Nt},[te]:Ce}],[te]:wr}],[te]:wr},{error:"Invalid Configuration: Missing Region",[te]:qo}]},xD=w4});var AD,jo,I4,RD,vD=_(()=>{AD=T(gs()),jo=T(Sn());CD();I4=new jo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),RD=(e,t={})=>I4.get(e,()=>(0,jo.resolveEndpoint)(xD,{endpointParams:e,logger:t.logger}));jo.customEndpointFunctions.aws=AD.awsEndpointFunctions});var DD,PD,md,fd,ND,OD=_(()=>{Ke();_s();gt();DD=T(Y()),PD=T(qr()),md=T(Re()),fd=T(Fe());Uy();vD();ND=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??md.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??md.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??RD,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??nD,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],logger:(e==null?void 0:e.logger)??new DD.NoOpLogger,protocol:(e==null?void 0:e.protocol)??new Ln({defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15"}),serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??PD.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??fd.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??fd.toUtf8})});var hd,Jn,LD,gd,Xn,yd,Ed,kD,MD,UD,BD,FD=_(()=>{al();Ke();hd=T(Ao()),Jn=T(bt());gt();LD=T(Ro()),gd=T(Jt()),Xn=T(yr()),yd=T(gn()),Ed=T(Y()),kD=T(vo()),MD=T(Do()),UD=T(ws());OD();BD=e=>{(0,Ed.emitWarningIfUnsupportedVersion)(process.version);let t=(0,MD.resolveDefaultsModeConfig)(e),r=()=>t().then(Ed.loadConfigsForDefaultMode),n=ND(e);_n(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Xn.loadConfig)(Tn,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??kD.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,hd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Co.version}),httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider((i==null?void 0:i.__config)||{})()),signer:new rt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Qt}],maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Xn.loadConfig)(gd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Xn.loadConfig)(Jn.NODE_REGION_CONFIG_OPTIONS,{...Jn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:yd.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Xn.loadConfig)({...gd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||UD.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??LD.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??yd.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Xn.loadConfig)(Jn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Xn.loadConfig)(Jn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Xn.loadConfig)(hd.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var $D,GD,HD=_(()=>{$D=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},GD=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Sd,_d,bd,qD,jD=_(()=>{Sd=T(xs()),_d=T(_e()),bd=T(Y());HD();qD=(e,t)=>{let r=Object.assign((0,Sd.getAwsRegionExtensionConfiguration)(e),(0,bd.getDefaultExtensionConfiguration)(e),(0,_d.getHttpHandlerExtensionConfiguration)(e),$D(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Sd.resolveAwsRegionExtensionConfiguration)(r),(0,bd.resolveDefaultRuntimeConfig)(r),(0,_d.resolveHttpHandlerRuntimeConfig)(r),GD(r))}});var Td,zD,VD,wd,WD,KD,YD,Id,$y,Tr,Ia=_(()=>{Td=T(js()),zD=T(zs()),VD=T(Vs()),wd=T(bs()),WD=T(bt());gt();Z();KD=T(To()),YD=T(Er()),Id=T(Jt()),$y=T(Y());Uy();pd();FD();jD();Tr=class extends $y.Client{config;constructor(...[t]){let r=BD(t||{});super(r),this.initConfig=r;let n=oD(r),s=(0,wd.resolveUserAgentConfig)(n),o=(0,Id.resolveRetryConfig)(s),i=(0,WD.resolveRegionConfig)(o),a=(0,Td.resolveHostHeaderConfig)(i),c=(0,YD.resolveEndpointConfig)(a),u=sD(c),l=qD(u,(t==null?void 0:t.extensions)||[]);this.config=l,this.middlewareStack.use(ds(this.config)),this.middlewareStack.use((0,wd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Id.getRetryPlugin)(this.config)),this.middlewareStack.use((0,KD.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Td.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,zD.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,VD.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(us(this.config,{httpAuthSchemeParametersProvider:rD,identityProviderConfigProvider:async d=>new Hr({"aws.auth#sigv4":d.credentials})})),this.middlewareStack.use(ls(this.config))}destroy(){super.destroy()}}});var QD,Tt,xd=_(()=>{QD=T(Y()),Tt=class e extends QD.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var xa,Ca,Aa,Ra,va,Da,Pa,Gy=_(()=>{xd();xa=class e extends Tt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ca=class e extends Tt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Aa=class e extends Tt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ra=class e extends Tt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},va=class e extends Tt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Da=class e extends Tt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Pa=class e extends Tt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var x4,C4,A4,R4,v4,D4,Hy,P4,N4,O4,L4,qy,k4,XD,M4,U4,B4,F4,$4,G4,H4,q4,JD,ZD,j4,z4,V4,W4,K4,Y4,eP,Q4,X4,tP,J4,rP,Z4,eW,jy,tW,rW,nW,sW,oW,iW,aW,cW,uW,lW,Ds,Ps,dW,Ns,Os,Ls,pW,nP,mW,Ee,fW,hW,sP,gW,yW,EW,SW,oP,_W,bW,TW,wW,IW,xW,CW,AW,RW,vW,DW,iP,PW,NW,aP,cP,zy=_(()=>{Z();Gy();xd();x4="Arn",C4="AccessKeyId",A4="AssumeRole",R4="AssumedRoleId",v4="AssumeRoleRequest",D4="AssumeRoleResponse",Hy="AssumedRoleUser",P4="AssumeRoleWithWebIdentity",N4="AssumeRoleWithWebIdentityRequest",O4="AssumeRoleWithWebIdentityResponse",L4="Audience",qy="Credentials",k4="ContextAssertion",XD="DurationSeconds",M4="Expiration",U4="ExternalId",B4="ExpiredTokenException",F4="IDPCommunicationErrorException",$4="IDPRejectedClaimException",G4="InvalidIdentityTokenException",H4="Key",q4="MalformedPolicyDocumentException",JD="Policy",ZD="PolicyArns",j4="ProviderArn",z4="ProvidedContexts",V4="ProvidedContextsListType",W4="ProvidedContext",K4="PolicyDescriptorType",Y4="ProviderId",eP="PackedPolicySize",Q4="PackedPolicyTooLargeException",X4="Provider",tP="RoleArn",J4="RegionDisabledException",rP="RoleSessionName",Z4="SecretAccessKey",eW="SubjectFromWebIdentityToken",jy="SourceIdentity",tW="SerialNumber",rW="SessionToken",nW="Tags",sW="TokenCode",oW="TransitiveTagKeys",iW="Tag",aW="Value",cW="WebIdentityToken",uW="arn",lW="accessKeySecretType",Ds="awsQueryError",Ps="client",dW="clientTokenType",Ns="error",Os="httpError",Ls="message",pW="policyDescriptorListType",nP="smithy.ts.sdk.synthetic.com.amazonaws.sts",mW="tagListType",Ee="com.amazonaws.sts",fW=[0,Ee,lW,8,0],hW=[0,Ee,dW,8,0],sP=[3,Ee,Hy,0,[R4,x4],[0,0]],gW=[3,Ee,v4,0,[tP,rP,ZD,JD,XD,nW,oW,U4,tW,sW,jy,z4],[0,0,()=>iP,0,1,()=>NW,64,0,0,0,0,()=>PW]],yW=[3,Ee,D4,0,[qy,Hy,eP,jy],[[()=>oP,0],()=>sP,1,0]],EW=[3,Ee,N4,0,[tP,rP,cW,Y4,ZD,JD,XD],[0,0,[()=>hW,0],0,()=>iP,0,1]],SW=[3,Ee,O4,0,[qy,eW,Hy,eP,X4,L4,jy],[[()=>oP,0],0,()=>sP,1,0,0,0]],oP=[3,Ee,qy,0,[C4,Z4,rW,M4],[0,[()=>fW,0],0,4]],_W=[-3,Ee,B4,{[Ns]:Ps,[Os]:400,[Ds]:["ExpiredTokenException",400]},[Ls],[0]];F.for(Ee).registerError(_W,xa);bW=[-3,Ee,F4,{[Ns]:Ps,[Os]:400,[Ds]:["IDPCommunicationError",400]},[Ls],[0]];F.for(Ee).registerError(bW,Pa);TW=[-3,Ee,$4,{[Ns]:Ps,[Os]:403,[Ds]:["IDPRejectedClaim",403]},[Ls],[0]];F.for(Ee).registerError(TW,va);wW=[-3,Ee,G4,{[Ns]:Ps,[Os]:400,[Ds]:["InvalidIdentityToken",400]},[Ls],[0]];F.for(Ee).registerError(wW,Da);IW=[-3,Ee,q4,{[Ns]:Ps,[Os]:400,[Ds]:["MalformedPolicyDocument",400]},[Ls],[0]];F.for(Ee).registerError(IW,Ca);xW=[-3,Ee,Q4,{[Ns]:Ps,[Os]:400,[Ds]:["PackedPolicyTooLarge",400]},[Ls],[0]];F.for(Ee).registerError(xW,Aa);CW=[3,Ee,K4,0,[uW],[0]],AW=[3,Ee,W4,0,[j4,k4],[0,0]],RW=[-3,Ee,J4,{[Ns]:Ps,[Os]:403,[Ds]:["RegionDisabledException",403]},[Ls],[0]];F.for(Ee).registerError(RW,Ra);vW=[3,Ee,iW,0,[H4,aW],[0,0]],DW=[-3,nP,"STSServiceException",0,[],[]];F.for(nP).registerError(DW,Tt);iP=[1,Ee,pW,0,()=>CW],PW=[1,Ee,V4,0,()=>AW],NW=[1,Ee,mW,0,()=>vW],aP=[9,Ee,A4,0,()=>gW,()=>yW],cP=[9,Ee,P4,0,()=>EW,()=>SW]});var uP,lP,ks,Cd=_(()=>{uP=T(Er()),lP=T(Y());pd();zy();ks=class extends lP.Command.classBuilder().ep(dd).m(function(t,r,n,s){return[(0,uP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(aP).build(){}});var dP,pP,Ms,Ad=_(()=>{dP=T(Er()),pP=T(Y());pd();zy();Ms=class extends pP.Command.classBuilder().ep(dd).m(function(t,r,n,s){return[(0,dP.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(cP).build(){}});var mP,OW,Rd,fP=_(()=>{mP=T(Y());Cd();Ad();Ia();OW={AssumeRoleCommand:ks,AssumeRoleWithWebIdentityCommand:Ms},Rd=class extends Tr{};(0,mP.createAggregatedClient)(OW,Rd)});var hP=_(()=>{Cd();Ad()});var gP,yP,EP,SP,_P,bP,TP=_(()=>{Lt();gP=T(xs());Cd();Ad();yP=e=>{if(typeof(e==null?void 0:e.Arn)=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},EP=async(e,t,r,n={})=>{var a;let s=typeof e=="function"?await e():e,o=typeof t=="function"?await t():t,i=await(0,gP.stsRegionDefaultResolver)(n)();return(a=r==null?void 0:r.debug)==null||a.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (credential provider clientConfig)`,`${o} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),s??o??i},SP=(e,t)=>{let r,n;return async(s,o)=>{var l,d,g,h,y;if(n=s,!r){let{logger:S=(l=e==null?void 0:e.parentClientConfig)==null?void 0:l.logger,profile:w=(d=e==null?void 0:e.parentClientConfig)==null?void 0:d.profile,region:C,requestHandler:R=(g=e==null?void 0:e.parentClientConfig)==null?void 0:g.requestHandler,credentialProviderLogger:N,userAgentAppId:M=(h=e==null?void 0:e.parentClientConfig)==null?void 0:h.userAgentAppId}=e,B=await EP(C,(y=e==null?void 0:e.parentClientConfig)==null?void 0:y.region,N,{logger:S,profile:w}),J=!bP(R);r=new t({...e,userAgentAppId:M,profile:w,credentialDefaultProvider:()=>async()=>n,region:B,requestHandler:J?R:void 0,logger:S})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new ks(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=yP(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return bn(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},_P=(e,t)=>{let r;return async n=>{var c,u,l,d,g;if(!r){let{logger:h=(c=e==null?void 0:e.parentClientConfig)==null?void 0:c.logger,profile:y=(u=e==null?void 0:e.parentClientConfig)==null?void 0:u.profile,region:S,requestHandler:w=(l=e==null?void 0:e.parentClientConfig)==null?void 0:l.requestHandler,credentialProviderLogger:C,userAgentAppId:R=(d=e==null?void 0:e.parentClientConfig)==null?void 0:d.userAgentAppId}=e,N=await EP(S,(g=e==null?void 0:e.parentClientConfig)==null?void 0:g.region,C,{logger:h,profile:y}),M=!bP(w);r=new t({...e,userAgentAppId:R,profile:y,region:N,requestHandler:M?w:void 0,logger:h})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new Ms(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=yP(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&bn(a,"RESOLVED_ACCOUNT_ID","T"),bn(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},bP=e=>{var t;return((t=e==null?void 0:e.metadata)==null?void 0:t.handlerProtocol)==="h2"}});var wP,IP,xP,LW,CP=_(()=>{TP();Ia();wP=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,IP=(e={},t)=>SP(e,wP(Tr,t)),xP=(e={},t)=>_P(e,wP(Tr,t)),LW=e=>t=>e({roleAssumer:IP(t),roleAssumerWithWebIdentity:xP(t),...t})});var Vy={};We(Vy,{AssumeRoleCommand:()=>ks,AssumeRoleWithWebIdentityCommand:()=>Ms,ExpiredTokenException:()=>xa,IDPCommunicationErrorException:()=>Pa,IDPRejectedClaimException:()=>va,InvalidIdentityTokenException:()=>Da,MalformedPolicyDocumentException:()=>Ca,PackedPolicyTooLargeException:()=>Aa,RegionDisabledException:()=>Ra,STS:()=>Rd,STSClient:()=>Tr,STSServiceException:()=>Tt,__Client:()=>$y.Client,decorateDefaultCredentialProvider:()=>LW,getDefaultRoleAssumer:()=>IP,getDefaultRoleAssumerWithWebIdentity:()=>xP});var Wy=_(()=>{Ia();fP();hP();Gy();CP();xd()});var Qy=P(AP=>{"use strict";var Yy=gr(),Ky=nt(),kW=require("child_process"),MW=require("util"),UW=(Lt(),se(jr)),BW=(e,t,r)=>{var o;if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&((o=r==null?void 0:r[e])!=null&&o.aws_account_id)&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return UW.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},FW=async(e,t,r)=>{var s,o;let n=t[e];if(t[e]){let i=n.credential_process;if(i!==void 0){let a=MW.promisify(((o=(s=Yy.externalDataInterceptor)==null?void 0:s.getTokenRecord)==null?void 0:o.call(s).exec)??kW.exec);try{let{stdout:c}=await a(i),u;try{u=JSON.parse(c.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return BW(e,u,t)}catch(c){throw new Ky.CredentialsProviderError(c.message,{logger:r})}}else throw new Ky.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Ky.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},$W=(e={})=>async({callerClientConfig:t}={})=>{var n;(n=e.logger)==null||n.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Yy.parseKnownFiles(e);return FW(Yy.getProfileName({profile:e.profile??(t==null?void 0:t.profile)}),r,e.logger)};AP.fromProcess=$W});var Xy=P(Ir=>{"use strict";var GW=Ir&&Ir.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),HW=Ir&&Ir.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),qW=Ir&&Ir.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&GW(r,t,n[s]);return HW(r,t),r}})();Object.defineProperty(Ir,"__esModule",{value:!0});Ir.fromWebToken=void 0;var jW=e=>async t=>{var l;(l=e.logger)==null||l.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:c}=e,{roleAssumerWithWebIdentity:u}=e;if(!u){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>qW((Wy(),se(Vy))));u=d({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t==null?void 0:t.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:c})};Ir.fromWebToken=jW});var vP=P(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.fromTokenFile=void 0;var zW=(Lt(),se(jr)),VW=nt(),WW=gr(),KW=require("fs"),YW=Xy(),RP="AWS_WEB_IDENTITY_TOKEN_FILE",QW="AWS_ROLE_ARN",XW="AWS_ROLE_SESSION_NAME",JW=(e={})=>async t=>{var i,a,c;(i=e.logger)==null||i.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=(e==null?void 0:e.webIdentityTokenFile)??process.env[RP],n=(e==null?void 0:e.roleArn)??process.env[QW],s=(e==null?void 0:e.roleSessionName)??process.env[XW];if(!r||!n)throw new VW.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,YW.fromWebToken)({...e,webIdentityToken:((c=(a=WW.externalDataInterceptor)==null?void 0:a.getTokenRecord)==null?void 0:c.call(a)[r])??(0,KW.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:s})(t);return r===process.env[RP]&&(0,zW.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};vd.fromTokenFile=JW});var Jy=P(Na=>{"use strict";var DP=vP(),PP=Xy();Object.keys(DP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Na,e)&&Object.defineProperty(Na,e,{enumerable:!0,get:function(){return DP[e]}})});Object.keys(PP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Na,e)&&Object.defineProperty(Na,e,{enumerable:!0,get:function(){return PP[e]}})})});var UP=P(MP=>{"use strict";var eE=gr(),Oa=nt(),en=(Lt(),se(jr)),ZW=tD(),eK=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>T(Qg())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>T(zi()));return r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Oa.chain(o(s??{}),i(s))().then(Zy)},Ec2InstanceMetadata:async s=>{r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>T(zi()));return async()=>o(s)().then(Zy)},Environment:async s=>{r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>T(Hg()));return async()=>o(s)().then(Zy)}};if(e in n)return n[e];throw new Oa.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Zy=e=>en.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),tK=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(rK(e,{profile:t,logger:r})||nK(e,{profile:t,logger:r})),rK=(e,{profile:t,logger:r})=>{var s;let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&((s=r==null?void 0:r.debug)==null||s.call(r,`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`)),n},nK=(e,{profile:t,logger:r})=>{var s;let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&((s=r==null?void 0:r.debug)==null||s.call(r,`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`)),n},sK=async(e,t,r,n={},s)=>{var u,l,d;(u=r.logger)==null||u.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:i,region:a}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:g}=await Promise.resolve().then(()=>(Wy(),Vy));r.roleAssumer=g({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r==null?void 0:r.parentClientConfig,region:a??((l=r==null?void 0:r.parentClientConfig)==null?void 0:l.region)}},r.clientPlugins)}if(i&&i in n)throw new Oa.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${eE.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(d=r.logger)==null||d.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let c=i?s(i,t,r,{...n,[i]:!0},NP(t[i]??{})):(await eK(o.credential_source,e,r.logger)(r))();if(NP(o))return c.then(g=>en.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let g={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:h}=o;if(h){if(!r.mfaCodeProvider)throw new Oa.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});g.SerialNumber=h,g.TokenCode=await r.mfaCodeProvider(h)}let y=await c;return r.roleAssumer(y,g).then(S=>en.setCredentialFeature(S,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},NP=e=>!e.role_arn&&!!e.credential_source,oK=e=>!!(e&&e.login_session),iK=async(e,t)=>{let r=await ZW.fromLoginCredentials({...t,profile:e})();return en.setCredentialFeature(r,"CREDENTIALS_PROFILE_LOGIN","AC")},aK=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",cK=async(e,t)=>Promise.resolve().then(()=>T(Qy())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>en.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),uK=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>T(Sy()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?en.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):en.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},lK=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),OP=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,LP=async(e,t)=>{var n;(n=t==null?void 0:t.logger)==null||n.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return en.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},dK=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,pK=async(e,t)=>Promise.resolve().then(()=>T(Jy())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>en.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),kP=async(e,t,r,n={},s=!1)=>{let o=t[e];if(Object.keys(n).length>0&&OP(o))return LP(o,r);if(s||tK(o,{profile:e,logger:r.logger}))return sK(e,t,r,n,kP);if(OP(o))return LP(o,r);if(dK(o))return pK(o,r);if(aK(o))return cK(r,e);if(lK(o))return await uK(e,o,r);if(oK(o))return iK(e,r);throw new Oa.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},mK=(e={})=>async({callerClientConfig:t}={})=>{var s;let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};(s=r.logger)==null||s.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await eE.parseKnownFiles(r);return kP(eE.getProfileName({profile:e.profile??(t==null?void 0:t.profile)}),n,r)};MP.fromIni=mK});var GP=P(Dd=>{"use strict";var tE=Hg(),La=nt(),fK=gr(),BP="AWS_EC2_METADATA_DISABLED",hK=async e=>{var o,i;let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>T(zi()));if(process.env[r]||process.env[t]){(o=e.logger)==null||o.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>T(Qg()));return La.chain(a(e),n(e))}return process.env[BP]&&process.env[BP]!=="false"?async()=>{throw new La.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:((i=e.logger)==null||i.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))};function gK(e,t){let r=yK(e),n,s,o,i=async a=>{var c;if(a!=null&&a.forceRefresh)return await r(a);if(o!=null&&o.expiration&&((c=o==null?void 0:o.expiration)==null?void 0:c.getTime())<Date.now()&&(o=void 0),n)await n;else if(!o||t!=null&&t(o))if(o)s||(s=r(a).then(u=>{o=u,s=void 0}));else return n=r(a).then(u=>{o=u,n=void 0}),i(a);return o};return i}var yK=e=>async t=>{let r;for(let n of e)try{return await n(t)}catch(s){if(r=s,s!=null&&s.tryNextLink)continue;throw s}throw r},FP=!1,EK=(e={})=>gK([async()=>{var r,n,s,o;if(e.profile??process.env[fK.ENV_PROFILE])throw process.env[tE.ENV_KEY]&&process.env[tE.ENV_SECRET]&&(FP||(((r=e.logger)!=null&&r.warn&&((s=(n=e.logger)==null?void 0:n.constructor)==null?void 0:s.name)!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),FP=!0)),new La.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return(o=e.logger)==null||o.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),tE.fromEnv(e)()},async t=>{var c;(c=e.logger)==null||c.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e;if(!r&&!n&&!s&&!o&&!i)throw new La.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>T(Sy()));return a(e)(t)},async t=>{var n;(n=e.logger)==null||n.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>T(UP()));return r(e)(t)},async t=>{var n;(n=e.logger)==null||n.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>T(Qy()));return r(e)(t)},async t=>{var n;(n=e.logger)==null||n.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>T(Jy()));return r(e)(t)},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await hK(e))()},async()=>{throw new La.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],$P),SK=e=>(e==null?void 0:e.expiration)!==void 0,$P=e=>(e==null?void 0:e.expiration)!==void 0&&e.expiration.getTime()-Date.now()<3e5;Dd.credentialsTreatedAsExpired=$P;Dd.credentialsWillNeedRefresh=SK;Dd.defaultProvider=EK});var rE,Ht,zo=_(()=>{Z();rE=T(Y()),Ht=class{queryCompat;constructor(t=!1){this.queryCompat=t}resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:l,httpPrefixHeaders:d}=i.getMergedTraits();return!a&&!c&&!u&&!l&&d===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,o,i){let a=r,c=t;t.includes("#")&&([a,c]=t.split("#"));let u={$metadata:o,$fault:n.statusCode<500?"client":"server"},l=F.for(a);try{return{errorSchema:(i==null?void 0:i(l,c))??l.getSchema(t),errorMetadata:u}}catch{s.message=s.message??s.Message??"UnknownError";let g=F.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new y({name:c}),u),s)}throw this.decorateServiceException(Object.assign(new Error(c),u),s)}}decorateServiceException(t,r={}){if(this.queryCompat){let n=t.Message??r.Message,s=(0,rE.decorateServiceException)(t,r);n&&(s.message=n),s.Error={...s.Error,Type:s.Error.Type,Code:s.Error.Code,Message:s.Error.message??s.Error.Message??n};let o=s.$metadata.requestId;return o&&(s.RequestId=o),s}return(0,rE.decorateServiceException)(t,r)}setQueryCompatError(t,r){var s;let n=(s=r.headers)==null?void 0:s["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,i]=n.split(";"),a=Object.entries(t),c={Code:o,Type:i};Object.assign(t,c);for(let[u,l]of a)c[u==="message"?"Message":u]=l;delete c.__type,t.Error=c}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}findQueryCompatibleError(t,r){try{return t.getSchema(r)}catch{return t.find(s=>{var o;return((o=L.of(s).getMergedTraits().awsQueryError)==null?void 0:o[0])===r})}}}});var nE,HP=_(()=>{Yh();Z();zo();nE=class extends po{awsQueryCompatible;mixin;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r,this.mixin=new Ht(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=(()=>{let y=n.headers["x-amzn-query-error"];return y&&this.awsQueryCompatible?y.split(";")[0]:lo(n,s)??"Unknown"})(),{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=L.of(a),l=s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l),h={};for(let[y,S]of u.structIterator())s[y]!=null&&(h[y]=this.deserializer.readValue(S,s[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}}});var _K,bK,TK,qP=_(()=>{_K=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},bK=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},TK=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var lt,Zn=_(()=>{lt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function*Vo(e,t){if(e.isUnitSchema())return;let r=e.getSchema();for(let n=0;n<r[4].length;++n){let s=r[4][n],o=r[5][n],i=new L([o,0],s);!(s in t)&&!i.isIdempotencyToken()||(yield[s,i])}}function*jP(e,t,r){if(e.isUnitSchema())return;let n=e.getSchema(),s=Object.keys(t).filter(o=>o!=="__type").length;for(let o=0;o<n[4].length&&s!==0;++o){let i=n[4][o],a=n[5][o],c=new L([a,0],i),u=i;r&&(u=c.getMergedTraits()[r]??i),u in t&&(yield[i,c],s-=1)}}var ka=_(()=>{Z()});function zP(e,t,r){if(r!=null&&r.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new re(n,"bigDecimal"):BigInt(n)}return t}var VP=_(()=>{$e()});var WP,KP,Pd,sE=_(()=>{WP=T(Y()),KP=T(Fe()),Pd=(e,t)=>(0,WP.collectBody)(e,t).then(r=>((t==null?void 0:t.utf8Encoder)??KP.toUtf8)(r))});var Nd,wK,Ma,Ua=_(()=>{sE();Nd=(e,t)=>Pd(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw(n==null?void 0:n.name)==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),wK=async(e,t)=>{let r=await Nd(e,t);return r.message=r.message??r.Message,r},Ma=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var YP,Ba,oE=_(()=>{ve();Z();$e();YP=T(Re());Zn();ka();VP();Ua();Ba=class extends lt{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,zP):await Nd(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=L.of(t);if(n){if(s.isStructSchema()){let i={};for(let[a,c]of jP(s,r,this.settings.jsonName?"jsonName":!1)){let u=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,l=this._read(c,r[u]);l!=null&&(i[a]=l)}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,l]of Object.entries(r))(c||l!=null)&&(a[u]=this._read(i,l));return a}}if(s.isBlobSchema()&&typeof r=="string")return(0,YP.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?He.from(r):r;if(s.isTimestampSchema()&&r!=null)switch(Le(s,this.settings)){case 5:return wi(r);case 6:return Ii(r);case 7:return xi(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof re)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new re(i.string,i.type):new re(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof re?i[a]=c:i[a]=this._read(s,c);return i}else return structuredClone(r);return r}}});var QP,Od,XP=_(()=>{$e();QP="\u039D",Od=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof re){let n=`${QP+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${QP+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var iE,Fa,aE=_(()=>{ve();Z();$e();iE=T(Re());Zn();ka();XP();Fa=class extends lt{settings;buffer;useReplacer=!1;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=L.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=L.of(t).getName(!0))}flush(){let{rootSchema:t,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,t!=null&&t.isStructSchema()||t!=null&&t.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Od;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(t,r,n){var i,a;let s=r!==null&&typeof r=="object",o=L.of(t);if(s){if(o.isStructSchema()){let c={};for(let[u,l]of Vo(o,r)){let d=this._write(l,r[u],o);if(d!==void 0){let g=l.getMergedTraits().jsonName,h=this.settings.jsonName?g??u:u;c[h]=d}}return c}if(Array.isArray(r)&&o.isListSchema()){let c=o.getValueSchema(),u=[],l=!!o.getMergedTraits().sparse;for(let d of r)(l||d!=null)&&u.push(this._write(c,d));return u}if(o.isMapSchema()){let c=o.getValueSchema(),u={},l=!!o.getMergedTraits().sparse;for(let[d,g]of Object.entries(r))(l||g!=null)&&(u[d]=this._write(c,g));return u}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(((i=this.serdeContext)==null?void 0:i.base64Encoder)??iE.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch(Le(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return ms(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof re&&(this.useReplacer=!0)}if(!(r===null&&(n!=null&&n.isStructSchema()))){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,ze.v4)();let c=o.getMergedTraits().mediaType;return r!=null&&c&&(c==="application/json"||c.endsWith("+json"))?He.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(((a=this.serdeContext)==null?void 0:a.base64Encoder)??iE.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(s){let c=Array.isArray(r)?[]:{};for(let[u,l]of Object.entries(r))l instanceof re?(this.useReplacer=!0,c[u]=l):c[u]=this._write(o,l);return c}else return structuredClone(r);return r}}}});var Us,Ld=_(()=>{Zn();oE();aE();Us=class extends lt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Fa(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ba(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Bs,kd=_(()=>{ve();Z();zo();Ld();Ua();Bs=class extends Rt{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=s??new Us({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new Ht(this.awsQueryCompatible)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(ft(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=Ma(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o,this.awsQueryCompatible?this.mixin.findQueryCompatibleError:void 0),u=L.of(a),l=s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l),h={};for(let[y,S]of u.structIterator())s[y]!=null&&(h[y]=this.codec.createDeserializer().readObject(S,s[y]));throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}}});var cE,JP=_(()=>{kd();cE=class extends Bs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var uE,ZP=_(()=>{kd();uE=class extends Bs{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var lE,eN=_(()=>{ve();Z();zo();Ld();Ua();lE=class extends Wt{serializer;deserializer;codec;mixin=new Ht;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Us(r),this.serializer=new Yt(this.codec.createSerializer(),r),this.deserializer=new Kt(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=L.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.body==null&&s.headers["content-type"]===this.getDefaultContentType()&&(s.body="{}"),s}async deserializeResponse(t,r,n){let s=await super.deserializeResponse(t,r,n),o=L.of(t.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in s)&&(s[i]=null);return s}async handleError(t,r,n,s,o){let i=Ma(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=L.of(a),l=s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[y,S]of u.structIterator()){let w=S.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(S,s[w])}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}getDefaultContentType(){return"application/json"}}});var tN,IK,rN=_(()=>{tN=T(Y()),IK=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,tN.expectUnion)(e)}});var nN=P(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.parseXML=CK;var xK=dg(),dE=new xK.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});dE.addEntity("#xD","\r");dE.addEntity("#10",`
`);function CK(e){return dE.parse(e,!0)}});var Bd=P(Ud=>{"use strict";var AK=nN();function RK(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function vK(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Md=class{value;constructor(t){this.value=t}toString(){return vK(""+this.value)}},mE=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new Md(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),i=new e(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${RK(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Ud,"parseXML",{enumerable:!0,get:function(){return AK.parseXML}});Ud.XmlNode=mE;Ud.XmlText=Md});var sN,oN,iN,Fs,Fd=_(()=>{sN=T(Bd());ve();Z();oN=T(Y()),iN=T(Fe());Zn();Fs=class extends lt{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Gr(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){var u;let s=L.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},d=Object.keys(o)[0];return o[d].isBlobSchema()?l[d]=r:l[d]=this.read(o[d],r),l}let a=(((u=this.serdeContext)==null?void 0:u.utf8Encoder)??iN.toUtf8)(r),c=this.parseXml(a);return this.readSchema(t,n?c[n]:c)}readSchema(t,r){let n=L.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),u=[],l=c.getMergedTraits().xmlName??"member",d=i?r:(r[0]??r)[l],g=Array.isArray(d)?d:[d];for(let h of g)(h!=null||o)&&u.push(this.readSchema(c,h));return u}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),u=n.getValueSchema(),l;i?l=Array.isArray(r)?r:[r]:l=Array.isArray(r.entry)?r.entry:[r.entry];let d=c.getMergedTraits().xmlName??"key",g=u.getMergedTraits().xmlName??"value";for(let h of l){let y=h[d],S=h[g];(S!=null||o)&&(a[y]=this.readSchema(u,S))}return a}if(n.isStructSchema()){for(let[c,u]of n.structIterator()){let l=u.getMergedTraits(),d=l.httpPayload?l.xmlName??u.getName():u.getMemberTraits().xmlName??c;r[d]!=null&&(a[c]=this.readSchema(u,r[d]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,sN.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,oN.getValueFromTextNode)(o)}return{}}}});var aN,cN,$d,uN=_(()=>{ve();Z();$e();aN=T(Y()),cN=T(Re());Zn();ka();$d=class extends lt{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){var o;this.buffer===void 0&&(this.buffer="");let s=L.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((((o=this.serdeContext)==null?void 0:o.base64Encoder)??cN.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,ze.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof re?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),Le(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,aN.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let u of r){if(u==null)continue;let l=this.getKey("member",i.getMergedTraits().xmlName),d=a?`${n}${c}`:`${n}${l}.${c}`;this.write(i,u,d),++c}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,u=1;for(let[l,d]of Object.entries(r)){if(d==null)continue;let g=this.getKey("key",i.getMergedTraits().xmlName),h=c?`${n}${u}.${g}`:`${n}entry.${u}.${g}`,y=this.getKey("value",a.getMergedTraits().xmlName),S=c?`${n}${u}.${y}`:`${n}entry.${u}.${y}`;this.write(i,l,h),this.write(a,d,S),++u}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,a]of Vo(s,r)){if(r[i]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(i,a.getMergedTraits().xmlName),u=`${n}${c}`;this.write(a,r[i],u)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${At(t)}=`}writeValue(t){this.buffer+=At(t)}}});var $a,fE=_(()=>{ve();Z();zo();Fd();uN();$a=class extends Rt{options;serializer;deserializer;mixin=new Ht;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new $d(r),this.deserializer=new Fs(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(ft(t.input)==="unit"||!s.body)&&(s.body="");let o=t.name.split("#")[1]??t.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,o=L.of(t.output),i={};if(n.statusCode>=300){let d=await mt(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let d in n.headers){let g=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await mt(n.body,r);return u.byteLength>0&&Object.assign(i,await s.read(o,u,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),c=this.loadQueryErrorMessage(s);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:u,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,o,this.mixin.findQueryCompatibleError),d=L.of(u),g=F.for(u[1]).getErrorCtor(u)??Error,h=new g(c),y={Type:a.Error.Type,Code:a.Error.Code,Error:a.Error};for(let[S,w]of d.structIterator()){let C=w.getMergedTraits().xmlName??S,R=a[C]??s[C];y[S]=this.deserializer.readSchema(w,R)}throw this.mixin.decorateServiceException(Object.assign(h,l,{$fault:d.getMergedTraits().error,message:c},y),s)}loadQueryErrorCode(t,r){var s,o,i,a;let n=(a=((o=(s=r.Errors)==null?void 0:s[0])==null?void 0:o.Error)??((i=r.Errors)==null?void 0:i.Error)??r.Error)==null?void 0:a.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){var r,n,s;return((n=(r=t.Errors)==null?void 0:r[0])==null?void 0:n.Error)??((s=t.Errors)==null?void 0:s.Error)??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return(r==null?void 0:r.message)??(r==null?void 0:r.Message)??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var hE,lN=_(()=>{fE();hE=class extends $a{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var dN,pN,mN,DK,gE,yE=_(()=>{dN=T(Bd()),pN=T(Y());sE();mN=(e,t)=>Pd(e,t).then(r=>{if(r.length){let n;try{n=(0,dN.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,pN.getValueFromTextNode)(i)}return{}}),DK=async(e,t)=>{let r=await mN(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},gE=(e,t)=>{var r;if(((r=t==null?void 0:t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var qt,EE,Gd,Ga,SE=_(()=>{qt=T(Bd());ve();Z();$e();EE=T(Y()),Gd=T(Re());Zn();ka();Ga=class extends lt{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){var s;let n=L.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Gd.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){var r;if(this.byteBuffer!==void 0){let n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){let n=this.stringBuffer;return delete this.stringBuffer,n}let t=this.buffer;return this.settings.xmlNamespace&&((r=t==null?void 0:t.attributes)!=null&&r.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=qt.XmlNode.of(o),[a,c]=this.getXmlnsAttribute(t,n);for(let[u,l]of Vo(t,r)){let d=r[u];if(d!=null||l.isIdempotencyToken()){if(l.getMergedTraits().xmlAttribute){i.addAttribute(l.getMergedTraits().xmlName??u,this.writeSimple(l,d));continue}if(l.isListSchema())this.writeList(l,d,i,c);else if(l.isMapSchema())this.writeMap(l,d,i,c);else if(l.isStructSchema())i.addChildNode(this.writeStruct(l,d,c));else{let g=qt.XmlNode.of(l.getMergedTraits().xmlName??l.getMemberName());this.writeSimpleInto(l,d,g,c),i.addChildNode(g)}}}return c&&i.addAttribute(a,c),i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!o.xmlFlattened,[l,d]=this.getXmlnsAttribute(t,s),g=(h,y)=>{if(i.isListSchema())this.writeList(i,Array.isArray(y)?y:[y],h,d);else if(i.isMapSchema())this.writeMap(i,y,h,d);else if(i.isStructSchema()){let S=this.writeStruct(i,y,d);h.addChildNode(S.withName(u?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=qt.XmlNode.of(u?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,y,S,d),h.addChildNode(S)}};if(u)for(let h of r)(c||h!=null)&&g(n,h);else{let h=qt.XmlNode.of(o.xmlName??t.getMemberName());d&&h.addAttribute(l,d);for(let y of r)(c||y!=null)&&g(h,y);n.addChildNode(h)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),u=a.getMergedTraits().xmlName??"key",l=t.getValueSchema(),d=l.getMergedTraits(),g=d.xmlName??"value",h=!!d.sparse,y=!!i.xmlFlattened,[S,w]=this.getXmlnsAttribute(t,s),C=(R,N,M)=>{let B=qt.XmlNode.of(u,N),[J,oe]=this.getXmlnsAttribute(a,w);oe&&B.addAttribute(J,oe),R.addChildNode(B);let V=qt.XmlNode.of(g);l.isListSchema()?this.writeList(l,M,V,w):l.isMapSchema()?this.writeMap(l,M,V,w,!0):l.isStructSchema()?V=this.writeStruct(l,M,w):this.writeSimpleInto(l,M,V,w),R.addChildNode(V)};if(y){for(let[R,N]of Object.entries(r))if(h||N!=null){let M=qt.XmlNode.of(i.xmlName??t.getMemberName());C(M,R,N),n.addChildNode(M)}}else{let R;o||(R=qt.XmlNode.of(i.xmlName??t.getMemberName()),w&&R.addAttribute(S,w),n.addChildNode(R));for(let[N,M]of Object.entries(r))if(h||M!=null){let B=qt.XmlNode.of("entry");C(B,N,M),(o?n:R).addChildNode(B)}}}writeSimple(t,r){var o;if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=L.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(((o=this.serdeContext)==null?void 0:o.base64Encoder)??Gd.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(Le(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,EE.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,EE.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof re?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,ze.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=L.of(t),a=new qt.XmlText(o),[c,u]=this.getXmlnsAttribute(i,s);u&&n.addAttribute(c,u),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var Ha,_E=_(()=>{Zn();Fd();SE();Ha=class extends lt{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ga(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Fs(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var bE,fN=_(()=>{ve();Z();zo();yE();_E();bE=class extends Wt{codec;serializer;deserializer;mixin=new Ht;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Ha(r),this.serializer=new Yt(this.codec.createSerializer(),r),this.deserializer=new Kt(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=L.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return typeof s.body=="string"&&s.headers["content-type"]===this.getDefaultContentType()&&!s.body.startsWith("<?xml ")&&!this.hasUnstructuredPayloadBinding(o)&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){var y,S,w;let i=gE(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=L.of(a),l=((y=s.Error)==null?void 0:y.message)??((S=s.Error)==null?void 0:S.Message)??s.message??s.Message??"Unknown",d=F.for(a[1]).getErrorCtor(a)??Error,g=new d(l);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[C,R]of u.structIterator()){let N=R.getMergedTraits().xmlName??C,M=((w=s.Error)==null?void 0:w[N])??s[N];h[C]=this.codec.createDeserializer().readSchema(R,M)}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:l},h),s)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(t){for(let[,r]of t.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}});var hN={};We(hN,{AwsEc2QueryProtocol:()=>hE,AwsJson1_0Protocol:()=>cE,AwsJson1_1Protocol:()=>uE,AwsJsonRpcProtocol:()=>Bs,AwsQueryProtocol:()=>$a,AwsRestJsonProtocol:()=>lE,AwsRestXmlProtocol:()=>bE,AwsSmithyRpcV2CborProtocol:()=>nE,JsonCodec:()=>Us,JsonShapeDeserializer:()=>Ba,JsonShapeSerializer:()=>Fa,XmlCodec:()=>Ha,XmlShapeDeserializer:()=>Fs,XmlShapeSerializer:()=>Ga,_toBool:()=>bK,_toNum:()=>TK,_toStr:()=>_K,awsExpectUnion:()=>IK,loadRestJsonErrorCode:()=>Ma,loadRestXmlErrorCode:()=>gE,parseJsonBody:()=>Nd,parseJsonErrorBody:()=>wK,parseXmlBody:()=>mN,parseXmlErrorBody:()=>DK});var gN=_(()=>{HP();qP();JP();ZP();kd();eN();Ld();oE();aE();rN();Ua();lN();fE();fN();_E();Fd();SE();yE()});var TN=P(bN=>{"use strict";var xE=(gN(),se(hN)),yN=(Z(),se(Ei)),EN=Y(),SN=Re(),TE=class extends xE.JsonCodec{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let t=new wE(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new IE(this.settings);return t.setSerdeContext(this.serdeContext),t}},_N="com.amazonaws.dynamodb#AttributeValue",wE=class extends xE.JsonShapeSerializer{_write(t,r,n){var o;let s=yN.NormalizedSchema.of(t);if(s.isStructSchema()&&s.getName(!0)===_N&&r&&typeof r=="object"){let i=r,a=EN._json(i),c=((o=this.serdeContext)==null?void 0:o.base64Encoder)??SN.toBase64;if(i.B instanceof Uint8Array&&(a.B=c(i.B)),Array.isArray(i.BS)&&(a.BS=i.BS.map(c)),Array.isArray(i.L)&&(a.L=i.L.filter(u=>u!=null).map(u=>this._write(s,u,n))),i.M&&typeof i.M=="object"){a.M={};for(let[u,l]of Object.entries(i.M))l!=null&&(a.M[u]=this._write(s,l,n))}return a}return super._write(s,r,n)}},IE=class extends xE.JsonShapeDeserializer{_read(t,r){var s;let n=yN.NormalizedSchema.of(t);if(n.isStructSchema()&&n.getName(!0)===_N&&r&&typeof r=="object"){let o=r,i=EN._json(o),a=((s=this.serdeContext)==null?void 0:s.base64Decoder)??SN.fromBase64;if(typeof o.B=="string"&&(i.B=a(o.B)),Array.isArray(o.BS)&&(i.BS=o.BS.map(a)),Array.isArray(o.L)&&(i.L=o.L.map(c=>this._read(n,c))),o.M&&typeof o.M=="object"){i.M={};for(let[c,u]of Object.entries(o.M))i.M[c]=this._read(n,u)}return i}return super._read(n,r)}};bN.DynamoDBJsonCodec=TE});var WN=P(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.ruleSet=void 0;var RE="required",W="type",ke="rules",Te="conditions",$="fn",G="argv",ue="ref",Hd="assign",xr="url",Cr="properties",Ar="headers",jN="metricValues",PK=!1,Me="error",dt="stringEquals",wN="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",wt="endpoint",Ge="tree",vE="dynamodb",qa={[RE]:!1,[W]:"string"},IN={[RE]:!0,default:!1,[W]:"boolean"},xN={[$]:"isSet",[G]:[{[ue]:"Endpoint"}]},NK={[ue]:"Endpoint"},CN={[$]:"isSet",[G]:[{[ue]:"Region"}]},zN={[ue]:"Region"},AN={[$]:"aws.partition",[G]:[zN],[Hd]:"PartitionResult"},RN={[Te]:[{[$]:"booleanEquals",[G]:[{[ue]:"UseFIPS"},!0]}],[Me]:"Invalid Configuration: FIPS and custom endpoint are not supported",[W]:Me},Wo={[$]:"booleanEquals",[G]:[{[ue]:"UseFIPS"},!0]},vN={[Te]:[{[$]:"booleanEquals",[G]:[{[ue]:"UseDualStack"},!0]}],[Me]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[W]:Me},VN={[$]:"booleanEquals",[G]:[{[ue]:"UseDualStack"},!0]},DN={[wt]:{[xr]:"{Endpoint}",[Cr]:{},[Ar]:{}},[W]:wt},tn={},PN={[$]:"booleanEquals",[G]:[{[$]:"getAttr",[G]:[{[ue]:"PartitionResult"},"supportsFIPS"]},!0]},NN={[$]:"booleanEquals",[G]:[{[$]:"getAttr",[G]:[{[ue]:"PartitionResult"},"supportsDualStack"]},!0]},CE={[Te]:[{[$]:"isSet",[G]:[{[ue]:"AccountIdEndpointMode"}]},{[$]:dt,[G]:[{[ue]:"AccountIdEndpointMode"},"required"]}],[ke]:[{[Me]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[W]:Me}],[W]:Ge},ja={[$]:"getAttr",[G]:[{[ue]:"PartitionResult"},"name"]},ON={[wt]:{[xr]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Cr]:{},[Ar]:{}},[W]:wt},LN={[xr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cr]:{[jN]:["O"]},[Ar]:{}},AE={[jN]:["O"]},kN={[Me]:"Credentials-sourced account ID parameter is invalid",[W]:Me},MN={[Te]:[{[$]:"isSet",[G]:[{[ue]:"AccountIdEndpointMode"}]},{[$]:dt,[G]:[{[ue]:"AccountIdEndpointMode"},"required"]}],[ke]:[{[Te]:[{[$]:"not",[G]:[Wo]}],[ke]:[{[Te]:[{[$]:dt,[G]:[ja,"aws"]}],[ke]:[{[Me]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[W]:Me}],[W]:Ge},{[Me]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[W]:Me}],[W]:Ge},{[Me]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[W]:Me}],[W]:Ge},UN={[xr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Cr]:AE,[Ar]:{}},BN=[Wo],FN=[VN],$N=[{[$]:"isSet",[G]:[{[ue]:"AccountIdEndpointMode"}]},{[$]:"not",[G]:[{[$]:dt,[G]:[{[ue]:"AccountIdEndpointMode"},"disabled"]}]},{[$]:dt,[G]:[ja,"aws"]},{[$]:"not",[G]:[Wo]},{[$]:"isSet",[G]:[{[ue]:"ResourceArn"}]},{[$]:"aws.parseArn",[G]:[{[ue]:"ResourceArn"}],[Hd]:"ParsedArn"},{[$]:dt,[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"service"]},vE]},{[$]:"isValidHostLabel",[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"region"]},!1]},{[$]:dt,[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"region"]},"{Region}"]},{[$]:"isValidHostLabel",[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"accountId"]},!1]}],GN=[{[$]:"isSet",[G]:[{[ue]:"AccountIdEndpointMode"}]},{[$]:"not",[G]:[{[$]:dt,[G]:[{[ue]:"AccountIdEndpointMode"},"disabled"]}]},{[$]:dt,[G]:[ja,"aws"]},{[$]:"not",[G]:[Wo]},{[$]:"isSet",[G]:[{[ue]:"ResourceArnList"}]},{[$]:"getAttr",[G]:[{[ue]:"ResourceArnList"},"[0]"],[Hd]:"FirstArn"},{[$]:"aws.parseArn",[G]:[{[ue]:"FirstArn"}],[Hd]:"ParsedArn"},{[$]:dt,[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"service"]},vE]},{[$]:"isValidHostLabel",[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"region"]},!1]},{[$]:dt,[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"region"]},"{Region}"]},{[$]:"isValidHostLabel",[G]:[{[$]:"getAttr",[G]:[{[ue]:"ParsedArn"},"accountId"]},!1]}],HN=[{[$]:"isSet",[G]:[{[ue]:"AccountIdEndpointMode"}]},{[$]:"not",[G]:[{[$]:dt,[G]:[{[ue]:"AccountIdEndpointMode"},"disabled"]}]},{[$]:dt,[G]:[ja,"aws"]},{[$]:"not",[G]:[Wo]},{[$]:"isSet",[G]:[{[ue]:"AccountId"}]}],qN=[{[$]:"isValidHostLabel",[G]:[{[ue]:"AccountId"},!1]}],OK={version:"1.0",parameters:{Region:qa,UseDualStack:IN,UseFIPS:IN,Endpoint:qa,AccountId:qa,AccountIdEndpointMode:qa,ResourceArn:qa,ResourceArnList:{[RE]:PK,[W]:"stringArray"}},[ke]:[{[Te]:[xN,CN,AN],[ke]:[RN,vN,{[Te]:[{[$]:dt,[G]:[NK,wN]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[W]:Me},DN],[W]:Ge},{[Te]:[xN],[ke]:[RN,vN,DN],[W]:Ge},{[Te]:[CN],[ke]:[{[Te]:[AN],[ke]:[{[Te]:[{[$]:dt,[G]:[zN,"local"]}],[ke]:[{[Te]:BN,error:"Invalid Configuration: FIPS and local endpoint are not supported",[W]:Me},{[Te]:FN,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[W]:Me},{endpoint:{[xr]:"http://localhost:8000",[Cr]:{authSchemes:[{name:"sigv4",signingName:vE,signingRegion:"us-east-1"}]},[Ar]:tn},[W]:wt}],[W]:Ge},{[Te]:[Wo,VN],[ke]:[{[Te]:[PN,NN],[ke]:[CE,{endpoint:{[xr]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cr]:tn,[Ar]:tn},[W]:wt}],[W]:Ge},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[W]:Me}],[W]:Ge},{[Te]:BN,[ke]:[{[Te]:[PN],[ke]:[{[Te]:[{[$]:dt,[G]:[ja,"aws-us-gov"]}],[ke]:[CE,ON],[W]:Ge},CE,{endpoint:{[xr]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Cr]:tn,[Ar]:tn},[W]:wt}],[W]:Ge},{error:"FIPS is enabled but this partition does not support FIPS",[W]:Me}],[W]:Ge},{[Te]:FN,[ke]:[{[Te]:[NN],[ke]:[{[Te]:$N,endpoint:LN,[W]:wt},{[Te]:GN,endpoint:LN,[W]:wt},{[Te]:HN,[ke]:[{[Te]:qN,[ke]:[{endpoint:{[xr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Cr]:AE,[Ar]:tn},[W]:wt}],[W]:Ge},kN],[W]:Ge},MN,{endpoint:{[xr]:wN,[Cr]:tn,[Ar]:tn},[W]:wt}],[W]:Ge},{error:"DualStack is enabled but this partition does not support DualStack",[W]:Me}],[W]:Ge},{[Te]:$N,endpoint:UN,[W]:wt},{[Te]:GN,endpoint:UN,[W]:wt},{[Te]:HN,[ke]:[{[Te]:qN,[ke]:[{endpoint:{[xr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Cr]:AE,[Ar]:tn},[W]:wt}],[W]:Ge},kN],[W]:Ge},MN,ON],[W]:Ge}],[W]:Ge},{error:"Invalid Configuration: Missing Region",[W]:Me}]};qd.ruleSet=OK});var KN=P(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.defaultEndpointResolver=void 0;var LK=gs(),DE=Sn(),kK=WN(),MK=new DE.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),UK=(e,t={})=>MK.get(e,()=>(0,DE.resolveEndpoint)(kK.ruleSet,{endpointParams:e,logger:t.logger}));jd.defaultEndpointResolver=UK;DE.customEndpointFunctions.aws=LK.awsEndpointFunctions});var XN=P(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.getRuntimeConfig=void 0;var BK=(Ke(),se(kn)),FK=(_s(),se(bg)),$K=TN(),GK=Y(),HK=qr(),YN=Re(),QN=Fe(),qK=Gg(),jK=KN(),zK=e=>({apiVersion:"2012-08-10",base64Decoder:(e==null?void 0:e.base64Decoder)??YN.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??YN.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??jK.defaultEndpointResolver,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??qK.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new BK.AwsSdkSigV4Signer}],logger:(e==null?void 0:e.logger)??new GK.NoOpLogger,protocol:(e==null?void 0:e.protocol)??new FK.AwsJson1_0Protocol({defaultNamespace:"com.amazonaws.dynamodb",serviceTarget:"DynamoDB_20120810",awsQueryCompatible:!1,jsonCodec:new $K.DynamoDBJsonCodec}),serviceId:(e==null?void 0:e.serviceId)??"DynamoDB",urlParser:(e==null?void 0:e.urlParser)??HK.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??QN.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??QN.toUtf8});zd.getRuntimeConfig=zK});var nO=P(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.getRuntimeConfig=void 0;var VK=(Ai(),se(Ci)),WK=VK.__importDefault(sC()),JN=(Ke(),se(kn)),KK=(ym(),se(gm)),YK=GP(),QK=Rm(),ZN=Ao(),Vd=bt(),XK=Ro(),eO=Jt(),rn=yr(),tO=gn(),rO=Y(),JK=vo(),ZK=Do(),e6=ws(),t6=XN(),r6=e=>{(0,rO.emitWarningIfUnsupportedVersion)(process.version);let t=(0,ZK.resolveDefaultsModeConfig)(e),r=()=>t().then(rO.loadConfigsForDefaultMode),n=(0,t6.getRuntimeConfig)(e);(0,JN.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:(e==null?void 0:e.accountIdEndpointMode)??(0,rn.loadConfig)(KK.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,s),authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,rn.loadConfig)(JN.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??JK.calculateBodyLength,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??YK.defaultProvider,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,ZN.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:WK.default.version}),endpointDiscoveryEnabledProvider:(e==null?void 0:e.endpointDiscoveryEnabledProvider)??(0,rn.loadConfig)(QK.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,s),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,rn.loadConfig)(eO.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,rn.loadConfig)(Vd.NODE_REGION_CONFIG_OPTIONS,{...Vd.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:tO.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,rn.loadConfig)({...eO.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||e6.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??XK.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??tO.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,rn.loadConfig)(Vd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,rn.loadConfig)(Vd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,rn.loadConfig)(ZN.NODE_APP_ID_CONFIG_OPTIONS,s)}};Wd.getRuntimeConfig=r6});var aO=P(St=>{"use strict";var Kd=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},n6=e=>new Promise(t=>setTimeout(t,e*1e3)),iO={minDelay:2,maxDelay:120};St.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(St.WaiterState||(St.WaiterState={}));var s6=e=>{if(e.state===St.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},Kd())}`);throw t.name="AbortError",t}else if(e.state===St.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},Kd())}`);throw t.name="TimeoutError",t}else if(e.state!==St.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,Kd())}`);return e},o6=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return i6(e,s)},i6=(e,t)=>e+Math.random()*(t-e),a6=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:o},i,a)=>{var y;let c={},{state:u,reason:l}=await a(s,i);if(l){let S=sO(l);c[S]|=0,c[S]+=1}if(u!==St.WaiterState.RETRY)return{state:u,reason:l,observedResponses:c};let d=1,g=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if((y=n==null?void 0:n.signal)!=null&&y.aborted||o!=null&&o.aborted){let R="AbortController signal aborted.";return c[R]|=0,c[R]+=1,{state:St.WaiterState.ABORTED,observedResponses:c}}let S=o6(e,t,h,d);if(Date.now()+S*1e3>g)return{state:St.WaiterState.TIMEOUT,observedResponses:c};await n6(S);let{state:w,reason:C}=await a(s,i);if(C){let R=sO(C);c[R]|=0,c[R]+=1}if(w!==St.WaiterState.RETRY)return{state:w,reason:C,observedResponses:c};d+=1}},sO=e=>{var t;return e!=null&&e.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:(t=e==null?void 0:e.$metadata)!=null&&t.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String((e==null?void 0:e.message)??JSON.stringify(e,Kd())??"Unknown")},c6=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},oO=e=>{let t,r=new Promise(n=>{t=()=>n({state:St.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},u6=async(e,t,r)=>{var i;let n={...iO,...e};c6(n);let s=[a6(n,t,r)],o=[];if(e.abortSignal){let{aborted:a,clearListener:c}=oO(e.abortSignal);o.push(c),s.push(a)}if((i=e.abortController)!=null&&i.signal){let{aborted:a,clearListener:c}=oO(e.abortController.signal);o.push(c),s.push(a)}return Promise.race(s).then(a=>{for(let c of o)c();return a})};St.checkExceptions=s6;St.createWaiter=u6;St.waiterServiceDefaults=iO});var oM=P(A=>{"use strict";var l6=(ym(),se(gm)),d6=Rm(),cO=js(),p6=zs(),m6=Vs(),uO=bs(),f6=bt(),nn=(gt(),se(no)),ae=(Z(),se(Ei)),h6=To(),H=Er(),lO=Jt(),U=Y(),dO=Gg(),g6=nO(),pO=xs(),mO=_e(),or=aO(),y6=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),q={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},ce=class hO extends U.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,hO.prototype)}},gO=class yO extends ce{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,yO.prototype)}},EO=class SO extends ce{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,SO.prototype)}},_O=class bO extends ce{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,bO.prototype)}},TO=class wO extends ce{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,wO.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},IO=class xO extends ce{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,xO.prototype),this.throttlingReasons=t.throttlingReasons}},CO=class AO extends ce{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,AO.prototype),this.Message=t.Message}},RO=class vO extends ce{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,vO.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},DO=class PO extends ce{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,PO.prototype)}},NO=class OO extends ce{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,OO.prototype)}},LO=class kO extends ce{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,kO.prototype)}},MO=class UO extends ce{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,UO.prototype)}},BO=class FO extends ce{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,FO.prototype)}},$O=class GO extends ce{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,GO.prototype)}},HO=class qO extends ce{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,qO.prototype)}},jO=class zO extends ce{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,zO.prototype)}},VO=class WO extends ce{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,WO.prototype)}},KO=class YO extends ce{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,YO.prototype)}},QO=class XO extends ce{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,XO.prototype)}},JO=class ZO extends ce{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,ZO.prototype)}},e1=class t1 extends ce{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,t1.prototype)}},r1=class n1 extends ce{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,n1.prototype)}},s1=class o1 extends ce{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,o1.prototype)}},i1=class a1 extends ce{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,a1.prototype),this.Message=t.Message}},c1=class u1 extends ce{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,u1.prototype),this.Message=t.Message}},l1=class d1 extends ce{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,d1.prototype)}},p1=class m1 extends ce{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,m1.prototype)}},f1=class h1 extends ce{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,h1.prototype)}},g1=class y1 extends ce{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,y1.prototype)}},E1=class S1 extends ce{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,S1.prototype)}},_1=class b1 extends ce{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,b1.prototype)}},T1=class w1 extends ce{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,w1.prototype)}},I1=class x1 extends ce{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,x1.prototype)}},C1=class A1 extends ce{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,A1.prototype)}},R1=class v1 extends ce{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,v1.prototype),this.Item=t.Item}},D1=class P1 extends ce{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,P1.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},E6="Action",S6="ArchivalBackupArn",PE="ApproximateCreationDateTimePrecision",_6="AttributeDefinition",b6="ArchivalDateTime",Ja="AttributeDefinitions",T6="AttributeMap",w6="AccountMaxReadCapacityUnits",I6="AccountMaxWriteCapacityUnits",zp="AttributeName",x6="ArchivalReason",N1="ArchivalSummary",O1="AutoScalingDisabled",C6="AutoScalingPolicyDescription",A6="AutoScalingPolicyDescriptionList",R6="AutoScalingPolicyUpdate",L1="AutoScalingRoleArn",v6="AutoScalingSettingsDescription",D6="AutoScalingSettingsUpdate",P6="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",N6="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",O6="AttributeType",Vp="AttributesToGet",k1="AttributeUpdates",L6="AttributeValue",NE="AttributeValueList",k6="AttributeValueUpdate",M6="Address",OE="Attributes",U6="Backfilling",Za="BackupArn",M1="BackupCreationDateTime",LE="BackupDescription",kE="BackupDetails",U1="BackupExpiryDateTime",B6="BatchExecuteStatement",F6="BatchExecuteStatementInput",$6="BatchExecuteStatementOutput",G6="BatchGetItem",H6="BatchGetItemInput",q6="BatchGetItemOutput",j6="BatchGetResponseMap",z6="BatchGetRequestMap",V6="BackupInUseException",ec="BillingMode",B1="BillingModeOverride",F1="BillingModeSummary",ME="BackupName",W6="BackupNotFoundException",K6="BOOL",$1="BackupStatus",G1="BackupSizeBytes",Y6="BilledSizeBytes",Q6="BatchStatementError",X6="BatchStatementRequest",J6="BatchStatementResponse",Z6="BS",e8="BackupSummary",H1="BackupSummaries",UE="BackupType",t8="BatchWriteItem",r8="BatchWriteItemInput",n8="BatchWriteItemOutput",s8="BatchWriteItemRequestMap",o8="B",q1="Code",i8="CreateBackup",BE="ContinuousBackupsDescription",a8="CreateBackupInput",c8="CreateBackupOutput",u8="ContinuousBackupsStatus",l8="ContinuousBackupsUnavailableException",It="ConsumedCapacity",d8="ConditionalCheckFailedException",p8="ConsumedCapacityMultiple",j1="ConditionCheck",z1="CreationDateTime",$s="ConditionExpression",m8="CreateGlobalSecondaryIndexAction",f8="CreateGlobalTable",h8="CreateGlobalTableInput",g8="CreateGlobalTableOutput",y8="CreateGlobalTableWitnessGroupMemberAction",E8="ContributorInsightsAction",Wp="ContributorInsightsMode",S8="ContributorInsightsRuleList",_8="ContributorInsightsSummary",FE="ContributorInsightsStatus",V1="ContributorInsightsSummaries",W1="ComparisonOperator",tc="ConditionalOperator",b8="CsvOptions",T8="CachePeriodInMinutes",Yo="ConsistentRead",w8="CreateReplicaAction",I8="CreateReplicationGroupMemberAction",x8="CancellationReasonList",C8="ConfirmRemoveSelfResourceAccess",K1="ClientRequestToken",A8="CancellationReason",R8="CancellationReasons",Kp="ClientToken",v8="CreateTableInput",D8="CreateTableOutput",P8="CreateTable",Y1="CapacityUnits",Q1="CloudWatchLogGroupArn",N8="Capacity",O8="Condition",X1="Count",Yp="Create",L8="Csv",k8="Delimiter",M8="DeleteBackup",U8="DeleteBackupInput",B8="DescribeBackupInput",F8="DeleteBackupOutput",$8="DescribeBackupOutput",G8="DescribeBackup",H8="DescribeContinuousBackups",q8="DescribeContinuousBackupsInput",j8="DescribeContinuousBackupsOutput",z8="DescribeContributorInsights",V8="DescribeContributorInsightsInput",W8="DescribeContributorInsightsOutput",K8="DescribeEndpoints",Y8="DescribeExportInput",Q8="DescribeExportOutput",X8="DescribeEndpointsRequest",J8="DescribeEndpointsResponse",Z8="DescribeExport",e5="DeleteGlobalSecondaryIndexAction",t5="DescribeGlobalTable",r5="DescribeGlobalTableInput",n5="DescribeGlobalTableOutput",s5="DescribeGlobalTableSettings",o5="DescribeGlobalTableSettingsInput",i5="DescribeGlobalTableSettingsOutput",a5="DeleteGlobalTableWitnessGroupMemberAction",c5="DeleteItem",u5="DuplicateItemException",l5="DeleteItemInput",d5="DescribeImportInput",p5="DeleteItemOutput",m5="DescribeImportOutput",f5="DescribeImport",h5="DescribeKinesisStreamingDestination",g5="DescribeKinesisStreamingDestinationInput",y5="DescribeKinesisStreamingDestinationOutput",E5="DisableKinesisStreamingDestination",S5="DescribeLimits",_5="DescribeLimitsInput",b5="DescribeLimitsOutput",$E="DeletionProtectionEnabled",J1="DeleteRequest",T5="DeleteReplicaAction",w5="DeleteReplicationGroupMemberAction",I5="DeleteResourcePolicy",x5="DeleteResourcePolicyInput",C5="DeleteResourcePolicyOutput",GE="DestinationStatus",A5="DestinationStatusDescription",Z1="DisableScaleIn",R5="DeleteTable",v5="DeleteTableInput",D5="DescribeTableInput",P5="DeleteTableOutput",N5="DescribeTableOutput",O5="DescribeTableReplicaAutoScaling",L5="DescribeTableReplicaAutoScalingInput",k5="DescribeTableReplicaAutoScalingOutput",M5="DescribeTimeToLive",U5="DescribeTimeToLiveInput",B5="DescribeTimeToLiveOutput",F5="DescribeTable",Qo="Delete",$5="Error",HE="ExportArn",G5="ExpectedAttributeMap",jt="ExpressionAttributeNames",sn="ExpressionAttributeValues",H5="ExpressionAttributeValueMap",q5="ExpectedAttributeValue",j5="ErrorCount",z5="ExportConflictException",qE="ExportDescription",V5="ExceptionDescription",eL="ExportFormat",W5="ExportFromTime",jE="EnableKinesisStreamingConfiguration",K5="EnableKinesisStreamingDestination",Y5="ExportManifest",Q5="ExceptionName",X5="ExportNotFoundException",J5="EarliestRestorableDateTime",tL="ExpectedRevisionId",rL="ExportStatus",Z5="ExclusiveStartBackupArn",e9="ExclusiveStartGlobalTableName",t9="ExecuteStatementInput",nL="ExclusiveStartKey",r9="ExecuteStatementOutput",n9="ExclusiveStartTableName",s9="ExportSummary",o9="ExecuteStatement",sL="ExportSummaries",zE="EndTime",i9="ExecuteTransactionInput",a9="ExecuteTransactionOutput",c9="ExportToTime",u9="ExportTableToPointInTime",l9="ExportTableToPointInTimeInput",d9="ExportTableToPointInTimeOutput",oL="ExportTime",p9="ExecuteTransaction",VE="ExportType",m9="ExportViewType",iL="Endpoints",aL="Enabled",f9="Endpoint",WE="Expected",h9="Exists",cL="FailureCode",g9="FilterConditionMap",uL="FailureException",lL="FilterExpression",dL="FailureMessage",pL="Get",y9="GetItem",E9="GetItemInput",S9="GetItemOutput",_9="GetResourcePolicy",b9="GetResourcePolicyInput",T9="GetResourcePolicyOutput",vr="GlobalSecondaryIndexes",w9="GlobalSecondaryIndexAutoScalingUpdate",I9="GlobalSecondaryIndexAutoScalingUpdateList",x9="GlobalSecondaryIndexDescription",C9="GlobalSecondaryIndexDescriptionList",A9="GlobalSecondaryIndexInfo",R9="GlobalSecondaryIndexList",mL="GlobalSecondaryIndexOverride",v9="GlobalSecondaryIndexUpdate",D9="GlobalSecondaryIndexUpdateList",fL="GlobalSecondaryIndexUpdates",P9="GlobalSecondaryIndexWarmThroughputDescription",N9="GlobalSecondaryIndex",O9="GlobalTable",L9="GlobalTableArn",k9="GlobalTableAlreadyExistsException",M9="GlobalTableBillingMode",Qp="GlobalTableDescription",hL="GlobalTableGlobalSecondaryIndexSettingsUpdate",U9="GlobalTableGlobalSecondaryIndexSettingsUpdateList",B9="GlobalTableList",on="GlobalTableName",F9="GlobalTableNotFoundException",$9="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",G9="GlobalTableProvisionedWriteCapacityUnits",H9="GlobalTableStatus",q9="GlobalTableVersion",j9="GlobalTableWitnesses",z9="GlobalTableWitnessDescription",V9="GlobalTableWitnessDescriptionList",W9="GlobalTableWitnessGroupUpdate",K9="GlobalTableWitnessGroupUpdateList",Y9="GlobalTableWitnessUpdates",Q9="GlobalTables",X9="HeaderList",an="Item",KE="ImportArn",gL="IndexArn",rc="ItemCount",J9="ImportConflictException",Z9="ItemCollectionKey",eY="ItemCollectionKeyAttributeMap",Xo="ItemCollectionMetrics",tY="ItemCollectionMetricsMultiple",rY="ItemCollectionMetricsPerTable",nY="ItemCollectionSizeLimitExceededException",yL="InputCompressionType",sY="InaccessibleEncryptionDateTime",oY="InvalidEndpointException",YE="IncrementalExportSpecification",iY="InvalidExportTimeException",QE="InputFormat",XE="InputFormatOptions",aY="ImportedItemCount",cY="ItemList",Ae="IndexName",uY="ImportNotFoundException",lY="IndexNotFoundException",dY="IdempotentParameterMismatchException",pY="ItemResponse",mY="ItemResponseList",fY="InvalidRestoreTimeException",JE="IndexStatus",EL="IndexSizeBytes",hY="InternalServerError",SL="ImportSummaryList",gY="ImportSummary",_L="ImportStatus",yY="ImportTable",ZE="ImportTableDescription",EY="ImportTableInput",SY="ImportTableOutput",eS="Items",Dr="Key",_Y="KeysAndAttributes",bL="KeyConditions",bY="KeyConditionExpression",TL="KinesisDataStreamDestinations",TY="KinesisDataStreamDestination",wY="KeyList",IY="KMSMasterKeyArn",Xp="KMSMasterKeyId",zt="KeySchema",xY="KinesisStreamingDestinationInput",CY="KinesisStreamingDestinationOutput",AY="KeySchemaElement",RY="KeyType",vY="Keys",Jo="Limit",DY="ListAttributeValue",PY="ListBackups",NY="ListBackupsInput",OY="ListBackupsOutput",LY="ListContributorInsights",kY="ListContributorInsightsInput",MY="ListContributorInsightsOutput",UY="LastDecreaseDateTime",BY="ListExports",FY="LastEvaluatedBackupArn",$Y="LimitExceededException",GY="LastEvaluatedGlobalTableName",HY="ListExportsInput",tS="LastEvaluatedKey",qY="ListExportsOutput",jY="LastEvaluatedTableName",zY="ListGlobalTables",VY="ListGlobalTablesInput",WY="ListGlobalTablesOutput",KY="ListImports",YY="LastIncreaseDateTime",QY="ListImportsInput",XY="ListImportsOutput",JY="LatestRestorableDateTime",ZY="LatestStreamArn",nc="LocalSecondaryIndexes",eQ="LocalSecondaryIndexDescription",tQ="LocalSecondaryIndexDescriptionList",rQ="LocalSecondaryIndexInfo",nQ="LocalSecondaryIndexList",wL="LocalSecondaryIndexOverride",sQ="LocalSecondaryIndex",oQ="LatestStreamLabel",iQ="ListTables",aQ="ListTablesInput",cQ="ListTablesOutput",uQ="ListTagsOfResource",lQ="ListTagsOfResourceInput",dQ="ListTagsOfResourceOutput",IL="LastUpdateDateTime",pQ="LastUpdateToPayPerRequestDateTime",mQ="L",Zo="Message",fQ="MapAttributeValue",xL="MaxResults",CL="MultiRegionConsistency",AL="MaxReadRequestUnits",RL="MinimumUnits",vL="MaximumUnits",hQ="MaxWriteRequestUnits",gQ="M",yQ="N",EQ="NonKeyAttributes",SQ="NumberOfDecreasesToday",_Q="NS",Pr="NextToken",bQ="NULL",ir="OnDemandThroughput",ts="OnDemandThroughputOverride",rS="Parameters",sc="ProjectionExpression",TQ="PutItem",wQ="ProcessedItemCount",IQ="PutItemInput",xQ="PutItemInputAttributeMap",CQ="PutItemOutput",DL="PointInTimeRecoveryDescription",AQ="PointInTimeRecoveryEnabled",RQ="PointInTimeRecoveryStatus",PL="PointInTimeRecoverySpecification",vQ="PointInTimeRecoveryUnavailableException",NL="PolicyName",DQ="PolicyNotFoundException",PQ="PartiQLBatchRequest",NQ="PartiQLBatchResponse",OL="PutRequest",LL="ProvisionedReadCapacityAutoScalingSettings",OQ="ProvisionedReadCapacityAutoScalingSettingsUpdate",LQ="ProvisionedReadCapacityAutoScalingUpdate",kL="ProvisionedReadCapacityUnits",kQ="PutResourcePolicy",MQ="PutResourcePolicyInput",UQ="PutResourcePolicyOutput",BQ="PageSize",FQ="ProcessedSizeBytes",$Q="PreparedStatementParameters",GQ="ParameterizedStatement",HQ="ParameterizedStatements",ar="ProvisionedThroughput",qQ="ProvisionedThroughputDescription",jQ="ProvisionedThroughputExceededException",rs="ProvisionedThroughputOverride",zQ="ProjectionType",ML="ProvisionedWriteCapacityAutoScalingSettings",VQ="ProvisionedWriteCapacityAutoScalingSettingsUpdate",UL="ProvisionedWriteCapacityAutoScalingUpdate",BL="ProvisionedWriteCapacityUnits",FL="Policy",ns="Projection",$L="Put",WQ="Query",KQ="QueryFilter",YQ="QueryInput",QQ="QueryOutput",Jp="Responses",ei="ResourceArn",XQ="ReplicaAlreadyExistsException",JQ="ReplicaAutoScalingDescription",ZQ="ReplicaAutoScalingDescriptionList",eX="ReplicaAutoScalingUpdate",tX="ReplicaAutoScalingUpdateList",rX="ReplicaBillingModeSummary",Ot="ReturnConsumedCapacity",oc="ReadCapacityUnits",nX="ReplicaDescription",sX="ReplicaDescriptionList",GL="RestoreDateTime",nS="ReplicationGroup",oX="ReplicaGlobalSecondaryIndex",iX="ReplicaGlobalSecondaryIndexAutoScalingDescription",aX="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",cX="ReplicaGlobalSecondaryIndexAutoScalingUpdate",uX="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",lX="ReplicaGlobalSecondaryIndexDescription",dX="ReplicaGlobalSecondaryIndexDescriptionList",pX="ReplicaGlobalSecondaryIndexList",mX="ReplicaGlobalSecondaryIndexSettings",fX="ReplicaGlobalSecondaryIndexSettingsDescription",hX="ReplicaGlobalSecondaryIndexSettingsDescriptionList",HL="ReplicaGlobalSecondaryIndexSettingsUpdate",gX="ReplicaGlobalSecondaryIndexSettingsUpdateList",yX="ReplicaGlobalSecondaryIndexUpdates",EX="ReplicationGroupUpdate",SX="ReplicationGroupUpdateList",qL="RequestItems",ic="ReturnItemCollectionMetrics",_X="ReplicaInaccessibleDateTime",bX="RestoreInProgress",TX="ResourceInUseException",sS="RevisionId",wX="ReplicaList",IX="RequestLimitExceeded",_t="RegionName",xX="ReplicaNotFoundException",CX="ResourceNotFoundException",AX="ResourcePolicy",jL="RecoveryPeriodInDays",zL="ReplicaProvisionedReadCapacityAutoScalingSettings",RX="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",vX="ReplicaProvisionedReadCapacityAutoScalingUpdate",VL="ReplicaProvisionedReadCapacityUnits",WL="ReplicaProvisionedWriteCapacityAutoScalingSettings",DX="ReplicaProvisionedWriteCapacityUnits",KL="ReplicaSettings",PX="ReplicaStatusDescription",NX="ReplicaSettingsDescriptionList",OX="ReplicaSettingsDescription",LX="ReplicaStatusPercentProgress",YL="ReplicaSettingsUpdate",kX="ReplicaSettingsUpdateList",oS="ReplicaStatus",QL="RestoreSummary",MX="ReplicaTableClass",XL="ReplicaTableClassSummary",UX="RestoreTableFromBackup",BX="RestoreTableFromBackupInput",FX="RestoreTableFromBackupOutput",$X="RestoreTableToPointInTime",GX="RestoreTableToPointInTimeInput",HX="RestoreTableToPointInTimeOutput",qX="ReplicaUpdate",jX="ReplicaUpdateList",iS="ReadUnitsPerSecond",aS="ReplicaUpdates",cS="ReturnValues",Nr="ReturnValuesOnConditionCheckFailure",zX="ReplicatedWriteConflictException",VX="Replica",JL="Replicas",WX="Statements",ac="StreamArn",uS="S3Bucket",KX="SourceBackupArn",lS="S3BucketOwner",Zp="S3BucketSource",ZL="ScannedCount",YX="StreamDescription",QX="StreamEnabled",XX="SizeEstimateRangeGB",JX="ScanFilter",ZX="ScanInput",ek="ScaleInCooldown",eJ="SecondaryIndexesCapacityMap",tJ="ScanIndexForward",rJ="S3KeyPrefix",nJ="ScanOutput",tk="ScaleOutCooldown",sJ="ScalingPolicies",oJ="ScalingPolicyUpdate",rk="S3Prefix",em="StreamSpecification",nk="S3SseAlgorithm",dS="SSEDescription",tm="SSESpecification",sk="SSESpecificationOverride",ok="SSEType",ik="S3SseKmsKeyId",iJ="SS",pS="StartTime",ak="SourceTableArn",ck="SourceTableDetails",uk="SourceTableFeatureDetails",aJ="SourceTableName",cJ="StreamViewType",uJ="S",lJ="Scan",lk="Select",dJ="Segment",mS="Statement",fS="Status",dk="Table",cn="TableArn",pJ="TableAlreadyExistsException",hS="TableAutoScalingDescription",gS="TableClass",mJ="TableCreationDateTime",fJ="TransactionCanceledException",hJ="TransactionConflictException",pk="TableClassOverride",yS="TableCreationParameters",mk="TableClassSummary",ti="TableDescription",gJ="ThrottlingException",yJ="TransactGetItem",EJ="TransactGetItemsInput",SJ="TransactGetItemList",_J="TransactGetItemsOutput",bJ="TransactGetItems",cc="TableId",TJ="TransactionInProgressException",wJ="TableInUseException",fk="TransactItems",IJ="TagKeys",xJ="TagList",CJ="TableMaxReadCapacityUnits",AJ="TableMaxWriteCapacityUnits",ee="TableName",RJ="TableNotFoundException",vJ="TableNames",hk="ThrottlingReasons",DJ="TagResourceInput",PJ="ThrottlingReasonList",NJ="TimeRangeLowerBound",OJ="TimeRangeUpperBound",LJ="TagResource",kJ="ThrottlingReason",MJ="TransactStatements",gk="TableSizeBytes",yk="TableStatus",UJ="TotalSegments",ES="TimeToLiveDescription",BJ="TimeToLiveStatus",SS="TimeToLiveSpecification",Ek="TargetTableName",Sk="TargetTrackingScalingPolicyConfiguration",_k="TargetValue",FJ="TransactWriteItem",$J="TransactWriteItemsInput",GJ="TransactWriteItemList",HJ="TransactWriteItemsOutput",qJ="TransactWriteItems",jJ="TableWarmThroughputDescription",_S="Tags",zJ="Tag",rm="Update",VJ="UpdateContinuousBackups",WJ="UpdateContinuousBackupsInput",KJ="UpdateContinuousBackupsOutput",YJ="UpdateContributorInsights",QJ="UpdateContributorInsightsInput",XJ="UpdateContributorInsightsOutput",bk="UpdateExpression",JJ="UpdateGlobalSecondaryIndexAction",ZJ="UpdateGlobalTable",e7="UpdateGlobalTableInput",t7="UpdateGlobalTableOutput",r7="UpdateGlobalTableSettings",n7="UpdateGlobalTableSettingsInput",s7="UpdateGlobalTableSettingsOutput",o7="UnprocessedItems",i7="UpdateItemInput",a7="UpdateItemOutput",c7="UpdateItem",u7="UnprocessedKeys",bS="UpdateKinesisStreamingConfiguration",l7="UpdateKinesisStreamingDestination",d7="UpdateKinesisStreamingDestinationInput",p7="UpdateKinesisStreamingDestinationOutput",m7="UseLatestRestorableTime",f7="UntagResource",h7="UpdateReplicationGroupMemberAction",g7="UntagResourceInput",y7="UpdateTable",E7="UpdateTableInput",S7="UpdateTableOutput",_7="UpdateTableReplicaAutoScaling",b7="UpdateTableReplicaAutoScalingInput",T7="UpdateTableReplicaAutoScalingOutput",w7="UpdateTimeToLive",I7="UpdateTimeToLiveInput",x7="UpdateTimeToLiveOutput",TS="Value",nm="WriteCapacityUnits",C7="WriteRequest",A7="WriteRequests",R7="WitnessStatus",Or="WarmThroughput",wS="WriteUnitsPerSecond",v7="awsQueryError",pe="client",le="error",Tk="httpError",D7="httpHeader",ge="message",P7="reason",N7="resource",O7="server",wk="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",L7="throttlingReasons",k7="x-amz-confirm-remove-self-resource-access",p="com.amazonaws.dynamodb",M7=[3,p,N1,0,[b6,x6,S6],[4,0,0]],U7=[3,p,_6,0,[zp,O6],[0,0]],B7=[3,p,k6,0,[TS,E6],[()=>ur,0]],F7=[3,p,C6,0,[NL,Sk],[0,()=>G7]],$7=[3,p,R6,0,[NL,Sk],[0,()=>H7]],es=[3,p,v6,0,[RL,vL,O1,L1,sJ],[1,1,2,0,()=>Gre]],ss=[3,p,D6,0,[RL,vL,O1,L1,oJ],[1,1,2,0,()=>$7]],G7=[3,p,P6,0,[Z1,ek,tk,_k],[2,1,1,1]],H7=[3,p,N6,0,[Z1,ek,tk,_k],[2,1,1,1]],Ik=[3,p,LE,0,[kE,ck,uk],[()=>xk,()=>Zte,()=>ere]],xk=[3,p,kE,0,[Za,ME,G1,$1,UE,M1,U1],[0,0,1,0,0,4,4]],q7=[-3,p,V6,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(q7,gO);var j7=[-3,p,W6,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(j7,EO);var z7=[3,p,e8,0,[ee,cc,cn,Za,ME,M1,U1,$1,UE,G1],[0,0,0,0,0,4,4,0,0,1]],V7=[3,p,F6,0,[WX,Ot],[()=>une,0]],W7=[3,p,$6,0,[Jp,It],[()=>lne,()=>ni]],K7=[3,p,H6,0,[qL,Ot],[()=>Zk,0]],Y7=[3,p,q6,0,[Jp,u7,It],[()=>xne,()=>Zk,()=>ni]],Q7=[3,p,Q6,0,[q1,Zo,an],[0,0,()=>kr]],X7=[3,p,X6,0,[mS,rS,Yo,Nr],[0,()=>RS,2,0]],J7=[3,p,J6,0,[$5,ee,an],[()=>Q7,0,()=>kr]],Z7=[3,p,r8,0,[qL,Ot,ic],[()=>eM,0,0]],eZ=[3,p,n8,0,[o7,Xo,It],[()=>eM,()=>rM,()=>ni]],Ck=[3,p,F1,0,[ec,pQ],[0,4]],tZ=[3,p,A8,0,[an,q1,Zo],[()=>kr,0,0]],Ak=[3,p,N8,0,[oc,nm,Y1],[1,1,1]],Rk=[3,p,O8,0,[NE,W1],[()=>Wk,0]],rZ=[-3,p,d8,{[le]:pe},[ge,an],[0,()=>kr]];ae.TypeRegistry.for(p).registerError(rZ,R1);var nZ=[3,p,j1,0,[Dr,ee,$s,jt,sn,Nr],[()=>xt,0,0,128,()=>un,0]],os=[3,p,It,0,[ee,Y1,oc,nm,dk,nc,vr],[0,1,1,1,()=>Ak,()=>fO,()=>fO]],vk=[3,p,BE,0,[u8,DL],[0,()=>mte]],sZ=[-3,p,l8,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(sZ,MO);var oZ=[3,p,_8,0,[ee,Ae,FE,Wp],[0,0,0,0]],iZ=[3,p,a8,0,[ee,ME],[0,0]],aZ=[3,p,c8,0,[kE],[()=>xk]],cZ=[3,p,m8,0,[Ae,zt,ns,ar,ir,Or],[0,()=>cr,()=>Gs,()=>Lr,()=>Vt,()=>pc]],uZ=[3,p,h8,0,[on,nS],[0,()=>Xk]],lZ=[3,p,g8,0,[Qp],[()=>IS]],dZ=[3,p,y8,0,[_t],[0]],pZ=[3,p,w8,0,[_t],[0]],mZ=[3,p,I8,0,[_t,Xp,rs,ts,vr,pk],[0,0,()=>lc,()=>uc,()=>Qk,0]],fZ=[3,p,v8,0,[Ja,ee,zt,nc,vr,ec,ar,em,tm,_S,gS,$E,Or,AX,ir],[()=>im,0,()=>cr,()=>AS,()=>am,0,()=>Lr,()=>om,()=>dc,()=>vS,0,2,()=>pc,0,()=>Vt]],hZ=[3,p,D8,0,[ti],[()=>ri]],gZ=[3,p,b8,0,[k8,X9],[0,64]],yZ=[3,p,Qo,0,[Dr,ee,$s,jt,sn,Nr],[()=>xt,0,0,128,()=>un,0]],EZ=[3,p,U8,0,[Za],[0]],SZ=[3,p,F8,0,[LE],[()=>Ik]],_Z=[3,p,e5,0,[Ae],[0]],bZ=[3,p,a5,0,[_t],[0]],TZ=[3,p,l5,0,[ee,Dr,WE,tc,cS,Ot,ic,$s,jt,sn,Nr],[0,()=>xt,()=>PS,0,0,0,0,0,128,()=>un,0]],wZ=[3,p,p5,0,[OE,It,Xo],[()=>kr,()=>os,()=>sm]],IZ=[3,p,T5,0,[_t],[0]],xZ=[3,p,w5,0,[_t],[0]],CZ=[3,p,J1,0,[Dr],[()=>xt]],AZ=[3,p,x5,0,[ei,tL],[0,0]],RZ=[3,p,C5,0,[sS],[0]],vZ=[3,p,v5,0,[ee],[0]],DZ=[3,p,P5,0,[ti],[()=>ri]],PZ=[3,p,B8,0,[Za],[0]],NZ=[3,p,$8,0,[LE],[()=>Ik]],OZ=[3,p,q8,0,[ee],[0]],LZ=[3,p,j8,0,[BE],[()=>vk]],kZ=[3,p,V8,0,[ee,Ae],[0,0]],MZ=[3,p,W8,0,[ee,Ae,S8,FE,IL,uL,Wp],[0,0,64,0,4,()=>hee,0]],UZ=[3,p,X8,0,[],[]],BZ=[3,p,J8,0,[iL],[()=>zre]],FZ=[3,p,Y8,0,[HE],[0]],$Z=[3,p,Q8,0,[qE],[()=>Pk]],GZ=[3,p,r5,0,[on],[0]],HZ=[3,p,n5,0,[Qp],[()=>IS]],qZ=[3,p,o5,0,[on],[0]],jZ=[3,p,i5,0,[on,KL],[0,()=>Jk]],zZ=[3,p,d5,0,[KE],[0]],VZ=[3,p,m5,0,[ZE],[()=>Ok]],WZ=[3,p,g5,0,[ee],[0]],KZ=[3,p,y5,0,[ee,TL],[0,()=>sne]],YZ=[3,p,_5,0,[],[]],QZ=[3,p,b5,0,[w6,I6,CJ,AJ],[1,1,1,1]],XZ=[3,p,D5,0,[ee],[0]],JZ=[3,p,N5,0,[dk],[()=>ri]],ZZ=[3,p,L5,0,[ee],[0]],eee=[3,p,k5,0,[hS],[()=>$k]],tee=[3,p,U5,0,[ee],[0]],ree=[3,p,B5,0,[ES],[()=>qk]],nee=[-3,p,u5,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(nee,s1);var Dk=[3,p,jE,0,[PE],[0]],see=[3,p,f9,0,[M6,T8],[0,1]],oee=[3,p,t9,0,[mS,rS,Yo,Pr,Ot,Jo,Nr],[0,()=>RS,2,0,0,1,0]],iee=[3,p,r9,0,[eS,Pr,It,tS],[()=>cm,0,()=>os,()=>xt]],aee=[3,p,i9,0,[MJ,K1,Ot],[()=>cne,[0,4],0]],cee=[3,p,a9,0,[Jp,It],[()=>Kk,()=>ni]],uee=[3,p,q5,0,[TS,h9,W1,NE],[()=>ur,2,0,()=>Wk]],lee=[-3,p,z5,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(lee,l1);var Pk=[3,p,qE,0,[HE,rL,pS,zE,Y5,cn,cc,oL,Kp,uS,lS,rk,nk,ik,cL,dL,eL,Y6,rc,VE,YE],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>Lk]],dee=[-3,p,X5,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(dee,JO);var pee=[3,p,s9,0,[HE,rL,VE],[0,0,0]],mee=[3,p,l9,0,[cn,oL,Kp,uS,lS,rk,nk,ik,eL,VE,YE],[0,4,[0,4],0,0,0,0,0,0,0,()=>Lk]],fee=[3,p,d9,0,[qE],[()=>Pk]],hee=[3,p,uL,0,[Q5,V5],[0,0]],gee=[3,p,pL,0,[Dr,ee,sc,jt],[()=>xt,0,0,128]],yee=[3,p,E9,0,[ee,Dr,Vp,Yo,Ot,sc,jt],[0,()=>xt,64,2,0,0,128]],Eee=[3,p,S9,0,[an,It],[()=>kr,()=>os]],See=[3,p,b9,0,[ei],[0]],_ee=[3,p,T9,0,[FL,sS],[0,0]],bee=[3,p,N9,0,[Ae,zt,ns,ar,ir,Or],[0,()=>cr,()=>Gs,()=>Lr,()=>Vt,()=>pc]],Tee=[3,p,w9,0,[Ae,UL],[0,()=>ss]],wee=[3,p,x9,0,[Ae,zt,ns,JE,U6,ar,EL,rc,gL,ir,Or],[0,()=>cr,()=>Gs,0,2,()=>Bk,1,1,0,()=>Vt,()=>Nk]],Iee=[3,p,A9,0,[Ae,zt,ns,ar,ir],[0,()=>cr,()=>Gs,()=>Lr,()=>Vt]],xee=[3,p,v9,0,[rm,Yp,Qo],[()=>wre,()=>cZ,()=>_Z]],Nk=[3,p,P9,0,[iS,wS,fS],[1,1,0]],Cee=[3,p,O9,0,[on,nS],[0,()=>Xk]],Aee=[-3,p,k9,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Aee,jO);var IS=[3,p,Qp,0,[nS,L9,z1,H9,on],[()=>Yk,0,4,0,0]],Ree=[3,p,hL,0,[Ae,BL,VQ],[0,1,()=>ss]],vee=[-3,p,F9,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(vee,e1);var Dee=[3,p,z9,0,[_t,R7],[0,0]],Pee=[3,p,W9,0,[Yp,Qo],[()=>dZ,()=>bZ]],Nee=[-3,p,dY,{[le]:pe},[Zo],[0]];ae.TypeRegistry.for(p).registerError(Nee,i1);var Oee=[-3,p,J9,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Oee,g1);var Lee=[-3,p,uY,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Lee,r1);var kee=[3,p,gY,0,[KE,_L,cn,Zp,Q1,QE,pS,zE],[0,0,0,()=>xS,0,0,4,4]],Ok=[3,p,ZE,0,[KE,_L,cn,cc,Kp,Zp,j5,Q1,QE,XE,yL,yS,pS,zE,FQ,wQ,aY,cL,dL],[0,0,0,0,0,()=>xS,1,0,0,()=>kk,0,()=>Gk,4,4,1,1,1,0,0]],Mee=[3,p,EY,0,[Kp,Zp,QE,XE,yL,yS],[[0,4],()=>xS,0,()=>kk,0,()=>Gk]],Uee=[3,p,SY,0,[ZE],[()=>Ok]],Lk=[3,p,YE,0,[W5,c9,m9],[4,4,0]],Bee=[-3,p,lY,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Bee,C1);var kk=[3,p,XE,0,[L8],[()=>gZ]],Fee=[-3,p,hY,{[le]:O7},[ge],[0]];ae.TypeRegistry.for(p).registerError(Fee,_O);var $ee=[-3,p,oY,{[le]:pe,[Tk]:421},[Zo],[0]];ae.TypeRegistry.for(p).registerError($ee,CO);var Gee=[-3,p,iY,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Gee,p1);var Hee=[-3,p,fY,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Hee,_1);var sm=[3,p,Xo,0,[Z9,XX],[()=>Cne,65]],qee=[-3,p,nY,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(qee,NO);var jee=[3,p,pY,0,[an],[()=>kr]],zee=[3,p,_Y,0,[vY,Vp,Yo,sc,jt],[()=>nne,64,2,0,128]],Vee=[3,p,AY,0,[zp,RY],[0,0]],Wee=[3,p,TY,0,[ac,GE,A5,PE],[0,0,0,0]],Mk=[3,p,xY,0,[ee,ac,jE],[0,0,()=>Dk]],Uk=[3,p,CY,0,[ee,ac,GE,jE],[0,0,0,()=>Dk]],Kee=[-3,p,$Y,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Kee,BO);var Yee=[3,p,NY,0,[ee,Jo,NJ,OJ,Z5,UE],[0,1,4,4,0,0]],Qee=[3,p,OY,0,[H1,FY],[()=>Hre,0]],Xee=[3,p,kY,0,[ee,Pr,xL],[0,0,1]],Jee=[3,p,MY,0,[V1,Pr],[()=>jre,0]],Zee=[3,p,HY,0,[cn,xL,Pr],[0,1,0]],ete=[3,p,qY,0,[sL,Pr],[()=>Vre,0]],tte=[3,p,VY,0,[e9,Jo,_t],[0,1,0]],rte=[3,p,WY,0,[Q9,GY],[()=>Jre,0]],nte=[3,p,QY,0,[cn,BQ,Pr],[0,1,0]],ste=[3,p,XY,0,[SL,Pr],[()=>tne,0]],ote=[3,p,aQ,0,[n9,Jo],[0,1]],ite=[3,p,cQ,0,[vJ,jY],[64,0]],ate=[3,p,lQ,0,[ei,Pr],[0,0]],cte=[3,p,dQ,0,[_S,Pr],[()=>vS,0]],ute=[3,p,sQ,0,[Ae,zt,ns],[0,()=>cr,()=>Gs]],lte=[3,p,eQ,0,[Ae,zt,ns,EL,rc,gL],[0,()=>cr,()=>Gs,1,1,0]],dte=[3,p,rQ,0,[Ae,zt,ns],[0,()=>cr,()=>Gs]],Vt=[3,p,ir,0,[AL,hQ],[1,1]],uc=[3,p,ts,0,[AL],[1]],pte=[3,p,GQ,0,[mS,rS,Nr],[0,()=>RS,0]],mte=[3,p,DL,0,[RQ,jL,J5,JY],[0,1,4,4]],fte=[3,p,PL,0,[AQ,jL],[2,1]],hte=[-3,p,vQ,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(hte,f1);var gte=[-3,p,DQ,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(gte,QO);var Gs=[3,p,ns,0,[zQ,EQ],[0,64]],Lr=[3,p,ar,0,[oc,nm],[1,1]],Bk=[3,p,qQ,0,[YY,UY,SQ,oc,nm],[4,4,1,1,1]],yte=[-3,p,jQ,{[le]:pe},[ge,hk],[0,()=>DS]];ae.TypeRegistry.for(p).registerError(yte,RO);var lc=[3,p,rs,0,[oc],[1]],Ete=[3,p,$L,0,[an,ee,$s,jt,sn,Nr],[()=>NS,0,0,128,()=>un,0]],Ste=[3,p,IQ,0,[ee,an,WE,cS,Ot,ic,tc,$s,jt,sn,Nr],[0,()=>NS,()=>PS,0,0,0,0,0,128,()=>un,0]],_te=[3,p,CQ,0,[OE,It,Xo],[()=>kr,()=>os,()=>sm]],bte=[3,p,OL,0,[an],[()=>NS]],Tte=[3,p,MQ,0,[ei,FL,tL,C8],[0,0,0,[2,{[D7]:k7}]]],wte=[3,p,UQ,0,[sS],[0]],Ite=[3,p,YQ,0,[ee,Ae,lk,Vp,Jo,Yo,bL,KQ,tc,tJ,nL,Ot,sc,lL,bY,jt,sn],[0,0,0,64,1,2,()=>Ane,()=>tM,0,2,()=>xt,0,0,0,0,128,()=>un]],xte=[3,p,QQ,0,[eS,X1,ZL,tS,It],[()=>cm,1,1,()=>xt,()=>os]],Cte=[3,p,VX,0,[_t],[0]],Ate=[-3,p,XQ,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Ate,T1);var Rte=[3,p,JQ,0,[_t,vr,zL,WL,oS],[0,()=>mne,()=>es,()=>es,0]],vte=[3,p,eX,0,[_t,yX,vX],[0,()=>fne,()=>ss]],Dte=[3,p,nX,0,[_t,oS,PX,LX,Xp,rs,ts,Or,vr,_X,XL],[0,0,0,0,0,()=>lc,()=>uc,()=>Hk,()=>hne,4,()=>CS]],Pte=[3,p,oX,0,[Ae,rs,ts],[0,()=>lc,()=>uc]],Nte=[3,p,iX,0,[Ae,JE,LL,ML],[0,0,()=>es,()=>es]],Ote=[3,p,cX,0,[Ae,LQ],[0,()=>ss]],Lte=[3,p,lX,0,[Ae,rs,ts,Or],[0,()=>lc,()=>uc,()=>Nk]],kte=[3,p,fX,0,[Ae,JE,kL,LL,BL,ML],[0,0,1,()=>es,1,()=>es]],Mte=[3,p,HL,0,[Ae,kL,OQ],[0,1,()=>ss]],Ute=[-3,p,xX,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(Ute,I1);var Bte=[3,p,OX,0,[_t,oS,rX,VL,zL,DX,WL,mX,XL],[0,0,()=>Ck,1,()=>es,1,()=>es,()=>gne,()=>CS]],Fte=[3,p,YL,0,[_t,VL,RX,HL,MX],[0,1,()=>ss,()=>yne,0]],$te=[-3,p,zX,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError($te,LO);var Gte=[3,p,EX,0,[Yp,rm,Qo],[()=>mZ,()=>Nre,()=>xZ]],Hte=[3,p,qX,0,[Yp,Qo],[()=>pZ,()=>IZ]],qte=[-3,p,IX,{[le]:pe},[ge,hk],[0,()=>DS]];ae.TypeRegistry.for(p).registerError(qte,TO);var jte=[-3,p,TX,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(jte,VO);var zte=[-3,p,CX,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(zte,DO);var Vte=[3,p,QL,0,[KX,ak,GL,bX],[0,0,4,2]],Wte=[3,p,BX,0,[Ek,Za,B1,mL,wL,rs,ts,sk],[0,0,0,()=>am,()=>AS,()=>Lr,()=>Vt,()=>dc]],Kte=[3,p,FX,0,[ti],[()=>ri]],Yte=[3,p,GX,0,[ak,aJ,Ek,m7,GL,B1,mL,wL,rs,ts,sk],[0,0,0,2,4,0,()=>am,()=>AS,()=>Lr,()=>Vt,()=>dc]],Qte=[3,p,HX,0,[ti],[()=>ri]],xS=[3,p,Zp,0,[lS,uS,rJ],[0,0,0]],Xte=[3,p,ZX,0,[ee,Ae,Vp,Jo,lk,JX,tc,nL,Ot,UJ,dJ,sc,lL,jt,sn,Yo],[0,0,64,1,0,()=>tM,0,()=>xt,0,1,1,0,0,128,()=>un,2]],Jte=[3,p,nJ,0,[eS,X1,ZL,tS,It],[()=>cm,1,1,()=>xt,()=>os]],Zte=[3,p,ck,0,[ee,cc,cn,gk,zt,mJ,ar,ir,rc,ec],[0,0,0,1,()=>cr,4,()=>Lr,()=>Vt,1,0]],ere=[3,p,uk,0,[nc,vr,YX,ES,dS],[()=>ane,()=>Yre,()=>om,()=>qk,()=>Fk]],Fk=[3,p,dS,0,[fS,ok,IY,sY],[0,0,0,4]],dc=[3,p,tm,0,[aL,ok,Xp],[2,0,0]],om=[3,p,em,0,[QX,cJ],[2,0]],tre=[-3,p,pJ,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(tre,E1);var $k=[3,p,hS,0,[ee,yk,JL],[0,0,()=>dne]],CS=[3,p,mk,0,[gS,IL],[0,4]],Gk=[3,p,yS,0,[ee,Ja,zt,ec,ar,ir,tm,vr],[0,()=>im,()=>cr,0,()=>Lr,()=>Vt,()=>dc,()=>am]],ri=[3,p,ti,0,[Ja,ee,zt,yk,z1,ar,gk,rc,cn,cc,F1,nc,vr,em,oQ,ZY,q9,JL,j9,QL,dS,N1,mk,$E,ir,Or,CL],[()=>im,0,()=>cr,0,4,()=>Bk,1,1,0,0,()=>Ck,()=>ine,()=>Kre,()=>om,0,0,0,()=>Yk,()=>Zre,()=>Vte,()=>Fk,()=>M7,()=>CS,2,()=>Vt,()=>Hk,0]],rre=[-3,p,wJ,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(rre,$O);var nre=[-3,p,RJ,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(nre,HO);var Hk=[3,p,jJ,0,[iS,wS,fS],[1,1,0]],sre=[3,p,zJ,0,[Dr,TS],[0,0]],ore=[3,p,DJ,0,[ei,_S],[0,()=>vS]],ire=[-3,p,gJ,{[le]:pe,[Tk]:400,[v7]:["Throttling",400]},[ge,L7],[0,()=>DS]];ae.TypeRegistry.for(p).registerError(ire,IO);var are=[3,p,kJ,0,[P7,N7],[0,0]],qk=[3,p,ES,0,[BJ,zp],[0,0]],jk=[3,p,SS,0,[aL,zp],[2,0]],cre=[3,p,yJ,0,[pL],[()=>gee]],ure=[3,p,EJ,0,[fk,Ot],[()=>bne,0]],lre=[3,p,_J,0,[It,Jp],[()=>ni,()=>Kk]],dre=[-3,p,fJ,{[le]:pe},[Zo,R8],[0,()=>qre]];ae.TypeRegistry.for(p).registerError(dre,D1);var pre=[-3,p,hJ,{[le]:pe},[ge],[0]];ae.TypeRegistry.for(p).registerError(pre,KO);var mre=[-3,p,TJ,{[le]:pe},[Zo],[0]];ae.TypeRegistry.for(p).registerError(mre,c1);var fre=[3,p,FJ,0,[j1,$L,Qo,rm],[()=>nZ,()=>Ete,()=>yZ,()=>Ere]],hre=[3,p,$J,0,[fk,Ot,ic,K1],[()=>Tne,0,0,[0,4]]],gre=[3,p,HJ,0,[It,Xo],[()=>ni,()=>rM]],yre=[3,p,g7,0,[ei,IJ],[0,64]],Ere=[3,p,rm,0,[Dr,bk,ee,$s,jt,sn,Nr],[()=>xt,0,0,0,128,()=>un,0]],Sre=[3,p,WJ,0,[ee,PL],[0,()=>fte]],_re=[3,p,KJ,0,[BE],[()=>vk]],bre=[3,p,QJ,0,[ee,Ae,E8,Wp],[0,0,0,0]],Tre=[3,p,XJ,0,[ee,Ae,FE,Wp],[0,0,0,0]],wre=[3,p,JJ,0,[Ae,ar,ir,Or],[0,()=>Lr,()=>Vt,()=>pc]],Ire=[3,p,e7,0,[on,aS],[0,()=>_ne]],xre=[3,p,t7,0,[Qp],[()=>IS]],Cre=[3,p,n7,0,[on,M9,G9,$9,hL,YL],[0,0,1,()=>ss,()=>Xre,()=>Ene]],Are=[3,p,s7,0,[on,KL],[0,()=>Jk]],Rre=[3,p,i7,0,[ee,Dr,k1,WE,tc,cS,Ot,ic,bk,$s,jt,sn,Nr],[0,()=>xt,()=>Ine,()=>PS,0,0,0,0,0,0,128,()=>un,0]],vre=[3,p,a7,0,[OE,It,Xo],[()=>kr,()=>os,()=>sm]],zk=[3,p,bS,0,[PE],[0]],Dre=[3,p,d7,0,[ee,ac,bS],[0,0,()=>zk]],Pre=[3,p,p7,0,[ee,ac,GE,bS],[0,0,0,()=>zk]],Nre=[3,p,h7,0,[_t,Xp,rs,ts,vr,pk],[0,0,()=>lc,()=>uc,()=>Qk,0]],Ore=[3,p,E7,0,[Ja,ee,ec,ar,fL,em,tm,aS,gS,$E,CL,Y9,ir,Or],[()=>im,0,0,()=>Lr,()=>Qre,()=>om,()=>dc,()=>Sne,0,2,0,()=>ene,()=>Vt,()=>pc]],Lre=[3,p,S7,0,[ti],[()=>ri]],kre=[3,p,b7,0,[fL,ee,UL,aS],[()=>Wre,0,()=>ss,()=>pne]],Mre=[3,p,T7,0,[hS],[()=>$k]],Ure=[3,p,I7,0,[ee,SS],[0,()=>jk]],Bre=[3,p,x7,0,[SS],[()=>jk]],pc=[3,p,Or,0,[iS,wS],[1,1]],Fre=[3,p,C7,0,[OL,J1],[()=>bte,()=>CZ]],Vk="unit",$re=[-3,wk,"DynamoDBServiceException",0,[],[]];ae.TypeRegistry.for(wk).registerError($re,ce);var im=[1,p,Ja,0,()=>U7],Wk=[1,p,NE,0,()=>ur],Gre=[1,p,A6,0,()=>F7],Hre=[1,p,H1,0,()=>z7],qre=[1,p,x8,0,()=>tZ],ni=[1,p,p8,0,()=>os],jre=[1,p,V1,0,()=>oZ],zre=[1,p,iL,0,()=>see],Vre=[1,p,sL,0,()=>pee],Wre=[1,p,I9,0,()=>Tee],Kre=[1,p,C9,0,()=>wee],Yre=[1,p,vr,0,()=>Iee],am=[1,p,R9,0,()=>bee],Qre=[1,p,D9,0,()=>xee],Xre=[1,p,U9,0,()=>Ree],Jre=[1,p,B9,0,()=>Cee],Zre=[1,p,V9,0,()=>Dee],ene=[1,p,K9,0,()=>Pee],tne=[1,p,SL,0,()=>kee],rne=[1,p,tY,0,()=>sm],cm=[1,p,cY,0,()=>kr],Kk=[1,p,mY,0,()=>jee],nne=[1,p,wY,0,()=>xt],cr=[1,p,zt,0,()=>Vee],sne=[1,p,TL,0,()=>Wee],one=[1,p,DY,0,()=>ur],ine=[1,p,tQ,0,()=>lte],ane=[1,p,nc,0,()=>dte],AS=[1,p,nQ,0,()=>ute],cne=[1,p,HQ,0,()=>pte],une=[1,p,PQ,0,()=>X7],lne=[1,p,NQ,0,()=>J7],RS=[1,p,$Q,0,()=>ur],dne=[1,p,ZQ,0,()=>Rte],pne=[1,p,tX,0,()=>vte],Yk=[1,p,sX,0,()=>Dte],mne=[1,p,aX,0,()=>Nte],fne=[1,p,uX,0,()=>Ote],hne=[1,p,dX,0,()=>Lte],Qk=[1,p,pX,0,()=>Pte],gne=[1,p,hX,0,()=>kte],yne=[1,p,gX,0,()=>Mte],Xk=[1,p,wX,0,()=>Cte],Jk=[1,p,NX,0,()=>Bte],Ene=[1,p,kX,0,()=>Fte],Sne=[1,p,SX,0,()=>Gte],_ne=[1,p,jX,0,()=>Hte],vS=[1,p,xJ,0,()=>sre],DS=[1,p,PJ,0,()=>are],bne=[1,p,SJ,0,()=>cre],Tne=[1,p,GJ,0,()=>fre],wne=[1,p,A7,0,()=>Fre],kr=[2,p,T6,0,0,()=>ur],Ine=[2,p,k1,0,0,()=>B7],Zk=[2,p,z6,0,0,()=>zee],xne=[2,p,j6,0,0,()=>cm],eM=[2,p,s8,0,0,()=>wne],PS=[2,p,G5,0,0,()=>uee],un=[2,p,H5,0,0,()=>ur],tM=[2,p,g9,0,0,()=>Rk],Cne=[2,p,eY,0,0,()=>ur],rM=[2,p,rY,0,0,()=>rne],xt=[2,p,Dr,0,0,()=>ur],Ane=[2,p,bL,0,0,()=>Rk],Rne=[2,p,fQ,0,0,()=>ur],NS=[2,p,xQ,0,0,()=>ur],fO=[2,p,eJ,0,0,()=>Ak],ur=[3,p,L6,0,[uJ,yQ,o8,iJ,_Q,Z6,gQ,mQ,bQ,K6],[0,0,21,64,64,85,()=>Rne,()=>one,2,2]],vne=[9,p,B6,0,()=>V7,()=>W7],Dne=[9,p,G6,0,()=>K7,()=>Y7],Pne=[9,p,t8,0,()=>Z7,()=>eZ],Nne=[9,p,i8,0,()=>iZ,()=>aZ],One=[9,p,f8,0,()=>uZ,()=>lZ],Lne=[9,p,P8,0,()=>fZ,()=>hZ],kne=[9,p,M8,0,()=>EZ,()=>SZ],Mne=[9,p,c5,0,()=>TZ,()=>wZ],Une=[9,p,I5,0,()=>AZ,()=>RZ],Bne=[9,p,R5,0,()=>vZ,()=>DZ],Fne=[9,p,G8,0,()=>PZ,()=>NZ],$ne=[9,p,H8,0,()=>OZ,()=>LZ],Gne=[9,p,z8,0,()=>kZ,()=>MZ],Hne=[9,p,K8,0,()=>UZ,()=>BZ],qne=[9,p,Z8,0,()=>FZ,()=>$Z],jne=[9,p,t5,0,()=>GZ,()=>HZ],zne=[9,p,s5,0,()=>qZ,()=>jZ],Vne=[9,p,f5,0,()=>zZ,()=>VZ],Wne=[9,p,h5,0,()=>WZ,()=>KZ],Kne=[9,p,S5,0,()=>YZ,()=>QZ],Yne=[9,p,F5,0,()=>XZ,()=>JZ],Qne=[9,p,O5,0,()=>ZZ,()=>eee],Xne=[9,p,M5,0,()=>tee,()=>ree],Jne=[9,p,E5,0,()=>Mk,()=>Uk],Zne=[9,p,K5,0,()=>Mk,()=>Uk],ese=[9,p,o9,0,()=>oee,()=>iee],tse=[9,p,p9,0,()=>aee,()=>cee],rse=[9,p,u9,0,()=>mee,()=>fee],nse=[9,p,y9,0,()=>yee,()=>Eee],sse=[9,p,_9,0,()=>See,()=>_ee],ose=[9,p,yY,0,()=>Mee,()=>Uee],ise=[9,p,PY,0,()=>Yee,()=>Qee],ase=[9,p,LY,0,()=>Xee,()=>Jee],cse=[9,p,BY,0,()=>Zee,()=>ete],use=[9,p,zY,0,()=>tte,()=>rte],lse=[9,p,KY,0,()=>nte,()=>ste],dse=[9,p,iQ,0,()=>ote,()=>ite],pse=[9,p,uQ,0,()=>ate,()=>cte],mse=[9,p,TQ,0,()=>Ste,()=>_te],fse=[9,p,kQ,0,()=>Tte,()=>wte],hse=[9,p,WQ,0,()=>Ite,()=>xte],gse=[9,p,UX,0,()=>Wte,()=>Kte],yse=[9,p,$X,0,()=>Yte,()=>Qte],Ese=[9,p,lJ,0,()=>Xte,()=>Jte],Sse=[9,p,LJ,0,()=>ore,()=>Vk],_se=[9,p,bJ,0,()=>ure,()=>lre],bse=[9,p,qJ,0,()=>hre,()=>gre],Tse=[9,p,f7,0,()=>yre,()=>Vk],wse=[9,p,VJ,0,()=>Sre,()=>_re],Ise=[9,p,YJ,0,()=>bre,()=>Tre],xse=[9,p,ZJ,0,()=>Ire,()=>xre],Cse=[9,p,r7,0,()=>Cre,()=>Are],Ase=[9,p,c7,0,()=>Rre,()=>vre],Rse=[9,p,l7,0,()=>Dre,()=>Pre],vse=[9,p,y7,0,()=>Ore,()=>Lre],Dse=[9,p,_7,0,()=>kre,()=>Mre],Pse=[9,p,w7,0,()=>Ure,()=>Bre],za=class extends U.Command.classBuilder().ep(q).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(Hne).build(){},Nse=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Ose=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Lse=(e,t)=>{let r=Object.assign(pO.getAwsRegionExtensionConfiguration(e),U.getDefaultExtensionConfiguration(e),mO.getHttpHandlerExtensionConfiguration(e),Nse(e));return t.forEach(n=>n.configure(r)),Object.assign(e,pO.resolveAwsRegionExtensionConfiguration(r),U.resolveDefaultRuntimeConfig(r),mO.resolveHttpHandlerRuntimeConfig(r),Ose(r))},Rr=class extends U.Client{config;constructor(...[t]){let r=g6.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=y6(r),s=l6.resolveAccountIdEndpointModeConfig(n),o=uO.resolveUserAgentConfig(s),i=lO.resolveRetryConfig(o),a=f6.resolveRegionConfig(i),c=cO.resolveHostHeaderConfig(a),u=H.resolveEndpointConfig(c),l=dO.resolveHttpAuthSchemeConfig(u),d=d6.resolveEndpointDiscoveryConfig(l,{endpointDiscoveryCommandCtor:za}),g=Lse(d,(t==null?void 0:t.extensions)||[]);this.config=g,this.middlewareStack.use(ae.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(uO.getUserAgentPlugin(this.config)),this.middlewareStack.use(lO.getRetryPlugin(this.config)),this.middlewareStack.use(h6.getContentLengthPlugin(this.config)),this.middlewareStack.use(cO.getHostHeaderPlugin(this.config)),this.middlewareStack.use(p6.getLoggerPlugin(this.config)),this.middlewareStack.use(m6.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(nn.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:dO.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new nn.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(nn.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Yd=class extends U.Command.classBuilder().ep(q).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(vne).build(){},Qd=class extends U.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys((t==null?void 0:t.RequestItems)??{})}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(Dne).build(){},Xd=class extends U.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys((t==null?void 0:t.RequestItems)??{})}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(Pne).build(){},Jd=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(Nne).build(){},Zd=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(One).build(){},ep=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(Lne).build(){},tp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(kne).build(){},rp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(Mne).build(){},np=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(Une).build(){},sp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(Bne).build(){},op=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(Fne).build(){},ip=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc($ne).build(){},ap=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(Gne).build(){},cp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(qne).build(){},up=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(jne).build(){},lp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(zne).build(){},dp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(Vne).build(){},pp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(Wne).build(){},mp=class extends U.Command.classBuilder().ep(q).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(Kne).build(){},Ko=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(Yne).build(){},fp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(Qne).build(){},hp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(Xne).build(){},gp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(Jne).build(){},yp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(Zne).build(){},Ep=class extends U.Command.classBuilder().ep(q).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(ese).build(){},Sp=class extends U.Command.classBuilder().ep(q).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(tse).build(){},_p=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(rse).build(){},bp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(nse).build(){},Tp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(sse).build(){},wp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"operationContextParams",get:t=>{var r;return(r=t==null?void 0:t.TableCreationParameters)==null?void 0:r.TableName}}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(ose).build(){},Ip=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(ise).build(){},Va=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(ase).build(){},Wa=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(cse).build(){},xp=class extends U.Command.classBuilder().ep(q).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(use).build(){},Ka=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(lse).build(){},Ya=class extends U.Command.classBuilder().ep(q).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(dse).build(){},Cp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(pse).build(){},Ap=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(mse).build(){},Rp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(fse).build(){},Qa=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(hse).build(){},vp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(gse).build(){},Dp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(yse).build(){},Xa=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(Ese).build(){},Pp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(Sse).build(){},Np=class extends U.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>{var r;return(r=t==null?void 0:t.TransactItems)==null?void 0:r.map(n=>{var s;return(s=n==null?void 0:n.Get)==null?void 0:s.TableName})}}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(_se).build(){},Op=class extends U.Command.classBuilder().ep({...q,ResourceArnList:{type:"operationContextParams",get:t=>{var r;return(r=t==null?void 0:t.TransactItems)==null?void 0:r.map(n=>{var s,o,i,a;return[(s=n==null?void 0:n.ConditionCheck)==null?void 0:s.TableName,(o=n==null?void 0:n.Put)==null?void 0:o.TableName,(i=n==null?void 0:n.Delete)==null?void 0:i.TableName,(a=n==null?void 0:n.Update)==null?void 0:a.TableName].filter(c=>c)}).flat()}}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(bse).build(){},Lp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(Tse).build(){},kp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(wse).build(){},Mp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(Ise).build(){},Up=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(xse).build(){},Bp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(Cse).build(){},Fp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(Ase).build(){},$p=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc(Rse).build(){},Gp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(vse).build(){},Hp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(Dse).build(){},qp=class extends U.Command.classBuilder().ep({...q,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[H.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(Pse).build(){},kse={BatchExecuteStatementCommand:Yd,BatchGetItemCommand:Qd,BatchWriteItemCommand:Xd,CreateBackupCommand:Jd,CreateGlobalTableCommand:Zd,CreateTableCommand:ep,DeleteBackupCommand:tp,DeleteItemCommand:rp,DeleteResourcePolicyCommand:np,DeleteTableCommand:sp,DescribeBackupCommand:op,DescribeContinuousBackupsCommand:ip,DescribeContributorInsightsCommand:ap,DescribeEndpointsCommand:za,DescribeExportCommand:cp,DescribeGlobalTableCommand:up,DescribeGlobalTableSettingsCommand:lp,DescribeImportCommand:dp,DescribeKinesisStreamingDestinationCommand:pp,DescribeLimitsCommand:mp,DescribeTableCommand:Ko,DescribeTableReplicaAutoScalingCommand:fp,DescribeTimeToLiveCommand:hp,DisableKinesisStreamingDestinationCommand:gp,EnableKinesisStreamingDestinationCommand:yp,ExecuteStatementCommand:Ep,ExecuteTransactionCommand:Sp,ExportTableToPointInTimeCommand:_p,GetItemCommand:bp,GetResourcePolicyCommand:Tp,ImportTableCommand:wp,ListBackupsCommand:Ip,ListContributorInsightsCommand:Va,ListExportsCommand:Wa,ListGlobalTablesCommand:xp,ListImportsCommand:Ka,ListTablesCommand:Ya,ListTagsOfResourceCommand:Cp,PutItemCommand:Ap,PutResourcePolicyCommand:Rp,QueryCommand:Qa,RestoreTableFromBackupCommand:vp,RestoreTableToPointInTimeCommand:Dp,ScanCommand:Xa,TagResourceCommand:Pp,TransactGetItemsCommand:Np,TransactWriteItemsCommand:Op,UntagResourceCommand:Lp,UpdateContinuousBackupsCommand:kp,UpdateContributorInsightsCommand:Mp,UpdateGlobalTableCommand:Up,UpdateGlobalTableSettingsCommand:Bp,UpdateItemCommand:Fp,UpdateKinesisStreamingDestinationCommand:$p,UpdateTableCommand:Gp,UpdateTableReplicaAutoScalingCommand:Hp,UpdateTimeToLiveCommand:qp},jp=class extends Rr{};U.createAggregatedClient(kse,jp);var Mse=nn.createPaginator(Rr,Va,"NextToken","NextToken","MaxResults"),Use=nn.createPaginator(Rr,Wa,"NextToken","NextToken","MaxResults"),Bse=nn.createPaginator(Rr,Ka,"NextToken","NextToken","PageSize"),Fse=nn.createPaginator(Rr,Ya,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),$se=nn.createPaginator(Rr,Qa,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Gse=nn.createPaginator(Rr,Xa,"ExclusiveStartKey","LastEvaluatedKey","Limit"),nM=async(e,t)=>{let r;try{let n=await e.send(new Ko(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:or.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:or.WaiterState.RETRY,reason:r}}return{state:or.WaiterState.RETRY,reason:r}},Hse=async(e,t)=>{let r={minDelay:20,maxDelay:120};return or.createWaiter({...r,...e},t,nM)},qse=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await or.createWaiter({...r,...e},t,nM);return or.checkExceptions(n)},sM=async(e,t)=>{let r;try{r=await e.send(new Ko(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:or.WaiterState.SUCCESS,reason:r}}return{state:or.WaiterState.RETRY,reason:r}},jse=async(e,t)=>{let r={minDelay:20,maxDelay:120};return or.createWaiter({...r,...e},t,sM)},zse=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await or.createWaiter({...r,...e},t,sM);return or.checkExceptions(n)},Vse={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Wse={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},Kse={B:"B",N:"N",S:"S"},Yse={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Qse={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Xse={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},Jse={HASH:"HASH",RANGE:"RANGE"},Zse={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},eoe={AES256:"AES256",KMS:"KMS"},toe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},roe={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},noe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},soe={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},ooe={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},ioe={ALL_OLD:"ALL_OLD",NONE:"NONE"},aoe={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},coe={NONE:"NONE",SIZE:"SIZE"},uoe={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},loe={AND:"AND",OR:"OR"},doe={DISABLED:"DISABLED",ENABLED:"ENABLED"},poe={DISABLED:"DISABLED",ENABLED:"ENABLED"},moe={DISABLE:"DISABLE",ENABLE:"ENABLE"},foe={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},hoe={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},goe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},yoe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Eoe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Soe={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},_oe={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},boe={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},Toe={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},woe={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},Ioe={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},xoe={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Coe={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Aoe={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},Roe={AES256:"AES256",KMS:"KMS"},voe={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Doe={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Poe={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Noe={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Ooe={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"};Object.defineProperty(A,"$Command",{enumerable:!0,get:function(){return U.Command}});Object.defineProperty(A,"__Client",{enumerable:!0,get:function(){return U.Client}});A.ApproximateCreationDateTimePrecision=Vse;A.AttributeAction=Wse;A.BackupInUseException=gO;A.BackupNotFoundException=EO;A.BackupStatus=Yse;A.BackupType=Qse;A.BackupTypeFilter=soe;A.BatchExecuteStatementCommand=Yd;A.BatchGetItemCommand=Qd;A.BatchStatementErrorCodeEnum=aoe;A.BatchWriteItemCommand=Xd;A.BillingMode=Xse;A.ComparisonOperator=uoe;A.ConditionalCheckFailedException=R1;A.ConditionalOperator=loe;A.ContinuousBackupsStatus=doe;A.ContinuousBackupsUnavailableException=MO;A.ContributorInsightsAction=moe;A.ContributorInsightsMode=foe;A.ContributorInsightsStatus=hoe;A.CreateBackupCommand=Jd;A.CreateGlobalTableCommand=Zd;A.CreateTableCommand=ep;A.DeleteBackupCommand=tp;A.DeleteItemCommand=rp;A.DeleteResourcePolicyCommand=np;A.DeleteTableCommand=sp;A.DescribeBackupCommand=op;A.DescribeContinuousBackupsCommand=ip;A.DescribeContributorInsightsCommand=ap;A.DescribeEndpointsCommand=za;A.DescribeExportCommand=cp;A.DescribeGlobalTableCommand=up;A.DescribeGlobalTableSettingsCommand=lp;A.DescribeImportCommand=dp;A.DescribeKinesisStreamingDestinationCommand=pp;A.DescribeLimitsCommand=mp;A.DescribeTableCommand=Ko;A.DescribeTableReplicaAutoScalingCommand=fp;A.DescribeTimeToLiveCommand=hp;A.DestinationStatus=Noe;A.DisableKinesisStreamingDestinationCommand=gp;A.DuplicateItemException=s1;A.DynamoDB=jp;A.DynamoDBClient=Rr;A.DynamoDBServiceException=ce;A.EnableKinesisStreamingDestinationCommand=yp;A.ExecuteStatementCommand=Ep;A.ExecuteTransactionCommand=Sp;A.ExportConflictException=l1;A.ExportFormat=Ioe;A.ExportNotFoundException=JO;A.ExportStatus=xoe;A.ExportTableToPointInTimeCommand=_p;A.ExportType=Coe;A.ExportViewType=Aoe;A.GetItemCommand=bp;A.GetResourcePolicyCommand=Tp;A.GlobalTableAlreadyExistsException=jO;A.GlobalTableNotFoundException=e1;A.GlobalTableStatus=goe;A.IdempotentParameterMismatchException=i1;A.ImportConflictException=g1;A.ImportNotFoundException=r1;A.ImportStatus=voe;A.ImportTableCommand=wp;A.IndexNotFoundException=C1;A.IndexStatus=yoe;A.InputCompressionType=Doe;A.InputFormat=Poe;A.InternalServerError=_O;A.InvalidEndpointException=CO;A.InvalidExportTimeException=p1;A.InvalidRestoreTimeException=_1;A.ItemCollectionSizeLimitExceededException=NO;A.KeyType=Jse;A.LimitExceededException=BO;A.ListBackupsCommand=Ip;A.ListContributorInsightsCommand=Va;A.ListExportsCommand=Wa;A.ListGlobalTablesCommand=xp;A.ListImportsCommand=Ka;A.ListTablesCommand=Ya;A.ListTagsOfResourceCommand=Cp;A.MultiRegionConsistency=Toe;A.PointInTimeRecoveryStatus=poe;A.PointInTimeRecoveryUnavailableException=f1;A.PolicyNotFoundException=QO;A.ProjectionType=Zse;A.ProvisionedThroughputExceededException=RO;A.PutItemCommand=Ap;A.PutResourcePolicyCommand=Rp;A.QueryCommand=Qa;A.ReplicaAlreadyExistsException=T1;A.ReplicaNotFoundException=I1;A.ReplicaStatus=Eoe;A.ReplicatedWriteConflictException=LO;A.RequestLimitExceeded=TO;A.ResourceInUseException=VO;A.ResourceNotFoundException=DO;A.RestoreTableFromBackupCommand=vp;A.RestoreTableToPointInTimeCommand=Dp;A.ReturnConsumedCapacity=ooe;A.ReturnItemCollectionMetrics=coe;A.ReturnValue=woe;A.ReturnValuesOnConditionCheckFailure=ioe;A.S3SseAlgorithm=Roe;A.SSEStatus=toe;A.SSEType=eoe;A.ScalarAttributeType=Kse;A.ScanCommand=Xa;A.Select=Ooe;A.StreamViewType=roe;A.TableAlreadyExistsException=E1;A.TableClass=Soe;A.TableInUseException=$O;A.TableNotFoundException=HO;A.TableStatus=_oe;A.TagResourceCommand=Pp;A.ThrottlingException=IO;A.TimeToLiveStatus=noe;A.TransactGetItemsCommand=Np;A.TransactWriteItemsCommand=Op;A.TransactionCanceledException=D1;A.TransactionConflictException=KO;A.TransactionInProgressException=c1;A.UntagResourceCommand=Lp;A.UpdateContinuousBackupsCommand=kp;A.UpdateContributorInsightsCommand=Mp;A.UpdateGlobalTableCommand=Up;A.UpdateGlobalTableSettingsCommand=Bp;A.UpdateItemCommand=Fp;A.UpdateKinesisStreamingDestinationCommand=$p;A.UpdateTableCommand=Gp;A.UpdateTableReplicaAutoScalingCommand=Hp;A.UpdateTimeToLiveCommand=qp;A.WitnessStatus=boe;A.paginateListContributorInsights=Mse;A.paginateListExports=Use;A.paginateListImports=Bse;A.paginateListTables=Fse;A.paginateQuery=$se;A.paginateScan=Gse;A.waitForTableExists=Hse;A.waitForTableNotExists=jse;A.waitUntilTableExists=qse;A.waitUntilTableNotExists=zse});var gM=P(oi=>{"use strict";var si=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},fc=(e,t)=>{var r,n,s,o,i,a;if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return um();if(Array.isArray(e))return Loe(e,t);if(((r=e==null?void 0:e.constructor)==null?void 0:r.name)==="Set")return koe(e,t);if(((n=e==null?void 0:e.constructor)==null?void 0:n.name)==="Map")return Moe(e,t);if(((s=e==null?void 0:e.constructor)==null?void 0:s.name)==="Object"||!e.constructor&&typeof e=="object")return iM(e,t);if(hM(e))return e.length===0&&(t!=null&&t.convertEmptyValues)?um():dM(e);if(typeof e=="boolean"||((o=e==null?void 0:e.constructor)==null?void 0:o.name)==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||((i=e==null?void 0:e.constructor)==null?void 0:i.name)==="Number")return fM(e,t);if(e instanceof si)return e.toAttributeValue();if(typeof e=="bigint")return mM(e);if(typeof e=="string"||((a=e==null?void 0:e.constructor)==null?void 0:a.name)==="String")return e.length===0&&(t!=null&&t.convertEmptyValues)?um():pM(e);if(t!=null&&t.convertClassInstanceToMap&&typeof e=="object")return iM(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},Loe=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!(t!=null&&t.removeUndefinedValues)||(t==null?void 0:t.removeUndefinedValues)&&r!==void 0)).map(r=>fc(r,t))}),koe=(e,t)=>{let r=t!=null&&t.removeUndefinedValues?new Set([...e].filter(s=>s!==void 0)):e;if(!(t!=null&&t.removeUndefinedValues)&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t!=null&&t.convertEmptyValues)return um();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof si)return{NS:Array.from(r).map(s=>s.toString())};if(typeof n=="number")return{NS:Array.from(r).map(s=>fM(s,t)).map(s=>s.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(mM).map(s=>s.N)};if(typeof n=="string")return{SS:Array.from(r).map(pM).map(s=>s.S)};if(hM(n))return{BS:Array.from(r).map(dM).map(s=>s.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},Moe=(e,t)=>({M:(r=>{let n={};for(let[s,o]of r)typeof o!="function"&&(o!==void 0||!(t!=null&&t.removeUndefinedValues))&&(n[s]=fc(o,t));return n})(e)}),iM=(e,t)=>({M:(r=>{let n={};for(let s in r){let o=r[s];typeof o!="function"&&(o!==void 0||!(t!=null&&t.removeUndefinedValues))&&(n[s]=fc(o,t))}return n})(e)}),um=()=>({NULL:!0}),dM=e=>({B:e}),pM=e=>({S:e.toString()}),mM=e=>({N:e.toString()}),aM=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},fM=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t!=null&&t.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?aM(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&aM(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},hM=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e!=null&&e.constructor?t.includes(e.constructor.name):!1},mc=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return cM(n,t);case"B":return lM(n);case"S":return uM(n);case"L":return Uoe(n,t);case"M":return Boe(n,t);case"NS":return new Set(n.map(s=>cM(s,t)));case"BS":return new Set(n.map(lM));case"SS":return new Set(n.map(uM));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},cM=(e,t)=>{if(typeof(t==null?void 0:t.wrapNumbers)=="function")return t==null?void 0:t.wrapNumbers(e);if(t!=null&&t.wrapNumbers)return si.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},uM=e=>e,lM=e=>e,Uoe=(e,t)=>e.map(r=>mc(r,t)),Boe=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(r[n]=mc(s,t),r),{});function Foe(e,t){let r=fc(e,t),[n,s]=Object.entries(r)[0];switch(n){case"M":case"L":return t!=null&&t.convertTopLevelContainer?r:s;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var $oe=(e,t)=>t!=null&&t.convertWithoutMapWrapper?mc(e,t):mc({M:e},t);oi.NumberValueImpl=si;oi.convertToAttr=fc;oi.convertToNative=mc;oi.marshall=Foe;oi.unmarshall=$oe});var zoe={};We(zoe,{handler:()=>joe});module.exports=se(zoe);var lm=T(oM()),OS=T(gM()),Goe=new lm.DynamoDBClient({}),yM=process.env.TABLE_NAME||"",Hoe=process.env.PK_NAME||"pk",qoe=process.env.SK_NAME||"sk",joe=async e=>{var o,i,a,c,u,l,d,g,h;console.log("ApplyBackgroundChange event:",JSON.stringify(e));let t=(e==null?void 0:e.itemId)||(e==null?void 0:e.closetItemId)||((o=e==null?void 0:e.detail)==null?void 0:o.itemId)||((i=e==null?void 0:e.detail)==null?void 0:i.closetItemId)||(e==null?void 0:e.id),r=(e==null?void 0:e.ownerId)||(e==null?void 0:e.userId)||(e==null?void 0:e.sub)||((a=e==null?void 0:e.detail)==null?void 0:a.ownerId)||((c=e==null?void 0:e.detail)==null?void 0:c.userId),n=(e==null?void 0:e.mediaKey)||((u=e==null?void 0:e.detail)==null?void 0:u.mediaKey)||(e==null?void 0:e.processedKey)||((l=e==null?void 0:e.detail)==null?void 0:l.processedKey)||(e==null?void 0:e.backgroundKey)||((d=e==null?void 0:e.detail)==null?void 0:d.backgroundKey)||(e==null?void 0:e.newBackgroundKey)||((g=e==null?void 0:e.detail)==null?void 0:g.newBackgroundKey),s=(e==null?void 0:e.backgroundStatus)||((h=e==null?void 0:e.detail)==null?void 0:h.backgroundStatus)||null;if(!yM)return console.warn("TABLE_NAME not set; skipping DynamoDB update"),{...e,applied:!0,skippedDdb:!0};if(!t||!r)return console.warn("Missing itemId/ownerId; returning passthrough"),{...e,applied:!1,reason:"Missing itemId/ownerId"};try{let y=["#updatedAt = :now"],S={"#updatedAt":"updatedAt"},w={":now":new Date().toISOString()};n&&(y.push("#mediaKey = :mk"),S["#mediaKey"]="mediaKey",w[":mk"]=n,y.push("#pendingBackgroundKey = :null"),S["#pendingBackgroundKey"]="pendingBackgroundKey",w[":null"]=null);let C=s||(n?"COMPLETED":null);C&&(y.push("#backgroundStatus = :bs"),S["#backgroundStatus"]="backgroundStatus",w[":bs"]=C);let R=new lm.UpdateItemCommand({TableName:yM,Key:(0,OS.marshall)({[Hoe]:`USER#${r}`,[qoe]:`CLOSET#${t}`}),UpdateExpression:"SET "+y.join(", "),ExpressionAttributeNames:S,ExpressionAttributeValues:(0,OS.marshall)(w,{removeUndefinedValues:!0})});console.log("ApplyBackgroundChange: UpdateItem",JSON.stringify({TableName:R.input.TableName,Key:R.input.Key,UpdateExpression:R.input.UpdateExpression,ExpressionAttributeNames:R.input.ExpressionAttributeNames})),await Goe.send(R)}catch(y){return console.error("ApplyBackgroundChange: DDB update failed",y),{...e,applied:!1,error:String((y==null?void 0:y.message)||y)}}return{...e,applied:!0}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
