"use strict";var bP=Object.create;var vi=Object.defineProperty;var _P=Object.getOwnPropertyDescriptor;var wP=Object.getOwnPropertyNames;var TP=Object.getPrototypeOf,xP=Object.prototype.hasOwnProperty;var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mt=(e,t)=>{for(var r in t)vi(e,r,{get:t[r],enumerable:!0})},Ry=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of wP(t))!xP.call(e,s)&&s!==r&&vi(e,s,{get:()=>t[s],enumerable:!(n=_P(t,s))||n.enumerable});return e};var I=(e,t,r)=>(r=e!=null?bP(TP(e)):{},Ry(t||!e||!e.__esModule?vi(r,"default",{value:e,enumerable:!0}):r,e)),fe=e=>Ry(vi({},"__esModule",{value:!0}),e);var Cr=P(we=>{"use strict";we.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(we.HttpAuthLocation||(we.HttpAuthLocation={}));we.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(we.HttpApiKeyAuthLocation||(we.HttpApiKeyAuthLocation={}));we.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(we.EndpointURLScheme||(we.EndpointURLScheme={}));we.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(we.AlgorithmId||(we.AlgorithmId={}));var CP=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>we.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>we.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},IP=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},AP=e=>CP(e),RP=e=>IP(e);we.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(we.FieldPosition||(we.FieldPosition={}));var NP="__smithy_context";we.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(we.IniSectionType||(we.IniSectionType={}));we.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(we.RequestHandlerProtocol||(we.RequestHandlerProtocol={}));we.SMITHY_CONTEXT_KEY=NP;we.getDefaultClientConfiguration=AP;we.resolveDefaultRuntimeConfig=RP});var Ze=P(hu=>{"use strict";var Ny=Cr(),PP=e=>e[Ny.SMITHY_CONTEXT_KEY]||(e[Ny.SMITHY_CONTEXT_KEY]={}),vP=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};hu.getSmithyContext=PP;hu.normalizeProvider=vP});function Fn(e){return Py.includes(e)}var Fs,Py,Di=x(()=>{Fs="preferred",Py=["disabled","preferred","required"]});var vy,DP,Dy=x(()=>{vy=I(Ze());Di();DP=e=>{let{accountIdEndpointMode:t}=e,r=(0,vy.normalizeProvider)(t??Fs);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Fn(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var Oy,ky,Ly,My,OP,By=x(()=>{Di();Oy="Invalid AccountIdEndpointMode value",ky=e=>{throw new Error(e)},Ly="AWS_ACCOUNT_ID_ENDPOINT_MODE",My="account_id_endpoint_mode",OP={environmentVariableSelector:e=>{let t=e[Ly];return t&&!Fn(t)&&ky(Oy),t},configFileSelector:e=>{let t=e[My];return t&&!Fn(t)&&ky(Oy),t},default:Fs}});var yu={};mt(yu,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>Py,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>My,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Fs,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>Ly,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>OP,resolveAccountIdEndpointModeConfig:()=>DP,validateAccountIdEndpointMode:()=>Fn});var gu=x(()=>{Dy();Di();By()});var be=P(Ir=>{"use strict";var kP=Cr(),LP=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){var n;(n=e.httpHandler)==null||n.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),MP=e=>({httpHandler:e.httpHandler()}),Eu=class{name;kind;values;constructor({name:t,kind:r=kP.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Su=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},bu=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=BP(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function BP(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var _u=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function UP(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Ir.Field=Eu;Ir.Fields=Su;Ir.HttpRequest=bu;Ir.HttpResponse=_u;Ir.getHttpHandlerExtensionConfiguration=LP;Ir.isValidHostname=UP;Ir.resolveHttpHandlerRuntimeConfig=MP});var Fy=P((KG,Uy)=>{function Qt(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Qt.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(Qt.prototype[Symbol.iterator]=function(){return this});Qt.of=function(){var e=arguments,t=e.length,r=0;return new Qt(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};Qt.empty=function(){var e=new Qt(null);return e.done=!0,e};Qt.is=function(e){return e instanceof Qt?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};Uy.exports=Qt});var wu=P((JG,Hy)=>{var $y=typeof ArrayBuffer<"u",jy=typeof Symbol<"u";function zy(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||$y&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(jy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,s),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}zy.forEachWithNullKeys=function(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||$y&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(jy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,null),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};Hy.exports=zy});var Tu=P(Lt=>{var FP=Math.pow(2,8)-1,$P=Math.pow(2,16)-1,jP=Math.pow(2,32)-1,zP=Math.pow(2,7)-1,HP=Math.pow(2,15)-1,qP=Math.pow(2,31)-1;Lt.getPointerArray=function(e){var t=e-1;return t<=FP?Uint8Array:t<=$P?Uint16Array:t<=jP?Uint32Array:Float64Array};Lt.getSignedPointerArray=function(e){var t=e-1;return t<=zP?Int8Array:t<=HP?Int16Array:t<=qP?Int32Array:Float64Array};Lt.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var VP={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Lt.getMinimalRepresentation=function(e,t){var r=null,n=0,s,o,i,a,d;for(a=0,d=e.length;a<d;a++)i=t?t(e[a]):e[a],o=Lt.getNumberType(i),s=VP[o.name],s>n&&(n=s,r=o);return r};Lt.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Lt.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var s=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)s.set(arguments[t],r),r+=arguments[t].length;return s};Lt.indices=function(e){for(var t=Lt.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var Gy=P($s=>{var qy=wu(),Vy=Tu();function GP(e){return Array.isArray(e)||Vy.isTypedArray(e)}function xu(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function WP(e){var t=xu(e),r=typeof t=="number"?new Array(t):[],n=0;return qy(e,function(s){r[n++]=s}),r}function KP(e){var t=xu(e),r=typeof t=="number"?Vy.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],s=typeof t=="number"?new r(t):[],o=0;return qy(e,function(i){n[o]=i,s[o]=o++}),[n,s]}$s.isArrayLike=GP;$s.guessLength=xu;$s.toArray=WP;$s.toArrayWithIndices=KP});var Ky=P((QG,Wy)=>{var Cu=Fy(),JP=wu(),YP=Tu(),XP=Gy();function ke(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=YP.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}ke.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};ke.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};ke.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};ke.prototype.setpop=function(e,t){var r=null,n=null,s=this.items[e];return typeof s<"u"?(this.splayOnTop(s),r=this.V[s],this.V[s]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?s=this.size++:(s=this.tail,this.tail=this.backward[s],r=this.V[s],n=this.K[s],delete this.items[this.K[s]]),this.items[e]=s,this.K[s]=e,this.V[s]=t,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,n?{evicted:!0,key:n,value:r}:null)};ke.prototype.has=function(e){return e in this.items};ke.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};ke.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};ke.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,s=this.head,o=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[s],o[s],this),s=a[s],r++};ke.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.forward;return new Cu(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};ke.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,s=this.forward;return new Cu(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};ke.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.V,o=this.forward;return new Cu(function(){if(e>=t)return{done:!0};var i=n[r],a=s[r];return e++,e<t&&(r=o[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(ke.prototype[Symbol.iterator]=ke.prototype.entries);ke.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:ke,enumerable:!1}),e};typeof Symbol<"u"&&(ke.prototype[Symbol.for("nodejs.util.inspect.custom")]=ke.prototype.inspect);ke.from=function(e,t,r,n){if(arguments.length<2){if(n=XP.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var s=new ke(t,r,n);return JP(e,function(o,i){s.set(i,o)}),s};Wy.exports=ke});var Qy=P((ZG,Xy)=>{"use strict";var QP=Object.create,js=Object.defineProperty,ZP=Object.getOwnPropertyDescriptor,ev=Object.getOwnPropertyNames,tv=Object.getPrototypeOf,rv=Object.prototype.hasOwnProperty,nv=(e,t)=>js(e,"name",{value:t,configurable:!0}),sv=(e,t)=>{for(var r in t)js(e,r,{get:t[r],enumerable:!0})},Jy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ev(t))!rv.call(e,s)&&s!==r&&js(e,s,{get:()=>t[s],enumerable:!(n=ZP(t,s))||n.enumerable});return e},ov=(e,t,r)=>(r=e!=null?QP(tv(e)):{},Jy(t||!e||!e.__esModule?js(r,"default",{value:e,enumerable:!0}):r,e)),iv=e=>Jy(js({},"__esModule",{value:!0}),e),Yy={};sv(Yy,{EndpointCache:()=>cv});Xy.exports=iv(Yy);var av=ov(Ky()),$n,cv=($n=class{cache;constructor(t){this.cache=new av.default(t)}getEndpoint(t){let r=this.get(t);if(!r||r.length===0)return;let n=r.map(s=>s.Address);return n[Math.floor(Math.random()*n.length)]}get(t){if(!this.has(t))return;let r=this.cache.get(t);if(!r)return;let n=Date.now(),s=r.filter(o=>n<o.Expires);if(s.length===0){this.delete(t);return}return s}set(t,r){let n=Date.now();this.cache.set(t,r.map(({Address:s,CachePeriodInMinutes:o})=>({Address:s,Expires:n+o*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let r=this.cache.peek(t);return r?r.length>0:!1}clear(){this.cache.clear()}},nv($n,"EndpointCache"),$n)});var Ru=P(mn=>{"use strict";var dv=be(),lv=Qy(),Zy=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Iu="endpoint_discovery_enabled",eg=e=>["false","0"].indexOf(e)>=0,uv={environmentVariableSelector:e=>{for(let t=0;t<Zy.length;t++){let r=Zy[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!eg(n)}}},configFileSelector:e=>{if(Iu in e){let t=e[Iu];if(t===void 0)throw Error(`Shared config entry ${Iu} can't be undefined, got "${t}"`);return!eg(t)}},default:void 0},mv=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:s}=r;return JSON.stringify({...n&&{accessKeyId:n},...s&&{commandName:e,identifiers:Object.entries(s).sort().reduce((o,[i,a])=>({...o,[i]:a}),{})}})},Zt={},tg=async(e,t)=>new Promise((r,n)=>{let{endpointCache:s}=e,{cacheKey:o,commandName:i,identifiers:a}=t,d=s.get(o);if(d&&d.length===1&&d[0].Address==="")t.isDiscoveredEndpointRequired?(Zt[o]||(Zt[o]=[]),Zt[o].push({resolve:r,reject:n})):r();else if(d&&d.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];s.set(o,l);let p=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(y=>{s.set(o,y.output.Endpoints),Zt[o]&&(Zt[o].forEach(({resolve:h})=>{h()}),delete Zt[o]),r()}).catch(y=>{s.delete(o);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:y});Zt[o]&&(Zt[o].forEach(({reject:E})=>{E(h)}),delete Zt[o]),t.isDiscoveredEndpointRequired?n(h):(s.set(o,l),r())})}}),Au=(e,t)=>(r,n)=>async s=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(s)}let{endpointDiscoveryCommandCtor:o}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,d=n.clientName,l=n.commandName,p=await e.endpointDiscoveryEnabled(),f=await mv(l,e,{identifiers:a});if(i){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${d} requires it. Please check your configurations.`);await tg(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:o})}else p&&tg(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:o});let{request:y}=s;if(f&&dv.HttpRequest.isInstance(y)){let h=e.endpointCache.getEndpoint(f);h&&(y.hostname=h)}return r(s)},Oi={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},pv=(e,t)=>({applyToStack:r=>{r.add(Au(e,t),Oi)}}),fv=(e,t)=>({applyToStack:r=>{r.add(Au(e,{...t,isDiscoveredEndpointRequired:!0}),Oi)}}),hv=(e,t)=>({applyToStack:r=>{r.add(Au(e,{...t,isDiscoveredEndpointRequired:!1}),Oi)}}),yv=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:s}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new lv.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):s,isClientEndpointDiscoveryEnabled:n!==void 0})};mn.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=uv;mn.endpointDiscoveryMiddlewareOptions=Oi;mn.getEndpointDiscoveryOptionalPlugin=hv;mn.getEndpointDiscoveryPlugin=pv;mn.getEndpointDiscoveryRequiredPlugin=fv;mn.resolveEndpointDiscoveryConfig=yv});var Hs=P(zs=>{"use strict";var gv=be();function Ev(e){return e}var rg=e=>t=>async r=>{if(!gv.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},ng={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Sv=e=>({applyToStack:t=>{t.add(rg(e),ng)}});zs.getHostHeaderPlugin=Sv;zs.hostHeaderMiddleware=rg;zs.hostHeaderMiddlewareOptions=ng;zs.resolveHostHeaderConfig=Ev});var qs=P(ki=>{"use strict";var sg=()=>(e,t)=>async r=>{var n,s;try{let o=await e(r),{clientName:i,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:f}=l,y=p??t.inputFilterSensitiveLog,h=f??t.outputFilterSensitiveLog,{$metadata:E,...S}=o.output;return(n=d==null?void 0:d.info)==null||n.call(d,{clientName:i,commandName:a,input:y(r.input),output:h(S),metadata:E}),o}catch(o){let{clientName:i,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:p}=l,f=p??t.inputFilterSensitiveLog;throw(s=d==null?void 0:d.error)==null||s.call(d,{clientName:i,commandName:a,input:f(r.input),error:o,metadata:o.$metadata}),o}},og={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},bv=e=>({applyToStack:t=>{t.add(sg(),og)}});ki.getLoggerPlugin=bv;ki.loggerMiddleware=sg;ki.loggerMiddlewareOptions=og});var ag=P(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.InvokeStore=void 0;var _v=require("async_hooks"),Nu=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";Nu||(globalThis.awslambda=globalThis.awslambda||{});var wv={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},Pu=class{static storage=new _v.AsyncLocalStorage;static PROTECTED_KEYS=wv;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){let r=this.storage.getStore();return r==null?void 0:r[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},Li,ig;!Nu&&((ig=globalThis.awslambda)!=null&&ig.InvokeStore)?Li=globalThis.awslambda.InvokeStore:(Li=Pu,!Nu&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Li));Mi.InvokeStore=Li});var cg=P(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.recursionDetectionMiddleware=void 0;var Tv=ag(),xv=be(),vu="X-Amzn-Trace-Id",Cv="AWS_LAMBDA_FUNCTION_NAME",Iv="_X_AMZN_TRACE_ID",Av=()=>e=>async t=>{let{request:r}=t;if(!xv.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===vu.toLowerCase())??vu;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[Cv],o=process.env[Iv],a=Tv.InvokeStore.getXRayTraceId()??o,d=l=>typeof l=="string"&&l.length>0;return d(s)&&d(a)&&(r.headers[vu]=a),e({...t,request:r})};Bi.recursionDetectionMiddleware=Av});var Vs=P(Ui=>{"use strict";var Du=cg(),Rv={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Nv=e=>({applyToStack:t=>{t.add(Du.recursionDetectionMiddleware(),Rv)}});Ui.getRecursionDetectionPlugin=Nv;Object.keys(Du).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ui,e)&&Object.defineProperty(Ui,e,{enumerable:!0,get:function(){return Du[e]}})})});var Ou,Pv,dg=x(()=>{Ou=I(Cr()),Pv=e=>e[Ou.SMITHY_CONTEXT_KEY]||(e[Ou.SMITHY_CONTEXT_KEY]={})});var lg,ug=x(()=>{lg=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function vv(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var mg,Gs,Fi=x(()=>{mg=I(Ze());ug();Gs=(e,t)=>(r,n)=>async s=>{var f;let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=lg(o,i),d=vv(e.httpAuthSchemes),l=(0,mg.getSmithyContext)(n),p=[];for(let y of a){let h=d.get(y.schemeId);if(!h){p.push(`HttpAuthScheme \`${y.schemeId}\` was not enabled for this service.`);continue}let E=h.identityProvider(await t.identityProviderConfigProvider(e));if(!E){p.push(`HttpAuthScheme \`${y.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:S={},signingProperties:T={}}=((f=y.propertiesExtractor)==null?void 0:f.call(y,e,n))||{};y.identityProperties=Object.assign(y.identityProperties||{},S),y.signingProperties=Object.assign(y.signingProperties||{},T),l.selectedHttpAuthScheme={httpAuthOption:y,identity:await E(y.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(s)}});var pg,Ws,fg=x(()=>{Fi();pg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ws=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Gs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),pg)}})});var Ar=P(jn=>{"use strict";var Dv=be(),hg=(e,t)=>(r,n)=>async s=>{var i,a,d,l;let{response:o}=await r(s);try{let p=await t(o,e);return{response:o,output:p}}catch(p){if(Object.defineProperty(p,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in p)){let f="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{p.message+=`
  `+f}catch{!n.logger||((a=(i=n.logger)==null?void 0:i.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(f):(l=(d=n.logger)==null?void 0:d.warn)==null||l.call(d,f)}typeof p.$responseBodyText<"u"&&p.$response&&(p.$response.body=p.$responseBodyText);try{if(Dv.HttpResponse.isInstance(o)){let{headers:y={}}=o,h=Object.entries(y);p.$metadata={httpStatusCode:o.statusCode,requestId:ku(/^x-[\w-]+-request-?id$/,h),extendedRequestId:ku(/^x-[\w-]+-id-2$/,h),cfId:ku(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw p}},ku=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],yg=(e,t)=>(r,n)=>async s=>{var d;let o=e,i=(d=n.endpointV2)!=null&&d.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})},gg={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Eg={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ov(e,t,r){return{applyToStack:n=>{n.add(hg(e,r),gg),n.add(yg(e,t),Eg)}}}jn.deserializerMiddleware=hg;jn.deserializerMiddlewareOption=gg;jn.getSerdePlugin=Ov;jn.serializerMiddleware=yg;jn.serializerMiddlewareOption=Eg});var Sg,bg,kv,_g=x(()=>{Sg=I(Ar());Fi();bg={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Sg.serializerMiddlewareOption.name},kv=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Gs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),bg)}})});var wg=x(()=>{Fi();fg();_g()});var Tg,xg,Lv,Mv,Lu,Mu=x(()=>{Tg=I(be()),xg=I(Ze()),Lv=e=>t=>{throw t},Mv=(e,t)=>{},Lu=e=>(t,r)=>async n=>{if(!Tg.HttpRequest.isInstance(n.request))return t(n);let o=(0,xg.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:d}=o,l=await t({...n,request:await d.sign(n.request,a,i)}).catch((d.errorHandler||Lv)(i));return(d.successHandler||Mv)(l.response,i),l}});var Cg,Ks,Ig=x(()=>{Mu();Cg={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ks=e=>({applyToStack:t=>{t.addRelativeTo(Lu(e),Cg)}})});var Ag=x(()=>{Mu();Ig()});var Rr,Rg=x(()=>{Rr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Ng(e,t,r,n,s){return async function*(i,a,...d){let l=a,p=i.startingToken??l[r],f=!0,y;for(;f;){if(l[r]=p,s&&(l[s]=l[s]??i.pageSize),i.client instanceof e)y=await Bv(t,i.client,a,i.withCommand,...d);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let h=p;p=Uv(y,n),f=!!(p&&(!i.stopOnSameToken||p!==h))}return void 0}}var Bv,Uv,Pg=x(()=>{Bv=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};Uv=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var Bu=P(vg=>{"use strict";var Fv=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";vg.isArrayBuffer=Fv});var zn=P(Fu=>{"use strict";var $v=Bu(),Uu=require("buffer"),jv=(e,t=0,r=e.byteLength-t)=>{if(!$v.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Uu.Buffer.from(e,t,r)},zv=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Uu.Buffer.from(e,t):Uu.Buffer.from(e)};Fu.fromArrayBuffer=jv;Fu.fromString=zv});var Dg=P($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.fromBase64=void 0;var Hv=zn(),qv=/^[A-Za-z0-9+/]*={0,2}$/,Vv=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!qv.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,Hv.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};$i.fromBase64=Vv});var je=P(ji=>{"use strict";var Og=zn(),kg=e=>{let t=Og.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},Gv=e=>typeof e=="string"?kg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Wv=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Og.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};ji.fromUtf8=kg;ji.toUint8Array=Gv;ji.toUtf8=Wv});var Lg=P(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.toBase64=void 0;var Kv=zn(),Jv=je(),Yv=e=>{let t;if(typeof e=="string"?t=(0,Jv.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,Kv.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};zi.toBase64=Yv});var ze=P(Js=>{"use strict";var Mg=Dg(),Bg=Lg();Object.keys(Mg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Js,e)&&Object.defineProperty(Js,e,{enumerable:!0,get:function(){return Mg[e]}})});Object.keys(Bg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Js,e)&&Object.defineProperty(Js,e,{enumerable:!0,get:function(){return Bg[e]}})})});var ju=P(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.ChecksumStream=void 0;var Xv=ze(),Qv=require("stream"),$u=class extends Qv.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){var i;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${((i=n==null?void 0:n.constructor)==null?void 0:i.name)??n} in ChecksumStream.`);this.base64Encoder=o??Xv.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};Hi.ChecksumStream=$u});var Nr=P(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.isBlob=Hn.isReadableStream=void 0;var Zv=e=>{var t;return typeof ReadableStream=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};Hn.isReadableStream=Zv;var e0=e=>{var t;return typeof Blob=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===Blob.name||e instanceof Blob)};Hn.isBlob=e0});var Ug=P(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.ChecksumStream=void 0;var t0=typeof ReadableStream=="function"?ReadableStream:function(){},zu=class extends t0{};qi.ChecksumStream=zu});var Fg=P(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.createChecksumStream=void 0;var r0=ze(),n0=Nr(),s0=Ug(),o0=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var d;if(!(0,n0.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${((d=r==null?void 0:r.constructor)==null?void 0:d.name)??r} in ChecksumStream.`);let o=s??r0.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(l,p){t.update(l),p.enqueue(l)},async flush(l){let p=await t.digest(),f=o(p);if(e!==f){let y=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);l.error(y)}else l.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,s0.ChecksumStream.prototype),a};Vi.createChecksumStream=o0});var $g=P(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.createChecksumStream=d0;var i0=Nr(),a0=ju(),c0=Fg();function d0(e){return typeof ReadableStream=="function"&&(0,i0.isReadableStream)(e.source)?(0,c0.createChecksumStream)(e):new a0.ChecksumStream(e)}});var Vu=P(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.ByteArrayCollector=void 0;var qu=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};Gi.ByteArrayCollector=qu});var qg=P(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.createBufferedReadable=void 0;er.createBufferedReadableStream=jg;er.merge=zg;er.flush=Wi;er.sizeOf=qn;er.modeOf=Hg;var l0=Vu();function jg(e,t,r){let n=e.getReader(),s=!1,o=0,i=["",new l0.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,d=async l=>{let{value:p,done:f}=await n.read(),y=p;if(f){if(a!==-1){let h=Wi(i,a);qn(h)>0&&l.enqueue(h)}l.close()}else{let h=Hg(y,!1);if(a!==h&&(a>=0&&l.enqueue(Wi(i,a)),a=h),a===-1){l.enqueue(y);return}let E=qn(y);o+=E;let S=qn(i[a]);if(E>=t&&S===0)l.enqueue(y);else{let T=zg(i,a,y);!s&&o>t*2&&(s=!0,r==null||r.warn(`@smithy/util-stream - stream chunk size ${E} is below threshold of ${t}, automatically buffering.`)),T>=t?l.enqueue(Wi(i,a)):await d(l)}}};return new ReadableStream({pull:d})}er.createBufferedReadable=jg;function zg(e,t,r){switch(t){case 0:return e[0]+=r,qn(e[0]);case 1:case 2:return e[t].push(r),qn(e[t])}}function Wi(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function qn(e){return(e==null?void 0:e.byteLength)??(e==null?void 0:e.length)??0}function Hg(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var Gg=P(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.createBufferedReadable=p0;var u0=require("node:stream"),Vg=Vu(),tr=qg(),m0=Nr();function p0(e,t,r){if((0,m0.isReadableStream)(e))return(0,tr.createBufferedReadableStream)(e,t,r);let n=new u0.Readable({read(){}}),s=!1,o=0,i=["",new Vg.ByteArrayCollector(d=>new Uint8Array(d)),new Vg.ByteArrayCollector(d=>Buffer.from(new Uint8Array(d)))],a=-1;return e.on("data",d=>{let l=(0,tr.modeOf)(d,!0);if(a!==l&&(a>=0&&n.push((0,tr.flush)(i,a)),a=l),a===-1){n.push(d);return}let p=(0,tr.sizeOf)(d);o+=p;let f=(0,tr.sizeOf)(i[a]);if(p>=t&&f===0)n.push(d);else{let y=(0,tr.merge)(i,a,d);!s&&o>t*2&&(s=!0,r==null||r.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),y>=t&&n.push((0,tr.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let d=(0,tr.flush)(i,a);(0,tr.sizeOf)(d)>0&&n.push(d)}n.push(null)}),n}});var Wg=P(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.getAwsChunkedEncodingStream=void 0;var f0=require("stream"),h0=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,d=a?i(s,e):void 0,l=new f0.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await d);l.push(`${o}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};Ki.getAwsChunkedEncodingStream=h0});var Kg=P(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.headStream=y0;async function y0(e,t){let r=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:d,value:l}=await s.read();if(l&&(n.push(l),r+=(l==null?void 0:l.byteLength)??0),r>=t)break;o=d}s.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let d of n){if(d.byteLength>i.byteLength-a){i.set(d.subarray(0,i.byteLength-a),a);break}else i.set(d,a);a+=d.length}return i}});var Jg=P(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.headStream=void 0;var g0=require("stream"),E0=Kg(),S0=Nr(),b0=(e,t)=>(0,S0.isReadableStream)(e)?(0,E0.headStream)(e,t):new Promise((r,n)=>{let s=new Ku;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});Ji.headStream=b0;var Ku=class extends g0.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var Yu=P(Ju=>{"use strict";var Yg=e=>encodeURIComponent(e).replace(/[!'()*]/g,_0),_0=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,w0=e=>e.split("/").map(Yg).join("/");Ju.escapeUri=Yg;Ju.escapeUriPath=w0});var Qu=P(Xg=>{"use strict";var Xu=Yu();function T0(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Xu.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${Xu.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Xu.escapeUri(n)}`),t.push(s)}}return t.join("&")}Xg.buildQueryString=T0});var pn=P(Ys=>{"use strict";var tE=be(),rE=Qu(),Yi=require("http"),Xi=require("https"),nE=require("stream"),Zu=require("http2"),x0=["ECONNRESET","EPIPE","ETIMEDOUT"],sE=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},et={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},Qg=1e3,C0=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let o=et.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=a=>{a!=null&&a.connecting?a.on("connect",()=>{et.clearTimeout(o)}):et.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):et.setTimeout(n.bind(null,Qg),Qg)},I0=(e,t,r=0,n,s)=>r?et.setTimeout(()=>{var i;let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let a=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(a),t(a)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",(i=s==null?void 0:s.warn)==null||i.call(s,o)},r):-1,A0=3e3,R0=(e,{keepAlive:t,keepAliveMsecs:r},n=A0)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return n===0?(s(),0):et.setTimeout(s,n)},Zg=3e3,N0=(e,t,r=0)=>{let n=s=>{let o=r-s,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>{var a;return(a=e.socket)==null?void 0:a.removeListener("timeout",i)})):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):et.setTimeout(n.bind(null,r===0?0:Zg),Zg)},eE=6e3;async function oE(e,t,r=eE,n=!1){let s=t.headers??{},o=s.Expect||s.expect,i=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(d=>{i=Number(et.setTimeout(()=>d(!0),Math.max(eE,r)))}),new Promise(d=>{e.on("continue",()=>{et.clearTimeout(i),d(!0)}),e.on("response",()=>{et.clearTimeout(i),d(!1)}),e.on("error",()=>{et.clearTimeout(i),d(!1)})})])),a&&P0(e,t.body)}function P0(e,t){if(t instanceof nE.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var v0=0,em=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){var d,l,p;let{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let f in s){let y=((d=s[f])==null?void 0:d.length)??0,h=((l=o[f])==null?void 0:l.length)??0;if(y>=i&&h>=2*i)return(p=n==null?void 0:n.warn)==null||p.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${y} and ${h} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:d}=t||{},l=!0,p=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:d,httpAgent:i instanceof Yi.Agent||typeof(i==null?void 0:i.destroy)=="function"?(this.externalAgent=!0,i):new Yi.Agent({keepAlive:l,maxSockets:p,...i}),httpsAgent:a instanceof Xi.Agent||typeof(a==null?void 0:a.destroy)=="function"?(this.externalAgent=!0,a):new Xi.Agent({keepAlive:l,maxSockets:p,...a}),logger:console}}destroy(){var t,r,n,s;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,a,d=[],l=async re=>{await a,d.forEach(et.clearTimeout),s(re)},p=async re=>{await a,d.forEach(et.clearTimeout),o(re)};if(r!=null&&r.aborted){let re=new Error("Request aborted");re.name="AbortError",p(re);return}let f=t.protocol==="https:",y=t.headers??{},h=(y.Expect??y.expect)==="100-continue",E=f?i.httpsAgent:i.httpAgent;h&&!this.externalAgent&&(E=new(f?Xi.Agent:Yi.Agent)({keepAlive:!1,maxSockets:1/0})),d.push(et.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(E,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let S=rE.buildQueryString(t.query||{}),T;if(t.username!=null||t.password!=null){let re=t.username??"",te=t.password??"";T=`${re}:${te}`}let R=t.path;S&&(R+=`?${S}`),t.fragment&&(R+=`#${t.fragment}`);let v=t.hostname??"";v[0]==="["&&v.endsWith("]")?v=t.hostname.slice(1,-1):v=t.hostname;let k={headers:t.headers,host:v,method:t.method,path:R,port:t.port,agent:E,auth:T},X=(f?Xi.request:Yi.request)(k,re=>{let te=new tE.HttpResponse({statusCode:re.statusCode||-1,reason:re.statusMessage,headers:sE(re.headers),body:re});l({response:te})});if(X.on("error",re=>{x0.includes(re.code)?p(Object.assign(re,{name:"TimeoutError"})):p(re)}),r){let re=()=>{X.destroy();let te=new Error("Request aborted");te.name="AbortError",p(te)};if(typeof r.addEventListener=="function"){let te=r;te.addEventListener("abort",re,{once:!0}),X.once("close",()=>te.removeEventListener("abort",re))}else r.onabort=re}let ae=n??i.requestTimeout;d.push(C0(X,p,i.connectionTimeout)),d.push(I0(X,p,ae,i.throwOnRequestTimeout,i.logger??console)),d.push(N0(X,p,i.socketTimeout));let me=k.agent;typeof me=="object"&&"keepAlive"in me&&d.push(R0(X,{keepAlive:me.keepAlive,keepAliveMsecs:me.keepAliveMsecs})),a=oE(X,t,ae,this.externalAgent).catch(re=>(d.forEach(et.clearTimeout),o(re)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},tm=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},rm=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let d=s.poll();if(d&&!this.config.disableConcurrency)return d}let o=Zu.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},d=>{if(d)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new tm;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var s;let n=this.getUrlString(t);(s=this.sessionCache.get(n))==null||s.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},nm=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new rm({});static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,d)=>{var wr;let l=!1,p,f=async he=>{await p,a(he)},y=async he=>{await p,d(he)};if(r!=null&&r.aborted){l=!0;let he=new Error("Request aborted");he.name="AbortError",y(he);return}let{hostname:h,method:E,port:S,protocol:T,query:R}=t,v="";if(t.username!=null||t.password!=null){let he=t.username??"",Ge=t.password??"";v=`${he}:${Ge}@`}let k=`${T}//${v}${h}${S?`:${S}`:""}`,Y={destination:new URL(k)},X=this.connectionManager.lease(Y,{requestTimeout:(wr=this.config)==null?void 0:wr.sessionTimeout,disableConcurrentStreams:o||!1}),ae=he=>{o&&this.destroySession(X),l=!0,y(he)},me=rE.buildQueryString(R||{}),re=t.path;me&&(re+=`?${me}`),t.fragment&&(re+=`#${t.fragment}`);let te=X.request({...t.headers,[Zu.constants.HTTP2_HEADER_PATH]:re,[Zu.constants.HTTP2_HEADER_METHOD]:E});if(X.ref(),te.on("response",he=>{let Ge=new tE.HttpResponse({statusCode:he[":status"]||-1,headers:sE(he),body:te});l=!0,f({response:Ge}),o&&(X.close(),this.connectionManager.deleteSession(k,X))}),i&&te.setTimeout(i,()=>{te.close();let he=new Error(`Stream timed out because of no activity for ${i} ms`);he.name="TimeoutError",ae(he)}),r){let he=()=>{te.close();let Ge=new Error("Request aborted");Ge.name="AbortError",ae(Ge)};if(typeof r.addEventListener=="function"){let Ge=r;Ge.addEventListener("abort",he,{once:!0}),te.once("close",()=>Ge.removeEventListener("abort",he))}else r.onabort=he}te.on("frameError",(he,Ge,uu)=>{ae(new Error(`Frame type id ${he} in stream id ${uu} has failed with code ${Ge}.`))}),te.on("error",ae),te.on("aborted",()=>{ae(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${te.rstCode}.`))}),te.on("close",()=>{X.unref(),o&&X.destroy(),l||ae(new Error("Unexpected error: http2 request did not get a response"))}),p=oE(te,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},sm=class extends nE.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},D0=e=>O0(e)?k0(e):new Promise((t,r)=>{let n=new sm;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),O0=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function k0(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}Ys.DEFAULT_REQUEST_TIMEOUT=v0;Ys.NodeHttp2Handler=nm;Ys.NodeHttpHandler=em;Ys.streamCollector=D0});var cE=P(Zi=>{"use strict";var iE=be(),L0=Qu(),M0=ze();function aE(e,t){return new Request(e,t)}function B0(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var Qi={supported:void 0},om=class e{config;configProvider;static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Qi.supported===void 0&&(Qi.supported=typeof Request<"u"&&"keepalive"in aE("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){var v;this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r!=null&&r.aborted){let k=new Error("Request aborted");return k.name="AbortError",Promise.reject(k)}let a=t.path,d=L0.buildQueryString(t.query||{});d&&(a+=`?${d}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let k=t.username??"",Y=t.password??"";l=`${k}:${Y}@`}let{port:p,method:f}=t,y=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,h=f==="GET"||f==="HEAD"?void 0:t.body,E={body:h,headers:new Headers(t.headers),method:f,credentials:i};(v=this.config)!=null&&v.cache&&(E.cache=this.config.cache),h&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=r),Qi.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(t));let S=()=>{},T=aE(y,E),R=[fetch(T).then(k=>{let Y=k.headers,X={};for(let me of Y.entries())X[me[0]]=me[1];return k.body!=null?{response:new iE.HttpResponse({headers:X,reason:k.statusText,statusCode:k.status,body:k.body})}:k.blob().then(me=>({response:new iE.HttpResponse({headers:X,reason:k.statusText,statusCode:k.status,body:me})}))}),B0(s)];return r&&R.push(new Promise((k,Y)=>{let X=()=>{let ae=new Error("Request aborted");ae.name="AbortError",Y(ae)};if(typeof r.addEventListener=="function"){let ae=r;ae.addEventListener("abort",X,{once:!0}),S=()=>ae.removeEventListener("abort",X)}else r.onabort=X})),Promise.race(R).finally(S)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},U0=async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):F0(e):$0(e)};async function F0(e){let t=await j0(e),r=M0.fromBase64(t);return new Uint8Array(r)}async function $0(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}function j0(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Zi.FetchHttpHandler=om;Zi.keepAliveSupport=Qi;Zi.streamCollector=U0});var cm=P(am=>{"use strict";var dE={},im={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),dE[e]=t,im[t]=e}function z0(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in im)t[r/2]=im[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function H0(e){let t="";for(let r=0;r<e.byteLength;r++)t+=dE[e[r]];return t}am.fromHex=z0;am.toHex=H0});var pE=P(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.sdkStreamMixin=void 0;var q0=cE(),V0=ze(),G0=cm(),W0=je(),lE=Nr(),uE="The stream has already been transformed.",K0=e=>{var s,o;if(!mE(e)&&!(0,lE.isReadableStream)(e)){let i=((o=(s=e==null?void 0:e.__proto__)==null?void 0:s.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let t=!1,r=async()=>{if(t)throw new Error(uE);return t=!0,await(0,q0.streamCollector)(e)},n=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async i=>{let a=await r();if(i==="base64")return(0,V0.toBase64)(a);if(i==="hex")return(0,G0.toHex)(a);if(i===void 0||i==="utf8"||i==="utf-8")return(0,W0.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(uE);if(t=!0,mE(e))return n(e);if((0,lE.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};ea.sdkStreamMixin=K0;var mE=e=>typeof Blob=="function"&&e instanceof Blob});var hE=P(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.sdkStreamMixin=void 0;var J0=pn(),Y0=zn(),dm=require("stream"),X0=pE(),fE="The stream has already been transformed.",Q0=e=>{var n,s;if(!(e instanceof dm.Readable))try{return(0,X0.sdkStreamMixin)(e)}catch{let i=((s=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${i}`)}let t=!1,r=async()=>{if(t)throw new Error(fE);return t=!0,await(0,J0.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let i=await r();return o===void 0||Buffer.isEncoding(o)?(0,Y0.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(o):new TextDecoder(o).decode(i)},transformToWebStream:()=>{if(t)throw new Error(fE);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof dm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,dm.Readable.toWeb(e)}})};ta.sdkStreamMixin=Q0});var yE=P(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.splitStream=Z0;async function Z0(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var SE=P(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.splitStream=tD;var gE=require("stream"),eD=yE(),EE=Nr();async function tD(e){if((0,EE.isReadableStream)(e)||(0,EE.isBlob)(e))return(0,eD.splitStream)(e);let t=new gE.PassThrough,r=new gE.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var ra=P(Ue=>{"use strict";var bE=ze(),_E=je(),wE=ju(),TE=$g(),xE=Gg(),CE=Wg(),IE=Jg(),AE=hE(),RE=SE(),NE=Nr(),mm=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(bE.fromBase64(t)):e.mutate(_E.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?bE.toBase64(this):_E.toUtf8(this)}};Ue.Uint8ArrayBlobAdapter=mm;Object.keys(wE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return wE[e]}})});Object.keys(TE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return TE[e]}})});Object.keys(xE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return xE[e]}})});Object.keys(CE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return CE[e]}})});Object.keys(IE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return IE[e]}})});Object.keys(AE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return AE[e]}})});Object.keys(RE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return RE[e]}})});Object.keys(NE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ue,e)&&Object.defineProperty(Ue,e,{enumerable:!0,get:function(){return NE[e]}})})});var na,gt,sa=x(()=>{na=I(ra()),gt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return na.Uint8ArrayBlobAdapter.mutate(e);if(!e)return na.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return na.Uint8ArrayBlobAdapter.mutate(await r)}});function Mt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var oa=x(()=>{});var At,pm=x(()=>{At=e=>typeof e=="function"?e():e});var Xs,ia=x(()=>{Xs=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var PE,vE,DE,fm,OE=x(()=>{PE=I(be()),vE=I(Ze());ia();DE=e=>(t,r)=>async n=>{var f,y,h,E;let{response:s}=await t(n),{operationSchema:o}=(0,vE.getSmithyContext)(r),[,i,a,d,l,p]=o??[];try{let S=await e.protocol.deserializeResponse(Xs(i,a,d,l,p),{...e,...r},s);return{response:s,output:S}}catch(S){if(Object.defineProperty(S,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in S)){let T="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{S.message+=`
  `+T}catch{!r.logger||((y=(f=r.logger)==null?void 0:f.constructor)==null?void 0:y.name)==="NoOpLogger"?console.warn(T):(E=(h=r.logger)==null?void 0:h.warn)==null||E.call(h,T)}typeof S.$responseBodyText<"u"&&S.$response&&(S.$response.body=S.$responseBodyText);try{if(PE.HttpResponse.isInstance(s)){let{headers:R={}}=s,v=Object.entries(R);S.$metadata={httpStatusCode:s.statusCode,requestId:fm(/^x-[\w-]+-request-?id$/,v),extendedRequestId:fm(/^x-[\w-]+-id-2$/,v),cfId:fm(/^x-[\w-]+-cf-id$/,v)}}}catch{}}throw S}},fm=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var kE,LE,ME=x(()=>{kE=I(Ze());ia();LE=e=>(t,r)=>async n=>{var y;let{operationSchema:s}=(0,kE.getSmithyContext)(r),[,o,i,a,d,l]=s??[],p=(y=r.endpointV2)!=null&&y.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,f=await e.protocol.serializeRequest(Xs(o,i,a,d,l),n.input,{...e,...r,endpoint:p});return t({...n,request:f})}});function rD(e){return{applyToStack:t=>{t.add(LE(e),UE),t.add(DE(e),BE),e.protocol.setSerdeContext(e)}}}var BE,UE,FE=x(()=>{OE();ME();BE={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},UE={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ne,Pr=x(()=>{Ne=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var aa,nD,$E=x(()=>{Pr();aa=class e extends Ne{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},nD=(e,t,r,n)=>Ne.assign(new aa,{name:t,namespace:e,traits:r,valueSchema:n})});var ca,sD,jE=x(()=>{Pr();ca=class e extends Ne{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},sD=(e,t,r,n,s)=>Ne.assign(new ca,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var da,oD,zE=x(()=>{Pr();da=class e extends Ne{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},oD=(e,t,r,n,s)=>Ne.assign(new da,{name:t,namespace:e,traits:r,input:n,output:s})});var Vn,iD,hm=x(()=>{Pr();Vn=class e extends Ne{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},iD=(e,t,r,n,s)=>Ne.assign(new Vn,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var la,aD,HE=x(()=>{Pr();hm();la=class e extends Vn{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},aD=(e,t,r,n,s,o)=>Ne.assign(new la,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function Bt(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var ym=x(()=>{});function Qs(e,t){if(e instanceof W)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=W;return new r(e,t)}var W,gm,qE,VE=x(()=>{pm();ym();W=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,o=t;for(this._isMemberSchema=!1;gm(s);)n.push(s[1]),s=s[0],o=At(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,Bt(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=At(o),qE(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=At(t);if(r instanceof e)return r;if(gm(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),Bt(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=o=>(o&4)===4||!!(o!=null&&o.idempotencyToken),{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Bt(this.memberTraits)}getOwnTraits(){return Bt(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return Qs([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(o!=null)return Qs([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return Qs(gm(s)?s:[s,0],t)}if(this.isDocumentSchema())return Qs([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],Qs([t[5][r],0],t[4][r])]}};gm=e=>Array.isArray(e)&&e.length===2,qE=e=>Array.isArray(e)&&e.length>=5});var Zs,cD,dD,GE=x(()=>{Pr();Zs=class e extends Ne{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},cD=(e,t,r,n)=>Ne.assign(new Zs,{name:t,namespace:e,traits:n,schemaRef:r}),dD=(e,t,r,n)=>Ne.assign(new Zs,{name:t,namespace:e,traits:r,schemaRef:n})});var lD,WE=x(()=>{lD={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Me,KE=x(()=>{Me=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var JE={};mt(JE,{ErrorSchema:()=>la,ListSchema:()=>aa,MapSchema:()=>ca,NormalizedSchema:()=>W,OperationSchema:()=>da,SCHEMA:()=>lD,Schema:()=>Ne,SimpleSchema:()=>Zs,StructureSchema:()=>Vn,TypeRegistry:()=>Me,deref:()=>At,deserializerMiddlewareOption:()=>BE,error:()=>aD,getSchemaSerdePlugin:()=>rD,isStaticSchema:()=>qE,list:()=>nD,map:()=>sD,op:()=>oD,operation:()=>Xs,serializerMiddlewareOption:()=>UE,sim:()=>cD,simAdapter:()=>dD,struct:()=>iD,translateTraits:()=>Bt});var Ie=x(()=>{pm();FE();$E();jE();zE();ia();HE();VE();Pr();GE();hm();WE();ym();KE()});var uD,YE=x(()=>{uD=(e,t,r=n=>n)=>e});var mD,pD,eo,fD,ua,to,hD,Em,Sm,bm,_m,yD,gD,XE,ED,SD,pa,bD,wm,_D,Gn,Tm,wD,TD,xD,QE,ZE,CD,ID,fn,xm,ma,ro,Cm=x(()=>{mD=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},pD=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&ro.warn(ma(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&ro.warn(ma(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},eo=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ro.warn(ma(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},fD=Math.ceil(34028234663852886e22),ua=e=>{let t=eo(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>fD)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},to=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},hD=to,Em=e=>_m(e,32),Sm=e=>_m(e,16),bm=e=>_m(e,8),_m=(e,t)=>{let r=to(e);if(r!==void 0&&yD(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},yD=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},gD=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},XE=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},ED=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return ro.warn(ma(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},SD=e=>{if(e==null)return;let t=XE(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},pa=e=>eo(typeof e=="string"?Gn(e):e),bD=pa,wm=e=>ua(typeof e=="string"?Gn(e):e),_D=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Gn=e=>{let t=e.match(_D);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Tm=e=>typeof e=="string"?QE(e):eo(e),wD=Tm,TD=Tm,xD=e=>typeof e=="string"?QE(e):ua(e),QE=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},ZE=e=>to(typeof e=="string"?Gn(e):e),CD=ZE,ID=e=>Em(typeof e=="string"?Gn(e):e),fn=e=>Sm(typeof e=="string"?Gn(e):e),xm=e=>bm(typeof e=="string"?Gn(e):e),ma=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),ro={warn:console.warn}});function so(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),d=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${AD[n]}, ${d} ${Am[r]} ${t} ${l}:${p}:${f} GMT`}var AD,Am,RD,ND,PD,Rm,vD,DD,OD,Nm,Pm,no,kD,LD,MD,Im,BD,UD,FD,Ut,$D,jD,Wn,eS=x(()=>{Cm();AD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Am=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];RD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),ND=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=RD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,d,l]=t,p=fn(Wn(n)),f=Ut(s,"month",1,12),y=Ut(o,"day",1,31);return no(p,f,y,{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l})},PD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Rm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=PD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,d,l,p]=t,f=fn(Wn(n)),y=Ut(s,"month",1,12),h=Ut(o,"day",1,31),E=no(f,y,h,{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&E.setTime(E.getTime()-jD(p)),E},vD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),DD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),OD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Nm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=vD.exec(e);if(t){let[r,n,s,o,i,a,d,l]=t;return no(fn(Wn(o)),Im(s),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l})}if(t=DD.exec(e),t){let[r,n,s,o,i,a,d,l]=t;return MD(no(kD(o),Im(s),Ut(n,"day",1,31),{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l}))}if(t=OD.exec(e),t){let[r,n,s,o,i,a,d,l]=t;return no(fn(Wn(l)),Im(n),Ut(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},Pm=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=pa(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},no=(e,t,r,n)=>{let s=t-1;return UD(e,s,r),new Date(Date.UTC(e,s,r,Ut(n.hours,"hour",0,23),Ut(n.minutes,"minute",0,59),Ut(n.seconds,"seconds",0,60),$D(n.fractionalMilliseconds)))},kD=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+fn(Wn(e));return r<t?r+100:r},LD=50*365*24*60*60*1e3,MD=e=>e.getTime()-new Date().getTime()>LD?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Im=e=>{let t=Am.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},BD=[31,28,31,30,31,30,31,31,30,31,30,31],UD=(e,t,r)=>{let n=BD[t];if(t===1&&FD(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Am[t]} in ${e}: ${r}`)},FD=e=>e%4===0&&(e%100!==0||e%400===0),Ut=(e,t,r,n)=>{let s=xm(Wn(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},$D=e=>e==null?0:wm("0."+e)*1e3,jD=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},Wn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var oo={};mt(oo,{__addDisposableResource:()=>CS,__assign:()=>fa,__asyncDelegator:()=>gS,__asyncGenerator:()=>yS,__asyncValues:()=>ES,__await:()=>Kn,__awaiter:()=>lS,__classPrivateFieldGet:()=>wS,__classPrivateFieldIn:()=>xS,__classPrivateFieldSet:()=>TS,__createBinding:()=>ya,__decorate:()=>nS,__disposeResources:()=>IS,__esDecorate:()=>oS,__exportStar:()=>mS,__extends:()=>tS,__generator:()=>uS,__importDefault:()=>_S,__importStar:()=>bS,__makeTemplateObject:()=>SS,__metadata:()=>dS,__param:()=>sS,__propKey:()=>aS,__read:()=>Om,__rest:()=>rS,__rewriteRelativeImportExtension:()=>AS,__runInitializers:()=>iS,__setFunctionName:()=>cS,__spread:()=>pS,__spreadArray:()=>hS,__spreadArrays:()=>fS,__values:()=>ha,default:()=>qD});function tS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vm(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function rS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nS(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function sS(e,t){return function(r,n){t(r,n,e)}}function oS(e,t,r,n,s,o){function i(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var a=n.kind,d=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,y=!1,h=r.length-1;h>=0;h--){var E={};for(var S in n)E[S]=S==="access"?{}:n[S];for(var S in n.access)E.access[S]=n.access[S];E.addInitializer=function(R){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(R||null))};var T=(0,r[h])(a==="accessor"?{get:p.get,set:p.set}:p[d],E);if(a==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(f=i(T.get))&&(p.get=f),(f=i(T.set))&&(p.set=f),(f=i(T.init))&&s.unshift(f)}else(f=i(T))&&(a==="field"?s.unshift(f):p[d]=f)}l&&Object.defineProperty(l,n.name,p),y=!0}function iS(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function aS(e){return typeof e=="symbol"?e:"".concat(e)}function cS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function dS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function lS(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(p){try{l(n.next(p))}catch(f){i(f)}}function d(p){try{l(n.throw(p))}catch(f){i(f)}}function l(p){p.done?o(p.value):s(p.value).then(a,d)}l((n=n.apply(e,t||[])).next())})}function uS(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(p){return d([l,p])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],s=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function mS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ya(t,e,r)}function ha(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Om(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function pS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Om(arguments[t]));return e}function fS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function hS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Kn(e){return this instanceof Kn?(this.v=e,this):new Kn(e)}function yS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(h){return function(E){return Promise.resolve(E).then(h,f)}}function a(h,E){n[h]&&(s[h]=function(S){return new Promise(function(T,R){o.push([h,S,T,R])>1||d(h,S)})},E&&(s[h]=E(s[h])))}function d(h,E){try{l(n[h](E))}catch(S){y(o[0][3],S)}}function l(h){h.value instanceof Kn?Promise.resolve(h.value.v).then(p,f):y(o[0][2],h)}function p(h){d("next",h)}function f(h){d("throw",h)}function y(h,E){h(E),o.shift(),o.length&&d(o[0][0],o[0][1])}}function gS(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Kn(e[s](i)),done:!1}:o?o(i):i}:o}}function ES(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ha=="function"?ha(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,d){i=e[o](i),s(a,d,i.done,i.value)})}}function s(o,i,a,d){Promise.resolve(d).then(function(l){o({value:l,done:a})},i)}}function SS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function bS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Dm(e),n=0;n<r.length;n++)r[n]!=="default"&&ya(t,e,r[n]);return zD(t,e),t}function _S(e){return e&&e.__esModule?e:{default:e}}function wS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function TS(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function xS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function CS(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function IS(e){function t(o){e.error=e.hasError?new HD(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function AS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}var vm,fa,ya,zD,Dm,HD,qD,io=x(()=>{vm=function(e,t){return vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},vm(e,t)};fa=function(){return fa=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},fa.apply(this,arguments)};ya=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});zD=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Dm=function(e){return Dm=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Dm(e)};HD=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};qD={__extends:tS,__assign:fa,__rest:rS,__decorate:nS,__param:sS,__esDecorate:oS,__runInitializers:iS,__propKey:aS,__setFunctionName:cS,__metadata:dS,__awaiter:lS,__generator:uS,__createBinding:ya,__exportStar:mS,__values:ha,__read:Om,__spread:pS,__spreadArrays:fS,__spreadArray:hS,__await:Kn,__asyncGenerator:yS,__asyncDelegator:gS,__asyncValues:ES,__makeTemplateObject:SS,__importStar:bS,__importDefault:_S,__classPrivateFieldGet:wS,__classPrivateFieldSet:TS,__classPrivateFieldIn:xS,__addDisposableResource:CS,__disposeResources:IS,__rewriteRelativeImportExtension:AS}});var NS=P(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.randomUUID=void 0;var VD=(io(),fe(oo)),RS=VD.__importDefault(require("crypto"));ga.randomUUID=RS.default.randomUUID.bind(RS.default)});var Ea=P(vS=>{"use strict";var PS=NS(),We=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),GD=()=>{if(PS.randomUUID)return PS.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,We[e[0]]+We[e[1]]+We[e[2]]+We[e[3]]+"-"+We[e[4]]+We[e[5]]+"-"+We[e[6]]+We[e[7]]+"-"+We[e[8]]+We[e[9]]+"-"+We[e[10]]+We[e[11]]+We[e[12]]+We[e[13]]+We[e[14]]+We[e[15]]};vS.v4=GD});var Et,DS=x(()=>{Et=I(Ea())});var tt,OS=x(()=>{tt=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};tt.from=e=>e&&typeof e=="object"&&(e instanceof tt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?tt(String(e)):tt(JSON.stringify(e));tt.fromObject=tt.from});function km(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var kS=x(()=>{});function rr(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var Lm,Mm,Bm,LS,MS,WD,KD,JD,YD,XD,ao,Um,Fm,BS=x(()=>{Lm="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Mm="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Bm="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",LS="(\\d?\\d)",MS="(\\d{4})",WD=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),KD=new RegExp(`^${Lm}, ${LS} ${Mm} ${MS} ${Bm} GMT$`),JD=new RegExp(`^${Lm}, ${LS}-${Mm}-(\\d\\d) ${Bm} GMT$`),YD=new RegExp(`^${Lm} ${Mm} ( [1-9]|\\d\\d) ${Bm} ${MS}$`),XD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ao=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},Um=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=WD.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,o,i,a,,d,l]=t;rr(n,1,12),rr(s,1,31),rr(o,0,23),rr(i,0,59),rr(a,0,60);let p=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(o),Number(i),Number(a),Number(d)?Math.round(parseFloat(`0.${d}`)*1e3):0));if(p.setUTCFullYear(Number(r)),l.toUpperCase()!="Z"){let[,f,y,h]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],E=f==="-"?1:-1;p.setTime(p.getTime()+E*(Number(y)*60*60*1e3+Number(h)*60*1e3))}return p},Fm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,o,i,a,d;if((d=KD.exec(e))?[,t,r,n,s,o,i,a]=d:(d=JD.exec(e))?([,t,r,n,s,o,i,a]=d,n=(Number(n)+1900).toString()):(d=YD.exec(e))&&([,r,t,s,o,i,a,n]=d),n&&i){let l=Date.UTC(Number(n),XD.indexOf(r),Number(t),Number(s),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);rr(t,1,31),rr(s,0,23),rr(o,0,59),rr(i,0,60);let p=new Date(l);return p.setUTCFullYear(Number(n)),p}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function $m(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var US=x(()=>{});var co,FS=x(()=>{co=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,i)),o=i+1);break;default:}s=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function jm(e){return new xe(String(e),"bigDecimal")}var $S,xe,jS=x(()=>{$S=/^-?\d*(\.\d+)?$/,xe=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!$S.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&$S.test(r.string)}}});var zS={};mt(zS,{LazyJsonString:()=>tt,NumericValue:()=>xe,_parseEpochTimestamp:()=>ao,_parseRfc3339DateTimeWithOffset:()=>Um,_parseRfc7231DateTime:()=>Fm,copyDocumentWithTransform:()=>uD,dateToUtcString:()=>so,expectBoolean:()=>pD,expectByte:()=>bm,expectFloat32:()=>ua,expectInt:()=>hD,expectInt32:()=>Em,expectLong:()=>to,expectNonNull:()=>gD,expectNumber:()=>eo,expectObject:()=>XE,expectShort:()=>Sm,expectString:()=>ED,expectUnion:()=>SD,generateIdempotencyToken:()=>Et.v4,handleFloat:()=>wD,limitedParseDouble:()=>Tm,limitedParseFloat:()=>TD,limitedParseFloat32:()=>xD,logger:()=>ro,nv:()=>jm,parseBoolean:()=>mD,parseEpochTimestamp:()=>Pm,parseRfc3339DateTime:()=>ND,parseRfc3339DateTimeWithOffset:()=>Rm,parseRfc7231DateTime:()=>Nm,quoteHeader:()=>km,splitEvery:()=>$m,splitHeader:()=>co,strictParseByte:()=>xm,strictParseDouble:()=>pa,strictParseFloat:()=>bD,strictParseFloat32:()=>wm,strictParseInt:()=>CD,strictParseInt32:()=>ID,strictParseLong:()=>ZE,strictParseShort:()=>fn});var it=x(()=>{YE();eS();DS();OS();Cm();kS();BS();US();FS();jS()});var rt,Jn=x(()=>{rt=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var Sa,zm,HS=x(()=>{Sa=I(je()),zm=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,d=this.defaultContentType,l=Symbol("initialRequestMarker"),p={async*[Symbol.asyncIterator](){if(n){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:d}};a.write(r,n);let y=a.flush();yield{[l]:!0,headers:f,body:y}}for await(let f of t)yield f}};return s.serialize(p,f=>{if(f[l])return{headers:f.headers,body:f.body};let y=Object.keys(f).find(v=>v!=="__type")??"",{additionalHeaders:h,body:E,eventType:S,explicitPayloadContentType:T}=this.writeEventBody(y,i,f);return{headers:{":event-type":{type:"string",value:S},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:T??d},...h},body:E}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){var y;let s=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),d=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async h=>{var T,R;let E=Object.keys(h).find(v=>v!=="__type")??"",S=h[E].body;if(E==="initial-response"){let v=await this.deserializer.read(r,S);return delete v[o],{[d]:!0,...v}}else if(E in a){let v=a[E];if(v.isStructSchema()){let k={},Y=!1;for(let[X,ae]of v.structIterator()){let{eventHeader:me,eventPayload:re}=ae.getMergedTraits();if(Y=Y||!!(me||re),re)ae.isBlobSchema()?k[X]=S:ae.isStringSchema()?k[X]=(((T=this.serdeContext)==null?void 0:T.utf8Encoder)??Sa.toUtf8)(S):ae.isStructSchema()&&(k[X]=await this.deserializer.read(ae,S));else if(me){let te=(R=h[E].headers[X])==null?void 0:R.value;te!=null&&(ae.isNumericSchema()?te&&typeof te=="object"&&"bytes"in te?k[X]=BigInt(te.toString()):k[X]=Number(te):k[X]=te)}}if(Y)return{[E]:k}}return{[E]:await this.deserializer.read(v,S)}}else return{$unknown:h}}),p=l[Symbol.asyncIterator](),f=await p.next();if(f.done)return l;if((y=f.value)!=null&&y[d]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,E]of Object.entries(f.value))n[h]=E}return{async*[Symbol.asyncIterator](){var h;for((h=f==null?void 0:f.value)!=null&&h[d]||(yield f.value);;){let{done:E,value:S}=await p.next();if(E)break;yield S}}}}writeEventBody(t,r,n){var y;let s=this.serializer,o=t,i=null,a,d=r.getSchema()[4].includes(t),l={};if(d){let h=r.getMemberSchema(t);if(h.isStructSchema()){for(let[E,S]of h.structIterator()){let{eventHeader:T,eventPayload:R}=S.getMergedTraits();if(R){i=E;break}else if(T){let v=n[t][E],k="binary";S.isNumericSchema()?(-2)**31<=v&&v<=2**31-1?k="integer":k="long":S.isTimestampSchema()?k="timestamp":S.isStringSchema()?k="string":S.isBooleanSchema()&&(k="boolean"),v!=null&&(l[E]={type:k,value:v},delete n[t][E])}}if(i!==null){let E=h.getMemberSchema(i);E.isBlobSchema()?a="application/octet-stream":E.isStringSchema()&&(a="text/plain"),s.write(E,n[t][i])}else s.write(h,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,E]=n[t];o=h,s.write(15,E)}let p=s.flush();return{body:typeof p=="string"?(((y=this.serdeContext)==null?void 0:y.utf8Decoder)??Sa.fromUtf8)(p):p,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var qS={};mt(qS,{EventStreamSerde:()=>zm});var VS=x(()=>{HS()});var ba,hn,_a=x(()=>{Ie();ba=I(be());Jn();hn=class extends rt{options;constructor(t){super(),this.options=t}getRequestType(){return ba.HttpRequest}getResponseType(){return ba.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){var i;let s=W.of(r.input),o=Bt(r.traits??{});if(o.endpoint){let a=(i=o.endpoint)==null?void 0:i[0];if(typeof a=="string"){let d=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of d){let p=n[l];if(typeof p!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);a=a.replace(`{${l}}`,p)}t.hostname=a+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(VS(),qS));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var GS,WS,yn,KS=x(()=>{Ie();it();GS=I(be()),WS=I(ra());sa();oa();_a();yn=class extends hn{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,i={},a={},d=await n.endpoint(),l=W.of(t==null?void 0:t.input),p=l.getSchema(),f=!1,y,h=new GS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(d){this.updateServiceEndpoint(h,d),this.setHostPrefix(h,t,s);let E=Bt(t.traits);if(E.http){h.method=E.http[0];let[S,T]=E.http[1].split("?");h.path=="/"?h.path=S:h.path+=S;let R=new URLSearchParams(T??"");Object.assign(i,Object.fromEntries(R))}}for(let[E,S]of l.structIterator()){let T=S.getMergedTraits()??{},R=s[E];if(!(R==null&&!S.isIdempotencyToken()))if(T.httpPayload)S.isStreaming()?S.isStructSchema()?s[E]&&(y=await this.serializeEventStream({eventStream:s[E],requestSchema:l})):y=R:(o.write(S,R),y=o.flush()),delete s[E];else if(T.httpLabel){o.write(S,R);let v=o.flush();h.path.includes(`{${E}+}`)?h.path=h.path.replace(`{${E}+}`,v.split("/").map(Mt).join("/")):h.path.includes(`{${E}}`)&&(h.path=h.path.replace(`{${E}}`,Mt(v))),delete s[E]}else if(T.httpHeader)o.write(S,R),a[T.httpHeader.toLowerCase()]=String(o.flush()),delete s[E];else if(typeof T.httpPrefixHeaders=="string"){for(let[v,k]of Object.entries(R)){let Y=T.httpPrefixHeaders+v;o.write([S.getValueSchema(),{httpHeader:Y}],k),a[Y.toLowerCase()]=o.flush()}delete s[E]}else T.httpQuery||T.httpQueryParams?(this.serializeQuery(S,R,i),delete s[E]):f=!0}return f&&s&&(o.write(p,s),y=o.flush()),h.headers=a,h.query=i,h.body=y,h}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let d=t.getValueSchema();Object.assign(d.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(d,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let d of r){s.write([t.getValueSchema(),o],d);let l=s.flush();(i||l!==void 0)&&a.push(l)}n[o.httpQuery]=a}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=W.of(t.output),i={};if(n.statusCode>=300){let d=await gt(n.body,r);throw d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let d=await gt(n.body,r);if(d.byteLength>0){let l=await s.read(o,d);for(let p of a)i[p]=l[p]}}else a.discardResponseBody&&await gt(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=!0,d=this.deserializer,l=W.of(t),p=[];for(let[f,y]of l.structIterator()){let h=y.getMemberTraits();if(h.httpPayload){if(a=!1,y.isStreaming())y.isStructSchema()?i[f]=await this.deserializeEventStream({response:n,responseSchema:l}):i[f]=(0,WS.sdkStreamMixin)(n.body);else if(n.body){let S=await gt(n.body,r);S.byteLength>0&&(i[f]=await d.read(y,S))}}else if(h.httpHeader){let E=String(h.httpHeader).toLowerCase(),S=n.headers[E];if(S!=null)if(y.isListSchema()){let T=y.getValueSchema();T.getMergedTraits().httpHeader=E;let R;T.isTimestampSchema()&&T.getSchema()===4?R=$m(S,",",2):R=co(S);let v=[];for(let k of R)v.push(await d.read(T,k.trim()));i[f]=v}else i[f]=await d.read(y,S)}else if(h.httpPrefixHeaders!==void 0){i[f]={};for(let[E,S]of Object.entries(n.headers))if(E.startsWith(h.httpPrefixHeaders)){let T=y.getValueSchema();T.getMergedTraits().httpHeader=E,i[f][E.slice(h.httpPrefixHeaders.length)]=await d.read(T,S)}}else h.httpResponseCode?i[f]=n.statusCode:p.push(f)}return p.discardResponseBody=a,p}}});var JS,nr,YS=x(()=>{Ie();JS=I(be());sa();_a();nr=class extends hn{async serializeRequest(t,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),d=W.of(t==null?void 0:t.input),l=d.getSchema(),p,f=new JS.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let y={...r};if(r){let h=d.getEventStreamMember();if(h){if(y[h]){let E={};for(let[S,T]of d.structIterator())S!==h&&y[S]&&(s.write(T,y[S]),E[S]=s.flush());p=await this.serializeEventStream({eventStream:y[h],requestSchema:d,initialRequest:E})}}else s.write(l,y),p=s.flush()}return f.headers=i,f.query=o,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let s=this.deserializer,o=W.of(t.output),i={};if(n.statusCode>=300){let d=await gt(n.body,r);throw d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let d=await gt(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(o,d))}return i.$metadata=this.deserializeMetadata(n),i}}});var Hm,qm=x(()=>{oa();Hm=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>Mt(a)).join("/"):Mt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function lo(e,t){return new wa(e,t)}var XS,wa,QS=x(()=>{XS=I(be());qm();wa=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new XS.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=Hm(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function pt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var Ta=x(()=>{});var Vm,ZS,gn,Gm=x(()=>{Ie();it();Vm=I(ze()),ZS=I(je());Jn();Ta();gn=class extends rt{settings;constructor(t){super(),this.settings=t}read(t,r){var s;let n=W.of(t);if(n.isListSchema())return co(r).map(o=>this.read(n.getValueSchema(),o));if(n.isBlobSchema())return(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Vm.fromBase64)(r);if(n.isTimestampSchema())switch(pt(n,this.settings)){case 5:return Um(r);case 6:return Fm(r);case 7:return ao(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let o=n.getMergedTraits().mediaType,i=r;if(o)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(o==="application/json"||o.endsWith("+json"))&&(i=tt.from(i)),i}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new xe(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){var r,n;return(((r=this.serdeContext)==null?void 0:r.utf8Encoder)??ZS.toUtf8)((((n=this.serdeContext)==null?void 0:n.base64Decoder)??Vm.fromBase64)(t))}}});var xa,En,eb=x(()=>{Ie();xa=I(je());Jn();Gm();En=class extends rt{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new gn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){var i,a;let n=W.of(t),s=n.getMergedTraits(),o=((i=this.serdeContext)==null?void 0:i.utf8Encoder)??xa.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let d=((a=this.serdeContext)==null?void 0:a.utf8Decoder)??xa.fromUtf8;return typeof r=="string"?d(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var Wm,uo,Km=x(()=>{Ie();it();Wm=I(ze());Jn();Ta();uo=class extends rt{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){var s,o;let n=W.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(pt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=so(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(((s=this.serdeContext)==null?void 0:s.base64Encoder)??Wm.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let d="";for(let l of r){this.write([n.getValueSchema(),n.getMergedTraits()],l);let p=this.flush(),f=n.getValueSchema().isTimestampSchema()?p:km(p);d!==""&&(d+=", "),d+=f}this.stringBuffer=d;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let i=n.getMergedTraits().mediaType,a=r;if(i&&((i==="application/json"||i.endsWith("+json"))&&(a=tt.from(a)),n.getMergedTraits().httpHeader)){this.stringBuffer=(((o=this.serdeContext)==null?void 0:o.base64Encoder)??Wm.toBase64)(a.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Et.v4)():this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Sn,tb=x(()=>{Ie();Km();Sn=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new uo(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=W.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var rb={};mt(rb,{FromStringShapeDeserializer:()=>gn,HttpBindingProtocol:()=>yn,HttpInterceptingShapeDeserializer:()=>En,HttpInterceptingShapeSerializer:()=>Sn,HttpProtocol:()=>hn,RequestBuilder:()=>wa,RpcProtocol:()=>nr,SerdeContext:()=>rt,ToStringShapeSerializer:()=>uo,collectBody:()=>gt,determineTimestampFormat:()=>pt,extendedEncodeURIComponent:()=>Mt,requestBuilder:()=>lo,resolvedPath:()=>Hm});var at=x(()=>{sa();oa();KS();_a();YS();QS();qm();Gm();eb();tb();Km();Ta();Jn()});var nb=x(()=>{at()});function QD(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var sb=x(()=>{});var bn,ob=x(()=>{bn=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var ib,Jm,Ym,ab=x(()=>{ib=I(be()),Jm=I(Cr()),Ym=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=ib.HttpRequest.clone(t);if(n.in===Jm.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===Jm.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var cb,Xm,db=x(()=>{cb=I(be()),Xm=class{async sign(t,r,n){let s=cb.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var sr,lb=x(()=>{sr=class{async sign(t,r,n){return t}}});var ub=x(()=>{ab();db();lb()});var mb,ZD,Qm,Ca,Zm,pb=x(()=>{mb=e=>function(r){return Ca(r)&&r.expiration.getTime()-Date.now()<e},ZD=3e5,Qm=mb(3e5),Ca=e=>e.expiration!==void 0,Zm=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,d=async l=>{o||(o=n(l));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return t===void 0?async l=>((!i||l!=null&&l.forceRefresh)&&(s=await d(l)),s):async l=>((!i||l!=null&&l.forceRefresh)&&(s=await d(l)),a?s:r(s)?(t(s)&&await d(l),s):(a=!0,s))}});var fb=x(()=>{ob();ub();pb()});var Yn={};mt(Yn,{DefaultIdentityProviderConfig:()=>bn,EXPIRATION_MS:()=>ZD,HttpApiKeyAuthSigner:()=>Ym,HttpBearerAuthSigner:()=>Xm,NoAuthSigner:()=>sr,createIsIdentityExpiredFunction:()=>mb,createPaginator:()=>Ng,doesIdentityRequireRefresh:()=>Ca,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Ws,getHttpAuthSchemePlugin:()=>kv,getHttpSigningPlugin:()=>Ks,getSmithyContext:()=>Pv,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>pg,httpAuthSchemeMiddleware:()=>Gs,httpAuthSchemeMiddlewareOptions:()=>bg,httpSigningMiddleware:()=>Lu,httpSigningMiddlewareOptions:()=>Cg,isIdentityExpired:()=>Qm,memoizeIdentityProvider:()=>Zm,normalizeProvider:()=>Rr,requestBuilder:()=>lo,setFeature:()=>QD});var ct=x(()=>{dg();wg();Ag();Rg();Pg();nb();sb();fb()});var wn=P(_n=>{"use strict";var tp=Cr(),rp=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(t[s]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},eO=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hb=e=>eO.test(e)||e.startsWith("[")&&e.endsWith("]"),tO=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),sp=(e,t=!1)=>{if(!t)return tO.test(e);let r=e.split(".");for(let n of r)if(!sp(n))return!1;return!0},np={},mo="endpoints";function vr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${vr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(vr).join(", ")})`:JSON.stringify(e,null,2)}var Ke=class extends Error{constructor(t){super(t),this.name="EndpointError"}},rO=(e,t)=>e===t,nO=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ke(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Ke(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},yb=(e,t)=>nO(t).reduce((r,n)=>{if(typeof r!="object")throw new Ke(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),sO=e=>e!=null,oO=e=>!e,ep={[tp.EndpointURLScheme.HTTP]:80,[tp.EndpointURLScheme.HTTPS]:443},iO=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:h,protocol:E="",path:S="",query:T={}}=e,R=new URL(`${E}//${y}${h?`:${h}`:""}${S}`);return R.search=Object.entries(T).map(([v,k])=>`${v}=${k}`).join("&"),R}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let d=i.slice(0,-1);if(!Object.values(tp.EndpointURLScheme).includes(d))return null;let l=hb(s),p=r.includes(`${n}:${ep[d]}`)||typeof e=="string"&&e.includes(`${n}:${ep[d]}`),f=`${n}${p?`:${ep[d]}`:""}`;return{scheme:d,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},aO=(e,t)=>e===t,cO=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),dO=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),lO={booleanEquals:rO,getAttr:yb,isSet:sO,isValidHostLabel:sp,not:oO,parseURL:iO,stringEquals:aO,substring:cO,uriEncode:dO},gb=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[d,l]=a.split("#");r.push(yb(n[d],l))}else r.push(n[a]);s=i+1}return r.join("")},uO=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Ia=(e,t,r)=>{if(typeof e=="string")return gb(e,r);if(e.fn)return Sb.callFunction(e,r);if(e.ref)return uO(e,r);throw new Ke(`'${t}': ${String(e)} is not a string, function or reference.`)},Eb=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Sb.evaluateExpression(o,"arg",r)),s=e.split(".");return s[0]in np&&s[1]!=null?np[s[0]][s[1]](...n):lO[e](...n)},Sb={evaluateExpression:Ia,callFunction:Eb},mO=({assign:e,...t},r)=>{var s,o;if(e&&e in r.referenceRecord)throw new Ke(`'${e}' is already defined in Reference Record.`);let n=Eb(t,r);return(o=(s=r.logger)==null?void 0:s.debug)==null||o.call(s,`${mo} evaluateCondition: ${vr(t)} = ${vr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},op=(e=[],t)=>{var n,s;let r={};for(let o of e){let{result:i,toAssign:a}=mO(o,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(s=(n=t.logger)==null?void 0:n.debug)==null||s.call(n,`${mo} assign: ${a.name} := ${vr(a.value)}`))}return{result:!0,referenceRecord:r}},pO=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=Ia(o,"Header value entry",t);if(typeof i!="string")throw new Ke(`Header '${n}' value '${i}' is not a string`);return i})}),{}),bb=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:wb.getEndpointProperty(s,t)}),{}),_b=(e,t)=>{if(Array.isArray(e))return e.map(r=>_b(r,t));switch(typeof e){case"string":return gb(e,t);case"object":if(e===null)throw new Ke(`Unexpected endpoint property: ${e}`);return wb.getEndpointProperties(e,t);case"boolean":return e;default:throw new Ke(`Unexpected endpoint property type: ${typeof e}`)}},wb={getEndpointProperty:_b,getEndpointProperties:bb},fO=(e,t)=>{let r=Ia(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ke(`Endpoint URL must be a string, got ${typeof r}`)},hO=(e,t)=>{var p,f;let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=op(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:d,headers:l}=n;return(f=(p=t.logger)==null?void 0:p.debug)==null||f.call(p,`${mo} Resolving endpoint from template: ${vr(n)}`),{...l!=null&&{headers:pO(l,i)},...d!=null&&{properties:bb(d,i)},url:fO(a,i)}},yO=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=op(r,t);if(s)throw new Ke(Ia(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},Tb=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=hO(r,t);if(n)return n}else if(r.type==="error")yO(r,t);else if(r.type==="tree"){let n=xb.evaluateTreeRule(r,t);if(n)return n}else throw new Ke(`Unknown endpoint rule: ${r}`);throw new Ke("Rules evaluation failed")},gO=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=op(r,t);if(s)return xb.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},xb={evaluateRules:Tb,evaluateTreeRule:gO},EO=(e,t)=>{var l,p,f,y;let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;(p=(l=t.logger)==null?void 0:l.debug)==null||p.call(l,`${mo} Initial EndpointParams: ${vr(r)}`);let i=Object.entries(s).filter(([,h])=>h.default!=null).map(([h,E])=>[h,E.default]);if(i.length>0)for(let[h,E]of i)r[h]=r[h]??E;let a=Object.entries(s).filter(([,h])=>h.required).map(([h])=>h);for(let h of a)if(r[h]==null)throw new Ke(`Missing required parameter: '${h}'`);let d=Tb(o,{endpointParams:r,logger:n,referenceRecord:{}});return(y=(f=t.logger)==null?void 0:f.debug)==null||y.call(f,`${mo} Resolved endpoint: ${vr(d)}`),d};_n.EndpointCache=rp;_n.EndpointError=Ke;_n.customEndpointFunctions=np;_n.isIpAddress=hb;_n.isValidHostLabel=sp;_n.resolveEndpoint=EO});var Ib=P(Cb=>{"use strict";function SO(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}Cb.parseQueryString=SO});var Dr=P(Rb=>{"use strict";var bO=Ib(),Ab=e=>{if(typeof e=="string")return Ab(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=bO.parseQueryString(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};Rb.parseUrl=Ab});var Qn=P(Rt=>{"use strict";var Xn=wn(),_O=Dr(),Pb=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!Pb(r))return!1;return!0}return!(!Xn.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Xn.isIpAddress(e))},Nb=":",wO="/",TO=e=>{let t=e.split(Nb);if(t.length<6)return null;let[r,n,s,o,i,...a]=t;if(r!=="arn"||n===""||s===""||a.join(Nb)==="")return null;let d=a.map(l=>l.split(wO)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:d}},xO=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],CO="1.1",vb={partitions:xO,version:CO},Db=vb,Ob="",kb=e=>{let{partitions:t}=Db;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Lb=(e,t="")=>{Db=e,Ob=t},IO=()=>{Lb(vb,"")},AO=()=>Ob,Mb={isVirtualHostableS3Bucket:Pb,parseArn:TO,partition:kb};Xn.customEndpointFunctions.aws=Mb;var RO=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>Bb(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},Bb=e=>_O.parseUrl(e.url);Object.defineProperty(Rt,"EndpointError",{enumerable:!0,get:function(){return Xn.EndpointError}});Object.defineProperty(Rt,"isIpAddress",{enumerable:!0,get:function(){return Xn.isIpAddress}});Object.defineProperty(Rt,"resolveEndpoint",{enumerable:!0,get:function(){return Xn.resolveEndpoint}});Rt.awsEndpointFunctions=Mb;Rt.getUserAgentPrefix=AO;Rt.partition=kb;Rt.resolveDefaultAwsRegionalEndpointsConfig=RO;Rt.setPartitionInfo=Lb;Rt.toEndpointV1=Bb;Rt.useDefaultPartitionInfo=IO});var Aa,Zn,Ub=x(()=>{Aa={warningEmitted:!1},Zn=e=>{e&&!Aa.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Aa.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Or(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Fb=x(()=>{});function $b(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var jb=x(()=>{});function zb(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Hb=x(()=>{});var kr={};mt(kr,{emitWarningIfUnsupportedVersion:()=>Zn,setCredentialFeature:()=>Or,setFeature:()=>$b,setTokenFeature:()=>zb,state:()=>Aa});var Nt=x(()=>{Ub();Fb();jb();Hb()});var qb,ip,Vb=x(()=>{qb=I(be()),ip=e=>{var t,r;return qb.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0}});var es,ap=x(()=>{es=e=>new Date(Date.now()+e)});var Gb,Wb=x(()=>{ap();Gb=(e,t)=>Math.abs(es(t).getTime()-e)>=3e5});var cp,Kb=x(()=>{Wb();cp=(e,t)=>{let r=Date.parse(e);return Gb(r,t)?r-Date.now():t}});var dp=x(()=>{Vb();ap();Kb()});var Jb,po,ts,dt,lp,up=x(()=>{Jb=I(be());dp();po=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ts=async e=>{var l,p,f;let t=po("context",e.context),r=po("config",e.config),n=(f=(p=(l=t.endpointV2)==null?void 0:l.properties)==null?void 0:p.authSchemes)==null?void 0:f[0],o=await po("signer",r.signer)(n),i=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,d=e==null?void 0:e.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:d}},dt=class{async sign(t,r,n){var f;if(!Jb.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await ts(n),{config:o,signer:i}=s,{signingRegion:a,signingName:d}=s,l=n.context;if(((f=l==null?void 0:l.authSchemes)==null?void 0:f.length)??!1){let[y,h]=l.authSchemes;(y==null?void 0:y.name)==="sigv4a"&&(h==null?void 0:h.name)==="sigv4"&&(a=(h==null?void 0:h.signingRegion)??a,d=(h==null?void 0:h.signingName)??d)}return await i.sign(t,{signingDate:es(o.systemClockOffset),signingRegion:a,signingService:d})}errorHandler(t){return r=>{let n=r.ServerTime??ip(r.$response);if(n){let s=po("config",t.config),o=s.systemClockOffset;s.systemClockOffset=cp(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=ip(t);if(n){let s=po("config",r.config);s.systemClockOffset=cp(n,s.systemClockOffset)}}},lp=dt});var Yb,fo,Xb=x(()=>{Yb=I(be());dp();up();fo=class extends dt{async sign(t,r,n){var y;if(!Yb.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:d}=await ts(n),p=(await((y=s.sigv4aSigningRegionSet)==null?void 0:y.call(s))??a??[i]).join(",");return await o.sign(t,{signingDate:es(s.systemClockOffset),signingRegion:p,signingService:d})}}});var mp,Qb=x(()=>{mp=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Ra,pp=x(()=>{Ra=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Zb,e_,rs,t_=x(()=>{Qb();pp();Zb="AWS_AUTH_SCHEME_PREFERENCE",e_="auth_scheme_preference",rs={environmentVariableSelector:(e,t)=>{if(t!=null&&t.signingName&&Ra(t.signingName)in e)return["httpBearerAuth"];if(Zb in e)return mp(e[Zb])},configFileSelector:e=>{if(e_ in e)return mp(e[e_])},default:[]}});var nt=P(Tn=>{"use strict";var ns=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){var o;let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),(o=n==null?void 0:n.debug)==null||o.call(n,`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},fp=class e extends ns{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},hp=class e extends ns{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},NO=(...e)=>async()=>{if(e.length===0)throw new ns("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n!=null&&n.tryNextLink)continue;throw n}throw t},PO=e=>()=>Promise.resolve(e),vO=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async d=>((!o||d!=null&&d.forceRefresh)&&(n=await a()),n):async d=>((!o||d!=null&&d.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};Tn.CredentialsProviderError=fp;Tn.ProviderError=ns;Tn.TokenProviderError=hp;Tn.chain=NO;Tn.fromStatic=PO;Tn.memoize=vO});var yp,r_,n_,s_=x(()=>{ct();yp=I(nt()),r_=e=>(e.sigv4aSigningRegionSet=Rr(e.sigv4aSigningRegionSet),e),n_={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new yp.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new yp.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var R_=P(se=>{"use strict";var Lr=cm(),xn=je(),DO=Bu(),c_=be(),o_=Ze(),Na=Yu(),d_="X-Amz-Algorithm",l_="X-Amz-Credential",wp="X-Amz-Date",u_="X-Amz-SignedHeaders",m_="X-Amz-Expires",Tp="X-Amz-Signature",xp="X-Amz-Security-Token",OO="X-Amz-Region-Set",Cp="authorization",Ip=wp.toLowerCase(),p_="date",f_=[Cp,Ip,p_],h_=Tp.toLowerCase(),ka="x-amz-content-sha256",y_=xp.toLowerCase(),kO="host",g_={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},E_=/^proxy-/,S_=/^sec-/,LO=[/^proxy-/i,/^sec-/i],Pa="AWS4-HMAC-SHA256",MO="AWS4-ECDSA-P256-SHA256",b_="AWS4-HMAC-SHA256-PAYLOAD",__="UNSIGNED-PAYLOAD",w_=50,Ap="aws4_request",T_=3600*24*7,ss={},va=[],Da=(e,t,r)=>`${e}/${t}/${r}/${Ap}`,x_=async(e,t,r,n,s)=>{let o=await i_(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${Lr.toHex(o)}:${t.sessionToken}`;if(i in ss)return ss[i];for(va.push(i);va.length>w_;)delete ss[va.shift()];let a=`AWS4${t.secretAccessKey}`;for(let d of[r,n,s,Ap])a=await i_(e,a,d);return ss[i]=a},BO=()=>{va.length=0,Object.keys(ss).forEach(e=>{delete ss[e]})},i_=(e,t,r)=>{let n=new e(t);return n.update(xn.toUint8Array(r)),n.digest()},gp=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in g_||t!=null&&t.has(o)||E_.test(o)||S_.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},Oa=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===ka)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||DO.isArrayBuffer(t)){let n=new r;return n.update(xn.toUint8Array(t)),Lr.toHex(await n.digest())}return __},Ep=class{format(t){let r=[];for(let o of Object.keys(t)){let i=xn.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=xn.fromUtf8(t.value),d=new DataView(new ArrayBuffer(3+a.byteLength));d.setUint8(0,7),d.setUint16(1,a.byteLength,!1);let l=new Uint8Array(d.buffer);return l.set(a,3),l;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(Sp.fromNumber(t.value.valueOf()).bytes,1),p;case"uuid":if(!UO.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(Lr.fromHex(t.value.replace(/\-/g,"")),1),f}}},UO=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Sp=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&a_(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&a_(t),parseInt(Lr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function a_(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var C_=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},I_=(e,t={})=>{var s,o;let{headers:r,query:n={}}=c_.HttpRequest.clone(e);for(let i of Object.keys(r)){let a=i.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((s=t.unhoistableHeaders)!=null&&s.has(a))||(o=t.hoistableHeaders)!=null&&o.has(a))&&(n[i]=r[i],delete r[i])}return{...e,headers:r,query:n}},bp=e=>{e=c_.HttpRequest.clone(e);for(let t of Object.keys(e.headers))f_.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},A_=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===h_)continue;let s=Na.escapeUri(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${Na.escapeUri(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${Na.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},FO=e=>$O(e).toISOString().replace(/\.\d{3}Z$/,"Z"),$O=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,La=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=o_.normalizeProvider(n),this.credentialProvider=o_.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${A_(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let o=new this.sha256;o.update(xn.toUint8Array(n));let i=await o.digest();return`${s}
${t}
${r}
${Lr.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Na.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=FO(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},_p=class extends La{headerFormatter=new Ep;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:d,signingRegion:l,signingService:p}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let y=l??await this.regionProvider(),{longDate:h,shortDate:E}=this.formatDate(n);if(s>T_)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let S=Da(E,y,p??this.service),T=I_(bp(t),{unhoistableHeaders:i,hoistableHeaders:d});f.sessionToken&&(T.query[xp]=f.sessionToken),T.query[d_]=Pa,T.query[l_]=`${f.accessKeyId}/${S}`,T.query[wp]=h,T.query[m_]=s.toString(10);let R=gp(T,o,a);return T.query[u_]=this.getCanonicalHeaderList(R),T.query[Tp]=await this.getSignature(h,S,this.getSigningKey(f,y,E,p),this.createCanonicalRequest(T,R,await Oa(t,this.sha256))),T}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:d,longDate:l}=this.formatDate(n),p=Da(d,a,i??this.service),f=await Oa({headers:{},body:r},this.sha256),y=new this.sha256;y.update(t);let h=Lr.toHex(await y.digest()),E=[b_,l,p,s,h,f].join(`
`);return this.signString(E,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),d=new this.sha256(await this.getSigningKey(o,i,a,s));return d.update(xn.toUint8Array(t)),Lr.toHex(await d.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let d=o??await this.regionProvider(),l=bp(t),{longDate:p,shortDate:f}=this.formatDate(r),y=Da(f,d,i??this.service);l.headers[Ip]=p,a.sessionToken&&(l.headers[y_]=a.sessionToken);let h=await Oa(l,this.sha256);!C_(ka,l.headers)&&this.applyChecksum&&(l.headers[ka]=h);let E=gp(l,s,n),S=await this.getSignature(p,y,this.getSigningKey(a,d,f,i),this.createCanonicalRequest(l,E,h));return l.headers[Cp]=`${Pa} Credential=${a.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${S}`,l}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s,Pa),i=new this.sha256(await n);return i.update(xn.toUint8Array(o)),Lr.toHex(await i.digest())}getSigningKey(t,r,n,s){return x_(this.sha256,t,n,r,s||this.service)}},jO={SignatureV4a:null};se.ALGORITHM_IDENTIFIER=Pa;se.ALGORITHM_IDENTIFIER_V4A=MO;se.ALGORITHM_QUERY_PARAM=d_;se.ALWAYS_UNSIGNABLE_HEADERS=g_;se.AMZ_DATE_HEADER=Ip;se.AMZ_DATE_QUERY_PARAM=wp;se.AUTH_HEADER=Cp;se.CREDENTIAL_QUERY_PARAM=l_;se.DATE_HEADER=p_;se.EVENT_ALGORITHM_IDENTIFIER=b_;se.EXPIRES_QUERY_PARAM=m_;se.GENERATED_HEADERS=f_;se.HOST_HEADER=kO;se.KEY_TYPE_IDENTIFIER=Ap;se.MAX_CACHE_SIZE=w_;se.MAX_PRESIGNED_TTL=T_;se.PROXY_HEADER_PATTERN=E_;se.REGION_SET_PARAM=OO;se.SEC_HEADER_PATTERN=S_;se.SHA256_HEADER=ka;se.SIGNATURE_HEADER=h_;se.SIGNATURE_QUERY_PARAM=Tp;se.SIGNED_HEADERS_QUERY_PARAM=u_;se.SignatureV4=_p;se.SignatureV4Base=La;se.TOKEN_HEADER=y_;se.TOKEN_QUERY_PARAM=xp;se.UNSIGNABLE_PATTERNS=LO;se.UNSIGNED_PAYLOAD=__;se.clearCredentialCache=BO;se.createScope=Da;se.getCanonicalHeaders=gp;se.getCanonicalQuery=A_;se.getPayloadHash=Oa;se.getSigningKey=x_;se.hasHeader=C_;se.moveHeadersToQuery=I_;se.prepareRequest=bp;se.signatureV4aContainer=jO});function zO(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t!=null&&t.memoized?n=t:n=Zm(t,Qm,Ca):r?n=Rr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function HO(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Rp,Cn,N_,P_=x(()=>{Nt();ct();Rp=I(R_()),Cn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=zO(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=HO(e,p);r&&!f.attributed?(n=async y=>f(y).then(h=>Or(h,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Rr(e.signer):e.regionInfoProvider?a=()=>Rr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:y}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||y||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},E=e.signerConstructor||Rp.SignatureV4;return new E(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Rr(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},h=e.signerConstructor||Rp.SignatureV4;return new h(y)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},N_=Cn});var v_=x(()=>{up();Xb();t_();s_();P_()});var D_={};mt(D_,{AWSSDKSigV4Signer:()=>lp,AwsSdkSigV4ASigner:()=>fo,AwsSdkSigV4Signer:()=>dt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>rs,NODE_SIGV4A_CONFIG_OPTIONS:()=>n_,getBearerTokenEnvKey:()=>Ra,resolveAWSSDKSigV4Config:()=>N_,resolveAwsSdkSigV4AConfig:()=>r_,resolveAwsSdkSigV4Config:()=>Cn,validateSigningProperties:()=>ts});var Np=x(()=>{v_();pp()});function Mr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Ma(e){return e[Pp]=!0,e}var Pp,Ba=x(()=>{Pp=Symbol("@smithy/core/cbor::tagSymbol")});function L_(e){_e=e,ir=new DataView(_e.buffer,_e.byteOffset,_e.byteLength)}function Ft(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(_e[e]&224)>>5,n=_e[e]&31;switch(r){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=B_[n],a=i+1;if(o=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let d=e+1;i===1?s=_e[d]:i===2?s=ir.getUint16(d):i===4?s=ir.getUint32(d):s=ir.getBigUint64(d);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ce=o,vp(s);if(r===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,ce=o,vp(i)}else if(n===2||n===3){let i=Eo(e+o,t),a=BigInt(0),d=e+o+ce;for(let l=d;l<d+i;++l)a=a<<BigInt(8)|BigInt(_e[l]);return ce=o+ce+i,n===3?-a-BigInt(1):a}else if(n===4){let i=Ft(e+o,t),[a,d]=i,l=d<0?-1:1,p="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(d)),f,y=d<0?"-":"";return f=a===0?p:p.slice(0,p.length+a)+"."+p.slice(a),f=f.replace(/^0+/g,""),f===""&&(f="0"),f[0]==="."&&(f="0"+f),f=y+f,ce=o+ce,jm(f)}else{let i=Ft(e+o,t);return ce=o+ce,Ma({tag:vp(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return YO(e,t);case 5:return tk(e,t);case 4:return ZO(e,t);case 2:return XO(e,t)}else switch(r){case 3:return JO(e,t);case 5:return ek(e,t);case 4:return QO(e,t);case 2:return Bp(e,t)}default:return rk(e,t)}}function M_(e,t,r){var n;return GO&&((n=e.constructor)==null?void 0:n.name)==="Buffer"?e.toString("utf-8",t,r):O_?O_.decode(e.subarray(t,r)):(0,k_.toUtf8)(e.subarray(t,r))}function WO(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function KO(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,o=r===0?1:-1,i,a;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=s/1024,o*(i*a)}function Eo(e,t){let r=_e[e]&31;if(r<24)return ce=1,r;if(r===24||r===25||r===26||r===27){let n=B_[r];if(ce=n+1,t-e<ce)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?_e[s]:n===2?ir.getUint16(s):n===4?ir.getUint32(s):WO(ir.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function JO(e,t){let r=Eo(e,t),n=ce;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=M_(_e,e,e+r);return ce=n+r,s}function YO(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_e[e]===255){let d=Mr(r.length);return d.set(r,0),ce=e-n+2,M_(d,0,d.length)}let s=(_e[e]&224)>>5,o=_e[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Bp(e,t);e+=ce;for(let d=0;d<i.length;++d)r.push(i[d])}throw new Error("expected break marker.")}function Bp(e,t){let r=Eo(e,t),n=ce;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=_e.subarray(e,e+r);return ce=n+r,s}function XO(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_e[e]===255){let d=Mr(r.length);return d.set(r,0),ce=e-n+2,d}let s=(_e[e]&224)>>5,o=_e[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=Bp(e,t);e+=ce;for(let d=0;d<i.length;++d)r.push(i[d])}throw new Error("expected break marker.")}function QO(e,t){let r=Eo(e,t),n=ce;e+=n;let s=e,o=Array(r);for(let i=0;i<r;++i){let a=Ft(e,t),d=ce;o[i]=a,e+=d}return ce=n+(e-s),o}function ZO(e,t){e+=1;let r=[];for(let n=e;e<t;){if(_e[e]===255)return ce=e-n+2,r;let s=Ft(e,t);e+=ce,r.push(s)}throw new Error("expected break marker.")}function ek(e,t){let r=Eo(e,t),n=ce;e+=n;let s=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(_e[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let d=Ft(e,t);e+=ce;let l=Ft(e,t);e+=ce,o[d]=l}return ce=n+(e-s),o}function tk(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(_e[e]===255)return ce=e-r+2,n;let s=(_e[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Ft(e,t);e+=ce;let i=Ft(e,t);e+=ce,n[o]=i}throw new Error("expected break marker.")}function rk(e,t){let r=_e[e]&31;switch(r){case 21:case 20:return ce=1,r===21;case 22:return ce=1,null;case 23:return ce=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ce=3,KO(_e[e+1],_e[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ce=5,ir.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ce=9,ir.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function vp(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var k_,VO,GO,_e,ir,O_,ce,B_,U_=x(()=>{it();k_=I(je());Ba();VO=typeof TextDecoder<"u",GO=typeof Buffer<"u",_e=Mr(0),ir=new DataView(_e.buffer,_e.byteOffset,_e.byteLength),O_=VO?new TextDecoder:null,ce=0;B_={24:1,25:2,26:4,27:8}});function Fp(e){Z.byteLength-K<e&&(K<16e6?Fa(Math.max(Z.byteLength*4,Z.byteLength+e)):Fa(Z.byteLength+e+16e6))}function $p(){let e=Mr(K);return e.set(Z.subarray(0,K),0),K=0,e}function Fa(e){let t=Z;Z=Mr(e),t&&(t.copy?t.copy(Z,0,0,t.byteLength):Z.set(t,0)),dr=new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}function cr(e,t){t<24?Z[K++]=e<<5|t:t<256?(Z[K++]=e<<5|24,Z[K++]=t):t<65536?(Z[K++]=e<<5|25,dr.setUint16(K,t),K+=2):t<2**32?(Z[K++]=e<<5|26,dr.setUint32(K,t),K+=4):(Z[K++]=e<<5|27,dr.setBigUint64(K,typeof t=="bigint"?t:BigInt(t)),K+=8)}function j_(e){var r;let t=[e];for(;t.length;){let n=t.pop();if(Fp(typeof n=="string"?n.length*4:64),typeof n=="string"){if(F_)cr(3,Buffer.byteLength(n)),K+=Z.write(n,K);else{let s=(0,$_.fromUtf8)(n);cr(3,s.byteLength),Z.set(s,K),K+=s.byteLength}continue}else if(typeof n=="number"){if(Number.isInteger(n)){let s=n>=0,o=s?0:1,i=s?n:-n-1;i<24?Z[K++]=o<<5|i:i<256?(Z[K++]=o<<5|24,Z[K++]=i):i<65536?(Z[K++]=o<<5|25,Z[K++]=i>>8,Z[K++]=i):i<4294967296?(Z[K++]=o<<5|26,dr.setUint32(K,i),K+=4):(Z[K++]=o<<5|27,dr.setBigUint64(K,BigInt(i)),K+=8);continue}Z[K++]=251,dr.setFloat64(K,n),K+=8;continue}else if(typeof n=="bigint"){let s=n>=0,o=s?0:1,i=s?n:-n-BigInt(1),a=Number(i);if(a<24)Z[K++]=o<<5|a;else if(a<256)Z[K++]=o<<5|24,Z[K++]=a;else if(a<65536)Z[K++]=o<<5|25,Z[K++]=a>>8,Z[K++]=a&255;else if(a<4294967296)Z[K++]=o<<5|26,dr.setUint32(K,a),K+=4;else if(i<BigInt("18446744073709551616"))Z[K++]=o<<5|27,dr.setBigUint64(K,i),K+=8;else{let d=i.toString(2),l=new Uint8Array(Math.ceil(d.length/8)),p=i,f=0;for(;l.byteLength-++f>=0;)l[l.byteLength-f]=Number(p&BigInt(255)),p>>=BigInt(8);Fp(l.byteLength*2),Z[K++]=s?194:195,F_?cr(2,Buffer.byteLength(l)):cr(2,l.byteLength),Z.set(l,K),K+=l.byteLength}continue}else if(n===null){Z[K++]=246;continue}else if(typeof n=="boolean"){Z[K++]=224|(n?21:20);continue}else{if(typeof n>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(n)){for(let s=n.length-1;s>=0;--s)t.push(n[s]);cr(4,n.length);continue}else if(typeof n.byteLength=="number"){Fp(n.length*2),cr(2,n.length),Z.set(n,K),K+=n.byteLength;continue}else if(typeof n=="object"){if(n instanceof xe){let o=n.string.indexOf("."),i=o===-1?0:o-n.string.length+1,a=BigInt(n.string.replace(".",""));Z[K++]=196,t.push(a),t.push(i),cr(4,2);continue}if(n[Pp])if("tag"in n&&"value"in n){t.push(n.value),cr(6,n.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(n));let s=Object.keys(n);for(let o=s.length-1;o>=0;--o){let i=s[o];t.push(n[i]),t.push(i)}cr(5,s.length);continue}}throw new Error(`data type ${((r=n==null?void 0:n.constructor)==null?void 0:r.name)??typeof n} not compatible for encoding.`)}}var $_,F_,nk,Z,dr,K,z_=x(()=>{it();$_=I(je());Ba();F_=typeof Buffer<"u",nk=2048,Z=Mr(nk),dr=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),K=0});var jp,H_=x(()=>{U_();z_();jp={deserialize(e){return L_(e),Ft(0,e.length)},serialize(e){try{return j_(e),$p()}catch(t){throw $p(),t}},resizeEncodingBuffer(e){Fa(e)}}});var $a,ja,za=x(()=>{Ba();$a=e=>Ma({tag:1,value:e.getTime()/1e3}),ja=(e,t)=>{let r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var qp,Ha,zp,Hp,Vp=x(()=>{at();Ie();it();qp=I(ze());H_();za();Ha=class extends rt{createSerializer(){let t=new zp;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Hp;return t.setSerdeContext(this.serdeContext),t}},zp=class extends rt{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){var s;let n=W.of(t);if(r==null)return n.isIdempotencyToken()?(0,Et.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(((s=this.serdeContext)==null?void 0:s.base64Decoder)??qp.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?$a(new Date(Number(r)/1e3|0)):$a(r);if(typeof r=="function"||typeof r=="object"){let o=r;if(n.isListSchema()&&Array.isArray(o)){let a=!!n.getMergedTraits().sparse,d=[],l=0;for(let p of o){let f=this.serialize(n.getValueSchema(),p);(f!=null||a)&&(d[l++]=f)}return d}if(o instanceof Date)return $a(o);let i={};if(n.isMapSchema()){let a=!!n.getMergedTraits().sparse;for(let d of Object.keys(o)){let l=this.serialize(n.getValueSchema(),o[d]);(l!=null||a)&&(i[d]=l)}}else if(n.isStructSchema())for(let[a,d]of n.structIterator()){let l=this.serialize(d,o[a]);l!=null&&(i[a]=l)}else if(n.isDocumentSchema())for(let a of Object.keys(o))i[a]=this.serialize(n.getValueSchema(),o[a]);return i}return r}flush(){let t=jp.serialize(this.value);return this.value=void 0,t}},Hp=class extends rt{read(t,r){let n=jp.deserialize(r);return this.readValue(t,n)}readValue(t,r){var s;let n=W.of(t);if(n.isTimestampSchema()&&typeof r=="number")return ao(r);if(n.isBlobSchema())return typeof r=="string"?(((s=this.serdeContext)==null?void 0:s.base64Decoder)??qp.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let i=[],a=n.getValueSchema(),d=!!n.getMergedTraits().sparse;for(let l of r){let p=this.readValue(a,l);(p!=null||d)&&i.push(p)}return i}let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse,a=n.getValueSchema();for(let d of Object.keys(r)){let l=this.readValue(a,r[d]);(l!=null||i)&&(o[d]=l)}}else if(n.isStructSchema())for(let[i,a]of n.structIterator()){let d=this.readValue(a,r[i]);d!=null&&(o[i]=d)}return o}else return r}}});var q_,qa,V_=x(()=>{at();Ie();q_=I(Ze());Vp();za();qa=class extends nr{codec=new Ha;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),At(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,q_.getSmithyContext)(n),a=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=ja(n,s)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let d={$metadata:o,$fault:n.statusCode<=500?"client":"server"},l=Me.for(a),p;try{p=l.getSchema(i)}catch{s.Message&&(s.message=s.Message);let R=Me.for("smithy.ts.sdk.synthetic."+a),v=R.getBaseException();if(v){let k=R.getErrorCtor(v);throw Object.assign(new k({name:i}),d,s)}throw Object.assign(new Error(i),d,s)}let f=W.of(p),y=l.getErrorCtor(p),h=s.message??s.Message??"Unknown",E=new y(h),S={};for(let[T,R]of f.structIterator())S[T]=this.deserializer.readValue(R,s[T]);throw Object.assign(E,d,{$fault:f.getMergedTraits().error,message:h},S)}getDefaultContentType(){return"application/cbor"}}});var G_=x(()=>{za();V_();Vp()});var St,is=x(()=>{Ie();St=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:d,httpHeader:l,httpLabel:p,httpPrefixHeaders:f}=i.getMergedTraits();return!a&&!d&&!l&&!p&&f===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,o,i){let a=r,d=t;t.includes("#")&&([a,d]=t.split("#"));let l={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},p=Me.for(a);try{return{errorSchema:(i==null?void 0:i(p,d))??p.getSchema(t),errorMetadata:l}}catch{s.message=s.message??s.Message??"UnknownError";let y=Me.for("smithy.ts.sdk.synthetic."+a),h=y.getBaseException();if(h){let E=y.getErrorCtor(h)??Error;throw Object.assign(new E({name:d}),l,s)}throw Object.assign(new Error(d),l,s)}}setQueryCompatError(t,r){var s;let n=(s=r.headers)==null?void 0:s["x-amzn-query-error"];if(t!==void 0&&n!=null){let[o,i]=n.split(";"),a=Object.entries(t),d={Code:o,Type:i};Object.assign(t,d);for(let[l,p]of a)d[l]=p;delete d.__type,t.Error=d}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Gp,W_=x(()=>{G_();Ie();is();Gp=class extends qa{awsQueryCompatible;mixin=new St;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=ja(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(a),p=s.message??s.Message??"Unknown",f=Me.for(a[1]).getErrorCtor(a)??Error,y=new f(p),h={};for(let[E,S]of l.structIterator())h[E]=this.deserializer.readValue(S,s[E]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,d,{$fault:l.getMergedTraits().error,message:p},h)}}});var sk,ok,ik,K_=x(()=>{sk=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},ok=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},ik=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Je,$r=x(()=>{Je=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function J_(e,t,r){if(r!=null&&r.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new xe(n,"bigDecimal"):BigInt(n)}return t}var Y_=x(()=>{it()});var ew=P(Z_=>{"use strict";var In=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},jr=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Wp=()=>{let e=[],t=[],r=!1,n=new Set,s=f=>f.sort((y,h)=>X_[h.step]-X_[y.step]||Q_[h.priority||"normal"]-Q_[y.priority||"normal"]),o=f=>{let y=!1,h=E=>{let S=In(E.name,E.aliases);if(S.includes(f)){y=!0;for(let T of S)n.delete(T);return!1}return!0};return e=e.filter(h),t=t.filter(h),y},i=f=>{let y=!1,h=E=>{if(E.middleware===f){y=!0;for(let S of In(E.name,E.aliases))n.delete(S);return!1}return!0};return e=e.filter(h),t=t.filter(h),y},a=f=>{var y;return e.forEach(h=>{f.add(h.middleware,{...h})}),t.forEach(h=>{f.addRelativeTo(h.middleware,{...h})}),(y=f.identifyOnResolve)==null||y.call(f,p.identifyOnResolve()),f},d=f=>{let y=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...d(h))}),y.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...d(h))}),y},l=(f=!1)=>{let y=[],h=[],E={};return e.forEach(T=>{let R={...T,before:[],after:[]};for(let v of In(R.name,R.aliases))E[v]=R;y.push(R)}),t.forEach(T=>{let R={...T,before:[],after:[]};for(let v of In(R.name,R.aliases))E[v]=R;h.push(R)}),h.forEach(T=>{if(T.toMiddleware){let R=E[T.toMiddleware];if(R===void 0){if(f)return;throw new Error(`${T.toMiddleware} is not found when adding ${jr(T.name,T.aliases)} middleware ${T.relation} ${T.toMiddleware}`)}T.relation==="after"&&R.after.push(T),T.relation==="before"&&R.before.push(T)}}),s(y).map(d).reduce((T,R)=>(T.push(...R),T),[])},p={add:(f,y={})=>{let{name:h,override:E,aliases:S}=y,T={step:"initialize",priority:"normal",middleware:f,...y},R=In(h,S);if(R.length>0){if(R.some(v=>n.has(v))){if(!E)throw new Error(`Duplicate middleware name '${jr(h,S)}'`);for(let v of R){let k=e.findIndex(X=>{var ae;return X.name===v||((ae=X.aliases)==null?void 0:ae.some(me=>me===v))});if(k===-1)continue;let Y=e[k];if(Y.step!==T.step||T.priority!==Y.priority)throw new Error(`"${jr(Y.name,Y.aliases)}" middleware with ${Y.priority} priority in ${Y.step} step cannot be overridden by "${jr(h,S)}" middleware with ${T.priority} priority in ${T.step} step.`);e.splice(k,1)}}for(let v of R)n.add(v)}e.push(T)},addRelativeTo:(f,y)=>{let{name:h,override:E,aliases:S}=y,T={middleware:f,...y},R=In(h,S);if(R.length>0){if(R.some(v=>n.has(v))){if(!E)throw new Error(`Duplicate middleware name '${jr(h,S)}'`);for(let v of R){let k=t.findIndex(X=>{var ae;return X.name===v||((ae=X.aliases)==null?void 0:ae.some(me=>me===v))});if(k===-1)continue;let Y=t[k];if(Y.toMiddleware!==T.toMiddleware||Y.relation!==T.relation)throw new Error(`"${jr(Y.name,Y.aliases)}" middleware ${Y.relation} "${Y.toMiddleware}" middleware cannot be overridden by "${jr(h,S)}" middleware ${T.relation} "${T.toMiddleware}" middleware.`);t.splice(k,1)}}for(let v of R)n.add(v)}t.push(T)},clone:()=>a(Wp()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?o(f):i(f),removeByTag:f=>{let y=!1,h=E=>{let{tags:S,name:T,aliases:R}=E;if(S&&S.includes(f)){let v=In(T,R);for(let k of v)n.delete(k);return y=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),y},concat:f=>{var h;let y=a(Wp());return y.use(f),y.identifyOnResolve(r||y.identifyOnResolve()||(((h=f.identifyOnResolve)==null?void 0:h.call(f))??!1)),y},applyToStack:a,identify:()=>l(!0).map(f=>{let y=f.step??f.relation+" "+f.toMiddleware;return jr(f.name,f.aliases)+" - "+y}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,y)=>{for(let h of l().map(E=>E.middleware).reverse())f=h(f,y);return r&&console.log(p.identify()),f}};return p},X_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Q_={high:3,normal:2,low:1};Z_.constructStack=Wp});var de=P(Ee=>{"use strict";var nw=ew(),rf=(at(),fe(rb)),Jp=Cr(),ak=(Ie(),fe(JE)),tw=(it(),fe(zS)),Yp=class{config;middlewareStack=nw.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let d=this.handlers;d.has(t.constructor)?a=d.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),d.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(d=>o(null,d.output),d=>o(d)).catch(()=>{});else return a(t).then(d=>d.output)}destroy(){var t,r,n;(n=(r=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}},Kp="***SensitiveInformation***";function Xp(e,t){if(t==null)return t;let r=ak.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Kp;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Kp}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Kp}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=Xp(i,n[o]));return s}return t}var Va=class{middlewareStack=nw.constructStack();schema;static classBuilder(){return new Qp}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,smithyContext:l,additionalContext:p,CommandCtor:f}){for(let T of s.bind(this)(f,t,r,n))this.middlewareStack.use(T);let y=t.concat(this.middlewareStack),{logger:h}=r,E={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,[Jp.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...p},{requestHandler:S}=r;return y.resolve(T=>S.handle(T.request,n||{}),E)}},Qp=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends Va{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,o){let i=t._operationSchema,a=(i==null?void 0:i[4])??(i==null?void 0:i.input),d=(i==null?void 0:i[5])??(i==null?void 0:i.output);return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?Xp.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?Xp.bind(null,d):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},ck="***SensitiveInformation***",dk=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(i,a,d){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof d=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},d)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},Zp=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},sw=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},ow=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=uk(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw sw(i,t)},lk=e=>({output:t,parsedBody:r,errorCode:n})=>{ow({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},uk=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),mk=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},rw=!1,pk=e=>{e&&!rw&&parseInt(e.substring(1,e.indexOf(".")))<16&&(rw=!0)},fk=e=>{let t=[];for(let r in Jp.AlgorithmId){let n=Jp.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},hk=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},yk=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),gk=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},iw=e=>Object.assign(fk(e),yk(e)),Ek=iw,Sk=e=>Object.assign(hk(e),gk(e)),bk=e=>Array.isArray(e)?e:[e],aw=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=aw(e[r]));return e},_k=e=>e!=null,ef=class{trace(){}debug(){}info(){}warn(){}error(){}};function cw(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,xk(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}dw(n,null,o,i)}return n}var wk=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},Tk=(e,t)=>{let r={};for(let n in t)dw(r,e,t,n);return r},xk=(e,t,r)=>cw(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),dw=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=Ck,d=Ik,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=d(t[l]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,d=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:d&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},Ck=e=>e!=null,Ik=e=>e,Ak=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},Rk=e=>e.toISOString().replace(".000Z","Z"),tf=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(tf);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=tf(e[r]));return t}return e};Object.defineProperty(Ee,"collectBody",{enumerable:!0,get:function(){return rf.collectBody}});Object.defineProperty(Ee,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return rf.extendedEncodeURIComponent}});Object.defineProperty(Ee,"resolvedPath",{enumerable:!0,get:function(){return rf.resolvedPath}});Ee.Client=Yp;Ee.Command=Va;Ee.NoOpLogger=ef;Ee.SENSITIVE_STRING=ck;Ee.ServiceException=Zp;Ee._json=tf;Ee.convertMap=wk;Ee.createAggregatedClient=dk;Ee.decorateServiceException=sw;Ee.emitWarningIfUnsupportedVersion=pk;Ee.getArrayIfSingleItem=bk;Ee.getDefaultClientConfiguration=Ek;Ee.getDefaultExtensionConfiguration=iw;Ee.getValueFromTextNode=aw;Ee.isSerializableHeaderValue=_k;Ee.loadConfigsForDefaultMode=mk;Ee.map=cw;Ee.resolveDefaultRuntimeConfig=Sk;Ee.serializeDateTime=Rk;Ee.serializeFloat=Ak;Ee.take=Tk;Ee.throwDefaultError=ow;Ee.withBaseException=lk;Object.keys(tw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ee,e)&&Object.defineProperty(Ee,e,{enumerable:!0,get:function(){return tw[e]}})})});var lw,uw,Ga,nf=x(()=>{lw=I(de()),uw=I(je()),Ga=(e,t)=>(0,lw.collectBody)(e,t).then(r=>((t==null?void 0:t.utf8Encoder)??uw.toUtf8)(r))});var as,sf,An,So=x(()=>{nf();as=(e,t)=>Ga(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw(n==null?void 0:n.name)==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),sf=async(e,t)=>{let r=await as(e,t);return r.message=r.message??r.Message,r},An=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var mw,bo,of=x(()=>{at();Ie();it();mw=I(ze());$r();Y_();So();bo=class extends Je{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,J_):await as(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=W.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],d=!!s.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&a.push(this._read(i,l));return a}else if(s.isMapSchema()&&n){let i=s.getValueSchema(),a={},d=!!s.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(d||p!=null)&&(a[l]=this._read(i,p));return a}else if(s.isStructSchema()&&n){let i={};for(let[a,d]of s.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??a:a,p=this._read(d,r[l]);p!=null&&(i[a]=p)}return i}if(s.isBlobSchema()&&typeof r=="string")return(0,mw.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return tt.from(r);if(s.isTimestampSchema()&&r!=null)switch(pt(s,this.settings)){case 5:return Rm(r);case 6:return Nm(r);case 7:return Pm(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof xe)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new xe(i.string,i.type):new xe(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,d]of Object.entries(r))d instanceof xe?i[a]=d:i[a]=this._read(s,d);return i}else return structuredClone(r);return r}}});var pw,Wa,fw=x(()=>{it();pw="\u039D",Wa=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof xe){let n=`${pw+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${pw+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var hw,_o,af=x(()=>{at();Ie();it();hw=I(ze());$r();fw();_o=class extends Je{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=W.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=W.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t!=null&&t.isStructSchema()||t!=null&&t.isDocumentSchema()){let r=new Wa;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){var i,a;let s=r!==null&&typeof r=="object",o=W.of(t);if(o.isListSchema()&&Array.isArray(r)){let d=o.getValueSchema(),l=[],p=!!o.getMergedTraits().sparse;for(let f of r)(p||f!=null)&&l.push(this._write(d,f));return l}else if(o.isMapSchema()&&s){let d=o.getValueSchema(),l={},p=!!o.getMergedTraits().sparse;for(let[f,y]of Object.entries(r))(p||y!=null)&&(l[f]=this._write(d,y));return l}else if(o.isStructSchema()&&s){let d={};for(let[l,p]of o.structIterator()){let f=this.settings.jsonName?p.getMergedTraits().jsonName??l:l,y=this._write(p,r[l],o);y!==void 0&&(d[f]=y)}return d}if(!(r===null&&(n!=null&&n.isStructSchema()))){if(o.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||o.isDocumentSchema()&&r instanceof Uint8Array)return o===this.rootSchema?r:(i=this.serdeContext)!=null&&i.base64Encoder?(a=this.serdeContext)==null?void 0:a.base64Encoder(r):(0,hw.toBase64)(r);if((o.isTimestampSchema()||o.isDocumentSchema())&&r instanceof Date)switch(pt(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return so(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(o.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,Et.v4)();let d=o.getMergedTraits().mediaType;if(r!=null&&d&&(d==="application/json"||d.endsWith("+json")))return tt.from(r)}if(o.isDocumentSchema())if(s){let d=Array.isArray(r)?[]:{};for(let[l,p]of Object.entries(r))p instanceof xe?d[l]=p:d[l]=this._write(o,p);return d}else return structuredClone(r);return r}}}});var Rn,Ka=x(()=>{$r();of();af();Rn=class extends Je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new _o(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new bo(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Nn,Ja=x(()=>{at();Ie();is();Ka();So();Nn=class extends nr{serializer;deserializer;serviceTarget;codec;mixin=new St;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new Rn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(At(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=An(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(a),p=s.message??s.Message??"Unknown",f=Me.for(a[1]).getErrorCtor(a)??Error,y=new f(p),h={};for(let[E,S]of l.structIterator()){let T=S.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(S,s[T])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,d,{$fault:l.getMergedTraits().error,message:p},h)}}});var cf,yw=x(()=>{Ja();cf=class extends Nn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var df,gw=x(()=>{Ja();df=class extends Nn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var lf,Ew=x(()=>{at();Ie();is();Ka();So();lf=class extends yn{serializer;deserializer;codec;mixin=new St;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Rn(r),this.serializer=new Sn(this.codec.createSerializer(),r),this.deserializer=new En(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=W.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(t,r,n,s,o){let i=An(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(a),p=s.message??s.Message??"Unknown",f=Me.for(a[1]).getErrorCtor(a)??Error,y=new f(p);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[E,S]of l.structIterator()){let T=S.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(S,s[T])}throw Object.assign(y,d,{$fault:l.getMergedTraits().error,message:p},h)}getDefaultContentType(){return"application/json"}}});var Sw,Nk,bw=x(()=>{Sw=I(de()),Nk=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,Sw.expectUnion)(e)}});var ww=P((Z8,_w)=>{(()=>{"use strict";var e={d:(u,m)=>{for(var g in m)e.o(m,g)&&!e.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:m[g]})},o:(u,m)=>Object.prototype.hasOwnProperty.call(u,m),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Tr,XMLParser:()=>uP,XMLValidator:()=>SP});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,m){let g=[],w=m.exec(u);for(;w;){let b=[];b.startIndex=m.lastIndex-w[0].length;let _=w.length;for(let N=0;N<_;N++)b.push(w[N]);g.push(b),w=m.exec(u)}return g}let o=function(u){return n.exec(u)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(u,m){m=Object.assign({},i,m);let g=[],w=!1,b=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let _=0;_<u.length;_++)if(u[_]==="<"&&u[_+1]==="?"){if(_+=2,_=l(u,_),_.err)return _}else{if(u[_]!=="<"){if(d(u[_]))continue;return R("InvalidChar","char '"+u[_]+"' is not expected.",k(u,_))}{let N=_;if(_++,u[_]==="!"){_=p(u,_);continue}{let A=!1;u[_]==="/"&&(A=!0,_++);let D="";for(;_<u.length&&u[_]!==">"&&u[_]!==" "&&u[_]!=="	"&&u[_]!==`
`&&u[_]!=="\r";_++)D+=u[_];if(D=D.trim(),D[D.length-1]==="/"&&(D=D.substring(0,D.length-1),_--),!o(D)){let J;return J=D.trim().length===0?"Invalid space after '<'.":"Tag '"+D+"' is an invalid name.",R("InvalidTag",J,k(u,_))}let M=h(u,_);if(M===!1)return R("InvalidAttr","Attributes for '"+D+"' have open quote.",k(u,_));let ee=M.value;if(_=M.index,ee[ee.length-1]==="/"){let J=_-ee.length;ee=ee.substring(0,ee.length-1);let ue=S(ee,m);if(ue!==!0)return R(ue.err.code,ue.err.msg,k(u,J+ue.err.line));w=!0}else if(A){if(!M.tagClosed)return R("InvalidTag","Closing tag '"+D+"' doesn't have proper closing.",k(u,_));if(ee.trim().length>0)return R("InvalidTag","Closing tag '"+D+"' can't have attributes or invalid starting.",k(u,N));if(g.length===0)return R("InvalidTag","Closing tag '"+D+"' has not been opened.",k(u,N));{let J=g.pop();if(D!==J.tagName){let ue=k(u,J.tagStartPos);return R("InvalidTag","Expected closing tag '"+J.tagName+"' (opened in line "+ue.line+", col "+ue.col+") instead of closing tag '"+D+"'.",k(u,N))}g.length==0&&(b=!0)}}else{let J=S(ee,m);if(J!==!0)return R(J.err.code,J.err.msg,k(u,_-ee.length+J.err.line));if(b===!0)return R("InvalidXml","Multiple possible root nodes found.",k(u,_));m.unpairedTags.indexOf(D)!==-1||g.push({tagName:D,tagStartPos:N}),w=!0}for(_++;_<u.length;_++)if(u[_]==="<"){if(u[_+1]==="!"){_++,_=p(u,_);continue}if(u[_+1]!=="?")break;if(_=l(u,++_),_.err)return _}else if(u[_]==="&"){let J=T(u,_);if(J==-1)return R("InvalidChar","char '&' is not expected.",k(u,_));_=J}else if(b===!0&&!d(u[_]))return R("InvalidXml","Extra text at the end",k(u,_));u[_]==="<"&&_--}}}return w?g.length==1?R("InvalidTag","Unclosed tag '"+g[0].tagName+"'.",k(u,g[0].tagStartPos)):!(g.length>0)||R("InvalidXml","Invalid '"+JSON.stringify(g.map((_=>_.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):R("InvalidXml","Start tag expected.",1)}function d(u){return u===" "||u==="	"||u===`
`||u==="\r"}function l(u,m){let g=m;for(;m<u.length;m++)if(!(u[m]!="?"&&u[m]!=" ")){let w=u.substr(g,m-g);if(m>5&&w==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",k(u,m));if(u[m]=="?"&&u[m+1]==">"){m++;break}}return m}function p(u,m){if(u.length>m+5&&u[m+1]==="-"&&u[m+2]==="-"){for(m+=3;m<u.length;m++)if(u[m]==="-"&&u[m+1]==="-"&&u[m+2]===">"){m+=2;break}}else if(u.length>m+8&&u[m+1]==="D"&&u[m+2]==="O"&&u[m+3]==="C"&&u[m+4]==="T"&&u[m+5]==="Y"&&u[m+6]==="P"&&u[m+7]==="E"){let g=1;for(m+=8;m<u.length;m++)if(u[m]==="<")g++;else if(u[m]===">"&&(g--,g===0))break}else if(u.length>m+9&&u[m+1]==="["&&u[m+2]==="C"&&u[m+3]==="D"&&u[m+4]==="A"&&u[m+5]==="T"&&u[m+6]==="A"&&u[m+7]==="["){for(m+=8;m<u.length;m++)if(u[m]==="]"&&u[m+1]==="]"&&u[m+2]===">"){m+=2;break}}return m}let f='"',y="'";function h(u,m){let g="",w="",b=!1;for(;m<u.length;m++){if(u[m]===f||u[m]===y)w===""?w=u[m]:w!==u[m]||(w="");else if(u[m]===">"&&w===""){b=!0;break}g+=u[m]}return w===""&&{value:g,index:m,tagClosed:b}}let E=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function S(u,m){let g=s(u,E),w={};for(let b=0;b<g.length;b++){if(g[b][1].length===0)return R("InvalidAttr","Attribute '"+g[b][2]+"' has no space in starting.",Y(g[b]));if(g[b][3]!==void 0&&g[b][4]===void 0)return R("InvalidAttr","Attribute '"+g[b][2]+"' is without value.",Y(g[b]));if(g[b][3]===void 0&&!m.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+g[b][2]+"' is not allowed.",Y(g[b]));let _=g[b][2];if(!v(_))return R("InvalidAttr","Attribute '"+_+"' is an invalid name.",Y(g[b]));if(w.hasOwnProperty(_))return R("InvalidAttr","Attribute '"+_+"' is repeated.",Y(g[b]));w[_]=1}return!0}function T(u,m){if(u[++m]===";")return-1;if(u[m]==="#")return(function(w,b){let _=/\d/;for(w[b]==="x"&&(b++,_=/[\da-fA-F]/);b<w.length;b++){if(w[b]===";")return b;if(!w[b].match(_))break}return-1})(u,++m);let g=0;for(;m<u.length;m++,g++)if(!(u[m].match(/\w/)&&g<20)){if(u[m]===";")break;return-1}return m}function R(u,m,g){return{err:{code:u,msg:m,line:g.line||g,col:g.col}}}function v(u){return o(u)}function k(u,m){let g=u.substring(0,m).split(/\r?\n/);return{line:g.length,col:g[g.length-1].length+1}}function Y(u){return u.startIndex+u[1].length}let X={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,m,g){return u},captureMetaData:!1},ae;ae=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class me{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,g){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:g})}addChild(m,g){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),g!==void 0&&(this.child[this.child.length-1][ae]={startIndex:g})}static getMetaDataSymbol(){return ae}}function re(u,m){let g={};if(u[m+3]!=="O"||u[m+4]!=="C"||u[m+5]!=="T"||u[m+6]!=="Y"||u[m+7]!=="P"||u[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let w=1,b=!1,_=!1,N="";for(;m<u.length;m++)if(u[m]!=="<"||_)if(u[m]===">"){if(_?u[m-1]==="-"&&u[m-2]==="-"&&(_=!1,w--):w--,w===0)break}else u[m]==="["?b=!0:N+=u[m];else{if(b&&ln(u,"!ENTITY",m)){let A,D;m+=7,[A,D,m]=wr(u,m+1),D.indexOf("&")===-1&&(g[A]={regx:RegExp(`&${A};`,"g"),val:D})}else if(b&&ln(u,"!ELEMENT",m)){m+=8;let{index:A}=uu(u,m+1);m=A}else if(b&&ln(u,"!ATTLIST",m))m+=8;else if(b&&ln(u,"!NOTATION",m)){m+=9;let{index:A}=he(u,m+1);m=A}else{if(!ln(u,"!--",m))throw new Error("Invalid DOCTYPE");_=!0}w++,N=""}if(w!==0)throw new Error("Unclosed DOCTYPE")}return{entities:g,i:m}}let te=(u,m)=>{for(;m<u.length&&/\s/.test(u[m]);)m++;return m};function wr(u,m){m=te(u,m);let g="";for(;m<u.length&&!/\s/.test(u[m])&&u[m]!=='"'&&u[m]!=="'";)g+=u[m],m++;if(mu(g),m=te(u,m),u.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[m]==="%")throw new Error("Parameter entities are not supported");let w="";return[m,w]=Ge(u,m,"entity"),[g,w,--m]}function he(u,m){m=te(u,m);let g="";for(;m<u.length&&!/\s/.test(u[m]);)g+=u[m],m++;mu(g),m=te(u,m);let w=u.substring(m,m+6).toUpperCase();if(w!=="SYSTEM"&&w!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${w}"`);m+=w.length,m=te(u,m);let b=null,_=null;if(w==="PUBLIC")[m,b]=Ge(u,m,"publicIdentifier"),u[m=te(u,m)]!=='"'&&u[m]!=="'"||([m,_]=Ge(u,m,"systemIdentifier"));else if(w==="SYSTEM"&&([m,_]=Ge(u,m,"systemIdentifier"),!_))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:g,publicIdentifier:b,systemIdentifier:_,index:--m}}function Ge(u,m,g){let w="",b=u[m];if(b!=='"'&&b!=="'")throw new Error(`Expected quoted string, found "${b}"`);for(m++;m<u.length&&u[m]!==b;)w+=u[m],m++;if(u[m]!==b)throw new Error(`Unterminated ${g} value`);return[++m,w]}function uu(u,m){m=te(u,m);let g="";for(;m<u.length&&!/\s/.test(u[m]);)g+=u[m],m++;if(!mu(g))throw new Error(`Invalid element name: "${g}"`);let w="";if(u[m=te(u,m)]==="E"&&ln(u,"MPTY",m))m+=4;else if(u[m]==="A"&&ln(u,"NY",m))m+=2;else{if(u[m]!=="(")throw new Error(`Invalid Element Expression, found "${u[m]}"`);for(m++;m<u.length&&u[m]!==")";)w+=u[m],m++;if(u[m]!==")")throw new Error("Unterminated content model")}return{elementName:g,contentModel:w.trim(),index:m}}function ln(u,m,g){for(let w=0;w<m.length;w++)if(m[w]!==u[g+w+1])return!1;return!0}function mu(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let VN=/^[-+]?0x[a-fA-F0-9]+$/,GN=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,WN={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},KN=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function wy(u){return typeof u=="function"?u:Array.isArray(u)?m=>{for(let g of u)if(typeof g=="string"&&m===g||g instanceof RegExp&&g.test(m))return!0}:()=>!1}class JN{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(g,w)=>String.fromCodePoint(Number.parseInt(w,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(g,w)=>String.fromCodePoint(Number.parseInt(w,16))}},this.addExternalEntities=YN,this.parseXml=tP,this.parseTextData=XN,this.resolveNameSpace=QN,this.buildAttributesMap=eP,this.isItStopNode=oP,this.replaceEntitiesValue=nP,this.readStopNodeData=iP,this.saveTextToParentTag=sP,this.addChild=rP,this.ignoreAttributesFn=wy(this.options.ignoreAttributes)}}function YN(u){let m=Object.keys(u);for(let g=0;g<m.length;g++){let w=m[g];this.lastEntities[w]={regex:new RegExp("&"+w+";","g"),val:u[w]}}}function XN(u,m,g,w,b,_,N){if(u!==void 0&&(this.options.trimValues&&!w&&(u=u.trim()),u.length>0)){N||(u=this.replaceEntitiesValue(u));let A=this.options.tagValueProcessor(m,u,g,b,_);return A==null?u:typeof A!=typeof u||A!==u?A:this.options.trimValues||u.trim()===u?Ty(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function QN(u){if(this.options.removeNSPrefix){let m=u.split(":"),g=u.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(u=g+m[1])}return u}let ZN=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function eP(u,m,g){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let w=s(u,ZN),b=w.length,_={};for(let N=0;N<b;N++){let A=this.resolveNameSpace(w[N][1]);if(this.ignoreAttributesFn(A,m))continue;let D=w[N][4],M=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(M=this.options.transformAttributeName(M)),M==="__proto__"&&(M="#__proto__"),D!==void 0){this.options.trimValues&&(D=D.trim()),D=this.replaceEntitiesValue(D);let ee=this.options.attributeValueProcessor(A,D,m);_[M]=ee==null?D:typeof ee!=typeof D||ee!==D?ee:Ty(D,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(_[M]=!0)}if(!Object.keys(_).length)return;if(this.options.attributesGroupName){let N={};return N[this.options.attributesGroupName]=_,N}return _}}let tP=function(u){u=u.replace(/\r\n?/g,`
`);let m=new me("!xml"),g=m,w="",b="";for(let _=0;_<u.length;_++)if(u[_]==="<")if(u[_+1]==="/"){let N=un(u,">",_,"Closing Tag is not closed."),A=u.substring(_+2,N).trim();if(this.options.removeNSPrefix){let ee=A.indexOf(":");ee!==-1&&(A=A.substr(ee+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),g&&(w=this.saveTextToParentTag(w,g,b));let D=b.substring(b.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let M=0;D&&this.options.unpairedTags.indexOf(D)!==-1?(M=b.lastIndexOf(".",b.lastIndexOf(".")-1),this.tagsNodeStack.pop()):M=b.lastIndexOf("."),b=b.substring(0,M),g=this.tagsNodeStack.pop(),w="",_=N}else if(u[_+1]==="?"){let N=pu(u,_,!1,"?>");if(!N)throw new Error("Pi Tag is not closed.");if(w=this.saveTextToParentTag(w,g,b),!(this.options.ignoreDeclaration&&N.tagName==="?xml"||this.options.ignorePiTags)){let A=new me(N.tagName);A.add(this.options.textNodeName,""),N.tagName!==N.tagExp&&N.attrExpPresent&&(A[":@"]=this.buildAttributesMap(N.tagExp,b,N.tagName)),this.addChild(g,A,b,_)}_=N.closeIndex+1}else if(u.substr(_+1,3)==="!--"){let N=un(u,"-->",_+4,"Comment is not closed.");if(this.options.commentPropName){let A=u.substring(_+4,N-2);w=this.saveTextToParentTag(w,g,b),g.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}_=N}else if(u.substr(_+1,2)==="!D"){let N=re(u,_);this.docTypeEntities=N.entities,_=N.i}else if(u.substr(_+1,2)==="!["){let N=un(u,"]]>",_,"CDATA is not closed.")-2,A=u.substring(_+9,N);w=this.saveTextToParentTag(w,g,b);let D=this.parseTextData(A,g.tagname,b,!0,!1,!0,!0);D==null&&(D=""),this.options.cdataPropName?g.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):g.add(this.options.textNodeName,D),_=N+2}else{let N=pu(u,_,this.options.removeNSPrefix),A=N.tagName,D=N.rawTagName,M=N.tagExp,ee=N.attrExpPresent,J=N.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),g&&w&&g.tagname!=="!xml"&&(w=this.saveTextToParentTag(w,g,b,!1));let ue=g;ue&&this.options.unpairedTags.indexOf(ue.tagname)!==-1&&(g=this.tagsNodeStack.pop(),b=b.substring(0,b.lastIndexOf("."))),A!==m.tagname&&(b+=b?"."+A:A);let ge=_;if(this.isItStopNode(this.options.stopNodes,b,A)){let pe="";if(M.length>0&&M.lastIndexOf("/")===M.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),b=b.substr(0,b.length-1),M=A):M=M.substr(0,M.length-1),_=N.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)_=N.closeIndex;else{let kt=this.readStopNodeData(u,D,J+1);if(!kt)throw new Error(`Unexpected end of ${D}`);_=kt.i,pe=kt.tagContent}let Oe=new me(A);A!==M&&ee&&(Oe[":@"]=this.buildAttributesMap(M,b,A)),pe&&(pe=this.parseTextData(pe,A,b,!0,ee,!0,!0)),b=b.substr(0,b.lastIndexOf(".")),Oe.add(this.options.textNodeName,pe),this.addChild(g,Oe,b,ge)}else{if(M.length>0&&M.lastIndexOf("/")===M.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),b=b.substr(0,b.length-1),M=A):M=M.substr(0,M.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));let pe=new me(A);A!==M&&ee&&(pe[":@"]=this.buildAttributesMap(M,b,A)),this.addChild(g,pe,b,ge),b=b.substr(0,b.lastIndexOf("."))}else{let pe=new me(A);this.tagsNodeStack.push(g),A!==M&&ee&&(pe[":@"]=this.buildAttributesMap(M,b,A)),this.addChild(g,pe,b,ge),g=pe}w="",_=J}}else w+=u[_];return m.child};function rP(u,m,g,w){this.options.captureMetaData||(w=void 0);let b=this.options.updateTag(m.tagname,g,m[":@"]);b===!1||(typeof b=="string"&&(m.tagname=b),u.addChild(m,w))}let nP=function(u){if(this.options.processEntities){for(let m in this.docTypeEntities){let g=this.docTypeEntities[m];u=u.replace(g.regx,g.val)}for(let m in this.lastEntities){let g=this.lastEntities[m];u=u.replace(g.regex,g.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let g=this.htmlEntities[m];u=u.replace(g.regex,g.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function sP(u,m,g,w){return u&&(w===void 0&&(w=m.child.length===0),(u=this.parseTextData(u,m.tagname,g,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,w))!==void 0&&u!==""&&m.add(this.options.textNodeName,u),u=""),u}function oP(u,m,g){let w="*."+g;for(let b in u){let _=u[b];if(w===_||m===_)return!0}return!1}function un(u,m,g,w){let b=u.indexOf(m,g);if(b===-1)throw new Error(w);return b+m.length-1}function pu(u,m,g,w=">"){let b=(function(J,ue,ge=">"){let pe,Oe="";for(let kt=ue;kt<J.length;kt++){let xr=J[kt];if(pe)xr===pe&&(pe="");else if(xr==='"'||xr==="'")pe=xr;else if(xr===ge[0]){if(!ge[1])return{data:Oe,index:kt};if(J[kt+1]===ge[1])return{data:Oe,index:kt}}else xr==="	"&&(xr=" ");Oe+=xr}})(u,m+1,w);if(!b)return;let _=b.data,N=b.index,A=_.search(/\s/),D=_,M=!0;A!==-1&&(D=_.substring(0,A),_=_.substring(A+1).trimStart());let ee=D;if(g){let J=D.indexOf(":");J!==-1&&(D=D.substr(J+1),M=D!==b.data.substr(J+1))}return{tagName:D,tagExp:_,closeIndex:N,attrExpPresent:M,rawTagName:ee}}function iP(u,m,g){let w=g,b=1;for(;g<u.length;g++)if(u[g]==="<")if(u[g+1]==="/"){let _=un(u,">",g,`${m} is not closed`);if(u.substring(g+2,_).trim()===m&&(b--,b===0))return{tagContent:u.substring(w,g),i:_};g=_}else if(u[g+1]==="?")g=un(u,"?>",g+1,"StopNode is not closed.");else if(u.substr(g+1,3)==="!--")g=un(u,"-->",g+3,"StopNode is not closed.");else if(u.substr(g+1,2)==="![")g=un(u,"]]>",g,"StopNode is not closed.")-2;else{let _=pu(u,g,">");_&&((_&&_.tagName)===m&&_.tagExp[_.tagExp.length-1]!=="/"&&b++,g=_.closeIndex)}}function Ty(u,m,g){if(m&&typeof u=="string"){let w=u.trim();return w==="true"||w!=="false"&&(function(b,_={}){if(_=Object.assign({},WN,_),!b||typeof b!="string")return b;let N=b.trim();if(_.skipLike!==void 0&&_.skipLike.test(N))return b;if(b==="0")return 0;if(_.hex&&VN.test(N))return(function(D){if(parseInt)return parseInt(D,16);if(Number.parseInt)return Number.parseInt(D,16);if(window&&window.parseInt)return window.parseInt(D,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(N);if(N.search(/.+[eE].+/)!==-1)return(function(D,M,ee){if(!ee.eNotation)return D;let J=M.match(KN);if(J){let ue=J[1]||"",ge=J[3].indexOf("e")===-1?"E":"e",pe=J[2],Oe=ue?D[pe.length+1]===ge:D[pe.length]===ge;return pe.length>1&&Oe?D:pe.length!==1||!J[3].startsWith(`.${ge}`)&&J[3][0]!==ge?ee.leadingZeros&&!Oe?(M=(J[1]||"")+J[3],Number(M)):D:Number(M)}return D})(b,N,_);{let D=GN.exec(N);if(D){let M=D[1]||"",ee=D[2],J=((A=D[3])&&A.indexOf(".")!==-1&&((A=A.replace(/0+$/,""))==="."?A="0":A[0]==="."?A="0"+A:A[A.length-1]==="."&&(A=A.substring(0,A.length-1))),A),ue=M?b[ee.length+1]===".":b[ee.length]===".";if(!_.leadingZeros&&(ee.length>1||ee.length===1&&!ue))return b;{let ge=Number(N),pe=String(ge);if(ge===0||ge===-0)return ge;if(pe.search(/[eE]/)!==-1)return _.eNotation?ge:b;if(N.indexOf(".")!==-1)return pe==="0"||pe===J||pe===`${M}${J}`?ge:b;let Oe=ee?J:N;return ee?Oe===pe||M+Oe===pe?ge:b:Oe===pe||Oe===M+pe?ge:b}}return b}var A})(u,g)}return u!==void 0?u:""}let fu=me.getMetaDataSymbol();function aP(u,m){return xy(u,m)}function xy(u,m,g){let w,b={};for(let _=0;_<u.length;_++){let N=u[_],A=cP(N),D="";if(D=g===void 0?A:g+"."+A,A===m.textNodeName)w===void 0?w=N[A]:w+=""+N[A];else{if(A===void 0)continue;if(N[A]){let M=xy(N[A],m,D),ee=lP(M,m);N[fu]!==void 0&&(M[fu]=N[fu]),N[":@"]?dP(M,N[":@"],D,m):Object.keys(M).length!==1||M[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(M).length===0&&(m.alwaysCreateTextNode?M[m.textNodeName]="":M=""):M=M[m.textNodeName],b[A]!==void 0&&b.hasOwnProperty(A)?(Array.isArray(b[A])||(b[A]=[b[A]]),b[A].push(M)):m.isArray(A,D,ee)?b[A]=[M]:b[A]=M}}}return typeof w=="string"?w.length>0&&(b[m.textNodeName]=w):w!==void 0&&(b[m.textNodeName]=w),b}function cP(u){let m=Object.keys(u);for(let g=0;g<m.length;g++){let w=m[g];if(w!==":@")return w}}function dP(u,m,g,w){if(m){let b=Object.keys(m),_=b.length;for(let N=0;N<_;N++){let A=b[N];w.isArray(A,g+"."+A,!0,!0)?u[A]=[m[A]]:u[A]=m[A]}}}function lP(u,m){let{textNodeName:g}=m,w=Object.keys(u).length;return w===0||!(w!==1||!u[g]&&typeof u[g]!="boolean"&&u[g]!==0)}class uP{constructor(m){this.externalEntities={},this.options=(function(g){return Object.assign({},X,g)})(m)}parse(m,g){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(g){g===!0&&(g={});let _=a(m,g);if(_!==!0)throw Error(`${_.err.msg}:${_.err.line}:${_.err.col}`)}let w=new JN(this.options);w.addExternalEntities(this.externalEntities);let b=w.parseXml(m);return this.options.preserveOrder||b===void 0?b:aP(b,this.options)}addEntity(m,g){if(g.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(g==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=g}static getMetaDataSymbol(){return me.getMetaDataSymbol()}}function mP(u,m){let g="";return m.format&&m.indentBy.length>0&&(g=`
`),Cy(u,m,"",g)}function Cy(u,m,g,w){let b="",_=!1;for(let N=0;N<u.length;N++){let A=u[N],D=pP(A);if(D===void 0)continue;let M="";if(M=g.length===0?D:`${g}.${D}`,D===m.textNodeName){let ge=A[D];fP(M,m)||(ge=m.tagValueProcessor(D,ge),ge=Ay(ge,m)),_&&(b+=w),b+=ge,_=!1;continue}if(D===m.cdataPropName){_&&(b+=w),b+=`<![CDATA[${A[D][0][m.textNodeName]}]]>`,_=!1;continue}if(D===m.commentPropName){b+=w+`<!--${A[D][0][m.textNodeName]}-->`,_=!0;continue}if(D[0]==="?"){let ge=Iy(A[":@"],m),pe=D==="?xml"?"":w,Oe=A[D][0][m.textNodeName];Oe=Oe.length!==0?" "+Oe:"",b+=pe+`<${D}${Oe}${ge}?>`,_=!0;continue}let ee=w;ee!==""&&(ee+=m.indentBy);let J=w+`<${D}${Iy(A[":@"],m)}`,ue=Cy(A[D],m,M,ee);m.unpairedTags.indexOf(D)!==-1?m.suppressUnpairedNode?b+=J+">":b+=J+"/>":ue&&ue.length!==0||!m.suppressEmptyNode?ue&&ue.endsWith(">")?b+=J+`>${ue}${w}</${D}>`:(b+=J+">",ue&&w!==""&&(ue.includes("/>")||ue.includes("</"))?b+=w+m.indentBy+ue+w:b+=ue,b+=`</${D}>`):b+=J+"/>",_=!0}return b}function pP(u){let m=Object.keys(u);for(let g=0;g<m.length;g++){let w=m[g];if(u.hasOwnProperty(w)&&w!==":@")return w}}function Iy(u,m){let g="";if(u&&!m.ignoreAttributes)for(let w in u){if(!u.hasOwnProperty(w))continue;let b=m.attributeValueProcessor(w,u[w]);b=Ay(b,m),b===!0&&m.suppressBooleanAttributes?g+=` ${w.substr(m.attributeNamePrefix.length)}`:g+=` ${w.substr(m.attributeNamePrefix.length)}="${b}"`}return g}function fP(u,m){let g=(u=u.substr(0,u.length-m.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let w in m.stopNodes)if(m.stopNodes[w]===u||m.stopNodes[w]==="*."+g)return!0;return!1}function Ay(u,m){if(u&&u.length>0&&m.processEntities)for(let g=0;g<m.entities.length;g++){let w=m.entities[g];u=u.replace(w.regex,w.val)}return u}let hP={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Tr(u){this.options=Object.assign({},hP,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=wy(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=EP),this.processTextOrObjNode=yP,this.options.format?(this.indentate=gP,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function yP(u,m,g,w){let b=this.j2x(u,g+1,w.concat(m));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],m,b.attrStr,g):this.buildObjectNode(b.val,m,b.attrStr,g)}function gP(u){return this.options.indentBy.repeat(u)}function EP(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}Tr.prototype.build=function(u){return this.options.preserveOrder?mP(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},Tr.prototype.j2x=function(u,m,g){let w="",b="",_=g.join(".");for(let N in u)if(Object.prototype.hasOwnProperty.call(u,N))if(u[N]===void 0)this.isAttribute(N)&&(b+="");else if(u[N]===null)this.isAttribute(N)||N===this.options.cdataPropName?b+="":N[0]==="?"?b+=this.indentate(m)+"<"+N+"?"+this.tagEndChar:b+=this.indentate(m)+"<"+N+"/"+this.tagEndChar;else if(u[N]instanceof Date)b+=this.buildTextValNode(u[N],N,"",m);else if(typeof u[N]!="object"){let A=this.isAttribute(N);if(A&&!this.ignoreAttributesFn(A,_))w+=this.buildAttrPairStr(A,""+u[N]);else if(!A)if(N===this.options.textNodeName){let D=this.options.tagValueProcessor(N,""+u[N]);b+=this.replaceEntitiesValue(D)}else b+=this.buildTextValNode(u[N],N,"",m)}else if(Array.isArray(u[N])){let A=u[N].length,D="",M="";for(let ee=0;ee<A;ee++){let J=u[N][ee];if(J!==void 0)if(J===null)N[0]==="?"?b+=this.indentate(m)+"<"+N+"?"+this.tagEndChar:b+=this.indentate(m)+"<"+N+"/"+this.tagEndChar;else if(typeof J=="object")if(this.options.oneListGroup){let ue=this.j2x(J,m+1,g.concat(N));D+=ue.val,this.options.attributesGroupName&&J.hasOwnProperty(this.options.attributesGroupName)&&(M+=ue.attrStr)}else D+=this.processTextOrObjNode(J,N,m,g);else if(this.options.oneListGroup){let ue=this.options.tagValueProcessor(N,J);ue=this.replaceEntitiesValue(ue),D+=ue}else D+=this.buildTextValNode(J,N,"",m)}this.options.oneListGroup&&(D=this.buildObjectNode(D,N,M,m)),b+=D}else if(this.options.attributesGroupName&&N===this.options.attributesGroupName){let A=Object.keys(u[N]),D=A.length;for(let M=0;M<D;M++)w+=this.buildAttrPairStr(A[M],""+u[N][A[M]])}else b+=this.processTextOrObjNode(u[N],N,m,g);return{attrStr:w,val:b}},Tr.prototype.buildAttrPairStr=function(u,m){return m=this.options.attributeValueProcessor(u,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+u:" "+u+'="'+m+'"'},Tr.prototype.buildObjectNode=function(u,m,g,w){if(u==="")return m[0]==="?"?this.indentate(w)+"<"+m+g+"?"+this.tagEndChar:this.indentate(w)+"<"+m+g+this.closeTag(m)+this.tagEndChar;{let b="</"+m+this.tagEndChar,_="";return m[0]==="?"&&(_="?",b=""),!g&&g!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&_.length===0?this.indentate(w)+`<!--${u}-->`+this.newLine:this.indentate(w)+"<"+m+g+_+this.tagEndChar+u+this.indentate(w)+b:this.indentate(w)+"<"+m+g+_+">"+u+b}},Tr.prototype.closeTag=function(u){let m="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${u}`,m},Tr.prototype.buildTextValNode=function(u,m,g,w){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(w)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(w)+`<!--${u}-->`+this.newLine;if(m[0]==="?")return this.indentate(w)+"<"+m+g+"?"+this.tagEndChar;{let b=this.options.tagValueProcessor(m,u);return b=this.replaceEntitiesValue(b),b===""?this.indentate(w)+"<"+m+g+this.closeTag(m)+this.tagEndChar:this.indentate(w)+"<"+m+g+">"+b+"</"+m+this.tagEndChar}},Tr.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let g=this.options.entities[m];u=u.replace(g.regex,g.val)}return u};let SP={validate:a};_w.exports=t})()});var Tw=P(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.parseXML=vk;var Pk=ww(),uf=new Pk.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});uf.addEntity("#xD","\r");uf.addEntity("#10",`
`);function vk(e){return uf.parse(e,!0)}});var Qa=P(Xa=>{"use strict";var Dk=Tw();function Ok(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function kk(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Ya=class{value;constructor(t){this.value=t}toString(){return kk(""+this.value)}},pf=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new Ya(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),i=new e(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${Ok(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Xa,"parseXML",{enumerable:!0,get:function(){return Dk.parseXML}});Xa.XmlNode=pf;Xa.XmlText=Ya});var xw,Cw,Iw,Pn,Za=x(()=>{xw=I(Qa());at();Ie();Cw=I(de()),Iw=I(je());$r();Pn=class extends Je{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new gn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){var l;let s=W.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(p=>!!p.getMemberTraits().eventPayload)){let p={},f=Object.keys(o)[0];return o[f].isBlobSchema()?p[f]=r:p[f]=this.read(o[f],r),p}let a=(((l=this.serdeContext)==null?void 0:l.utf8Encoder)??Iw.toUtf8)(r),d=this.parseXml(a);return this.readSchema(t,n?d[n]:d)}readSchema(t,r){let n=W.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let d=n.getValueSchema(),l=[],p=d.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],y=Array.isArray(f)?f:[f];for(let h of y)(h!=null||o)&&l.push(this.readSchema(d,h));return l}let a={};if(n.isMapSchema()){let d=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=d.getMergedTraits().xmlName??"key",y=l.getMergedTraits().xmlName??"value";for(let h of p){let E=h[f],S=h[y];(S!=null||o)&&(a[E]=this.readSchema(l,S))}return a}if(n.isStructSchema()){for(let[d,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??d;r[f]!=null&&(a[d]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,xw.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,Cw.getValueFromTextNode)(o)}return{}}}});var Aw,Rw,ec,Nw=x(()=>{at();Ie();it();Aw=I(de()),Rw=I(ze());$r();ec=class extends Je{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){var o;this.buffer===void 0&&(this.buffer="");let s=W.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((((o=this.serdeContext)==null?void 0:o.base64Encoder)??Rw.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Et.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof xe?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),pt(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,Aw.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let i=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,d=1;for(let l of r){if(l==null)continue;let p=this.getKey("member",i.getMergedTraits().xmlName),f=a?`${n}${d}`:`${n}${p}.${d}`;this.write(i,l,f),++d}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let i=s.getKeySchema(),a=s.getValueSchema(),d=s.getMergedTraits().xmlFlattened,l=1;for(let[p,f]of Object.entries(r)){if(f==null)continue;let y=this.getKey("key",i.getMergedTraits().xmlName),h=d?`${n}${l}.${y}`:`${n}entry.${l}.${y}`,E=this.getKey("value",a.getMergedTraits().xmlName),S=d?`${n}${l}.${E}`:`${n}entry.${l}.${E}`;this.write(i,p,h),this.write(a,f,S),++l}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[i,a]of s.structIterator()){if(r[i]==null&&!a.isIdempotencyToken())continue;let d=this.getKey(i,a.getMergedTraits().xmlName),l=`${n}${d}`;this.write(a,r[i],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Mt(t)}=`}writeValue(t){this.buffer+=Mt(t)}}});var wo,ff=x(()=>{at();Ie();is();Za();Nw();wo=class extends nr{options;serializer;deserializer;mixin=new St;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new ec(r),this.deserializer=new Pn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(At(t.input)==="unit"||!s.body)&&(s.body="");let o=t.name.split("#")[1]??t.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,o=W.of(t.output),i={};if(n.statusCode>=300){let f=await gt(n.body,r);f.byteLength>0&&Object.assign(i,await s.read(15,f)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let f in n.headers){let y=n.headers[f];delete n.headers[f],n.headers[f.toLowerCase()]=y}let a=t.name.split("#")[1]??t.name,d=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await gt(n.body,r);return l.byteLength>0&&Object.assign(i,await s.read(o,l,d)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),d=this.loadQueryErrorMessage(s);a.message=d,a.Error={Type:a.Type,Code:a.Code,Message:d};let{errorSchema:l,errorMetadata:p}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,o,(S,T)=>S.find(R=>{var v;return((v=W.of(R).getMergedTraits().awsQueryError)==null?void 0:v[0])===T})),f=W.of(l),y=Me.for(l[1]).getErrorCtor(l)??Error,h=new y(d),E={Error:a.Error};for(let[S,T]of f.structIterator()){let R=T.getMergedTraits().xmlName??S,v=a[R]??s[R];E[S]=this.deserializer.readSchema(T,v)}throw Object.assign(h,p,{$fault:f.getMergedTraits().error,message:d},E)}loadQueryErrorCode(t,r){var s,o,i,a;let n=(a=((o=(s=r.Errors)==null?void 0:s[0])==null?void 0:o.Error)??((i=r.Errors)==null?void 0:i.Error)??r.Error)==null?void 0:a.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){var r,n,s;return((n=(r=t.Errors)==null?void 0:r[0])==null?void 0:n.Error)??((s=t.Errors)==null?void 0:s.Error)??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return(r==null?void 0:r.message)??(r==null?void 0:r.Message)??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var hf,Pw=x(()=>{ff();hf=class extends wo{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var vw,Dw,To,yf,gf,Ef=x(()=>{vw=I(Qa()),Dw=I(de());nf();To=(e,t)=>Ga(e,t).then(r=>{if(r.length){let n;try{n=(0,vw.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,Dw.getValueFromTextNode)(i)}return{}}),yf=async(e,t)=>{let r=await To(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},gf=(e,t)=>{var r;if(((r=t==null?void 0:t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var bt,Sf,tc,xo,bf=x(()=>{bt=I(Qa());at();Ie();it();Sf=I(de()),tc=I(ze());$r();xo=class extends Je{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){var s;let n=W.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(((s=this.serdeContext)==null?void 0:s.base64Decoder)??tc.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let o=n.getMergedTraits();o.httpPayload&&!o.xmlName&&this.buffer.withName(n.getName())}}flush(){var r;if(this.byteBuffer!==void 0){let n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){let n=this.stringBuffer;return delete this.stringBuffer,n}let t=this.buffer;return this.settings.xmlNamespace&&((r=t==null?void 0:t.attributes)!=null&&r.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=bt.XmlNode.of(o),[a,d]=this.getXmlnsAttribute(t,n);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null||p.isIdempotencyToken()){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,d);else if(p.isMapSchema())this.writeMap(p,f,i,d);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,d));else{let y=bt.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,y,d),i.addChildNode(y)}}}return d&&i.addAttribute(a,d),i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),d=!!a.sparse,l=!!o.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,s),y=(h,E)=>{if(i.isListSchema())this.writeList(i,Array.isArray(E)?E:[E],h,f);else if(i.isMapSchema())this.writeMap(i,E,h,f);else if(i.isStructSchema()){let S=this.writeStruct(i,E,f);h.addChildNode(S.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let S=bt.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,E,S,f),h.addChildNode(S)}};if(l)for(let h of r)(d||h!=null)&&y(n,h);else{let h=bt.XmlNode.of(o.xmlName??t.getMemberName());f&&h.addAttribute(p,f);for(let E of r)(d||E!=null)&&y(h,E);n.addChildNode(h)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),y=f.xmlName??"value",h=!!f.sparse,E=!!i.xmlFlattened,[S,T]=this.getXmlnsAttribute(t,s),R=(v,k,Y)=>{let X=bt.XmlNode.of(l,k),[ae,me]=this.getXmlnsAttribute(a,T);me&&X.addAttribute(ae,me),v.addChildNode(X);let re=bt.XmlNode.of(y);p.isListSchema()?this.writeList(p,Y,re,T):p.isMapSchema()?this.writeMap(p,Y,re,T,!0):p.isStructSchema()?re=this.writeStruct(p,Y,T):this.writeSimpleInto(p,Y,re,T),v.addChildNode(re)};if(E){for(let[v,k]of Object.entries(r))if(h||k!=null){let Y=bt.XmlNode.of(i.xmlName??t.getMemberName());R(Y,v,k),n.addChildNode(Y)}}else{let v;o||(v=bt.XmlNode.of(i.xmlName??t.getMemberName()),T&&v.addAttribute(S,T),n.addChildNode(v));for(let[k,Y]of Object.entries(r))if(h||Y!=null){let X=bt.XmlNode.of("entry");R(X,k,Y),(o?n:v).addChildNode(X)}}}writeSimple(t,r){var o;if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=W.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(((o=this.serdeContext)==null?void 0:o.base64Encoder)??tc.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(pt(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,Sf.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Sf.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof xe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Et.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=W.of(t),a=new bt.XmlText(o),[d,l]=this.getXmlnsAttribute(i,s);l&&n.addAttribute(d,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var Co,_f=x(()=>{$r();Za();bf();Co=class extends Je{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new xo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Pn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var wf,Ow=x(()=>{at();Ie();is();Ef();_f();wf=class extends yn{codec;serializer;deserializer;mixin=new St;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Co(r),this.serializer=new Sn(this.codec.createSerializer(),r),this.deserializer=new En(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=W.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){var E,S,T;let i=gf(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=W.of(a),p=((E=s.Error)==null?void 0:E.message)??((S=s.Error)==null?void 0:S.Message)??s.message??s.Message??"Unknown",f=Me.for(a[1]).getErrorCtor(a)??Error,y=new f(p);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[R,v]of l.structIterator()){let k=v.getMergedTraits().xmlName??R,Y=((T=s.Error)==null?void 0:T[k])??s[k];h[R]=this.codec.createDeserializer().readSchema(v,Y)}throw Object.assign(y,d,{$fault:l.getMergedTraits().error,message:p},h)}getDefaultContentType(){return"application/xml"}}});var kw=x(()=>{W_();K_();yw();gw();Ja();Ew();Ka();of();af();bw();So();Pw();ff();Ow();_f();Za();bf();Ef()});var $t={};mt($t,{AWSSDKSigV4Signer:()=>lp,AwsEc2QueryProtocol:()=>hf,AwsJson1_0Protocol:()=>cf,AwsJson1_1Protocol:()=>df,AwsJsonRpcProtocol:()=>Nn,AwsQueryProtocol:()=>wo,AwsRestJsonProtocol:()=>lf,AwsRestXmlProtocol:()=>wf,AwsSdkSigV4ASigner:()=>fo,AwsSdkSigV4Signer:()=>dt,AwsSmithyRpcV2CborProtocol:()=>Gp,JsonCodec:()=>Rn,JsonShapeDeserializer:()=>bo,JsonShapeSerializer:()=>_o,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>rs,NODE_SIGV4A_CONFIG_OPTIONS:()=>n_,XmlCodec:()=>Co,XmlShapeDeserializer:()=>Pn,XmlShapeSerializer:()=>xo,_toBool:()=>ok,_toNum:()=>ik,_toStr:()=>sk,awsExpectUnion:()=>Nk,emitWarningIfUnsupportedVersion:()=>Zn,getBearerTokenEnvKey:()=>Ra,loadRestJsonErrorCode:()=>An,loadRestXmlErrorCode:()=>gf,parseJsonBody:()=>as,parseJsonErrorBody:()=>sf,parseXmlBody:()=>To,parseXmlErrorBody:()=>yf,resolveAWSSDKSigV4Config:()=>N_,resolveAwsSdkSigV4AConfig:()=>r_,resolveAwsSdkSigV4Config:()=>Cn,setCredentialFeature:()=>Or,setFeature:()=>$b,setTokenFeature:()=>zb,state:()=>Aa,validateSigningProperties:()=>ts});var Fe=x(()=>{Nt();Np();kw()});var ds=P(cs=>{"use strict";var Lk=(ct(),fe(Yn)),Mk=Qn(),Bk=be(),jt=(Fe(),fe($t)),Uw=void 0;function Uk(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function Fk(e){let t=Lk.normalizeProvider(e.userAgentAppId??Uw),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{var s,o;let n=await t();if(!Uk(n)){let i=((o=(s=e.logger)==null?void 0:s.constructor)==null?void 0:o.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):n.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}})}var $k=/\d{12}\.ddb/;async function jk(e,t,r){var o,i,a,d,l,p,f;let n=r.request;if(((o=n==null?void 0:n.headers)==null?void 0:o["smithy-protocol"])==="rpc-v2-cbor"&&jt.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let y=await t.retryStrategy();typeof y.acquireInitialRetryToken=="function"?(a=(i=y.constructor)==null?void 0:i.name)!=null&&a.includes("Adaptive")?jt.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):jt.setFeature(e,"RETRY_MODE_STANDARD","E"):jt.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let y=e.endpointV2;switch(String((d=y==null?void 0:y.url)==null?void 0:d.hostname).match($k)&&jt.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await((l=t.accountIdEndpointMode)==null?void 0:l.call(t))){case"disabled":jt.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":jt.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":jt.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=(f=(p=e.__smithy_context)==null?void 0:p.selectedHttpAuthScheme)==null?void 0:f.identity;if(s!=null&&s.$source){let y=s;y.accountId&&jt.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[h,E]of Object.entries(y.$source??{}))jt.setFeature(e,h,E)}}var Lw="user-agent",Tf="x-amz-user-agent",Mw=" ",xf="/",zk=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Hk=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Bw="-",qk=1024;function Vk(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=qk){t.length?t+=","+n:t+=n;continue}break}return t}var Fw=e=>(t,r)=>async n=>{var E,S,T,R;let{request:s}=n;if(!Bk.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,i=((E=r==null?void 0:r.userAgent)==null?void 0:E.map(rc))||[],a=(await e.defaultUserAgentProvider()).map(rc);await jk(r,e,n);let d=r;a.push(`m/${Vk(Object.assign({},(S=r.__smithy_context)==null?void 0:S.features,(T=d.__aws_sdk_context)==null?void 0:T.features))}`);let l=((R=e==null?void 0:e.customUserAgent)==null?void 0:R.map(rc))||[],p=await e.userAgentAppId();p&&a.push(rc([`app/${p}`]));let f=Mk.getUserAgentPrefix(),y=(f?[f]:[]).concat([...a,...i,...l]).join(Mw),h=[...a.filter(v=>v.startsWith("aws-sdk-")),...l].join(Mw);return e.runtime!=="browser"?(h&&(o[Tf]=o[Tf]?`${o[Lw]} ${h}`:h),o[Lw]=y):o[Tf]=y,t({...n,request:s})},rc=e=>{var i;let t=e[0].split(xf).map(a=>a.replace(zk,Bw)).join(xf),r=(i=e[1])==null?void 0:i.replace(Hk,Bw),n=t.indexOf(xf),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(a=>a&&a.length>0).reduce((a,d,l)=>{switch(l){case 0:return d;case 1:return`${a}/${d}`;default:return`${a}#${d}`}},"")},$w={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Gk=e=>({applyToStack:t=>{t.add(Fw(e),$w)}});cs.DEFAULT_UA_APP_ID=Uw;cs.getUserAgentMiddlewareOptions=$w;cs.getUserAgentPlugin=Gk;cs.resolveUserAgentConfig=Fk;cs.userAgentMiddleware=Fw});var jw=P(ls=>{"use strict";var Wk=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},Kk=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};ls.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(ls.SelectorType||(ls.SelectorType={}));ls.booleanSelector=Wk;ls.numberSelector=Kk});var zt=P(He=>{"use strict";var zr=jw(),nc=Ze(),Jk=wn(),qw="AWS_USE_DUALSTACK_ENDPOINT",Vw="use_dualstack_endpoint",Yk=!1,Xk={environmentVariableSelector:e=>zr.booleanSelector(e,qw,zr.SelectorType.ENV),configFileSelector:e=>zr.booleanSelector(e,Vw,zr.SelectorType.CONFIG),default:!1},Gw="AWS_USE_FIPS_ENDPOINT",Ww="use_fips_endpoint",Qk=!1,Zk={environmentVariableSelector:e=>zr.booleanSelector(e,Gw,zr.SelectorType.ENV),configFileSelector:e=>zr.booleanSelector(e,Ww,zr.SelectorType.CONFIG),default:!1},e1=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:nc.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:nc.normalizeProvider(s??!1)})},t1=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},r1=e=>{let t=nc.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?nc.normalizeProvider(typeof r=="string"?s(r):r):()=>t1({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},Kw="AWS_REGION",Jw="region",n1={environmentVariableSelector:e=>e[Kw],configFileSelector:e=>e[Jw],default:()=>{throw new Error("Region is missing")}},s1={preferredFile:"credentials"},zw=new Set,o1=(e,t=Jk.isValidHostLabel)=>{if(!zw.has(e)&&!t(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else zw.add(e)},Yw=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),i1=e=>Yw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,a1=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof t=="function"?await t():t,s=i1(n);return o1(s),s},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Yw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},Hw=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack")))==null?void 0:n.hostname},c1=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),d1=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",l1=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},u1=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{var h,E,S,T,R;let i=d1(e,{partitionHash:o}),a=e in s?e:((h=o[i])==null?void 0:h.endpoint)??e,d={useFipsEndpoint:t,useDualstackEndpoint:r},l=Hw((E=s[a])==null?void 0:E.variants,d),p=Hw((S=o[i])==null?void 0:S.variants,d),f=c1(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let y=l1(f,{signingRegion:(T=s[a])==null?void 0:T.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...y&&{signingRegion:y},...((R=s[a])==null?void 0:R.signingService)&&{signingService:s[a].signingService}}};He.CONFIG_USE_DUALSTACK_ENDPOINT=Vw;He.CONFIG_USE_FIPS_ENDPOINT=Ww;He.DEFAULT_USE_DUALSTACK_ENDPOINT=Yk;He.DEFAULT_USE_FIPS_ENDPOINT=Qk;He.ENV_USE_DUALSTACK_ENDPOINT=qw;He.ENV_USE_FIPS_ENDPOINT=Gw;He.NODE_REGION_CONFIG_FILE_OPTIONS=s1;He.NODE_REGION_CONFIG_OPTIONS=n1;He.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=Xk;He.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=Zk;He.REGION_ENV_NAME=Kw;He.REGION_INI_NAME=Jw;He.getRegionInfo=u1;He.resolveCustomEndpointsConfig=e1;He.resolveEndpointsConfig=r1;He.resolveRegionConfig=a1});var Io=P(sc=>{"use strict";var m1=be(),Xw="content-length";function Qw(e){return t=>async r=>{let n=r.request;if(m1.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Xw)===-1)try{let i=e(s);n.headers={...n.headers,[Xw]:String(i)}}catch{}}return t({...r,request:n})}}var Zw={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},p1=e=>({applyToStack:t=>{t.add(Qw(e.bodyLengthChecker),Zw)}});sc.contentLengthMiddleware=Qw;sc.contentLengthMiddlewareOptions=Zw;sc.getContentLengthPlugin=p1});var If=P(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.getHomeDir=void 0;var f1=require("os"),h1=require("path"),Cf={},y1=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",g1=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${h1.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=y1();return Cf[s]||(Cf[s]=(0,f1.homedir)()),Cf[s]};oc.getHomeDir=g1});var Af=P(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.getSSOTokenFilepath=void 0;var E1=require("crypto"),S1=require("path"),b1=If(),_1=e=>{let r=(0,E1.createHash)("sha1").update(e).digest("hex");return(0,S1.join)((0,b1.getHomeDir)(),".aws","sso","cache",`${r}.json`)};ic.getSSOTokenFilepath=_1});var eT=P(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.getSSOTokenFromFile=Hr.tokenIntercept=void 0;var w1=require("fs/promises"),T1=Af();Hr.tokenIntercept={};var x1=async e=>{if(Hr.tokenIntercept[e])return Hr.tokenIntercept[e];let t=(0,T1.getSSOTokenFilepath)(e),r=await(0,w1.readFile)(t,"utf8");return JSON.parse(r)};Hr.getSSOTokenFromFile=x1});var tT=P(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.readFile=ft.fileIntercept=ft.filePromises=void 0;var C1=require("node:fs/promises");ft.filePromises={};ft.fileIntercept={};var I1=(e,t)=>ft.fileIntercept[e]!==void 0?ft.fileIntercept[e]:((!ft.filePromises[e]||t!=null&&t.ignoreCache)&&(ft.filePromises[e]=(0,C1.readFile)(e,"utf8")),ft.filePromises[e]);ft.readFile=I1});var lr=P(st=>{"use strict";var Ao=If(),rT=Af(),Rf=eT(),ac=require("path"),cc=Cr(),us=tT(),sT="AWS_PROFILE",oT="default",A1=e=>e.profile||process.env[sT]||oT,vn=".",R1=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(vn);return r===-1?!1:Object.values(cc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(vn),o=r.substring(0,s)===cc.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),N1="AWS_CONFIG_FILE",iT=()=>process.env[N1]||ac.join(Ao.getHomeDir(),".aws","config"),P1="AWS_SHARED_CREDENTIALS_FILE",v1=()=>process.env[P1]||ac.join(Ao.getHomeDir(),".aws","credentials"),D1=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,O1=["__proto__","profile __proto__"],Nf=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),d=D1.exec(a);if(d){let[,l,,p]=d;Object.values(cc.IniSectionType).includes(l)&&(r=[l,p].join(vn))}else r=a;if(O1.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[d,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=d;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let p=n?[n,d].join(vn):d;t[r][p]=l}}}}return t},nT=()=>({}),aT=async(e={})=>{let{filepath:t=v1(),configFilepath:r=iT()}=e,n=Ao.getHomeDir(),s="~/",o=t;t.startsWith(s)&&(o=ac.join(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=ac.join(n,r.slice(2)));let a=await Promise.all([us.readFile(i,{ignoreCache:e.ignoreCache}).then(Nf).then(R1).catch(nT),us.readFile(o,{ignoreCache:e.ignoreCache}).then(Nf).catch(nT)]);return{configFile:a[0],credentialsFile:a[1]}},k1=e=>Object.entries(e).filter(([t])=>t.startsWith(cc.IniSectionType.SSO_SESSION+vn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(vn)+1)]:n}),{}),L1=()=>({}),M1=async(e={})=>us.readFile(e.configFilepath??iT()).then(Nf).then(k1).catch(L1),B1=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},U1=async e=>{let t=await aT(e);return B1(t.configFile,t.credentialsFile)},F1={getFileRecord(){return us.fileIntercept},interceptFile(e,t){us.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Rf.tokenIntercept},interceptToken(e,t){Rf.tokenIntercept[e]=t}};Object.defineProperty(st,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Rf.getSSOTokenFromFile}});Object.defineProperty(st,"readFile",{enumerable:!0,get:function(){return us.readFile}});st.CONFIG_PREFIX_SEPARATOR=vn;st.DEFAULT_PROFILE=oT;st.ENV_PROFILE=sT;st.externalDataInterceptor=F1;st.getProfileName=A1;st.loadSharedConfigFiles=aT;st.loadSsoSessionData=M1;st.parseKnownFiles=U1;Object.keys(Ao).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return Ao[e]}})});Object.keys(rT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(st,e)&&Object.defineProperty(st,e,{enumerable:!0,get:function(){return rT[e]}})})});var qr=P(lT=>{"use strict";var Ro=nt(),cT=lr();function dT(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var $1=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Ro.CredentialsProviderError(r.message||`Not found in ENV: ${dT(e.toString())}`,{logger:t==null?void 0:t.logger})}},j1=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=cT.getProfileName(r),{configFile:s,credentialsFile:o}=await cT.loadSharedConfigFiles(r),i=o[n]||{},a=s[n]||{},d=t==="config"?{...i,...a}:{...a,...i};try{let p=e(d,t==="config"?s:o);if(p===void 0)throw new Error;return p}catch(l){throw new Ro.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${dT(e.toString())}`,{logger:r.logger})}},z1=e=>typeof e=="function",H1=e=>z1(e)?async()=>await e():Ro.fromStatic(e),q1=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return Ro.memoize(Ro.chain($1(e,i),j1(t,n),H1(r)))};lT.loadConfig=q1});var fT=P(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getEndpointUrlConfig=void 0;var uT=lr(),mT="AWS_ENDPOINT_URL",pT="endpoint_url",V1=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[mT,...r].join("_")];if(n)return n;let s=t[mT];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(uT.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),pT].join(uT.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[pT];if(n)return n},default:void 0});dc.getEndpointUrlConfig=V1});var hT=P(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.getEndpointFromConfig=void 0;var G1=qr(),W1=fT(),K1=async e=>(0,G1.loadConfig)((0,W1.getEndpointUrlConfig)(e??""))();lc.getEndpointFromConfig=K1});var Vr=P(ur=>{"use strict";var gT=hT(),yT=Dr(),J1=(ct(),fe(Yn)),uc=Ze(),Y1=Ar(),X1=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),rL(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!tL(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Q1=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Z1=/(\d+\.){3}\d+/,eL=/\.\./,tL=e=>Q1.test(e)&&!Z1.test(e)&&!eL.test(e),rL=e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},nL=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:d}=s;return`${o}//${i}${a?":"+a:""}${d}`}}return s}:n},Pf=e=>typeof e=="object"?"url"in e?yT.parseUrl(e.url):e:yT.parseUrl(e),ET=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await gT.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Pf(i)),r.isCustomEndpoint=!0)}let s=await ST(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},ST=async(e,t,r)=>{var o;let n={},s=((o=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:o.call(t))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await nL(a.name,i,r)();break;case"operationContextParams":n[i]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await X1(n),n},bT=({config:e,instructions:t})=>(r,n)=>async s=>{var a,d,l;e.isCustomEndpoint&&J1.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await ET(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;let i=(d=n.authSchemes)==null?void 0:d[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let p=uc.getSmithyContext(n),f=(l=p==null?void 0:p.selectedHttpAuthScheme)==null?void 0:l.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},_T={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Y1.serializerMiddlewareOption.name},sL=(e,t)=>({applyToStack:r=>{r.addRelativeTo(bT({config:e,instructions:t}),_T)}}),oL=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>Pf(await uc.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:uc.normalizeProvider(n??!1),useFipsEndpoint:uc.normalizeProvider(s??!1)}),d;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=gT.getEndpointFromConfig(e.serviceId)),d),a},iL=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};ur.endpointMiddleware=bT;ur.endpointMiddlewareOptions=_T;ur.getEndpointFromInstructions=ET;ur.getEndpointPlugin=sL;ur.resolveEndpointConfig=oL;ur.resolveEndpointRequiredConfig=iL;ur.resolveParams=ST;ur.toEndpointV1=Pf});var Df=P(Gr=>{"use strict";var aL=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],cL=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],dL=["TimeoutError","RequestTimeout","RequestTimeoutException"],lL=[500,502,503,504],uL=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],mL=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],wT=e=>(e==null?void 0:e.$retryable)!==void 0,pL=e=>aL.includes(e.name),TT=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},xT=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},fL=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||cL.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},vf=(e,t=0)=>{var r;return wT(e)||TT(e)||dL.includes(e.name)||uL.includes((e==null?void 0:e.code)||"")||mL.includes((e==null?void 0:e.code)||"")||lL.includes(((r=e.$metadata)==null?void 0:r.httpStatusCode)||0)||xT(e)||e.cause!==void 0&&t<=10&&vf(e.cause,t+1)},hL=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!vf(e)}return!1};Gr.isBrowserNetworkError=xT;Gr.isClockSkewCorrectedError=TT;Gr.isClockSkewError=pL;Gr.isRetryableByTrait=wT;Gr.isServerError=hL;Gr.isThrottlingError=fL;Gr.isTransientError=vf});var ms=P(Ae=>{"use strict";var yL=Df();Ae.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ae.RETRY_MODES||(Ae.RETRY_MODES={}));var Of=3,gL=Ae.RETRY_MODES.STANDARD,mc=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),yL.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},No=100,Bf=20*1e3,IT=500,kf=500,AT=5,RT=10,NT=1,EL="amz-sdk-invocation-id",SL="amz-sdk-request",bL=()=>{let e=No;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Bf,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},CT=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Bf,e),getRetryCost:()=>r}),Po=class{maxAttempts;mode=Ae.RETRY_MODES.STANDARD;capacity=kf;retryBackoffStrategy=bL();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return CT({retryDelay:No,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?IT:No);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,CT({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(kf,this.capacity+(t.getRetryCost()??NT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Of}`),Of}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?RT:AT}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Lf=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ae.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new mc,this.standardRetryStrategy=new Po(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Mf=class extends Po{computeNextBackoffDelay;constructor(t,r=No){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ae.AdaptiveRetryStrategy=Lf;Ae.ConfiguredRetryStrategy=Mf;Ae.DEFAULT_MAX_ATTEMPTS=Of;Ae.DEFAULT_RETRY_DELAY_BASE=No;Ae.DEFAULT_RETRY_MODE=gL;Ae.DefaultRateLimiter=mc;Ae.INITIAL_RETRY_TOKENS=kf;Ae.INVOCATION_ID_HEADER=EL;Ae.MAXIMUM_RETRY_DELAY=Bf;Ae.NO_RETRY_INCREMENT=NT;Ae.REQUEST_HEADER=SL;Ae.RETRY_COST=AT;Ae.StandardRetryStrategy=Po;Ae.THROTTLING_RETRY_DELAY_BASE=IT;Ae.TIMEOUT_RETRY_COST=RT});var PT=P(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.isStreamingPayload=void 0;var _L=require("stream"),wL=e=>(e==null?void 0:e.body)instanceof _L.Readable||typeof ReadableStream<"u"&&(e==null?void 0:e.body)instanceof ReadableStream;pc.isStreamingPayload=wL});var mr=P(Be=>{"use strict";var Ce=ms(),ps=be(),Wr=Df(),DT=Ea(),vT=Ze(),TL=de(),xL=PT(),CL=(e,t)=>{let r=e,n=Ce.NO_RETRY_INCREMENT,s=Ce.RETRY_COST,o=Ce.TIMEOUT_RETRY_COST,i=e,a=f=>f.name==="TimeoutError"?o:s,d=f=>a(f)<=i;return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:f=>{if(!d(f))throw new Error("No retry token available");let y=a(f);return i-=y,y},releaseRetryTokens:f=>{i+=f??n,i=Math.min(i,r)}})},OT=(e,t)=>Math.floor(Math.min(Ce.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),kT=e=>e?Wr.isRetryableByTrait(e)||Wr.isClockSkewError(e)||Wr.isThrottlingError(e)||Wr.isTransientError(e):!1,LT=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),fc=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Ce.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=(r==null?void 0:r.retryDecider)??kT,this.delayDecider=(r==null?void 0:r.delayDecider)??OT,this.retryQuota=(r==null?void 0:r.retryQuota)??CL(Ce.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Ce.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:d}=r;for(ps.HttpRequest.isInstance(d)&&(d.headers[Ce.INVOCATION_ID_HEADER]=DT.v4());;)try{ps.HttpRequest.isInstance(d)&&(d.headers[Ce.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n!=null&&n.beforeRequest&&await n.beforeRequest();let{response:l,output:p}=await t(r);return n!=null&&n.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),p.$metadata.attempts=o+1,p.$metadata.totalRetryDelay=i,{response:l,output:p}}catch(l){let p=LT(l);if(o++,this.shouldRetry(p,o,a)){s=this.retryQuota.retrieveRetryTokens(p);let f=this.delayDecider(Wr.isThrottlingError(p)?Ce.THROTTLING_RETRY_DELAY_BASE:Ce.DEFAULT_RETRY_DELAY_BASE,o),y=IL(p.$response),h=Math.max(y||0,f);i+=h,await new Promise(E=>setTimeout(E,h));continue}throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=i,p}}},IL=e=>{if(!ps.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Uf=class extends fc{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new Ce.DefaultRateLimiter,this.mode=Ce.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Ff="AWS_MAX_ATTEMPTS",$f="max_attempts",AL={environmentVariableSelector:e=>{let t=e[Ff];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Ff} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[$f];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${$f} mast be a number, got "${t}"`);return r},default:Ce.DEFAULT_MAX_ATTEMPTS},RL=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=vT.normalizeProvider(n??Ce.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await vT.normalizeProvider(r)()===Ce.RETRY_MODES.ADAPTIVE?new Ce.AdaptiveRetryStrategy(s):new Ce.StandardRetryStrategy(s))})},MT="AWS_RETRY_MODE",BT="retry_mode",NL={environmentVariableSelector:e=>e[MT],configFileSelector:e=>e[BT],default:Ce.DEFAULT_RETRY_MODE},UT=()=>e=>async t=>{let{request:r}=t;return ps.HttpRequest.isInstance(r)&&(delete r.headers[Ce.INVOCATION_ID_HEADER],delete r.headers[Ce.REQUEST_HEADER]),e(t)},FT={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},PL=e=>({applyToStack:t=>{t.addRelativeTo(UT(),FT)}}),$T=e=>(t,r)=>async n=>{var i;let s=await e.retryStrategy(),o=await e.maxAttempts();if(vL(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),d=new Error,l=0,p=0,{request:f}=n,y=ps.HttpRequest.isInstance(f);for(y&&(f.headers[Ce.INVOCATION_ID_HEADER]=DT.v4());;)try{y&&(f.headers[Ce.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:h,output:E}=await t(n);return s.recordSuccess(a),E.$metadata.attempts=l+1,E.$metadata.totalRetryDelay=p,{response:h,output:E}}catch(h){let E=DL(h);if(d=LT(h),y&&xL.isStreamingPayload(f))throw(i=r.logger instanceof TL.NoOpLogger?console:r.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),d;try{a=await s.refreshRetryTokenForRetry(a,E)}catch{throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=l+1,d.$metadata.totalRetryDelay=p,d}l=a.getRetryCount();let S=a.getRetryDelay();p+=S,await new Promise(T=>setTimeout(T,S))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},vL=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",DL=e=>{let t={error:e,errorType:OL(e)},r=zT(e.$response);return r&&(t.retryAfterHint=r),t},OL=e=>Wr.isThrottlingError(e)?"THROTTLING":Wr.isTransientError(e)?"TRANSIENT":Wr.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",jT={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},kL=e=>({applyToStack:t=>{t.add($T(e),jT)}}),zT=e=>{if(!ps.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Be.AdaptiveRetryStrategy=Uf;Be.CONFIG_MAX_ATTEMPTS=$f;Be.CONFIG_RETRY_MODE=BT;Be.ENV_MAX_ATTEMPTS=Ff;Be.ENV_RETRY_MODE=MT;Be.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=AL;Be.NODE_RETRY_MODE_CONFIG_OPTIONS=NL;Be.StandardRetryStrategy=fc;Be.defaultDelayDecider=OT;Be.defaultRetryDecider=kT;Be.getOmitRetryHeadersPlugin=PL;Be.getRetryAfterHint=zT;Be.getRetryPlugin=kL;Be.omitRetryHeadersMiddleware=UT;Be.omitRetryHeadersMiddlewareOptions=FT;Be.resolveRetryConfig=RL;Be.retryMiddleware=$T;Be.retryMiddlewareOptions=jT});var zf=P(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.resolveHttpAuthSchemeConfig=Kr.defaultDynamoDBHttpAuthSchemeProvider=Kr.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var LL=(Fe(),fe($t)),jf=Ze(),ML=async(e,t,r)=>({operation:(0,jf.getSmithyContext)(t).operation,region:await(0,jf.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Kr.defaultDynamoDBHttpAuthSchemeParametersProvider=ML;function BL(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var UL=e=>{let t=[];switch(e.operation){default:t.push(BL(e))}return t};Kr.defaultDynamoDBHttpAuthSchemeProvider=UL;var FL=e=>{let t=(0,LL.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,jf.normalizeProvider)(e.authSchemePreference??[])})};Kr.resolveHttpAuthSchemeConfig=FL});var HT=P((w5,$L)=>{$L.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.913.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/credential-provider-node":"3.913.0","@aws-sdk/middleware-endpoint-discovery":"3.910.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.2","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Hf=P(Jr=>{"use strict";var jL=(Nt(),fe(kr)),zL=nt(),qT="AWS_ACCESS_KEY_ID",VT="AWS_SECRET_ACCESS_KEY",GT="AWS_SESSION_TOKEN",WT="AWS_CREDENTIAL_EXPIRATION",KT="AWS_CREDENTIAL_SCOPE",JT="AWS_ACCOUNT_ID",HL=e=>async()=>{var a;(a=e==null?void 0:e.logger)==null||a.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[qT],r=process.env[VT],n=process.env[GT],s=process.env[WT],o=process.env[KT],i=process.env[JT];if(t&&r){let d={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return jL.setCredentialFeature(d,"CREDENTIALS_ENV_VARS","g"),d}throw new zL.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e==null?void 0:e.logger})};Jr.ENV_ACCOUNT_ID=JT;Jr.ENV_CREDENTIAL_SCOPE=KT;Jr.ENV_EXPIRATION=WT;Jr.ENV_KEY=qT;Jr.ENV_SECRET=VT;Jr.ENV_SESSION=GT;Jr.fromEnv=HL});var Do=P(Ye=>{"use strict";var Ht=nt(),qL=require("url"),VL=require("buffer"),GL=require("http"),Kf=qr(),WL=Dr();function vo(e){return new Promise((t,r)=>{var s;let n=GL.request({method:"GET",...e,hostname:(s=e.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Ht.ProviderError("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Ht.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(r(Object.assign(new Ht.ProviderError("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];o.on("data",d=>{a.push(d)}),o.on("end",()=>{t(VL.Buffer.concat(a)),n.destroy()})}),n.end()})}var ZT=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",ex=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),tx=1e3,rx=0,Jf=({maxRetries:e=rx,timeout:t=tx})=>({maxRetries:e,timeout:t}),Vf=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},hc="AWS_CONTAINER_CREDENTIALS_FULL_URI",yc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Gf="AWS_CONTAINER_AUTHORIZATION_TOKEN",KL=(e={})=>{let{timeout:t,maxRetries:r}=Jf(e);return()=>Vf(async()=>{let n=await ZL({logger:e.logger}),s=JSON.parse(await JL(t,n));if(!ZT(s))throw new Ht.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return ex(s)},r)},JL=async(e,t)=>(process.env[Gf]&&(t.headers={...t.headers,Authorization:process.env[Gf]}),(await vo({...t,timeout:e})).toString()),YL="169.254.170.2",XL={localhost:!0,"127.0.0.1":!0},QL={"http:":!0,"https:":!0},ZL=async({logger:e})=>{if(process.env[yc])return{hostname:YL,path:process.env[yc]};if(process.env[hc]){let t=qL.parse(process.env[hc]);if(!t.hostname||!(t.hostname in XL))throw new Ht.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in QL))throw new Ht.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Ht.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${yc} or ${hc} environment variable is set`,{tryNextLink:!1,logger:e})},Wf=class e extends Ht.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};Ye.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Ye.Endpoint||(Ye.Endpoint={}));var eM="AWS_EC2_METADATA_SERVICE_ENDPOINT",tM="ec2_metadata_service_endpoint",rM={environmentVariableSelector:e=>e[eM],configFileSelector:e=>e[tM],default:void 0},fs;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(fs||(fs={}));var nM="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",sM="ec2_metadata_service_endpoint_mode",oM={environmentVariableSelector:e=>e[nM],configFileSelector:e=>e[sM],default:fs.IPv4},nx=async()=>WL.parseUrl(await iM()||await aM()),iM=async()=>Kf.loadConfig(rM)(),aM=async()=>{let e=await Kf.loadConfig(oM)();switch(e){case fs.IPv4:return Ye.Endpoint.IPv4;case fs.IPv6:return Ye.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(fs)}`)}},cM=300,dM=300,lM="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",YT=(e,t)=>{let r=cM+Math.floor(Math.random()*dM),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+lM);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},uM=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=YT(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=YT(n,r);else throw o}return n=s,s}},sx="/latest/meta-data/iam/security-credentials/",mM="/latest/api/token",qf="AWS_EC2_METADATA_V1_DISABLED",XT="ec2_metadata_v1_disabled",QT="x-aws-ec2-metadata-token",pM=(e={})=>uM(fM(e),{logger:e.logger}),fM=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=Jf(e),i=async(a,d)=>{var f;if(t||((f=d.headers)==null?void 0:f[QT])==null){let y=!1,h=!1,E=await Kf.loadConfig({environmentVariableSelector:S=>{let T=S[qf];if(h=!!T&&T!=="false",T===void 0)throw new Ht.CredentialsProviderError(`${qf} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:S=>{let T=S[XT];return y=!!T&&T!=="false",y},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||E){let S=[];throw e.ec2MetadataV1Disabled&&S.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),y&&S.push(`config file profile (${XT})`),h&&S.push(`process environment variable (${qf})`),new Wf(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${S.join(", ")}].`)}}let p=(await Vf(async()=>{let y;try{y=await yM(d)}catch(h){throw h.statusCode===401&&(t=!1),h}return y},a)).trim();return Vf(async()=>{let y;try{y=await gM(p,d,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return y},a)};return async()=>{let a=await nx();if(t)return r==null||r.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let d;try{d=(await hM({...a,timeout:s})).toString()}catch(l){if((l==null?void 0:l.statusCode)===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r==null||r.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[QT]:d},timeout:s})}}},hM=async e=>vo({...e,path:mM,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),yM=async e=>(await vo({...e,path:sx})).toString(),gM=async(e,t,r)=>{let n=JSON.parse((await vo({...t,path:sx+e})).toString());if(!ZT(n))throw new Ht.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return ex(n)};Ye.DEFAULT_MAX_RETRIES=rx;Ye.DEFAULT_TIMEOUT=tx;Ye.ENV_CMDS_AUTH_TOKEN=Gf;Ye.ENV_CMDS_FULL_URI=hc;Ye.ENV_CMDS_RELATIVE_URI=yc;Ye.fromContainerMetadata=KL;Ye.fromInstanceMetadata=pM;Ye.getInstanceMetadataEndpoint=nx;Ye.httpRequest=vo;Ye.providerConfigFromInit=Jf});var ox=P(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.checkUrl=void 0;var EM=nt(),SM="169.254.170.2",bM="169.254.170.23",_M="[fd00:ec2::23]",wM=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===SM||e.hostname===bM||e.hostname===_M)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new EM.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};gc.checkUrl=wM});var ix=P(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.createGetRequest=IM;Ec.getCredentials=AM;var Yf=nt(),TM=be(),xM=de(),CM=ra();function IM(e){return new TM.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function AM(e,t){let n=await(0,CM.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Yf.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,xM.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Yf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Yf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var ax=P(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.retryWrapper=void 0;var RM=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};Sc.retryWrapper=RM});var lx=P(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.fromHttp=void 0;var NM=(io(),fe(oo)),PM=(Nt(),fe(kr)),vM=pn(),cx=nt(),DM=NM.__importDefault(require("fs/promises")),OM=ox(),dx=ix(),kM=ax(),LM="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",MM="http://169.254.170.2",BM="AWS_CONTAINER_CREDENTIALS_FULL_URI",UM="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",FM="AWS_CONTAINER_AUTHORIZATION_TOKEN",$M=(e={})=>{var l,p,f,y;(l=e.logger)==null||l.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[LM],n=e.awsContainerCredentialsFullUri??process.env[BM],s=e.awsContainerAuthorizationToken??process.env[FM],o=e.awsContainerAuthorizationTokenFile??process.env[UM],i=((f=(p=e.logger)==null?void 0:p.constructor)==null?void 0:f.name)==="NoOpLogger"||!((y=e.logger)!=null&&y.warn)?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${MM}${r}`;else throw new cx.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,OM.checkUrl)(a,e.logger);let d=vM.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,kM.retryWrapper)(async()=>{let h=(0,dx.createGetRequest)(a);s?h.headers.Authorization=s:o&&(h.headers.Authorization=(await DM.default.readFile(o)).toString());try{let E=await d.handle(h);return(0,dx.getCredentials)(E.response).then(S=>(0,PM.setCredentialFeature)(S,"CREDENTIALS_HTTP","z"))}catch(E){throw new cx.CredentialsProviderError(String(E),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};bc.fromHttp=$M});var Xf=P(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.fromHttp=void 0;var jM=lx();Object.defineProperty(_c,"fromHttp",{enumerable:!0,get:function(){return jM.fromHttp}})});function zM(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function HM(e){return{schemeId:"smithy.api#noAuth"}}var Oo,ux,mx,px,Qf=x(()=>{Fe();Oo=I(Ze()),ux=async(e,t,r)=>({operation:(0,Oo.getSmithyContext)(t).operation,region:await(0,Oo.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});mx=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(HM(e));break}default:t.push(zM(e))}return t},px=e=>{let t=Cn(e);return Object.assign(t,{authSchemePreference:(0,Oo.normalizeProvider)(e.authSchemePreference??[])})}});var fx,hx,Zf=x(()=>{fx=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),hx={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var wc,eh=x(()=>{wc={name:"@aws-sdk/nested-clients",version:"3.911.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var ko=P(Dn=>{"use strict";var yx=require("os"),th=require("process"),VM=ds(),gx={isCrtAvailable:!1},GM=()=>gx.isCrtAvailable?["md/crt-avail"]:null,Ex=({serviceId:e,clientVersion:t})=>async r=>{var a;let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${yx.platform()}`,yx.release()],["lang/js"],["md/nodejs",`${th.versions.node}`]],s=GM();s&&n.push(s),e&&n.push([`api/${e}`,t]),th.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${th.env.AWS_EXECUTION_ENV}`]);let o=await((a=r==null?void 0:r.userAgentAppId)==null?void 0:a.call(r));return o?[...n,[`app/${o}`]]:[...n]},WM=Ex,Sx="AWS_SDK_UA_APP_ID",bx="sdk_ua_app_id",KM="sdk-ua-app-id",JM={environmentVariableSelector:e=>e[Sx],configFileSelector:e=>e[bx]??e[KM],default:VM.DEFAULT_UA_APP_ID};Dn.NODE_APP_ID_CONFIG_OPTIONS=JM;Dn.UA_APP_ID_ENV_NAME=Sx;Dn.UA_APP_ID_INI_NAME=bx;Dn.createDefaultUserAgentProvider=Ex;Dn.crtAvailability=gx;Dn.defaultUserAgent=WM});var Lo=P(Tx=>{"use strict";var rh=zn(),YM=je(),XM=require("buffer"),_x=require("crypto"),nh=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(YM.toUint8Array(wx(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?_x.createHmac(this.algorithmIdentifier,wx(this.secret)):_x.createHash(this.algorithmIdentifier)}};function wx(e,t){return XM.Buffer.isBuffer(e)?e:typeof e=="string"?rh.fromString(e,t):ArrayBuffer.isView(e)?rh.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):rh.fromArrayBuffer(e)}Tx.Hash=nh});var Mo=P(xx=>{"use strict";var sh=require("node:fs"),QM=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof sh.ReadStream){if(e.path!=null)return sh.lstatSync(e.path).size;if(typeof e.fd=="number")return sh.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};xx.calculateBodyLength=QM});var kx,wt,Cx,Bo,hs,ys,pr,oh,ih,Ix,Ax,Rx,Lx,Mx,_t,Nx,Bx,Px,vx,Dx,Ox,ZM,Ux,Fx=x(()=>{kx="required",wt="argv",Cx="isSet",Bo="booleanEquals",hs="error",ys="endpoint",pr="tree",oh="PartitionResult",ih="getAttr",Ix={[kx]:!1,type:"String"},Ax={[kx]:!0,default:!1,type:"Boolean"},Rx={ref:"Endpoint"},Lx={fn:Bo,[wt]:[{ref:"UseFIPS"},!0]},Mx={fn:Bo,[wt]:[{ref:"UseDualStack"},!0]},_t={},Nx={fn:ih,[wt]:[{ref:oh},"supportsFIPS"]},Bx={ref:oh},Px={fn:Bo,[wt]:[!0,{fn:ih,[wt]:[Bx,"supportsDualStack"]}]},vx=[Lx],Dx=[Mx],Ox=[{ref:"Region"}],ZM={version:"1.0",parameters:{Region:Ix,UseDualStack:Ax,UseFIPS:Ax,Endpoint:Ix},rules:[{conditions:[{fn:Cx,[wt]:[Rx]}],rules:[{conditions:vx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:hs},{conditions:Dx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:hs},{endpoint:{url:Rx,properties:_t,headers:_t},type:ys}],type:pr},{conditions:[{fn:Cx,[wt]:Ox}],rules:[{conditions:[{fn:"aws.partition",[wt]:Ox,assign:oh}],rules:[{conditions:[Lx,Mx],rules:[{conditions:[{fn:Bo,[wt]:[!0,Nx]},Px],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:ys}],type:pr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:hs}],type:pr},{conditions:vx,rules:[{conditions:[{fn:Bo,[wt]:[Nx,!0]}],rules:[{conditions:[{fn:"stringEquals",[wt]:[{fn:ih,[wt]:[Bx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:_t,headers:_t},type:ys},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:ys}],type:pr},{error:"FIPS is enabled but this partition does not support FIPS",type:hs}],type:pr},{conditions:Dx,rules:[{conditions:[Px],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_t,headers:_t},type:ys}],type:pr},{error:"DualStack is enabled but this partition does not support DualStack",type:hs}],type:pr},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:_t,headers:_t},type:ys}],type:pr}],type:pr},{error:"Invalid Configuration: Missing Region",type:hs}]},Ux=ZM});var $x,gs,eB,jx,zx=x(()=>{$x=I(Qn()),gs=I(wn());Fx();eB=new gs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),jx=(e,t={})=>eB.get(e,()=>(0,gs.resolveEndpoint)(Ux,{endpointParams:e,logger:t.logger}));gs.customEndpointFunctions.aws=$x.awsEndpointFunctions});var Hx,qx,Tc,xc,Vx,Gx=x(()=>{Fe();ct();Hx=I(de()),qx=I(Dr()),Tc=I(ze()),xc=I(je());Qf();zx();Vx=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Tc.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??Tc.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??jx,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??mx,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new dt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new sr}],logger:(e==null?void 0:e.logger)??new Hx.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??qx.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??xc.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??xc.toUtf8})});var Uo=P(Yx=>{"use strict";var tB=zt(),Wx=qr(),rB=nt(),nB="AWS_EXECUTION_ENV",Kx="AWS_REGION",Jx="AWS_DEFAULT_REGION",sB="AWS_EC2_METADATA_DISABLED",oB=["in-region","cross-region","mobile","standard","legacy"],iB="/latest/meta-data/placement/region",aB="AWS_DEFAULTS_MODE",cB="defaults_mode",dB={environmentVariableSelector:e=>e[aB],configFileSelector:e=>e[cB],default:"legacy"},lB=({region:e=Wx.loadConfig(tB.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=Wx.loadConfig(dB)}={})=>rB.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return uB(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${oB.join(", ")}, got ${r}`)}}),uB=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await mB();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},mB=async()=>{if(process.env[nB]&&(process.env[Kx]||process.env[Jx]))return process.env[Kx]??process.env[Jx];if(!process.env[sB])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>I(Do())),r=await e();return(await t({...r,path:iB})).toString()}catch{}};Yx.resolveDefaultsModeConfig=lB});var Cc,Xr,Xx,Ic,Yr,Ac,Qx,Zx,eC,tC,rC,nC,sC=x(()=>{eh();Fe();Cc=I(ko()),Xr=I(zt()),Xx=I(Lo()),Ic=I(mr()),Yr=I(qr()),Ac=I(pn()),Qx=I(Mo()),Zx=I(ms());Gx();eC=I(de()),tC=I(Uo()),rC=I(de()),nC=e=>{(0,rC.emitWarningIfUnsupportedVersion)(process.version);let t=(0,tC.resolveDefaultsModeConfig)(e),r=()=>t().then(eC.loadConfigsForDefaultMode),n=Vx(e);Zn(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Yr.loadConfig)(rs,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Qx.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,Cc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:wc.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Yr.loadConfig)(Ic.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Yr.loadConfig)(Xr.NODE_REGION_CONFIG_OPTIONS,{...Xr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Ac.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Yr.loadConfig)({...Ic.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Zx.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??Xx.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Ac.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Yr.loadConfig)(Xr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Yr.loadConfig)(Xr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Yr.loadConfig)(Cc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Fo=P(Qr=>{"use strict";var pB=e=>({setRegion(t){e.region=t},region(){return e.region}}),fB=e=>({region:e.region()}),iC="AWS_REGION",aC="region",hB={environmentVariableSelector:e=>e[iC],configFileSelector:e=>e[aC],default:()=>{throw new Error("Region is missing")}},yB={preferredFile:"credentials"},cC=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),oC=e=>cC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,gB=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return oC(t);let n=await t();return oC(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return cC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})};Qr.NODE_REGION_CONFIG_FILE_OPTIONS=yB;Qr.NODE_REGION_CONFIG_OPTIONS=hB;Qr.REGION_ENV_NAME=iC;Qr.REGION_INI_NAME=aC;Qr.getAwsRegionExtensionConfiguration=pB;Qr.resolveAwsRegionExtensionConfiguration=fB;Qr.resolveRegionConfig=gB});var dC,lC,uC=x(()=>{dC=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},lC=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Rc,Nc,Pc,mC,pC=x(()=>{Rc=I(Fo()),Nc=I(be()),Pc=I(de());uC();mC=(e,t)=>{let r=Object.assign((0,Rc.getAwsRegionExtensionConfiguration)(e),(0,Pc.getDefaultExtensionConfiguration)(e),(0,Nc.getHttpHandlerExtensionConfiguration)(e),dC(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Rc.resolveAwsRegionExtensionConfiguration)(r),(0,Pc.resolveDefaultRuntimeConfig)(r),(0,Nc.resolveHttpHandlerRuntimeConfig)(r),lC(r))}});var vc,fC,hC,Dc,yC,gC,EC,Oc,ah,$o,ch=x(()=>{vc=I(Hs()),fC=I(qs()),hC=I(Vs()),Dc=I(ds()),yC=I(zt());ct();gC=I(Io()),EC=I(Vr()),Oc=I(mr()),ah=I(de());Qf();Zf();sC();pC();$o=class extends ah.Client{config;constructor(...[t]){let r=nC(t||{});super(r),this.initConfig=r;let n=fx(r),s=(0,Dc.resolveUserAgentConfig)(n),o=(0,Oc.resolveRetryConfig)(s),i=(0,yC.resolveRegionConfig)(o),a=(0,vc.resolveHostHeaderConfig)(i),d=(0,EC.resolveEndpointConfig)(a),l=px(d),p=mC(l,(t==null?void 0:t.extensions)||[]);this.config=p,this.middlewareStack.use((0,Dc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Oc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,gC.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,vc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,fC.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,hC.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ws(this.config,{httpAuthSchemeParametersProvider:ux,identityProviderConfigProvider:async f=>new bn({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Ks(this.config))}destroy(){super.destroy()}}});var SC,$e,kc=x(()=>{SC=I(de()),$e=class e extends SC.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var On,EB,jo,zo,dh,lh,Ho,qo,Vo,Go,SB,Wo,Ko,Jo,Yo,Xo,Lc=x(()=>{On=I(de());kc();EB={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},jo=class e extends $e{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},zo=class e extends $e{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},dh=e=>({...e,...e.clientSecret&&{clientSecret:On.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:On.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:On.SENSITIVE_STRING}}),lh=e=>({...e,...e.accessToken&&{accessToken:On.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:On.SENSITIVE_STRING},...e.idToken&&{idToken:On.SENSITIVE_STRING}}),Ho=class e extends $e{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},qo=class e extends $e{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Vo=class e extends $e{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Go=class e extends $e{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},SB={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},Wo=class e extends $e{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Ko=class e extends $e{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Jo=class e extends $e{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Yo=class e extends $e{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Xo=class e extends $e{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var L,bC,_C,bB,_B,wB,TB,xB,CB,IB,AB,RB,NB,PB,vB,DB,Tt,wC=x(()=>{Fe();ct();L=I(de());Lc();kc();bC=async(e,t)=>{let r=lo(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,L.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,L._json)(o)})),r.m("POST").h(n).b(s),r.build()},_C=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bB(e,t);let r=(0,L.map)({$metadata:Tt(e)}),n=(0,L.expectNonNull)((0,L.expectObject)(await as(e.body,t)),"body"),s=(0,L.take)(n,{accessToken:L.expectString,expiresIn:L.expectInt32,idToken:L.expectString,refreshToken:L.expectString,tokenType:L.expectString});return Object.assign(r,s),r},bB=async(e,t)=>{let r={...e,body:await sf(e.body,t)},n=An(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await wB(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await TB(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await xB(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await CB(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await IB(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await AB(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await RB(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await NB(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await PB(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await vB(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await DB(r,t);default:let s=r.body;return _B({output:e,parsedBody:s,errorCode:n})}},_B=(0,L.withBaseException)($e),wB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString,reason:L.expectString});Object.assign(r,s);let o=new jo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},TB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new zo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},xB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new Ho({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},CB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new qo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},IB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new Vo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},AB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new Go({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},RB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString,reason:L.expectString});Object.assign(r,s);let o=new Wo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},NB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new Ko({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},PB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new Jo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},vB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new Yo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},DB=async(e,t)=>{let r=(0,L.map)({}),n=e.body,s=(0,L.take)(n,{error:L.expectString,error_description:L.expectString});Object.assign(r,s);let o=new Xo({$metadata:Tt(e),...r});return(0,L.decorateServiceException)(o,e.body)},Tt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var TC,xC,uh,Qo,mh=x(()=>{TC=I(Vr()),xC=I(Ar()),uh=I(de());Zf();Lc();wC();Qo=class extends uh.Command.classBuilder().ep(hx).m(function(t,r,n,s){return[(0,xC.getSerdePlugin)(n,this.serialize,this.deserialize),(0,TC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(dh,lh).ser(bC).de(_C).build(){}});var CC,OB,Mc,IC=x(()=>{CC=I(de());mh();ch();OB={CreateTokenCommand:Qo},Mc=class extends $o{};(0,CC.createAggregatedClient)(OB,Mc)});var AC=x(()=>{mh()});var RC=x(()=>{Lc()});var ph={};mt(ph,{$Command:()=>uh.Command,AccessDeniedException:()=>jo,AccessDeniedExceptionReason:()=>EB,AuthorizationPendingException:()=>zo,CreateTokenCommand:()=>Qo,CreateTokenRequestFilterSensitiveLog:()=>dh,CreateTokenResponseFilterSensitiveLog:()=>lh,ExpiredTokenException:()=>Ho,InternalServerException:()=>qo,InvalidClientException:()=>Vo,InvalidGrantException:()=>Go,InvalidRequestException:()=>Wo,InvalidRequestExceptionReason:()=>SB,InvalidScopeException:()=>Ko,SSOOIDC:()=>Mc,SSOOIDCClient:()=>$o,SSOOIDCServiceException:()=>$e,SlowDownException:()=>Jo,UnauthorizedClientException:()=>Yo,UnsupportedGrantTypeException:()=>Xo,__Client:()=>ah.Client});var fh=x(()=>{ch();IC();AC();RC();kc()});var DC=P(ei=>{"use strict";var kB=(Nt(),fe(kr)),LB=(Np(),fe(D_)),ht=nt(),Zo=lr(),MB=require("fs"),BB=({logger:e,signingName:t}={})=>async()=>{var s;if((s=e==null?void 0:e.debug)==null||s.call(e,"@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new ht.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=LB.getBearerTokenEnvKey(t);if(!(r in process.env))throw new ht.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return kB.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},UB=300*1e3,hh="To refresh this SSO session run 'aws sso login' with the corresponding profile.",FB=async(e,t={})=>{var s,o,i;let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(fh(),ph));return new r(Object.assign({},t.clientConfig??{},{region:e??((s=t.clientConfig)==null?void 0:s.region),logger:((o=t.clientConfig)==null?void 0:o.logger)??((i=t.parentClientConfig)==null?void 0:i.logger)}))},$B=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(fh(),ph));return(await FB(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},NC=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new ht.TokenProviderError(`Token is expired. ${hh}`,!1)},kn=(e,t,r=!1)=>{if(typeof t>"u")throw new ht.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${hh}`,!1)},{writeFile:jB}=MB.promises,zB=(e,t)=>{let r=Zo.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return jB(r,n)},PC=new Date(0),vC=(e={})=>async({callerClientConfig:t}={})=>{var E;let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};(E=r.logger)==null||E.debug("@aws-sdk/token-providers - fromSso");let n=await Zo.parseKnownFiles(r),s=Zo.getProfileName({profile:r.profile??(t==null?void 0:t.profile)}),o=n[s];if(o){if(!o.sso_session)throw new ht.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new ht.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,d=(await Zo.loadSsoSessionData(r))[i];if(!d)throw new ht.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let S of["sso_start_url","sso_region"])if(!d[S])throw new ht.TokenProviderError(`Sso session '${i}' is missing required property '${S}'.`,!1);d.sso_start_url;let l=d.sso_region,p;try{p=await Zo.getSSOTokenFromFile(i)}catch{throw new ht.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${hh}`,!1)}kn("accessToken",p.accessToken),kn("expiresAt",p.expiresAt);let{accessToken:f,expiresAt:y}=p,h={token:f,expiration:new Date(y)};if(h.expiration.getTime()-Date.now()>UB)return h;if(Date.now()-PC.getTime()<30*1e3)return NC(h),h;kn("clientId",p.clientId,!0),kn("clientSecret",p.clientSecret,!0),kn("refreshToken",p.refreshToken,!0);try{PC.setTime(Date.now());let S=await $B(p,l,r);kn("accessToken",S.accessToken),kn("expiresIn",S.expiresIn);let T=new Date(Date.now()+S.expiresIn*1e3);try{await zB(i,{...p,accessToken:S.accessToken,expiresAt:T.toISOString(),refreshToken:S.refreshToken})}catch{}return{token:S.accessToken,expiration:T}}catch{return NC(h),h}},HB=({token:e,logger:t})=>async()=>{if(t==null||t.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new ht.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},qB=(e={})=>ht.memoize(ht.chain(vC(e),async()=>{throw new ht.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);ei.fromEnvSigningName=BB;ei.fromSso=vC;ei.fromStatic=HB;ei.nodeProvider=qB});var gh=P(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.resolveHttpAuthSchemeConfig=Zr.defaultSSOHttpAuthSchemeProvider=Zr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var VB=(Fe(),fe($t)),yh=Ze(),GB=async(e,t,r)=>({operation:(0,yh.getSmithyContext)(t).operation,region:await(0,yh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Zr.defaultSSOHttpAuthSchemeParametersProvider=GB;function WB(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Bc(e){return{schemeId:"smithy.api#noAuth"}}var KB=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Bc(e));break}case"ListAccountRoles":{t.push(Bc(e));break}case"ListAccounts":{t.push(Bc(e));break}case"Logout":{t.push(Bc(e));break}default:t.push(WB(e))}return t};Zr.defaultSSOHttpAuthSchemeProvider=KB;var JB=e=>{let t=(0,VB.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,yh.normalizeProvider)(e.authSchemePreference??[])})};Zr.resolveHttpAuthSchemeConfig=JB});var OC=P((DY,YB)=>{YB.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.911.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var KC=P(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.ruleSet=void 0;var qC="required",Ct="fn",It="argv",bs="ref",kC=!0,LC="isSet",ti="booleanEquals",Es="error",Ss="endpoint",fr="tree",Eh="PartitionResult",Sh="getAttr",MC={[qC]:!1,type:"String"},BC={[qC]:!0,default:!1,type:"Boolean"},UC={[bs]:"Endpoint"},VC={[Ct]:ti,[It]:[{[bs]:"UseFIPS"},!0]},GC={[Ct]:ti,[It]:[{[bs]:"UseDualStack"},!0]},xt={},FC={[Ct]:Sh,[It]:[{[bs]:Eh},"supportsFIPS"]},WC={[bs]:Eh},$C={[Ct]:ti,[It]:[!0,{[Ct]:Sh,[It]:[WC,"supportsDualStack"]}]},jC=[VC],zC=[GC],HC=[{[bs]:"Region"}],XB={version:"1.0",parameters:{Region:MC,UseDualStack:BC,UseFIPS:BC,Endpoint:MC},rules:[{conditions:[{[Ct]:LC,[It]:[UC]}],rules:[{conditions:jC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Es},{conditions:zC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Es},{endpoint:{url:UC,properties:xt,headers:xt},type:Ss}],type:fr},{conditions:[{[Ct]:LC,[It]:HC}],rules:[{conditions:[{[Ct]:"aws.partition",[It]:HC,assign:Eh}],rules:[{conditions:[VC,GC],rules:[{conditions:[{[Ct]:ti,[It]:[kC,FC]},$C],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:Ss}],type:fr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Es}],type:fr},{conditions:jC,rules:[{conditions:[{[Ct]:ti,[It]:[FC,kC]}],rules:[{conditions:[{[Ct]:"stringEquals",[It]:[{[Ct]:Sh,[It]:[WC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:xt,headers:xt},type:Ss},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:Ss}],type:fr},{error:"FIPS is enabled but this partition does not support FIPS",type:Es}],type:fr},{conditions:zC,rules:[{conditions:[$C],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xt,headers:xt},type:Ss}],type:fr},{error:"DualStack is enabled but this partition does not support DualStack",type:Es}],type:fr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:xt,headers:xt},type:Ss}],type:fr}],type:fr},{error:"Invalid Configuration: Missing Region",type:Es}]};Uc.ruleSet=XB});var JC=P(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.defaultEndpointResolver=void 0;var QB=Qn(),bh=wn(),ZB=KC(),eU=new bh.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),tU=(e,t={})=>eU.get(e,()=>(0,bh.resolveEndpoint)(ZB.ruleSet,{endpointParams:e,logger:t.logger}));Fc.defaultEndpointResolver=tU;bh.customEndpointFunctions.aws=QB.awsEndpointFunctions});var QC=P($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.getRuntimeConfig=void 0;var rU=(Fe(),fe($t)),nU=(ct(),fe(Yn)),sU=de(),oU=Dr(),YC=ze(),XC=je(),iU=gh(),aU=JC(),cU=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??YC.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??YC.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??aU.defaultEndpointResolver,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??iU.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new rU.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new nU.NoAuthSigner}],logger:(e==null?void 0:e.logger)??new sU.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??oU.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??XC.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??XC.toUtf8});$c.getRuntimeConfig=cU});var nI=P(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.getRuntimeConfig=void 0;var dU=(io(),fe(oo)),lU=dU.__importDefault(OC()),ZC=(Fe(),fe($t)),eI=ko(),jc=zt(),uU=Lo(),tI=mr(),Ln=qr(),rI=pn(),mU=Mo(),pU=ms(),fU=QC(),hU=de(),yU=Uo(),gU=de(),EU=e=>{(0,gU.emitWarningIfUnsupportedVersion)(process.version);let t=(0,yU.resolveDefaultsModeConfig)(e),r=()=>t().then(hU.loadConfigsForDefaultMode),n=(0,fU.getRuntimeConfig)(e);(0,ZC.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Ln.loadConfig)(ZC.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??mU.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,eI.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:lU.default.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Ln.loadConfig)(tI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Ln.loadConfig)(jc.NODE_REGION_CONFIG_OPTIONS,{...jc.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:rI.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Ln.loadConfig)({...tI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||pU.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??uU.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??rI.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Ln.loadConfig)(jc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Ln.loadConfig)(jc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Ln.loadConfig)(eI.NODE_APP_ID_CONFIG_OPTIONS,s)}};zc.getRuntimeConfig=EU});var wI=P(Re=>{"use strict";var sI=Hs(),SU=qs(),bU=Vs(),oI=ds(),_U=zt(),hr=(ct(),fe(Yn)),wU=Io(),oi=Vr(),iI=mr(),B=de(),aI=gh(),TU=nI(),cI=Fo(),dI=be(),Yc=Ar(),ri=(Fe(),fe($t)),xU=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Xc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},CU=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},IU=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),AU=(e,t)=>{let r=Object.assign(cI.getAwsRegionExtensionConfiguration(e),B.getDefaultExtensionConfiguration(e),dI.getHttpHandlerExtensionConfiguration(e),CU(e));return t.forEach(n=>n.configure(r)),Object.assign(e,cI.resolveAwsRegionExtensionConfiguration(r),B.resolveDefaultRuntimeConfig(r),dI.resolveHttpHandlerRuntimeConfig(r),IU(r))},_s=class extends B.Client{config;constructor(...[t]){let r=TU.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=xU(r),s=oI.resolveUserAgentConfig(n),o=iI.resolveRetryConfig(s),i=_U.resolveRegionConfig(o),a=sI.resolveHostHeaderConfig(i),d=oi.resolveEndpointConfig(a),l=aI.resolveHttpAuthSchemeConfig(d),p=AU(l,(t==null?void 0:t.extensions)||[]);this.config=p,this.middlewareStack.use(oI.getUserAgentPlugin(this.config)),this.middlewareStack.use(iI.getRetryPlugin(this.config)),this.middlewareStack.use(wU.getContentLengthPlugin(this.config)),this.middlewareStack.use(sI.getHostHeaderPlugin(this.config)),this.middlewareStack.use(SU.getLoggerPlugin(this.config)),this.middlewareStack.use(bU.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(hr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:aI.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new hr.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(hr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},en=class e extends B.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Hc=class e extends en{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},qc=class e extends en{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Vc=class e extends en{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gc=class e extends en{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lI=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),uI=e=>({...e,...e.secretAccessKey&&{secretAccessKey:B.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:B.SENSITIVE_STRING}}),mI=e=>({...e,...e.roleCredentials&&{roleCredentials:uI(e.roleCredentials)}}),pI=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),fI=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),hI=e=>({...e,...e.accessToken&&{accessToken:B.SENSITIVE_STRING}}),RU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=B.map({},B.isSerializableHeaderValue,{[ed]:e[Zc]});r.bp("/federation/credentials");let s=B.map({[zU]:[,B.expectNonNull(e[jU],"roleName")],[gI]:[,B.expectNonNull(e[yI],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},NU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=B.map({},B.isSerializableHeaderValue,{[ed]:e[Zc]});r.bp("/assignment/roles");let s=B.map({[_I]:[,e[bI]],[SI]:[()=>e.maxResults!==void 0,()=>e[EI].toString()],[gI]:[,B.expectNonNull(e[yI],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},PU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=B.map({},B.isSerializableHeaderValue,{[ed]:e[Zc]});r.bp("/assignment/accounts");let s=B.map({[_I]:[,e[bI]],[SI]:[()=>e.maxResults!==void 0,()=>e[EI].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},vU=async(e,t)=>{let r=hr.requestBuilder(e,t),n=B.map({},B.isSerializableHeaderValue,{[ed]:e[Zc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},DU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qc(e,t);let r=B.map({$metadata:tn(e)}),n=B.expectNonNull(B.expectObject(await ri.parseJsonBody(e.body,t)),"body"),s=B.take(n,{roleCredentials:B._json});return Object.assign(r,s),r},OU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qc(e,t);let r=B.map({$metadata:tn(e)}),n=B.expectNonNull(B.expectObject(await ri.parseJsonBody(e.body,t)),"body"),s=B.take(n,{nextToken:B.expectString,roleList:B._json});return Object.assign(r,s),r},kU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qc(e,t);let r=B.map({$metadata:tn(e)}),n=B.expectNonNull(B.expectObject(await ri.parseJsonBody(e.body,t)),"body"),s=B.take(n,{accountList:B._json,nextToken:B.expectString});return Object.assign(r,s),r},LU=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qc(e,t);let r=B.map({$metadata:tn(e)});return await B.collectBody(e.body,t),r},Qc=async(e,t)=>{let r={...e,body:await ri.parseJsonErrorBody(e.body,t)},n=ri.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await BU(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await UU(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await FU(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await $U(r);default:let s=r.body;return MU({output:e,parsedBody:s,errorCode:n})}},MU=B.withBaseException(en),BU=async(e,t)=>{let r=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(r,s);let o=new Hc({$metadata:tn(e),...r});return B.decorateServiceException(o,e.body)},UU=async(e,t)=>{let r=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(r,s);let o=new qc({$metadata:tn(e),...r});return B.decorateServiceException(o,e.body)},FU=async(e,t)=>{let r=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(r,s);let o=new Vc({$metadata:tn(e),...r});return B.decorateServiceException(o,e.body)},$U=async(e,t)=>{let r=B.map({}),n=e.body,s=B.take(n,{message:B.expectString});Object.assign(r,s);let o=new Gc({$metadata:tn(e),...r});return B.decorateServiceException(o,e.body)},tn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),yI="accountId",Zc="accessToken",gI="account_id",EI="maxResults",SI="max_result",bI="nextToken",_I="next_token",jU="roleName",zU="role_name",ed="x-amz-sso_bearer_token",Wc=class extends B.Command.classBuilder().ep(Xc).m(function(t,r,n,s){return[Yc.getSerdePlugin(n,this.serialize,this.deserialize),oi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(lI,mI).ser(RU).de(DU).build(){},ni=class extends B.Command.classBuilder().ep(Xc).m(function(t,r,n,s){return[Yc.getSerdePlugin(n,this.serialize,this.deserialize),oi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(pI,void 0).ser(NU).de(OU).build(){},si=class extends B.Command.classBuilder().ep(Xc).m(function(t,r,n,s){return[Yc.getSerdePlugin(n,this.serialize,this.deserialize),oi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(fI,void 0).ser(PU).de(kU).build(){},Kc=class extends B.Command.classBuilder().ep(Xc).m(function(t,r,n,s){return[Yc.getSerdePlugin(n,this.serialize,this.deserialize),oi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(hI,void 0).ser(vU).de(LU).build(){},HU={GetRoleCredentialsCommand:Wc,ListAccountRolesCommand:ni,ListAccountsCommand:si,LogoutCommand:Kc},Jc=class extends _s{};B.createAggregatedClient(HU,Jc);var qU=hr.createPaginator(_s,ni,"nextToken","nextToken","maxResults"),VU=hr.createPaginator(_s,si,"nextToken","nextToken","maxResults");Object.defineProperty(Re,"$Command",{enumerable:!0,get:function(){return B.Command}});Object.defineProperty(Re,"__Client",{enumerable:!0,get:function(){return B.Client}});Re.GetRoleCredentialsCommand=Wc;Re.GetRoleCredentialsRequestFilterSensitiveLog=lI;Re.GetRoleCredentialsResponseFilterSensitiveLog=mI;Re.InvalidRequestException=Hc;Re.ListAccountRolesCommand=ni;Re.ListAccountRolesRequestFilterSensitiveLog=pI;Re.ListAccountsCommand=si;Re.ListAccountsRequestFilterSensitiveLog=fI;Re.LogoutCommand=Kc;Re.LogoutRequestFilterSensitiveLog=hI;Re.ResourceNotFoundException=qc;Re.RoleCredentialsFilterSensitiveLog=uI;Re.SSO=Jc;Re.SSOClient=_s;Re.SSOServiceException=en;Re.TooManyRequestsException=Vc;Re.UnauthorizedException=Gc;Re.paginateListAccountRoles=qU;Re.paginateListAccounts=VU});var xI=P(_h=>{"use strict";var TI=wI();Object.defineProperty(_h,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return TI.GetRoleCredentialsCommand}});Object.defineProperty(_h,"SSOClient",{enumerable:!0,get:function(){return TI.SSOClient}})});var wh=P(rd=>{"use strict";var Pt=nt(),td=lr(),CI=(Nt(),fe(kr)),GU=DC(),AI=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ii=!1,II=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:d,filepath:l,configFilepath:p,ignoreCache:f,logger:y})=>{let h,E="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let he=await GU.fromSso({profile:d,filepath:l,configFilepath:p,ignoreCache:f})();h={accessToken:he.token,expiresAt:new Date(he.expiration).toISOString()}}catch(he){throw new Pt.CredentialsProviderError(he.message,{tryNextLink:ii,logger:y})}else try{h=await td.getSSOTokenFromFile(e)}catch{throw new Pt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${E}`,{tryNextLink:ii,logger:y})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Pt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${E}`,{tryNextLink:ii,logger:y});let{accessToken:S}=h,{SSOClient:T,GetRoleCredentialsCommand:R}=await Promise.resolve().then(function(){return xI()}),v=o||new T(Object.assign({},i??{},{logger:(i==null?void 0:i.logger)??(a==null?void 0:a.logger),region:(i==null?void 0:i.region)??n})),k;try{k=await v.send(new R({accountId:r,roleName:s,accessToken:S}))}catch(he){throw new Pt.CredentialsProviderError(he,{tryNextLink:ii,logger:y})}let{roleCredentials:{accessKeyId:Y,secretAccessKey:X,sessionToken:ae,expiration:me,credentialScope:re,accountId:te}={}}=k;if(!Y||!X||!ae||!me)throw new Pt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ii,logger:y});let wr={accessKeyId:Y,secretAccessKey:X,sessionToken:ae,expiration:new Date(me),...re&&{credentialScope:re},...te&&{accountId:te}};return t?CI.setCredentialFeature(wr,"CREDENTIALS_SSO","s"):CI.setCredentialFeature(wr,"CREDENTIALS_SSO_LEGACY","u"),wr},RI=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!r||!n||!s||!o)throw new Pt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},WU=(e={})=>async({callerClientConfig:t}={})=>{var l;(l=e.logger)==null||l.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,d=td.getProfileName({profile:e.profile??(t==null?void 0:t.profile)});if(!r&&!n&&!s&&!o&&!i){let f=(await td.parseKnownFiles(e))[d];if(!f)throw new Pt.CredentialsProviderError(`Profile ${d} was not found.`,{logger:e.logger});if(!AI(f))throw new Pt.CredentialsProviderError(`Profile ${d} is not configured with SSO credentials.`,{logger:e.logger});if(f!=null&&f.sso_session){let v=(await td.loadSsoSessionData(e))[f.sso_session],k=` configurations in profile ${d} and sso-session ${f.sso_session}`;if(s&&s!==v.sso_region)throw new Pt.CredentialsProviderError("Conflicting SSO region"+k,{tryNextLink:!1,logger:e.logger});if(r&&r!==v.sso_start_url)throw new Pt.CredentialsProviderError("Conflicting SSO start_url"+k,{tryNextLink:!1,logger:e.logger});f.sso_region=v.sso_region,f.sso_start_url=v.sso_start_url}let{sso_start_url:y,sso_account_id:h,sso_region:E,sso_role_name:S,sso_session:T}=RI(f,e.logger);return II({ssoStartUrl:y,ssoSession:T,ssoAccountId:h,ssoRegion:E,ssoRoleName:S,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!o)throw new Pt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return II({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};rd.fromSSO=WU;rd.isSsoProfile=AI;rd.validateSsoProfile=RI});function KU(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function JU(e){return{schemeId:"smithy.api#noAuth"}}var ai,NI,PI,YU,vI,Th=x(()=>{Fe();ai=I(Ze());ci();NI=async(e,t,r)=>({operation:(0,ai.getSmithyContext)(t).operation,region:await(0,ai.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});PI=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(JU(e));break}default:t.push(KU(e))}return t},YU=e=>Object.assign(e,{stsClientCtor:qt}),vI=e=>{let t=YU(e),r=Cn(t);return Object.assign(r,{authSchemePreference:(0,ai.normalizeProvider)(e.authSchemePreference??[])})}});var DI,nd,sd=x(()=>{DI=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),nd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var HI,ne,ye,rn,qe,qI,VI,Te,OI,Vt,ws,Ch,kI,xh,GI,LI,Ve,MI,WI,KI,Xe,yt,BI,JI,YI,UI,XI,FI,$I,jI,zI,XU,QI,ZI=x(()=>{HI="required",ne="type",ye="argv",rn="booleanEquals",qe="stringEquals",qI="sigv4",VI="us-east-1",Te="endpoint",OI="https://sts.{Region}.{PartitionResult#dnsSuffix}",Vt="tree",ws="error",Ch="getAttr",kI={[HI]:!1,[ne]:"String"},xh={[HI]:!0,default:!1,[ne]:"Boolean"},GI={ref:"Endpoint"},LI={fn:"isSet",[ye]:[{ref:"Region"}]},Ve={ref:"Region"},MI={fn:"aws.partition",[ye]:[Ve],assign:"PartitionResult"},WI={ref:"UseFIPS"},KI={ref:"UseDualStack"},Xe={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:qI,signingName:"sts",signingRegion:VI}]},headers:{}},yt={},BI={conditions:[{fn:qe,[ye]:[Ve,"aws-global"]}],[Te]:Xe,[ne]:Te},JI={fn:rn,[ye]:[WI,!0]},YI={fn:rn,[ye]:[KI,!0]},UI={fn:Ch,[ye]:[{ref:"PartitionResult"},"supportsFIPS"]},XI={ref:"PartitionResult"},FI={fn:rn,[ye]:[!0,{fn:Ch,[ye]:[XI,"supportsDualStack"]}]},$I=[{fn:"isSet",[ye]:[GI]}],jI=[JI],zI=[YI],XU={version:"1.0",parameters:{Region:kI,UseDualStack:xh,UseFIPS:xh,Endpoint:kI,UseGlobalEndpoint:xh},rules:[{conditions:[{fn:rn,[ye]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[ye]:$I},LI,MI,{fn:rn,[ye]:[WI,!1]},{fn:rn,[ye]:[KI,!1]}],rules:[{conditions:[{fn:qe,[ye]:[Ve,"ap-northeast-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"ap-south-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"ap-southeast-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"ap-southeast-2"]}],endpoint:Xe,[ne]:Te},BI,{conditions:[{fn:qe,[ye]:[Ve,"ca-central-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"eu-central-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"eu-north-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"eu-west-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"eu-west-2"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"eu-west-3"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"sa-east-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,VI]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"us-east-2"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"us-west-1"]}],endpoint:Xe,[ne]:Te},{conditions:[{fn:qe,[ye]:[Ve,"us-west-2"]}],endpoint:Xe,[ne]:Te},{endpoint:{url:OI,properties:{authSchemes:[{name:qI,signingName:"sts",signingRegion:"{Region}"}]},headers:yt},[ne]:Te}],[ne]:Vt},{conditions:$I,rules:[{conditions:jI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ne]:ws},{conditions:zI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ne]:ws},{endpoint:{url:GI,properties:yt,headers:yt},[ne]:Te}],[ne]:Vt},{conditions:[LI],rules:[{conditions:[MI],rules:[{conditions:[JI,YI],rules:[{conditions:[{fn:rn,[ye]:[!0,UI]},FI],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yt,headers:yt},[ne]:Te}],[ne]:Vt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ne]:ws}],[ne]:Vt},{conditions:jI,rules:[{conditions:[{fn:rn,[ye]:[UI,!0]}],rules:[{conditions:[{fn:qe,[ye]:[{fn:Ch,[ye]:[XI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:yt,headers:yt},[ne]:Te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yt,headers:yt},[ne]:Te}],[ne]:Vt},{error:"FIPS is enabled but this partition does not support FIPS",[ne]:ws}],[ne]:Vt},{conditions:zI,rules:[{conditions:[FI],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yt,headers:yt},[ne]:Te}],[ne]:Vt},{error:"DualStack is enabled but this partition does not support DualStack",[ne]:ws}],[ne]:Vt},BI,{endpoint:{url:OI,properties:yt,headers:yt},[ne]:Te}],[ne]:Vt}],[ne]:Vt},{error:"Invalid Configuration: Missing Region",[ne]:ws}]},QI=XU});var eA,Ts,QU,tA,rA=x(()=>{eA=I(Qn()),Ts=I(wn());ZI();QU=new Ts.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),tA=(e,t={})=>QU.get(e,()=>(0,Ts.resolveEndpoint)(QI,{endpointParams:e,logger:t.logger}));Ts.customEndpointFunctions.aws=eA.awsEndpointFunctions});var nA,sA,od,id,oA,iA=x(()=>{Fe();ct();nA=I(de()),sA=I(Dr()),od=I(ze()),id=I(je());Th();rA();oA=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??od.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??od.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??tA,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??PI,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new dt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new sr}],logger:(e==null?void 0:e.logger)??new nA.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??sA.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??id.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??id.toUtf8})});var ad,sn,aA,cd,nn,dd,cA,dA,lA,uA,mA,pA,fA=x(()=>{eh();Fe();ad=I(ko()),sn=I(zt());ct();aA=I(Lo()),cd=I(mr()),nn=I(qr()),dd=I(pn()),cA=I(Mo()),dA=I(ms());iA();lA=I(de()),uA=I(Uo()),mA=I(de()),pA=e=>{(0,mA.emitWarningIfUnsupportedVersion)(process.version);let t=(0,uA.resolveDefaultsModeConfig)(e),r=()=>t().then(lA.loadConfigsForDefaultMode),n=oA(e);Zn(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,nn.loadConfig)(rs,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??cA.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,ad.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:wc.version}),httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider((i==null?void 0:i.__config)||{})()),signer:new dt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new sr}],maxAttempts:(e==null?void 0:e.maxAttempts)??(0,nn.loadConfig)(cd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,nn.loadConfig)(sn.NODE_REGION_CONFIG_OPTIONS,{...sn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:dd.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,nn.loadConfig)({...cd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||dA.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??aA.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??dd.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,nn.loadConfig)(sn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,nn.loadConfig)(sn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,nn.loadConfig)(ad.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var hA,yA,gA=x(()=>{hA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},yA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var ld,ud,md,EA,SA=x(()=>{ld=I(Fo()),ud=I(be()),md=I(de());gA();EA=(e,t)=>{let r=Object.assign((0,ld.getAwsRegionExtensionConfiguration)(e),(0,md.getDefaultExtensionConfiguration)(e),(0,ud.getHttpHandlerExtensionConfiguration)(e),hA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,ld.resolveAwsRegionExtensionConfiguration)(r),(0,md.resolveDefaultRuntimeConfig)(r),(0,ud.resolveHttpHandlerRuntimeConfig)(r),yA(r))}});var pd,bA,_A,fd,wA,TA,xA,hd,Ih,qt,ci=x(()=>{pd=I(Hs()),bA=I(qs()),_A=I(Vs()),fd=I(ds()),wA=I(zt());ct();TA=I(Io()),xA=I(Vr()),hd=I(mr()),Ih=I(de());Th();sd();fA();SA();qt=class extends Ih.Client{config;constructor(...[t]){let r=pA(t||{});super(r),this.initConfig=r;let n=DI(r),s=(0,fd.resolveUserAgentConfig)(n),o=(0,hd.resolveRetryConfig)(s),i=(0,wA.resolveRegionConfig)(o),a=(0,pd.resolveHostHeaderConfig)(i),d=(0,xA.resolveEndpointConfig)(a),l=vI(d),p=EA(l,(t==null?void 0:t.extensions)||[]);this.config=p,this.middlewareStack.use((0,fd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,hd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,TA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,pd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,bA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,_A.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ws(this.config,{httpAuthSchemeParametersProvider:NI,identityProviderConfigProvider:async f=>new bn({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(Ks(this.config))}destroy(){super.destroy()}}});var CA,lt,yd=x(()=>{CA=I(de()),lt=class e extends CA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Ah,Rh,Nh,di,li,ui,mi,pi,fi,Ph,vh,hi,yi=x(()=>{Ah=I(de());yd();Rh=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Ah.SENSITIVE_STRING}}),Nh=e=>({...e,...e.Credentials&&{Credentials:Rh(e.Credentials)}}),di=class e extends lt{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},li=class e extends lt{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ui=class e extends lt{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mi=class e extends lt{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pi=class e extends lt{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fi=class e extends lt{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ph=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Ah.SENSITIVE_STRING}}),vh=e=>({...e,...e.Credentials&&{Credentials:Rh(e.Credentials)}}),hi=class e extends lt{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var IA,oe,AA,RA,NA,PA,vA,ZU,eF,tF,rF,nF,sF,oF,iF,aF,DA,cF,dF,lF,uF,mF,pF,OA,fF,hF,kA,yF,gF,EF,SF,bF,_F,wF,gr,TF,LA,MA,BA,UA,Dh,xF,Oh,xs,CF,kh,Lh,Cs,Mh,Is,Bh,Uh,Fh,As,Rs,$h,jh,zh,Ns,Hh,Ps,vs,qh,Vh,yr,Gh,Wh,Kh,Jh,Yh,FA,Xh,Qh,Zh,Pe,$A,IF,ey=x(()=>{Fe();IA=I(be()),oe=I(de());yi();yd();AA=async(e,t)=>{let r=MA,n;return n=$A({...iF(e,t),[UA]:xF,[FA]:BA}),LA(t,r,"/",void 0,n)},RA=async(e,t)=>{let r=MA,n;return n=$A({...aF(e,t),[UA]:CF,[FA]:BA}),LA(t,r,"/",void 0,n)},NA=async(e,t)=>{if(e.statusCode>=300)return vA(e,t);let r=await To(e.body,t),n={};return n=fF(r.AssumeRoleResult,t),{$metadata:gr(e),...n}},PA=async(e,t)=>{if(e.statusCode>=300)return vA(e,t);let r=await To(e.body,t),n={};return n=hF(r.AssumeRoleWithWebIdentityResult,t),{$metadata:gr(e),...n}},vA=async(e,t)=>{let r={...e,body:await yf(e.body,t)},n=IF(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ZU(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await nF(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await sF(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await oF(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await eF(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await tF(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await rF(r,t);default:let s=r.body;return TF({output:e,parsedBody:s.Error,errorCode:n})}},ZU=async(e,t)=>{let r=e.body,n=yF(r.Error,t),s=new di({$metadata:gr(e),...n});return(0,oe.decorateServiceException)(s,r)},eF=async(e,t)=>{let r=e.body,n=gF(r.Error,t),s=new hi({$metadata:gr(e),...n});return(0,oe.decorateServiceException)(s,r)},tF=async(e,t)=>{let r=e.body,n=EF(r.Error,t),s=new pi({$metadata:gr(e),...n});return(0,oe.decorateServiceException)(s,r)},rF=async(e,t)=>{let r=e.body,n=SF(r.Error,t),s=new fi({$metadata:gr(e),...n});return(0,oe.decorateServiceException)(s,r)},nF=async(e,t)=>{let r=e.body,n=bF(r.Error,t),s=new li({$metadata:gr(e),...n});return(0,oe.decorateServiceException)(s,r)},sF=async(e,t)=>{let r=e.body,n=_F(r.Error,t),s=new ui({$metadata:gr(e),...n});return(0,oe.decorateServiceException)(s,r)},oF=async(e,t)=>{let r=e.body,n=wF(r.Error,t),s=new mi({$metadata:gr(e),...n});return(0,oe.decorateServiceException)(s,r)},iF=(e,t)=>{var n,s,o,i;let r={};if(e[Ps]!=null&&(r[Ps]=e[Ps]),e[vs]!=null&&(r[vs]=e[vs]),e[Rs]!=null){let a=DA(e[Rs],t);((n=e[Rs])==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(a).forEach(([d,l])=>{let p=`PolicyArns.${d}`;r[p]=l})}if(e[As]!=null&&(r[As]=e[As]),e[Is]!=null&&(r[Is]=e[Is]),e[Kh]!=null){let a=pF(e[Kh],t);((s=e[Kh])==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(a).forEach(([d,l])=>{let p=`Tags.${d}`;r[p]=l})}if(e[Yh]!=null){let a=mF(e[Yh],t);((o=e[Yh])==null?void 0:o.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(a).forEach(([d,l])=>{let p=`TransitiveTagKeys.${d}`;r[p]=l})}if(e[Uh]!=null&&(r[Uh]=e[Uh]),e[Gh]!=null&&(r[Gh]=e[Gh]),e[Jh]!=null&&(r[Jh]=e[Jh]),e[yr]!=null&&(r[yr]=e[yr]),e[jh]!=null){let a=lF(e[jh],t);((i=e[jh])==null?void 0:i.length)===0&&(r.ProvidedContexts=[]),Object.entries(a).forEach(([d,l])=>{let p=`ProvidedContexts.${d}`;r[p]=l})}return r},aF=(e,t)=>{var n;let r={};if(e[Ps]!=null&&(r[Ps]=e[Ps]),e[vs]!=null&&(r[vs]=e[vs]),e[Qh]!=null&&(r[Qh]=e[Qh]),e[zh]!=null&&(r[zh]=e[zh]),e[Rs]!=null){let s=DA(e[Rs],t);((n=e[Rs])==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return e[As]!=null&&(r[As]=e[As]),e[Is]!=null&&(r[Is]=e[Is]),r},DA=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=cF(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},cF=(e,t)=>{let r={};return e[Zh]!=null&&(r[Zh]=e[Zh]),r},dF=(e,t)=>{let r={};return e[$h]!=null&&(r[$h]=e[$h]),e[Mh]!=null&&(r[Mh]=e[Mh]),r},lF=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=dF(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},uF=(e,t)=>{let r={};return e[Fh]!=null&&(r[Fh]=e[Fh]),e[Xh]!=null&&(r[Xh]=e[Xh]),r},mF=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},pF=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=uF(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},OA=(e,t)=>{let r={};return e[Oh]!=null&&(r[Oh]=(0,oe.expectString)(e[Oh])),e[kh]!=null&&(r[kh]=(0,oe.expectString)(e[kh])),r},fF=(e,t)=>{let r={};return e[Cs]!=null&&(r[Cs]=kA(e[Cs],t)),e[xs]!=null&&(r[xs]=OA(e[xs],t)),e[Ns]!=null&&(r[Ns]=(0,oe.strictParseInt32)(e[Ns])),e[yr]!=null&&(r[yr]=(0,oe.expectString)(e[yr])),r},hF=(e,t)=>{let r={};return e[Cs]!=null&&(r[Cs]=kA(e[Cs],t)),e[Vh]!=null&&(r[Vh]=(0,oe.expectString)(e[Vh])),e[xs]!=null&&(r[xs]=OA(e[xs],t)),e[Ns]!=null&&(r[Ns]=(0,oe.strictParseInt32)(e[Ns])),e[Hh]!=null&&(r[Hh]=(0,oe.expectString)(e[Hh])),e[Lh]!=null&&(r[Lh]=(0,oe.expectString)(e[Lh])),e[yr]!=null&&(r[yr]=(0,oe.expectString)(e[yr])),r},kA=(e,t)=>{let r={};return e[Dh]!=null&&(r[Dh]=(0,oe.expectString)(e[Dh])),e[qh]!=null&&(r[qh]=(0,oe.expectString)(e[qh])),e[Wh]!=null&&(r[Wh]=(0,oe.expectString)(e[Wh])),e[Bh]!=null&&(r[Bh]=(0,oe.expectNonNull)((0,oe.parseRfc3339DateTimeWithOffset)(e[Bh]))),r},yF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},gF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},EF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},SF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},bF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},_F=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},wF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},gr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),TF=(0,oe.withBaseException)(lt),LA=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new IA.HttpRequest(l)},MA={"content-type":"application/x-www-form-urlencoded"},BA="2011-06-15",UA="Action",Dh="AccessKeyId",xF="AssumeRole",Oh="AssumedRoleId",xs="AssumedRoleUser",CF="AssumeRoleWithWebIdentity",kh="Arn",Lh="Audience",Cs="Credentials",Mh="ContextAssertion",Is="DurationSeconds",Bh="Expiration",Uh="ExternalId",Fh="Key",As="Policy",Rs="PolicyArns",$h="ProviderArn",jh="ProvidedContexts",zh="ProviderId",Ns="PackedPolicySize",Hh="Provider",Ps="RoleArn",vs="RoleSessionName",qh="SecretAccessKey",Vh="SubjectFromWebIdentityToken",yr="SourceIdentity",Gh="SerialNumber",Wh="SessionToken",Kh="Tags",Jh="TokenCode",Yh="TransitiveTagKeys",FA="Version",Xh="Value",Qh="WebIdentityToken",Zh="arn",Pe="message",$A=e=>Object.entries(e).map(([t,r])=>(0,oe.extendedEncodeURIComponent)(t)+"="+(0,oe.extendedEncodeURIComponent)(r)).join("&"),IF=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var jA,zA,HA,Mn,gd=x(()=>{jA=I(Vr()),zA=I(Ar()),HA=I(de());sd();yi();ey();Mn=class extends HA.Command.classBuilder().ep(nd).m(function(t,r,n,s){return[(0,zA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,jA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Nh).ser(AA).de(NA).build(){}});var qA,VA,GA,Bn,Ed=x(()=>{qA=I(Vr()),VA=I(Ar()),GA=I(de());sd();yi();ey();Bn=class extends GA.Command.classBuilder().ep(nd).m(function(t,r,n,s){return[(0,VA.getSerdePlugin)(n,this.serialize,this.deserialize),(0,qA.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Ph,vh).ser(RA).de(PA).build(){}});var WA,AF,Sd,KA=x(()=>{WA=I(de());gd();Ed();ci();AF={AssumeRoleCommand:Mn,AssumeRoleWithWebIdentityCommand:Bn},Sd=class extends qt{};(0,WA.createAggregatedClient)(AF,Sd)});var JA=x(()=>{gd();Ed()});var YA=x(()=>{yi()});var XA,QA,ZA,eR,tR,rR,nR=x(()=>{Nt();gd();Ed();XA="us-east-1",QA=e=>{if(typeof(e==null?void 0:e.Arn)=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},ZA=async(e,t,r)=>{var o;let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return(o=r==null?void 0:r.debug)==null||o.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${XA} (STS default)`),n??s??XA},eR=(e,t)=>{let r,n;return async(s,o)=>{var p,f,y,h;if(n=s,!r){let{logger:E=(p=e==null?void 0:e.parentClientConfig)==null?void 0:p.logger,region:S,requestHandler:T=(f=e==null?void 0:e.parentClientConfig)==null?void 0:f.requestHandler,credentialProviderLogger:R}=e,v=await ZA(S,(y=e==null?void 0:e.parentClientConfig)==null?void 0:y.region,R),k=!rR(T);r=new t({profile:(h=e==null?void 0:e.parentClientConfig)==null?void 0:h.profile,credentialDefaultProvider:()=>async()=>n,region:v,requestHandler:k?T:void 0,logger:E})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new Mn(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let d=QA(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...d&&{accountId:d}};return Or(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},tR=(e,t)=>{let r;return async n=>{var d,l,p,f;if(!r){let{logger:y=(d=e==null?void 0:e.parentClientConfig)==null?void 0:d.logger,region:h,requestHandler:E=(l=e==null?void 0:e.parentClientConfig)==null?void 0:l.requestHandler,credentialProviderLogger:S}=e,T=await ZA(h,(p=e==null?void 0:e.parentClientConfig)==null?void 0:p.region,S),R=!rR(E);r=new t({profile:(f=e==null?void 0:e.parentClientConfig)==null?void 0:f.profile,region:T,requestHandler:R?E:void 0,logger:y})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new Bn(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=QA(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&Or(a,"RESOLVED_ACCOUNT_ID","T"),Or(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},rR=e=>{var t;return((t=e==null?void 0:e.metadata)==null?void 0:t.handlerProtocol)==="h2"}});var sR,oR,iR,RF,aR=x(()=>{nR();ci();sR=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,oR=(e={},t)=>eR(e,sR(qt,t)),iR=(e={},t)=>tR(e,sR(qt,t)),RF=e=>t=>e({roleAssumer:oR(t),roleAssumerWithWebIdentity:iR(t),...t})});var ty={};mt(ty,{AssumeRoleCommand:()=>Mn,AssumeRoleResponseFilterSensitiveLog:()=>Nh,AssumeRoleWithWebIdentityCommand:()=>Bn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Ph,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>vh,CredentialsFilterSensitiveLog:()=>Rh,ExpiredTokenException:()=>di,IDPCommunicationErrorException:()=>hi,IDPRejectedClaimException:()=>pi,InvalidIdentityTokenException:()=>fi,MalformedPolicyDocumentException:()=>li,PackedPolicyTooLargeException:()=>ui,RegionDisabledException:()=>mi,STS:()=>Sd,STSClient:()=>qt,STSServiceException:()=>lt,__Client:()=>Ih.Client,decorateDefaultCredentialProvider:()=>RF,getDefaultRoleAssumer:()=>oR,getDefaultRoleAssumerWithWebIdentity:()=>iR});var ry=x(()=>{ci();KA();JA();YA();aR();yd()});var oy=P(cR=>{"use strict";var sy=lr(),ny=nt(),NF=require("child_process"),PF=require("util"),vF=(Nt(),fe(kr)),DF=(e,t,r)=>{var o;if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let i=new Date;if(new Date(t.Expiration)<i)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&((o=r==null?void 0:r[e])!=null&&o.aws_account_id)&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return vF.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},OF=async(e,t,r)=>{var s,o;let n=t[e];if(t[e]){let i=n.credential_process;if(i!==void 0){let a=PF.promisify(((o=(s=sy.externalDataInterceptor)==null?void 0:s.getTokenRecord)==null?void 0:o.call(s).exec)??NF.exec);try{let{stdout:d}=await a(i),l;try{l=JSON.parse(d.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return DF(e,l,t)}catch(d){throw new ny.CredentialsProviderError(d.message,{logger:r})}}else throw new ny.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new ny.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},kF=(e={})=>async({callerClientConfig:t}={})=>{var n;(n=e.logger)==null||n.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await sy.parseKnownFiles(e);return OF(sy.getProfileName({profile:e.profile??(t==null?void 0:t.profile)}),r,e.logger)};cR.fromProcess=kF});var iy=P(Gt=>{"use strict";var LF=Gt&&Gt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),MF=Gt&&Gt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),BF=Gt&&Gt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&LF(r,t,n[s]);return MF(r,t),r}})();Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fromWebToken=void 0;var UF=e=>async t=>{var p;(p=e.logger)==null||p.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:d}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>BF((ry(),fe(ty))));l=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t==null?void 0:t.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:d})};Gt.fromWebToken=UF});var lR=P(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.fromTokenFile=void 0;var FF=(Nt(),fe(kr)),$F=nt(),jF=lr(),zF=require("fs"),HF=iy(),dR="AWS_WEB_IDENTITY_TOKEN_FILE",qF="AWS_ROLE_ARN",VF="AWS_ROLE_SESSION_NAME",GF=(e={})=>async()=>{var o,i,a;(o=e.logger)==null||o.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[dR],r=(e==null?void 0:e.roleArn)??process.env[qF],n=(e==null?void 0:e.roleSessionName)??process.env[VF];if(!t||!r)throw new $F.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,HF.fromWebToken)({...e,webIdentityToken:((a=(i=jF.externalDataInterceptor)==null?void 0:i.getTokenRecord)==null?void 0:a.call(i)[t])??(0,zF.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[dR]&&(0,FF.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};bd.fromTokenFile=GF});var ay=P(gi=>{"use strict";var uR=lR(),mR=iy();Object.keys(uR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(gi,e)&&Object.defineProperty(gi,e,{enumerable:!0,get:function(){return uR[e]}})});Object.keys(mR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(gi,e)&&Object.defineProperty(gi,e,{enumerable:!0,get:function(){return mR[e]}})})});var ER=P(gR=>{"use strict";var dy=lr(),Ei=nt(),on=(Nt(),fe(kr)),WF=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>I(Xf())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>I(Do()));return r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Ei.chain(o(s??{}),i(s))().then(cy)},Ec2InstanceMetadata:async s=>{r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>I(Do()));return async()=>o(s)().then(cy)},Environment:async s=>{r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>I(Hf()));return async()=>o(s)().then(cy)}};if(e in n)return n[e];throw new Ei.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},cy=e=>on.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),KF=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(JF(e,{profile:t,logger:r})||YF(e,{profile:t,logger:r})),JF=(e,{profile:t,logger:r})=>{var s;let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&((s=r==null?void 0:r.debug)==null||s.call(r,`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`)),n},YF=(e,{profile:t,logger:r})=>{var s;let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&((s=r==null?void 0:r.debug)==null||s.call(r,`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`)),n},XF=async(e,t,r,n={},s)=>{var l,p,f;(l=r.logger)==null||l.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=t[e],{source_profile:i,region:a}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:y}=await Promise.resolve().then(()=>(ry(),ty));r.roleAssumer=y({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r==null?void 0:r.parentClientConfig,region:a??((p=r==null?void 0:r.parentClientConfig)==null?void 0:p.region)}},r.clientPlugins)}if(i&&i in n)throw new Ei.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${dy.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(f=r.logger)==null||f.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let d=i?s(i,t,r,{...n,[i]:!0},pR(t[i]??{})):(await WF(o.credential_source,e,r.logger)(r))();if(pR(o))return d.then(y=>on.setCredentialFeature(y,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let y={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:h}=o;if(h){if(!r.mfaCodeProvider)throw new Ei.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});y.SerialNumber=h,y.TokenCode=await r.mfaCodeProvider(h)}let E=await d;return r.roleAssumer(E,y).then(S=>on.setCredentialFeature(S,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},pR=e=>!e.role_arn&&!!e.credential_source,QF=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",ZF=async(e,t)=>Promise.resolve().then(()=>I(oy())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>on.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),e$=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>I(wh()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?on.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):on.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},t$=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),fR=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,hR=async(e,t)=>{var n;(n=t==null?void 0:t.logger)==null||n.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return on.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},r$=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,n$=async(e,t)=>Promise.resolve().then(()=>I(ay())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>on.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),yR=async(e,t,r,n={},s=!1)=>{let o=t[e];if(Object.keys(n).length>0&&fR(o))return hR(o,r);if(s||KF(o,{profile:e,logger:r.logger}))return XF(e,t,r,n,yR);if(fR(o))return hR(o,r);if(r$(o))return n$(o,r);if(QF(o))return ZF(r,e);if(t$(o))return await e$(e,o,r);throw new Ei.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},s$=(e={})=>async({callerClientConfig:t}={})=>{var s;let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};(s=r.logger)==null||s.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await dy.parseKnownFiles(r);return yR(dy.getProfileName({profile:e.profile??(t==null?void 0:t.profile)}),n,r)};gR.fromIni=s$});var TR=P(_d=>{"use strict";var ly=Hf(),Un=nt(),o$=lr(),SR="AWS_EC2_METADATA_DISABLED",i$=async e=>{var o,i;let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>I(Do()));if(process.env[r]||process.env[t]){(o=e.logger)==null||o.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>I(Xf()));return Un.chain(a(e),n(e))}return process.env[SR]&&process.env[SR]!=="false"?async()=>{throw new Un.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:((i=e.logger)==null||i.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},bR=!1,a$=(e={})=>Un.memoize(Un.chain(async()=>{var r,n,s,o;if(e.profile??process.env[o$.ENV_PROFILE])throw process.env[ly.ENV_KEY]&&process.env[ly.ENV_SECRET]&&(bR||(((r=e.logger)!=null&&r.warn&&((s=(n=e.logger)==null?void 0:n.constructor)==null?void 0:s.name)!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),bR=!0)),new Un.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return(o=e.logger)==null||o.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),ly.fromEnv(e)()},async()=>{var a;(a=e.logger)==null||a.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!t&&!r&&!n&&!s&&!o)throw new Un.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>I(wh()));return i(e)()},async()=>{var r;(r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>I(ER()));return t(e)()},async()=>{var r;(r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>I(oy()));return t(e)()},async()=>{var r;(r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>I(ay()));return t(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await i$(e))()},async()=>{throw new Un.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),wR,_R),_R=e=>(e==null?void 0:e.expiration)!==void 0,wR=e=>(e==null?void 0:e.expiration)!==void 0&&e.expiration.getTime()-Date.now()<3e5;_d.credentialsTreatedAsExpired=wR;_d.credentialsWillNeedRefresh=_R;_d.defaultProvider=a$});var WR=P(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.ruleSet=void 0;var my="required",Q="type",ve="rules",Se="conditions",F="fn",$="argv",le="ref",wd="assign",Wt="url",Kt="properties",Jt="headers",c$=!1,De="error",Qe="stringEquals",xR="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",ut="endpoint",Le="tree",py="dynamodb",Si={[my]:!1,[Q]:"string"},CR={[my]:!0,default:!1,[Q]:"boolean"},IR={[F]:"isSet",[$]:[{[le]:"Endpoint"}]},d$={[le]:"Endpoint"},AR={[F]:"isSet",[$]:[{[le]:"Region"}]},VR={[le]:"Region"},RR={[F]:"aws.partition",[$]:[VR],[wd]:"PartitionResult"},NR={[Se]:[{[F]:"booleanEquals",[$]:[{[le]:"UseFIPS"},!0]}],[De]:"Invalid Configuration: FIPS and custom endpoint are not supported",[Q]:De},Ds={[F]:"booleanEquals",[$]:[{[le]:"UseFIPS"},!0]},PR={[Se]:[{[F]:"booleanEquals",[$]:[{[le]:"UseDualStack"},!0]}],[De]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Q]:De},GR={[F]:"booleanEquals",[$]:[{[le]:"UseDualStack"},!0]},vR={[ut]:{[Wt]:"{Endpoint}",[Kt]:{},[Jt]:{}},[Q]:ut},vt={},DR={[F]:"booleanEquals",[$]:[{[F]:"getAttr",[$]:[{[le]:"PartitionResult"},"supportsFIPS"]},!0]},OR={[F]:"booleanEquals",[$]:[{[F]:"getAttr",[$]:[{[le]:"PartitionResult"},"supportsDualStack"]},!0]},uy={[Se]:[{[F]:"isSet",[$]:[{[le]:"AccountIdEndpointMode"}]},{[F]:Qe,[$]:[{[le]:"AccountIdEndpointMode"},"required"]}],[ve]:[{[De]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Q]:De}],[Q]:Le},bi={[F]:"getAttr",[$]:[{[le]:"PartitionResult"},"name"]},kR={[ut]:{[Wt]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Kt]:{},[Jt]:{}},[Q]:ut},LR={[Wt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Kt]:{},[Jt]:{}},MR={[De]:"Credentials-sourced account ID parameter is invalid",[Q]:De},BR={[Se]:[{[F]:"isSet",[$]:[{[le]:"AccountIdEndpointMode"}]},{[F]:Qe,[$]:[{[le]:"AccountIdEndpointMode"},"required"]}],[ve]:[{[Se]:[{[F]:"not",[$]:[Ds]}],[ve]:[{[Se]:[{[F]:Qe,[$]:[bi,"aws"]}],[ve]:[{[De]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Q]:De}],[Q]:Le},{[De]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Q]:De}],[Q]:Le},{[De]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Q]:De}],[Q]:Le},UR={[Wt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Kt]:{},[Jt]:{}},FR=[Ds],$R=[GR],jR=[{[F]:"isSet",[$]:[{[le]:"AccountIdEndpointMode"}]},{[F]:"not",[$]:[{[F]:Qe,[$]:[{[le]:"AccountIdEndpointMode"},"disabled"]}]},{[F]:Qe,[$]:[bi,"aws"]},{[F]:"not",[$]:[Ds]},{[F]:"isSet",[$]:[{[le]:"ResourceArn"}]},{[F]:"aws.parseArn",[$]:[{[le]:"ResourceArn"}],[wd]:"ParsedArn"},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"service"]},py]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"region"]},!1]},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"region"]},"{Region}"]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"accountId"]},!1]}],zR=[{[F]:"isSet",[$]:[{[le]:"AccountIdEndpointMode"}]},{[F]:"not",[$]:[{[F]:Qe,[$]:[{[le]:"AccountIdEndpointMode"},"disabled"]}]},{[F]:Qe,[$]:[bi,"aws"]},{[F]:"not",[$]:[Ds]},{[F]:"isSet",[$]:[{[le]:"ResourceArnList"}]},{[F]:"getAttr",[$]:[{[le]:"ResourceArnList"},"[0]"],[wd]:"FirstArn"},{[F]:"aws.parseArn",[$]:[{[le]:"FirstArn"}],[wd]:"ParsedArn"},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"service"]},py]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"region"]},!1]},{[F]:Qe,[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"region"]},"{Region}"]},{[F]:"isValidHostLabel",[$]:[{[F]:"getAttr",[$]:[{[le]:"ParsedArn"},"accountId"]},!1]}],HR=[{[F]:"isSet",[$]:[{[le]:"AccountIdEndpointMode"}]},{[F]:"not",[$]:[{[F]:Qe,[$]:[{[le]:"AccountIdEndpointMode"},"disabled"]}]},{[F]:Qe,[$]:[bi,"aws"]},{[F]:"not",[$]:[Ds]},{[F]:"isSet",[$]:[{[le]:"AccountId"}]}],qR=[{[F]:"isValidHostLabel",[$]:[{[le]:"AccountId"},!1]}],l$={version:"1.0",parameters:{Region:Si,UseDualStack:CR,UseFIPS:CR,Endpoint:Si,AccountId:Si,AccountIdEndpointMode:Si,ResourceArn:Si,ResourceArnList:{[my]:c$,[Q]:"stringArray"}},[ve]:[{[Se]:[IR,AR,RR],[ve]:[NR,PR,{[Se]:[{[F]:Qe,[$]:[d$,xR]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[Q]:De},vR],[Q]:Le},{[Se]:[IR],[ve]:[NR,PR,vR],[Q]:Le},{[Se]:[AR],[ve]:[{[Se]:[RR],[ve]:[{[Se]:[{[F]:Qe,[$]:[VR,"local"]}],[ve]:[{[Se]:FR,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Q]:De},{[Se]:$R,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Q]:De},{endpoint:{[Wt]:"http://localhost:8000",[Kt]:{authSchemes:[{signingRegion:"us-east-1",name:"sigv4",signingName:py}]},[Jt]:vt},[Q]:ut}],[Q]:Le},{[Se]:[Ds,GR],[ve]:[{[Se]:[DR,OR],[ve]:[uy,{endpoint:{[Wt]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Kt]:vt,[Jt]:vt},[Q]:ut}],[Q]:Le},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Q]:De}],[Q]:Le},{[Se]:FR,[ve]:[{[Se]:[DR],[ve]:[{[Se]:[{[F]:Qe,[$]:[bi,"aws-us-gov"]}],[ve]:[uy,kR],[Q]:Le},uy,{endpoint:{[Wt]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Kt]:vt,[Jt]:vt},[Q]:ut}],[Q]:Le},{error:"FIPS is enabled but this partition does not support FIPS",[Q]:De}],[Q]:Le},{[Se]:$R,[ve]:[{[Se]:[OR],[ve]:[{[Se]:jR,endpoint:LR,[Q]:ut},{[Se]:zR,endpoint:LR,[Q]:ut},{[Se]:HR,[ve]:[{[Se]:qR,[ve]:[{endpoint:{[Wt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Kt]:vt,[Jt]:vt},[Q]:ut}],[Q]:Le},MR],[Q]:Le},BR,{endpoint:{[Wt]:xR,[Kt]:vt,[Jt]:vt},[Q]:ut}],[Q]:Le},{error:"DualStack is enabled but this partition does not support DualStack",[Q]:De}],[Q]:Le},{[Se]:jR,endpoint:UR,[Q]:ut},{[Se]:zR,endpoint:UR,[Q]:ut},{[Se]:HR,[ve]:[{[Se]:qR,[ve]:[{endpoint:{[Wt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Kt]:vt,[Jt]:vt},[Q]:ut}],[Q]:Le},MR],[Q]:Le},BR,kR],[Q]:Le}],[Q]:Le},{error:"Invalid Configuration: Missing Region",[Q]:De}]};Td.ruleSet=l$});var KR=P(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.defaultEndpointResolver=void 0;var u$=Qn(),fy=wn(),m$=WR(),p$=new fy.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),f$=(e,t={})=>p$.get(e,()=>(0,fy.resolveEndpoint)(m$.ruleSet,{endpointParams:e,logger:t.logger}));xd.defaultEndpointResolver=f$;fy.customEndpointFunctions.aws=u$.awsEndpointFunctions});var XR=P(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.getRuntimeConfig=void 0;var h$=(Fe(),fe($t)),y$=de(),g$=Dr(),JR=ze(),YR=je(),E$=zf(),S$=KR(),b$=e=>({apiVersion:"2012-08-10",base64Decoder:(e==null?void 0:e.base64Decoder)??JR.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??JR.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??S$.defaultEndpointResolver,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??E$.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new h$.AwsSdkSigV4Signer}],logger:(e==null?void 0:e.logger)??new y$.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"DynamoDB",urlParser:(e==null?void 0:e.urlParser)??g$.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??YR.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??YR.toUtf8});Cd.getRuntimeConfig=b$});var rN=P(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.getRuntimeConfig=void 0;var _$=(io(),fe(oo)),w$=_$.__importDefault(HT()),QR=(Fe(),fe($t)),T$=(gu(),fe(yu)),x$=TR(),C$=Ru(),ZR=ko(),Id=zt(),I$=Lo(),eN=mr(),Er=qr(),tN=pn(),A$=Mo(),R$=ms(),N$=XR(),P$=de(),v$=Uo(),D$=de(),O$=e=>{(0,D$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,v$.resolveDefaultsModeConfig)(e),r=()=>t().then(P$.loadConfigsForDefaultMode),n=(0,N$.getRuntimeConfig)(e);(0,QR.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:(e==null?void 0:e.accountIdEndpointMode)??(0,Er.loadConfig)(T$.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,s),authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Er.loadConfig)(QR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??A$.calculateBodyLength,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??x$.defaultProvider,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,ZR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:w$.default.version}),endpointDiscoveryEnabledProvider:(e==null?void 0:e.endpointDiscoveryEnabledProvider)??(0,Er.loadConfig)(C$.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,s),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Er.loadConfig)(eN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Er.loadConfig)(Id.NODE_REGION_CONFIG_OPTIONS,{...Id.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:tN.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Er.loadConfig)({...eN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||R$.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??I$.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??tN.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Er.loadConfig)(Id.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Er.loadConfig)(Id.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Er.loadConfig)(ZR.NODE_APP_ID_CONFIG_OPTIONS,s)}};Ad.getRuntimeConfig=O$});var iN=P(ot=>{"use strict";var Rd=()=>{let e=new WeakSet;return(t,r)=>{if(typeof r=="object"&&r!==null){if(e.has(r))return"[Circular]";e.add(r)}return r}},k$=e=>new Promise(t=>setTimeout(t,e*1e3)),oN={minDelay:2,maxDelay:120};ot.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(ot.WaiterState||(ot.WaiterState={}));var L$=e=>{if(e.state===ot.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},Rd())}`);throw t.name="AbortError",t}else if(e.state===ot.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},Rd())}`);throw t.name="TimeoutError",t}else if(e.state!==ot.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,Rd())}`);return e},M$=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return B$(e,s)},B$=(e,t)=>e+Math.random()*(t-e),U$=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:o},i,a)=>{var E;let d={},{state:l,reason:p}=await a(s,i);if(p){let S=nN(p);d[S]|=0,d[S]+=1}if(l!==ot.WaiterState.RETRY)return{state:l,reason:p,observedResponses:d};let f=1,y=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if((E=n==null?void 0:n.signal)!=null&&E.aborted||o!=null&&o.aborted){let v="AbortController signal aborted.";return d[v]|=0,d[v]+=1,{state:ot.WaiterState.ABORTED,observedResponses:d}}let S=M$(e,t,h,f);if(Date.now()+S*1e3>y)return{state:ot.WaiterState.TIMEOUT,observedResponses:d};await k$(S);let{state:T,reason:R}=await a(s,i);if(R){let v=nN(R);d[v]|=0,d[v]+=1}if(T!==ot.WaiterState.RETRY)return{state:T,reason:R,observedResponses:d};f+=1}},nN=e=>{var t;return e!=null&&e.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:(t=e==null?void 0:e.$metadata)!=null&&t.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String((e==null?void 0:e.message)??JSON.stringify(e,Rd())??"Unknown")},F$=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},sN=e=>{let t,r=new Promise(n=>{t=()=>n({state:ot.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},$$=async(e,t,r)=>{var i;let n={...oN,...e};F$(n);let s=[U$(n,t,r)],o=[];if(e.abortSignal){let{aborted:a,clearListener:d}=sN(e.abortSignal);o.push(d),s.push(a)}if((i=e.abortController)!=null&&i.signal){let{aborted:a,clearListener:d}=sN(e.abortController.signal);o.push(d),s.push(a)}return Promise.race(s).then(a=>{for(let d of o)d();return a})};ot.checkExceptions=L$;ot.createWaiter=$$;ot.waiterServiceDefaults=oN});var DN=P(C=>{"use strict";var j$=(gu(),fe(yu)),z$=Ru(),aN=Hs(),H$=qs(),q$=Vs(),cN=ds(),V$=zt(),Sr=(ct(),fe(Yn)),G$=Io(),j=Vr(),dN=mr(),c=de(),lN=zf(),z=Ar(),U=(Fe(),fe($t)),hy=be(),iu=Ea(),W$=rN(),uN=Fo(),Dt=iN(),K$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),H={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},ie=class e extends c.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},J$={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Y$={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},X$={B:"B",N:"N",S:"S"},Q$={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Z$={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},ej={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},tj={HASH:"HASH",RANGE:"RANGE"},rj={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},nj={AES256:"AES256",KMS:"KMS"},sj={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},oj={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},ij={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Nd=class e extends ie{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Pd=class e extends ie{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},aj={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},cj={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},dj={ALL_OLD:"ALL_OLD",NONE:"NONE"},lj={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},vd=class e extends ie{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},Dd=class e extends ie{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},Od=class e extends ie{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},kd=class e extends ie{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Ld=class e extends ie{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},Md=class e extends ie{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},uj={NONE:"NONE",SIZE:"SIZE"},Bd=class e extends ie{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ud=class e extends ie{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mj={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},pj={AND:"AND",OR:"OR"},fj={DISABLED:"DISABLED",ENABLED:"ENABLED"},hj={DISABLED:"DISABLED",ENABLED:"ENABLED"},Fd=class e extends ie{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yj={DISABLE:"DISABLE",ENABLE:"ENABLE"},gj={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Ej={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},$d=class e extends ie{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},jd=class e extends ie{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zd=class e extends ie{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Sj={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},bj={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},_j={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},wj={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},Tj={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Hd=class e extends ie{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},xj={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},Cj={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},qd=class e extends ie{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ij={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},Vd=class e extends ie{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gd=class e extends ie{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Aj={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Rj={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Nj={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Pj={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},vj={AES256:"AES256",KMS:"KMS"},Wd=class e extends ie{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Kd=class e extends ie{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Dj={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Oj={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},kj={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Jd=class e extends ie{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Lj={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Yd=class e extends ie{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xd=class e extends ie{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Qd=class e extends ie{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},Zd=class e extends ie{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},el=class e extends ie{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tl=class e extends ie{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rl=class e extends ie{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Mj={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},nl=class e extends ie{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sl=class e extends ie{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ol=class e extends ie{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},il=class e extends ie{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},al=class e extends ie{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};C.AttributeValue=void 0;(function(e){e.visit=(t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1])})(C.AttributeValue||(C.AttributeValue={}));var cl=class e extends ie{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},dl=class e extends ie{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},Bj=async(e,t)=>{let r=G("BatchExecuteStatement"),n;return n=JSON.stringify(RH(e,t)),V(t,r,"/",void 0,n)},Uj=async(e,t)=>{let r=G("BatchGetItem"),n;return n=JSON.stringify(NH(e,t)),V(t,r,"/",void 0,n)},Fj=async(e,t)=>{let r=G("BatchWriteItem"),n;return n=JSON.stringify(DH(e,t)),V(t,r,"/",void 0,n)},$j=async(e,t)=>{let r=G("CreateBackup"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},jj=async(e,t)=>{let r=G("CreateGlobalTable"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},zj=async(e,t)=>{let r=G("CreateTable"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Hj=async(e,t)=>{let r=G("DeleteBackup"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},qj=async(e,t)=>{let r=G("DeleteItem"),n;return n=JSON.stringify(BH(e,t)),V(t,r,"/",void 0,n)},Vj=async(e,t)=>{let r=G("DeleteResourcePolicy"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Gj=async(e,t)=>{let r=G("DeleteTable"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Wj=async(e,t)=>{let r=G("DescribeBackup"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Kj=async(e,t)=>{let r=G("DescribeContinuousBackups"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Jj=async(e,t)=>{let r=G("DescribeContributorInsights"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Yj=async(e,t)=>{let r=G("DescribeEndpoints"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Xj=async(e,t)=>{let r=G("DescribeExport"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Qj=async(e,t)=>{let r=G("DescribeGlobalTable"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Zj=async(e,t)=>{let r=G("DescribeGlobalTableSettings"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},ez=async(e,t)=>{let r=G("DescribeImport"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},tz=async(e,t)=>{let r=G("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},rz=async(e,t)=>{let r=G("DescribeLimits"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},nz=async(e,t)=>{let r=G("DescribeTable"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},sz=async(e,t)=>{let r=G("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},oz=async(e,t)=>{let r=G("DescribeTimeToLive"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},iz=async(e,t)=>{let r=G("DisableKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},az=async(e,t)=>{let r=G("EnableKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},cz=async(e,t)=>{let r=G("ExecuteStatement"),n;return n=JSON.stringify(FH(e,t)),V(t,r,"/",void 0,n)},dz=async(e,t)=>{let r=G("ExecuteTransaction"),n;return n=JSON.stringify($H(e,t)),V(t,r,"/",void 0,n)},lz=async(e,t)=>{let r=G("ExportTableToPointInTime"),n;return n=JSON.stringify(zH(e)),V(t,r,"/",void 0,n)},uz=async(e,t)=>{let r=G("GetItem"),n;return n=JSON.stringify(qH(e,t)),V(t,r,"/",void 0,n)},mz=async(e,t)=>{let r=G("GetResourcePolicy"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},pz=async(e,t)=>{let r=G("ImportTable"),n;return n=JSON.stringify(JH(e)),V(t,r,"/",void 0,n)},fz=async(e,t)=>{let r=G("ListBackups"),n;return n=JSON.stringify(tq(e)),V(t,r,"/",void 0,n)},hz=async(e,t)=>{let r=G("ListContributorInsights"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},yz=async(e,t)=>{let r=G("ListExports"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},gz=async(e,t)=>{let r=G("ListGlobalTables"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Ez=async(e,t)=>{let r=G("ListImports"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Sz=async(e,t)=>{let r=G("ListTables"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},bz=async(e,t)=>{let r=G("ListTagsOfResource"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},_z=async(e,t)=>{let r=G("PutItem"),n;return n=JSON.stringify(aq(e,t)),V(t,r,"/",void 0,n)},wz=async(e,t)=>{let r=G("PutResourcePolicy"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Tz=async(e,t)=>{let r=G("Query"),n;return n=JSON.stringify(dq(e,t)),V(t,r,"/",void 0,n)},xz=async(e,t)=>{let r=G("RestoreTableFromBackup"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Cz=async(e,t)=>{let r=G("RestoreTableToPointInTime"),n;return n=JSON.stringify(Eq(e)),V(t,r,"/",void 0,n)},Iz=async(e,t)=>{let r=G("Scan"),n;return n=JSON.stringify(Sq(e,t)),V(t,r,"/",void 0,n)},Az=async(e,t)=>{let r=G("TagResource"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Rz=async(e,t)=>{let r=G("TransactGetItems"),n;return n=JSON.stringify(wq(e,t)),V(t,r,"/",void 0,n)},Nz=async(e,t)=>{let r=G("TransactWriteItems"),n;return n=JSON.stringify(Cq(e,t)),V(t,r,"/",void 0,n)},Pz=async(e,t)=>{let r=G("UntagResource"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},vz=async(e,t)=>{let r=G("UpdateContinuousBackups"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Dz=async(e,t)=>{let r=G("UpdateContributorInsights"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Oz=async(e,t)=>{let r=G("UpdateGlobalTable"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},kz=async(e,t)=>{let r=G("UpdateGlobalTableSettings"),n;return n=JSON.stringify(Aq(e)),V(t,r,"/",void 0,n)},Lz=async(e,t)=>{let r=G("UpdateItem"),n;return n=JSON.stringify(Rq(e,t)),V(t,r,"/",void 0,n)},Mz=async(e,t)=>{let r=G("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Bz=async(e,t)=>{let r=G("UpdateTable"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},Uz=async(e,t)=>{let r=G("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(Nq(e)),V(t,r,"/",void 0,n)},Fz=async(e,t)=>{let r=G("UpdateTimeToLive"),n;return n=JSON.stringify(c._json(e)),V(t,r,"/",void 0,n)},$z=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=Uq(r,t),{$metadata:O(e),...n}},jz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=Fq(r,t),{$metadata:O(e),...n}},zz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=qq(r,t),{$metadata:O(e),...n}},Hz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=Yq(r),{$metadata:O(e),...n}},qz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=Xq(r),{$metadata:O(e),...n}},Vz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=Qq(r),{$metadata:O(e),...n}},Gz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=Zq(r),{$metadata:O(e),...n}},Wz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=eV(r,t),{$metadata:O(e),...n}},Kz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},Jz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=rV(r),{$metadata:O(e),...n}},Yz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=nV(r),{$metadata:O(e),...n}},Xz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=sV(r),{$metadata:O(e),...n}},Qz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=oV(r),{$metadata:O(e),...n}},Zz=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},e2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=iV(r),{$metadata:O(e),...n}},t2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=aV(r),{$metadata:O(e),...n}},r2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=cV(r),{$metadata:O(e),...n}},n2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=dV(r),{$metadata:O(e),...n}},s2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},o2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},i2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=lV(r),{$metadata:O(e),...n}},a2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=uV(r),{$metadata:O(e),...n}},c2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},d2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},l2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},u2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=mV(r,t),{$metadata:O(e),...n}},m2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=pV(r,t),{$metadata:O(e),...n}},p2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=fV(r),{$metadata:O(e),...n}},f2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=hV(r,t),{$metadata:O(e),...n}},h2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},y2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=bV(r),{$metadata:O(e),...n}},g2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=NV(r),{$metadata:O(e),...n}},E2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},S2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},b2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},_2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=PV(r),{$metadata:O(e),...n}},w2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},T2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},x2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=LV(r,t),{$metadata:O(e),...n}},C2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},I2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=BV(r,t),{$metadata:O(e),...n}},A2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=WV(r),{$metadata:O(e),...n}},R2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=KV(r),{$metadata:O(e),...n}},N2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=JV(r,t),{$metadata:O(e),...n}},P2=async(e,t)=>e.statusCode>=300?q(e,t):(await c.collectBody(e.body,t),{$metadata:O(e)}),v2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=QV(r,t),{$metadata:O(e),...n}},D2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=eG(r,t),{$metadata:O(e),...n}},O2=async(e,t)=>e.statusCode>=300?q(e,t):(await c.collectBody(e.body,t),{$metadata:O(e)}),k2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=tG(r),{$metadata:O(e),...n}},L2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},M2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=rG(r),{$metadata:O(e),...n}},B2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=nG(r),{$metadata:O(e),...n}},U2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=sG(r,t),{$metadata:O(e),...n}},F2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},$2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=oG(r),{$metadata:O(e),...n}},j2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=iG(r),{$metadata:O(e),...n}},z2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await U.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:O(e),...n}},q=async(e,t)=>{let r={...e,body:await U.parseJsonErrorBody(e.body,t)},n=U.loadRestJsonErrorCode(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await rH(r);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await fH(r);case"ThrottlingException":case"com.amazonaws.dynamodb#ThrottlingException":throw await bH(r);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await nH(r);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await lH(r);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await yH(r);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await iH(r);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await pH(r);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await H2(r);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await G2(r);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await aH(r);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await EH(r);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await SH(r);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await Y2(r);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await hH(r);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await q2(r);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await V2(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await wH(r);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await dH(r);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await J2(r);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await X2(r);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await eH(r);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await W2(r);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await Q2(r);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await _H(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await TH(r);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await K2(r);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await sH(r);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await cH(r);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await Z2(r);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await gH(r);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await oH(r);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await uH(r);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await mH(r);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await tH(r);default:let s=r.body;return dG({output:e,parsedBody:s,errorCode:n})}},H2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Nd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},q2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Pd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},V2=async(e,t)=>{let r=e.body,n=Jq(r,t),s=new cl({$metadata:O(e),...n});return c.decorateServiceException(s,r)},G2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Fd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},W2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Yd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},K2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Zd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},J2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Wd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},Y2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Hd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},X2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Kd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},Q2=async(e,t)=>{let r=e.body,n=c._json(r),s=new Xd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},Z2=async(e,t)=>{let r=e.body,n=c._json(r),s=new rl({$metadata:O(e),...n});return c.decorateServiceException(s,r)},eH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Jd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},tH=async(e,t)=>{let r=e.body,n=c._json(r),s=new al({$metadata:O(e),...n});return c.decorateServiceException(s,r)},rH=async(e,t)=>{let r=e.body,n=c._json(r),s=new vd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},nH=async(e,t)=>{let r=e.body,n=c._json(r),s=new kd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},sH=async(e,t)=>{let r=e.body,n=c._json(r),s=new el({$metadata:O(e),...n});return c.decorateServiceException(s,r)},oH=async(e,t)=>{let r=e.body,n=c._json(r),s=new sl({$metadata:O(e),...n});return c.decorateServiceException(s,r)},iH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Bd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},aH=async(e,t)=>{let r=e.body,n=c._json(r),s=new $d({$metadata:O(e),...n});return c.decorateServiceException(s,r)},cH=async(e,t)=>{let r=e.body,n=c._json(r),s=new tl({$metadata:O(e),...n});return c.decorateServiceException(s,r)},dH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Gd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},lH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Ld({$metadata:O(e),...n});return c.decorateServiceException(s,r)},uH=async(e,t)=>{let r=e.body,n=c._json(r),s=new ol({$metadata:O(e),...n});return c.decorateServiceException(s,r)},mH=async(e,t)=>{let r=e.body,n=c._json(r),s=new il({$metadata:O(e),...n});return c.decorateServiceException(s,r)},pH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Ud({$metadata:O(e),...n});return c.decorateServiceException(s,r)},fH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Dd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},hH=async(e,t)=>{let r=e.body,n=c._json(r),s=new qd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},yH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Md({$metadata:O(e),...n});return c.decorateServiceException(s,r)},gH=async(e,t)=>{let r=e.body,n=c._json(r),s=new nl({$metadata:O(e),...n});return c.decorateServiceException(s,r)},EH=async(e,t)=>{let r=e.body,n=c._json(r),s=new jd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},SH=async(e,t)=>{let r=e.body,n=c._json(r),s=new zd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},bH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Od({$metadata:O(e),...n});return c.decorateServiceException(s,r)},_H=async(e,t)=>{let r=e.body,n=ZV(r,t),s=new dl({$metadata:O(e),...n});return c.decorateServiceException(s,r)},wH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Vd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},TH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Qd({$metadata:O(e),...n});return c.decorateServiceException(s,r)},xH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=CH(s,t)),r),{}),br=(e,t)=>C.AttributeValue.visit(e,{B:r=>({B:t.base64Encoder(r)}),BOOL:r=>({BOOL:r}),BS:r=>({BS:kH(r,t)}),L:r=>({L:eq(r,t)}),M:r=>({M:rq(r,t)}),N:r=>({N:r}),NS:r=>({NS:c._json(r)}),NULL:r=>({NULL:r}),S:r=>({S:r}),SS:r=>({SS:c._json(r)}),_:(r,n)=>({[r]:n})}),pN=(e,t)=>e.filter(r=>r!=null).map(r=>br(r,t)),CH=(e,t)=>c.take(e,{Action:[],Value:r=>br(r,t)}),IH=(e,t)=>c.take(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:r=>AH(r)}),cn=(e,t)=>c.take(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:r=>IH(r)}),AH=(e,t)=>c.take(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:c.serializeFloat}),RH=(e,t)=>c.take(e,{ReturnConsumedCapacity:[],Statements:r=>oq(r,t)}),NH=(e,t)=>c.take(e,{RequestItems:r=>PH(r,t),ReturnConsumedCapacity:[]}),PH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=ZH(s,t)),r),{}),vH=(e,t)=>c.take(e,{ConsistentRead:[],Parameters:r=>gy(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),DH=(e,t)=>c.take(e,{RequestItems:r=>OH(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),OH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=vq(s,t)),r),{}),kH=(e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),fN=(e,t)=>c.take(e,{AttributeValueList:r=>pN(r,t),ComparisonOperator:[]}),LH=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),MH=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),BH=(e,t)=>c.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>yy(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),UH=(e,t)=>c.take(e,{Key:r=>Ot(r,t)}),FH=(e,t)=>c.take(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:r=>gy(r,t),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),$H=(e,t)=>c.take(e,{ClientRequestToken:[!0,r=>r??iu.v4()],ReturnConsumedCapacity:[],TransactStatements:r=>sq(r,t)}),yy=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=jH(s,t)),r),{}),jH=(e,t)=>c.take(e,{AttributeValueList:r=>pN(r,t),ComparisonOperator:[],Exists:[],Value:r=>br(r,t)}),zH=(e,t)=>c.take(e,{ClientToken:[!0,r=>r??iu.v4()],ExportFormat:[],ExportTime:r=>r.getTime()/1e3,ExportType:[],IncrementalExportSpecification:r=>YH(r),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),_r=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),hN=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=fN(s,t)),r),{}),HH=(e,t)=>c.take(e,{ExpressionAttributeNames:c._json,Key:r=>Ot(r,t),ProjectionExpression:[],TableName:[]}),qH=(e,t)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:[],ExpressionAttributeNames:c._json,Key:r=>Ot(r,t),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),VH=(e,t)=>c.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:r=>cn(r)}),GH=(e,t)=>e.filter(r=>r!=null).map(r=>VH(r)),WH=(e,t)=>c.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>cn(r),ProvisionedWriteCapacityUnits:[]}),KH=(e,t)=>e.filter(r=>r!=null).map(r=>WH(r)),JH=(e,t)=>c.take(e,{ClientToken:[!0,r=>r??iu.v4()],InputCompressionType:[],InputFormat:[],InputFormatOptions:c._json,S3BucketSource:c._json,TableCreationParameters:c._json}),YH=(e,t)=>c.take(e,{ExportFromTime:r=>r.getTime()/1e3,ExportToTime:r=>r.getTime()/1e3,ExportViewType:[]}),Ot=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),XH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=fN(s,t)),r),{}),QH=(e,t)=>e.filter(r=>r!=null).map(r=>Ot(r,t)),ZH=(e,t)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:[],ExpressionAttributeNames:c._json,Keys:r=>QH(r,t),ProjectionExpression:[]}),eq=(e,t)=>e.filter(r=>r!=null).map(r=>br(r,t)),tq=(e,t)=>c.take(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:r=>r.getTime()/1e3,TimeRangeUpperBound:r=>r.getTime()/1e3}),rq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),nq=(e,t)=>c.take(e,{Parameters:r=>gy(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),sq=(e,t)=>e.filter(r=>r!=null).map(r=>nq(r,t)),oq=(e,t)=>e.filter(r=>r!=null).map(r=>vH(r,t)),gy=(e,t)=>e.filter(r=>r!=null).map(r=>br(r,t)),iq=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),Item:r=>Ey(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),aq=(e,t)=>c.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>yy(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),Item:r=>Ey(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),Ey=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=br(s,t)),r),{}),cq=(e,t)=>c.take(e,{Item:r=>Ey(r,t)}),dq=(e,t)=>c.take(e,{AttributesToGet:c._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Ot(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:r=>XH(r,t),Limit:[],ProjectionExpression:[],QueryFilter:r=>hN(r,t),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),lq=(e,t)=>c.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:r=>pq(r),ReplicaProvisionedReadCapacityAutoScalingUpdate:r=>cn(r)}),uq=(e,t)=>e.filter(r=>r!=null).map(r=>lq(r)),mq=(e,t)=>c.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:r=>cn(r)}),pq=(e,t)=>e.filter(r=>r!=null).map(r=>mq(r)),fq=(e,t)=>c.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:r=>cn(r),ProvisionedReadCapacityUnits:[]}),hq=(e,t)=>e.filter(r=>r!=null).map(r=>fq(r)),yq=(e,t)=>c.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:r=>hq(r),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:r=>cn(r),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),gq=(e,t)=>e.filter(r=>r!=null).map(r=>yq(r)),Eq=(e,t)=>c.take(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:c._json,LocalSecondaryIndexOverride:c._json,OnDemandThroughputOverride:c._json,ProvisionedThroughputOverride:c._json,RestoreDateTime:r=>r.getTime()/1e3,SSESpecificationOverride:c._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),Sq=(e,t)=>c.take(e,{AttributesToGet:c._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Ot(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:r=>hN(r,t),Segment:[],Select:[],TableName:[],TotalSegments:[]}),bq=(e,t)=>c.take(e,{Get:r=>HH(r,t)}),_q=(e,t)=>e.filter(r=>r!=null).map(r=>bq(r,t)),wq=(e,t)=>c.take(e,{ReturnConsumedCapacity:[],TransactItems:r=>_q(r,t)}),Tq=(e,t)=>c.take(e,{ConditionCheck:r=>LH(r,t),Delete:r=>MH(r,t),Put:r=>iq(r,t),Update:r=>Iq(r,t)}),xq=(e,t)=>e.filter(r=>r!=null).map(r=>Tq(r,t)),Cq=(e,t)=>c.take(e,{ClientRequestToken:[!0,r=>r??iu.v4()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:r=>xq(r,t)}),Iq=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),Aq=(e,t)=>c.take(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:r=>KH(r),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>cn(r),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:r=>gq(r)}),Rq=(e,t)=>c.take(e,{AttributeUpdates:r=>xH(r,t),ConditionExpression:[],ConditionalOperator:[],Expected:r=>yy(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>_r(r,t),Key:r=>Ot(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),Nq=(e,t)=>c.take(e,{GlobalSecondaryIndexUpdates:r=>GH(r),ProvisionedWriteCapacityAutoScalingUpdate:r=>cn(r),ReplicaUpdates:r=>uq(r),TableName:[]}),Pq=(e,t)=>c.take(e,{DeleteRequest:r=>UH(r,t),PutRequest:r=>cq(r,t)}),vq=(e,t)=>e.filter(r=>r!=null).map(r=>Pq(r,t)),Dq=(e,t)=>c.take(e,{ArchivalBackupArn:c.expectString,ArchivalDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ArchivalReason:c.expectString}),Xt=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=ks(U.awsExpectUnion(s),t)),r),{}),ks=(e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:c.expectBoolean(e.BOOL)!==void 0?{BOOL:c.expectBoolean(e.BOOL)}:e.BS!=null?{BS:Gq(e.BS,t)}:e.L!=null?{L:RV(e.L,t)}:e.M!=null?{M:vV(e.M,t)}:c.expectString(e.N)!==void 0?{N:c.expectString(e.N)}:e.NS!=null?{NS:c._json(e.NS)}:c.expectBoolean(e.NULL)!==void 0?{NULL:c.expectBoolean(e.NULL)}:c.expectString(e.S)!==void 0?{S:c.expectString(e.S)}:e.SS!=null?{SS:c._json(e.SS)}:{$unknown:Object.entries(e)[0]},Oq=(e,t)=>c.take(e,{PolicyName:c.expectString,TargetTrackingScalingPolicyConfiguration:r=>Lq(r)}),kq=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Oq(n)),an=(e,t)=>c.take(e,{AutoScalingDisabled:c.expectBoolean,AutoScalingRoleArn:c.expectString,MaximumUnits:c.expectLong,MinimumUnits:c.expectLong,ScalingPolicies:r=>kq(r)}),Lq=(e,t)=>c.take(e,{DisableScaleIn:c.expectBoolean,ScaleInCooldown:c.expectInt32,ScaleOutCooldown:c.expectInt32,TargetValue:c.limitedParseDouble}),yN=(e,t)=>c.take(e,{BackupDetails:r=>gN(r),SourceTableDetails:r=>YV(r),SourceTableFeatureDetails:r=>XV(r)}),gN=(e,t)=>c.take(e,{BackupArn:c.expectString,BackupCreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupExpiryDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupName:c.expectString,BackupSizeBytes:c.expectLong,BackupStatus:c.expectString,BackupType:c.expectString}),Mq=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Bq(n)),Bq=(e,t)=>c.take(e,{BackupArn:c.expectString,BackupCreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupExpiryDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupName:c.expectString,BackupSizeBytes:c.expectLong,BackupStatus:c.expectString,BackupType:c.expectString,TableArn:c.expectString,TableId:c.expectString,TableName:c.expectString}),Uq=(e,t)=>c.take(e,{ConsumedCapacity:r=>Ls(r),Responses:r=>DV(r,t)}),Fq=(e,t)=>c.take(e,{ConsumedCapacity:r=>Ls(r),Responses:r=>jq(r,t),UnprocessedKeys:r=>$q(r,t)}),$q=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=AV(s,t)),r),{}),jq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=cu(s,t)),r),{}),zq=(e,t)=>c.take(e,{Code:c.expectString,Item:r=>Xt(r,t),Message:c.expectString}),Hq=(e,t)=>c.take(e,{Error:r=>zq(r,t),Item:r=>Xt(r,t),TableName:c.expectString}),qq=(e,t)=>c.take(e,{ConsumedCapacity:r=>Ls(r),ItemCollectionMetrics:r=>TN(r,t),UnprocessedItems:r=>Vq(r,t)}),Vq=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=cG(s,t)),r),{}),EN=(e,t)=>c.take(e,{BillingMode:c.expectString,LastUpdateToPayPerRequestDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),Gq=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),Wq=(e,t)=>c.take(e,{Code:c.expectString,Item:r=>Xt(r,t),Message:c.expectString}),Kq=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Wq(n,t)),SN=(e,t)=>c.take(e,{CapacityUnits:c.limitedParseDouble,ReadCapacityUnits:c.limitedParseDouble,WriteCapacityUnits:c.limitedParseDouble}),Jq=(e,t)=>c.take(e,{Item:r=>Xt(r,t),message:c.expectString}),dn=(e,t)=>c.take(e,{CapacityUnits:c.limitedParseDouble,GlobalSecondaryIndexes:r=>mN(r),LocalSecondaryIndexes:r=>mN(r),ReadCapacityUnits:c.limitedParseDouble,Table:r=>SN(r),TableName:c.expectString,WriteCapacityUnits:c.limitedParseDouble}),Ls=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>dn(n)),bN=(e,t)=>c.take(e,{ContinuousBackupsStatus:c.expectString,PointInTimeRecoveryDescription:r=>OV(r)}),Yq=(e,t)=>c.take(e,{BackupDetails:r=>gN(r)}),Xq=(e,t)=>c.take(e,{GlobalTableDescription:r=>Sy(r)}),Qq=(e,t)=>c.take(e,{TableDescription:r=>Ms(r)}),Zq=(e,t)=>c.take(e,{BackupDescription:r=>yN(r)}),eV=(e,t)=>c.take(e,{Attributes:r=>Xt(r,t),ConsumedCapacity:r=>dn(r),ItemCollectionMetrics:r=>au(r,t)}),tV=(e,t)=>c.take(e,{Key:r=>Ri(r,t)}),rV=(e,t)=>c.take(e,{TableDescription:r=>Ms(r)}),nV=(e,t)=>c.take(e,{BackupDescription:r=>yN(r)}),sV=(e,t)=>c.take(e,{ContinuousBackupsDescription:r=>bN(r)}),oV=(e,t)=>c.take(e,{ContributorInsightsMode:c.expectString,ContributorInsightsRuleList:c._json,ContributorInsightsStatus:c.expectString,FailureException:c._json,IndexName:c.expectString,LastUpdateDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableName:c.expectString}),iV=(e,t)=>c.take(e,{ExportDescription:r=>_N(r)}),aV=(e,t)=>c.take(e,{GlobalTableDescription:r=>Sy(r)}),cV=(e,t)=>c.take(e,{GlobalTableName:c.expectString,ReplicaSettings:r=>AN(r)}),dV=(e,t)=>c.take(e,{ImportTableDescription:r=>wN(r)}),lV=(e,t)=>c.take(e,{Table:r=>Ms(r)}),uV=(e,t)=>c.take(e,{TableAutoScalingDescription:r=>NN(r)}),mV=(e,t)=>c.take(e,{ConsumedCapacity:r=>dn(r),Items:r=>cu(r,t),LastEvaluatedKey:r=>Ri(r,t),NextToken:c.expectString}),pV=(e,t)=>c.take(e,{ConsumedCapacity:r=>Ls(r),Responses:r=>xN(r,t)}),_N=(e,t)=>c.take(e,{BilledSizeBytes:c.expectLong,ClientToken:c.expectString,EndTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportArn:c.expectString,ExportFormat:c.expectString,ExportManifest:c.expectString,ExportStatus:c.expectString,ExportTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportType:c.expectString,FailureCode:c.expectString,FailureMessage:c.expectString,IncrementalExportSpecification:r=>_V(r),ItemCount:c.expectLong,S3Bucket:c.expectString,S3BucketOwner:c.expectString,S3Prefix:c.expectString,S3SseAlgorithm:c.expectString,S3SseKmsKeyId:c.expectString,StartTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableArn:c.expectString,TableId:c.expectString}),fV=(e,t)=>c.take(e,{ExportDescription:r=>_N(r)}),hV=(e,t)=>c.take(e,{ConsumedCapacity:r=>dn(r),Item:r=>Xt(r,t)}),yV=(e,t)=>c.take(e,{Backfilling:c.expectBoolean,IndexArn:c.expectString,IndexName:c.expectString,IndexSizeBytes:c.expectLong,IndexStatus:c.expectString,ItemCount:c.expectLong,KeySchema:c._json,OnDemandThroughput:c._json,Projection:c._json,ProvisionedThroughput:r=>CN(r),WarmThroughput:c._json}),gV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>yV(n)),Sy=(e,t)=>c.take(e,{CreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),GlobalTableArn:c.expectString,GlobalTableName:c.expectString,GlobalTableStatus:c.expectString,ReplicationGroup:r=>IN(r)}),EV=(e,t)=>c.take(e,{CloudWatchLogGroupArn:c.expectString,EndTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ImportArn:c.expectString,ImportStatus:c.expectString,InputFormat:c.expectString,S3BucketSource:c._json,StartTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableArn:c.expectString}),SV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>EV(n)),wN=(e,t)=>c.take(e,{ClientToken:c.expectString,CloudWatchLogGroupArn:c.expectString,EndTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ErrorCount:c.expectLong,FailureCode:c.expectString,FailureMessage:c.expectString,ImportArn:c.expectString,ImportStatus:c.expectString,ImportedItemCount:c.expectLong,InputCompressionType:c.expectString,InputFormat:c.expectString,InputFormatOptions:c._json,ProcessedItemCount:c.expectLong,ProcessedSizeBytes:c.expectLong,S3BucketSource:c._json,StartTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableArn:c.expectString,TableCreationParameters:c._json,TableId:c.expectString}),bV=(e,t)=>c.take(e,{ImportTableDescription:r=>wN(r)}),_V=(e,t)=>c.take(e,{ExportFromTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportToTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportViewType:c.expectString}),wV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=ks(U.awsExpectUnion(s),t)),r),{}),au=(e,t)=>c.take(e,{ItemCollectionKey:r=>wV(r,t),SizeEstimateRangeGB:r=>xV(r)}),TV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>au(n,t)),TN=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=TV(s,t)),r),{}),xV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>c.limitedParseDouble(n)),cu=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Xt(n,t)),CV=(e,t)=>c.take(e,{Item:r=>Xt(r,t)}),xN=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>CV(n,t)),Ri=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=ks(U.awsExpectUnion(s),t)),r),{}),IV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Ri(n,t)),AV=(e,t)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:c.expectBoolean,ExpressionAttributeNames:c._json,Keys:r=>IV(r,t),ProjectionExpression:c.expectString}),RV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ks(U.awsExpectUnion(n),t)),NV=(e,t)=>c.take(e,{BackupSummaries:r=>Mq(r),LastEvaluatedBackupArn:c.expectString}),PV=(e,t)=>c.take(e,{ImportSummaryList:r=>SV(r),NextToken:c.expectString}),vV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=ks(U.awsExpectUnion(s),t)),r),{}),DV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Hq(n,t)),OV=(e,t)=>c.take(e,{EarliestRestorableDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),LatestRestorableDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),PointInTimeRecoveryStatus:c.expectString,RecoveryPeriodInDays:c.expectInt32}),CN=(e,t)=>c.take(e,{LastDecreaseDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),LastIncreaseDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),NumberOfDecreasesToday:c.expectLong,ReadCapacityUnits:c.expectLong,WriteCapacityUnits:c.expectLong}),kV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=ks(U.awsExpectUnion(s),t)),r),{}),LV=(e,t)=>c.take(e,{Attributes:r=>Xt(r,t),ConsumedCapacity:r=>dn(r),ItemCollectionMetrics:r=>au(r,t)}),MV=(e,t)=>c.take(e,{Item:r=>kV(r,t)}),BV=(e,t)=>c.take(e,{ConsumedCapacity:r=>dn(r),Count:c.expectInt32,Items:r=>cu(r,t),LastEvaluatedKey:r=>Ri(r,t),ScannedCount:c.expectInt32}),UV=(e,t)=>c.take(e,{GlobalSecondaryIndexes:r=>zV(r),RegionName:c.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:r=>an(r),ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>an(r),ReplicaStatus:c.expectString}),FV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>UV(n)),$V=(e,t)=>c.take(e,{GlobalSecondaryIndexes:c._json,KMSMasterKeyId:c.expectString,OnDemandThroughputOverride:c._json,ProvisionedThroughputOverride:c._json,RegionName:c.expectString,ReplicaInaccessibleDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ReplicaStatus:c.expectString,ReplicaStatusDescription:c.expectString,ReplicaStatusPercentProgress:c.expectString,ReplicaTableClassSummary:r=>by(r),WarmThroughput:c._json}),IN=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>$V(n)),jV=(e,t)=>c.take(e,{IndexName:c.expectString,IndexStatus:c.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>an(r),ProvisionedWriteCapacityAutoScalingSettings:r=>an(r)}),zV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>jV(n)),HV=(e,t)=>c.take(e,{IndexName:c.expectString,IndexStatus:c.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>an(r),ProvisionedReadCapacityUnits:c.expectLong,ProvisionedWriteCapacityAutoScalingSettings:r=>an(r),ProvisionedWriteCapacityUnits:c.expectLong}),qV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>HV(n)),VV=(e,t)=>c.take(e,{RegionName:c.expectString,ReplicaBillingModeSummary:r=>EN(r),ReplicaGlobalSecondaryIndexSettings:r=>qV(r),ReplicaProvisionedReadCapacityAutoScalingSettings:r=>an(r),ReplicaProvisionedReadCapacityUnits:c.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>an(r),ReplicaProvisionedWriteCapacityUnits:c.expectLong,ReplicaStatus:c.expectString,ReplicaTableClassSummary:r=>by(r)}),AN=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>VV(n)),GV=(e,t)=>c.take(e,{RestoreDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),RestoreInProgress:c.expectBoolean,SourceBackupArn:c.expectString,SourceTableArn:c.expectString}),WV=(e,t)=>c.take(e,{TableDescription:r=>Ms(r)}),KV=(e,t)=>c.take(e,{TableDescription:r=>Ms(r)}),JV=(e,t)=>c.take(e,{ConsumedCapacity:r=>dn(r),Count:c.expectInt32,Items:r=>cu(r,t),LastEvaluatedKey:r=>Ri(r,t),ScannedCount:c.expectInt32}),mN=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=SN(s)),r),{}),YV=(e,t)=>c.take(e,{BillingMode:c.expectString,ItemCount:c.expectLong,KeySchema:c._json,OnDemandThroughput:c._json,ProvisionedThroughput:c._json,TableArn:c.expectString,TableCreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableId:c.expectString,TableName:c.expectString,TableSizeBytes:c.expectLong}),XV=(e,t)=>c.take(e,{GlobalSecondaryIndexes:c._json,LocalSecondaryIndexes:c._json,SSEDescription:r=>RN(r),StreamDescription:c._json,TimeToLiveDescription:c._json}),RN=(e,t)=>c.take(e,{InaccessibleEncryptionDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),KMSMasterKeyArn:c.expectString,SSEType:c.expectString,Status:c.expectString}),NN=(e,t)=>c.take(e,{Replicas:r=>FV(r),TableName:c.expectString,TableStatus:c.expectString}),by=(e,t)=>c.take(e,{LastUpdateDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableClass:c.expectString}),Ms=(e,t)=>c.take(e,{ArchivalSummary:r=>Dq(r),AttributeDefinitions:c._json,BillingModeSummary:r=>EN(r),CreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),DeletionProtectionEnabled:c.expectBoolean,GlobalSecondaryIndexes:r=>gV(r),GlobalTableVersion:c.expectString,GlobalTableWitnesses:c._json,ItemCount:c.expectLong,KeySchema:c._json,LatestStreamArn:c.expectString,LatestStreamLabel:c.expectString,LocalSecondaryIndexes:c._json,MultiRegionConsistency:c.expectString,OnDemandThroughput:c._json,ProvisionedThroughput:r=>CN(r),Replicas:r=>IN(r),RestoreSummary:r=>GV(r),SSEDescription:r=>RN(r),StreamSpecification:c._json,TableArn:c.expectString,TableClassSummary:r=>by(r),TableId:c.expectString,TableName:c.expectString,TableSizeBytes:c.expectLong,TableStatus:c.expectString,WarmThroughput:c._json}),QV=(e,t)=>c.take(e,{ConsumedCapacity:r=>Ls(r),Responses:r=>xN(r,t)}),ZV=(e,t)=>c.take(e,{CancellationReasons:r=>Kq(r,t),Message:c.expectString}),eG=(e,t)=>c.take(e,{ConsumedCapacity:r=>Ls(r),ItemCollectionMetrics:r=>TN(r,t)}),tG=(e,t)=>c.take(e,{ContinuousBackupsDescription:r=>bN(r)}),rG=(e,t)=>c.take(e,{GlobalTableDescription:r=>Sy(r)}),nG=(e,t)=>c.take(e,{GlobalTableName:c.expectString,ReplicaSettings:r=>AN(r)}),sG=(e,t)=>c.take(e,{Attributes:r=>Xt(r,t),ConsumedCapacity:r=>dn(r),ItemCollectionMetrics:r=>au(r,t)}),oG=(e,t)=>c.take(e,{TableDescription:r=>Ms(r)}),iG=(e,t)=>c.take(e,{TableAutoScalingDescription:r=>NN(r)}),aG=(e,t)=>c.take(e,{DeleteRequest:r=>tV(r,t),PutRequest:r=>MV(r,t)}),cG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>aG(n,t)),O=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),dG=c.withBaseException(ie),V=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return s!==void 0&&(l.body=s),new hy.HttpRequest(l)};function G(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}var _i=class extends c.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(Yj).de(Zz).build(){},lG=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},uG=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),mG=(e,t)=>{let r=Object.assign(uN.getAwsRegionExtensionConfiguration(e),c.getDefaultExtensionConfiguration(e),hy.getHttpHandlerExtensionConfiguration(e),lG(e));return t.forEach(n=>n.configure(r)),Object.assign(e,uN.resolveAwsRegionExtensionConfiguration(r),c.resolveDefaultRuntimeConfig(r),hy.resolveHttpHandlerRuntimeConfig(r),uG(r))},Yt=class extends c.Client{config;constructor(...[t]){let r=W$.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=K$(r),s=j$.resolveAccountIdEndpointModeConfig(n),o=cN.resolveUserAgentConfig(s),i=dN.resolveRetryConfig(o),a=V$.resolveRegionConfig(i),d=aN.resolveHostHeaderConfig(a),l=j.resolveEndpointConfig(d),p=lN.resolveHttpAuthSchemeConfig(l),f=z$.resolveEndpointDiscoveryConfig(p,{endpointDiscoveryCommandCtor:_i}),y=mG(f,(t==null?void 0:t.extensions)||[]);this.config=y,this.middlewareStack.use(cN.getUserAgentPlugin(this.config)),this.middlewareStack.use(dN.getRetryPlugin(this.config)),this.middlewareStack.use(G$.getContentLengthPlugin(this.config)),this.middlewareStack.use(aN.getHostHeaderPlugin(this.config)),this.middlewareStack.use(H$.getLoggerPlugin(this.config)),this.middlewareStack.use(q$.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Sr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:lN.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new Sr.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Sr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},ll=class extends c.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(Bj).de($z).build(){},ul=class extends c.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys((t==null?void 0:t.RequestItems)??{})}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(Uj).de(jz).build(){},ml=class extends c.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys((t==null?void 0:t.RequestItems)??{})}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(Fj).de(zz).build(){},pl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser($j).de(Hz).build(){},fl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(jj).de(qz).build(){},hl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(zj).de(Vz).build(){},yl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(Hj).de(Gz).build(){},gl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(qj).de(Wz).build(){},El=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(Vj).de(Kz).build(){},Sl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(Gj).de(Jz).build(){},bl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(Wj).de(Yz).build(){},_l=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(Kj).de(Xz).build(){},wl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(Jj).de(Qz).build(){},Tl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(Xj).de(e2).build(){},xl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(Qj).de(t2).build(){},Cl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(Zj).de(r2).build(){},Il=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(ez).de(n2).build(){},Al=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(tz).de(s2).build(){},Rl=class extends c.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(rz).de(o2).build(){},Os=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(nz).de(i2).build(){},Nl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(sz).de(a2).build(){},Pl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(oz).de(c2).build(){},vl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(iz).de(d2).build(){},Dl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(az).de(l2).build(){},Ol=class extends c.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(cz).de(u2).build(){},kl=class extends c.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(dz).de(m2).build(){},Ll=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(lz).de(p2).build(){},Ml=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(uz).de(f2).build(){},Bl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(mz).de(h2).build(){},Ul=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"operationContextParams",get:t=>{var r;return(r=t==null?void 0:t.TableCreationParameters)==null?void 0:r.TableName}}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(pz).de(y2).build(){},Fl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(fz).de(g2).build(){},wi=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(hz).de(E2).build(){},Ti=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(yz).de(S2).build(){},$l=class extends c.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(gz).de(b2).build(){},xi=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(Ez).de(_2).build(){},Ci=class extends c.Command.classBuilder().ep(H).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(Sz).de(w2).build(){},jl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(bz).de(T2).build(){},zl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(_z).de(x2).build(){},Hl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(wz).de(C2).build(){},Ii=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(Tz).de(I2).build(){},ql=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(xz).de(A2).build(){},Vl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(Cz).de(R2).build(){},Ai=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(Iz).de(N2).build(){},Gl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(Az).de(P2).build(){},Wl=class extends c.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:t=>{var r;return(r=t==null?void 0:t.TransactItems)==null?void 0:r.map(n=>{var s;return(s=n==null?void 0:n.Get)==null?void 0:s.TableName})}}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(Rz).de(v2).build(){},Kl=class extends c.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:t=>{var r;return(r=t==null?void 0:t.TransactItems)==null?void 0:r.map(n=>{var s,o,i,a;return[(s=n==null?void 0:n.ConditionCheck)==null?void 0:s.TableName,(o=n==null?void 0:n.Put)==null?void 0:o.TableName,(i=n==null?void 0:n.Delete)==null?void 0:i.TableName,(a=n==null?void 0:n.Update)==null?void 0:a.TableName].filter(d=>d)}).flat()}}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(Nz).de(D2).build(){},Jl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(Pz).de(O2).build(){},Yl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(vz).de(k2).build(){},Xl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(Dz).de(L2).build(){},Ql=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(Oz).de(M2).build(){},Zl=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(kz).de(B2).build(){},eu=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(Lz).de(U2).build(){},tu=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Mz).de(F2).build(){},ru=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(Bz).de($2).build(){},nu=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(Uz).de(j2).build(){},su=class extends c.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[z.getSerdePlugin(n,this.serialize,this.deserialize),j.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(Fz).de(z2).build(){},pG={BatchExecuteStatementCommand:ll,BatchGetItemCommand:ul,BatchWriteItemCommand:ml,CreateBackupCommand:pl,CreateGlobalTableCommand:fl,CreateTableCommand:hl,DeleteBackupCommand:yl,DeleteItemCommand:gl,DeleteResourcePolicyCommand:El,DeleteTableCommand:Sl,DescribeBackupCommand:bl,DescribeContinuousBackupsCommand:_l,DescribeContributorInsightsCommand:wl,DescribeEndpointsCommand:_i,DescribeExportCommand:Tl,DescribeGlobalTableCommand:xl,DescribeGlobalTableSettingsCommand:Cl,DescribeImportCommand:Il,DescribeKinesisStreamingDestinationCommand:Al,DescribeLimitsCommand:Rl,DescribeTableCommand:Os,DescribeTableReplicaAutoScalingCommand:Nl,DescribeTimeToLiveCommand:Pl,DisableKinesisStreamingDestinationCommand:vl,EnableKinesisStreamingDestinationCommand:Dl,ExecuteStatementCommand:Ol,ExecuteTransactionCommand:kl,ExportTableToPointInTimeCommand:Ll,GetItemCommand:Ml,GetResourcePolicyCommand:Bl,ImportTableCommand:Ul,ListBackupsCommand:Fl,ListContributorInsightsCommand:wi,ListExportsCommand:Ti,ListGlobalTablesCommand:$l,ListImportsCommand:xi,ListTablesCommand:Ci,ListTagsOfResourceCommand:jl,PutItemCommand:zl,PutResourcePolicyCommand:Hl,QueryCommand:Ii,RestoreTableFromBackupCommand:ql,RestoreTableToPointInTimeCommand:Vl,ScanCommand:Ai,TagResourceCommand:Gl,TransactGetItemsCommand:Wl,TransactWriteItemsCommand:Kl,UntagResourceCommand:Jl,UpdateContinuousBackupsCommand:Yl,UpdateContributorInsightsCommand:Xl,UpdateGlobalTableCommand:Ql,UpdateGlobalTableSettingsCommand:Zl,UpdateItemCommand:eu,UpdateKinesisStreamingDestinationCommand:tu,UpdateTableCommand:ru,UpdateTableReplicaAutoScalingCommand:nu,UpdateTimeToLiveCommand:su},ou=class extends Yt{};c.createAggregatedClient(pG,ou);var fG=Sr.createPaginator(Yt,wi,"NextToken","NextToken","MaxResults"),hG=Sr.createPaginator(Yt,Ti,"NextToken","NextToken","MaxResults"),yG=Sr.createPaginator(Yt,xi,"NextToken","NextToken","PageSize"),gG=Sr.createPaginator(Yt,Ci,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),EG=Sr.createPaginator(Yt,Ii,"ExclusiveStartKey","LastEvaluatedKey","Limit"),SG=Sr.createPaginator(Yt,Ai,"ExclusiveStartKey","LastEvaluatedKey","Limit"),PN=async(e,t)=>{let r;try{let n=await e.send(new Os(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:Dt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Dt.WaiterState.RETRY,reason:r}}return{state:Dt.WaiterState.RETRY,reason:r}},bG=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Dt.createWaiter({...r,...e},t,PN)},_G=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Dt.createWaiter({...r,...e},t,PN);return Dt.checkExceptions(n)},vN=async(e,t)=>{let r;try{r=await e.send(new Os(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Dt.WaiterState.SUCCESS,reason:r}}return{state:Dt.WaiterState.RETRY,reason:r}},wG=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Dt.createWaiter({...r,...e},t,vN)},TG=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Dt.createWaiter({...r,...e},t,vN);return Dt.checkExceptions(n)};Object.defineProperty(C,"$Command",{enumerable:!0,get:function(){return c.Command}});Object.defineProperty(C,"__Client",{enumerable:!0,get:function(){return c.Client}});C.ApproximateCreationDateTimePrecision=J$;C.AttributeAction=Y$;C.BackupInUseException=Nd;C.BackupNotFoundException=Pd;C.BackupStatus=Q$;C.BackupType=Z$;C.BackupTypeFilter=aj;C.BatchExecuteStatementCommand=ll;C.BatchGetItemCommand=ul;C.BatchStatementErrorCodeEnum=lj;C.BatchWriteItemCommand=ml;C.BillingMode=ej;C.ComparisonOperator=mj;C.ConditionalCheckFailedException=cl;C.ConditionalOperator=pj;C.ContinuousBackupsStatus=fj;C.ContinuousBackupsUnavailableException=Fd;C.ContributorInsightsAction=yj;C.ContributorInsightsMode=gj;C.ContributorInsightsStatus=Ej;C.CreateBackupCommand=pl;C.CreateGlobalTableCommand=fl;C.CreateTableCommand=hl;C.DeleteBackupCommand=yl;C.DeleteItemCommand=gl;C.DeleteResourcePolicyCommand=El;C.DeleteTableCommand=Sl;C.DescribeBackupCommand=bl;C.DescribeContinuousBackupsCommand=_l;C.DescribeContributorInsightsCommand=wl;C.DescribeEndpointsCommand=_i;C.DescribeExportCommand=Tl;C.DescribeGlobalTableCommand=xl;C.DescribeGlobalTableSettingsCommand=Cl;C.DescribeImportCommand=Il;C.DescribeKinesisStreamingDestinationCommand=Al;C.DescribeLimitsCommand=Rl;C.DescribeTableCommand=Os;C.DescribeTableReplicaAutoScalingCommand=Nl;C.DescribeTimeToLiveCommand=Pl;C.DestinationStatus=Lj;C.DisableKinesisStreamingDestinationCommand=vl;C.DuplicateItemException=Yd;C.DynamoDB=ou;C.DynamoDBClient=Yt;C.DynamoDBServiceException=ie;C.EnableKinesisStreamingDestinationCommand=Dl;C.ExecuteStatementCommand=Ol;C.ExecuteTransactionCommand=kl;C.ExportConflictException=Zd;C.ExportFormat=Aj;C.ExportNotFoundException=Wd;C.ExportStatus=Rj;C.ExportTableToPointInTimeCommand=Ll;C.ExportType=Nj;C.ExportViewType=Pj;C.GetItemCommand=Ml;C.GetResourcePolicyCommand=Bl;C.GlobalTableAlreadyExistsException=Hd;C.GlobalTableNotFoundException=Kd;C.GlobalTableStatus=Sj;C.IdempotentParameterMismatchException=Xd;C.ImportConflictException=rl;C.ImportNotFoundException=Jd;C.ImportStatus=Dj;C.ImportTableCommand=Ul;C.IndexNotFoundException=al;C.IndexStatus=bj;C.InputCompressionType=Oj;C.InputFormat=kj;C.InternalServerError=vd;C.InvalidEndpointException=kd;C.InvalidExportTimeException=el;C.InvalidRestoreTimeException=sl;C.ItemCollectionSizeLimitExceededException=Bd;C.KeyType=tj;C.LimitExceededException=$d;C.ListBackupsCommand=Fl;C.ListContributorInsightsCommand=wi;C.ListExportsCommand=Ti;C.ListGlobalTablesCommand=$l;C.ListImportsCommand=xi;C.ListTablesCommand=Ci;C.ListTagsOfResourceCommand=jl;C.MultiRegionConsistency=Cj;C.PointInTimeRecoveryStatus=hj;C.PointInTimeRecoveryUnavailableException=tl;C.PolicyNotFoundException=Gd;C.ProjectionType=rj;C.ProvisionedThroughputExceededException=Ld;C.PutItemCommand=zl;C.PutResourcePolicyCommand=Hl;C.QueryCommand=Ii;C.ReplicaAlreadyExistsException=ol;C.ReplicaNotFoundException=il;C.ReplicaStatus=_j;C.ReplicatedWriteConflictException=Ud;C.RequestLimitExceeded=Dd;C.ResourceInUseException=qd;C.ResourceNotFoundException=Md;C.RestoreTableFromBackupCommand=ql;C.RestoreTableToPointInTimeCommand=Vl;C.ReturnConsumedCapacity=cj;C.ReturnItemCollectionMetrics=uj;C.ReturnValue=Ij;C.ReturnValuesOnConditionCheckFailure=dj;C.S3SseAlgorithm=vj;C.SSEStatus=sj;C.SSEType=nj;C.ScalarAttributeType=X$;C.ScanCommand=Ai;C.Select=Mj;C.StreamViewType=oj;C.TableAlreadyExistsException=nl;C.TableClass=wj;C.TableInUseException=jd;C.TableNotFoundException=zd;C.TableStatus=Tj;C.TagResourceCommand=Gl;C.ThrottlingException=Od;C.TimeToLiveStatus=ij;C.TransactGetItemsCommand=Wl;C.TransactWriteItemsCommand=Kl;C.TransactionCanceledException=dl;C.TransactionConflictException=Vd;C.TransactionInProgressException=Qd;C.UntagResourceCommand=Jl;C.UpdateContinuousBackupsCommand=Yl;C.UpdateContributorInsightsCommand=Xl;C.UpdateGlobalTableCommand=Ql;C.UpdateGlobalTableSettingsCommand=Zl;C.UpdateItemCommand=eu;C.UpdateKinesisStreamingDestinationCommand=tu;C.UpdateTableCommand=ru;C.UpdateTableReplicaAutoScalingCommand=nu;C.UpdateTimeToLiveCommand=su;C.WitnessStatus=xj;C.paginateListContributorInsights=fG;C.paginateListExports=hG;C.paginateListImports=yG;C.paginateListTables=gG;C.paginateQuery=EG;C.paginateScan=SG;C.waitForTableExists=bG;C.waitForTableNotExists=wG;C.waitUntilTableExists=_G;C.waitUntilTableNotExists=TG});var HN=P(Us=>{"use strict";var Bs=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},Pi=(e,t)=>{var r,n,s,o,i,a;if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return du();if(Array.isArray(e))return xG(e,t);if(((r=e==null?void 0:e.constructor)==null?void 0:r.name)==="Set")return CG(e,t);if(((n=e==null?void 0:e.constructor)==null?void 0:n.name)==="Map")return IG(e,t);if(((s=e==null?void 0:e.constructor)==null?void 0:s.name)==="Object"||!e.constructor&&typeof e=="object")return ON(e,t);if(zN(e))return e.length===0&&(t!=null&&t.convertEmptyValues)?du():UN(e);if(typeof e=="boolean"||((o=e==null?void 0:e.constructor)==null?void 0:o.name)==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||((i=e==null?void 0:e.constructor)==null?void 0:i.name)==="Number")return jN(e,t);if(e instanceof Bs)return e.toAttributeValue();if(typeof e=="bigint")return $N(e);if(typeof e=="string"||((a=e==null?void 0:e.constructor)==null?void 0:a.name)==="String")return e.length===0&&(t!=null&&t.convertEmptyValues)?du():FN(e);if(t!=null&&t.convertClassInstanceToMap&&typeof e=="object")return ON(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},xG=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!(t!=null&&t.removeUndefinedValues)||(t==null?void 0:t.removeUndefinedValues)&&r!==void 0)).map(r=>Pi(r,t))}),CG=(e,t)=>{let r=t!=null&&t.removeUndefinedValues?new Set([...e].filter(s=>s!==void 0)):e;if(!(t!=null&&t.removeUndefinedValues)&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t!=null&&t.convertEmptyValues)return du();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof Bs)return{NS:Array.from(r).map(s=>s.toString())};if(typeof n=="number")return{NS:Array.from(r).map(s=>jN(s,t)).map(s=>s.N)};if(typeof n=="bigint")return{NS:Array.from(r).map($N).map(s=>s.N)};if(typeof n=="string")return{SS:Array.from(r).map(FN).map(s=>s.S)};if(zN(n))return{BS:Array.from(r).map(UN).map(s=>s.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},IG=(e,t)=>({M:(r=>{let n={};for(let[s,o]of r)typeof o!="function"&&(o!==void 0||!(t!=null&&t.removeUndefinedValues))&&(n[s]=Pi(o,t));return n})(e)}),ON=(e,t)=>({M:(r=>{let n={};for(let s in r){let o=r[s];typeof o!="function"&&(o!==void 0||!(t!=null&&t.removeUndefinedValues))&&(n[s]=Pi(o,t))}return n})(e)}),du=()=>({NULL:!0}),UN=e=>({B:e}),FN=e=>({S:e.toString()}),$N=e=>({N:e.toString()}),kN=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},jN=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t!=null&&t.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?kN(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&kN(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},zN=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e!=null&&e.constructor?t.includes(e.constructor.name):!1},Ni=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return LN(n,t);case"B":return BN(n);case"S":return MN(n);case"L":return AG(n,t);case"M":return RG(n,t);case"NS":return new Set(n.map(s=>LN(s,t)));case"BS":return new Set(n.map(BN));case"SS":return new Set(n.map(MN));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},LN=(e,t)=>{if(typeof(t==null?void 0:t.wrapNumbers)=="function")return t==null?void 0:t.wrapNumbers(e);if(t!=null&&t.wrapNumbers)return Bs.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},MN=e=>e,BN=e=>e,AG=(e,t)=>e.map(r=>Ni(r,t)),RG=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(r[n]=Ni(s,t),r),{});function NG(e,t){let r=Pi(e,t),[n,s]=Object.entries(r)[0];switch(n){case"M":case"L":return t!=null&&t.convertTopLevelContainer?r:s;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var PG=(e,t)=>t!=null&&t.convertWithoutMapWrapper?Ni(e,t):Ni({M:e},t);Us.NumberValueImpl=Bs;Us.convertToAttr=Pi;Us.convertToNative=Ni;Us.marshall=NG;Us.unmarshall=PG});var LG={};mt(LG,{handler:()=>kG});module.exports=fe(LG);var lu=I(DN()),_y=I(HN()),vG=new lu.DynamoDBClient({}),qN=process.env.TABLE_NAME||"",DG=process.env.PK_NAME||"pk",OG=process.env.SK_NAME||"sk",kG=async e=>{var o,i,a,d,l,p,f,y,h;console.log("ApplyBackgroundChange event:",JSON.stringify(e));let t=(e==null?void 0:e.itemId)||(e==null?void 0:e.closetItemId)||((o=e==null?void 0:e.detail)==null?void 0:o.itemId)||((i=e==null?void 0:e.detail)==null?void 0:i.closetItemId)||(e==null?void 0:e.id),r=(e==null?void 0:e.ownerId)||(e==null?void 0:e.userId)||(e==null?void 0:e.sub)||((a=e==null?void 0:e.detail)==null?void 0:a.ownerId)||((d=e==null?void 0:e.detail)==null?void 0:d.userId),n=(e==null?void 0:e.mediaKey)||((l=e==null?void 0:e.detail)==null?void 0:l.mediaKey)||(e==null?void 0:e.processedKey)||((p=e==null?void 0:e.detail)==null?void 0:p.processedKey)||(e==null?void 0:e.backgroundKey)||((f=e==null?void 0:e.detail)==null?void 0:f.backgroundKey)||(e==null?void 0:e.newBackgroundKey)||((y=e==null?void 0:e.detail)==null?void 0:y.newBackgroundKey),s=(e==null?void 0:e.backgroundStatus)||((h=e==null?void 0:e.detail)==null?void 0:h.backgroundStatus)||null;if(!qN)return console.warn("TABLE_NAME not set; skipping DynamoDB update"),{...e,applied:!0,skippedDdb:!0};if(!t||!r)return console.warn("Missing itemId/ownerId; returning passthrough"),{...e,applied:!1,reason:"Missing itemId/ownerId"};try{let E=["#updatedAt = :now"],S={"#updatedAt":"updatedAt"},T={":now":new Date().toISOString()};n&&(E.push("#mediaKey = :mk"),S["#mediaKey"]="mediaKey",T[":mk"]=n,E.push("#pendingBackgroundKey = :null"),S["#pendingBackgroundKey"]="pendingBackgroundKey",T[":null"]=null);let R=s||(n?"COMPLETED":null);R&&(E.push("#backgroundStatus = :bs"),S["#backgroundStatus"]="backgroundStatus",T[":bs"]=R);let v=new lu.UpdateItemCommand({TableName:qN,Key:(0,_y.marshall)({[DG]:`USER#${r}`,[OG]:`CLOSET#${t}`}),UpdateExpression:"SET "+E.join(", "),ExpressionAttributeNames:S,ExpressionAttributeValues:(0,_y.marshall)(T,{removeUndefinedValues:!0})});console.log("ApplyBackgroundChange: UpdateItem",JSON.stringify({TableName:v.input.TableName,Key:v.input.Key,UpdateExpression:v.input.UpdateExpression,ExpressionAttributeNames:v.input.ExpressionAttributeNames})),await vG.send(v)}catch(E){return console.error("ApplyBackgroundChange: DDB update failed",E),{...e,applied:!1,error:String((E==null?void 0:E.message)||E)}}return{...e,applied:!0}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
