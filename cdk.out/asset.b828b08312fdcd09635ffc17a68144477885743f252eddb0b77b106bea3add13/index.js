"use strict";var fH=Object.create;var Vu=Object.defineProperty;var gH=Object.getOwnPropertyDescriptor;var hH=Object.getOwnPropertyNames;var pH=Object.getPrototypeOf,yH=Object.prototype.hasOwnProperty;var P=(e,r)=>()=>(e&&(r=e(e=0)),r);var B=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),dn=(e,r)=>{for(var t in r)Vu(e,t,{get:r[t],enumerable:!0})},fP=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of hH(r))!yH.call(e,s)&&s!==t&&Vu(e,s,{get:()=>r[s],enumerable:!(n=gH(r,s))||n.enumerable});return e};var k=(e,r,t)=>(t=e!=null?fH(pH(e)):{},fP(r||!e||!e.__esModule?Vu(t,"default",{value:e,enumerable:!0}):t,e)),Re=e=>fP(Vu({},"__esModule",{value:!0}),e);var Ss=B(ot=>{"use strict";ot.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ot.HttpAuthLocation||(ot.HttpAuthLocation={}));ot.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(ot.HttpApiKeyAuthLocation||(ot.HttpApiKeyAuthLocation={}));ot.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(ot.EndpointURLScheme||(ot.EndpointURLScheme={}));ot.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(ot.AlgorithmId||(ot.AlgorithmId={}));var SH=e=>{let r=[];return e.sha256!==void 0&&r.push({algorithmId:()=>ot.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&r.push({algorithmId:()=>ot.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},EH=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},bH=e=>SH(e),_H=e=>EH(e);ot.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(ot.FieldPosition||(ot.FieldPosition={}));var CH="__smithy_context";ot.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(ot.IniSectionType||(ot.IniSectionType={}));ot.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(ot.RequestHandlerProtocol||(ot.RequestHandlerProtocol={}));ot.SMITHY_CONTEXT_KEY=CH;ot.getDefaultClientConfiguration=bH;ot.resolveDefaultRuntimeConfig=_H});var Ke=B(Js=>{"use strict";var xH=Ss(),wH=e=>({setHttpHandler(r){e.httpHandler=r},httpHandler(){return e.httpHandler},updateHttpClientConfig(r,t){e.httpHandler?.updateHttpClientConfig(r,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),AH=e=>({httpHandler:e.httpHandler()}),GS=class{name;kind;values;constructor({name:r,kind:t=xH.FieldPosition.HEADER,values:n=[]}){this.name=r,this.kind=t,this.values=n}add(r){this.values.push(r)}set(r){this.values=r}remove(r){this.values=this.values.filter(t=>t!==r)}toString(){return this.values.map(r=>r.includes(",")||r.includes(" ")?`"${r}"`:r).join(", ")}get(){return this.values}},KS=class{entries={};encoding;constructor({fields:r=[],encoding:t="utf-8"}){r.forEach(this.setField.bind(this)),this.encoding=t}setField(r){this.entries[r.name.toLowerCase()]=r}getField(r){return this.entries[r.toLowerCase()]}removeField(r){delete this.entries[r.toLowerCase()]}getByType(r){return Object.values(this.entries).filter(t=>t.kind===r)}},WS=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(r){this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}static clone(r){let t=new e({...r,headers:{...r.headers}});return t.query&&(t.query=PH(t.query)),t}static isInstance(r){if(!r)return!1;let t=r;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return e.clone(this)}};function PH(e){return Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})}var XS=class{statusCode;reason;headers;body;constructor(r){this.statusCode=r.statusCode,this.reason=r.reason,this.headers=r.headers||{},this.body=r.body}static isInstance(r){if(!r)return!1;let t=r;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function vH(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Js.Field=GS;Js.Fields=KS;Js.HttpRequest=WS;Js.HttpResponse=XS;Js.getHttpHandlerExtensionConfiguration=wH;Js.isValidHostname=vH;Js.resolveHttpHandlerRuntimeConfig=AH});var yP=B((kfe,pP)=>{"use strict";var Gu=Object.defineProperty,TH=Object.getOwnPropertyDescriptor,RH=Object.getOwnPropertyNames,IH=Object.prototype.hasOwnProperty,YS=(e,r)=>Gu(e,"name",{value:r,configurable:!0}),kH=(e,r)=>{for(var t in r)Gu(e,t,{get:r[t],enumerable:!0})},OH=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of RH(r))!IH.call(e,s)&&s!==t&&Gu(e,s,{get:()=>r[s],enumerable:!(n=TH(r,s))||n.enumerable});return e},NH=e=>OH(Gu({},"__esModule",{value:!0}),e),gP={};kH(gP,{addExpectContinueMiddleware:()=>JS,addExpectContinueMiddlewareOptions:()=>hP,getAddExpectContinuePlugin:()=>DH});pP.exports=NH(gP);var BH=Ke();function JS(e){return r=>async t=>{let{request:n}=t;return BH.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),r({...t,request:n})}}YS(JS,"addExpectContinueMiddleware");var hP={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},DH=YS(e=>({applyToStack:YS(r=>{r.add(JS(e),hP)},"applyToStack")}),"getAddExpectContinuePlugin")});var Ku,Pa,SP=P(()=>{Ku={warningEmitted:!1},Pa=e=>{e&&!Ku.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Ku.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Qs(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var EP=P(()=>{});function bP(e,r,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[r]=t}var _P=P(()=>{});function CP(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var xP=P(()=>{});var Zs={};dn(Zs,{emitWarningIfUnsupportedVersion:()=>Pa,setCredentialFeature:()=>Qs,setFeature:()=>bP,setTokenFeature:()=>CP,state:()=>Ku});var Mn=P(()=>{SP();EP();_P();xP()});var wP,QS,AP=P(()=>{wP=k(Ke()),QS=e=>wP.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var va,ZS=P(()=>{va=e=>new Date(Date.now()+e)});var PP,vP=P(()=>{ZS();PP=(e,r)=>Math.abs(va(r).getTime()-e)>=3e5});var eE,TP=P(()=>{vP();eE=(e,r)=>{let t=Date.parse(e);return PP(t,r)?t-Date.now():r}});var tE=P(()=>{AP();ZS();TP()});var RP,Fl,Ta,jr,rE,nE=P(()=>{RP=k(Ke());tE();Fl=(e,r)=>{if(!r)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return r},Ta=async e=>{let r=Fl("context",e.context),t=Fl("config",e.config),n=r.endpointV2?.properties?.authSchemes?.[0],o=await Fl("signer",t.signer)(n),a=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:t,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}},jr=class{async sign(r,t,n){if(!RP.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Ta(n),{config:o,signer:a}=s,{signingRegion:c,signingName:l}=s,d=n.context;if(d?.authSchemes?.length??!1){let[g,y]=d.authSchemes;g?.name==="sigv4a"&&y?.name==="sigv4"&&(c=y?.signingRegion??c,l=y?.signingName??l)}return await a.sign(r,{signingDate:va(o.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(r){return t=>{let n=t.ServerTime??QS(t.$response);if(n){let s=Fl("config",r.config),o=s.systemClockOffset;s.systemClockOffset=eE(n,s.systemClockOffset),s.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(r,t){let n=QS(r);if(n){let s=Fl("config",t.config);s.systemClockOffset=eE(n,s.systemClockOffset)}}},rE=jr});var IP,zl,kP=P(()=>{IP=k(Ke());tE();nE();zl=class extends jr{async sign(r,t,n){if(!IP.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}=await Ta(n),f=(await s.sigv4aSigningRegionSet?.()??c??[a]).join(",");return await o.sign(r,{signingDate:va(s.systemClockOffset),signingRegion:f,signingService:l})}}});var sE,OP=P(()=>{sE=e=>typeof e=="string"&&e.length>0?e.split(",").map(r=>r.trim()):[]});var Wu,oE=P(()=>{Wu=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var NP,BP,Ra,DP=P(()=>{OP();oE();NP="AWS_AUTH_SCHEME_PREFERENCE",BP="auth_scheme_preference",Ra={environmentVariableSelector:(e,r)=>{if(r?.signingName&&Wu(r.signingName)in e)return["httpBearerAuth"];if(NP in e)return sE(e[NP])},configFileSelector:e=>{if(BP in e)return sE(e[BP])},default:[]}});var iE,MH,MP=P(()=>{iE=k(Ss()),MH=e=>e[iE.SMITHY_CONTEXT_KEY]||(e[iE.SMITHY_CONTEXT_KEY]={})});var Er=B(aE=>{"use strict";var LP=Ss(),LH=e=>e[LP.SMITHY_CONTEXT_KEY]||(e[LP.SMITHY_CONTEXT_KEY]={}),FH=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r};aE.getSmithyContext=LH;aE.normalizeProvider=FH});var FP,zP=P(()=>{FP=(e,r)=>{if(!r||r.length===0)return e;let t=[];for(let n of r)for(let s of e)s.schemeId.split("#")[1]===n&&t.push(s);for(let n of e)t.find(({schemeId:s})=>s===n.schemeId)||t.push(n);return t}});function zH(e){let r=new Map;for(let t of e)r.set(t.schemeId,t);return r}var UP,Ul,Xu=P(()=>{UP=k(Er());zP();Ul=(e,r)=>(t,n)=>async s=>{let o=e.httpAuthSchemeProvider(await r.httpAuthSchemeParametersProvider(e,n,s.input)),a=e.authSchemePreference?await e.authSchemePreference():[],c=FP(o,a),l=zH(e.httpAuthSchemes),d=(0,UP.getSmithyContext)(n),f=[];for(let g of c){let y=l.get(g.schemeId);if(!y){f.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}let h=y.identityProvider(await r.identityProviderConfigProvider(e));if(!h){f.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:v={}}=g.propertiesExtractor?.(e,n)||{};g.identityProperties=Object.assign(g.identityProperties||{},_),g.signingProperties=Object.assign(g.signingProperties||{},v),d.selectedHttpAuthScheme={httpAuthOption:g,identity:await h(g.identityProperties),signer:y.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(f.join(`
`));return t(s)}});var qP,ql,HP=P(()=>{Xu();qP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},ql=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(Ul(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),qP)}})});var eo=B(Ia=>{"use strict";var UH=Ke(),jP=(e,r)=>(t,n)=>async s=>{let{response:o}=await t(s);try{let a=await r(o,e);return{response:o,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:o}),!("$metadata"in a)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(UH.HttpResponse.isInstance(o)){let{headers:l={}}=o,d=Object.entries(l);a.$metadata={httpStatusCode:o.statusCode,requestId:cE(/^x-[\w-]+-request-?id$/,d),extendedRequestId:cE(/^x-[\w-]+-id-2$/,d),cfId:cE(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw a}},cE=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1],$P=(e,r)=>(t,n)=>async s=>{let o=e,a=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let c=await r(s.input,{...e,endpoint:a});return t({...s,request:c})},VP={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},GP={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function qH(e,r,t){return{applyToStack:n=>{n.add(jP(e,t),VP),n.add($P(e,r),GP)}}}Ia.deserializerMiddleware=jP;Ia.deserializerMiddlewareOption=VP;Ia.getSerdePlugin=qH;Ia.serializerMiddleware=$P;Ia.serializerMiddlewareOption=GP});var KP,WP,HH,XP=P(()=>{KP=k(eo());Xu();WP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:KP.serializerMiddlewareOption.name},HH=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(Ul(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),WP)}})});var YP=P(()=>{Xu();HP();XP()});var JP,QP,jH,$H,lE,dE=P(()=>{JP=k(Ke()),QP=k(Er()),jH=e=>r=>{throw r},$H=(e,r)=>{},lE=e=>(r,t)=>async n=>{if(!JP.HttpRequest.isInstance(n.request))return r(n);let o=(0,QP.getSmithyContext)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d=await r({...n,request:await l.sign(n.request,c,a)}).catch((l.errorHandler||jH)(a));return(l.successHandler||$H)(d.response,a),d}});var ZP,Hl,ev=P(()=>{dE();ZP={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Hl=e=>({applyToStack:r=>{r.addRelativeTo(lE(e),ZP)}})});var tv=P(()=>{dE();ev()});var to,rv=P(()=>{to=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r}});function nv(e,r,t,n,s){return async function*(a,c,...l){let d=c,f=a.startingToken??d[t],g=!0,y;for(;g;){if(d[t]=f,s&&(d[s]=d[s]??a.pageSize),a.client instanceof e)y=await VH(r,a.client,c,a.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let h=f;f=GH(y,n),g=!!(f&&(!a.stopOnSameToken||f!==h))}return void 0}}var VH,GH,sv=P(()=>{VH=async(e,r,t,n=o=>o,...s)=>{let o=new e(t);return o=n(o)??o,await r.send(o,...s)};GH=(e,r)=>{let t=e,n=r.split(".");for(let s of n){if(!t||typeof t!="object")return;t=t[s]}return t}});var Yu=B(ov=>{"use strict";var KH=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";ov.isArrayBuffer=KH});var ka=B(mE=>{"use strict";var WH=Yu(),uE=require("buffer"),XH=(e,r=0,t=e.byteLength-r)=>{if(!WH.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return uE.Buffer.from(e,r,t)},YH=(e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?uE.Buffer.from(e,r):uE.Buffer.from(e)};mE.fromArrayBuffer=XH;mE.fromString=YH});var iv=B(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.fromBase64=void 0;var JH=ka(),QH=/^[A-Za-z0-9+/]*={0,2}$/,ZH=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!QH.exec(e))throw new TypeError("Invalid base64 string.");let r=(0,JH.fromString)(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)};Ju.fromBase64=ZH});var Kt=B(Qu=>{"use strict";var av=ka(),cv=e=>{let r=av.fromString(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},ej=e=>typeof e=="string"?cv(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),tj=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return av.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Qu.fromUtf8=cv;Qu.toUint8Array=ej;Qu.toUtf8=tj});var lv=B(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.toBase64=void 0;var rj=ka(),nj=Kt(),sj=e=>{let r;if(typeof e=="string"?r=(0,nj.fromUtf8)(e):r=e,typeof r!="object"||typeof r.byteOffset!="number"||typeof r.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,rj.fromArrayBuffer)(r.buffer,r.byteOffset,r.byteLength).toString("base64")};Zu.toBase64=sj});var fr=B(jl=>{"use strict";var dv=iv(),uv=lv();Object.keys(dv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(jl,e)&&Object.defineProperty(jl,e,{enumerable:!0,get:function(){return dv[e]}})});Object.keys(uv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(jl,e)&&Object.defineProperty(jl,e,{enumerable:!0,get:function(){return uv[e]}})})});var gE=B(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.ChecksumStream=void 0;var oj=fr(),ij=require("stream"),fE=class extends ij.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:r,checksum:t,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??oj.toBase64,this.expectedChecksum=r,this.checksum=t,this.checksumSourceLocation=s,this.source.pipe(this)}_read(r){}_write(r,t,n){try{this.checksum.update(r),this.push(r)}catch(s){return n(s)}return n()}async _final(r){try{let t=await this.checksum.digest(),n=this.base64Encoder(t);if(this.expectedChecksum!==n)return r(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(t){return r(t)}return this.push(null),r()}};em.ChecksumStream=fE});var ro=B(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.isBlob=Oa.isReadableStream=void 0;var aj=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Oa.isReadableStream=aj;var cj=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Oa.isBlob=cj});var mv=B(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.ChecksumStream=void 0;var lj=typeof ReadableStream=="function"?ReadableStream:function(){},hE=class extends lj{};tm.ChecksumStream=hE});var fv=B(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.createChecksumStream=void 0;var dj=fr(),uj=ro(),mj=mv(),fj=({expectedChecksum:e,checksum:r,source:t,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,uj.isReadableStream)(t))throw new Error(`@smithy/util-stream: unsupported source type ${t?.constructor?.name??t} in ChecksumStream.`);let o=s??dj.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let a=new TransformStream({start(){},async transform(l,d){r.update(l),d.enqueue(l)},async flush(l){let d=await r.digest(),f=o(d);if(e!==f){let g=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);l.error(g)}else l.terminate()}});t.pipeThrough(a);let c=a.readable;return Object.setPrototypeOf(c,mj.ChecksumStream.prototype),c};rm.createChecksumStream=fj});var gv=B(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});pE.createChecksumStream=yj;var gj=ro(),hj=gE(),pj=fv();function yj(e){return typeof ReadableStream=="function"&&(0,gj.isReadableStream)(e.source)?(0,pj.createChecksumStream)(e):new hj.ChecksumStream(e)}});var SE=B(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.ByteArrayCollector=void 0;var yE=class{allocByteArray;byteLength=0;byteArrays=[];constructor(r){this.allocByteArray=r}push(r){this.byteArrays.push(r),this.byteLength+=r.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let r=this.allocByteArray(this.byteLength),t=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];r.set(s,t),t+=s.byteLength}return this.reset(),r}reset(){this.byteArrays=[],this.byteLength=0}};nm.ByteArrayCollector=yE});var Sv=B(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.createBufferedReadable=void 0;Es.createBufferedReadableStream=hv;Es.merge=pv;Es.flush=sm;Es.sizeOf=Na;Es.modeOf=yv;var Sj=SE();function hv(e,r,t){let n=e.getReader(),s=!1,o=0,a=["",new Sj.ByteArrayCollector(d=>new Uint8Array(d))],c=-1,l=async d=>{let{value:f,done:g}=await n.read(),y=f;if(g){if(c!==-1){let h=sm(a,c);Na(h)>0&&d.enqueue(h)}d.close()}else{let h=yv(y,!1);if(c!==h&&(c>=0&&d.enqueue(sm(a,c)),c=h),c===-1){d.enqueue(y);return}let _=Na(y);o+=_;let v=Na(a[c]);if(_>=r&&v===0)d.enqueue(y);else{let I=pv(a,c,y);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${r}, automatically buffering.`)),I>=r?d.enqueue(sm(a,c)):await l(d)}}};return new ReadableStream({pull:l})}Es.createBufferedReadable=hv;function pv(e,r,t){switch(r){case 0:return e[0]+=t,Na(e[0]);case 1:case 2:return e[r].push(t),Na(e[r])}}function sm(e,r){switch(r){case 0:let t=e[0];return e[0]="",t;case 1:case 2:return e[r].flush()}throw new Error(`@smithy/util-stream - invalid index ${r} given to flush()`)}function Na(e){return e?.byteLength??e?.length??0}function yv(e,r=!0){return r&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var bv=B(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});EE.createBufferedReadable=_j;var Ej=require("node:stream"),Ev=SE(),bs=Sv(),bj=ro();function _j(e,r,t){if((0,bj.isReadableStream)(e))return(0,bs.createBufferedReadableStream)(e,r,t);let n=new Ej.Readable({read(){}}),s=!1,o=0,a=["",new Ev.ByteArrayCollector(l=>new Uint8Array(l)),new Ev.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let d=(0,bs.modeOf)(l,!0);if(c!==d&&(c>=0&&n.push((0,bs.flush)(a,c)),c=d),c===-1){n.push(l);return}let f=(0,bs.sizeOf)(l);o+=f;let g=(0,bs.sizeOf)(a[c]);if(f>=r&&g===0)n.push(l);else{let y=(0,bs.merge)(a,c,l);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${r}, automatically buffering.`)),y>=r&&n.push((0,bs.flush)(a,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,bs.flush)(a,c);(0,bs.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var _v=B(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.getAwsChunkedEncodingStream=void 0;var Cj=require("stream"),xj=(e,r)=>{let{base64Encoder:t,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:a}=r,c=t!==void 0&&s!==void 0&&o!==void 0&&a!==void 0,l=c?a(s,e):void 0,d=new Cj.Readable({read:()=>{}});return e.on("data",f=>{let g=n(f)||0;d.push(`${g.toString(16)}\r
`),d.push(f),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),c){let f=t(await l);d.push(`${o}:${f}\r
`),d.push(`\r
`)}d.push(null)}),d};om.getAwsChunkedEncodingStream=xj});var Cv=B(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});bE.headStream=wj;async function wj(e,r){let t=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await s.read();if(d&&(n.push(d),t+=d?.byteLength??0),t>=r)break;o=l}s.releaseLock();let a=new Uint8Array(Math.min(r,t)),c=0;for(let l of n){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var xv=B(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.headStream=void 0;var Aj=require("stream"),Pj=Cv(),vj=ro(),Tj=(e,r)=>(0,vj.isReadableStream)(e)?(0,Pj.headStream)(e,r):new Promise((t,n)=>{let s=new _E;s.limit=r,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));t(o)})});im.headStream=Tj;var _E=class extends Aj.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(r,t,n){if(this.buffers.push(r),this.bytesBuffered+=r.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var xE=B(CE=>{"use strict";var wv=e=>encodeURIComponent(e).replace(/[!'()*]/g,Rj),Rj=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,Ij=e=>e.split("/").map(wv).join("/");CE.escapeUri=wv;CE.escapeUriPath=Ij});var AE=B(Av=>{"use strict";var wE=xE();function kj(e){let r=[];for(let t of Object.keys(e).sort()){let n=e[t];if(t=wE.escapeUri(t),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)r.push(`${t}=${wE.escapeUri(n[s])}`);else{let s=t;(n||typeof n=="string")&&(s+=`=${wE.escapeUri(n)}`),r.push(s)}}return r.join("&")}Av.buildQueryString=kj});var Zo=B($l=>{"use strict";var Rv=Ke(),Iv=AE(),PE=require("http"),vE=require("https"),kv=require("stream"),TE=require("http2"),Oj=["ECONNRESET","EPIPE","ETIMEDOUT"],Ov=e=>{let r={};for(let t of Object.keys(e)){let n=e[t];r[t]=Array.isArray(n)?n.join(","):n}return r},Or={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e)},Pv=1e3,Nj=(e,r,t=0)=>{if(!t)return-1;let n=s=>{let o=Or.setTimeout(()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${t} ms.`),{name:"TimeoutError"}))},t-s),a=c=>{c?.connecting?c.on("connect",()=>{Or.clearTimeout(o)}):Or.clearTimeout(o)};e.socket?a(e.socket):e.on("socket",a)};return t<2e3?(n(0),0):Or.setTimeout(n.bind(null,Pv),Pv)},Bj=(e,r,t=0,n,s)=>t?Or.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${t} ms requestTimeout.`;if(n){let a=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(a),r(a)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},t):-1,Dj=3e3,Mj=(e,{keepAlive:r,keepAliveMsecs:t},n=Dj)=>{if(r!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(r,t||0):e.on("socket",o=>{o.setKeepAlive(r,t||0)})};return n===0?(s(),0):Or.setTimeout(s,n)},vv=3e3,Lj=(e,r,t=0)=>{let n=s=>{let o=t-s,a=()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${t} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,a),e.on("close",()=>e.socket?.removeListener("timeout",a))):e.setTimeout(o,a)};return 0<t&&t<6e3?(n(0),0):Or.setTimeout(n.bind(null,t===0?0:vv),vv)},Tv=6e3;async function Nv(e,r,t=Tv){let n=r.headers??{},s=n.Expect||n.expect,o=-1,a=!0;s==="100-continue"&&(a=await Promise.race([new Promise(c=>{o=Number(Or.setTimeout(()=>c(!0),Math.max(Tv,t)))}),new Promise(c=>{e.on("continue",()=>{Or.clearTimeout(o),c(!0)}),e.on("response",()=>{Or.clearTimeout(o),c(!1)}),e.on("error",()=>{Or.clearTimeout(o),c(!1)})})])),a&&Fj(e,r.body)}function Fj(e,r){if(r instanceof kv.Readable){r.pipe(e);return}if(r){if(Buffer.isBuffer(r)||typeof r=="string"){e.end(r);return}let t=r;if(typeof t=="object"&&t.buffer&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number"){e.end(Buffer.from(t.buffer,t.byteOffset,t.byteLength));return}e.end(Buffer.from(r));return}e.end()}var zj=0,RE=class e{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(r){return typeof r?.handle=="function"?r:new e(r)}static checkSocketUsage(r,t,n=console){let{sockets:s,requests:o,maxSockets:a}=r;if(typeof a!="number"||a===1/0||Date.now()-15e3<t)return t;if(s&&o)for(let l in s){let d=s[l]?.length??0,f=o[l]?.length??0;if(d>=a&&f>=2*a)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(this.resolveDefaultConfig(s))}).catch(n):t(this.resolveDefaultConfig(r))})}resolveDefaultConfig(r){let{requestTimeout:t,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:a,httpsAgent:c,throwOnRequestTimeout:l}=r||{},d=!0,f=50;return{connectionTimeout:n,requestTimeout:t,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:l,httpAgent:a instanceof PE.Agent||typeof a?.destroy=="function"?a:new PE.Agent({keepAlive:d,maxSockets:f,...a}),httpsAgent:c instanceof vE.Agent||typeof c?.destroy=="function"?c:new vE.Agent({keepAlive:d,maxSockets:f,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let a,c=[],l=async ie=>{await a,c.forEach(Or.clearTimeout),s(ie)},d=async ie=>{await a,c.forEach(Or.clearTimeout),o(ie)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){let ie=new Error("Request aborted");ie.name="AbortError",d(ie);return}let f=r.protocol==="https:",g=f?this.config.httpsAgent:this.config.httpAgent;c.push(Or.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(g,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let y=Iv.buildQueryString(r.query||{}),h;if(r.username!=null||r.password!=null){let ie=r.username??"",Ne=r.password??"";h=`${ie}:${Ne}`}let _=r.path;y&&(_+=`?${y}`),r.fragment&&(_+=`#${r.fragment}`);let v=r.hostname??"";v[0]==="["&&v.endsWith("]")?v=r.hostname.slice(1,-1):v=r.hostname;let I={headers:r.headers,host:v,method:r.method,path:_,port:r.port,agent:g,auth:h},W=(f?vE.request:PE.request)(I,ie=>{let Ne=new Rv.HttpResponse({statusCode:ie.statusCode||-1,reason:ie.statusMessage,headers:Ov(ie.headers),body:ie});l({response:Ne})});if(W.on("error",ie=>{Oj.includes(ie.code)?d(Object.assign(ie,{name:"TimeoutError"})):d(ie)}),t){let ie=()=>{W.destroy();let Ne=new Error("Request aborted");Ne.name="AbortError",d(Ne)};if(typeof t.addEventListener=="function"){let Ne=t;Ne.addEventListener("abort",ie,{once:!0}),W.once("close",()=>Ne.removeEventListener("abort",ie))}else t.onabort=ie}let ce=n??this.config.requestTimeout;c.push(Nj(W,d,this.config.connectionTimeout)),c.push(Bj(W,d,ce,this.config.throwOnRequestTimeout,this.config.logger??console)),c.push(Lj(W,d,this.config.socketTimeout));let le=I.agent;typeof le=="object"&&"keepAlive"in le&&c.push(Mj(W,{keepAlive:le.keepAlive,keepAliveMsecs:le.keepAliveMsecs})),a=Nv(W,r,ce).catch(ie=>(c.forEach(Or.clearTimeout),o(ie)))})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}},IE=class{sessions=[];constructor(r){this.sessions=r??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(r){this.sessions.push(r)}contains(r){return this.sessions.includes(r)}remove(r){this.sessions=this.sessions.filter(t=>t!==r)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(r){for(let t of this.sessions)t===r&&(t.destroyed||t.destroy())}},kE=class{constructor(r){if(this.config=r,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(r,t){let n=this.getUrlString(r),s=this.sessionCache.get(n);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let o=TE.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+r.destination.toString())}),o.unref();let a=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",a),o.on("error",a),o.on("frameError",a),o.on("close",()=>this.deleteSession(n,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,a);let c=this.sessionCache.get(n)||new IE;return c.offerLast(o),this.sessionCache.set(n,c),o}deleteSession(r,t){let n=this.sessionCache.get(r);n&&n.contains(t)&&(n.remove(t),this.sessionCache.set(r,n))}release(r,t){let n=this.getUrlString(r);this.sessionCache.get(n)?.offerLast(t)}destroy(){for(let[r,t]of this.sessionCache){for(let n of t)n.destroyed||n.destroy(),t.remove(n);this.sessionCache.delete(r)}}setMaxConcurrentStreams(r){if(r&&r<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=r}setDisableConcurrentStreams(r){this.config.disableConcurrency=r}getUrlString(r){return r.destination.toString()}},OE=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new kE({});static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(s||{})}).catch(n):t(r||{})})}destroy(){this.connectionManager.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,a=n??s;return new Promise((c,l)=>{let d=!1,f,g=async tt=>{await f,c(tt)},y=async tt=>{await f,l(tt)};if(t?.aborted){d=!0;let tt=new Error("Request aborted");tt.name="AbortError",y(tt);return}let{hostname:h,method:_,port:v,protocol:I,query:N}=r,W="";if(r.username!=null||r.password!=null){let tt=r.username??"",Lt=r.password??"";W=`${tt}:${Lt}@`}let ce=`${I}//${W}${h}${v?`:${v}`:""}`,le={destination:new URL(ce)},ie=this.connectionManager.lease(le,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),Ne=tt=>{o&&this.destroySession(ie),d=!0,y(tt)},tr=Iv.buildQueryString(N||{}),Hr=r.path;tr&&(Hr+=`?${tr}`),r.fragment&&(Hr+=`#${r.fragment}`);let _t=ie.request({...r.headers,[TE.constants.HTTP2_HEADER_PATH]:Hr,[TE.constants.HTTP2_HEADER_METHOD]:_});if(ie.ref(),_t.on("response",tt=>{let Lt=new Rv.HttpResponse({statusCode:tt[":status"]||-1,headers:Ov(tt),body:_t});d=!0,g({response:Lt}),o&&(ie.close(),this.connectionManager.deleteSession(ce,ie))}),a&&_t.setTimeout(a,()=>{_t.close();let tt=new Error(`Stream timed out because of no activity for ${a} ms`);tt.name="TimeoutError",Ne(tt)}),t){let tt=()=>{_t.close();let Lt=new Error("Request aborted");Lt.name="AbortError",Ne(Lt)};if(typeof t.addEventListener=="function"){let Lt=t;Lt.addEventListener("abort",tt,{once:!0}),_t.once("close",()=>Lt.removeEventListener("abort",tt))}else t.onabort=tt}_t.on("frameError",(tt,Lt,Aa)=>{Ne(new Error(`Frame type id ${tt} in stream id ${Aa} has failed with code ${Lt}.`))}),_t.on("error",Ne),_t.on("aborted",()=>{Ne(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${_t.rstCode}.`))}),_t.on("close",()=>{ie.unref(),o&&ie.destroy(),d||Ne(new Error("Unexpected error: http2 request did not get a response"))}),f=Nv(_t,r,a)})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(r){r.destroyed||r.destroy()}},NE=class extends kv.Writable{bufferedBytes=[];_write(r,t,n){this.bufferedBytes.push(r),n()}},Uj=e=>qj(e)?Hj(e):new Promise((r,t)=>{let n=new NE;e.pipe(n),e.on("error",s=>{n.end(),t(s)}),n.on("error",t),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));r(s)})}),qj=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Hj(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),a=0;for(let c of r)o.set(c,a),a+=c.length;return o}$l.DEFAULT_REQUEST_TIMEOUT=zj;$l.NodeHttp2Handler=OE;$l.NodeHttpHandler=RE;$l.streamCollector=Uj});var Mv=B(cm=>{"use strict";var Bv=Ke(),jj=AE(),$j=fr();function Dv(e,r){return new Request(e,r)}function Vj(e=0){return new Promise((r,t)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",t(n)},e)})}var am={supported:void 0},BE=class e{config;configProvider;static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){typeof r=="function"?this.configProvider=r().then(t=>t||{}):(this.config=r??{},this.configProvider=Promise.resolve(this.config)),am.supported===void 0&&(am.supported=typeof Request<"u"&&"keepalive"in Dv("https://[::1]"))}destroy(){}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,a=this.config.credentials;if(t?.aborted){let W=new Error("Request aborted");return W.name="AbortError",Promise.reject(W)}let c=r.path,l=jj.buildQueryString(r.query||{});l&&(c+=`?${l}`),r.fragment&&(c+=`#${r.fragment}`);let d="";if(r.username!=null||r.password!=null){let W=r.username??"",ce=r.password??"";d=`${W}:${ce}@`}let{port:f,method:g}=r,y=`${r.protocol}//${d}${r.hostname}${f?`:${f}`:""}${c}`,h=g==="GET"||g==="HEAD"?void 0:r.body,_={body:h,headers:new Headers(r.headers),method:g,credentials:a};this.config?.cache&&(_.cache=this.config.cache),h&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=t),am.supported&&(_.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(r));let v=()=>{},I=Dv(y,_),N=[fetch(I).then(W=>{let ce=W.headers,le={};for(let Ne of ce.entries())le[Ne[0]]=Ne[1];return W.body!=null?{response:new Bv.HttpResponse({headers:le,reason:W.statusText,statusCode:W.status,body:W.body})}:W.blob().then(Ne=>({response:new Bv.HttpResponse({headers:le,reason:W.statusText,statusCode:W.status,body:Ne})}))}),Vj(s)];return t&&N.push(new Promise((W,ce)=>{let le=()=>{let ie=new Error("Request aborted");ie.name="AbortError",ce(ie)};if(typeof t.addEventListener=="function"){let ie=t;ie.addEventListener("abort",le,{once:!0}),v=()=>ie.removeEventListener("abort",le)}else t.onabort=le})),Promise.race(N).finally(v)}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[r]=t,n))}httpHandlerConfigs(){return this.config??{}}},Gj=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Kj(e):Wj(e);async function Kj(e){let r=await Xj(e),t=$j.fromBase64(r);return new Uint8Array(t)}async function Wj(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),a=0;for(let c of r)o.set(c,a),a+=c.length;return o}function Xj(e){return new Promise((r,t)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return t(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),a=o>-1?o+1:s.length;r(s.substring(a))},n.onabort=()=>t(new Error("Read aborted")),n.onerror=()=>t(n.error),n.readAsDataURL(e)})}cm.FetchHttpHandler=BE;cm.keepAliveSupport=am;cm.streamCollector=Gj});var lm=B(ME=>{"use strict";var Lv={},DE={};for(let e=0;e<256;e++){let r=e.toString(16).toLowerCase();r.length===1&&(r=`0${r}`),Lv[e]=r,DE[r]=e}function Yj(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let n=e.slice(t,t+2).toLowerCase();if(n in DE)r[t/2]=DE[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return r}function Jj(e){let r="";for(let t=0;t<e.byteLength;t++)r+=Lv[e[t]];return r}ME.fromHex=Yj;ME.toHex=Jj});var qv=B(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.sdkStreamMixin=void 0;var Qj=Mv(),Zj=fr(),e$=lm(),t$=Kt(),Fv=ro(),zv="The stream has already been transformed.",r$=e=>{if(!Uv(e)&&!(0,Fv.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(zv);return r=!0,await(0,Qj.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async s=>{let o=await t();if(s==="base64")return(0,Zj.toBase64)(o);if(s==="hex")return(0,e$.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,t$.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw new Error(zv);if(r=!0,Uv(e))return n(e);if((0,Fv.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};dm.sdkStreamMixin=r$;var Uv=e=>typeof Blob=="function"&&e instanceof Blob});var jv=B(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.sdkStreamMixin=void 0;var n$=Zo(),s$=ka(),LE=require("stream"),o$=qv(),Hv="The stream has already been transformed.",i$=e=>{if(!(e instanceof LE.Readable))try{return(0,o$.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(Hv);return r=!0,await(0,n$.streamCollector)(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async n=>{let s=await t();return n===void 0||Buffer.isEncoding(n)?(0,s$.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(r)throw new Error(Hv);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof LE.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return r=!0,LE.Readable.toWeb(e)}})};um.sdkStreamMixin=i$});var $v=B(FE=>{"use strict";Object.defineProperty(FE,"__esModule",{value:!0});FE.splitStream=a$;async function a$(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Kv=B(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0});zE.splitStream=l$;var Vv=require("stream"),c$=$v(),Gv=ro();async function l$(e){if((0,Gv.isReadableStream)(e)||(0,Gv.isBlob)(e))return(0,c$.splitStream)(e);let r=new Vv.PassThrough,t=new Vv.PassThrough;return e.pipe(r),e.pipe(t),[r,t]}});var ei=B(rr=>{"use strict";var rT=fr(),nT=Kt(),Wv=gE(),Xv=gv(),Yv=bv(),Jv=_v(),Qv=xv(),Zv=jv(),eT=Kv(),tT=ro();function d$(e,r="utf-8"){return r==="base64"?rT.toBase64(e):nT.toUtf8(e)}function u$(e,r){return r==="base64"?Vl.mutate(rT.fromBase64(e)):Vl.mutate(nT.fromUtf8(e))}var Vl=class e extends Uint8Array{static fromString(r,t="utf-8"){if(typeof r=="string")return u$(r,t);throw new Error(`Unsupported conversion from ${typeof r} to Uint8ArrayBlobAdapter.`)}static mutate(r){return Object.setPrototypeOf(r,e.prototype),r}transformToString(r="utf-8"){return d$(this,r)}};rr.Uint8ArrayBlobAdapter=Vl;Object.keys(Wv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Wv[e]}})});Object.keys(Xv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Xv[e]}})});Object.keys(Yv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Yv[e]}})});Object.keys(Jv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Jv[e]}})});Object.keys(Qv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Qv[e]}})});Object.keys(Zv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Zv[e]}})});Object.keys(eT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return eT[e]}})});Object.keys(tT).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return tT[e]}})})});var mm,Ln,fm=P(()=>{mm=k(ei()),Ln=async(e=new Uint8Array,r)=>{if(e instanceof Uint8Array)return mm.Uint8ArrayBlobAdapter.mutate(e);if(!e)return mm.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let t=r.streamCollector(e);return mm.Uint8ArrayBlobAdapter.mutate(await t)}});function Kn(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}var gm=P(()=>{});var un,UE=P(()=>{un=e=>typeof e=="function"?e():e});var Ct,_s=P(()=>{Ct=class{name;namespace;traits;static assign(r,t){return Object.assign(r,t)}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}getName(){return this.namespace+"#"+this.name}}});var no,qE,hm=P(()=>{_s();no=class e extends Ct{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},qE=(e,r,t,n,s)=>Ct.assign(new no,{name:r,namespace:e,traits:t,memberNames:n,memberList:s})});var pm,HE,jE=P(()=>{_s();hm();pm=class e extends no{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},HE=(e,r,t,n,s,o)=>Ct.assign(new pm,{name:r,namespace:e,traits:t,memberNames:n,memberList:s,ctor:null})});var Ba,$E,VE=P(()=>{_s();Ba=class e extends Ct{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},$E=(e,r,t,n)=>Ct.assign(new Ba,{name:r,namespace:e,traits:t,valueSchema:n})});var Da,GE,KE=P(()=>{_s();Da=class e extends Ct{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},GE=(e,r,t,n,s)=>Ct.assign(new Da,{name:r,namespace:e,traits:t,keySchema:n,valueSchema:s})});var ym,WE,XE=P(()=>{_s();ym=class e extends Ct{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},WE=(e,r,t,n,s)=>Ct.assign(new ym,{name:r,namespace:e,traits:t,input:n,output:s})});var Gl,m$,YE,JE=P(()=>{_s();Gl=class e extends Ct{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},m$=(e,r,t,n)=>Ct.assign(new Gl,{name:r,namespace:e,traits:n,schemaRef:t}),YE=(e,r,t,n)=>Ct.assign(new Gl,{name:r,namespace:e,traits:t,schemaRef:n})});function so(e){if(typeof e=="object")return e;e=e|0;let r={},t=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>t++&1)===1&&(r[n]=1);return r}var QE=P(()=>{});function Kl(e,r){if(e instanceof ae)return Object.assign(e,{memberName:r,_isMemberSchema:!0});let t=ae;return new t(e,r)}function Ma(e){let[r,...t]=e;return{0:YE,1:$E,2:GE,3:qE,[-3]:HE,9:WE}[r].call(null,...t)}var ae,ZE,La,Sm=P(()=>{UE();jE();VE();KE();XE();_s();JE();hm();QE();ae=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(r,t){this.ref=r,this.memberName=t;let n=[],s=r,o=r;for(this._isMemberSchema=!1;ZE(s);)n.push(s[1]),s=s[0],o=un(s),this._isMemberSchema=!0;if(La(o)&&(o=Ma(o)),n.length>0){this.memberTraits={};for(let a=n.length-1;a>=0;--a){let c=n[a];Object.assign(this.memberTraits,so(c))}}else this.memberTraits=0;if(o instanceof e){let a=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},a,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??o.memberName;return}if(this.schema=un(o),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(this.schema instanceof Ct?this.schema.getName?.():void 0)??this.memberName??String(o),this._isMemberSchema&&!t)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](r){return Ct[Symbol.hasInstance].bind(this)(r)}static of(r){let t=un(r);if(t instanceof e)return t;if(ZE(t)){let[n,s]=t;if(n instanceof e)return Object.assign(n.getMergedTraits(),so(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(r,null,2)}.`)}return new e(t)}getSchema(){return un(this.schema?.schemaRef??this.schema)}getName(r=!1){let{name:t}=this;return!r&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let r=this.getSchema();return typeof r=="number"?r>=64&&r<128:r instanceof Ba}isMapSchema(){let r=this.getSchema();return typeof r=="number"?r>=128&&r<=255:r instanceof Da}isStructSchema(){let r=this.getSchema();return r!==null&&typeof r=="object"&&"members"in r||r instanceof no}isBlobSchema(){let r=this.getSchema();return r===21||r===42}isTimestampSchema(){let r=this.getSchema();return typeof r=="number"&&r>=4&&r<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:r}=this.getMergedTraits();return!!r||this.getSchema()===42}isIdempotencyToken(){let r=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:t,traits:n,memberTraits:s}=this;return r(t)||r(n)||r(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return so(this.memberTraits)}getOwnTraits(){return so(this.traits)}getKeySchema(){let[r,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!r&&!t)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=r?15:n?.keySchema??0;return Kl([s,0],"key")}getValueSchema(){let r=this.getSchema(),[t,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof r=="number"?63&r:r&&typeof r=="object"&&(n||s)?r.valueSchema:t?15:void 0;if(o!=null)return Kl([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(r){let t=this.getSchema();if(this.isStructSchema()&&t.memberNames.includes(r)){let n=t.memberNames.indexOf(r),s=t.memberList[n];return Kl(ZE(s)?s:[s,0],r)}if(this.isDocumentSchema())return Kl([15,0],r);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${r}.`)}getMemberSchemas(){let r={};try{for(let[t,n]of this.structIterator())r[t]=n}catch{}return r}getEventStreamMember(){if(this.isStructSchema()){for(let[r,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return r}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let r=this.getSchema();for(let t=0;t<r.memberNames.length;++t)yield[r.memberNames[t],Kl([r.memberList[t],0],r.memberNames[t])]}};ZE=e=>Array.isArray(e)&&e.length===2,La=e=>Array.isArray(e)&&e.length>=5});var sT,oT,iT,eb,aT=P(()=>{sT=k(Ke()),oT=k(Er());Sm();iT=e=>(r,t)=>async n=>{let{response:s}=await r(n),{operationSchema:o}=(0,oT.getSmithyContext)(t);La(o)&&(o=Ma(o));try{let a=await e.protocol.deserializeResponse(o,{...e,...t},s);return{response:s,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:s}),!("$metadata"in a)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+=`
  `+c}catch{!t.logger||t.logger?.constructor?.name==="NoOpLogger"?console.warn(c):t.logger?.warn?.(c)}typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(sT.HttpResponse.isInstance(s)){let{headers:l={}}=s,d=Object.entries(l);a.$metadata={httpStatusCode:s.statusCode,requestId:eb(/^x-[\w-]+-request-?id$/,d),extendedRequestId:eb(/^x-[\w-]+-id-2$/,d),cfId:eb(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw a}},eb=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1]});var cT,lT,dT=P(()=>{cT=k(Er());Sm();lT=e=>(r,t)=>async n=>{let{operationSchema:s}=(0,cT.getSmithyContext)(t);La(s)&&(s=Ma(s));let o=t.endpointV2?.url&&e.urlParser?async()=>e.urlParser(t.endpointV2.url):e.endpoint,a=await e.protocol.serializeRequest(s,n.input,{...e,...t,endpoint:o});return r({...n,request:a})}});function f$(e){return{applyToStack:r=>{r.add(lT(e),mT),r.add(iT(e),uT),e.protocol.setSerdeContext(e)}}}var uT,mT,fT=P(()=>{aT();dT();uT={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},mT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var g$,gT=P(()=>{g$={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Wt,hT=P(()=>{Wt=class e{namespace;schemas;exceptions;static registries=new Map;constructor(r,t=new Map,n=new Map){this.namespace=r,this.schemas=t,this.exceptions=n}static for(r){return e.registries.has(r)||e.registries.set(r,new e(r)),e.registries.get(r)}register(r,t){let n=this.normalizeShapeId(r);e.for(n.split("#")[0]).schemas.set(n,t)}getSchema(r){let t=this.normalizeShapeId(r);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(r,t){let n=r,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,t)}getErrorCtor(r){let t=r;return e.for(t[1]).exceptions.get(r)}getBaseException(){for(let r of this.exceptions.keys())if(Array.isArray(r)){let[,t,n]=r,s=t+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return r}}find(r){return[...this.schemas.values()].find(r)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(r){return r.includes("#")?r:this.namespace+"#"+r}}});var pT={};dn(pT,{ErrorSchema:()=>pm,ListSchema:()=>Ba,MapSchema:()=>Da,NormalizedSchema:()=>ae,OperationSchema:()=>ym,SCHEMA:()=>g$,Schema:()=>Ct,SimpleSchema:()=>Gl,StructureSchema:()=>no,TypeRegistry:()=>Wt,deref:()=>un,deserializerMiddlewareOption:()=>uT,error:()=>HE,getSchemaSerdePlugin:()=>f$,hydrate:()=>Ma,isStaticSchema:()=>La,list:()=>$E,map:()=>GE,op:()=>WE,serializerMiddlewareOption:()=>mT,sim:()=>m$,simAdapter:()=>YE,struct:()=>qE,translateTraits:()=>so});var Ot=P(()=>{UE();fT();VE();KE();XE();jE();Sm();_s();JE();hm();gT();QE();hT()});var h$,yT=P(()=>{h$=(e,r,t=n=>n)=>e});var p$,y$,Wl,S$,Em,Xl,E$,tb,rb,nb,sb,b$,_$,ST,C$,x$,_m,w$,ob,A$,Fa,ib,P$,v$,T$,ET,bT,R$,I$,ti,ab,bm,Yl,cb=P(()=>{p$=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},y$=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Yl.warn(bm(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let r=e.toLowerCase();if((r==="false"||r==="true")&&Yl.warn(bm(`Expected boolean, got ${typeof e}: ${e}`)),r==="false")return!1;if(r==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Wl=e=>{if(e!=null){if(typeof e=="string"){let r=parseFloat(e);if(!Number.isNaN(r))return String(r)!==String(e)&&Yl.warn(bm(`Expected number but observed string: ${e}`)),r}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},S$=Math.ceil(34028234663852886e22),Em=e=>{let r=Wl(e);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>S$)throw new TypeError(`Expected 32-bit float, got ${e}`);return r},Xl=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},E$=Xl,tb=e=>sb(e,32),rb=e=>sb(e,16),nb=e=>sb(e,8),sb=(e,r)=>{let t=Xl(e);if(t!==void 0&&b$(t,r)!==t)throw new TypeError(`Expected ${r}-bit integer, got ${e}`);return t},b$=(e,r)=>{switch(r){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},_$=(e,r)=>{if(e==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return e},ST=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let r=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${r}: ${e}`)},C$=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Yl.warn(bm(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},x$=e=>{if(e==null)return;let r=ST(e),t=Object.entries(r).filter(([,n])=>n!=null).map(([n])=>n);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return r},_m=e=>Wl(typeof e=="string"?Fa(e):e),w$=_m,ob=e=>Em(typeof e=="string"?Fa(e):e),A$=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Fa=e=>{let r=e.match(A$);if(r===null||r[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},ib=e=>typeof e=="string"?ET(e):Wl(e),P$=ib,v$=ib,T$=e=>typeof e=="string"?ET(e):Em(e),ET=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},bT=e=>Xl(typeof e=="string"?Fa(e):e),R$=bT,I$=e=>tb(typeof e=="string"?Fa(e):e),ti=e=>rb(typeof e=="string"?Fa(e):e),ab=e=>nb(typeof e=="string"?Fa(e):e),bm=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),Yl={warn:console.warn}});function Ql(e){let r=e.getUTCFullYear(),t=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`,g=c<10?`0${c}`:`${c}`;return`${k$[n]}, ${l} ${db[t]} ${r} ${d}:${f}:${g} GMT`}var k$,db,O$,N$,B$,ub,D$,M$,L$,mb,fb,Jl,F$,z$,U$,lb,q$,H$,j$,Wn,$$,V$,za,_T=P(()=>{cb();k$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],db=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];O$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),N$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=O$.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,a,c,l,d]=r,f=ti(za(n)),g=Wn(s,"month",1,12),y=Wn(o,"day",1,31);return Jl(f,g,y,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})},B$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ub=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=B$.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,a,c,l,d,f]=r,g=ti(za(n)),y=Wn(s,"month",1,12),h=Wn(o,"day",1,31),_=Jl(g,y,h,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d});return f.toUpperCase()!="Z"&&_.setTime(_.getTime()-V$(f)),_},D$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),M$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),L$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),mb=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let r=D$.exec(e);if(r){let[t,n,s,o,a,c,l,d]=r;return Jl(ti(za(o)),lb(s),Wn(n,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})}if(r=M$.exec(e),r){let[t,n,s,o,a,c,l,d]=r;return U$(Jl(F$(o),lb(s),Wn(n,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d}))}if(r=L$.exec(e),r){let[t,n,s,o,a,c,l,d]=r;return Jl(ti(za(d)),lb(n),Wn(s.trimLeft(),"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},fb=e=>{if(e==null)return;let r;if(typeof e=="number")r=e;else if(typeof e=="string")r=_m(e);else if(typeof e=="object"&&e.tag===1)r=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(r*1e3))},Jl=(e,r,t,n)=>{let s=r-1;return H$(e,s,t),new Date(Date.UTC(e,s,t,Wn(n.hours,"hour",0,23),Wn(n.minutes,"minute",0,59),Wn(n.seconds,"seconds",0,60),$$(n.fractionalMilliseconds)))},F$=e=>{let r=new Date().getUTCFullYear(),t=Math.floor(r/100)*100+ti(za(e));return t<r?t+100:t},z$=50*365*24*60*60*1e3,U$=e=>e.getTime()-new Date().getTime()>z$?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,lb=e=>{let r=db.indexOf(e);if(r<0)throw new TypeError(`Invalid month: ${e}`);return r+1},q$=[31,28,31,30,31,30,31,31,30,31,30,31],H$=(e,r,t)=>{let n=q$[r];if(r===1&&j$(e)&&(n=29),t>n)throw new TypeError(`Invalid day for ${db[r]} in ${e}: ${t}`)},j$=e=>e%4===0&&(e%100!==0||e%400===0),Wn=(e,r,t,n)=>{let s=ab(za(e));if(s<t||s>n)throw new TypeError(`${r} must be between ${t} and ${n}, inclusive`);return s},$$=e=>e==null?0:ob("0."+e)*1e3,V$=e=>{let r=e[0],t=1;if(r=="+")t=1;else if(r=="-")t=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(n*60+s)*60*1e3},za=e=>{let r=0;for(;r<e.length-1&&e.charAt(r)==="0";)r++;return r===0?e:e.slice(r)}});var Xn={};dn(Xn,{__addDisposableResource:()=>GT,__assign:()=>Cm,__asyncDelegator:()=>FT,__asyncGenerator:()=>LT,__asyncValues:()=>zT,__await:()=>Ua,__awaiter:()=>kT,__classPrivateFieldGet:()=>jT,__classPrivateFieldIn:()=>VT,__classPrivateFieldSet:()=>$T,__createBinding:()=>wm,__decorate:()=>wT,__disposeResources:()=>KT,__esDecorate:()=>PT,__exportStar:()=>NT,__extends:()=>CT,__generator:()=>OT,__importDefault:()=>HT,__importStar:()=>qT,__makeTemplateObject:()=>UT,__metadata:()=>IT,__param:()=>AT,__propKey:()=>TT,__read:()=>pb,__rest:()=>xT,__rewriteRelativeImportExtension:()=>WT,__runInitializers:()=>vT,__setFunctionName:()=>RT,__spread:()=>BT,__spreadArray:()=>MT,__spreadArrays:()=>DT,__values:()=>xm,default:()=>W$});function CT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");gb(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function xT(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t}function wT(e,r,t,n){var s=arguments.length,o=s<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(s<3?a(o):s>3?a(r,t,o):a(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o}function AT(e,r){return function(t,n){r(t,n,e)}}function PT(e,r,t,n,s,o){function a(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?n.static?e:e.prototype:null,f=r||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),g,y=!1,h=t.length-1;h>=0;h--){var _={};for(var v in n)_[v]=v==="access"?{}:n[v];for(var v in n.access)_.access[v]=n.access[v];_.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(N||null))};var I=(0,t[h])(c==="accessor"?{get:f.get,set:f.set}:f[l],_);if(c==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(g=a(I.get))&&(f.get=g),(g=a(I.set))&&(f.set=g),(g=a(I.init))&&s.unshift(g)}else(g=a(I))&&(c==="field"?s.unshift(g):f[l]=g)}d&&Object.defineProperty(d,n.name,f),y=!0}function vT(e,r,t){for(var n=arguments.length>2,s=0;s<r.length;s++)t=n?r[s].call(e,t):r[s].call(e);return n?t:void 0}function TT(e){return typeof e=="symbol"?e:"".concat(e)}function RT(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function IT(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function kT(e,r,t,n){function s(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(f){try{d(n.next(f))}catch(g){a(g)}}function l(f){try{d(n.throw(f))}catch(g){a(g)}}function d(f){f.done?o(f.value):s(f.value).then(c,l)}d((n=n.apply(e,r||[])).next())})}function OT(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(f){return l([d,f])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(t=0)),t;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function NT(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&wm(r,e,t)}function xm(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function pb(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),s,o=[],a;try{for(;(r===void 0||r-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function BT(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(pb(arguments[r]));return e}function DT(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),s=0,r=0;r<t;r++)for(var o=arguments[r],a=0,c=o.length;a<c;a++,s++)n[s]=o[a];return n}function MT(e,r,t){if(t||arguments.length===2)for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function Ua(e){return this instanceof Ua?(this.v=e,this):new Ua(e)}function LT(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(h){return function(_){return Promise.resolve(_).then(h,g)}}function c(h,_){n[h]&&(s[h]=function(v){return new Promise(function(I,N){o.push([h,v,I,N])>1||l(h,v)})},_&&(s[h]=_(s[h])))}function l(h,_){try{d(n[h](_))}catch(v){y(o[0][3],v)}}function d(h){h.value instanceof Ua?Promise.resolve(h.value.v).then(f,g):y(o[0][2],h)}function f(h){l("next",h)}function g(h){l("throw",h)}function y(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function FT(e){var r,t;return r={},n("next"),n("throw",function(s){throw s}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(s,o){r[s]=e[s]?function(a){return(t=!t)?{value:Ua(e[s](a)),done:!1}:o?o(a):a}:o}}function zT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof xm=="function"?xm(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(a){return new Promise(function(c,l){a=e[o](a),s(c,l,a.done,a.value)})}}function s(o,a,c,l){Promise.resolve(l).then(function(d){o({value:d,done:c})},a)}}function UT(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function qT(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t=hb(e),n=0;n<t.length;n++)t[n]!=="default"&&wm(r,e,t[n]);return G$(r,e),r}function HT(e){return e&&e.__esModule?e:{default:e}}function jT(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)}function $T(e,r,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,t):s?s.value=t:r.set(e,t),t}function VT(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function GT(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var n,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=r[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=r[Symbol.dispose],t&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:n,async:t})}else t&&e.stack.push({async:!0});return r}function KT(e){function r(o){e.error=e.hasError?new K$(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,n=0;function s(){for(;t=e.stack.pop();)try{if(!t.async&&n===1)return n=0,e.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(o).then(s,function(a){return r(a),s()})}else n|=1}catch(a){r(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function WT(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,s,o,a){return n?r?".jsx":".js":s&&(!o||!a)?t:s+o+"."+a.toLowerCase()+"js"}):e}var gb,Cm,wm,G$,hb,K$,W$,Yn=P(()=>{gb=function(e,r){return gb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},gb(e,r)};Cm=function(){return Cm=Object.assign||function(r){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Cm.apply(this,arguments)};wm=Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]};G$=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r},hb=function(e){return hb=Object.getOwnPropertyNames||function(r){var t=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[t.length]=n);return t},hb(e)};K$=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var n=new Error(t);return n.name="SuppressedError",n.error=e,n.suppressed=r,n};W$={__extends:CT,__assign:Cm,__rest:xT,__decorate:wT,__param:AT,__esDecorate:PT,__runInitializers:vT,__propKey:TT,__setFunctionName:RT,__metadata:IT,__awaiter:kT,__generator:OT,__createBinding:wm,__exportStar:NT,__values:xm,__read:pb,__spread:BT,__spreadArrays:DT,__spreadArray:MT,__await:Ua,__asyncGenerator:LT,__asyncDelegator:FT,__asyncValues:zT,__makeTemplateObject:UT,__importStar:qT,__importDefault:HT,__classPrivateFieldGet:jT,__classPrivateFieldSet:$T,__classPrivateFieldIn:VT,__addDisposableResource:GT,__disposeResources:KT,__rewriteRelativeImportExtension:WT}});var YT=B(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.randomUUID=void 0;var X$=(Yn(),Re(Xn)),XT=X$.__importDefault(require("crypto"));Am.randomUUID=XT.default.randomUUID.bind(XT.default)});var Pm=B(QT=>{"use strict";var JT=YT(),br=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0")),Y$=()=>{if(JT.randomUUID)return JT.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,br[e[0]]+br[e[1]]+br[e[2]]+br[e[3]]+"-"+br[e[4]]+br[e[5]]+"-"+br[e[6]]+br[e[7]]+"-"+br[e[8]]+br[e[9]]+"-"+br[e[10]]+br[e[11]]+br[e[12]]+br[e[13]]+br[e[14]]+br[e[15]]};QT.v4=Y$});var Jn,ZT=P(()=>{Jn=k(Pm())});var Nr,eR=P(()=>{Nr=function(r){return Object.assign(new String(r),{deserializeJSON(){return JSON.parse(String(r))},toString(){return String(r)},toJSON(){return String(r)}})};Nr.from=e=>e&&typeof e=="object"&&(e instanceof Nr||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Nr(String(e)):Nr(JSON.stringify(e));Nr.fromObject=Nr.from});function yb(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var tR=P(()=>{});function Cs(e,r,t){let n=Number(e);if(n<r||n>t)throw new Error(`Value ${n} out of range [${r}, ${t}]`)}var Sb,Eb,bb,rR,nR,J$,Q$,Z$,eV,tV,Zl,_b,Cb,sR=P(()=>{Sb="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Eb="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",bb="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",rR="(\\d?\\d)",nR="(\\d{4})",J$=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Q$=new RegExp(`^${Sb}, ${rR} ${Eb} ${nR} ${bb} GMT$`),Z$=new RegExp(`^${Sb}, ${rR}-${Eb}-(\\d\\d) ${bb} GMT$`),eV=new RegExp(`^${Sb} ${Eb} ( [1-9]|\\d\\d) ${bb} ${nR}$`),tV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Zl=e=>{if(e==null)return;let r=NaN;if(typeof e=="number")r=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");r=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(r=e.value);if(isNaN(r)||Math.abs(r)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(r*1e3))},_b=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let r=J$.exec(e);if(!r)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,t,n,s,o,a,c,,l,d]=r;Cs(n,1,12),Cs(s,1,31),Cs(o,0,23),Cs(a,0,59),Cs(c,0,60);let f=new Date;if(f.setUTCFullYear(Number(t),Number(n)-1,Number(s)),f.setUTCHours(Number(o)),f.setUTCMinutes(Number(a)),f.setUTCSeconds(Number(c)),f.setUTCMilliseconds(Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0),d.toUpperCase()!="Z"){let[,g,y,h]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],_=g==="-"?1:-1;f.setTime(f.getTime()+_*(Number(y)*60*60*1e3+Number(h)*60*1e3))}return f},Cb=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let r,t,n,s,o,a,c,l;if((l=Q$.exec(e))?[,r,t,n,s,o,a,c]=l:(l=Z$.exec(e))?([,r,t,n,s,o,a,c]=l,n=(Number(n)+1900).toString()):(l=eV.exec(e))&&([,t,r,s,o,a,c,n]=l),n&&a){let d=new Date;return d.setUTCFullYear(Number(n)),d.setUTCMonth(tV.indexOf(t)),Cs(r,1,31),d.setUTCDate(Number(r)),Cs(s,0,23),d.setUTCHours(Number(s)),Cs(o,0,59),d.setUTCMinutes(Number(o)),Cs(a,0,60),d.setUTCSeconds(Number(a)),d.setUTCMilliseconds(c?Math.round(parseFloat(`0.${c}`)*1e3):0),d}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function xb(e,r,t){if(t<=0||!Number.isInteger(t))throw new Error("Invalid number of delimiters ("+t+") for splitEvery.");let n=e.split(r);if(t===1)return n;let s=[],o="";for(let a=0;a<n.length;a++)o===""?o=n[a]:o+=r+n[a],(a+1)%t===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var oR=P(()=>{});var ed,iR=P(()=>{ed=e=>{let r=e.length,t=[],n=!1,s,o=0;for(let a=0;a<r;++a){let c=e[a];switch(c){case'"':s!=="\\"&&(n=!n);break;case",":n||(t.push(e.slice(o,a)),o=a+1);break;default:}s=c}return t.push(e.slice(o)),t.map(a=>{a=a.trim();let c=a.length;return c<2?a:(a[0]==='"'&&a[c-1]==='"'&&(a=a.slice(1,c-1)),a.replace(/\\"/g,'"'))})}});function wb(e){return new At(String(e),"bigDecimal")}var aR,At,cR=P(()=>{aR=/^-?\d*(\.\d+)?$/,At=class e{string;type;constructor(r,t){if(this.string=r,this.type=t,!aR.test(r))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](r){if(!r||typeof r!="object")return!1;let t=r;return e.prototype.isPrototypeOf(r)||t.type==="bigDecimal"&&aR.test(t.string)}}});var lR={};dn(lR,{LazyJsonString:()=>Nr,NumericValue:()=>At,_parseEpochTimestamp:()=>Zl,_parseRfc3339DateTimeWithOffset:()=>_b,_parseRfc7231DateTime:()=>Cb,copyDocumentWithTransform:()=>h$,dateToUtcString:()=>Ql,expectBoolean:()=>y$,expectByte:()=>nb,expectFloat32:()=>Em,expectInt:()=>E$,expectInt32:()=>tb,expectLong:()=>Xl,expectNonNull:()=>_$,expectNumber:()=>Wl,expectObject:()=>ST,expectShort:()=>rb,expectString:()=>C$,expectUnion:()=>x$,generateIdempotencyToken:()=>Jn.v4,handleFloat:()=>P$,limitedParseDouble:()=>ib,limitedParseFloat:()=>v$,limitedParseFloat32:()=>T$,logger:()=>Yl,nv:()=>wb,parseBoolean:()=>p$,parseEpochTimestamp:()=>fb,parseRfc3339DateTime:()=>N$,parseRfc3339DateTimeWithOffset:()=>ub,parseRfc7231DateTime:()=>mb,quoteHeader:()=>yb,splitEvery:()=>xb,splitHeader:()=>ed,strictParseByte:()=>ab,strictParseDouble:()=>_m,strictParseFloat:()=>w$,strictParseFloat32:()=>ob,strictParseInt:()=>R$,strictParseInt32:()=>I$,strictParseLong:()=>bT,strictParseShort:()=>ti});var $r=P(()=>{yT();_T();ZT();eR();cb();tR();sR();oR();iR();cR()});var Br,qa=P(()=>{Br=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});var dR,Ab,uR=P(()=>{dR=k(Kt()),Ab=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:r,serializer:t,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=r,this.serializer=t,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){let s=this.marshaller,o=t.getEventStreamMember(),a=t.getMemberSchema(o),c=a.getMemberSchemas(),l=this.serializer,d=this.defaultContentType,f=Symbol("initialRequestMarker"),g={async*[Symbol.asyncIterator](){if(n){let y={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:d}};l.write(t,n);let h=l.flush();yield{[f]:!0,headers:y,body:h}}for await(let y of r)yield y}};return s.serialize(g,y=>{if(y[f])return{headers:y.headers,body:y.body};let h=Object.keys(y).find(ce=>ce!=="__type")??"",{additionalHeaders:_,body:v,eventType:I,explicitPayloadContentType:N}=this.writeEventBody(h,a,y);return{headers:{":event-type":{type:"string",value:I},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:N??d},..._},body:v}})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){let s=this.marshaller,o=t.getEventStreamMember(),c=t.getMemberSchema(o).getMemberSchemas(),l=Symbol("initialResponseMarker"),d=s.deserialize(r.body,async y=>{let h=Object.keys(y).find(_=>_!=="__type")??"";if(h==="initial-response"){let _=await this.deserializer.read(t,y[h].body);return delete _[o],{[l]:!0,..._}}else if(h in c){let _=c[h];return{[h]:await this.deserializer.read(_,y[h].body)}}else return{$unknown:y}}),f=d[Symbol.asyncIterator](),g=await f.next();if(g.done)return d;if(g.value?.[l]){if(!t)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,h]of Object.entries(g.value))n[y]=h}return{async*[Symbol.asyncIterator](){for(g?.value?.[l]||(yield g.value);;){let{done:y,value:h}=await f.next();if(y)break;yield h}}}}writeEventBody(r,t,n){let s=this.serializer,o=r,a=null,c,l=t.getSchema().memberNames.includes(r),d={};if(l){let y=t.getMemberSchema(r);if(y.isStructSchema()){for(let[h,_]of y.structIterator()){let{eventHeader:v,eventPayload:I}=_.getMergedTraits();if(I){a=h;break}else if(v){let N=n[r][h],W="binary";_.isNumericSchema()?(-2)**31<=N&&N<=2**31-1?W="integer":W="long":_.isTimestampSchema()?W="timestamp":_.isStringSchema()?W="string":_.isBooleanSchema()&&(W="boolean"),N!=null&&(d[h]={type:W,value:N},delete n[r][h])}}if(a!==null){let h=y.getMemberSchema(a);h.isBlobSchema()?c="application/octet-stream":h.isStringSchema()&&(c="text/plain"),s.write(h,n[r][a])}else s.write(y,n[r])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,h]=n[r];o=y,s.write(15,h)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??dR.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:c,additionalHeaders:d}}}});var mR={};dn(mR,{EventStreamSerde:()=>Ab});var fR=P(()=>{uR()});var vm,ri,Tm=P(()=>{Ot();vm=k(Ke());qa();ri=class extends Br{options;constructor(r){super(),this.options=r}getRequestType(){return vm.HttpRequest}getResponseType(){return vm.HttpResponse}setSerdeContext(r){this.serdeContext=r,this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(r)}updateServiceEndpoint(r,t){if("url"in t){r.protocol=t.url.protocol,r.hostname=t.url.hostname,r.port=t.url.port?Number(t.url.port):void 0,r.path=t.url.pathname,r.fragment=t.url.hash||void 0,r.username=t.url.username||void 0,r.password=t.url.password||void 0,r.query||(r.query={});for(let[n,s]of t.url.searchParams.entries())r.query[n]=s;return r}else return r.protocol=t.protocol,r.hostname=t.hostname,r.port=t.port?Number(t.port):void 0,r.path=t.path,r.query={...t.query},r}setHostPrefix(r,t,n){let s=ae.of(t),o=ae.of(t.input);if(s.getMergedTraits().endpoint){let a=s.getMergedTraits().endpoint?.[0];if(typeof a=="string"){let c=[...o.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let d=n[l];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);a=a.replace(`{${l}}`,d)}r.hostname=a+r.hostname}}}deserializeMetadata(r){return{httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:r}=await Promise.resolve().then(()=>(fR(),mR));return new r({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(r,t,n,s,o){return[]}getEventStreamMarshaller(){let r=this.serdeContext;if(!r.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return r.eventStreamMarshaller}}});var gR,hR,ni,pR=P(()=>{Ot();$r();gR=k(Ke()),hR=k(ei());fm();gm();Tm();ni=class extends ri{async serializeRequest(r,t,n){let s={...t??{}},o=this.serializer,a={},c={},l=await n.endpoint(),d=ae.of(r?.input),f=d.getSchema(),g=!1,y,h=new gR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:a,headers:c,body:void 0});if(l){this.updateServiceEndpoint(h,l),this.setHostPrefix(h,r,s);let _=so(r.traits);if(_.http){h.method=_.http[0];let[v,I]=_.http[1].split("?");h.path=="/"?h.path=v:h.path+=v;let N=new URLSearchParams(I??"");Object.assign(a,Object.fromEntries(N))}}for(let[_,v]of d.structIterator()){let I=v.getMergedTraits()??{},N=s[_];if(N!=null)if(I.httpPayload)v.isStreaming()?v.isStructSchema()?s[_]&&(y=await this.serializeEventStream({eventStream:s[_],requestSchema:d})):y=N:(o.write(v,N),y=o.flush()),delete s[_];else if(I.httpLabel){o.write(v,N);let W=o.flush();h.path.includes(`{${_}+}`)?h.path=h.path.replace(`{${_}+}`,W.split("/").map(Kn).join("/")):h.path.includes(`{${_}}`)&&(h.path=h.path.replace(`{${_}}`,Kn(W))),delete s[_]}else if(I.httpHeader)o.write(v,N),c[I.httpHeader.toLowerCase()]=String(o.flush()),delete s[_];else if(typeof I.httpPrefixHeaders=="string"){for(let[W,ce]of Object.entries(N)){let le=I.httpPrefixHeaders+W;o.write([v.getValueSchema(),{httpHeader:le}],ce),c[le.toLowerCase()]=o.flush()}delete s[_]}else I.httpQuery||I.httpQueryParams?(this.serializeQuery(v,N,a),delete s[_]):g=!0}return g&&s&&(o.write(f,s),y=o.flush()),h.headers=c,h.query=a,h.body=y,h}serializeQuery(r,t,n){let s=this.serializer,o=r.getMergedTraits();if(o.httpQueryParams){for(let[a,c]of Object.entries(t))if(!(a in n)){let l=r.getValueSchema();Object.assign(l.getMergedTraits(),{...o,httpQuery:a,httpQueryParams:void 0}),this.serializeQuery(l,c,n)}return}if(r.isListSchema()){let a=!!r.getMergedTraits().sparse,c=[];for(let l of t){s.write([r.getValueSchema(),o],l);let d=s.flush();(a||d!==void 0)&&c.push(d)}n[o.httpQuery]=c}else s.write([r,o],t),n[o.httpQuery]=s.flush()}async deserializeResponse(r,t,n){let s=this.deserializer,o=ae.of(r.output),a={};if(n.statusCode>=300){let l=await Ln(n.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(r,t,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=await this.deserializeHttpMessage(o,t,n,a);if(c.length){let l=await Ln(n.body,t);if(l.byteLength>0){let d=await s.read(o,l);for(let f of c)a[f]=d[f]}}return a.$metadata=this.deserializeMetadata(n),a}async deserializeHttpMessage(r,t,n,s,o){let a;s instanceof Set?a=o:a=s;let c=this.deserializer,l=ae.of(r),d=[];for(let[f,g]of l.structIterator()){let y=g.getMemberTraits();if(y.httpPayload){if(g.isStreaming())g.isStructSchema()?a[f]=await this.deserializeEventStream({response:n,responseSchema:l}):a[f]=(0,hR.sdkStreamMixin)(n.body);else if(n.body){let _=await Ln(n.body,t);_.byteLength>0&&(a[f]=await c.read(g,_))}}else if(y.httpHeader){let h=String(y.httpHeader).toLowerCase(),_=n.headers[h];if(_!=null)if(g.isListSchema()){let v=g.getValueSchema();v.getMergedTraits().httpHeader=h;let I;v.isTimestampSchema()&&v.getSchema()===4?I=xb(_,",",2):I=ed(_);let N=[];for(let W of I)N.push(await c.read(v,W.trim()));a[f]=N}else a[f]=await c.read(g,_)}else if(y.httpPrefixHeaders!==void 0){a[f]={};for(let[h,_]of Object.entries(n.headers))if(h.startsWith(y.httpPrefixHeaders)){let v=g.getValueSchema();v.getMergedTraits().httpHeader=h,a[f][h.slice(y.httpPrefixHeaders.length)]=await c.read(v,_)}}else y.httpResponseCode?a[f]=n.statusCode:d.push(f)}return d}}});var yR,xs,SR=P(()=>{Ot();yR=k(Ke());fm();Tm();xs=class extends ri{async serializeRequest(r,t,n){let s=this.serializer,o={},a={},c=await n.endpoint(),l=ae.of(r?.input),d=l.getSchema(),f,g=new yR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:a,body:void 0});c&&(this.updateServiceEndpoint(g,c),this.setHostPrefix(g,r,t));let y={...t};if(t){let h=l.getEventStreamMember();if(h){if(y[h]){let _={};for(let[v,I]of l.structIterator())v!==h&&y[v]&&(s.write(I,y[v]),_[v]=s.flush());f=await this.serializeEventStream({eventStream:y[h],requestSchema:l,initialRequest:_})}}else s.write(d,y),f=s.flush()}return g.headers=a,g.query=o,g.body=f,g.method="POST",g}async deserializeResponse(r,t,n){let s=this.deserializer,o=ae.of(r.output),a={};if(n.statusCode>=300){let l=await Ln(n.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(r,t,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=o.getEventStreamMember();if(c)a[c]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:a});else{let l=await Ln(n.body,t);l.byteLength>0&&Object.assign(a,await s.read(o,l))}return a.$metadata=this.deserializeMetadata(n),a}}});var Pb,vb=P(()=>{gm();Pb=(e,r,t,n,s,o)=>{if(r!=null&&r[t]!==void 0){let a=n();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?a.split("/").map(c=>Kn(c)).join("/"):Kn(a))}else throw new Error("No value provided for input HTTP label: "+t+".");return e}});function td(e,r){return new Rm(e,r)}var ER,Rm,bR=P(()=>{ER=k(Ke());vb();Rm=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(r,t){this.input=r,this.context=t}async build(){let{hostname:r,protocol:t="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new ER.HttpRequest({protocol:t,hostname:this.hostname||r,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(r){return this.hostname=r,this}bp(r){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+r}),this}p(r,t,n,s){return this.resolvePathStack.push(o=>{this.path=Pb(o,this.input,r,t,n,s)}),this}h(r){return this.headers=r,this}q(r){return this.query=r,this}b(r){return this.body=r,this}m(r){return this.method=r,this}}});function en(e,r){if(r.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:t,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(r.httpBindings?typeof n=="string"||s?6:o||t?5:void 0:void 0)??r.timestampFormat.default}var Im=P(()=>{});var Tb,_R,si,Rb=P(()=>{Ot();$r();Tb=k(fr()),_R=k(Kt());qa();Im();si=class extends Br{settings;constructor(r){super(),this.settings=r}read(r,t){let n=ae.of(r);if(n.isListSchema())return ed(t).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??Tb.fromBase64)(t);if(n.isTimestampSchema())switch(en(n,this.settings)){case 5:return _b(t);case 6:return Cb(t);case 7:return Zl(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=t;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=Nr.from(o)),o}return n.isNumericSchema()?Number(t):n.isBigIntegerSchema()?BigInt(t):n.isBigDecimalSchema()?new At(t,"bigDecimal"):n.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(r){return(this.serdeContext?.utf8Encoder??_R.toUtf8)((this.serdeContext?.base64Decoder??Tb.fromBase64)(r))}}});var km,oi,CR=P(()=>{Ot();km=k(Kt());qa();Rb();oi=class extends Br{codecDeserializer;stringDeserializer;constructor(r,t){super(),this.codecDeserializer=r,this.stringDeserializer=new si(t)}setSerdeContext(r){this.stringDeserializer.setSerdeContext(r),this.codecDeserializer.setSerdeContext(r),this.serdeContext=r}read(r,t){let n=ae.of(r),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??km.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(t));if(s.httpPayload){if(n.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??km.fromUtf8;return typeof t=="string"?a(t):t}else if(n.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(n,t)}}});var Ib,rd,kb=P(()=>{Ot();$r();Ib=k(fr());qa();Im();rd=class extends Br{settings;stringBuffer="";constructor(r){super(),this.settings=r}write(r,t){let n=ae.of(r);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${n.getName(!0)}`);switch(en(n,this.settings)){case 5:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Ql(t);break;case 7:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??Ib.toBase64)(t);return}if(n.isListSchema()&&Array.isArray(t)){let a="";for(let c of t){this.write([n.getValueSchema(),n.getMergedTraits()],c);let l=this.flush(),d=n.getValueSchema().isTimestampSchema()?l:yb(l);a!==""&&(a+=", "),a+=d}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=t;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=Nr.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Ib.toBase64)(o.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let r=this.stringBuffer;return this.stringBuffer="",r}}});var ii,xR=P(()=>{Ot();kb();ii=class{codecSerializer;stringSerializer;buffer;constructor(r,t,n=new rd(t)){this.codecSerializer=r,this.stringSerializer=n}setSerdeContext(r){this.codecSerializer.setSerdeContext(r),this.stringSerializer.setSerdeContext(r)}write(r,t){let n=ae.of(r),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,t)}flush(){if(this.buffer!==void 0){let r=this.buffer;return this.buffer=void 0,r}return this.codecSerializer.flush()}}});var wR={};dn(wR,{FromStringShapeDeserializer:()=>si,HttpBindingProtocol:()=>ni,HttpInterceptingShapeDeserializer:()=>oi,HttpInterceptingShapeSerializer:()=>ii,HttpProtocol:()=>ri,RequestBuilder:()=>Rm,RpcProtocol:()=>xs,SerdeContext:()=>Br,ToStringShapeSerializer:()=>rd,collectBody:()=>Ln,determineTimestampFormat:()=>en,extendedEncodeURIComponent:()=>Kn,requestBuilder:()=>td,resolvedPath:()=>Pb});var Vr=P(()=>{fm();gm();pR();Tm();SR();bR();vb();Rb();CR();xR();kb();Im();qa()});var AR=P(()=>{Vr()});function rV(e,r,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[r]=t}var PR=P(()=>{});var ai,vR=P(()=>{ai=class{authSchemes=new Map;constructor(r){for(let[t,n]of Object.entries(r))n!==void 0&&this.authSchemes.set(t,n)}getIdentityProvider(r){return this.authSchemes.get(r)}}});var TR,Ob,Nb,RR=P(()=>{TR=k(Ke()),Ob=k(Ss()),Nb=class{async sign(r,t,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=TR.HttpRequest.clone(r);if(n.in===Ob.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=t.apiKey;else if(n.in===Ob.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${t.apiKey}`:t.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var IR,Bb,kR=P(()=>{IR=k(Ke()),Bb=class{async sign(r,t,n){let s=IR.HttpRequest.clone(r);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${t.token}`,s}}});var ws,OR=P(()=>{ws=class{async sign(r,t,n){return r}}});var NR=P(()=>{RR();kR();OR()});var BR,nV,Db,Om,Mb,DR=P(()=>{BR=e=>function(t){return Om(t)&&t.expiration.getTime()-Date.now()<e},nV=3e5,Db=BR(3e5),Om=e=>e.expiration!==void 0,Mb=(e,r,t)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,a,c=!1,l=async d=>{o||(o=n(d));try{s=await o,a=!0,c=!1}finally{o=void 0}return s};return r===void 0?async d=>((!a||d?.forceRefresh)&&(s=await l(d)),s):async d=>((!a||d?.forceRefresh)&&(s=await l(d)),c?s:t(s)?(r(s)&&await l(d),s):(c=!0,s))}});var MR=P(()=>{vR();NR();DR()});var ci={};dn(ci,{DefaultIdentityProviderConfig:()=>ai,EXPIRATION_MS:()=>nV,HttpApiKeyAuthSigner:()=>Nb,HttpBearerAuthSigner:()=>Bb,NoAuthSigner:()=>ws,createIsIdentityExpiredFunction:()=>BR,createPaginator:()=>nv,doesIdentityRequireRefresh:()=>Om,getHttpAuthSchemeEndpointRuleSetPlugin:()=>ql,getHttpAuthSchemePlugin:()=>HH,getHttpSigningPlugin:()=>Hl,getSmithyContext:()=>MH,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>qP,httpAuthSchemeMiddleware:()=>Ul,httpAuthSchemeMiddlewareOptions:()=>WP,httpSigningMiddleware:()=>lE,httpSigningMiddlewareOptions:()=>ZP,isIdentityExpired:()=>Db,memoizeIdentityProvider:()=>Mb,normalizeProvider:()=>to,requestBuilder:()=>td,setFeature:()=>rV});var Dr=P(()=>{MP();YP();tv();rv();sv();AR();PR();MR()});var Mr=B(li=>{"use strict";var Ha=class e extends Error{name="ProviderError";tryNextLink;constructor(r,t=!0){let n,s=!0;typeof t=="boolean"?(n=void 0,s=t):t!=null&&typeof t=="object"&&(n=t.logger,s=t.tryNextLink??!0),super(r),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${r}`)}static from(r,t=!0){return Object.assign(new this(r.message,t),r)}},Lb=class e extends Ha{name="CredentialsProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},Fb=class e extends Ha{name="TokenProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},sV=(...e)=>async()=>{if(e.length===0)throw new Ha("No providers in chain");let r;for(let t of e)try{return await t()}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r},oV=e=>()=>Promise.resolve(e),iV=(e,r,t)=>{let n,s,o,a=!1,c=async()=>{s||(s=e());try{n=await s,o=!0,a=!1}finally{s=void 0}return n};return r===void 0?async l=>((!o||l?.forceRefresh)&&(n=await c()),n):async l=>((!o||l?.forceRefresh)&&(n=await c()),a?n:t&&!t(n)?(a=!0,n):(r(n)&&await c(),n))};li.CredentialsProviderError=Lb;li.ProviderError=Ha;li.TokenProviderError=Fb;li.chain=sV;li.fromStatic=oV;li.memoize=iV});var zb,LR,FR,zR=P(()=>{Dr();zb=k(Mr()),LR=e=>(e.sigv4aSigningRegionSet=to(e.sigv4aSigningRegionSet),e),FR={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(r=>r.trim());throw new zb.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(r=>r.trim());throw new zb.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Um=B(Pe=>{"use strict";var oo=lm(),di=Kt(),aV=Yu(),jR=Ke(),UR=Er(),Nm=xE(),$R="X-Amz-Algorithm",VR="X-Amz-Credential",Vb="X-Amz-Date",GR="X-Amz-SignedHeaders",KR="X-Amz-Expires",Gb="X-Amz-Signature",Kb="X-Amz-Security-Token",cV="X-Amz-Region-Set",Wb="authorization",Xb=Vb.toLowerCase(),WR="date",XR=[Wb,Xb,WR],YR=Gb.toLowerCase(),Fm="x-amz-content-sha256",JR=Kb.toLowerCase(),lV="host",QR={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ZR=/^proxy-/,eI=/^sec-/,dV=[/^proxy-/i,/^sec-/i],Bm="AWS4-HMAC-SHA256",uV="AWS4-ECDSA-P256-SHA256",tI="AWS4-HMAC-SHA256-PAYLOAD",rI="UNSIGNED-PAYLOAD",nI=50,Yb="aws4_request",sI=60*60*24*7,ja={},Dm=[],Mm=(e,r,t)=>`${e}/${r}/${t}/${Yb}`,oI=async(e,r,t,n,s)=>{let o=await qR(e,r.secretAccessKey,r.accessKeyId),a=`${t}:${n}:${s}:${oo.toHex(o)}:${r.sessionToken}`;if(a in ja)return ja[a];for(Dm.push(a);Dm.length>nI;)delete ja[Dm.shift()];let c=`AWS4${r.secretAccessKey}`;for(let l of[t,n,s,Yb])c=await qR(e,c,l);return ja[a]=c},mV=()=>{Dm.length=0,Object.keys(ja).forEach(e=>{delete ja[e]})},qR=(e,r,t)=>{let n=new e(r);return n.update(di.toUint8Array(t)),n.digest()},Ub=({headers:e},r,t)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in QR||r?.has(o)||ZR.test(o)||eI.test(o))&&(!t||t&&!t.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},Lm=async({headers:e,body:r},t)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Fm)return e[n];if(r==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof r=="string"||ArrayBuffer.isView(r)||aV.isArrayBuffer(r)){let n=new t;return n.update(di.toUint8Array(r)),oo.toHex(await n.digest())}return rI},qb=class{format(r){let t=[];for(let o of Object.keys(r)){let a=di.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(r.value,3),a;case"string":let c=di.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Hb.fromNumber(r.value.valueOf()).bytes,1),f;case"uuid":if(!fV.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(oo.fromHex(r.value.replace(/\-/g,"")),1),g}}},fV=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Hb=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&HR(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&HR(r),parseInt(oo.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function HR(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var iI=(e,r)=>{e=e.toLowerCase();for(let t of Object.keys(r))if(e===t.toLowerCase())return!0;return!1},aI=(e,r={})=>{let{headers:t,query:n={}}=jR.HttpRequest.clone(e);for(let s of Object.keys(t)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!r.unhoistableHeaders?.has(o)||r.hoistableHeaders?.has(o))&&(n[s]=t[s],delete t[s])}return{...e,headers:t,query:n}},jb=e=>{e=jR.HttpRequest.clone(e);for(let r of Object.keys(e.headers))XR.indexOf(r.toLowerCase())>-1&&delete e.headers[r];return e},cI=({query:e={}})=>{let r=[],t={};for(let n of Object.keys(e)){if(n.toLowerCase()===YR)continue;let s=Nm.escapeUri(n);r.push(s);let o=e[n];typeof o=="string"?t[s]=`${s}=${Nm.escapeUri(o)}`:Array.isArray(o)&&(t[s]=o.slice(0).reduce((a,c)=>a.concat([`${s}=${Nm.escapeUri(c)}`]),[]).sort().join("&"))}return r.sort().map(n=>t[n]).filter(n=>n).join("&")},gV=e=>hV(e).toISOString().replace(/\.\d{3}Z$/,"Z"),hV=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,zm=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a=!0}){this.service=s,this.sha256=o,this.uriEscapePath=a,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=UR.normalizeProvider(n),this.credentialProvider=UR.normalizeProvider(t)}createCanonicalRequest(r,t,n){let s=Object.keys(t).sort();return`${r.method}
${this.getCanonicalPath(r)}
${cI(r)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(r,t,n,s){let o=new this.sha256;o.update(di.toUint8Array(n));let a=await o.digest();return`${s}
${r}
${t}
${oo.toHex(a)}`}getCanonicalPath({path:r}){if(this.uriEscapePath){let t=[];for(let o of r.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let n=`${r?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&r?.endsWith("/")?"/":""}`;return Nm.escapeUri(n).replace(/%2F/g,"/")}return r}validateResolvedCredentials(r){if(typeof r!="object"||typeof r.accessKeyId!="string"||typeof r.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(r){let t=gV(r).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(r){return Object.keys(r).sort().join(";")}},$b=class extends zm{headerFormatter=new qb;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a=!0}){super({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a})}async presign(r,t={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:l,signingRegion:d,signingService:f}=t,g=await this.credentialProvider();this.validateResolvedCredentials(g);let y=d??await this.regionProvider(),{longDate:h,shortDate:_}=this.formatDate(n);if(s>sI)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let v=Mm(_,y,f??this.service),I=aI(jb(r),{unhoistableHeaders:a,hoistableHeaders:l});g.sessionToken&&(I.query[Kb]=g.sessionToken),I.query[$R]=Bm,I.query[VR]=`${g.accessKeyId}/${v}`,I.query[Vb]=h,I.query[KR]=s.toString(10);let N=Ub(I,o,c);return I.query[GR]=this.getCanonicalHeaderList(N),I.query[Gb]=await this.getSignature(h,v,this.getSigningKey(g,y,_,f),this.createCanonicalRequest(I,N,await Lm(r,this.sha256))),I}async sign(r,t){return typeof r=="string"?this.signString(r,t):r.headers&&r.payload?this.signEvent(r,t):r.message?this.signMessage(r,t):this.signRequest(r,t)}async signEvent({headers:r,payload:t},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:a}){let c=o??await this.regionProvider(),{shortDate:l,longDate:d}=this.formatDate(n),f=Mm(l,c,a??this.service),g=await Lm({headers:{},body:t},this.sha256),y=new this.sha256;y.update(r);let h=oo.toHex(await y.digest()),_=[tI,d,f,s,h,g].join(`
`);return this.signString(_,{signingDate:n,signingRegion:c,signingService:a})}async signMessage(r,{signingDate:t=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(r.message.headers),payload:r.message.body},{signingDate:t,signingRegion:n,signingService:s,priorSignature:r.priorSignature}).then(a=>({message:r.message,signature:a}))}async signString(r,{signingDate:t=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=n??await this.regionProvider(),{shortDate:c}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,a,c,s));return l.update(di.toUint8Array(r)),oo.toHex(await l.digest())}async signRequest(r,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:a}={}){let c=await this.credentialProvider();this.validateResolvedCredentials(c);let l=o??await this.regionProvider(),d=jb(r),{longDate:f,shortDate:g}=this.formatDate(t),y=Mm(g,l,a??this.service);d.headers[Xb]=f,c.sessionToken&&(d.headers[JR]=c.sessionToken);let h=await Lm(d,this.sha256);!iI(Fm,d.headers)&&this.applyChecksum&&(d.headers[Fm]=h);let _=Ub(d,s,n),v=await this.getSignature(f,y,this.getSigningKey(c,l,g,a),this.createCanonicalRequest(d,_,h));return d.headers[Wb]=`${Bm} Credential=${c.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(_)}, Signature=${v}`,d}async getSignature(r,t,n,s){let o=await this.createStringToSign(r,t,s,Bm),a=new this.sha256(await n);return a.update(di.toUint8Array(o)),oo.toHex(await a.digest())}getSigningKey(r,t,n,s){return oI(this.sha256,r,n,t,s||this.service)}},pV={SignatureV4a:null};Pe.ALGORITHM_IDENTIFIER=Bm;Pe.ALGORITHM_IDENTIFIER_V4A=uV;Pe.ALGORITHM_QUERY_PARAM=$R;Pe.ALWAYS_UNSIGNABLE_HEADERS=QR;Pe.AMZ_DATE_HEADER=Xb;Pe.AMZ_DATE_QUERY_PARAM=Vb;Pe.AUTH_HEADER=Wb;Pe.CREDENTIAL_QUERY_PARAM=VR;Pe.DATE_HEADER=WR;Pe.EVENT_ALGORITHM_IDENTIFIER=tI;Pe.EXPIRES_QUERY_PARAM=KR;Pe.GENERATED_HEADERS=XR;Pe.HOST_HEADER=lV;Pe.KEY_TYPE_IDENTIFIER=Yb;Pe.MAX_CACHE_SIZE=nI;Pe.MAX_PRESIGNED_TTL=sI;Pe.PROXY_HEADER_PATTERN=ZR;Pe.REGION_SET_PARAM=cV;Pe.SEC_HEADER_PATTERN=eI;Pe.SHA256_HEADER=Fm;Pe.SIGNATURE_HEADER=YR;Pe.SIGNATURE_QUERY_PARAM=Gb;Pe.SIGNED_HEADERS_QUERY_PARAM=GR;Pe.SignatureV4=$b;Pe.SignatureV4Base=zm;Pe.TOKEN_HEADER=JR;Pe.TOKEN_QUERY_PARAM=Kb;Pe.UNSIGNABLE_PATTERNS=dV;Pe.UNSIGNED_PAYLOAD=rI;Pe.clearCredentialCache=mV;Pe.createScope=Mm;Pe.getCanonicalHeaders=Ub;Pe.getCanonicalQuery=cI;Pe.getPayloadHash=Lm;Pe.getSigningKey=oI;Pe.hasHeader=iI;Pe.moveHeadersToQuery=aI;Pe.prepareRequest=jb;Pe.signatureV4aContainer=pV});function yV(e,{credentials:r,credentialDefaultProvider:t}){let n;return r?r?.memoized?n=r:n=Mb(r,Db,Om):t?n=to(t(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function SV(e,r){if(r.configBound)return r;let t=async n=>r({...n,callerClientConfig:e});return t.memoized=r.memoized,t.configBound=!0,t}var Jb,ui,lI,dI=P(()=>{Mn();Dr();Jb=k(Um()),ui=e=>{let r=e.credentials,t=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(d){d&&d!==r&&d!==n&&(t=!0),r=d;let f=yV(e,{credentials:r,credentialDefaultProvider:e.credentialDefaultProvider}),g=SV(e,f);t&&!g.attributed?(n=async y=>g(y).then(h=>Qs(h,"CREDENTIALS_CODE","e")),n.memoized=g.memoized,n.configBound=g.configBound,n.attributed=!0):n=g},get(){return n},enumerable:!0,configurable:!0}),e.credentials=r;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:a}=e,c;return e.signer?c=to(e.signer):e.regionInfoProvider?c=()=>to(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,f])=>{let{signingRegion:g,signingService:y}=d;e.signingRegion=e.signingRegion||g||f,e.signingName=e.signingName||y||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},_=e.signerConstructor||Jb.SignatureV4;return new _(h)}):c=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await to(e.region)(),properties:{}},d);let f=d.signingRegion,g=d.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||g||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},h=e.signerConstructor||Jb.SignatureV4;return new h(y)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:c})},lI=ui});var uI=P(()=>{nE();kP();DP();zR();dI()});var mI={};dn(mI,{AWSSDKSigV4Signer:()=>rE,AwsSdkSigV4ASigner:()=>zl,AwsSdkSigV4Signer:()=>jr,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ra,NODE_SIGV4A_CONFIG_OPTIONS:()=>FR,getBearerTokenEnvKey:()=>Wu,resolveAWSSDKSigV4Config:()=>lI,resolveAwsSdkSigV4AConfig:()=>LR,resolveAwsSdkSigV4Config:()=>ui,validateSigningProperties:()=>Ta});var Qb=P(()=>{uI();oE()});function io(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function qm(e){return e[Zb]=!0,e}var Zb,Hm=P(()=>{Zb=Symbol("@smithy/core/cbor::tagSymbol")});function hI(e){rt=e,Ps=new DataView(rt.buffer,rt.byteOffset,rt.byteLength)}function Qn(e,r){if(e>=r)throw new Error("unexpected end of (decode) payload.");let t=(rt[e]&224)>>5,n=rt[e]&31;switch(t){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let a=yI[n],c=a+1;if(o=c,r-e<c)throw new Error(`countLength ${a} greater than remaining buf len.`);let l=e+1;a===1?s=rt[l]:a===2?s=Ps.getUint16(l):a===4?s=Ps.getUint32(l):s=Ps.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(t===0)return Be=o,e_(s);if(t===1){let a;return typeof s=="bigint"?a=BigInt(-1)-s:a=-1-s,Be=o,e_(a)}else if(n===2||n===3){let a=id(e+o,r),c=BigInt(0),l=e+o+Be;for(let d=l;d<l+a;++d)c=c<<BigInt(8)|BigInt(rt[d]);return Be=o+Be+a,n===3?-c-BigInt(1):c}else if(n===4){let a=Qn(e+o,r),[c,l]=a,d=l<0?-1:1,f="0".repeat(Math.abs(c)+1)+String(BigInt(d)*BigInt(l)),g,y=l<0?"-":"";return g=c===0?f:f.slice(0,f.length+c)+"."+f.slice(c),g=g.replace(/^0+/g,""),g===""&&(g="0"),g[0]==="."&&(g="0"+g),g=y+g,Be=o+Be,wb(g)}else{let a=Qn(e+o,r);return Be=o+Be,qm({tag:e_(s),value:a})}case 3:case 5:case 4:case 2:if(n===31)switch(t){case 3:return AV(e,r);case 5:return IV(e,r);case 4:return TV(e,r);case 2:return PV(e,r)}else switch(t){case 3:return wV(e,r);case 5:return RV(e,r);case 4:return vV(e,r);case 2:return i_(e,r)}default:return kV(e,r)}}function pI(e,r,t){return _V&&e.constructor?.name==="Buffer"?e.toString("utf-8",r,t):fI?fI.decode(e.subarray(r,t)):(0,gI.toUtf8)(e.subarray(r,t))}function CV(e){let r=Number(e);return(r<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<r)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${r} with loss of precision.`)),r}function xV(e,r){let t=e>>7,n=(e&124)>>2,s=(e&3)<<8|r,o=t===0?1:-1,a,c;if(n===0){if(s===0)return 0;a=Math.pow(2,-14),c=0}else{if(n===31)return s===0?o*(1/0):NaN;a=Math.pow(2,n-15),c=1}return c+=s/1024,o*(a*c)}function id(e,r){let t=rt[e]&31;if(t<24)return Be=1,t;if(t===24||t===25||t===26||t===27){let n=yI[t];if(Be=n+1,r-e<Be)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?rt[s]:n===2?Ps.getUint16(s):n===4?Ps.getUint32(s):CV(Ps.getBigUint64(s))}throw new Error(`unexpected minor value ${t}.`)}function wV(e,r){let t=id(e,r),n=Be;if(e+=n,r-e<t)throw new Error(`string len ${t} greater than remaining buf len.`);let s=pI(rt,e,e+t);return Be=n+t,s}function AV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(rt[e]===255){let l=io(t.length);return l.set(t,0),Be=e-n+2,pI(l,0,l.length)}let s=(rt[e]&224)>>5,o=rt[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=i_(e,r);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function i_(e,r){let t=id(e,r),n=Be;if(e+=n,r-e<t)throw new Error(`unstructured byte string len ${t} greater than remaining buf len.`);let s=rt.subarray(e,e+t);return Be=n+t,s}function PV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(rt[e]===255){let l=io(t.length);return l.set(t,0),Be=e-n+2,l}let s=(rt[e]&224)>>5,o=rt[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=i_(e,r);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function vV(e,r){let t=id(e,r),n=Be;e+=n;let s=e,o=Array(t);for(let a=0;a<t;++a){let c=Qn(e,r),l=Be;o[a]=c,e+=l}return Be=n+(e-s),o}function TV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(rt[e]===255)return Be=e-n+2,t;let s=Qn(e,r);e+=Be,t.push(s)}throw new Error("expected break marker.")}function RV(e,r){let t=id(e,r),n=Be;e+=n;let s=e,o={};for(let a=0;a<t;++a){if(e>=r)throw new Error("unexpected end of map payload.");let c=(rt[e]&224)>>5;if(c!==3)throw new Error(`unexpected major type ${c} for map key at index ${e}.`);let l=Qn(e,r);e+=Be;let d=Qn(e,r);e+=Be,o[l]=d}return Be=n+(e-s),o}function IV(e,r){e+=1;let t=e,n={};for(;e<r;){if(e>=r)throw new Error("unexpected end of map payload.");if(rt[e]===255)return Be=e-t+2,n;let s=(rt[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Qn(e,r);e+=Be;let a=Qn(e,r);e+=Be,n[o]=a}throw new Error("expected break marker.")}function kV(e,r){let t=rt[e]&31;switch(t){case 21:case 20:return Be=1,t===21;case 22:return Be=1,null;case 23:return Be=1,null;case 25:if(r-e<3)throw new Error("incomplete float16 at end of buf.");return Be=3,xV(rt[e+1],rt[e+2]);case 26:if(r-e<5)throw new Error("incomplete float32 at end of buf.");return Be=5,Ps.getFloat32(e+1);case 27:if(r-e<9)throw new Error("incomplete float64 at end of buf.");return Be=9,Ps.getFloat64(e+1);default:throw new Error(`unexpected minor value ${t}.`)}}function e_(e){if(typeof e=="number")return e;let r=Number(e);return Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:e}var gI,bV,_V,rt,Ps,fI,Be,yI,SI=P(()=>{$r();gI=k(Kt());Hm();bV=typeof TextDecoder<"u",_V=typeof Buffer<"u",rt=io(0),Ps=new DataView(rt.buffer,rt.byteOffset,rt.byteLength),fI=bV?new TextDecoder:null,Be=0;yI={[24]:1,[25]:2,[26]:4,[27]:8}});function c_(e){pe.byteLength-de<e&&(de<16e6?$m(Math.max(pe.byteLength*4,pe.byteLength+e)):$m(pe.byteLength+e+16e6))}function l_(){let e=io(de);return e.set(pe.subarray(0,de),0),de=0,e}function $m(e){let r=pe;pe=io(e),r&&(r.copy?r.copy(pe,0,0,r.byteLength):pe.set(r,0)),Rs=new DataView(pe.buffer,pe.byteOffset,pe.byteLength)}function Ts(e,r){r<24?pe[de++]=e<<5|r:r<256?(pe[de++]=e<<5|24,pe[de++]=r):r<65536?(pe[de++]=e<<5|25,Rs.setUint16(de,r),de+=2):r<2**32?(pe[de++]=e<<5|26,Rs.setUint32(de,r),de+=4):(pe[de++]=e<<5|27,Rs.setBigUint64(de,typeof r=="bigint"?r:BigInt(r)),de+=8)}function _I(e){let r=[e];for(;r.length;){let t=r.pop();if(c_(typeof t=="string"?t.length*4:64),typeof t=="string"){if(EI)Ts(3,Buffer.byteLength(t)),de+=pe.write(t,de);else{let n=(0,bI.fromUtf8)(t);Ts(3,n.byteLength),pe.set(n,de),de+=n.byteLength}continue}else if(typeof t=="number"){if(Number.isInteger(t)){let n=t>=0,s=n?0:1,o=n?t:-t-1;o<24?pe[de++]=s<<5|o:o<256?(pe[de++]=s<<5|24,pe[de++]=o):o<65536?(pe[de++]=s<<5|25,pe[de++]=o>>8,pe[de++]=o):o<4294967296?(pe[de++]=s<<5|26,Rs.setUint32(de,o),de+=4):(pe[de++]=s<<5|27,Rs.setBigUint64(de,BigInt(o)),de+=8);continue}pe[de++]=251,Rs.setFloat64(de,t),de+=8;continue}else if(typeof t=="bigint"){let n=t>=0,s=n?0:1,o=n?t:-t-BigInt(1),a=Number(o);if(a<24)pe[de++]=s<<5|a;else if(a<256)pe[de++]=s<<5|24,pe[de++]=a;else if(a<65536)pe[de++]=s<<5|25,pe[de++]=a>>8,pe[de++]=a&255;else if(a<4294967296)pe[de++]=s<<5|26,Rs.setUint32(de,a),de+=4;else if(o<BigInt("18446744073709551616"))pe[de++]=s<<5|27,Rs.setBigUint64(de,o),de+=8;else{let c=o.toString(2),l=new Uint8Array(Math.ceil(c.length/8)),d=o,f=0;for(;l.byteLength-++f>=0;)l[l.byteLength-f]=Number(d&BigInt(255)),d>>=BigInt(8);c_(l.byteLength*2),pe[de++]=n?194:195,EI?Ts(2,Buffer.byteLength(l)):Ts(2,l.byteLength),pe.set(l,de),de+=l.byteLength}continue}else if(t===null){pe[de++]=246;continue}else if(typeof t=="boolean"){pe[de++]=224|(t?21:20);continue}else{if(typeof t>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)r.push(t[n]);Ts(4,t.length);continue}else if(typeof t.byteLength=="number"){c_(t.length*2),Ts(2,t.length),pe.set(t,de),de+=t.byteLength;continue}else if(typeof t=="object"){if(t instanceof At){let s=t.string.indexOf("."),o=s===-1?0:s-t.string.length+1,a=BigInt(t.string.replace(".",""));pe[de++]=196,r.push(a),r.push(o),Ts(4,2);continue}if(t[Zb])if("tag"in t&&"value"in t){r.push(t.value),Ts(6,t.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(t));let n=Object.keys(t);for(let s=n.length-1;s>=0;--s){let o=n[s];r.push(t[o]),r.push(o)}Ts(5,n.length);continue}}throw new Error(`data type ${t?.constructor?.name??typeof t} not compatible for encoding.`)}}var bI,EI,OV,pe,Rs,de,CI=P(()=>{$r();bI=k(Kt());Hm();EI=typeof Buffer<"u",OV=2048,pe=io(OV),Rs=new DataView(pe.buffer,pe.byteOffset,pe.byteLength),de=0});var d_,xI=P(()=>{SI();CI();d_={deserialize(e){return hI(e),Qn(0,e.length)},serialize(e){try{return _I(e),l_()}catch(r){throw l_(),r}},resizeEncodingBuffer(e){$m(e)}}});var Vm,Gm,Km=P(()=>{Hm();Vm=e=>qm({tag:1,value:e.getTime()/1e3}),Gm=(e,r)=>{let t=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(r.__type!==void 0)return t(r.__type);let n=Object.keys(r).find(s=>s.toLowerCase()==="code");if(n&&r[n]!==void 0)return t(r[n])}});var f_,Wm,u_,m_,g_=P(()=>{Vr();Ot();$r();f_=k(fr());xI();Km();Wm=class extends Br{createSerializer(){let r=new u_;return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new m_;return r.setSerdeContext(this.serdeContext),r}},u_=class extends Br{value;write(r,t){this.value=this.serialize(r,t)}serialize(r,t){let n=ae.of(r);if(t==null)return n.isIdempotencyToken()?(0,Jn.v4)():t;if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??f_.fromBase64)(t):t;if(n.isTimestampSchema())return typeof t=="number"||typeof t=="bigint"?Vm(new Date(Number(t)/1e3|0)):Vm(t);if(typeof t=="function"||typeof t=="object"){let s=t;if(n.isListSchema()&&Array.isArray(s)){let a=!!n.getMergedTraits().sparse,c=[],l=0;for(let d of s){let f=this.serialize(n.getValueSchema(),d);(f!=null||a)&&(c[l++]=f)}return c}if(s instanceof Date)return Vm(s);let o={};if(n.isMapSchema()){let a=!!n.getMergedTraits().sparse;for(let c of Object.keys(s)){let l=this.serialize(n.getValueSchema(),s[c]);(l!=null||a)&&(o[c]=l)}}else if(n.isStructSchema())for(let[a,c]of n.structIterator()){let l=this.serialize(c,s[a]);l!=null&&(o[a]=l)}else if(n.isDocumentSchema())for(let a of Object.keys(s))o[a]=this.serialize(n.getValueSchema(),s[a]);return o}return t}flush(){let r=d_.serialize(this.value);return this.value=void 0,r}},m_=class extends Br{read(r,t){let n=d_.deserialize(t);return this.readValue(r,n)}readValue(r,t){let n=ae.of(r);if(n.isTimestampSchema()&&typeof t=="number")return Zl(t);if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??f_.fromBase64)(t):t;if(typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="bigint"||typeof t=="symbol")return t;if(typeof t=="function"||typeof t=="object"){if(t===null)return null;if("byteLength"in t||t instanceof Date||n.isDocumentSchema())return t;if(n.isListSchema()){let o=[],a=n.getValueSchema(),c=!!n.getMergedTraits().sparse;for(let l of t){let d=this.readValue(a,l);(d!=null||c)&&o.push(d)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,a=n.getValueSchema();for(let c of Object.keys(t)){let l=this.readValue(a,t[c]);(l!=null||o)&&(s[c]=l)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator())s[o]=this.readValue(a,t[o]);return s}else return t}}});var wI,Xm,AI=P(()=>{Vr();Ot();wI=k(Er());g_();Km();Xm=class extends xs{codec=new Wm;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:r}){super({defaultNamespace:r})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),un(r.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:a}=(0,wI.getSmithyContext)(n),c=`/service/${o}/operation/${a}`;return s.path.endsWith("/")?s.path+=c.slice(1):s.path+=c,s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let a=Gm(n,s)??"Unknown",c=this.options.defaultNamespace;a.includes("#")&&([c]=a.split("#"));let l={$metadata:o,$response:n,$fault:n.statusCode<=500?"client":"server"},d=Wt.for(c),f;try{f=d.getSchema(a)}catch{s.Message&&(s.message=s.Message);let N=Wt.for("smithy.ts.sdk.synthetic."+c),W=N.getBaseException();if(W){let ce=N.getErrorCtor(W);throw Object.assign(new ce({name:a}),l,s)}throw Object.assign(new Error(a),l,s)}let g=ae.of(f),y=d.getErrorCtor(f),h=s.message??s.Message??"Unknown",_=new y(h),v={};for(let[I,N]of g.structIterator())v[I]=this.deserializer.readValue(N,s[I]);throw Object.assign(_,l,{$fault:g.getMergedTraits().error,message:h},v)}getDefaultContentType(){return"application/cbor"}}});var PI=P(()=>{Km();AI();g_()});var mn,Va=P(()=>{Ot();mn=class{resolveRestContentType(r,t){let n=t.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":r)}else if(!t.isUnitSchema()&&Object.values(n).find(a=>{let{httpQuery:c,httpQueryParams:l,httpHeader:d,httpLabel:f,httpPrefixHeaders:g}=a.getMergedTraits();return!c&&!l&&!d&&!f&&g===void 0}))return r}async getErrorSchemaOrThrowBaseException(r,t,n,s,o,a){let c=t,l=r;r.includes("#")&&([c,l]=r.split("#"));let d={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},f=Wt.for(c);try{return{errorSchema:a?.(f,l)??f.getSchema(r),errorMetadata:d}}catch{s.message=s.message??s.Message??"UnknownError";let y=Wt.for("smithy.ts.sdk.synthetic."+c),h=y.getBaseException();if(h){let _=y.getErrorCtor(h)??Error;throw Object.assign(new _({name:l}),d,s)}throw Object.assign(new Error(l),d,s)}}setQueryCompatError(r,t){let n=t.headers?.["x-amzn-query-error"];if(r!==void 0&&n!=null){let[s,o]=n.split(";"),a=Object.entries(r),c={Code:s,Type:o};Object.assign(r,c);for(let[l,d]of a)c[l]=d;delete c.__type,r.Error=c}}queryCompatOutput(r,t){r.Error&&(t.Error=r.Error),r.Type&&(t.Type=r.Type),r.Code&&(t.Code=r.Code)}}});var h_,vI=P(()=>{PI();Ot();Va();h_=class extends Xm{awsQueryCompatible;mixin=new mn;constructor({defaultNamespace:r,awsQueryCompatible:t}){super({defaultNamespace:r}),this.awsQueryCompatible=!!t}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let a=Gm(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ae.of(c),f=s.message??s.Message??"Unknown",g=Wt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f),h={};for(let[_,v]of d.structIterator())h[_]=this.deserializer.readValue(v,s[_]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var NV,BV,DV,TI=P(()=>{NV=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let r=new Error(`Received number ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}if(typeof e=="boolean"){let r=new Error(`Received boolean ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}return e},BV=e=>{if(e==null)return e;if(typeof e=="string"){let r=e.toLowerCase();if(e!==""&&r!=="false"&&r!=="true"){let t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return e!==""&&r!=="false"}return e},DV=e=>{if(e==null)return e;if(typeof e=="string"){let r=Number(e);if(r.toString()!==e){let t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return r}return e}});var _r,uo=P(()=>{_r=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});function RI(e,r,t){if(t?.source){let n=t.source;if(typeof r=="number"&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||n!==String(r)))return n.includes(".")?new At(n,"bigDecimal"):BigInt(n)}return r}var II=P(()=>{$r()});var BI=B(NI=>{"use strict";var mi=(e,r)=>{let t=[];if(e&&t.push(e),r)for(let n of r)t.push(n);return t},mo=(e,r)=>`${e||"anonymous"}${r&&r.length>0?` (a.k.a. ${r.join(",")})`:""}`,p_=()=>{let e=[],r=[],t=!1,n=new Set,s=g=>g.sort((y,h)=>kI[h.step]-kI[y.step]||OI[h.priority||"normal"]-OI[y.priority||"normal"]),o=g=>{let y=!1,h=_=>{let v=mi(_.name,_.aliases);if(v.includes(g)){y=!0;for(let I of v)n.delete(I);return!1}return!0};return e=e.filter(h),r=r.filter(h),y},a=g=>{let y=!1,h=_=>{if(_.middleware===g){y=!0;for(let v of mi(_.name,_.aliases))n.delete(v);return!1}return!0};return e=e.filter(h),r=r.filter(h),y},c=g=>(e.forEach(y=>{g.add(y.middleware,{...y})}),r.forEach(y=>{g.addRelativeTo(y.middleware,{...y})}),g.identifyOnResolve?.(f.identifyOnResolve()),g),l=g=>{let y=[];return g.before.forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...l(h))}),y.push(g),g.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...l(h))}),y},d=(g=!1)=>{let y=[],h=[],_={};return e.forEach(I=>{let N={...I,before:[],after:[]};for(let W of mi(N.name,N.aliases))_[W]=N;y.push(N)}),r.forEach(I=>{let N={...I,before:[],after:[]};for(let W of mi(N.name,N.aliases))_[W]=N;h.push(N)}),h.forEach(I=>{if(I.toMiddleware){let N=_[I.toMiddleware];if(N===void 0){if(g)return;throw new Error(`${I.toMiddleware} is not found when adding ${mo(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&N.after.push(I),I.relation==="before"&&N.before.push(I)}}),s(y).map(l).reduce((I,N)=>(I.push(...N),I),[])},f={add:(g,y={})=>{let{name:h,override:_,aliases:v}=y,I={step:"initialize",priority:"normal",middleware:g,...y},N=mi(h,v);if(N.length>0){if(N.some(W=>n.has(W))){if(!_)throw new Error(`Duplicate middleware name '${mo(h,v)}'`);for(let W of N){let ce=e.findIndex(ie=>ie.name===W||ie.aliases?.some(Ne=>Ne===W));if(ce===-1)continue;let le=e[ce];if(le.step!==I.step||I.priority!==le.priority)throw new Error(`"${mo(le.name,le.aliases)}" middleware with ${le.priority} priority in ${le.step} step cannot be overridden by "${mo(h,v)}" middleware with ${I.priority} priority in ${I.step} step.`);e.splice(ce,1)}}for(let W of N)n.add(W)}e.push(I)},addRelativeTo:(g,y)=>{let{name:h,override:_,aliases:v}=y,I={middleware:g,...y},N=mi(h,v);if(N.length>0){if(N.some(W=>n.has(W))){if(!_)throw new Error(`Duplicate middleware name '${mo(h,v)}'`);for(let W of N){let ce=r.findIndex(ie=>ie.name===W||ie.aliases?.some(Ne=>Ne===W));if(ce===-1)continue;let le=r[ce];if(le.toMiddleware!==I.toMiddleware||le.relation!==I.relation)throw new Error(`"${mo(le.name,le.aliases)}" middleware ${le.relation} "${le.toMiddleware}" middleware cannot be overridden by "${mo(h,v)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);r.splice(ce,1)}}for(let W of N)n.add(W)}r.push(I)},clone:()=>c(p_()),use:g=>{g.applyToStack(f)},remove:g=>typeof g=="string"?o(g):a(g),removeByTag:g=>{let y=!1,h=_=>{let{tags:v,name:I,aliases:N}=_;if(v&&v.includes(g)){let W=mi(I,N);for(let ce of W)n.delete(ce);return y=!0,!1}return!0};return e=e.filter(h),r=r.filter(h),y},concat:g=>{let y=c(p_());return y.use(g),y.identifyOnResolve(t||y.identifyOnResolve()||(g.identifyOnResolve?.()??!1)),y},applyToStack:c,identify:()=>d(!0).map(g=>{let y=g.step??g.relation+" "+g.toMiddleware;return mo(g.name,g.aliases)+" - "+y}),identifyOnResolve(g){return typeof g=="boolean"&&(t=g),t},resolve:(g,y)=>{for(let h of d().map(_=>_.middleware).reverse())g=h(g,y);return t&&console.log(f.identify()),g}};return f},kI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},OI={high:3,normal:2,low:1};NI.constructStack=p_});var Ie=B(Je=>{"use strict";var LI=BI(),A_=(Vr(),Re(wR)),S_=Ss(),MV=(Ot(),Re(pT)),DI=($r(),Re(lR)),E_=class{config;middlewareStack=LI.constructStack();initConfig;handlers;constructor(r){this.config=r}send(r,t,n){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:n,a=s===void 0&&this.config.cacheMiddleware===!0,c;if(a){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(r.constructor)?c=l.get(r.constructor):(c=r.resolveMiddleware(this.middlewareStack,this.config,s),l.set(r.constructor,c))}else delete this.handlers,c=r.resolveMiddleware(this.middlewareStack,this.config,s);if(o)c(r).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return c(r).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},y_="***SensitiveInformation***";function b_(e,r){if(r==null)return r;let t=MV.NormalizedSchema.of(e);if(t.getMergedTraits().sensitive)return y_;if(t.isListSchema()){if(!!t.getValueSchema().getMergedTraits().sensitive)return y_}else if(t.isMapSchema()){if(!!t.getKeySchema().getMergedTraits().sensitive||!!t.getValueSchema().getMergedTraits().sensitive)return y_}else if(t.isStructSchema()&&typeof r=="object"){let n=r,s={};for(let[o,a]of t.structIterator())n[o]!=null&&(s[o]=b_(a,n[o]));return s}return r}var Ym=class{middlewareStack=LI.constructStack();schema;static classBuilder(){return new __}resolveMiddlewareWithContext(r,t,n,{middlewareFn:s,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,smithyContext:d,additionalContext:f,CommandCtor:g}){for(let I of s.bind(this)(g,r,t,n))this.middlewareStack.use(I);let y=r.concat(this.middlewareStack),{logger:h}=t,_={logger:h,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,[S_.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...f},{requestHandler:v}=t;return y.resolve(I=>v.handle(I.request,n||{}),_)}},__=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(r){this._init=r}ep(r){return this._ep=r,this}m(r){return this._middlewareFn=r,this}s(r,t,n={}){return this._smithyContext={service:r,operation:t,...n},this}c(r={}){return this._additionalContext=r,this}n(r,t){return this._clientName=r,this._commandName=t,this}f(r=n=>n,t=n=>n){return this._inputFilterSensitiveLog=r,this._outputFilterSensitiveLog=t,this}ser(r){return this._serializer=r,this}de(r){return this._deserializer=r,this}sc(r){return this._operationSchema=r,this._smithyContext.operationSchema=r,this}build(){let r=this,t;return t=class extends Ym{input;static getEndpointParameterInstructions(){return r._ep}constructor(...[n]){super(),this.input=n??{},r._init(this),this.schema=r._operationSchema}resolveMiddleware(n,s,o){let a=r._operationSchema,c=a?.[4]??a?.input,l=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:t,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog??(a?b_.bind(null,c):d=>d),outputFilterSensitiveLog:r._outputFilterSensitiveLog??(a?b_.bind(null,l):d=>d),smithyContext:r._smithyContext,additionalContext:r._additionalContext})}serialize=r._serializer;deserialize=r._deserializer}}},LV="***SensitiveInformation***",FV=(e,r)=>{for(let t of Object.keys(e)){let n=e[t],s=async function(a,c,l){let d=new n(a);if(typeof c=="function")this.send(d,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(d,c||{},l)}else return this.send(d,c)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");r.prototype[o]=s}},C_=class e extends Error{$fault;$response;$retryable;$metadata;constructor(r){super(r.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}static isInstance(r){if(!r)return!1;let t=r;return e.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](r){if(!r)return!1;let t=r;return this===e?e.isInstance(r):e.isInstance(r)?t.name&&this.name?this.prototype.isPrototypeOf(r)||t.name===this.name:this.prototype.isPrototypeOf(r):!1}},FI=(e,r={})=>{Object.entries(r).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},zI=({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})=>{let s=UV(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new t({name:r?.code||r?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw FI(a,r)},zV=e=>({output:r,parsedBody:t,errorCode:n})=>{zI({output:r,parsedBody:t,exceptionCtor:e,errorCode:n})},UV=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),qV=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},MI=!1,HV=e=>{e&&!MI&&parseInt(e.substring(1,e.indexOf(".")))<16&&(MI=!0)},jV=e=>{let r=[];for(let t in S_.AlgorithmId){let n=S_.AlgorithmId[t];e[n]!==void 0&&r.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},$V=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},VV=e=>({setRetryStrategy(r){e.retryStrategy=r},retryStrategy(){return e.retryStrategy}}),GV=e=>{let r={};return r.retryStrategy=e.retryStrategy(),r},UI=e=>Object.assign(jV(e),VV(e)),KV=UI,WV=e=>Object.assign($V(e),GV(e)),XV=e=>Array.isArray(e)?e:[e],qI=e=>{let r="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][r]!==void 0?e[t]=e[t][r]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=qI(e[t]));return e},YV=e=>e!=null,x_=class{trace(){}debug(){}info(){}warn(){}error(){}};function HI(e,r,t){let n,s,o;if(typeof r>"u"&&typeof t>"u")n={},o=e;else{if(n=e,typeof r=="function")return s=r,o=t,ZV(n,s,o);o=r}for(let a of Object.keys(o)){if(!Array.isArray(o[a])){n[a]=o[a];continue}jI(n,null,o,a)}return n}var JV=e=>{let r={};for(let[t,n]of Object.entries(e||{}))r[t]=[,n];return r},QV=(e,r)=>{let t={};for(let n in r)jI(t,e,r,n);return t},ZV=(e,r,t)=>HI(e,Object.entries(t).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[r,o()]:n[s]=[r,o],n),{})),jI=(e,r,t,n)=>{if(r!==null){let a=t[n];typeof a=="function"&&(a=[,a]);let[c=e4,l=t4,d=n]=a;(typeof c=="function"&&c(r[d])||typeof c!="function"&&c)&&(e[n]=l(r[d]));return}let[s,o]=t[n];if(typeof o=="function"){let a,c=s===void 0&&(a=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;c?e[n]=a:l&&(e[n]=o())}else{let a=s===void 0&&o!=null,c=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(a||c)&&(e[n]=o)}},e4=e=>e!=null,t4=e=>e,r4=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},n4=e=>e.toISOString().replace(".000Z","Z"),w_=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(r=>r!=null).map(w_);if(typeof e=="object"){let r={};for(let t of Object.keys(e))e[t]!=null&&(r[t]=w_(e[t]));return r}return e};Object.defineProperty(Je,"collectBody",{enumerable:!0,get:function(){return A_.collectBody}});Object.defineProperty(Je,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return A_.extendedEncodeURIComponent}});Object.defineProperty(Je,"resolvedPath",{enumerable:!0,get:function(){return A_.resolvedPath}});Je.Client=E_;Je.Command=Ym;Je.NoOpLogger=x_;Je.SENSITIVE_STRING=LV;Je.ServiceException=C_;Je._json=w_;Je.convertMap=JV;Je.createAggregatedClient=FV;Je.decorateServiceException=FI;Je.emitWarningIfUnsupportedVersion=HV;Je.getArrayIfSingleItem=XV;Je.getDefaultClientConfiguration=KV;Je.getDefaultExtensionConfiguration=UI;Je.getValueFromTextNode=qI;Je.isSerializableHeaderValue=YV;Je.loadConfigsForDefaultMode=qV;Je.map=HI;Je.resolveDefaultRuntimeConfig=WV;Je.serializeDateTime=n4;Je.serializeFloat=r4;Je.take=QV;Je.throwDefaultError=zI;Je.withBaseException=zV;Object.keys(DI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Je,e)&&Object.defineProperty(Je,e,{enumerable:!0,get:function(){return DI[e]}})})});var $I,VI,Jm,P_=P(()=>{$I=k(Ie()),VI=k(Kt()),Jm=(e,r)=>(0,$I.collectBody)(e,r).then(t=>(r?.utf8Encoder??VI.toUtf8)(t))});var Ga,v_,fi,ad=P(()=>{P_();Ga=(e,r)=>Jm(e,r).then(t=>{if(t.length)try{return JSON.parse(t)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:t}),n}return{}}),v_=async(e,r)=>{let t=await Ga(e,r);return t.message=t.message??t.Message,t},fi=(e,r)=>{let t=(o,a)=>Object.keys(o).find(c=>c.toLowerCase()===a.toLowerCase()),n=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(r&&typeof r=="object"){let o=t(r,"code");if(o&&r[o]!==void 0)return n(r[o]);if(r.__type!==void 0)return n(r.__type)}}});var GI,cd,T_=P(()=>{Vr();Ot();$r();GI=k(fr());uo();II();ad();cd=class extends _r{settings;constructor(r){super(),this.settings=r}async read(r,t){return this._read(r,typeof t=="string"?JSON.parse(t,RI):await Ga(t,this.serdeContext))}readObject(r,t){return this._read(r,t)}_read(r,t){let n=t!==null&&typeof t=="object",s=ae.of(r);if(s.isListSchema()&&Array.isArray(t)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._read(a,d));return c}else if(s.isMapSchema()&&n){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._read(a,f));return c}else if(s.isStructSchema()&&n){let a={};for(let[c,l]of s.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._read(l,t[d]);f!=null&&(a[c]=f)}return a}if(s.isBlobSchema()&&typeof t=="string")return(0,GI.fromBase64)(t);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof t=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return Nr.from(t);if(s.isTimestampSchema()&&t!=null)switch(en(s,this.settings)){case 5:return ub(t);case 6:return mb(t);case 7:return fb(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(s.isBigIntegerSchema()&&(typeof t=="number"||typeof t=="string"))return BigInt(t);if(s.isBigDecimalSchema()&&t!=null){if(t instanceof At)return t;let a=t;return a.type==="bigDecimal"&&"string"in a?new At(a.string,a.type):new At(String(t),"bigDecimal")}if(s.isNumericSchema()&&typeof t=="string")switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof At?a[c]=l:a[c]=this._read(s,l);return a}else return structuredClone(t);return t}}});var KI,Qm,WI=P(()=>{$r();KI="\u039D",Qm=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(r,t)=>{if(t instanceof At){let n=`${KI+"nv"+this.counter++}_`+t.string;return this.values.set(`"${n}"`,t.string),n}if(typeof t=="bigint"){let n=t.toString(),s=`${KI+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return t}}replaceInJson(r){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return r;for(let[t,n]of this.values)r=r.replace(t,n);return r}}});var XI,ld,R_=P(()=>{Vr();Ot();$r();XI=k(fr());uo();WI();ld=class extends _r{settings;buffer;rootSchema;constructor(r){super(),this.settings=r}write(r,t){this.rootSchema=ae.of(r),this.buffer=this._write(this.rootSchema,t)}writeDiscriminatedDocument(r,t){this.write(r,t),typeof this.buffer=="object"&&(this.buffer.__type=ae.of(r).getName(!0))}flush(){let{rootSchema:r}=this;if(this.rootSchema=void 0,r?.isStructSchema()||r?.isDocumentSchema()){let t=new Qm;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(r,t,n){let s=t!==null&&typeof t=="object",o=ae.of(r);if(o.isListSchema()&&Array.isArray(t)){let a=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._write(a,d));return c}else if(o.isMapSchema()&&s){let a=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._write(a,f));return c}else if(o.isStructSchema()&&s){let a={};for(let[c,l]of o.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,t[c],o);f!==void 0&&(a[d]=f)}return a}if(!(t===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(t instanceof Uint8Array||typeof t=="string")||o.isDocumentSchema()&&t instanceof Uint8Array)return o===this.rootSchema?t:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(t):(0,XI.toBase64)(t);if((o.isTimestampSchema()||o.isDocumentSchema())&&t instanceof Date)switch(en(o,this.settings)){case 5:return t.toISOString().replace(".000Z","Z");case 6:return Ql(t);case 7:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}if(o.isNumericSchema()&&typeof t=="number"&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(o.isStringSchema()){if(typeof t>"u"&&o.isIdempotencyToken())return(0,Jn.v4)();let a=o.getMergedTraits().mediaType;if(t!=null&&a&&(a==="application/json"||a.endsWith("+json")))return Nr.from(t)}if(o.isDocumentSchema())if(s){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof At?a[c]=l:a[c]=this._write(o,l);return a}else return structuredClone(t);return t}}}});var gi,Zm=P(()=>{uo();T_();R_();gi=class extends _r{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new ld(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new cd(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var hi,ef=P(()=>{Vr();Ot();Va();Zm();ad();hi=class extends xs{serializer;deserializer;serviceTarget;codec;mixin=new mn;awsQueryCompatible;constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r}),this.serviceTarget=t,this.codec=new gi({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${ae.of(r).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(un(r.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let a=fi(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ae.of(c),f=s.message??s.Message??"Unknown",g=Wt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f),h={};for(let[_,v]of d.structIterator()){let I=v.getMergedTraits().jsonName??_;h[_]=this.codec.createDeserializer().readObject(v,s[I])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var I_,YI=P(()=>{ef();I_=class extends hi{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var k_,JI=P(()=>{ef();k_=class extends hi{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var O_,QI=P(()=>{Vr();Ot();Va();Zm();ad();O_=class extends ni{serializer;deserializer;codec;mixin=new mn;constructor({defaultNamespace:r}){super({defaultNamespace:r});let t={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new gi(t),this.serializer=new ii(this.codec.createSerializer(),t),this.deserializer=new oi(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(r){this.codec.setSerdeContext(r),super.setSerdeContext(r)}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ae.of(r.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(r,t,n,s,o){let a=fi(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ae.of(c),f=s.message??s.Message??"Unknown",g=Wt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f);await this.deserializeHttpMessage(c,t,n,s);let h={};for(let[_,v]of d.structIterator()){let I=v.getMergedTraits().jsonName??_;h[_]=this.codec.createDeserializer().readObject(v,s[I])}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/json"}}});var ZI,s4,ek=P(()=>{ZI=k(Ie()),s4=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,ZI.expectUnion)(e)}});var rk=B((vEe,tk)=>{(()=>{"use strict";var e={d:(u,m)=>{for(var b in m)e.o(m,b)&&!e.o(u,b)&&Object.defineProperty(u,b,{enumerable:!0,get:m[b]})},o:(u,m)=>Object.prototype.hasOwnProperty.call(u,m),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{XMLBuilder:()=>Xs,XMLParser:()=>sH,XMLValidator:()=>mH});let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,m){let b=[],A=m.exec(u);for(;A;){let x=[];x.startIndex=m.lastIndex-A[0].length;let w=A.length;for(let L=0;L<w;L++)x.push(A[L]);b.push(x),A=m.exec(u)}return b}let o=function(u){return n.exec(u)!=null},a={allowBooleanAttributes:!1,unpairedTags:[]};function c(u,m){m=Object.assign({},a,m);let b=[],A=!1,x=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let w=0;w<u.length;w++)if(u[w]==="<"&&u[w+1]==="?"){if(w+=2,w=d(u,w),w.err)return w}else{if(u[w]!=="<"){if(l(u[w]))continue;return N("InvalidChar","char '"+u[w]+"' is not expected.",ce(u,w))}{let L=w;if(w++,u[w]==="!"){w=f(u,w);continue}{let O=!1;u[w]==="/"&&(O=!0,w++);let U="";for(;w<u.length&&u[w]!==">"&&u[w]!==" "&&u[w]!=="	"&&u[w]!==`
`&&u[w]!=="\r";w++)U+=u[w];if(U=U.trim(),U[U.length-1]==="/"&&(U=U.substring(0,U.length-1),w--),!o(U)){let ue;return ue=U.trim().length===0?"Invalid space after '<'.":"Tag '"+U+"' is an invalid name.",N("InvalidTag",ue,ce(u,w))}let J=h(u,w);if(J===!1)return N("InvalidAttr","Attributes for '"+U+"' have open quote.",ce(u,w));let ye=J.value;if(w=J.index,ye[ye.length-1]==="/"){let ue=w-ye.length;ye=ye.substring(0,ye.length-1);let ze=v(ye,m);if(ze!==!0)return N(ze.err.code,ze.err.msg,ce(u,ue+ze.err.line));A=!0}else if(O){if(!J.tagClosed)return N("InvalidTag","Closing tag '"+U+"' doesn't have proper closing.",ce(u,w));if(ye.trim().length>0)return N("InvalidTag","Closing tag '"+U+"' can't have attributes or invalid starting.",ce(u,L));if(b.length===0)return N("InvalidTag","Closing tag '"+U+"' has not been opened.",ce(u,L));{let ue=b.pop();if(U!==ue.tagName){let ze=ce(u,ue.tagStartPos);return N("InvalidTag","Expected closing tag '"+ue.tagName+"' (opened in line "+ze.line+", col "+ze.col+") instead of closing tag '"+U+"'.",ce(u,L))}b.length==0&&(x=!0)}}else{let ue=v(ye,m);if(ue!==!0)return N(ue.err.code,ue.err.msg,ce(u,w-ye.length+ue.err.line));if(x===!0)return N("InvalidXml","Multiple possible root nodes found.",ce(u,w));m.unpairedTags.indexOf(U)!==-1||b.push({tagName:U,tagStartPos:L}),A=!0}for(w++;w<u.length;w++)if(u[w]==="<"){if(u[w+1]==="!"){w++,w=f(u,w);continue}if(u[w+1]!=="?")break;if(w=d(u,++w),w.err)return w}else if(u[w]==="&"){let ue=I(u,w);if(ue==-1)return N("InvalidChar","char '&' is not expected.",ce(u,w));w=ue}else if(x===!0&&!l(u[w]))return N("InvalidXml","Extra text at the end",ce(u,w));u[w]==="<"&&w--}}}return A?b.length==1?N("InvalidTag","Unclosed tag '"+b[0].tagName+"'.",ce(u,b[0].tagStartPos)):!(b.length>0)||N("InvalidXml","Invalid '"+JSON.stringify(b.map(w=>w.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):N("InvalidXml","Start tag expected.",1)}function l(u){return u===" "||u==="	"||u===`
`||u==="\r"}function d(u,m){let b=m;for(;m<u.length;m++)if(!(u[m]!="?"&&u[m]!=" ")){let A=u.substr(b,m-b);if(m>5&&A==="xml")return N("InvalidXml","XML declaration allowed only at the start of the document.",ce(u,m));if(u[m]=="?"&&u[m+1]==">"){m++;break}}return m}function f(u,m){if(u.length>m+5&&u[m+1]==="-"&&u[m+2]==="-"){for(m+=3;m<u.length;m++)if(u[m]==="-"&&u[m+1]==="-"&&u[m+2]===">"){m+=2;break}}else if(u.length>m+8&&u[m+1]==="D"&&u[m+2]==="O"&&u[m+3]==="C"&&u[m+4]==="T"&&u[m+5]==="Y"&&u[m+6]==="P"&&u[m+7]==="E"){let b=1;for(m+=8;m<u.length;m++)if(u[m]==="<")b++;else if(u[m]===">"&&(b--,b===0))break}else if(u.length>m+9&&u[m+1]==="["&&u[m+2]==="C"&&u[m+3]==="D"&&u[m+4]==="A"&&u[m+5]==="T"&&u[m+6]==="A"&&u[m+7]==="["){for(m+=8;m<u.length;m++)if(u[m]==="]"&&u[m+1]==="]"&&u[m+2]===">"){m+=2;break}}return m}let g='"',y="'";function h(u,m){let b="",A="",x=!1;for(;m<u.length;m++){if(u[m]===g||u[m]===y)A===""?A=u[m]:A!==u[m]||(A="");else if(u[m]===">"&&A===""){x=!0;break}b+=u[m]}return A===""&&{value:b,index:m,tagClosed:x}}let _=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function v(u,m){let b=s(u,_),A={};for(let x=0;x<b.length;x++){if(b[x][1].length===0)return N("InvalidAttr","Attribute '"+b[x][2]+"' has no space in starting.",le(b[x]));if(b[x][3]!==void 0&&b[x][4]===void 0)return N("InvalidAttr","Attribute '"+b[x][2]+"' is without value.",le(b[x]));if(b[x][3]===void 0&&!m.allowBooleanAttributes)return N("InvalidAttr","boolean attribute '"+b[x][2]+"' is not allowed.",le(b[x]));let w=b[x][2];if(!W(w))return N("InvalidAttr","Attribute '"+w+"' is an invalid name.",le(b[x]));if(A.hasOwnProperty(w))return N("InvalidAttr","Attribute '"+w+"' is repeated.",le(b[x]));A[w]=1}return!0}function I(u,m){if(u[++m]===";")return-1;if(u[m]==="#")return function(A,x){let w=/\d/;for(A[x]==="x"&&(x++,w=/[\da-fA-F]/);x<A.length;x++){if(A[x]===";")return x;if(!A[x].match(w))break}return-1}(u,++m);let b=0;for(;m<u.length;m++,b++)if(!(u[m].match(/\w/)&&b<20)){if(u[m]===";")break;return-1}return m}function N(u,m,b){return{err:{code:u,msg:m,line:b.line||b,col:b.col}}}function W(u){return o(u)}function ce(u,m){let b=u.substring(0,m).split(/\r?\n/);return{line:b.length,col:b[b.length-1].length+1}}function le(u){return u.startIndex+u[1].length}let ie={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,m,b){return u},captureMetaData:!1},Ne;Ne=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class tr{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,b){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:b})}addChild(m,b){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),b!==void 0&&(this.child[this.child.length-1][Ne]={startIndex:b})}static getMetaDataSymbol(){return Ne}}function Hr(u,m){let b={};if(u[m+3]!=="O"||u[m+4]!=="C"||u[m+5]!=="T"||u[m+6]!=="Y"||u[m+7]!=="P"||u[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let A=1,x=!1,w=!1,L="";for(;m<u.length;m++)if(u[m]!=="<"||w)if(u[m]===">"){if(w?u[m-1]==="-"&&u[m-2]==="-"&&(w=!1,A--):A--,A===0)break}else u[m]==="["?x=!0:L+=u[m];else{if(x&&Jo(u,"!ENTITY",m)){let O,U;m+=7,[O,U,m]=tt(u,m+1),U.indexOf("&")===-1&&(b[O]={regx:RegExp(`&${O};`,"g"),val:U})}else if(x&&Jo(u,"!ELEMENT",m)){m+=8;let{index:O}=L2(u,m+1);m=O}else if(x&&Jo(u,"!ATTLIST",m))m+=8;else if(x&&Jo(u,"!NOTATION",m)){m+=9;let{index:O}=Lt(u,m+1);m=O}else{if(!Jo(u,"!--",m))throw new Error("Invalid DOCTYPE");w=!0}A++,L=""}if(A!==0)throw new Error("Unclosed DOCTYPE")}return{entities:b,i:m}}let _t=(u,m)=>{for(;m<u.length&&/\s/.test(u[m]);)m++;return m};function tt(u,m){m=_t(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m])&&u[m]!=='"'&&u[m]!=="'";)b+=u[m],m++;if(jS(b),m=_t(u,m),u.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[m]==="%")throw new Error("Parameter entities are not supported");let A="";return[m,A]=Aa(u,m,"entity"),[b,A,--m]}function Lt(u,m){m=_t(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m]);)b+=u[m],m++;jS(b),m=_t(u,m);let A=u.substring(m,m+6).toUpperCase();if(A!=="SYSTEM"&&A!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${A}"`);m+=A.length,m=_t(u,m);let x=null,w=null;if(A==="PUBLIC")[m,x]=Aa(u,m,"publicIdentifier"),u[m=_t(u,m)]!=='"'&&u[m]!=="'"||([m,w]=Aa(u,m,"systemIdentifier"));else if(A==="SYSTEM"&&([m,w]=Aa(u,m,"systemIdentifier"),!w))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:b,publicIdentifier:x,systemIdentifier:w,index:--m}}function Aa(u,m,b){let A="",x=u[m];if(x!=='"'&&x!=="'")throw new Error(`Expected quoted string, found "${x}"`);for(m++;m<u.length&&u[m]!==x;)A+=u[m],m++;if(u[m]!==x)throw new Error(`Unterminated ${b} value`);return[++m,A]}function L2(u,m){m=_t(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m]);)b+=u[m],m++;if(!jS(b))throw new Error(`Invalid element name: "${b}"`);let A="";if(u[m=_t(u,m)]==="E"&&Jo(u,"MPTY",m))m+=4;else if(u[m]==="A"&&Jo(u,"NY",m))m+=2;else{if(u[m]!=="(")throw new Error(`Invalid Element Expression, found "${u[m]}"`);for(m++;m<u.length&&u[m]!==")";)A+=u[m],m++;if(u[m]!==")")throw new Error("Unterminated content model")}return{elementName:b,contentModel:A.trim(),index:m}}function Jo(u,m,b){for(let A=0;A<m.length;A++)if(m[A]!==u[b+A+1])return!1;return!0}function jS(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let F2=/^[-+]?0x[a-fA-F0-9]+$/,z2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,U2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},q2=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function aP(u){return typeof u=="function"?u:Array.isArray(u)?m=>{for(let b of u)if(typeof b=="string"&&m===b||b instanceof RegExp&&b.test(m))return!0}:()=>!1}class H2{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(b,A)=>String.fromCodePoint(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(b,A)=>String.fromCodePoint(Number.parseInt(A,16))}},this.addExternalEntities=j2,this.parseXml=W2,this.parseTextData=$2,this.resolveNameSpace=V2,this.buildAttributesMap=K2,this.isItStopNode=Q2,this.replaceEntitiesValue=Y2,this.readStopNodeData=Z2,this.saveTextToParentTag=J2,this.addChild=X2,this.ignoreAttributesFn=aP(this.options.ignoreAttributes)}}function j2(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:u[A]}}}function $2(u,m,b,A,x,w,L){if(u!==void 0&&(this.options.trimValues&&!A&&(u=u.trim()),u.length>0)){L||(u=this.replaceEntitiesValue(u));let O=this.options.tagValueProcessor(m,u,b,x,w);return O==null?u:typeof O!=typeof u||O!==u?O:this.options.trimValues||u.trim()===u?cP(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function V2(u){if(this.options.removeNSPrefix){let m=u.split(":"),b=u.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(u=b+m[1])}return u}let G2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function K2(u,m,b){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let A=s(u,G2),x=A.length,w={};for(let L=0;L<x;L++){let O=this.resolveNameSpace(A[L][1]);if(this.ignoreAttributesFn(O,m))continue;let U=A[L][4],J=this.options.attributeNamePrefix+O;if(O.length)if(this.options.transformAttributeName&&(J=this.options.transformAttributeName(J)),J==="__proto__"&&(J="#__proto__"),U!==void 0){this.options.trimValues&&(U=U.trim()),U=this.replaceEntitiesValue(U);let ye=this.options.attributeValueProcessor(O,U,m);w[J]=ye==null?U:typeof ye!=typeof U||ye!==U?ye:cP(U,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(w[J]=!0)}if(!Object.keys(w).length)return;if(this.options.attributesGroupName){let L={};return L[this.options.attributesGroupName]=w,L}return w}}let W2=function(u){u=u.replace(/\r\n?/g,`
`);let m=new tr("!xml"),b=m,A="",x="";for(let w=0;w<u.length;w++)if(u[w]==="<")if(u[w+1]==="/"){let L=Qo(u,">",w,"Closing Tag is not closed."),O=u.substring(w+2,L).trim();if(this.options.removeNSPrefix){let ye=O.indexOf(":");ye!==-1&&(O=O.substr(ye+1))}this.options.transformTagName&&(O=this.options.transformTagName(O)),b&&(A=this.saveTextToParentTag(A,b,x));let U=x.substring(x.lastIndexOf(".")+1);if(O&&this.options.unpairedTags.indexOf(O)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${O}>`);let J=0;U&&this.options.unpairedTags.indexOf(U)!==-1?(J=x.lastIndexOf(".",x.lastIndexOf(".")-1),this.tagsNodeStack.pop()):J=x.lastIndexOf("."),x=x.substring(0,J),b=this.tagsNodeStack.pop(),A="",w=L}else if(u[w+1]==="?"){let L=$S(u,w,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,b,x),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){let O=new tr(L.tagName);O.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(O[":@"]=this.buildAttributesMap(L.tagExp,x,L.tagName)),this.addChild(b,O,x,w)}w=L.closeIndex+1}else if(u.substr(w+1,3)==="!--"){let L=Qo(u,"-->",w+4,"Comment is not closed.");if(this.options.commentPropName){let O=u.substring(w+4,L-2);A=this.saveTextToParentTag(A,b,x),b.add(this.options.commentPropName,[{[this.options.textNodeName]:O}])}w=L}else if(u.substr(w+1,2)==="!D"){let L=Hr(u,w);this.docTypeEntities=L.entities,w=L.i}else if(u.substr(w+1,2)==="!["){let L=Qo(u,"]]>",w,"CDATA is not closed.")-2,O=u.substring(w+9,L);A=this.saveTextToParentTag(A,b,x);let U=this.parseTextData(O,b.tagname,x,!0,!1,!0,!0);U==null&&(U=""),this.options.cdataPropName?b.add(this.options.cdataPropName,[{[this.options.textNodeName]:O}]):b.add(this.options.textNodeName,U),w=L+2}else{let L=$S(u,w,this.options.removeNSPrefix),O=L.tagName,U=L.rawTagName,J=L.tagExp,ye=L.attrExpPresent,ue=L.closeIndex;this.options.transformTagName&&(O=this.options.transformTagName(O)),b&&A&&b.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,b,x,!1));let ze=b;ze&&this.options.unpairedTags.indexOf(ze.tagname)!==-1&&(b=this.tagsNodeStack.pop(),x=x.substring(0,x.lastIndexOf("."))),O!==m.tagname&&(x+=x?"."+O:O);let Ye=w;if(this.isItStopNode(this.options.stopNodes,x,O)){let je="";if(J.length>0&&J.lastIndexOf("/")===J.length-1)O[O.length-1]==="/"?(O=O.substr(0,O.length-1),x=x.substr(0,x.length-1),J=O):J=J.substr(0,J.length-1),w=L.closeIndex;else if(this.options.unpairedTags.indexOf(O)!==-1)w=L.closeIndex;else{let Gn=this.readStopNodeData(u,U,ue+1);if(!Gn)throw new Error(`Unexpected end of ${U}`);w=Gn.i,je=Gn.tagContent}let jt=new tr(O);O!==J&&ye&&(jt[":@"]=this.buildAttributesMap(J,x,O)),je&&(je=this.parseTextData(je,O,x,!0,ye,!0,!0)),x=x.substr(0,x.lastIndexOf(".")),jt.add(this.options.textNodeName,je),this.addChild(b,jt,x,Ye)}else{if(J.length>0&&J.lastIndexOf("/")===J.length-1){O[O.length-1]==="/"?(O=O.substr(0,O.length-1),x=x.substr(0,x.length-1),J=O):J=J.substr(0,J.length-1),this.options.transformTagName&&(O=this.options.transformTagName(O));let je=new tr(O);O!==J&&ye&&(je[":@"]=this.buildAttributesMap(J,x,O)),this.addChild(b,je,x,Ye),x=x.substr(0,x.lastIndexOf("."))}else{let je=new tr(O);this.tagsNodeStack.push(b),O!==J&&ye&&(je[":@"]=this.buildAttributesMap(J,x,O)),this.addChild(b,je,x,Ye),b=je}A="",w=ue}}else A+=u[w];return m.child};function X2(u,m,b,A){this.options.captureMetaData||(A=void 0);let x=this.options.updateTag(m.tagname,b,m[":@"]);x===!1||(typeof x=="string"&&(m.tagname=x),u.addChild(m,A))}let Y2=function(u){if(this.options.processEntities){for(let m in this.docTypeEntities){let b=this.docTypeEntities[m];u=u.replace(b.regx,b.val)}for(let m in this.lastEntities){let b=this.lastEntities[m];u=u.replace(b.regex,b.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let b=this.htmlEntities[m];u=u.replace(b.regex,b.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function J2(u,m,b,A){return u&&(A===void 0&&(A=m.child.length===0),(u=this.parseTextData(u,m.tagname,b,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,A))!==void 0&&u!==""&&m.add(this.options.textNodeName,u),u=""),u}function Q2(u,m,b){let A="*."+b;for(let x in u){let w=u[x];if(A===w||m===w)return!0}return!1}function Qo(u,m,b,A){let x=u.indexOf(m,b);if(x===-1)throw new Error(A);return x+m.length-1}function $S(u,m,b,A=">"){let x=function(ue,ze,Ye=">"){let je,jt="";for(let Gn=ze;Gn<ue.length;Gn++){let Ys=ue[Gn];if(je)Ys===je&&(je="");else if(Ys==='"'||Ys==="'")je=Ys;else if(Ys===Ye[0]){if(!Ye[1])return{data:jt,index:Gn};if(ue[Gn+1]===Ye[1])return{data:jt,index:Gn}}else Ys==="	"&&(Ys=" ");jt+=Ys}}(u,m+1,A);if(!x)return;let w=x.data,L=x.index,O=w.search(/\s/),U=w,J=!0;O!==-1&&(U=w.substring(0,O),w=w.substring(O+1).trimStart());let ye=U;if(b){let ue=U.indexOf(":");ue!==-1&&(U=U.substr(ue+1),J=U!==x.data.substr(ue+1))}return{tagName:U,tagExp:w,closeIndex:L,attrExpPresent:J,rawTagName:ye}}function Z2(u,m,b){let A=b,x=1;for(;b<u.length;b++)if(u[b]==="<")if(u[b+1]==="/"){let w=Qo(u,">",b,`${m} is not closed`);if(u.substring(b+2,w).trim()===m&&(x--,x===0))return{tagContent:u.substring(A,b),i:w};b=w}else if(u[b+1]==="?")b=Qo(u,"?>",b+1,"StopNode is not closed.");else if(u.substr(b+1,3)==="!--")b=Qo(u,"-->",b+3,"StopNode is not closed.");else if(u.substr(b+1,2)==="![")b=Qo(u,"]]>",b,"StopNode is not closed.")-2;else{let w=$S(u,b,">");w&&((w&&w.tagName)===m&&w.tagExp[w.tagExp.length-1]!=="/"&&x++,b=w.closeIndex)}}function cP(u,m,b){if(m&&typeof u=="string"){let A=u.trim();return A==="true"||A!=="false"&&function(x,w={}){if(w=Object.assign({},U2,w),!x||typeof x!="string")return x;let L=x.trim();if(w.skipLike!==void 0&&w.skipLike.test(L))return x;if(x==="0")return 0;if(w.hex&&F2.test(L))return function(U){if(parseInt)return parseInt(U,16);if(Number.parseInt)return Number.parseInt(U,16);if(window&&window.parseInt)return window.parseInt(U,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(L);if(L.search(/.+[eE].+/)!==-1)return function(U,J,ye){if(!ye.eNotation)return U;let ue=J.match(q2);if(ue){let ze=ue[1]||"",Ye=ue[3].indexOf("e")===-1?"E":"e",je=ue[2],jt=ze?U[je.length+1]===Ye:U[je.length]===Ye;return je.length>1&&jt?U:je.length!==1||!ue[3].startsWith(`.${Ye}`)&&ue[3][0]!==Ye?ye.leadingZeros&&!jt?(J=(ue[1]||"")+ue[3],Number(J)):U:Number(J)}return U}(x,L,w);{let U=z2.exec(L);if(U){let J=U[1]||"",ye=U[2],ue=((O=U[3])&&O.indexOf(".")!==-1&&((O=O.replace(/0+$/,""))==="."?O="0":O[0]==="."?O="0"+O:O[O.length-1]==="."&&(O=O.substring(0,O.length-1))),O),ze=J?x[ye.length+1]===".":x[ye.length]===".";if(!w.leadingZeros&&(ye.length>1||ye.length===1&&!ze))return x;{let Ye=Number(L),je=String(Ye);if(Ye===0||Ye===-0)return Ye;if(je.search(/[eE]/)!==-1)return w.eNotation?Ye:x;if(L.indexOf(".")!==-1)return je==="0"||je===ue||je===`${J}${ue}`?Ye:x;let jt=ye?ue:L;return ye?jt===je||J+jt===je?Ye:x:jt===je||jt===J+je?Ye:x}}return x}var O}(u,b)}return u!==void 0?u:""}let VS=tr.getMetaDataSymbol();function eH(u,m){return lP(u,m)}function lP(u,m,b){let A,x={};for(let w=0;w<u.length;w++){let L=u[w],O=tH(L),U="";if(U=b===void 0?O:b+"."+O,O===m.textNodeName)A===void 0?A=L[O]:A+=""+L[O];else{if(O===void 0)continue;if(L[O]){let J=lP(L[O],m,U),ye=nH(J,m);L[VS]!==void 0&&(J[VS]=L[VS]),L[":@"]?rH(J,L[":@"],U,m):Object.keys(J).length!==1||J[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(J).length===0&&(m.alwaysCreateTextNode?J[m.textNodeName]="":J=""):J=J[m.textNodeName],x[O]!==void 0&&x.hasOwnProperty(O)?(Array.isArray(x[O])||(x[O]=[x[O]]),x[O].push(J)):m.isArray(O,U,ye)?x[O]=[J]:x[O]=J}}}return typeof A=="string"?A.length>0&&(x[m.textNodeName]=A):A!==void 0&&(x[m.textNodeName]=A),x}function tH(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];if(A!==":@")return A}}function rH(u,m,b,A){if(m){let x=Object.keys(m),w=x.length;for(let L=0;L<w;L++){let O=x[L];A.isArray(O,b+"."+O,!0,!0)?u[O]=[m[O]]:u[O]=m[O]}}}function nH(u,m){let{textNodeName:b}=m,A=Object.keys(u).length;return A===0||!(A!==1||!u[b]&&typeof u[b]!="boolean"&&u[b]!==0)}class sH{constructor(m){this.externalEntities={},this.options=function(b){return Object.assign({},ie,b)}(m)}parse(m,b){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(b){b===!0&&(b={});let w=c(m,b);if(w!==!0)throw Error(`${w.err.msg}:${w.err.line}:${w.err.col}`)}let A=new H2(this.options);A.addExternalEntities(this.externalEntities);let x=A.parseXml(m);return this.options.preserveOrder||x===void 0?x:eH(x,this.options)}addEntity(m,b){if(b.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(b==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=b}static getMetaDataSymbol(){return tr.getMetaDataSymbol()}}function oH(u,m){let b="";return m.format&&m.indentBy.length>0&&(b=`
`),dP(u,m,"",b)}function dP(u,m,b,A){let x="",w=!1;for(let L=0;L<u.length;L++){let O=u[L],U=iH(O);if(U===void 0)continue;let J="";if(J=b.length===0?U:`${b}.${U}`,U===m.textNodeName){let Ye=O[U];aH(J,m)||(Ye=m.tagValueProcessor(U,Ye),Ye=mP(Ye,m)),w&&(x+=A),x+=Ye,w=!1;continue}if(U===m.cdataPropName){w&&(x+=A),x+=`<![CDATA[${O[U][0][m.textNodeName]}]]>`,w=!1;continue}if(U===m.commentPropName){x+=A+`<!--${O[U][0][m.textNodeName]}-->`,w=!0;continue}if(U[0]==="?"){let Ye=uP(O[":@"],m),je=U==="?xml"?"":A,jt=O[U][0][m.textNodeName];jt=jt.length!==0?" "+jt:"",x+=je+`<${U}${jt}${Ye}?>`,w=!0;continue}let ye=A;ye!==""&&(ye+=m.indentBy);let ue=A+`<${U}${uP(O[":@"],m)}`,ze=dP(O[U],m,J,ye);m.unpairedTags.indexOf(U)!==-1?m.suppressUnpairedNode?x+=ue+">":x+=ue+"/>":ze&&ze.length!==0||!m.suppressEmptyNode?ze&&ze.endsWith(">")?x+=ue+`>${ze}${A}</${U}>`:(x+=ue+">",ze&&A!==""&&(ze.includes("/>")||ze.includes("</"))?x+=A+m.indentBy+ze+A:x+=ze,x+=`</${U}>`):x+=ue+"/>",w=!0}return x}function iH(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];if(u.hasOwnProperty(A)&&A!==":@")return A}}function uP(u,m){let b="";if(u&&!m.ignoreAttributes)for(let A in u){if(!u.hasOwnProperty(A))continue;let x=m.attributeValueProcessor(A,u[A]);x=mP(x,m),x===!0&&m.suppressBooleanAttributes?b+=` ${A.substr(m.attributeNamePrefix.length)}`:b+=` ${A.substr(m.attributeNamePrefix.length)}="${x}"`}return b}function aH(u,m){let b=(u=u.substr(0,u.length-m.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let A in m.stopNodes)if(m.stopNodes[A]===u||m.stopNodes[A]==="*."+b)return!0;return!1}function mP(u,m){if(u&&u.length>0&&m.processEntities)for(let b=0;b<m.entities.length;b++){let A=m.entities[b];u=u.replace(A.regex,A.val)}return u}let cH={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Xs(u){this.options=Object.assign({},cH,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=aP(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=uH),this.processTextOrObjNode=lH,this.options.format?(this.indentate=dH,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function lH(u,m,b,A){let x=this.j2x(u,b+1,A.concat(m));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],m,x.attrStr,b):this.buildObjectNode(x.val,m,x.attrStr,b)}function dH(u){return this.options.indentBy.repeat(u)}function uH(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}Xs.prototype.build=function(u){return this.options.preserveOrder?oH(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},Xs.prototype.j2x=function(u,m,b){let A="",x="",w=b.join(".");for(let L in u)if(Object.prototype.hasOwnProperty.call(u,L))if(u[L]===void 0)this.isAttribute(L)&&(x+="");else if(u[L]===null)this.isAttribute(L)||L===this.options.cdataPropName?x+="":L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(u[L]instanceof Date)x+=this.buildTextValNode(u[L],L,"",m);else if(typeof u[L]!="object"){let O=this.isAttribute(L);if(O&&!this.ignoreAttributesFn(O,w))A+=this.buildAttrPairStr(O,""+u[L]);else if(!O)if(L===this.options.textNodeName){let U=this.options.tagValueProcessor(L,""+u[L]);x+=this.replaceEntitiesValue(U)}else x+=this.buildTextValNode(u[L],L,"",m)}else if(Array.isArray(u[L])){let O=u[L].length,U="",J="";for(let ye=0;ye<O;ye++){let ue=u[L][ye];if(ue!==void 0)if(ue===null)L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(typeof ue=="object")if(this.options.oneListGroup){let ze=this.j2x(ue,m+1,b.concat(L));U+=ze.val,this.options.attributesGroupName&&ue.hasOwnProperty(this.options.attributesGroupName)&&(J+=ze.attrStr)}else U+=this.processTextOrObjNode(ue,L,m,b);else if(this.options.oneListGroup){let ze=this.options.tagValueProcessor(L,ue);ze=this.replaceEntitiesValue(ze),U+=ze}else U+=this.buildTextValNode(ue,L,"",m)}this.options.oneListGroup&&(U=this.buildObjectNode(U,L,J,m)),x+=U}else if(this.options.attributesGroupName&&L===this.options.attributesGroupName){let O=Object.keys(u[L]),U=O.length;for(let J=0;J<U;J++)A+=this.buildAttrPairStr(O[J],""+u[L][O[J]])}else x+=this.processTextOrObjNode(u[L],L,m,b);return{attrStr:A,val:x}},Xs.prototype.buildAttrPairStr=function(u,m){return m=this.options.attributeValueProcessor(u,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+u:" "+u+'="'+m+'"'},Xs.prototype.buildObjectNode=function(u,m,b,A){if(u==="")return m[0]==="?"?this.indentate(A)+"<"+m+b+"?"+this.tagEndChar:this.indentate(A)+"<"+m+b+this.closeTag(m)+this.tagEndChar;{let x="</"+m+this.tagEndChar,w="";return m[0]==="?"&&(w="?",x=""),!b&&b!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&w.length===0?this.indentate(A)+`<!--${u}-->`+this.newLine:this.indentate(A)+"<"+m+b+w+this.tagEndChar+u+this.indentate(A)+x:this.indentate(A)+"<"+m+b+w+">"+u+x}},Xs.prototype.closeTag=function(u){let m="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${u}`,m},Xs.prototype.buildTextValNode=function(u,m,b,A){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(A)+`<!--${u}-->`+this.newLine;if(m[0]==="?")return this.indentate(A)+"<"+m+b+"?"+this.tagEndChar;{let x=this.options.tagValueProcessor(m,u);return x=this.replaceEntitiesValue(x),x===""?this.indentate(A)+"<"+m+b+this.closeTag(m)+this.tagEndChar:this.indentate(A)+"<"+m+b+">"+x+"</"+m+this.tagEndChar}},Xs.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let b=this.options.entities[m];u=u.replace(b.regex,b.val)}return u};let mH={validate:c};tk.exports=r})()});var nk=B(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.parseXML=i4;var o4=rk(),N_=new o4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,r)=>r.trim()===""&&r.includes(`
`)?"":void 0});N_.addEntity("#xD","\r");N_.addEntity("#10",`
`);function i4(e){return N_.parse(e,!0)}});var dd=B((REe,ck)=>{"use strict";var rf=Object.defineProperty,a4=Object.getOwnPropertyDescriptor,c4=Object.getOwnPropertyNames,l4=Object.prototype.hasOwnProperty,nf=(e,r)=>rf(e,"name",{value:r,configurable:!0}),d4=(e,r)=>{for(var t in r)rf(e,t,{get:r[t],enumerable:!0})},u4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of c4(r))!l4.call(e,s)&&s!==t&&rf(e,s,{get:()=>r[s],enumerable:!(n=a4(r,s))||n.enumerable});return e},m4=e=>u4(rf({},"__esModule",{value:!0}),e),sk={};d4(sk,{XmlNode:()=>f4,XmlText:()=>ak,parseXML:()=>g4.parseXML});ck.exports=m4(sk);function ok(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}nf(ok,"escapeAttribute");function ik(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}nf(ik,"escapeElement");var ak=class{constructor(e){this.value=e}static{nf(this,"XmlText")}toString(){return ik(""+this.value)}},f4=class tf{constructor(r,t=[]){this.name=r,this.children=t}static{nf(this,"XmlNode")}attributes={};static of(r,t,n){let s=new tf(r);return t!==void 0&&s.addChildNode(new ak(t)),n!==void 0&&s.withName(n),s}withName(r){return this.name=r,this}addAttribute(r,t){return this.attributes[r]=t,this}addChildNode(r){return this.children.push(r),this}removeAttribute(r){return delete this.attributes[r],this}n(r){return this.name=r,this}c(r){return this.children.push(r),this}a(r,t){return t!=null&&(this.attributes[r]=t),this}cc(r,t,n=t){if(r[t]!=null){let s=tf.of(t,r[t]).withName(n);this.c(s)}}l(r,t,n,s){r[t]!=null&&s().map(a=>{a.withName(n),this.c(a)})}lc(r,t,n,s){if(r[t]!=null){let o=s(),a=new tf(n);o.map(c=>{a.c(c)}),this.c(a)}}toString(){let r=!!this.children.length,t=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(t+=` ${s}="${ok(""+o)}"`)}return t+=r?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}},g4=nk()});var lk,dk,uk,pi,sf=P(()=>{lk=k(dd());Vr();Ot();dk=k(Ie()),uk=k(Kt());uo();pi=class extends _r{settings;stringDeserializer;constructor(r){super(),this.settings=r,this.stringDeserializer=new si(r)}setSerdeContext(r){this.serdeContext=r,this.stringDeserializer.setSerdeContext(r)}read(r,t,n){let s=ae.of(r),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(d=>!!d.getMemberTraits().eventPayload)){let d={},f=Object.keys(o)[0];return o[f].isBlobSchema()?d[f]=t:d[f]=this.read(o[f],t),d}let c=(this.serdeContext?.utf8Encoder??uk.toUtf8)(t),l=this.parseXml(c);return this.readSchema(r,n?l[n]:l)}readSchema(r,t){let n=ae.of(r);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(t))return this.readSchema(n,[t]);if(t==null)return t;if(typeof t=="object"){let o=!!s.sparse,a=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),d=[],f=l.getMergedTraits().xmlName??"member",g=a?t:(t[0]??t)[f],y=Array.isArray(g)?g:[g];for(let h of y)(h!=null||o)&&d.push(this.readSchema(l,h));return d}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),d=n.getValueSchema(),f;a?f=Array.isArray(t)?t:[t]:f=Array.isArray(t.entry)?t.entry:[t.entry];let g=l.getMergedTraits().xmlName??"key",y=d.getMergedTraits().xmlName??"value";for(let h of f){let _=h[g],v=h[y];(v!=null||o)&&(c[_]=this.readSchema(d,v))}return c}if(n.isStructSchema()){for(let[l,d]of n.structIterator()){let f=d.getMergedTraits(),g=f.httpPayload?f.xmlName??d.getName():d.getMemberTraits().xmlName??l;t[g]!=null&&(c[l]=this.readSchema(d,t[g]))}return c}if(n.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,t)}parseXml(r){if(r.length){let t;try{t=(0,lk.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let n="#text",s=Object.keys(t)[0],o=t[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,dk.getValueFromTextNode)(o)}return{}}}});var mk,fk,of,gk=P(()=>{Vr();Ot();$r();mk=k(Ie()),fk=k(fr());uo();of=class extends _r{settings;buffer;constructor(r){super(),this.settings=r}write(r,t,n=""){this.buffer===void 0&&(this.buffer="");let s=ae.of(r);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??fk.toBase64)(t)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())t!=null?(this.writeKey(n),this.writeValue(String(t))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Jn.v4)()));else if(s.isBigIntegerSchema())t!=null&&(this.writeKey(n),this.writeValue(String(t)));else if(s.isBigDecimalSchema())t!=null&&(this.writeKey(n),this.writeValue(t instanceof At?t.string:String(t)));else if(s.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(n),en(s,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,mk.dateToUtcString)(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let l of t){if(l==null)continue;let d=this.getKey("member",o.getMergedTraits().xmlName),f=a?`${n}${c}`:`${n}${d}.${c}`;this.write(o,l,f),++c}}}else if(s.isMapSchema()){if(t&&typeof t=="object"){let o=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,l=1;for(let[d,f]of Object.entries(t)){if(f==null)continue;let g=this.getKey("key",o.getMergedTraits().xmlName),y=c?`${n}${l}.${g}`:`${n}entry.${l}.${g}`,h=this.getKey("value",a.getMergedTraits().xmlName),_=c?`${n}${l}.${h}`:`${n}entry.${l}.${h}`;this.write(o,d,y),this.write(a,f,_),++l}}}else if(s.isStructSchema()){if(t&&typeof t=="object")for(let[o,a]of s.structIterator()){if(t[o]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(o,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,t[o],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let r=this.buffer;return delete this.buffer,r}getKey(r,t){let n=t??r;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(r){r.endsWith(".")&&(r=r.slice(0,r.length-1)),this.buffer+=`&${Kn(r)}=`}writeValue(r){this.buffer+=Kn(r)}}});var ud,D_=P(()=>{Vr();Ot();Va();sf();gk();ud=class extends xs{options;serializer;deserializer;mixin=new mn;constructor(r){super({defaultNamespace:r.defaultNamespace}),this.options=r;let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace,serializeEmptyLists:!0};this.serializer=new of(t),this.deserializer=new pi(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(r){this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(un(r.input)==="unit"||!s.body)&&(s.body="");let o=r.name.split("#")[1]??r.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(r,t,n){let s=this.deserializer,o=ae.of(r.output),a={};if(n.statusCode>=300){let g=await Ln(n.body,t);g.byteLength>0&&Object.assign(a,await s.read(15,g)),await this.handleError(r,t,n,a,this.deserializeMetadata(n))}for(let g in n.headers){let y=n.headers[g];delete n.headers[g],n.headers[g.toLowerCase()]=y}let c=r.name.split("#")[1]??r.name,l=o.isStructSchema()&&this.useNestedResult()?c+"Result":void 0,d=await Ln(n.body,t);return d.byteLength>0&&Object.assign(a,await s.read(o,d,l)),{$metadata:this.deserializeMetadata(n),...a}}useNestedResult(){return!0}async handleError(r,t,n,s,o){let a=this.loadQueryErrorCode(n,s)??"Unknown",c=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);c.message=l,c.Error={Type:c.Type,Code:c.Code,Message:l};let{errorSchema:d,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,c,o,(v,I)=>v.find(N=>ae.of(N).getMergedTraits().awsQueryError?.[0]===I)),g=ae.of(d),y=Wt.for(d.namespace).getErrorCtor(d)??Error,h=new y(l),_={Error:c.Error};for(let[v,I]of g.structIterator()){let N=I.getMergedTraits().xmlName??v,W=c[N]??s[N];_[v]=this.deserializer.readSchema(I,W)}throw Object.assign(h,f,{$fault:g.getMergedTraits().error,message:l},_)}loadQueryErrorCode(r,t){let n=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(n!==void 0)return n;if(r.statusCode==404)return"NotFound"}loadQueryError(r){return r.Errors?.[0]?.Error??r.Errors?.Error??r.Error}loadQueryErrorMessage(r){let t=this.loadQueryError(r);return t?.message??t?.Message??r.message??r.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var M_,hk=P(()=>{D_();M_=class extends ud{options;constructor(r){super(r),this.options=r;let t={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,t)}useNestedResult(){return!1}}});var pk,yk,md,L_,F_,z_=P(()=>{pk=k(dd()),yk=k(Ie());P_();md=(e,r)=>Jm(e,r).then(t=>{if(t.length){let n;try{n=(0,pk.parseXML)(t)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let s="#text",o=Object.keys(n)[0],a=n[o];return a[s]&&(a[o]=a[s],delete a[s]),(0,yk.getValueFromTextNode)(a)}return{}}),L_=async(e,r)=>{let t=await md(e,r);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},F_=(e,r)=>{if(r?.Error?.Code!==void 0)return r.Error.Code;if(r?.Code!==void 0)return r.Code;if(e.statusCode==404)return"NotFound"}});var fn,U_,af,fd,q_=P(()=>{fn=k(dd());Vr();Ot();$r();U_=k(Ie()),af=k(fr());uo();fd=class extends _r{settings;stringBuffer;byteBuffer;buffer;constructor(r){super(),this.settings=r}write(r,t){let n=ae.of(r);if(n.isStringSchema()&&typeof t=="string")this.stringBuffer=t;else if(n.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??af.fromBase64)(t);else{this.buffer=this.writeStruct(n,t,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let t=this.byteBuffer;return delete this.byteBuffer,t}if(this.stringBuffer!==void 0){let t=this.stringBuffer;return delete this.stringBuffer,t}let r=this.buffer;return this.settings.xmlNamespace&&(r?.attributes?.xmlns||r.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,r.toString()}writeStruct(r,t,n){let s=r.getMergedTraits(),o=r.isMemberSchema()&&!s.httpPayload?r.getMemberTraits().xmlName??r.getMemberName():s.xmlName??r.getName();if(!o||!r.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${r.getName(!0)}.`);let a=fn.XmlNode.of(o),[c,l]=this.getXmlnsAttribute(r,n);for(let[d,f]of r.structIterator()){let g=t[d];if(g!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){a.addAttribute(f.getMergedTraits().xmlName??d,this.writeSimple(f,g));continue}if(f.isListSchema())this.writeList(f,g,a,l);else if(f.isMapSchema())this.writeMap(f,g,a,l);else if(f.isStructSchema())a.addChildNode(this.writeStruct(f,g,l));else{let y=fn.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,g,y,l),a.addChildNode(y)}}}return l&&a.addAttribute(c,l),a}writeList(r,t,n,s){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${r.getName(!0)}`);let o=r.getMergedTraits(),a=r.getValueSchema(),c=a.getMergedTraits(),l=!!c.sparse,d=!!o.xmlFlattened,[f,g]=this.getXmlnsAttribute(r,s),y=(h,_)=>{if(a.isListSchema())this.writeList(a,Array.isArray(_)?_:[_],h,g);else if(a.isMapSchema())this.writeMap(a,_,h,g);else if(a.isStructSchema()){let v=this.writeStruct(a,_,g);h.addChildNode(v.withName(d?o.xmlName??r.getMemberName():c.xmlName??"member"))}else{let v=fn.XmlNode.of(d?o.xmlName??r.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,_,v,g),h.addChildNode(v)}};if(d)for(let h of t)(l||h!=null)&&y(n,h);else{let h=fn.XmlNode.of(o.xmlName??r.getMemberName());g&&h.addAttribute(f,g);for(let _ of t)(l||_!=null)&&y(h,_);n.addChildNode(h)}}writeMap(r,t,n,s,o=!1){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${r.getName(!0)}`);let a=r.getMergedTraits(),c=r.getKeySchema(),d=c.getMergedTraits().xmlName??"key",f=r.getValueSchema(),g=f.getMergedTraits(),y=g.xmlName??"value",h=!!g.sparse,_=!!a.xmlFlattened,[v,I]=this.getXmlnsAttribute(r,s),N=(W,ce,le)=>{let ie=fn.XmlNode.of(d,ce),[Ne,tr]=this.getXmlnsAttribute(c,I);tr&&ie.addAttribute(Ne,tr),W.addChildNode(ie);let Hr=fn.XmlNode.of(y);f.isListSchema()?this.writeList(f,le,Hr,I):f.isMapSchema()?this.writeMap(f,le,Hr,I,!0):f.isStructSchema()?Hr=this.writeStruct(f,le,I):this.writeSimpleInto(f,le,Hr,I),W.addChildNode(Hr)};if(_){for(let[W,ce]of Object.entries(t))if(h||ce!=null){let le=fn.XmlNode.of(a.xmlName??r.getMemberName());N(le,W,ce),n.addChildNode(le)}}else{let W;o||(W=fn.XmlNode.of(a.xmlName??r.getMemberName()),I&&W.addAttribute(v,I),n.addChildNode(W));for(let[ce,le]of Object.entries(t))if(h||le!=null){let ie=fn.XmlNode.of("entry");N(ie,ce,le),(o?n:W).addChildNode(ie)}}}writeSimple(r,t){if(t===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=ae.of(r),s=null;if(t&&typeof t=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??af.toBase64)(t);else if(n.isTimestampSchema()&&t instanceof Date)switch(en(n,this.settings)){case 5:s=t.toISOString().replace(".000Z","Z");break;case 6:s=(0,U_.dateToUtcString)(t);break;case 7:s=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),s=(0,U_.dateToUtcString)(t);break}else{if(n.isBigDecimalSchema()&&t)return t instanceof At?t.string:String(t);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(t)),n.isStringSchema()&&(t===void 0&&n.isIdempotencyToken()?s=(0,Jn.v4)():s=String(t)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${t}`);return s}writeSimpleInto(r,t,n,s){let o=this.writeSimple(r,t),a=ae.of(r),c=new fn.XmlText(o),[l,d]=this.getXmlnsAttribute(a,s);d&&n.addAttribute(l,d),n.addChildNode(c)}getXmlnsAttribute(r,t){let n=r.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==t?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var gd,H_=P(()=>{uo();sf();q_();gd=class extends _r{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new fd(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new pi(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var j_,Sk=P(()=>{Vr();Ot();Va();z_();H_();j_=class extends ni{codec;serializer;deserializer;mixin=new mn;constructor(r){super(r);let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace};this.codec=new gd(t),this.serializer=new ii(this.codec.createSerializer(),t),this.deserializer=new oi(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ae.of(r.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let a=F_(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ae.of(c),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",g=Wt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f);await this.deserializeHttpMessage(c,t,n,s);let h={};for(let[_,v]of d.structIterator()){let I=v.getMergedTraits().xmlName??_,N=s.Error?.[I]??s[I];h[_]=this.codec.createDeserializer().readSchema(v,N)}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/xml"}}});var Ek=P(()=>{vI();TI();YI();JI();ef();QI();Zm();T_();R_();ek();ad();hk();D_();Sk();H_();sf();q_();z_()});var gn={};dn(gn,{AWSSDKSigV4Signer:()=>rE,AwsEc2QueryProtocol:()=>M_,AwsJson1_0Protocol:()=>I_,AwsJson1_1Protocol:()=>k_,AwsJsonRpcProtocol:()=>hi,AwsQueryProtocol:()=>ud,AwsRestJsonProtocol:()=>O_,AwsRestXmlProtocol:()=>j_,AwsSdkSigV4ASigner:()=>zl,AwsSdkSigV4Signer:()=>jr,AwsSmithyRpcV2CborProtocol:()=>h_,JsonCodec:()=>gi,JsonShapeDeserializer:()=>cd,JsonShapeSerializer:()=>ld,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ra,NODE_SIGV4A_CONFIG_OPTIONS:()=>FR,XmlCodec:()=>gd,XmlShapeDeserializer:()=>pi,XmlShapeSerializer:()=>fd,_toBool:()=>BV,_toNum:()=>DV,_toStr:()=>NV,awsExpectUnion:()=>s4,emitWarningIfUnsupportedVersion:()=>Pa,getBearerTokenEnvKey:()=>Wu,loadRestJsonErrorCode:()=>fi,loadRestXmlErrorCode:()=>F_,parseJsonBody:()=>Ga,parseJsonErrorBody:()=>v_,parseXmlBody:()=>md,parseXmlErrorBody:()=>L_,resolveAWSSDKSigV4Config:()=>lI,resolveAwsSdkSigV4AConfig:()=>LR,resolveAwsSdkSigV4Config:()=>ui,setCredentialFeature:()=>Qs,setFeature:()=>bP,setTokenFeature:()=>CP,state:()=>Ku,validateSigningProperties:()=>Ta});var $t=P(()=>{Mn();Qb();Ek()});var Ck=B((Nbe,_k)=>{var cf=Object.defineProperty,h4=Object.getOwnPropertyDescriptor,p4=Object.getOwnPropertyNames,y4=Object.prototype.hasOwnProperty,S4=(e,r)=>cf(e,"name",{value:r,configurable:!0}),E4=(e,r)=>{for(var t in r)cf(e,t,{get:r[t],enumerable:!0})},b4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of p4(r))!y4.call(e,s)&&s!==t&&cf(e,s,{get:()=>r[s],enumerable:!(n=h4(r,s))||n.enumerable});return e},_4=e=>b4(cf({},"__esModule",{value:!0}),e),bk={};E4(bk,{isArrayBuffer:()=>C4});_k.exports=_4(bk);var C4=S4(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var Pk=B((Bbe,Ak)=>{var lf=Object.defineProperty,x4=Object.getOwnPropertyDescriptor,w4=Object.getOwnPropertyNames,A4=Object.prototype.hasOwnProperty,xk=(e,r)=>lf(e,"name",{value:r,configurable:!0}),P4=(e,r)=>{for(var t in r)lf(e,t,{get:r[t],enumerable:!0})},v4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of w4(r))!A4.call(e,s)&&s!==t&&lf(e,s,{get:()=>r[s],enumerable:!(n=x4(r,s))||n.enumerable});return e},T4=e=>v4(lf({},"__esModule",{value:!0}),e),wk={};P4(wk,{fromArrayBuffer:()=>I4,fromString:()=>k4});Ak.exports=T4(wk);var R4=Ck(),$_=require("buffer"),I4=xk((e,r=0,t=e.byteLength-r)=>{if(!(0,R4.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return $_.Buffer.from(e,r,t)},"fromArrayBuffer"),k4=xk((e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?$_.Buffer.from(e,r):$_.Buffer.from(e)},"fromString")});var kk=B((Dbe,Ik)=>{var df=Object.defineProperty,O4=Object.getOwnPropertyDescriptor,N4=Object.getOwnPropertyNames,B4=Object.prototype.hasOwnProperty,V_=(e,r)=>df(e,"name",{value:r,configurable:!0}),D4=(e,r)=>{for(var t in r)df(e,t,{get:r[t],enumerable:!0})},M4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of N4(r))!B4.call(e,s)&&s!==t&&df(e,s,{get:()=>r[s],enumerable:!(n=O4(r,s))||n.enumerable});return e},L4=e=>M4(df({},"__esModule",{value:!0}),e),vk={};D4(vk,{fromUtf8:()=>Rk,toUint8Array:()=>F4,toUtf8:()=>z4});Ik.exports=L4(vk);var Tk=Pk(),Rk=V_(e=>{let r=(0,Tk.fromString)(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),F4=V_(e=>typeof e=="string"?Rk(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),z4=V_(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Tk.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var Ok=B(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.convertToBuffer=void 0;var U4=kk(),q4=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:U4.fromUtf8;function H4(e){return e instanceof Uint8Array?e:typeof e=="string"?q4(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}uf.convertToBuffer=H4});var Nk=B(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.isEmptyData=void 0;function j4(e){return typeof e=="string"?e.length===0:e.byteLength===0}mf.isEmptyData=j4});var Bk=B(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.numToUint8=void 0;function $4(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}ff.numToUint8=$4});var Dk=B(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.uint32ArrayFrom=void 0;function V4(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),t=0;t<e.length;)r[t]=e[t],t+=1;return r}return Uint32Array.from(e)}gf.uint32ArrayFrom=V4});var Ka=B(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.uint32ArrayFrom=Zn.numToUint8=Zn.isEmptyData=Zn.convertToBuffer=void 0;var G4=Ok();Object.defineProperty(Zn,"convertToBuffer",{enumerable:!0,get:function(){return G4.convertToBuffer}});var K4=Nk();Object.defineProperty(Zn,"isEmptyData",{enumerable:!0,get:function(){return K4.isEmptyData}});var W4=Bk();Object.defineProperty(Zn,"numToUint8",{enumerable:!0,get:function(){return W4.numToUint8}});var X4=Dk();Object.defineProperty(Zn,"uint32ArrayFrom",{enumerable:!0,get:function(){return X4.uint32ArrayFrom}})});var Fk=B(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.AwsCrc32c=void 0;var Mk=(Yn(),Re(Xn)),G_=Ka(),Lk=K_(),Y4=function(){function e(){this.crc32c=new Lk.Crc32c}return e.prototype.update=function(r){(0,G_.isEmptyData)(r)||this.crc32c.update((0,G_.convertToBuffer)(r))},e.prototype.digest=function(){return Mk.__awaiter(this,void 0,void 0,function(){return Mk.__generator(this,function(r){return[2,(0,G_.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Lk.Crc32c},e}();hf.AwsCrc32c=Y4});var K_=B(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.AwsCrc32c=fo.Crc32c=fo.crc32c=void 0;var J4=(Yn(),Re(Xn)),Q4=Ka();function Z4(e){return new zk().update(e).digest()}fo.crc32c=Z4;var zk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=J4.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^t6[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();fo.Crc32c=zk;var e6=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],t6=(0,Q4.uint32ArrayFrom)(e6),r6=Fk();Object.defineProperty(fo,"AwsCrc32c",{enumerable:!0,get:function(){return r6.AwsCrc32c}})});var Hk=B(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.AwsCrc32=void 0;var Uk=(Yn(),Re(Xn)),W_=Ka(),qk=yf(),n6=function(){function e(){this.crc32=new qk.Crc32}return e.prototype.update=function(r){(0,W_.isEmptyData)(r)||this.crc32.update((0,W_.convertToBuffer)(r))},e.prototype.digest=function(){return Uk.__awaiter(this,void 0,void 0,function(){return Uk.__generator(this,function(r){return[2,(0,W_.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new qk.Crc32},e}();pf.AwsCrc32=n6});var yf=B(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.AwsCrc32=go.Crc32=go.crc32=void 0;var s6=(Yn(),Re(Xn)),o6=Ka();function i6(e){return new jk().update(e).digest()}go.crc32=i6;var jk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=s6.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^c6[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();go.Crc32=jk;var a6=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],c6=(0,o6.uint32ArrayFrom)(a6),l6=Hk();Object.defineProperty(go,"AwsCrc32",{enumerable:!0,get:function(){return l6.AwsCrc32}})});var Vk=B(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.getCrc32ChecksumAlgorithmFunction=void 0;var d6=(Yn(),Re(Xn)),u6=yf(),m6=Ka(),$k=d6.__importStar(require("zlib")),X_=class{checksum=0;update(r){this.checksum=$k.crc32(r,this.checksum)}async digest(){return(0,m6.numToUint8)(this.checksum)}reset(){this.checksum=0}},f6=()=>typeof $k.crc32>"u"?u6.AwsCrc32:X_;Sf.getCrc32ChecksumAlgorithmFunction=f6});var tC=B(he=>{"use strict";var Is=($t(),Re(gn)),Kk=Ke(),Wk=ei(),g6=Yu(),h6=K_(),p6=Vk(),y6=Kt(),Gk=Er(),ks={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Q_=ks.WHEN_SUPPORTED,Wa={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Z_=ks.WHEN_SUPPORTED;he.ChecksumAlgorithm=void 0;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(he.ChecksumAlgorithm||(he.ChecksumAlgorithm={}));he.ChecksumLocation=void 0;(function(e){e.HEADER="header",e.TRAILER="trailer"})(he.ChecksumLocation||(he.ChecksumLocation={}));var Ef=he.ChecksumAlgorithm.CRC32,Xa;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Xa||(Xa={}));var bf=(e,r,t,n)=>{if(!(r in e))return;let s=e[r].toUpperCase();if(!Object.values(t).includes(s))throw new TypeError(`Cannot load ${n} '${r}'. Expected one of ${Object.values(t)}, got '${e[r]}'.`);return s},Xk="AWS_REQUEST_CHECKSUM_CALCULATION",Yk="request_checksum_calculation",S6={environmentVariableSelector:e=>bf(e,Xk,ks,Xa.ENV),configFileSelector:e=>bf(e,Yk,ks,Xa.CONFIG),default:Q_},Jk="AWS_RESPONSE_CHECKSUM_VALIDATION",Qk="response_checksum_validation",E6={environmentVariableSelector:e=>bf(e,Jk,Wa,Xa.ENV),configFileSelector:e=>bf(e,Qk,Wa,Xa.CONFIG),default:Z_},Y_={CrtCrc64Nvme:null},J_=[he.ChecksumAlgorithm.CRC32,he.ChecksumAlgorithm.CRC32C,he.ChecksumAlgorithm.CRC64NVME,he.ChecksumAlgorithm.SHA1,he.ChecksumAlgorithm.SHA256],b6=[he.ChecksumAlgorithm.SHA256,he.ChecksumAlgorithm.SHA1,he.ChecksumAlgorithm.CRC32,he.ChecksumAlgorithm.CRC32C,he.ChecksumAlgorithm.CRC64NVME],_6=(e,{requestChecksumRequired:r,requestAlgorithmMember:t,requestChecksumCalculation:n})=>{if(!t)return n===ks.WHEN_SUPPORTED||r?Ef:void 0;if(!e[t])return;let s=e[t];if(!J_.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${J_}.`);return s},eC=e=>e===he.ChecksumAlgorithm.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,C6=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(t===n.toLowerCase())return!0;return!1},x6=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(n.toLowerCase().startsWith(t))return!0;return!1},Zk=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!g6.isArrayBuffer(e),eO=(e,r)=>{switch(e){case he.ChecksumAlgorithm.MD5:return r.md5;case he.ChecksumAlgorithm.CRC32:return p6.getCrc32ChecksumAlgorithmFunction();case he.ChecksumAlgorithm.CRC32C:return h6.AwsCrc32c;case he.ChecksumAlgorithm.CRC64NVME:if(typeof Y_.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return Y_.CrtCrc64Nvme;case he.ChecksumAlgorithm.SHA1:return r.sha1;case he.ChecksumAlgorithm.SHA256:return r.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},tO=(e,r)=>{let t=new e;return t.update(y6.toUint8Array(r||"")),t.digest()},rO={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},nO=(e,r)=>(t,n)=>async s=>{if(!Kk.HttpRequest.isInstance(s.request)||x6("x-amz-checksum-",s.request.headers))return t(s);let{request:o,input:a}=s,{body:c,headers:l}=o,{base64Encoder:d,streamHasher:f}=e,{requestChecksumRequired:g,requestAlgorithmMember:y}=r,h=await e.requestChecksumCalculation(),_=y?.name,v=y?.httpHeader;_&&!a[_]&&(h===ks.WHEN_SUPPORTED||g)&&(a[_]=Ef,v&&(l[v]=Ef));let I=_6(a,{requestChecksumRequired:g,requestAlgorithmMember:y?.name,requestChecksumCalculation:h}),N=c,W=l;if(I){switch(I){case he.ChecksumAlgorithm.CRC32:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case he.ChecksumAlgorithm.CRC32C:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case he.ChecksumAlgorithm.CRC64NVME:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case he.ChecksumAlgorithm.SHA1:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case he.ChecksumAlgorithm.SHA256:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let le=eC(I),ie=eO(I,e);if(Zk(c)){let{getAwsChunkedEncodingStream:Ne,bodyLengthChecker:tr}=e;N=Ne(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?Wk.createBufferedReadable(c,e.requestStreamBufferSize,n.logger):c,{base64Encoder:d,bodyLengthChecker:tr,checksumLocationName:le,checksumAlgorithmFn:ie,streamHasher:f}),W={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":le},delete W["content-length"]}else if(!C6(le,l)){let Ne=await tO(ie,c);W={...l,[le]:d(Ne)}}}return await t({...s,request:{...o,headers:W,body:N}})},w6={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},A6=(e,r)=>(t,n)=>async s=>{let o=s.input,{requestValidationModeMember:a}=r,c=await e.requestChecksumCalculation(),l=await e.responseChecksumValidation();switch(c){case ks.WHEN_REQUIRED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case ks.WHEN_SUPPORTED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case Wa.WHEN_REQUIRED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Wa.WHEN_SUPPORTED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return a&&!o[a]&&l===Wa.WHEN_SUPPORTED&&(o[a]="ENABLED"),t(s)},sO=(e=[])=>{let r=[];for(let t of b6)!e.includes(t)||!J_.includes(t)||r.push(t);return r},P6=e=>{let r=e.lastIndexOf("-");if(r!==-1){let t=e.slice(r+1);if(!t.startsWith("0")){let n=parseInt(t,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},v6=async(e,{checksumAlgorithmFn:r,base64Encoder:t})=>t(await tO(r,e)),T6=async(e,{config:r,responseAlgorithms:t,logger:n})=>{let s=sO(t),{body:o,headers:a}=e;for(let c of s){let l=eC(c),d=a[l];if(d){let f;try{f=eO(c,r)}catch(h){if(c===he.ChecksumAlgorithm.CRC64NVME){n?.warn(`Skipping ${he.ChecksumAlgorithm.CRC64NVME} checksum validation: ${h.message}`);continue}throw h}let{base64Encoder:g}=r;if(Zk(o)){e.body=Wk.createChecksumStream({expectedChecksum:d,checksumSourceLocation:l,checksum:new f,source:o,base64Encoder:g});return}let y=await v6(o,{checksumAlgorithmFn:f,base64Encoder:g});if(y===d)break;throw new Error(`Checksum mismatch: expected "${y}" but received "${d}" in response header "${l}".`)}}},R6={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},I6=(e,r)=>(t,n)=>async s=>{if(!Kk.HttpRequest.isInstance(s.request))return t(s);let o=s.input,a=await t(s),c=a.response,{requestValidationModeMember:l,responseAlgorithms:d}=r;if(l&&o[l]==="ENABLED"){let{clientName:f,commandName:g}=n;if(f==="S3Client"&&g==="GetObjectCommand"&&sO(d).every(h=>{let _=eC(h),v=c.headers[_];return!v||P6(v)}))return a;await T6(c,{config:e,responseAlgorithms:d,logger:n.logger})}return a},k6=(e,r)=>({applyToStack:t=>{t.add(nO(e,r),rO),t.addRelativeTo(A6(e,r),w6),t.addRelativeTo(I6(e,r),R6)}}),O6=e=>{let{requestChecksumCalculation:r,responseChecksumValidation:t,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:Gk.normalizeProvider(r??Q_),responseChecksumValidation:Gk.normalizeProvider(t??Z_),requestStreamBufferSize:Number(n??0)})};he.CONFIG_REQUEST_CHECKSUM_CALCULATION=Yk;he.CONFIG_RESPONSE_CHECKSUM_VALIDATION=Qk;he.DEFAULT_CHECKSUM_ALGORITHM=Ef;he.DEFAULT_REQUEST_CHECKSUM_CALCULATION=Q_;he.DEFAULT_RESPONSE_CHECKSUM_VALIDATION=Z_;he.ENV_REQUEST_CHECKSUM_CALCULATION=Xk;he.ENV_RESPONSE_CHECKSUM_VALIDATION=Jk;he.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS=S6;he.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS=E6;he.RequestChecksumCalculation=ks;he.ResponseChecksumValidation=Wa;he.crc64NvmeCrtContainer=Y_;he.flexibleChecksumsMiddleware=nO;he.flexibleChecksumsMiddlewareOptions=rO;he.getFlexibleChecksumsPlugin=k6;he.resolveFlexibleChecksumsConfig=O6});var hd=B((Kbe,lO)=>{"use strict";var Cf=Object.defineProperty,N6=Object.getOwnPropertyDescriptor,B6=Object.getOwnPropertyNames,D6=Object.prototype.hasOwnProperty,_f=(e,r)=>Cf(e,"name",{value:r,configurable:!0}),M6=(e,r)=>{for(var t in r)Cf(e,t,{get:r[t],enumerable:!0})},L6=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of B6(r))!D6.call(e,s)&&s!==t&&Cf(e,s,{get:()=>r[s],enumerable:!(n=N6(r,s))||n.enumerable});return e},F6=e=>L6(Cf({},"__esModule",{value:!0}),e),oO={};M6(oO,{getHostHeaderPlugin:()=>U6,hostHeaderMiddleware:()=>aO,hostHeaderMiddlewareOptions:()=>cO,resolveHostHeaderConfig:()=>iO});lO.exports=F6(oO);var z6=Ke();function iO(e){return e}_f(iO,"resolveHostHeaderConfig");var aO=_f(e=>r=>async t=>{if(!z6.HttpRequest.isInstance(t.request))return r(t);let{request:n}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return r(t)},"hostHeaderMiddleware"),cO={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},U6=_f(e=>({applyToStack:_f(r=>{r.add(aO(e),cO)},"applyToStack")}),"getHostHeaderPlugin")});var pd=B((Wbe,fO)=>{"use strict";var xf=Object.defineProperty,q6=Object.getOwnPropertyDescriptor,H6=Object.getOwnPropertyNames,j6=Object.prototype.hasOwnProperty,rC=(e,r)=>xf(e,"name",{value:r,configurable:!0}),$6=(e,r)=>{for(var t in r)xf(e,t,{get:r[t],enumerable:!0})},V6=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of H6(r))!j6.call(e,s)&&s!==t&&xf(e,s,{get:()=>r[s],enumerable:!(n=q6(r,s))||n.enumerable});return e},G6=e=>V6(xf({},"__esModule",{value:!0}),e),dO={};$6(dO,{getLoggerPlugin:()=>K6,loggerMiddleware:()=>uO,loggerMiddlewareOptions:()=>mO});fO.exports=G6(dO);var uO=rC(()=>(e,r)=>async t=>{try{let n=await e(t),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=c,f=l??r.inputFilterSensitiveLog,g=d??r.outputFilterSensitiveLog,{$metadata:y,...h}=n.output;return a?.info?.({clientName:s,commandName:o,input:f(t.input),output:g(h),metadata:y}),n}catch(n){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l}=c,d=l??r.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:d(t.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),mO={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},K6=rC(e=>({applyToStack:rC(r=>{r.add(uO(),mO)},"applyToStack")}),"getLoggerPlugin")});var gO=B(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.InvokeStore=void 0;var W6=require("async_hooks"),nC=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";nC||(globalThis.awslambda=globalThis.awslambda||{});var X6={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},sC=class{static storage=new W6.AsyncLocalStorage;static PROTECTED_KEYS=X6;static run(r,t){return this.storage.run({...r},t)}static getContext(){return this.storage.getStore()}static get(r){return this.storage.getStore()?.[r]}static set(r,t){if(this.isProtectedKey(r))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[r]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(r){return r===this.PROTECTED_KEYS.REQUEST_ID||r===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},wf;!nC&&globalThis.awslambda?.InvokeStore?wf=globalThis.awslambda.InvokeStore:(wf=sC,!nC&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=wf));Af.InvokeStore=wf});var iC=B(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.recursionDetectionMiddleware=void 0;var Y6=gO(),J6=Ke(),oC="X-Amzn-Trace-Id",Q6="AWS_LAMBDA_FUNCTION_NAME",Z6="_X_AMZN_TRACE_ID",eG=()=>e=>async r=>{let{request:t}=r;if(!J6.HttpRequest.isInstance(t))return e(r);let n=Object.keys(t.headers??{}).find(d=>d.toLowerCase()===oC.toLowerCase())??oC;if(t.headers.hasOwnProperty(n))return e(r);let s=process.env[Q6],o=process.env[Z6],c=Y6.InvokeStore.getXRayTraceId()??o,l=d=>typeof d=="string"&&d.length>0;return l(s)&&l(c)&&(t.headers[oC]=c),e({...r,request:t})};Pf.recursionDetectionMiddleware=eG});var yd=B((Jbe,lC)=>{"use strict";var vf=Object.defineProperty,tG=Object.getOwnPropertyDescriptor,rG=Object.getOwnPropertyNames,nG=Object.prototype.hasOwnProperty,hO=(e,r)=>vf(e,"name",{value:r,configurable:!0}),sG=(e,r)=>{for(var t in r)vf(e,t,{get:r[t],enumerable:!0})},aC=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of rG(r))!nG.call(e,s)&&s!==t&&vf(e,s,{get:()=>r[s],enumerable:!(n=tG(r,s))||n.enumerable});return e},oG=(e,r,t)=>(aC(e,r,"default"),t&&aC(t,r,"default")),iG=e=>aC(vf({},"__esModule",{value:!0}),e),cC={};sG(cC,{getRecursionDetectionPlugin:()=>lG});lC.exports=iG(cC);var aG={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},cG=iC(),lG=hO(e=>({applyToStack:hO(r=>{r.add((0,cG.recursionDetectionMiddleware)(),aG)},"applyToStack")}),"getRecursionDetectionPlugin");oG(cC,iC(),lC.exports)});var Tf=B(Ya=>{"use strict";var dG=(e,r,t)=>{if(r in e){if(e[r]==="true")return!0;if(e[r]==="false")return!1;throw new Error(`Cannot load ${t} "${r}". Expected "true" or "false", got ${e[r]}.`)}},uG=(e,r,t)=>{if(!(r in e))return;let n=parseInt(e[r],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${t} '${r}'. Expected number, got '${e[r]}'.`);return n};Ya.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ya.SelectorType||(Ya.SelectorType={}));Ya.booleanSelector=dG;Ya.numberSelector=uG});var uC=B((Zbe,yO)=>{"use strict";var Rf=Object.defineProperty,mG=Object.getOwnPropertyDescriptor,fG=Object.getOwnPropertyNames,gG=Object.prototype.hasOwnProperty,dC=(e,r)=>Rf(e,"name",{value:r,configurable:!0}),hG=(e,r)=>{for(var t in r)Rf(e,t,{get:r[t],enumerable:!0})},pG=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of fG(r))!gG.call(e,s)&&s!==t&&Rf(e,s,{get:()=>r[s],enumerable:!(n=mG(r,s))||n.enumerable});return e},yG=e=>pG(Rf({},"__esModule",{value:!0}),e),pO={};hG(pO,{build:()=>bG,parse:()=>EG,validate:()=>SG});yO.exports=yG(pO);var SG=dC(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),EG=dC(e=>{let r=e.split(":");if(r.length<6||r[0]!=="arn")throw new Error("Malformed ARN");let[,t,n,s,o,...a]=r;return{partition:t,service:n,region:s,accountId:o,resource:a.join(":")}},"parse"),bG=dC(e=>{let{partition:r="aws",service:t,region:n,accountId:s,resource:o}=e;if([t,n,s,o].some(a=>typeof a!="string"))throw new Error("Input ARN object is invalid");return`arn:${r}:${t}:${n}:${s}:${o}`},"build")});var Nf=B(We=>{"use strict";var Sd=Ke(),_O=Ie(),_G=Um(),If=Tf(),CG=($t(),Re(gn)),CO=(Dr(),Re(ci));Ss();var xG=Er(),SO=ei(),wG=uC(),AG="content-length",PG="x-amz-decoded-content-length";function xO(){return(e,r)=>async t=>{let{request:n}=t;if(Sd.HttpRequest.isInstance(n)&&!(AG in n.headers)&&!(PG in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof r?.logger?.warn=="function"&&!(r.logger instanceof _O.NoOpLogger)?r.logger.warn(s):console.warn(s)}return e({...t})}}var wO={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},vG=e=>({applyToStack:r=>{r.add(xO(),wO)}}),AO=e=>(r,t)=>async n=>{let s=await e.region(),o=e.region,a=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),a=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{let c=await r(n);if(t.__s3RegionRedirect){a();let l=await e.region();if(s!==l)throw new Error("Region was not restored following S3 region redirect.")}return c}catch(c){throw a(),c}},PO={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function vO(e){return(r,t)=>async n=>{try{return await r(n)}catch(s){if(e.followRegionRedirects){let o=s?.$metadata?.httpStatusCode,a=t.commandName==="HeadBucketCommand",c=s?.$response?.headers?.["x-amz-bucket-region"];if(c&&(o===301||o===400&&(s?.name==="IllegalLocationConstraintException"||a))){try{let l=c;t.logger?.debug(`Redirecting from ${await e.region()} to ${l}`),t.__s3RegionRedirect=l}catch(l){throw new Error("Region redirect failed: "+l)}return r(n)}}throw s}}}var TO={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},TG=e=>({applyToStack:r=>{r.add(vO(e),TO),r.addRelativeTo(AO(e),PO)}}),RO=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(Sd.HttpResponse.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{_O.parseRfc7231DateTime(o.headers.expires)}catch(a){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${a}`),delete o.headers.expires}}return s},IO={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},RG=e=>({applyToStack:r=>{r.addRelativeTo(RO(),IO)}}),kf=class e{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(r={}){this.data=r}get(r){let t=this.data[r];if(t)return t}set(r,t){return this.data[r]=t,t}delete(r){delete this.data[r]}async purgeExpired(){let r=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>r))for(let t in this.data){let n=this.data[t];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<r&&delete this.data[t]}}}},Ja=class{_identity;isRefreshing;accessed;constructor(r,t=!1,n=Date.now()){this._identity=r,this.isRefreshing=t,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}},Of=class e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(r,t=new kf){this.createSessionFn=r,this.cache=t}async getS3ExpressIdentity(r,t){let n=t.Bucket,{cache:s}=this,o=s.get(n);return o?o.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(n,new Ja(this.getIdentity(n))).identity:((a.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(n).then(d=>{s.set(n,new Ja(Promise.resolve(d)))})),a)):s.set(n,new Ja(this.getIdentity(n))).identity}async getIdentity(r){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let t=await this.createSessionFn(r);if(!t.Credentials?.AccessKeyId||!t.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}},IG="Directory",kG="S3Express",OG="sigv4-s3express",mC="X-Amz-S3session-Token",fC=mC.toLowerCase(),NG="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",BG="s3_disable_express_session_auth",DG={environmentVariableSelector:e=>If.booleanSelector(e,NG,If.SelectorType.ENV),configFileSelector:e=>If.booleanSelector(e,BG,If.SelectorType.CONFIG),default:!1},gC=class extends _G.SignatureV4{async signWithCredentials(r,t,n){let s=EO(t);r.headers[fC]=t.sessionToken;let o=this;return bO(o,s),o.signRequest(r,n??{})}async presignWithCredentials(r,t,n){let s=EO(t);return delete r.headers[fC],r.headers[mC]=t.sessionToken,r.query=r.query??{},r.query[mC]=t.sessionToken,bO(this,s),this.presign(r,n)}};function EO(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function bO(e,r){let t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=()=>(clearTimeout(t),e.credentialProvider=n,Promise.resolve(r));e.credentialProvider=s}var kO=e=>(r,t)=>async n=>{if(t.endpointV2){let s=t.endpointV2,o=s.properties?.authSchemes?.[0]?.name===OG;if((s.properties?.backend===kG||s.properties?.bucketType===IG)&&(CG.setFeature(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),o){let c=n.input.Bucket;if(c){let l=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:c});t.s3ExpressIdentity=l,Sd.HttpRequest.isInstance(n.request)&&l.sessionToken&&(n.request.headers[fC]=l.sessionToken)}}}return r(n)},OO={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},MG=e=>({applyToStack:r=>{r.add(kO(e),OO)}}),LG=async(e,r,t,n)=>{let s=await n.signWithCredentials(t,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},FG=e=>r=>{throw r},zG=(e,r)=>{},UG=CO.httpSigningMiddlewareOptions,NO=e=>(r,t)=>async n=>{if(!Sd.HttpRequest.isInstance(n.request))return r(n);let o=xG.getSmithyContext(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d;t.s3ExpressIdentity?d=await LG(t.s3ExpressIdentity,a,n.request,await e.signer()):d=await l.sign(n.request,c,a);let f=await r({...n,request:d}).catch((l.errorHandler||FG)(a));return(l.successHandler||zG)(f.response,a),f},qG=e=>({applyToStack:r=>{r.addRelativeTo(NO(e),CO.httpSigningMiddlewareOptions)}}),HG=(e,{session:r})=>{let[t,n]=r,{forcePathStyle:s,useAccelerateEndpoint:o,disableMultiregionAccessPoints:a,followRegionRedirects:c,s3ExpressIdentityProvider:l,bucketEndpoint:d}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:c??!1,s3ExpressIdentityProvider:l??new Of(async f=>t().send(new n({Bucket:f}))),bucketEndpoint:d??!1})},jG={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},$G=3e3,BO=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(!Sd.HttpResponse.isInstance(o))return s;let{statusCode:a,body:c}=o;if(a<200||a>=300||!(typeof c?.stream=="function"||typeof c?.pipe=="function"||typeof c?.tee=="function"))return s;let d=c,f=c;c&&typeof c=="object"&&!(c instanceof Uint8Array)&&([d,f]=await SO.splitStream(c)),o.body=f;let g=await VG(d,{streamCollector:async h=>SO.headStream(h,$G)});typeof d?.destroy=="function"&&d.destroy();let y=e.utf8Encoder(g.subarray(g.length-16));if(g.length===0&&jG[t.commandName]){let h=new Error("S3 aborted request");throw h.name="InternalError",h}return y&&y.endsWith("</Error>")&&(o.statusCode=400),s},VG=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),DO={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},GG=e=>({applyToStack:r=>{r.addRelativeTo(BO(e),DO)}});function KG(e){return(r,t)=>async n=>{if(e.bucketEndpoint){let s=t.endpointV2;if(s){let o=n.input.Bucket;if(typeof o=="string")try{let a=new URL(o);t.endpointV2={...s,url:a}}catch(a){let c=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw t.logger?.constructor?.name==="NoOpLogger"?console.warn(c):t.logger?.warn?.(c),a}}}return r(n)}}var WG={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function MO({bucketEndpoint:e}){return r=>async t=>{let{input:{Bucket:n}}=t;if(!e&&typeof n=="string"&&!wG.validate(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return r({...t})}}var LO={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},XG=e=>({applyToStack:r=>{r.add(MO(e),LO),r.addRelativeTo(KG(e),WG)}});We.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS=DG;We.S3ExpressIdentityCache=kf;We.S3ExpressIdentityCacheEntry=Ja;We.S3ExpressIdentityProviderImpl=Of;We.SignatureV4S3Express=gC;We.checkContentLengthHeader=xO;We.checkContentLengthHeaderMiddlewareOptions=wO;We.getCheckContentLengthHeaderPlugin=vG;We.getRegionRedirectMiddlewarePlugin=TG;We.getS3ExpiresMiddlewarePlugin=RG;We.getS3ExpressHttpSigningPlugin=qG;We.getS3ExpressPlugin=MG;We.getThrow200ExceptionsPlugin=GG;We.getValidateBucketNamePlugin=XG;We.regionRedirectEndpointMiddleware=AO;We.regionRedirectEndpointMiddlewareOptions=PO;We.regionRedirectMiddleware=vO;We.regionRedirectMiddlewareOptions=TO;We.resolveS3Config=HG;We.s3ExpiresMiddleware=RO;We.s3ExpiresMiddlewareOptions=IO;We.s3ExpressHttpSigningMiddleware=NO;We.s3ExpressHttpSigningMiddlewareOptions=UG;We.s3ExpressMiddleware=kO;We.s3ExpressMiddlewareOptions=OO;We.throw200ExceptionsMiddleware=BO;We.throw200ExceptionsMiddlewareOptions=DO;We.validateBucketNameMiddleware=MO;We.validateBucketNameMiddlewareOptions=LO});var Qa=B(yi=>{"use strict";var pC=Ss(),yC=class{capacity;data=new Map;parameters=[];constructor({size:r,params:t}){this.capacity=r??50,t&&(this.parameters=t)}get(r,t){let n=this.hash(r);if(n===!1)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:a,done:c}=s.next();if(this.data.delete(a),c||++o>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(r){let t="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(r[s]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},YG=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),FO=e=>YG.test(e)||e.startsWith("[")&&e.endsWith("]"),JG=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),EC=(e,r=!1)=>{if(!r)return JG.test(e);let t=e.split(".");for(let n of t)if(!EC(n))return!1;return!0},SC={},Ed="endpoints";function ho(e){return typeof e!="object"||e==null?e:"ref"in e?`$${ho(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(ho).join(", ")})`:JSON.stringify(e,null,2)}var Cr=class extends Error{constructor(r){super(r),this.name="EndpointError"}},QG=(e,r)=>e===r,ZG=e=>{let r=e.split("."),t=[];for(let n of r){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Cr(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Cr(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(n.slice(0,s)),t.push(o)}else t.push(n)}return t},zO=(e,r)=>ZG(r).reduce((t,n)=>{if(typeof t!="object")throw new Cr(`Index '${n}' in '${r}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(n)]:t[n]},e),eK=e=>e!=null,tK=e=>!e,hC={[pC.EndpointURLScheme.HTTP]:80,[pC.EndpointURLScheme.HTTPS]:443},rK=e=>{let r=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:h,protocol:_="",path:v="",query:I={}}=e,N=new URL(`${_}//${y}${h?`:${h}`:""}${v}`);return N.search=Object.entries(I).map(([W,ce])=>`${W}=${ce}`).join("&"),N}return new URL(e)}catch{return null}})();if(!r)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=r.href,{host:n,hostname:s,pathname:o,protocol:a,search:c}=r;if(c)return null;let l=a.slice(0,-1);if(!Object.values(pC.EndpointURLScheme).includes(l))return null;let d=FO(s),f=t.includes(`${n}:${hC[l]}`)||typeof e=="string"&&e.includes(`${n}:${hC[l]}`),g=`${n}${f?`:${hC[l]}`:""}`;return{scheme:l,authority:g,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}},nK=(e,r)=>e===r,sK=(e,r,t,n)=>r>=t||e.length<t?null:n?e.substring(e.length-t,e.length-r):e.substring(r,t),oK=e=>encodeURIComponent(e).replace(/[!*'()]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),iK={booleanEquals:QG,getAttr:zO,isSet:eK,isValidHostLabel:EC,not:tK,parseURL:rK,stringEquals:nK,substring:sK,uriEncode:oK},UO=(e,r)=>{let t=[],n={...r.endpointParams,...r.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let a=e.indexOf("}",o);if(a===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[a+1]==="}"&&(t.push(e.slice(o+1,a)),s=a+2);let c=e.substring(o+1,a);if(c.includes("#")){let[l,d]=c.split("#");t.push(zO(n[l],d))}else t.push(n[c]);s=a+1}return t.join("")},aK=({ref:e},r)=>({...r.endpointParams,...r.referenceRecord})[e],Bf=(e,r,t)=>{if(typeof e=="string")return UO(e,t);if(e.fn)return qO(e,t);if(e.ref)return aK(e,t);throw new Cr(`'${r}': ${String(e)} is not a string, function or reference.`)},qO=({fn:e,argv:r},t)=>{let n=r.map(o=>["boolean","number"].includes(typeof o)?o:Bf(o,"arg",t)),s=e.split(".");return s[0]in SC&&s[1]!=null?SC[s[0]][s[1]](...n):iK[e](...n)},cK=({assign:e,...r},t)=>{if(e&&e in t.referenceRecord)throw new Cr(`'${e}' is already defined in Reference Record.`);let n=qO(r,t);return t.logger?.debug?.(`${Ed} evaluateCondition: ${ho(r)} = ${ho(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},bC=(e=[],r)=>{let t={};for(let n of e){let{result:s,toAssign:o}=cK(n,{...r,referenceRecord:{...r.referenceRecord,...t}});if(!s)return{result:s};o&&(t[o.name]=o.value,r.logger?.debug?.(`${Ed} assign: ${o.name} := ${ho(o.value)}`))}return{result:!0,referenceRecord:t}},lK=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:s.map(o=>{let a=Bf(o,"Header value entry",r);if(typeof a!="string")throw new Cr(`Header '${n}' value '${a}' is not a string`);return a})}),{}),HO=(e,r)=>{if(Array.isArray(e))return e.map(t=>HO(t,r));switch(typeof e){case"string":return UO(e,r);case"object":if(e===null)throw new Cr(`Unexpected endpoint property: ${e}`);return jO(e,r);case"boolean":return e;default:throw new Cr(`Unexpected endpoint property type: ${typeof e}`)}},jO=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:HO(s,r)}),{}),dK=(e,r)=>{let t=Bf(e,"Endpoint URL",r);if(typeof t=="string")try{return new URL(t)}catch(n){throw console.error(`Failed to construct URL with ${t}`,n),n}throw new Cr(`Endpoint URL must be a string, got ${typeof t}`)},uK=(e,r)=>{let{conditions:t,endpoint:n}=e,{result:s,referenceRecord:o}=bC(t,r);if(!s)return;let a={...r,referenceRecord:{...r.referenceRecord,...o}},{url:c,properties:l,headers:d}=n;return r.logger?.debug?.(`${Ed} Resolving endpoint from template: ${ho(n)}`),{...d!=null&&{headers:lK(d,a)},...l!=null&&{properties:jO(l,a)},url:dK(c,a)}},mK=(e,r)=>{let{conditions:t,error:n}=e,{result:s,referenceRecord:o}=bC(t,r);if(s)throw new Cr(Bf(n,"Error",{...r,referenceRecord:{...r.referenceRecord,...o}}))},fK=(e,r)=>{let{conditions:t,rules:n}=e,{result:s,referenceRecord:o}=bC(t,r);if(s)return $O(n,{...r,referenceRecord:{...r.referenceRecord,...o}})},$O=(e,r)=>{for(let t of e)if(t.type==="endpoint"){let n=uK(t,r);if(n)return n}else if(t.type==="error")mK(t,r);else if(t.type==="tree"){let n=fK(t,r);if(n)return n}else throw new Cr(`Unknown endpoint rule: ${t}`);throw new Cr("Rules evaluation failed")},gK=(e,r)=>{let{endpointParams:t,logger:n}=r,{parameters:s,rules:o}=e;r.logger?.debug?.(`${Ed} Initial EndpointParams: ${ho(t)}`);let a=Object.entries(s).filter(([,d])=>d.default!=null).map(([d,f])=>[d,f.default]);if(a.length>0)for(let[d,f]of a)t[d]=t[d]??f;let c=Object.entries(s).filter(([,d])=>d.required).map(([d])=>d);for(let d of c)if(t[d]==null)throw new Cr(`Missing required parameter: '${d}'`);let l=$O(o,{endpointParams:t,logger:n,referenceRecord:{}});return r.logger?.debug?.(`${Ed} Resolved endpoint: ${ho(l)}`),l};yi.EndpointCache=yC;yi.EndpointError=Cr;yi.customEndpointFunctions=SC;yi.isIpAddress=FO;yi.isValidHostLabel=EC;yi.resolveEndpoint=gK});var GO=B(VO=>{"use strict";function hK(e){let r={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[n,s=null]=t.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in r?Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]:r[n]=s}return r}VO.parseQueryString=hK});var po=B(WO=>{"use strict";var pK=GO(),KO=e=>{if(typeof e=="string")return KO(new URL(e));let{hostname:r,pathname:t,port:n,protocol:s,search:o}=e,a;return o&&(a=pK.parseQueryString(o)),{hostname:r,port:n?parseInt(n):void 0,protocol:s,path:t,query:a}};WO.parseUrl=KO});var Za=B((s_e,oN)=>{"use strict";var Df=Object.defineProperty,yK=Object.getOwnPropertyDescriptor,SK=Object.getOwnPropertyNames,EK=Object.prototype.hasOwnProperty,yo=(e,r)=>Df(e,"name",{value:r,configurable:!0}),bK=(e,r)=>{for(var t in r)Df(e,t,{get:r[t],enumerable:!0})},_K=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of SK(r))!EK.call(e,s)&&s!==t&&Df(e,s,{get:()=>r[s],enumerable:!(n=yK(r,s))||n.enumerable});return e},CK=e=>_K(Df({},"__esModule",{value:!0}),e),YO={};bK(YO,{ConditionObject:()=>ht.ConditionObject,DeprecatedObject:()=>ht.DeprecatedObject,EndpointError:()=>ht.EndpointError,EndpointObject:()=>ht.EndpointObject,EndpointObjectHeaders:()=>ht.EndpointObjectHeaders,EndpointObjectProperties:()=>ht.EndpointObjectProperties,EndpointParams:()=>ht.EndpointParams,EndpointResolverOptions:()=>ht.EndpointResolverOptions,EndpointRuleObject:()=>ht.EndpointRuleObject,ErrorRuleObject:()=>ht.ErrorRuleObject,EvaluateOptions:()=>ht.EvaluateOptions,Expression:()=>ht.Expression,FunctionArgv:()=>ht.FunctionArgv,FunctionObject:()=>ht.FunctionObject,FunctionReturn:()=>ht.FunctionReturn,ParameterObject:()=>ht.ParameterObject,ReferenceObject:()=>ht.ReferenceObject,ReferenceRecord:()=>ht.ReferenceRecord,RuleSetObject:()=>ht.RuleSetObject,RuleSetRules:()=>ht.RuleSetRules,TreeRuleObject:()=>ht.TreeRuleObject,awsEndpointFunctions:()=>nN,getUserAgentPrefix:()=>PK,isIpAddress:()=>ht.isIpAddress,partition:()=>tN,resolveDefaultAwsRegionalEndpointsConfig:()=>TK,resolveEndpoint:()=>ht.resolveEndpoint,setPartitionInfo:()=>rN,toEndpointV1:()=>sN,useDefaultPartitionInfo:()=>AK});oN.exports=CK(YO);var ht=Qa(),JO=yo((e,r=!1)=>{if(r){for(let t of e.split("."))if(!JO(t))return!1;return!0}return!(!(0,ht.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,ht.isIpAddress)(e))},"isVirtualHostableS3Bucket"),XO=":",xK="/",wK=yo(e=>{let r=e.split(XO);if(r.length<6)return null;let[t,n,s,o,a,...c]=r;if(t!=="arn"||n===""||s===""||c.join(XO)==="")return null;let l=c.map(d=>d.split(xK)).flat();return{partition:n,service:s,region:o,accountId:a,resourceId:l}},"parseArn"),QO={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},ZO=QO,eN="",tN=yo(e=>{let{partitions:r}=ZO;for(let n of r){let{regions:s,outputs:o}=n;for(let[a,c]of Object.entries(s))if(a===e)return{...o,...c}}for(let n of r){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let t=r.find(n=>n.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},"partition"),rN=yo((e,r="")=>{ZO=e,eN=r},"setPartitionInfo"),AK=yo(()=>{rN(QO,"")},"useDefaultPartitionInfo"),PK=yo(()=>eN,"getUserAgentPrefix"),nN={isVirtualHostableS3Bucket:JO,parseArn:wK,partition:tN};ht.customEndpointFunctions.aws=nN;var vK=po(),TK=yo(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>sN(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),sN=yo(e=>(0,vK.parseUrl)(e.url),"toEndpointV1")});var tc=B(ec=>{"use strict";var RK=(Dr(),Re(ci)),IK=Za(),kK=Ke(),es=($t(),Re(gn)),lN=void 0;function OK(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function NK(e){let r=RK.normalizeProvider(e.userAgentAppId??lN),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{let n=await r();if(!OK(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var BK=/\d{12}\.ddb/;async function DK(e,r,t){if(t.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&es.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){let o=await r.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?es.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):es.setFeature(e,"RETRY_MODE_STANDARD","E"):es.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(BK)&&es.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await r.accountIdEndpointMode?.()){case"disabled":es.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":es.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":es.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&es.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[a,c]of Object.entries(o.$source??{}))es.setFeature(e,a,c)}}var iN="user-agent",_C="x-amz-user-agent",aN=" ",CC="/",MK=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,LK=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,cN="-",FK=1024;function zK(e){let r="";for(let t in e){let n=e[t];if(r.length+n.length+1<=FK){r.length?r+=","+n:r+=n;continue}break}return r}var dN=e=>(r,t)=>async n=>{let{request:s}=n;if(!kK.HttpRequest.isInstance(s))return r(n);let{headers:o}=s,a=t?.userAgent?.map(Mf)||[],c=(await e.defaultUserAgentProvider()).map(Mf);await DK(t,e,n);let l=t;c.push(`m/${zK(Object.assign({},t.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(Mf)||[],f=await e.userAgentAppId();f&&c.push(Mf([`app/${f}`]));let g=IK.getUserAgentPrefix(),y=(g?[g]:[]).concat([...c,...a,...d]).join(aN),h=[...c.filter(_=>_.startsWith("aws-sdk-")),...d].join(aN);return e.runtime!=="browser"?(h&&(o[_C]=o[_C]?`${o[iN]} ${h}`:h),o[iN]=y):o[_C]=y,r({...n,request:s})},Mf=e=>{let r=e[0].split(CC).map(a=>a.replace(MK,cN)).join(CC),t=e[1]?.replace(LK,cN),n=r.indexOf(CC),s=r.substring(0,n),o=r.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,t].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},uN={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},UK=e=>({applyToStack:r=>{r.add(dN(e),uN)}});ec.DEFAULT_UA_APP_ID=lN;ec.getUserAgentMiddlewareOptions=uN;ec.getUserAgentPlugin=UK;ec.resolveUserAgentConfig=NK;ec.userAgentMiddleware=dN});var ts=B(gr=>{"use strict";var So=Tf(),Lf=Er(),gN="AWS_USE_DUALSTACK_ENDPOINT",hN="use_dualstack_endpoint",qK=!1,HK={environmentVariableSelector:e=>So.booleanSelector(e,gN,So.SelectorType.ENV),configFileSelector:e=>So.booleanSelector(e,hN,So.SelectorType.CONFIG),default:!1},pN="AWS_USE_FIPS_ENDPOINT",yN="use_fips_endpoint",jK=!1,$K={environmentVariableSelector:e=>So.booleanSelector(e,pN,So.SelectorType.ENV),configFileSelector:e=>So.booleanSelector(e,yN,So.SelectorType.CONFIG),default:!1},VK=e=>{let{tls:r,endpoint:t,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:r??!0,endpoint:Lf.normalizeProvider(typeof t=="string"?n(t):t),isCustomEndpoint:!0,useDualstackEndpoint:Lf.normalizeProvider(s??!1)})},GK=async e=>{let{tls:r=!0}=e,t=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(t))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=await e.regionInfoProvider(t,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${a}`)},KK=e=>{let r=Lf.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:t,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:t?Lf.normalizeProvider(typeof t=="string"?s(t):t):()=>GK({...e,useDualstackEndpoint:r,useFipsEndpoint:n}),isCustomEndpoint:!!t,useDualstackEndpoint:r})},SN="AWS_REGION",EN="region",WK={environmentVariableSelector:e=>e[SN],configFileSelector:e=>e[EN],default:()=>{throw new Error("Region is missing")}},XK={preferredFile:"credentials"},bN=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),mN=e=>bN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,YK=e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof r=="string")return mN(r);let n=await r();return mN(n)},useFipsEndpoint:async()=>{let n=typeof r=="string"?r:await r();return bN(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},fN=(e=[],{useFipsEndpoint:r,useDualstackEndpoint:t})=>e.find(({tags:n})=>r===n.includes("fips")&&t===n.includes("dualstack"))?.hostname,JK=(e,{regionHostname:r,partitionHostname:t})=>r||(t?t.replace("{region}",e):void 0),QK=(e,{partitionHash:r})=>Object.keys(r||{}).find(t=>r[t].regions.includes(e))??"aws",ZK=(e,{signingRegion:r,regionRegex:t,useFipsEndpoint:n})=>{if(r)return r;if(n){let s=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},e8=(e,{useFipsEndpoint:r=!1,useDualstackEndpoint:t=!1,signingService:n,regionHash:s,partitionHash:o})=>{let a=QK(e,{partitionHash:o}),c=e in s?e:o[a]?.endpoint??e,l={useFipsEndpoint:r,useDualstackEndpoint:t},d=fN(s[c]?.variants,l),f=fN(o[a]?.variants,l),g=JK(c,{regionHostname:d,partitionHostname:f});if(g===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:r,useDualstackEndpoint:t}}`);let y=ZK(g,{signingRegion:s[c]?.signingRegion,regionRegex:o[a].regionRegex,useFipsEndpoint:r});return{partition:a,signingService:n,hostname:g,...y&&{signingRegion:y},...s[c]?.signingService&&{signingService:s[c].signingService}}};gr.CONFIG_USE_DUALSTACK_ENDPOINT=hN;gr.CONFIG_USE_FIPS_ENDPOINT=yN;gr.DEFAULT_USE_DUALSTACK_ENDPOINT=qK;gr.DEFAULT_USE_FIPS_ENDPOINT=jK;gr.ENV_USE_DUALSTACK_ENDPOINT=gN;gr.ENV_USE_FIPS_ENDPOINT=pN;gr.NODE_REGION_CONFIG_FILE_OPTIONS=XK;gr.NODE_REGION_CONFIG_OPTIONS=WK;gr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=HK;gr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=$K;gr.REGION_ENV_NAME=SN;gr.REGION_INI_NAME=EN;gr.getRegionInfo=e8;gr.resolveCustomEndpointsConfig=VK;gr.resolveEndpointsConfig=KK;gr.resolveRegionConfig=YK});var CN=B(_N=>{"use strict";var t8=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)});_N.resolveEventStreamSerdeConfig=t8});var bd=B(Ff=>{"use strict";var r8=Ke(),xN="content-length";function wN(e){return r=>async t=>{let n=t.request;if(r8.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(a=>a.toLowerCase()).indexOf(xN)===-1)try{let a=e(s);n.headers={...n.headers,[xN]:String(a)}}catch{}}return r({...t,request:n})}}var AN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},n8=e=>({applyToStack:r=>{r.add(wN(e.bodyLengthChecker),AN)}});Ff.contentLengthMiddleware=wN;Ff.contentLengthMiddlewareOptions=AN;Ff.getContentLengthPlugin=n8});var wC=B(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.getHomeDir=void 0;var s8=require("os"),o8=require("path"),xC={},i8=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",a8=()=>{let{HOME:e,USERPROFILE:r,HOMEPATH:t,HOMEDRIVE:n=`C:${o8.sep}`}=process.env;if(e)return e;if(r)return r;if(t)return`${n}${t}`;let s=i8();return xC[s]||(xC[s]=(0,s8.homedir)()),xC[s]};zf.getHomeDir=a8});var AC=B(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.getSSOTokenFilepath=void 0;var c8=require("crypto"),l8=require("path"),d8=wC(),u8=e=>{let t=(0,c8.createHash)("sha1").update(e).digest("hex");return(0,l8.join)((0,d8.getHomeDir)(),".aws","sso","cache",`${t}.json`)};Uf.getSSOTokenFilepath=u8});var PN=B(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.getSSOTokenFromFile=Eo.tokenIntercept=void 0;var m8=require("fs"),f8=AC(),{readFile:g8}=m8.promises;Eo.tokenIntercept={};var h8=async e=>{if(Eo.tokenIntercept[e])return Eo.tokenIntercept[e];let r=(0,f8.getSSOTokenFilepath)(e),t=await g8(r,"utf8");return JSON.parse(t)};Eo.getSSOTokenFromFile=h8});var vN=B(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.slurpFile=tn.fileIntercept=tn.filePromisesHash=void 0;var p8=require("fs"),{readFile:y8}=p8.promises;tn.filePromisesHash={};tn.fileIntercept={};var S8=(e,r)=>tn.fileIntercept[e]!==void 0?tn.fileIntercept[e]:((!tn.filePromisesHash[e]||r?.ignoreCache)&&(tn.filePromisesHash[e]=y8(e,"utf8")),tn.filePromisesHash[e]);tn.slurpFile=S8});var Os=B(Gr=>{"use strict";var _d=wC(),TN=AC(),PC=PN(),qf=require("path"),Hf=Ss(),Cd=vN(),IN="AWS_PROFILE",kN="default",E8=e=>e.profile||process.env[IN]||kN,b8=e=>Object.entries(e).filter(([r])=>{let t=r.indexOf(Si);return t===-1?!1:Object.values(Hf.IniSectionType).includes(r.substring(0,t))}).reduce((r,[t,n])=>{let s=t.indexOf(Si),o=t.substring(0,s)===Hf.IniSectionType.PROFILE?t.substring(s+1):t;return r[o]=n,r},{...e.default&&{default:e.default}}),_8="AWS_CONFIG_FILE",ON=()=>process.env[_8]||qf.join(_d.getHomeDir(),".aws","config"),C8="AWS_SHARED_CREDENTIALS_FILE",x8=()=>process.env[C8]||qf.join(_d.getHomeDir(),".aws","credentials"),w8=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,A8=["__proto__","profile __proto__"],vC=e=>{let r={},t,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){t=void 0,n=void 0;let c=o.substring(1,o.length-1),l=w8.exec(c);if(l){let[,d,,f]=l;Object.values(Hf.IniSectionType).includes(d)&&(t=[d,f].join(Si))}else t=c;if(A8.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(t){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,d]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(d==="")n=l;else{n&&s.trimStart()===s&&(n=void 0),r[t]=r[t]||{};let f=n?[n,l].join(Si):l;r[t][f]=d}}}}return r},RN=()=>({}),Si=".",NN=async(e={})=>{let{filepath:r=x8(),configFilepath:t=ON()}=e,n=_d.getHomeDir(),s="~/",o=r;r.startsWith(s)&&(o=qf.join(n,r.slice(2)));let a=t;t.startsWith(s)&&(a=qf.join(n,t.slice(2)));let c=await Promise.all([Cd.slurpFile(a,{ignoreCache:e.ignoreCache}).then(vC).then(b8).catch(RN),Cd.slurpFile(o,{ignoreCache:e.ignoreCache}).then(vC).catch(RN)]);return{configFile:c[0],credentialsFile:c[1]}},P8=e=>Object.entries(e).filter(([r])=>r.startsWith(Hf.IniSectionType.SSO_SESSION+Si)).reduce((r,[t,n])=>({...r,[t.substring(t.indexOf(Si)+1)]:n}),{}),v8=()=>({}),T8=async(e={})=>Cd.slurpFile(e.configFilepath??ON()).then(vC).then(P8).catch(v8),R8=(...e)=>{let r={};for(let t of e)for(let[n,s]of Object.entries(t))r[n]!==void 0?Object.assign(r[n],s):r[n]=s;return r},I8=async e=>{let r=await NN(e);return R8(r.configFile,r.credentialsFile)},k8={getFileRecord(){return Cd.fileIntercept},interceptFile(e,r){Cd.fileIntercept[e]=Promise.resolve(r)},getTokenRecord(){return PC.tokenIntercept},interceptToken(e,r){PC.tokenIntercept[e]=r}};Object.defineProperty(Gr,"getSSOTokenFromFile",{enumerable:!0,get:function(){return PC.getSSOTokenFromFile}});Gr.CONFIG_PREFIX_SEPARATOR=Si;Gr.DEFAULT_PROFILE=kN;Gr.ENV_PROFILE=IN;Gr.externalDataInterceptor=k8;Gr.getProfileName=E8;Gr.loadSharedConfigFiles=NN;Gr.loadSsoSessionData=T8;Gr.parseKnownFiles=I8;Object.keys(_d).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gr,e)&&Object.defineProperty(Gr,e,{enumerable:!0,get:function(){return _d[e]}})});Object.keys(TN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gr,e)&&Object.defineProperty(Gr,e,{enumerable:!0,get:function(){return TN[e]}})})});var bo=B(MN=>{"use strict";var xd=Mr(),BN=Os();function DN(e){try{let r=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return r.delete("CONFIG"),r.delete("CONFIG_PREFIX_SEPARATOR"),r.delete("ENV"),[...r].join(", ")}catch{return e}}var O8=(e,r)=>async()=>{try{let t=e(process.env,r);if(t===void 0)throw new Error;return t}catch(t){throw new xd.CredentialsProviderError(t.message||`Not found in ENV: ${DN(e.toString())}`,{logger:r?.logger})}},N8=(e,{preferredFile:r="config",...t}={})=>async()=>{let n=BN.getProfileName(t),{configFile:s,credentialsFile:o}=await BN.loadSharedConfigFiles(t),a=o[n]||{},c=s[n]||{},l=r==="config"?{...a,...c}:{...c,...a};try{let f=e(l,r==="config"?s:o);if(f===void 0)throw new Error;return f}catch(d){throw new xd.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${DN(e.toString())}`,{logger:t.logger})}},B8=e=>typeof e=="function",D8=e=>B8(e)?async()=>await e():xd.fromStatic(e),M8=({environmentVariableSelector:e,configFileSelector:r,default:t},n={})=>{let{signingName:s,logger:o}=n,a={signingName:s,logger:o};return xd.memoize(xd.chain(O8(e,a),N8(r,n),D8(t)))};MN.loadConfig=M8});var UN=B(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.getEndpointUrlConfig=void 0;var LN=Os(),FN="AWS_ENDPOINT_URL",zN="endpoint_url",L8=e=>({environmentVariableSelector:r=>{let t=e.split(" ").map(o=>o.toUpperCase()),n=r[[FN,...t].join("_")];if(n)return n;let s=r[FN];if(s)return s},configFileSelector:(r,t)=>{if(t&&r.services){let s=t[["services",r.services].join(LN.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(c=>c.toLowerCase()),a=s[[o.join("_"),zN].join(LN.CONFIG_PREFIX_SEPARATOR)];if(a)return a}}let n=r[zN];if(n)return n},default:void 0});jf.getEndpointUrlConfig=L8});var qN=B($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.getEndpointFromConfig=void 0;var F8=bo(),z8=UN(),U8=async e=>(0,F8.loadConfig)((0,z8.getEndpointUrlConfig)(e??""))();$f.getEndpointFromConfig=U8});var Bs=B(Ns=>{"use strict";var jN=qN(),HN=po(),q8=(Dr(),Re(ci)),Vf=Er(),H8=eo(),j8=async e=>{let r=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=r.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),W8(r)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!K8(r)||r.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||r.toLowerCase()!==r||r.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},$8=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,V8=/(\d+\.){3}\d+/,G8=/\.\./,K8=e=>$8.test(e)&&!V8.test(e)&&!G8.test(e),W8=e=>{let[r,t,n,,,s]=e.split(":"),o=r==="arn"&&e.split(":").length>=6,a=!!(o&&t&&n&&s);if(o&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},X8=(e,r,t)=>{let n=async()=>{let s=t[e]??t[r];return typeof s=="function"?s():s};return e==="credentialScope"||r==="CredentialScope"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||r==="AccountId"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||r==="endpoint"?async()=>{if(t.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:c,path:l}=s;return`${o}//${a}${c?":"+c:""}${l}`}}return s}:n},TC=e=>typeof e=="object"?"url"in e?HN.parseUrl(e.url):e:HN.parseUrl(e),$N=async(e,r,t,n)=>{if(!t.isCustomEndpoint){let a;t.serviceConfiguredEndpoint?a=await t.serviceConfiguredEndpoint():a=await jN.getEndpointFromConfig(t.serviceId),a&&(t.endpoint=()=>Promise.resolve(TC(a)),t.isCustomEndpoint=!0)}let s=await VN(e,r,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,n)},VN=async(e,r,t)=>{let n={},s=r?.getEndpointParameterInstructions?.()||{};for(let[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await X8(a.name,o,t)();break;case"operationContextParams":n[o]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,t),String(t.serviceId).toLowerCase()==="s3"&&await j8(n),n},GN=({config:e,instructions:r})=>(t,n)=>async s=>{e.isCustomEndpoint&&q8.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await $N(s.input,{getEndpointParameterInstructions(){return r}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;let l=Vf.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return t({...s})},KN={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:H8.serializerMiddlewareOption.name},Y8=(e,r)=>({applyToStack:t=>{t.addRelativeTo(GN({config:e,instructions:r}),KN)}}),J8=e=>{let r=e.tls??!0,{endpoint:t,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=t!=null?async()=>TC(await Vf.normalizeProvider(t)()):void 0,c=Object.assign(e,{endpoint:o,tls:r,isCustomEndpoint:!!t,useDualstackEndpoint:Vf.normalizeProvider(n??!1),useFipsEndpoint:Vf.normalizeProvider(s??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=jN.getEndpointFromConfig(e.serviceId)),l),c},Q8=e=>{let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Ns.endpointMiddleware=GN;Ns.endpointMiddlewareOptions=KN;Ns.getEndpointFromInstructions=$N;Ns.getEndpointPlugin=Y8;Ns.resolveEndpointConfig=J8;Ns.resolveEndpointRequiredConfig=Q8;Ns.resolveParams=VN;Ns.toEndpointV1=TC});var IC=B(_o=>{"use strict";var Z8=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],e5=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],t5=["TimeoutError","RequestTimeout","RequestTimeoutException"],r5=[500,502,503,504],n5=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],s5=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],WN=e=>e?.$retryable!==void 0,o5=e=>Z8.includes(e.name),XN=e=>e.$metadata?.clockSkewCorrected,YN=e=>{let r=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?r.has(e.message):!1},i5=e=>e.$metadata?.httpStatusCode===429||e5.includes(e.name)||e.$retryable?.throttling==!0,RC=(e,r=0)=>WN(e)||XN(e)||t5.includes(e.name)||n5.includes(e?.code||"")||s5.includes(e?.code||"")||r5.includes(e.$metadata?.httpStatusCode||0)||YN(e)||e.cause!==void 0&&r<=10&&RC(e.cause,r+1),a5=e=>{if(e.$metadata?.httpStatusCode!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!RC(e)}return!1};_o.isBrowserNetworkError=YN;_o.isClockSkewCorrectedError=XN;_o.isClockSkewError=o5;_o.isRetryableByTrait=WN;_o.isServerError=a5;_o.isThrottlingError=i5;_o.isTransientError=RC});var rc=B(Nt=>{"use strict";var c5=IC();Nt.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Nt.RETRY_MODES||(Nt.RETRY_MODES={}));var kC=3,l5=Nt.RETRY_MODES.STANDARD,Gf=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(r){this.beta=r?.beta??.7,this.minCapacity=r?.minCapacity??1,this.minFillRate=r?.minFillRate??.5,this.scaleConstant=r?.scaleConstant??.4,this.smooth=r?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(r){if(this.enabled){if(this.refillTokenBucket(),r>this.currentCapacity){let t=(r-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,t))}this.currentCapacity=this.currentCapacity-r}}refillTokenBucket(){let r=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=r;return}let t=(r-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=r}updateClientSendingRate(r){let t;if(this.updateMeasuredRate(),c5.isThrottlingError(r)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(r){return this.getPrecise(r*this.beta)}cubicSuccess(r){return this.getPrecise(this.scaleConstant*Math.pow(r-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(r){this.refillTokenBucket(),this.fillRate=Math.max(r,this.minFillRate),this.maxCapacity=Math.max(r,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let r=this.getCurrentTimeInSeconds(),t=Math.floor(r*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(r){return parseFloat(r.toFixed(8))}},wd=100,DC=20*1e3,QN=500,OC=500,ZN=5,eB=10,tB=1,d5="amz-sdk-invocation-id",u5="amz-sdk-request",m5=()=>{let e=wd;return{computeNextBackoffDelay:n=>Math.floor(Math.min(DC,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},JN=({retryDelay:e,retryCount:r,retryCost:t})=>({getRetryCount:()=>r,getRetryDelay:()=>Math.min(DC,e),getRetryCost:()=>t}),Ad=class{maxAttempts;mode=Nt.RETRY_MODES.STANDARD;capacity=OC;retryBackoffStrategy=m5();maxAttemptsProvider;constructor(r){this.maxAttempts=r,this.maxAttemptsProvider=typeof r=="function"?r:async()=>r}async acquireInitialRetryToken(r){return JN({retryDelay:wd,retryCount:0})}async refreshRetryTokenForRetry(r,t){let n=await this.getMaxAttempts();if(this.shouldRetry(r,t,n)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?QN:wd);let o=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,c=this.getCapacityCost(s);return this.capacity-=c,JN({retryDelay:a,retryCount:r.getRetryCount()+1,retryCost:c})}throw new Error("No retry token available")}recordSuccess(r){this.capacity=Math.max(OC,this.capacity+(r.getRetryCost()??tB))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${kC}`),kC}}shouldRetry(r,t,n){return r.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(r){return r==="TRANSIENT"?eB:ZN}isRetryableError(r){return r==="THROTTLING"||r==="TRANSIENT"}},NC=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Nt.RETRY_MODES.ADAPTIVE;constructor(r,t){this.maxAttemptsProvider=r;let{rateLimiter:n}=t??{};this.rateLimiter=n??new Gf,this.standardRetryStrategy=new Ad(r)}async acquireInitialRetryToken(r){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(r)}async refreshRetryTokenForRetry(r,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(r,t)}recordSuccess(r){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(r)}},BC=class extends Ad{computeNextBackoffDelay;constructor(r,t=wd){super(typeof r=="function"?r:async()=>r),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(r,t){let n=await super.refreshRetryTokenForRetry(r,t);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Nt.AdaptiveRetryStrategy=NC;Nt.ConfiguredRetryStrategy=BC;Nt.DEFAULT_MAX_ATTEMPTS=kC;Nt.DEFAULT_RETRY_DELAY_BASE=wd;Nt.DEFAULT_RETRY_MODE=l5;Nt.DefaultRateLimiter=Gf;Nt.INITIAL_RETRY_TOKENS=OC;Nt.INVOCATION_ID_HEADER=d5;Nt.MAXIMUM_RETRY_DELAY=DC;Nt.NO_RETRY_INCREMENT=tB;Nt.REQUEST_HEADER=u5;Nt.RETRY_COST=ZN;Nt.StandardRetryStrategy=Ad;Nt.THROTTLING_RETRY_DELAY_BASE=QN;Nt.TIMEOUT_RETRY_COST=eB});var rB=B(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.isStreamingPayload=void 0;var f5=require("stream"),g5=e=>e?.body instanceof f5.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Kf.isStreamingPayload=g5});var Ds=B(Xt=>{"use strict";var Pt=rc(),nc=Ke(),Co=IC(),sB=Pm(),nB=Er(),h5=Ie(),p5=rB(),y5=(e,r)=>{let t=e,n=Pt.NO_RETRY_INCREMENT,s=Pt.RETRY_COST,o=Pt.TIMEOUT_RETRY_COST,a=e,c=g=>g.name==="TimeoutError"?o:s,l=g=>c(g)<=a;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:g=>{if(!l(g))throw new Error("No retry token available");let y=c(g);return a-=y,y},releaseRetryTokens:g=>{a+=g??n,a=Math.min(a,t)}})},oB=(e,r)=>Math.floor(Math.min(Pt.MAXIMUM_RETRY_DELAY,Math.random()*2**r*e)),iB=e=>e?Co.isRetryableByTrait(e)||Co.isClockSkewError(e)||Co.isThrottlingError(e)||Co.isTransientError(e):!1,aB=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Wf=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Pt.RETRY_MODES.STANDARD;constructor(r,t){this.maxAttemptsProvider=r,this.retryDecider=t?.retryDecider??iB,this.delayDecider=t?.delayDecider??oB,this.retryQuota=t?.retryQuota??y5(Pt.INITIAL_RETRY_TOKENS)}shouldRetry(r,t,n){return t<n&&this.retryDecider(r)&&this.retryQuota.hasRetryTokens(r)}async getMaxAttempts(){let r;try{r=await this.maxAttemptsProvider()}catch{r=Pt.DEFAULT_MAX_ATTEMPTS}return r}async retry(r,t,n){let s,o=0,a=0,c=await this.getMaxAttempts(),{request:l}=t;for(nc.HttpRequest.isInstance(l)&&(l.headers[Pt.INVOCATION_ID_HEADER]=sB.v4());;)try{nc.HttpRequest.isInstance(l)&&(l.headers[Pt.REQUEST_HEADER]=`attempt=${o+1}; max=${c}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:f}=await r(t);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=a,{response:d,output:f}}catch(d){let f=aB(d);if(o++,this.shouldRetry(f,o,c)){s=this.retryQuota.retrieveRetryTokens(f);let g=this.delayDecider(Co.isThrottlingError(f)?Pt.THROTTLING_RETRY_DELAY_BASE:Pt.DEFAULT_RETRY_DELAY_BASE,o),y=S5(f.$response),h=Math.max(y||0,g);a+=h,await new Promise(_=>setTimeout(_,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=a,f}}},S5=e=>{if(!nc.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t).getTime()-Date.now():n*1e3},MC=class extends Wf{rateLimiter;constructor(r,t){let{rateLimiter:n,...s}=t??{};super(r,s),this.rateLimiter=n??new Pt.DefaultRateLimiter,this.mode=Pt.RETRY_MODES.ADAPTIVE}async retry(r,t){return super.retry(r,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},LC="AWS_MAX_ATTEMPTS",FC="max_attempts",E5={environmentVariableSelector:e=>{let r=e[LC];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Environment variable ${LC} mast be a number, got "${r}"`);return t},configFileSelector:e=>{let r=e[FC];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Shared config file entry ${FC} mast be a number, got "${r}"`);return t},default:Pt.DEFAULT_MAX_ATTEMPTS},b5=e=>{let{retryStrategy:r,retryMode:t,maxAttempts:n}=e,s=nB.normalizeProvider(n??Pt.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>r||(await nB.normalizeProvider(t)()===Pt.RETRY_MODES.ADAPTIVE?new Pt.AdaptiveRetryStrategy(s):new Pt.StandardRetryStrategy(s))})},cB="AWS_RETRY_MODE",lB="retry_mode",_5={environmentVariableSelector:e=>e[cB],configFileSelector:e=>e[lB],default:Pt.DEFAULT_RETRY_MODE},dB=()=>e=>async r=>{let{request:t}=r;return nc.HttpRequest.isInstance(t)&&(delete t.headers[Pt.INVOCATION_ID_HEADER],delete t.headers[Pt.REQUEST_HEADER]),e(r)},uB={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},C5=e=>({applyToStack:r=>{r.addRelativeTo(dB(),uB)}}),mB=e=>(r,t)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(x5(s)){s=s;let a=await s.acquireInitialRetryToken(t.partition_id),c=new Error,l=0,d=0,{request:f}=n,g=nc.HttpRequest.isInstance(f);for(g&&(f.headers[Pt.INVOCATION_ID_HEADER]=sB.v4());;)try{g&&(f.headers[Pt.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:y,output:h}=await r(n);return s.recordSuccess(a),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=d,{response:y,output:h}}catch(y){let h=w5(y);if(c=aB(y),g&&p5.isStreamingPayload(f))throw(t.logger instanceof h5.NoOpLogger?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=a.getRetryCount();let _=a.getRetryDelay();d+=_,await new Promise(v=>setTimeout(v,_))}}else return s=s,s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(r,n)},x5=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",w5=e=>{let r={error:e,errorType:A5(e)},t=gB(e.$response);return t&&(r.retryAfterHint=t),r},A5=e=>Co.isThrottlingError(e)?"THROTTLING":Co.isTransientError(e)?"TRANSIENT":Co.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",fB={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},P5=e=>({applyToStack:r=>{r.add(mB(e),fB)}}),gB=e=>{if(!nc.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t):new Date(n*1e3)};Xt.AdaptiveRetryStrategy=MC;Xt.CONFIG_MAX_ATTEMPTS=FC;Xt.CONFIG_RETRY_MODE=lB;Xt.ENV_MAX_ATTEMPTS=LC;Xt.ENV_RETRY_MODE=cB;Xt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=E5;Xt.NODE_RETRY_MODE_CONFIG_OPTIONS=_5;Xt.StandardRetryStrategy=Wf;Xt.defaultDelayDecider=oB;Xt.defaultRetryDecider=iB;Xt.getOmitRetryHeadersPlugin=C5;Xt.getRetryAfterHint=gB;Xt.getRetryPlugin=P5;Xt.omitRetryHeadersMiddleware=dB;Xt.omitRetryHeadersMiddlewareOptions=uB;Xt.resolveRetryConfig=b5;Xt.retryMiddleware=mB;Xt.retryMiddlewareOptions=fB});var qC=B(UC=>{"use strict";var v5=Nf(),hB=Um(),Pd={CrtSignerV4:null},zC=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof Pd.CrtSignerV4=="function"?"crt":typeof hB.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(r){this.sigv4Signer=new v5.SignatureV4S3Express(r),this.signerOptions=r}async sign(r,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(r,t):this.sigv4Signer.sign(r,t)}async signWithCredentials(r,t,n={}){if(n.signingRegion==="*"){let s=this.getSigv4aSigner(),o=Pd.CrtSignerV4;if(o&&s instanceof o)return s.signWithCredentials(r,t,n);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(r,t,n)}async presign(r,t={}){if(t.signingRegion==="*"){let n=this.getSigv4aSigner(),s=Pd.CrtSignerV4;if(s&&n instanceof s)return n.presign(r,t);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(r,t)}async presignWithCredentials(r,t,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(r,t,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let r=Pd.CrtSignerV4,t=hB.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!r&&!t)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions,signingAlgorithm:1});else if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||typeof t!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}};UC.SignatureV4MultiRegion=zC;UC.signatureV4CrtContainer=Pd});var jD=B(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.ruleSet=void 0;var ux="required",p="type",D="rules",C="conditions",T="fn",R="argv",oe="ref",Ce="assign",te="url",re="properties",bi="backend",xr="authSchemes",ir="disableDoubleEncoding",ar="signingName",Fr="signingRegion",ne="headers",mx="signingRegionSet",T5=6,R5=!1,rs=!0,rn="isSet",Ut="booleanEquals",Z="error",Zf="aws.partition",Ue="stringEquals",vt="getAttr",zt="name",at="substring",pB="bucketSuffix",fx="parseURL",V="endpoint",M="tree",eg="aws.isVirtualHostableS3Bucket",tg="{url#scheme}://{Bucket}.{url#authority}{url#path}",os="not",yB="accessPointSuffix",Qf="{url#scheme}://{url#authority}{url#path}",vD="hardwareType",TD="regionPrefix",SB="bucketAliasSuffix",lx="outpostId",_i="isValidHostLabel",gx="sigv4a",Id="s3-outposts",cc="s3",RD="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",ID="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",EB="https://{Bucket}.s3.{partitionResult#dnsSuffix}",kD="aws.parseArn",OD="bucketArn",ND="arnType",rg="",hx="s3-object-lambda",BD="accesspoint",px="accessPointName",bB="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",_B="mrapPartition",CB="outpostType",xB="arnPrefix",DD="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",wB="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",AB="https://s3.{partitionResult#dnsSuffix}",sc={[ux]:!1,[p]:"String"},oc={[ux]:!0,default:!1,[p]:"Boolean"},vd={[ux]:!1,[p]:"Boolean"},pn={[T]:Ut,[R]:[{[oe]:"Accelerate"},!0]},pt={[T]:Ut,[R]:[{[oe]:"UseFIPS"},!0]},it={[T]:Ut,[R]:[{[oe]:"UseDualStack"},!0]},Ft={[T]:rn,[R]:[{[oe]:"Endpoint"}]},MD={[T]:Zf,[R]:[{[oe]:"Region"}],[Ce]:"partitionResult"},PB={[T]:Ue,[R]:[{[T]:vt,[R]:[{[oe]:"partitionResult"},zt]},"aws-cn"]},Rd={[T]:rn,[R]:[{[oe]:"Bucket"}]},Fe={[oe]:"Bucket"},vB={[C]:[it],[Z]:"S3Express does not support Dual-stack.",[p]:Z},TB={[C]:[pn],[Z]:"S3Express does not support S3 Accelerate.",[p]:Z},RB={[C]:[Ft,{[T]:fx,[R]:[{[oe]:"Endpoint"}],[Ce]:"url"}],[D]:[{[C]:[{[T]:rn,[R]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[T]:Ut,[R]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],[D]:[{[C]:[{[T]:Ut,[R]:[{[T]:vt,[R]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[C]:[{[T]:"uriEncode",[R]:[Fe],[Ce]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[bi]:"S3Express",[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M}],[p]:M},{[C]:[{[T]:eg,[R]:[Fe,!1]}],[D]:[{[V]:{[te]:tg,[re]:{[bi]:"S3Express",[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z}],[p]:M},{[C]:[{[T]:Ut,[R]:[{[T]:vt,[R]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[C]:[{[T]:"uriEncode",[R]:[Fe],[Ce]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[bi]:"S3Express",[xr]:[{[ir]:!0,[zt]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M}],[p]:M},{[C]:[{[T]:eg,[R]:[Fe,!1]}],[D]:[{[V]:{[te]:tg,[re]:{[bi]:"S3Express",[xr]:[{[ir]:!0,[zt]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z}],[p]:M},Lr={[T]:fx,[R]:[{[oe]:"Endpoint"}],[Ce]:"url"},HC={[T]:Ut,[R]:[{[T]:vt,[R]:[{[oe]:"url"},"isIp"]},!0]},LD={[oe]:"url"},FD={[T]:"uriEncode",[R]:[Fe],[Ce]:"uri_encoded_bucket"},Ei={[bi]:"S3Express",[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:"s3express",[Fr]:"{Region}"}]},Ee={},zD={[T]:eg,[R]:[Fe,!1]},IB={[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z},kB={[T]:rn,[R]:[{[oe]:"UseS3ExpressControlEndpoint"}]},OB={[T]:Ut,[R]:[{[oe]:"UseS3ExpressControlEndpoint"},!0]},be={[T]:os,[R]:[Ft]},Xf={[Z]:"Unrecognized S3Express bucket name format.",[p]:Z},NB={[T]:os,[R]:[Rd]},BB={[oe]:vD},DB={[C]:[be],[Z]:"Expected a endpoint to be specified but no endpoint was found",[p]:Z},Yf={[xr]:[{[ir]:!0,[zt]:gx,[ar]:Id,[mx]:["*"]},{[ir]:!0,[zt]:"sigv4",[ar]:Id,[Fr]:"{Region}"}]},jC={[T]:Ut,[R]:[{[oe]:"ForcePathStyle"},!1]},I5={[oe]:"ForcePathStyle"},Vt={[T]:Ut,[R]:[{[oe]:"Accelerate"},!1]},Yt={[T]:Ue,[R]:[{[oe]:"Region"},"aws-global"]},nr={[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:cc,[Fr]:"us-east-1"}]},Le={[T]:os,[R]:[Yt]},sr={[T]:Ut,[R]:[{[oe]:"UseGlobalEndpoint"},!0]},MB={[te]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:{[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:cc,[Fr]:"{Region}"}]},[ne]:{}},Gt={[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:cc,[Fr]:"{Region}"}]},or={[T]:Ut,[R]:[{[oe]:"UseGlobalEndpoint"},!1]},De={[T]:Ut,[R]:[{[oe]:"UseDualStack"},!1]},LB={[te]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},ve={[T]:Ut,[R]:[{[oe]:"UseFIPS"},!1]},FB={[te]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},zB={[te]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},$C={[T]:Ut,[R]:[{[T]:vt,[R]:[LD,"isIp"]},!1]},VC={[te]:RD,[re]:Gt,[ne]:{}},dx={[te]:tg,[re]:Gt,[ne]:{}},UB={[V]:dx,[p]:V},GC={[te]:ID,[re]:Gt,[ne]:{}},qB={[te]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},Jf={[Z]:"Invalid region: region was not a valid DNS name.",[p]:Z},Kr={[oe]:OD},UD={[oe]:ND},KC={[T]:vt,[R]:[Kr,"service"]},yx={[oe]:px},HB={[C]:[it],[Z]:"S3 Object Lambda does not support Dual-stack",[p]:Z},jB={[C]:[pn],[Z]:"S3 Object Lambda does not support S3 Accelerate",[p]:Z},$B={[C]:[{[T]:rn,[R]:[{[oe]:"DisableAccessPoints"}]},{[T]:Ut,[R]:[{[oe]:"DisableAccessPoints"},!0]}],[Z]:"Access points are not supported for this operation",[p]:Z},WC={[C]:[{[T]:rn,[R]:[{[oe]:"UseArnRegion"}]},{[T]:Ut,[R]:[{[oe]:"UseArnRegion"},!1]},{[T]:os,[R]:[{[T]:Ue,[R]:[{[T]:vt,[R]:[Kr,"region"]},"{Region}"]}]}],[Z]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[p]:Z},qD={[T]:vt,[R]:[{[oe]:"bucketPartition"},zt]},HD={[T]:vt,[R]:[Kr,"accountId"]},XC={[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:hx,[Fr]:"{bucketArn#region}"}]},VB={[Z]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[p]:Z},YC={[Z]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[p]:Z},JC={[Z]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[p]:Z},QC={[Z]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[p]:Z},GB={[Z]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[p]:Z},KB={[Z]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[p]:Z},Td={[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:cc,[Fr]:"{bucketArn#region}"}]},WB={[xr]:[{[ir]:!0,[zt]:gx,[ar]:Id,[mx]:["*"]},{[ir]:!0,[zt]:"sigv4",[ar]:Id,[Fr]:"{bucketArn#region}"}]},XB={[T]:kD,[R]:[Fe]},YB={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Gt,[ne]:{}},JB={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Gt,[ne]:{}},QB={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Gt,[ne]:{}},ZC={[te]:DD,[re]:Gt,[ne]:{}},ZB={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Gt,[ne]:{}},eD={[oe]:"UseObjectLambdaEndpoint"},ex={[xr]:[{[ir]:!0,[zt]:"sigv4",[ar]:hx,[Fr]:"{Region}"}]},tD={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},rD={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},nD={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},tx={[te]:Qf,[re]:Gt,[ne]:{}},sD={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[re]:Gt,[ne]:{}},rx=[{[oe]:"Region"}],k5=[{[oe]:"Endpoint"}],O5=[Fe],oD=[it],nx=[pn],ic=[Ft,Lr],iD=[{[T]:rn,[R]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[T]:Ut,[R]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],N5=[FD],aD=[zD],hn=[MD],ac=[pt],cD=[{[T]:at,[R]:[Fe,6,14,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,14,16,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ns=[{[C]:[pt],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:{}},[p]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:{}},[p]:V}],lD=[{[T]:at,[R]:[Fe,6,15,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,15,17,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],dD=[{[T]:at,[R]:[Fe,6,19,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,19,21,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],uD=[{[T]:at,[R]:[Fe,6,20,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,20,22,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],mD=[{[T]:at,[R]:[Fe,6,26,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,26,28,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ss=[{[C]:[pt],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[bi]:"S3Express",[xr]:[{[ir]:!0,[zt]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[bi]:"S3Express",[xr]:[{[ir]:!0,[zt]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],fD=[Fe,0,7,!0],gD=[{[T]:at,[R]:[Fe,7,15,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,15,17,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],hD=[{[T]:at,[R]:[Fe,7,16,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,16,18,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],pD=[{[T]:at,[R]:[Fe,7,20,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,20,22,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],yD=[{[T]:at,[R]:[Fe,7,21,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,21,23,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],SD=[{[T]:at,[R]:[Fe,7,27,!0],[Ce]:"s3expressAvailabilityZoneId"},{[T]:at,[R]:[Fe,27,29,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[T]:Ue,[R]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],B5=[Rd],ED=[{[T]:_i,[R]:[{[oe]:lx},!1]}],bD=[{[T]:Ue,[R]:[{[oe]:TD},"beta"]}],D5=["*"],_D=[{[T]:_i,[R]:[{[oe]:"Region"},!1]}],xo=[{[T]:Ue,[R]:[{[oe]:"Region"},"us-east-1"]}],sx=[{[T]:Ue,[R]:[UD,BD]}],CD=[{[T]:vt,[R]:[Kr,"resourceId[1]"],[Ce]:px},{[T]:os,[R]:[{[T]:Ue,[R]:[yx,rg]}]}],M5=[Kr,"resourceId[1]"],ox=[{[T]:os,[R]:[{[T]:Ue,[R]:[{[T]:vt,[R]:[Kr,"region"]},rg]}]}],xD=[{[T]:os,[R]:[{[T]:rn,[R]:[{[T]:vt,[R]:[Kr,"resourceId[2]"]}]}]}],L5=[Kr,"resourceId[2]"],ix=[{[T]:Zf,[R]:[{[T]:vt,[R]:[Kr,"region"]}],[Ce]:"bucketPartition"}],wD=[{[T]:Ue,[R]:[qD,{[T]:vt,[R]:[{[oe]:"partitionResult"},zt]}]}],ax=[{[T]:_i,[R]:[{[T]:vt,[R]:[Kr,"region"]},!0]}],cx=[{[T]:_i,[R]:[HD,!1]}],AD=[{[T]:_i,[R]:[yx,!1]}],PD=[{[T]:_i,[R]:[{[oe]:"Region"},!0]}],F5={version:"1.0",parameters:{Bucket:sc,Region:sc,UseFIPS:oc,UseDualStack:oc,Endpoint:sc,ForcePathStyle:oc,Accelerate:oc,UseGlobalEndpoint:oc,UseObjectLambdaEndpoint:vd,Key:sc,Prefix:sc,CopySource:sc,DisableAccessPoints:vd,DisableMultiRegionAccessPoints:oc,UseArnRegion:vd,UseS3ExpressControlEndpoint:vd,DisableS3ExpressSessionAuth:vd},[D]:[{[C]:[{[T]:rn,[R]:rx}],[D]:[{[C]:[pn,pt],error:"Accelerate cannot be used with FIPS",[p]:Z},{[C]:[it,Ft],error:"Cannot set dual-stack in combination with a custom endpoint.",[p]:Z},{[C]:[Ft,pt],error:"A custom endpoint cannot be combined with FIPS",[p]:Z},{[C]:[Ft,pn],error:"A custom endpoint cannot be combined with S3 Accelerate",[p]:Z},{[C]:[pt,MD,PB],error:"Partition does not support FIPS",[p]:Z},{[C]:[Rd,{[T]:at,[R]:[Fe,0,T5,rs],[Ce]:pB},{[T]:Ue,[R]:[{[oe]:pB},"--x-s3"]}],[D]:[vB,TB,RB,{[C]:[kB,OB],[D]:[{[C]:hn,[D]:[{[C]:[FD,be],[D]:[{[C]:ac,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Ei,[ne]:Ee},[p]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Ei,[ne]:Ee},[p]:V}],[p]:M}],[p]:M}],[p]:M},{[C]:aD,[D]:[{[C]:hn,[D]:[{[C]:iD,[D]:[{[C]:cD,[D]:ns,[p]:M},{[C]:lD,[D]:ns,[p]:M},{[C]:dD,[D]:ns,[p]:M},{[C]:uD,[D]:ns,[p]:M},{[C]:mD,[D]:ns,[p]:M},Xf],[p]:M},{[C]:cD,[D]:ss,[p]:M},{[C]:lD,[D]:ss,[p]:M},{[C]:dD,[D]:ss,[p]:M},{[C]:uD,[D]:ss,[p]:M},{[C]:mD,[D]:ss,[p]:M},Xf],[p]:M}],[p]:M},IB],[p]:M},{[C]:[Rd,{[T]:at,[R]:fD,[Ce]:yB},{[T]:Ue,[R]:[{[oe]:yB},"--xa-s3"]}],[D]:[vB,TB,RB,{[C]:aD,[D]:[{[C]:hn,[D]:[{[C]:iD,[D]:[{[C]:gD,[D]:ns,[p]:M},{[C]:hD,[D]:ns,[p]:M},{[C]:pD,[D]:ns,[p]:M},{[C]:yD,[D]:ns,[p]:M},{[C]:SD,[D]:ns,[p]:M},Xf],[p]:M},{[C]:gD,[D]:ss,[p]:M},{[C]:hD,[D]:ss,[p]:M},{[C]:pD,[D]:ss,[p]:M},{[C]:yD,[D]:ss,[p]:M},{[C]:SD,[D]:ss,[p]:M},Xf],[p]:M}],[p]:M},IB],[p]:M},{[C]:[NB,kB,OB],[D]:[{[C]:hn,[D]:[{[C]:ic,endpoint:{[te]:Qf,[re]:Ei,[ne]:Ee},[p]:V},{[C]:ac,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:Ee},[p]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:Ee},[p]:V}],[p]:M}],[p]:M},{[C]:[Rd,{[T]:at,[R]:[Fe,49,50,rs],[Ce]:vD},{[T]:at,[R]:[Fe,8,12,rs],[Ce]:TD},{[T]:at,[R]:fD,[Ce]:SB},{[T]:at,[R]:[Fe,32,49,rs],[Ce]:lx},{[T]:Zf,[R]:rx,[Ce]:"regionPartition"},{[T]:Ue,[R]:[{[oe]:SB},"--op-s3"]}],[D]:[{[C]:ED,[D]:[{[C]:[{[T]:Ue,[R]:[BB,"e"]}],[D]:[{[C]:bD,[D]:[DB,{[C]:ic,endpoint:{[te]:"https://{Bucket}.ec2.{url#authority}",[re]:Yf,[ne]:Ee},[p]:V}],[p]:M},{endpoint:{[te]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Yf,[ne]:Ee},[p]:V}],[p]:M},{[C]:[{[T]:Ue,[R]:[BB,"o"]}],[D]:[{[C]:bD,[D]:[DB,{[C]:ic,endpoint:{[te]:"https://{Bucket}.op-{outpostId}.{url#authority}",[re]:Yf,[ne]:Ee},[p]:V}],[p]:M},{endpoint:{[te]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Yf,[ne]:Ee},[p]:V}],[p]:M},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[p]:Z}],[p]:M},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[p]:Z}],[p]:M},{[C]:B5,[D]:[{[C]:[Ft,{[T]:os,[R]:[{[T]:rn,[R]:[{[T]:fx,[R]:k5}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[p]:Z},{[C]:[jC,zD],[D]:[{[C]:hn,[D]:[{[C]:_D,[D]:[{[C]:[pn,PB],error:"S3 Accelerate cannot be used in this region",[p]:Z},{[C]:[it,pt,Vt,be,Yt],endpoint:{[te]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[it,pt,Vt,be,Le,sr],[D]:[{endpoint:MB,[p]:V}],[p]:M},{[C]:[it,pt,Vt,be,Le,or],endpoint:MB,[p]:V},{[C]:[De,pt,Vt,be,Yt],endpoint:{[te]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,pt,Vt,be,Le,sr],[D]:[{endpoint:LB,[p]:V}],[p]:M},{[C]:[De,pt,Vt,be,Le,or],endpoint:LB,[p]:V},{[C]:[it,ve,pn,be,Yt],endpoint:{[te]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[it,ve,pn,be,Le,sr],[D]:[{endpoint:FB,[p]:V}],[p]:M},{[C]:[it,ve,pn,be,Le,or],endpoint:FB,[p]:V},{[C]:[it,ve,Vt,be,Yt],endpoint:{[te]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[it,ve,Vt,be,Le,sr],[D]:[{endpoint:zB,[p]:V}],[p]:M},{[C]:[it,ve,Vt,be,Le,or],endpoint:zB,[p]:V},{[C]:[De,ve,Vt,Ft,Lr,HC,Yt],endpoint:{[te]:RD,[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,ve,Vt,Ft,Lr,$C,Yt],endpoint:{[te]:tg,[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,ve,Vt,Ft,Lr,HC,Le,sr],[D]:[{[C]:xo,endpoint:VC,[p]:V},{endpoint:VC,[p]:V}],[p]:M},{[C]:[De,ve,Vt,Ft,Lr,$C,Le,sr],[D]:[{[C]:xo,endpoint:dx,[p]:V},UB],[p]:M},{[C]:[De,ve,Vt,Ft,Lr,HC,Le,or],endpoint:VC,[p]:V},{[C]:[De,ve,Vt,Ft,Lr,$C,Le,or],endpoint:dx,[p]:V},{[C]:[De,ve,pn,be,Yt],endpoint:{[te]:ID,[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,ve,pn,be,Le,sr],[D]:[{[C]:xo,endpoint:GC,[p]:V},{endpoint:GC,[p]:V}],[p]:M},{[C]:[De,ve,pn,be,Le,or],endpoint:GC,[p]:V},{[C]:[De,ve,Vt,be,Yt],endpoint:{[te]:EB,[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,ve,Vt,be,Le,sr],[D]:[{[C]:xo,endpoint:{[te]:EB,[re]:Gt,[ne]:Ee},[p]:V},{endpoint:qB,[p]:V}],[p]:M},{[C]:[De,ve,Vt,be,Le,or],endpoint:qB,[p]:V}],[p]:M},Jf],[p]:M}],[p]:M},{[C]:[Ft,Lr,{[T]:Ue,[R]:[{[T]:vt,[R]:[LD,"scheme"]},"http"]},{[T]:eg,[R]:[Fe,rs]},jC,ve,De,Vt],[D]:[{[C]:hn,[D]:[{[C]:_D,[D]:[UB],[p]:M},Jf],[p]:M}],[p]:M},{[C]:[jC,{[T]:kD,[R]:O5,[Ce]:OD}],[D]:[{[C]:[{[T]:vt,[R]:[Kr,"resourceId[0]"],[Ce]:ND},{[T]:os,[R]:[{[T]:Ue,[R]:[UD,rg]}]}],[D]:[{[C]:[{[T]:Ue,[R]:[KC,hx]}],[D]:[{[C]:sx,[D]:[{[C]:CD,[D]:[HB,jB,{[C]:ox,[D]:[$B,{[C]:xD,[D]:[WC,{[C]:ix,[D]:[{[C]:hn,[D]:[{[C]:wD,[D]:[{[C]:ax,[D]:[{[C]:[{[T]:Ue,[R]:[HD,rg]}],error:"Invalid ARN: Missing account id",[p]:Z},{[C]:cx,[D]:[{[C]:AD,[D]:[{[C]:ic,endpoint:{[te]:bB,[re]:XC,[ne]:Ee},[p]:V},{[C]:ac,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:XC,[ne]:Ee},[p]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:XC,[ne]:Ee},[p]:V}],[p]:M},VB],[p]:M},YC],[p]:M},JC],[p]:M},QC],[p]:M}],[p]:M}],[p]:M},GB],[p]:M},{error:"Invalid ARN: bucket ARN is missing a region",[p]:Z}],[p]:M},KB],[p]:M},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[p]:Z}],[p]:M},{[C]:sx,[D]:[{[C]:CD,[D]:[{[C]:ox,[D]:[{[C]:sx,[D]:[{[C]:ox,[D]:[$B,{[C]:xD,[D]:[WC,{[C]:ix,[D]:[{[C]:hn,[D]:[{[C]:[{[T]:Ue,[R]:[qD,"{partitionResult#name}"]}],[D]:[{[C]:ax,[D]:[{[C]:[{[T]:Ue,[R]:[KC,cc]}],[D]:[{[C]:cx,[D]:[{[C]:AD,[D]:[{[C]:nx,error:"Access Points do not support S3 Accelerate",[p]:Z},{[C]:[pt,it],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Td,[ne]:Ee},[p]:V},{[C]:[pt,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Td,[ne]:Ee},[p]:V},{[C]:[ve,it],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Td,[ne]:Ee},[p]:V},{[C]:[ve,De,Ft,Lr],endpoint:{[te]:bB,[re]:Td,[ne]:Ee},[p]:V},{[C]:[ve,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:Td,[ne]:Ee},[p]:V}],[p]:M},VB],[p]:M},YC],[p]:M},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[p]:Z}],[p]:M},JC],[p]:M},QC],[p]:M}],[p]:M}],[p]:M},GB],[p]:M}],[p]:M}],[p]:M},{[C]:[{[T]:_i,[R]:[yx,rs]}],[D]:[{[C]:oD,error:"S3 MRAP does not support dual-stack",[p]:Z},{[C]:ac,error:"S3 MRAP does not support FIPS",[p]:Z},{[C]:nx,error:"S3 MRAP does not support S3 Accelerate",[p]:Z},{[C]:[{[T]:Ut,[R]:[{[oe]:"DisableMultiRegionAccessPoints"},rs]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[p]:Z},{[C]:[{[T]:Zf,[R]:rx,[Ce]:_B}],[D]:[{[C]:[{[T]:Ue,[R]:[{[T]:vt,[R]:[{[oe]:_B},zt]},{[T]:vt,[R]:[Kr,"partition"]}]}],[D]:[{endpoint:{[te]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[re]:{[xr]:[{[ir]:rs,name:gx,[ar]:cc,[mx]:D5}]},[ne]:Ee},[p]:V}],[p]:M},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[p]:Z}],[p]:M}],[p]:M},{error:"Invalid Access Point Name",[p]:Z}],[p]:M},KB],[p]:M},{[C]:[{[T]:Ue,[R]:[KC,Id]}],[D]:[{[C]:oD,error:"S3 Outposts does not support Dual-stack",[p]:Z},{[C]:ac,error:"S3 Outposts does not support FIPS",[p]:Z},{[C]:nx,error:"S3 Outposts does not support S3 Accelerate",[p]:Z},{[C]:[{[T]:rn,[R]:[{[T]:vt,[R]:[Kr,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[p]:Z},{[C]:[{[T]:vt,[R]:M5,[Ce]:lx}],[D]:[{[C]:ED,[D]:[WC,{[C]:ix,[D]:[{[C]:hn,[D]:[{[C]:wD,[D]:[{[C]:ax,[D]:[{[C]:cx,[D]:[{[C]:[{[T]:vt,[R]:L5,[Ce]:CB}],[D]:[{[C]:[{[T]:vt,[R]:[Kr,"resourceId[3]"],[Ce]:px}],[D]:[{[C]:[{[T]:Ue,[R]:[{[oe]:CB},BD]}],[D]:[{[C]:ic,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[re]:WB,[ne]:Ee},[p]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:WB,[ne]:Ee},[p]:V}],[p]:M},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[p]:Z}],[p]:M},{error:"Invalid ARN: expected an access point name",[p]:Z}],[p]:M},{error:"Invalid ARN: Expected a 4-component resource",[p]:Z}],[p]:M},YC],[p]:M},JC],[p]:M},QC],[p]:M}],[p]:M}],[p]:M},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[p]:Z}],[p]:M},{error:"Invalid ARN: The Outpost Id was not set",[p]:Z}],[p]:M},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[p]:Z}],[p]:M},{error:"Invalid ARN: No ARN type specified",[p]:Z}],[p]:M},{[C]:[{[T]:at,[R]:[Fe,0,4,R5],[Ce]:xB},{[T]:Ue,[R]:[{[oe]:xB},"arn:"]},{[T]:os,[R]:[{[T]:rn,[R]:[XB]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[p]:Z},{[C]:[{[T]:Ut,[R]:[I5,rs]},XB],error:"Path-style addressing cannot be used with ARN buckets",[p]:Z},{[C]:N5,[D]:[{[C]:hn,[D]:[{[C]:[Vt],[D]:[{[C]:[it,be,pt,Yt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[it,be,pt,Le,sr],[D]:[{endpoint:YB,[p]:V}],[p]:M},{[C]:[it,be,pt,Le,or],endpoint:YB,[p]:V},{[C]:[De,be,pt,Yt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,be,pt,Le,sr],[D]:[{endpoint:JB,[p]:V}],[p]:M},{[C]:[De,be,pt,Le,or],endpoint:JB,[p]:V},{[C]:[it,be,ve,Yt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[it,be,ve,Le,sr],[D]:[{endpoint:QB,[p]:V}],[p]:M},{[C]:[it,be,ve,Le,or],endpoint:QB,[p]:V},{[C]:[De,Ft,Lr,ve,Yt],endpoint:{[te]:DD,[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,Ft,Lr,ve,Le,sr],[D]:[{[C]:xo,endpoint:ZC,[p]:V},{endpoint:ZC,[p]:V}],[p]:M},{[C]:[De,Ft,Lr,ve,Le,or],endpoint:ZC,[p]:V},{[C]:[De,be,ve,Yt],endpoint:{[te]:wB,[re]:nr,[ne]:Ee},[p]:V},{[C]:[De,be,ve,Le,sr],[D]:[{[C]:xo,endpoint:{[te]:wB,[re]:Gt,[ne]:Ee},[p]:V},{endpoint:ZB,[p]:V}],[p]:M},{[C]:[De,be,ve,Le,or],endpoint:ZB,[p]:V}],[p]:M},{error:"Path-style addressing cannot be used with S3 Accelerate",[p]:Z}],[p]:M}],[p]:M}],[p]:M},{[C]:[{[T]:rn,[R]:[eD]},{[T]:Ut,[R]:[eD,rs]}],[D]:[{[C]:hn,[D]:[{[C]:PD,[D]:[HB,jB,{[C]:ic,endpoint:{[te]:Qf,[re]:ex,[ne]:Ee},[p]:V},{[C]:ac,endpoint:{[te]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[re]:ex,[ne]:Ee},[p]:V},{endpoint:{[te]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[re]:ex,[ne]:Ee},[p]:V}],[p]:M},Jf],[p]:M}],[p]:M},{[C]:[NB],[D]:[{[C]:hn,[D]:[{[C]:PD,[D]:[{[C]:[pt,it,be,Yt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[pt,it,be,Le,sr],[D]:[{endpoint:tD,[p]:V}],[p]:M},{[C]:[pt,it,be,Le,or],endpoint:tD,[p]:V},{[C]:[pt,De,be,Yt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[pt,De,be,Le,sr],[D]:[{endpoint:rD,[p]:V}],[p]:M},{[C]:[pt,De,be,Le,or],endpoint:rD,[p]:V},{[C]:[ve,it,be,Yt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Ee},[p]:V},{[C]:[ve,it,be,Le,sr],[D]:[{endpoint:nD,[p]:V}],[p]:M},{[C]:[ve,it,be,Le,or],endpoint:nD,[p]:V},{[C]:[ve,De,Ft,Lr,Yt],endpoint:{[te]:Qf,[re]:nr,[ne]:Ee},[p]:V},{[C]:[ve,De,Ft,Lr,Le,sr],[D]:[{[C]:xo,endpoint:tx,[p]:V},{endpoint:tx,[p]:V}],[p]:M},{[C]:[ve,De,Ft,Lr,Le,or],endpoint:tx,[p]:V},{[C]:[ve,De,be,Yt],endpoint:{[te]:AB,[re]:nr,[ne]:Ee},[p]:V},{[C]:[ve,De,be,Le,sr],[D]:[{[C]:xo,endpoint:{[te]:AB,[re]:Gt,[ne]:Ee},[p]:V},{endpoint:sD,[p]:V}],[p]:M},{[C]:[ve,De,be,Le,or],endpoint:sD,[p]:V}],[p]:M},Jf],[p]:M}],[p]:M}],[p]:M},{error:"A region must be set when sending requests to S3.",[p]:Z}]};ng.ruleSet=F5});var Ex=B(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.defaultEndpointResolver=void 0;var z5=Za(),Sx=Qa(),U5=jD(),q5=new Sx.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),H5=(e,r={})=>q5.get(e,()=>(0,Sx.resolveEndpoint)(U5.ruleSet,{endpointParams:e,logger:r.logger}));sg.defaultEndpointResolver=H5;Sx.customEndpointFunctions.aws=z5.awsEndpointFunctions});var bx=B(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.resolveHttpAuthSchemeConfig=wo.defaultS3HttpAuthSchemeProvider=wo.defaultS3HttpAuthSchemeParametersProvider=void 0;var $D=($t(),Re(gn)),j5=qC(),$5=Bs(),og=Er(),V5=Ex(),G5=e=>async(r,t,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(r,t,n),o=(0,og.getSmithyContext)(t)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);let a=await(0,$5.resolveParams)(n,{getEndpointParameterInstructions:o},r);return Object.assign(s,a)},K5=async(e,r,t)=>({operation:(0,og.getSmithyContext)(r).operation,region:await(0,og.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});wo.defaultS3HttpAuthSchemeParametersProvider=G5(K5);function VD(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function GD(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}var W5=(e,r,t)=>s=>{let a=e(s).properties?.authSchemes;if(!a)return r(s);let c=[];for(let l of a){let{name:d,properties:f={},...g}=l,y=d.toLowerCase();d!==y&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${y}\``);let h;if(y==="sigv4a"){h="aws.auth#sigv4a";let I=a.find(N=>{let W=N.name.toLowerCase();return W!=="sigv4a"&&W.startsWith("sigv4")});if(j5.SignatureV4MultiRegion.sigv4aDependency()==="none"&&I)continue}else if(y.startsWith("sigv4"))h="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${y}\``);let _=t[h];if(!_)throw new Error(`Could not find HttpAuthOption create function for \`${h}\``);let v=_(s);v.schemeId=h,v.signingProperties={...v.signingProperties||{},...g,...f},c.push(v)}return c},X5=e=>{let r=[];switch(e.operation){default:r.push(VD(e)),r.push(GD(e))}return r};wo.defaultS3HttpAuthSchemeProvider=W5(V5.defaultEndpointResolver,X5,{"aws.auth#sigv4":VD,"aws.auth#sigv4a":GD});var Y5=e=>{let r=(0,$D.resolveAwsSdkSigV4Config)(e),t=(0,$D.resolveAwsSdkSigV4AConfig)(r);return Object.assign(t,{authSchemePreference:(0,og.normalizeProvider)(e.authSchemePreference??[])})};wo.resolveHttpAuthSchemeConfig=Y5});var KD=B((P_e,J5)=>{J5.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.906.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/credential-provider-node":"3.906.0","@aws-sdk/middleware-bucket-endpoint":"3.901.0","@aws-sdk/middleware-expect-continue":"3.901.0","@aws-sdk/middleware-flexible-checksums":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-location-constraint":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-sdk-s3":"3.906.0","@aws-sdk/middleware-ssec":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/signature-v4-multi-region":"3.906.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@aws-sdk/xml-builder":"3.901.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/eventstream-serde-browser":"^4.2.0","@smithy/eventstream-serde-config-resolver":"^4.3.0","@smithy/eventstream-serde-node":"^4.2.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-blob-browser":"^4.2.0","@smithy/hash-node":"^4.2.0","@smithy/hash-stream-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/md5-js":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-stream":"^4.4.0","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.0","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.906.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var _x=B(Ao=>{"use strict";var Q5=(Mn(),Re(Zs)),Z5=Mr(),WD="AWS_ACCESS_KEY_ID",XD="AWS_SECRET_ACCESS_KEY",YD="AWS_SESSION_TOKEN",JD="AWS_CREDENTIAL_EXPIRATION",QD="AWS_CREDENTIAL_SCOPE",ZD="AWS_ACCOUNT_ID",eW=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[WD],t=process.env[XD],n=process.env[YD],s=process.env[JD],o=process.env[QD],a=process.env[ZD];if(r&&t){let c={accessKeyId:r,secretAccessKey:t,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...a&&{accountId:a}};return Q5.setCredentialFeature(c,"CREDENTIALS_ENV_VARS","g"),c}throw new Z5.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Ao.ENV_ACCOUNT_ID=ZD;Ao.ENV_CREDENTIAL_SCOPE=QD;Ao.ENV_EXPIRATION=JD;Ao.ENV_KEY=WD;Ao.ENV_SECRET=XD;Ao.ENV_SESSION=YD;Ao.fromEnv=eW});var Od=B(wr=>{"use strict";var is=Mr(),tW=require("url"),rW=require("buffer"),nW=require("http"),Px=bo(),sW=po();function kd(e){return new Promise((r,t)=>{let n=nW.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{t(Object.assign(new is.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{t(new is.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(t(Object.assign(new is.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{r(rW.Buffer.concat(a)),n.destroy()})}),n.end()})}var nM=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",sM=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),oM=1e3,iM=0,vx=({maxRetries:e=iM,timeout:r=oM})=>({maxRetries:e,timeout:r}),xx=(e,r)=>{let t=e();for(let n=0;n<r;n++)t=t.catch(e);return t},ig="AWS_CONTAINER_CREDENTIALS_FULL_URI",ag="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",wx="AWS_CONTAINER_AUTHORIZATION_TOKEN",oW=(e={})=>{let{timeout:r,maxRetries:t}=vx(e);return()=>xx(async()=>{let n=await dW({logger:e.logger}),s=JSON.parse(await iW(r,n));if(!nM(s))throw new is.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return sM(s)},t)},iW=async(e,r)=>(process.env[wx]&&(r.headers={...r.headers,Authorization:process.env[wx]}),(await kd({...r,timeout:e})).toString()),aW="169.254.170.2",cW={localhost:!0,"127.0.0.1":!0},lW={"http:":!0,"https:":!0},dW=async({logger:e})=>{if(process.env[ag])return{hostname:aW,path:process.env[ag]};if(process.env[ig]){let r=tW.parse(process.env[ig]);if(!r.hostname||!(r.hostname in cW))throw new is.CredentialsProviderError(`${r.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!r.protocol||!(r.protocol in lW))throw new is.CredentialsProviderError(`${r.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...r,port:r.port?parseInt(r.port,10):void 0}}throw new is.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${ag} or ${ig} environment variable is set`,{tryNextLink:!1,logger:e})},Ax=class e extends is.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(r,t=!0){super(r,t),this.tryNextLink=t,Object.setPrototypeOf(this,e.prototype)}};wr.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(wr.Endpoint||(wr.Endpoint={}));var uW="AWS_EC2_METADATA_SERVICE_ENDPOINT",mW="ec2_metadata_service_endpoint",fW={environmentVariableSelector:e=>e[uW],configFileSelector:e=>e[mW],default:void 0},lc;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(lc||(lc={}));var gW="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",hW="ec2_metadata_service_endpoint_mode",pW={environmentVariableSelector:e=>e[gW],configFileSelector:e=>e[hW],default:lc.IPv4},aM=async()=>sW.parseUrl(await yW()||await SW()),yW=async()=>Px.loadConfig(fW)(),SW=async()=>{let e=await Px.loadConfig(pW)();switch(e){case lc.IPv4:return wr.Endpoint.IPv4;case lc.IPv6:return wr.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(lc)}`)}},EW=5*60,bW=5*60,_W="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",eM=(e,r)=>{let t=EW+Math.floor(Math.random()*bW),n=new Date(Date.now()+t*1e3);r.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+_W);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},CW=(e,r={})=>{let t=r?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=eM(s,t))}catch(o){if(n)t.warn("Credential renew failed: ",o),s=eM(n,t);else throw o}return n=s,s}},cM="/latest/meta-data/iam/security-credentials/",xW="/latest/api/token",Cx="AWS_EC2_METADATA_V1_DISABLED",tM="ec2_metadata_v1_disabled",rM="x-aws-ec2-metadata-token",wW=(e={})=>CW(AW(e),{logger:e.logger}),AW=(e={})=>{let r=!1,{logger:t,profile:n}=e,{timeout:s,maxRetries:o}=vx(e),a=async(c,l)=>{if(r||l.headers?.[rM]==null){let g=!1,y=!1,h=await Px.loadConfig({environmentVariableSelector:_=>{let v=_[Cx];if(y=!!v&&v!=="false",v===void 0)throw new is.CredentialsProviderError(`${Cx} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:_=>{let v=_[tM];return g=!!v&&v!=="false",g},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),g&&_.push(`config file profile (${tM})`),y&&_.push(`process environment variable (${Cx})`),new Ax(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let f=(await xx(async()=>{let g;try{g=await vW(l)}catch(y){throw y.statusCode===401&&(r=!1),y}return g},c)).trim();return xx(async()=>{let g;try{g=await TW(f,l,e)}catch(y){throw y.statusCode===401&&(r=!1),y}return g},c)};return async()=>{let c=await aM();if(r)return t?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),a(o,{...c,timeout:s});{let l;try{l=(await PW({...c,timeout:s})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(r=!0),t?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),a(o,{...c,timeout:s})}return a(o,{...c,headers:{[rM]:l},timeout:s})}}},PW=async e=>kd({...e,path:xW,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),vW=async e=>(await kd({...e,path:cM})).toString(),TW=async(e,r,t)=>{let n=JSON.parse((await kd({...r,path:cM+e})).toString());if(!nM(n))throw new is.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return sM(n)};wr.DEFAULT_MAX_RETRIES=iM;wr.DEFAULT_TIMEOUT=oM;wr.ENV_CMDS_AUTH_TOKEN=wx;wr.ENV_CMDS_FULL_URI=ig;wr.ENV_CMDS_RELATIVE_URI=ag;wr.fromContainerMetadata=oW;wr.fromInstanceMetadata=wW;wr.getInstanceMetadataEndpoint=aM;wr.httpRequest=kd;wr.providerConfigFromInit=vx});var lM=B(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.checkUrl=void 0;var RW=Mr(),IW="169.254.170.2",kW="169.254.170.23",OW="[fd00:ec2::23]",NW=(e,r)=>{if(e.protocol!=="https:"&&!(e.hostname===IW||e.hostname===kW||e.hostname===OW)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(t[0]==="127"&&n(t[1])&&n(t[2])&&n(t[3])&&t.length===4)return}throw new RW.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:r})}};cg.checkUrl=NW});var dM=B(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.createGetRequest=LW;lg.getCredentials=FW;var Tx=Mr(),BW=Ke(),DW=Ie(),MW=ei();function LW(e){return new BW.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((r,[t,n])=>(r[t]=n,r),{}),fragment:e.hash})}async function FW(e,r){let n=await(0,MW.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Tx.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:r});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,DW.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Tx.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r}),{Code:s.Code,Message:s.Message})}throw new Tx.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r})}});var uM=B(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.retryWrapper=void 0;var zW=(e,r,t)=>async()=>{for(let n=0;n<r;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,t))}return await e()};dg.retryWrapper=zW});var gM=B(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.fromHttp=void 0;var UW=(Yn(),Re(Xn)),qW=(Mn(),Re(Zs)),HW=Zo(),mM=Mr(),jW=UW.__importDefault(require("fs/promises")),$W=lM(),fM=dM(),VW=uM(),GW="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",KW="http://169.254.170.2",WW="AWS_CONTAINER_CREDENTIALS_FULL_URI",XW="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",YW="AWS_CONTAINER_AUTHORIZATION_TOKEN",JW=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let r,t=e.awsContainerCredentialsRelativeUri??process.env[GW],n=e.awsContainerCredentialsFullUri??process.env[WW],s=e.awsContainerAuthorizationToken??process.env[YW],o=e.awsContainerAuthorizationTokenFile??process.env[XW],a=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(t&&n&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),a("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),a("awsContainerAuthorizationToken will take precedence.")),n)r=n;else if(t)r=`${KW}${t}`;else throw new mM.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(r);(0,$W.checkUrl)(c,e.logger);let l=HW.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,VW.retryWrapper)(async()=>{let d=(0,fM.createGetRequest)(c);s?d.headers.Authorization=s:o&&(d.headers.Authorization=(await jW.default.readFile(o)).toString());try{let f=await l.handle(d);return(0,fM.getCredentials)(f.response).then(g=>(0,qW.setCredentialFeature)(g,"CREDENTIALS_HTTP","z"))}catch(f){throw new mM.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};ug.fromHttp=JW});var Rx=B(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});mg.fromHttp=void 0;var QW=gM();Object.defineProperty(mg,"fromHttp",{enumerable:!0,get:function(){return QW.fromHttp}})});function ZW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function eX(e){return{schemeId:"smithy.api#noAuth"}}var Nd,hM,pM,yM,Ix=P(()=>{$t();Nd=k(Er()),hM=async(e,r,t)=>({operation:(0,Nd.getSmithyContext)(r).operation,region:await(0,Nd.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});pM=e=>{let r=[];switch(e.operation){case"CreateToken":{r.push(eX(e));break}default:r.push(ZW(e))}return r},yM=e=>{let r=ui(e);return Object.assign(r,{authSchemePreference:(0,Nd.normalizeProvider)(e.authSchemePreference??[])})}});var SM,EM,kx=P(()=>{SM=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),EM={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var fg,Ox=P(()=>{fg={name:"@aws-sdk/nested-clients",version:"3.906.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Bd=B(Ci=>{"use strict";var bM=require("os"),Nx=require("process"),rX=tc(),_M={isCrtAvailable:!1},nX=()=>_M.isCrtAvailable?["md/crt-avail"]:null,CM=({serviceId:e,clientVersion:r})=>async t=>{let n=[["aws-sdk-js",r],["ua","2.1"],[`os/${bM.platform()}`,bM.release()],["lang/js"],["md/nodejs",`${Nx.versions.node}`]],s=nX();s&&n.push(s),e&&n.push([`api/${e}`,r]),Nx.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Nx.env.AWS_EXECUTION_ENV}`]);let o=await t?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},sX=CM,xM="AWS_SDK_UA_APP_ID",wM="sdk_ua_app_id",oX="sdk-ua-app-id",iX={environmentVariableSelector:e=>e[xM],configFileSelector:e=>e[wM]??e[oX],default:rX.DEFAULT_UA_APP_ID};Ci.NODE_APP_ID_CONFIG_OPTIONS=iX;Ci.UA_APP_ID_ENV_NAME=xM;Ci.UA_APP_ID_INI_NAME=wM;Ci.createDefaultUserAgentProvider=CM;Ci.crtAvailability=_M;Ci.defaultUserAgent=sX});var Dd=B(vM=>{"use strict";var Bx=ka(),aX=Kt(),cX=require("buffer"),AM=require("crypto"),Dx=class{algorithmIdentifier;secret;hash;constructor(r,t){this.algorithmIdentifier=r,this.secret=t,this.reset()}update(r,t){this.hash.update(aX.toUint8Array(PM(r,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?AM.createHmac(this.algorithmIdentifier,PM(this.secret)):AM.createHash(this.algorithmIdentifier)}};function PM(e,r){return cX.Buffer.isBuffer(e)?e:typeof e=="string"?Bx.fromString(e,r):ArrayBuffer.isView(e)?Bx.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Bx.fromArrayBuffer(e)}vM.Hash=Dx});var Md=B(TM=>{"use strict";var Mx=require("node:fs"),lX=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Mx.ReadStream){if(e.path!=null)return Mx.lstatSync(e.path).size;if(typeof e.fd=="number")return Mx.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};TM.calculateBodyLength=lX});var FM,Sn,En,mc,RM,Ld,dc,uc,Ms,Lx,Fx,IM,kM,OM,zM,UM,yn,NM,qM,BM,DM,MM,LM,dX,HM,jM=P(()=>{FM="required",Sn="fn",En="argv",mc="ref",RM="isSet",Ld="booleanEquals",dc="error",uc="endpoint",Ms="tree",Lx="PartitionResult",Fx="getAttr",IM={[FM]:!1,type:"String"},kM={[FM]:!0,default:!1,type:"Boolean"},OM={[mc]:"Endpoint"},zM={[Sn]:Ld,[En]:[{[mc]:"UseFIPS"},!0]},UM={[Sn]:Ld,[En]:[{[mc]:"UseDualStack"},!0]},yn={},NM={[Sn]:Fx,[En]:[{[mc]:Lx},"supportsFIPS"]},qM={[mc]:Lx},BM={[Sn]:Ld,[En]:[!0,{[Sn]:Fx,[En]:[qM,"supportsDualStack"]}]},DM=[zM],MM=[UM],LM=[{[mc]:"Region"}],dX={version:"1.0",parameters:{Region:IM,UseDualStack:kM,UseFIPS:kM,Endpoint:IM},rules:[{conditions:[{[Sn]:RM,[En]:[OM]}],rules:[{conditions:DM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:dc},{conditions:MM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:dc},{endpoint:{url:OM,properties:yn,headers:yn},type:uc}],type:Ms},{conditions:[{[Sn]:RM,[En]:LM}],rules:[{conditions:[{[Sn]:"aws.partition",[En]:LM,assign:Lx}],rules:[{conditions:[zM,UM],rules:[{conditions:[{[Sn]:Ld,[En]:[!0,NM]},BM],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yn,headers:yn},type:uc}],type:Ms},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:dc}],type:Ms},{conditions:DM,rules:[{conditions:[{[Sn]:Ld,[En]:[NM,!0]}],rules:[{conditions:[{[Sn]:"stringEquals",[En]:[{[Sn]:Fx,[En]:[qM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:yn,headers:yn},type:uc},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yn,headers:yn},type:uc}],type:Ms},{error:"FIPS is enabled but this partition does not support FIPS",type:dc}],type:Ms},{conditions:MM,rules:[{conditions:[BM],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yn,headers:yn},type:uc}],type:Ms},{error:"DualStack is enabled but this partition does not support DualStack",type:dc}],type:Ms},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:yn,headers:yn},type:uc}],type:Ms}],type:Ms},{error:"Invalid Configuration: Missing Region",type:dc}]},HM=dX});var $M,fc,uX,VM,GM=P(()=>{$M=k(Za()),fc=k(Qa());jM();uX=new fc.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),VM=(e,r={})=>uX.get(e,()=>(0,fc.resolveEndpoint)(HM,{endpointParams:e,logger:r.logger}));fc.customEndpointFunctions.aws=$M.awsEndpointFunctions});var KM,WM,gg,hg,XM,YM=P(()=>{$t();Dr();KM=k(Ie()),WM=k(po()),gg=k(fr()),hg=k(Kt());Ix();GM();XM=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??gg.fromBase64,base64Encoder:e?.base64Encoder??gg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??VM,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??pM,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new jr},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ws}],logger:e?.logger??new KM.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??WM.parseUrl,utf8Decoder:e?.utf8Decoder??hg.fromUtf8,utf8Encoder:e?.utf8Encoder??hg.toUtf8})});var Fd=B(e3=>{"use strict";var mX=ts(),JM=bo(),fX=Mr(),gX="AWS_EXECUTION_ENV",QM="AWS_REGION",ZM="AWS_DEFAULT_REGION",hX="AWS_EC2_METADATA_DISABLED",pX=["in-region","cross-region","mobile","standard","legacy"],yX="/latest/meta-data/placement/region",SX="AWS_DEFAULTS_MODE",EX="defaults_mode",bX={environmentVariableSelector:e=>e[SX],configFileSelector:e=>e[EX],default:"legacy"},_X=({region:e=JM.loadConfig(mX.NODE_REGION_CONFIG_OPTIONS),defaultsMode:r=JM.loadConfig(bX)}={})=>fX.memoize(async()=>{let t=typeof r=="function"?await r():r;switch(t?.toLowerCase()){case"auto":return CX(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${pX.join(", ")}, got ${t}`)}}),CX=async e=>{if(e){let r=typeof e=="function"?await e():e,t=await xX();return t?r===t?"in-region":"cross-region":"standard"}return"standard"},xX=async()=>{if(process.env[gX]&&(process.env[QM]||process.env[ZM]))return process.env[QM]??process.env[ZM];if(!process.env[hX])try{let{getInstanceMetadataEndpoint:e,httpRequest:r}=await Promise.resolve().then(()=>k(Od())),t=await e();return(await r({...t,path:yX})).toString()}catch{}};e3.resolveDefaultsModeConfig=_X});var pg,vo,t3,yg,Po,Sg,r3,n3,s3,o3,i3,a3,c3=P(()=>{Ox();$t();pg=k(Bd()),vo=k(ts()),t3=k(Dd()),yg=k(Ds()),Po=k(bo()),Sg=k(Zo()),r3=k(Md()),n3=k(rc());YM();s3=k(Ie()),o3=k(Fd()),i3=k(Ie()),a3=e=>{(0,i3.emitWarningIfUnsupportedVersion)(process.version);let r=(0,o3.resolveDefaultsModeConfig)(e),t=()=>r().then(s3.loadConfigsForDefaultMode),n=XM(e);Pa(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Po.loadConfig)(Ra,s),bodyLengthChecker:e?.bodyLengthChecker??r3.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,pg.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:fg.version}),maxAttempts:e?.maxAttempts??(0,Po.loadConfig)(yg.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Po.loadConfig)(vo.NODE_REGION_CONFIG_OPTIONS,{...vo.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Sg.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Po.loadConfig)({...yg.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||n3.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??t3.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Sg.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Po.loadConfig)(vo.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Po.loadConfig)(vo.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Po.loadConfig)(pg.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var zd=B((eCe,g3)=>{"use strict";var Eg=Object.defineProperty,wX=Object.getOwnPropertyDescriptor,AX=Object.getOwnPropertyNames,PX=Object.prototype.hasOwnProperty,as=(e,r)=>Eg(e,"name",{value:r,configurable:!0}),vX=(e,r)=>{for(var t in r)Eg(e,t,{get:r[t],enumerable:!0})},TX=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of AX(r))!PX.call(e,s)&&s!==t&&Eg(e,s,{get:()=>r[s],enumerable:!(n=wX(r,s))||n.enumerable});return e},RX=e=>TX(Eg({},"__esModule",{value:!0}),e),d3={};vX(d3,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>NX,NODE_REGION_CONFIG_OPTIONS:()=>OX,REGION_ENV_NAME:()=>u3,REGION_INI_NAME:()=>m3,getAwsRegionExtensionConfiguration:()=>IX,resolveAwsRegionExtensionConfiguration:()=>kX,resolveRegionConfig:()=>BX});g3.exports=RX(d3);var IX=as(e=>({setRegion(r){e.region=r},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),kX=as(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),u3="AWS_REGION",m3="region",OX={environmentVariableSelector:as(e=>e[u3],"environmentVariableSelector"),configFileSelector:as(e=>e[m3],"configFileSelector"),default:as(()=>{throw new Error("Region is missing")},"default")},NX={preferredFile:"credentials"},f3=as(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),l3=as(e=>f3(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),BX=as(e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:as(async()=>{if(typeof r=="string")return l3(r);let n=await r();return l3(n)},"region"),useFipsEndpoint:as(async()=>{let n=typeof r=="string"?r:await r();return f3(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()},"useFipsEndpoint")})},"resolveRegionConfig")});var h3,p3,y3=P(()=>{h3=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},p3=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var bg,_g,Cg,S3,E3=P(()=>{bg=k(zd()),_g=k(Ke()),Cg=k(Ie());y3();S3=(e,r)=>{let t=Object.assign((0,bg.getAwsRegionExtensionConfiguration)(e),(0,Cg.getDefaultExtensionConfiguration)(e),(0,_g.getHttpHandlerExtensionConfiguration)(e),h3(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,bg.resolveAwsRegionExtensionConfiguration)(t),(0,Cg.resolveDefaultRuntimeConfig)(t),(0,_g.resolveHttpHandlerRuntimeConfig)(t),p3(t))}});var xg,b3,_3,wg,C3,x3,w3,Ag,zx,Ud,Ux=P(()=>{xg=k(hd()),b3=k(pd()),_3=k(yd()),wg=k(tc()),C3=k(ts());Dr();x3=k(bd()),w3=k(Bs()),Ag=k(Ds()),zx=k(Ie());Ix();kx();c3();E3();Ud=class extends zx.Client{config;constructor(...[r]){let t=a3(r||{});super(t),this.initConfig=t;let n=SM(t),s=(0,wg.resolveUserAgentConfig)(n),o=(0,Ag.resolveRetryConfig)(s),a=(0,C3.resolveRegionConfig)(o),c=(0,xg.resolveHostHeaderConfig)(a),l=(0,w3.resolveEndpointConfig)(c),d=yM(l),f=S3(d,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,wg.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ag.getRetryPlugin)(this.config)),this.middlewareStack.use((0,x3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,xg.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,b3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,_3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:hM,identityProviderConfigProvider:async g=>new ai({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Hl(this.config))}destroy(){super.destroy()}}});var A3,cr,Pg=P(()=>{A3=k(Ie()),cr=class e extends A3.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var xi,DX,qd,Hd,qx,Hx,jd,$d,Vd,Gd,MX,Kd,Wd,Xd,Yd,Jd,vg=P(()=>{xi=k(Ie());Pg();DX={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},qd=class e extends cr{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(r){super({name:"AccessDeniedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},Hd=class e extends cr{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(r){super({name:"AuthorizationPendingException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},qx=e=>({...e,...e.clientSecret&&{clientSecret:xi.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:xi.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:xi.SENSITIVE_STRING}}),Hx=e=>({...e,...e.accessToken&&{accessToken:xi.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:xi.SENSITIVE_STRING},...e.idToken&&{idToken:xi.SENSITIVE_STRING}}),jd=class e extends cr{name="ExpiredTokenException";$fault="client";error;error_description;constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},$d=class e extends cr{name="InternalServerException";$fault="server";error;error_description;constructor(r){super({name:"InternalServerException",$fault:"server",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Vd=class e extends cr{name="InvalidClientException";$fault="client";error;error_description;constructor(r){super({name:"InvalidClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Gd=class e extends cr{name="InvalidGrantException";$fault="client";error;error_description;constructor(r){super({name:"InvalidGrantException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},MX={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},Kd=class e extends cr{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},Wd=class e extends cr{name="InvalidScopeException";$fault="client";error;error_description;constructor(r){super({name:"InvalidScopeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Xd=class e extends cr{name="SlowDownException";$fault="client";error;error_description;constructor(r){super({name:"SlowDownException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Yd=class e extends cr{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(r){super({name:"UnauthorizedClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Jd=class e extends cr{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(r){super({name:"UnsupportedGrantTypeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}}});var Y,P3,v3,LX,FX,zX,UX,qX,HX,jX,$X,VX,GX,KX,WX,XX,bn,T3=P(()=>{$t();Dr();Y=k(Ie());vg();Pg();P3=async(e,r)=>{let t=td(e,r),n={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,Y.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,Y._json)(o)})),t.m("POST").h(n).b(s),t.build()},v3=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return LX(e,r);let t=(0,Y.map)({$metadata:bn(e)}),n=(0,Y.expectNonNull)((0,Y.expectObject)(await Ga(e.body,r)),"body"),s=(0,Y.take)(n,{accessToken:Y.expectString,expiresIn:Y.expectInt32,idToken:Y.expectString,refreshToken:Y.expectString,tokenType:Y.expectString});return Object.assign(t,s),t},LX=async(e,r)=>{let t={...e,body:await v_(e.body,r)},n=fi(e,t.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await zX(t,r);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await UX(t,r);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await qX(t,r);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await HX(t,r);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await jX(t,r);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await $X(t,r);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await VX(t,r);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await GX(t,r);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await KX(t,r);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await WX(t,r);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await XX(t,r);default:let s=t.body;return FX({output:e,parsedBody:s,errorCode:n})}},FX=(0,Y.withBaseException)(cr),zX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new qd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},UX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Hd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},qX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new jd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},HX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new $d({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},jX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Vd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},$X=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Gd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},VX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new Kd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},GX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Wd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},KX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Xd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},WX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Yd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},XX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Jd({$metadata:bn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},bn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var R3,I3,jx,Qd,$x=P(()=>{R3=k(Bs()),I3=k(eo()),jx=k(Ie());kx();vg();T3();Qd=class extends jx.Command.classBuilder().ep(EM).m(function(r,t,n,s){return[(0,I3.getSerdePlugin)(n,this.serialize,this.deserialize),(0,R3.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(qx,Hx).ser(P3).de(v3).build(){}});var k3,YX,Tg,O3=P(()=>{k3=k(Ie());$x();Ux();YX={CreateTokenCommand:Qd},Tg=class extends Ud{};(0,k3.createAggregatedClient)(YX,Tg)});var N3=P(()=>{$x()});var B3=P(()=>{vg()});var Vx={};dn(Vx,{$Command:()=>jx.Command,AccessDeniedException:()=>qd,AccessDeniedExceptionReason:()=>DX,AuthorizationPendingException:()=>Hd,CreateTokenCommand:()=>Qd,CreateTokenRequestFilterSensitiveLog:()=>qx,CreateTokenResponseFilterSensitiveLog:()=>Hx,ExpiredTokenException:()=>jd,InternalServerException:()=>$d,InvalidClientException:()=>Vd,InvalidGrantException:()=>Gd,InvalidRequestException:()=>Kd,InvalidRequestExceptionReason:()=>MX,InvalidScopeException:()=>Wd,SSOOIDC:()=>Tg,SSOOIDCClient:()=>Ud,SSOOIDCServiceException:()=>cr,SlowDownException:()=>Xd,UnauthorizedClientException:()=>Yd,UnsupportedGrantTypeException:()=>Jd,__Client:()=>zx.Client});var Gx=P(()=>{Ux();O3();N3();B3();Pg()});var F3=B(eu=>{"use strict";var JX=(Mn(),Re(Zs)),QX=(Qb(),Re(mI)),nn=Mr(),Zd=Os(),ZX=require("fs"),e9=({logger:e,signingName:r}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!r)throw new nn.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let t=QX.getBearerTokenEnvKey(r);if(!(t in process.env))throw new nn.TokenProviderError(`Token not present in '${t}' environment variable`,{logger:e});let n={token:process.env[t]};return JX.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},t9=5*60*1e3,Kx="To refresh this SSO session run 'aws sso login' with the corresponding profile.",r9=async(e,r={})=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(Gx(),Vx));return new t(Object.assign({},r.clientConfig??{},{region:e??r.clientConfig?.region,logger:r.clientConfig?.logger??r.parentClientConfig?.logger}))},n9=async(e,r,t={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Gx(),Vx));return(await r9(r,t)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},D3=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new nn.TokenProviderError(`Token is expired. ${Kx}`,!1)},wi=(e,r,t=!1)=>{if(typeof r>"u")throw new nn.TokenProviderError(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${Kx}`,!1)},{writeFile:s9}=ZX.promises,o9=(e,r)=>{let t=Zd.getSSOTokenFilepath(e),n=JSON.stringify(r,null,2);return s9(t,n)},M3=new Date(0),L3=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Zd.parseKnownFiles(t),s=Zd.getProfileName({profile:t.profile??r?.profile}),o=n[s];if(o){if(!o.sso_session)throw new nn.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new nn.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let a=o.sso_session,l=(await Zd.loadSsoSessionData(t))[a];if(!l)throw new nn.TokenProviderError(`Sso session '${a}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!l[_])throw new nn.TokenProviderError(`Sso session '${a}' is missing required property '${_}'.`,!1);l.sso_start_url;let d=l.sso_region,f;try{f=await Zd.getSSOTokenFromFile(a)}catch{throw new nn.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Kx}`,!1)}wi("accessToken",f.accessToken),wi("expiresAt",f.expiresAt);let{accessToken:g,expiresAt:y}=f,h={token:g,expiration:new Date(y)};if(h.expiration.getTime()-Date.now()>t9)return h;if(Date.now()-M3.getTime()<30*1e3)return D3(h),h;wi("clientId",f.clientId,!0),wi("clientSecret",f.clientSecret,!0),wi("refreshToken",f.refreshToken,!0);try{M3.setTime(Date.now());let _=await n9(f,d,t);wi("accessToken",_.accessToken),wi("expiresIn",_.expiresIn);let v=new Date(Date.now()+_.expiresIn*1e3);try{await o9(a,{...f,accessToken:_.accessToken,expiresAt:v.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:v}}catch{return D3(h),h}},i9=({token:e,logger:r})=>async()=>{if(r?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new nn.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},a9=(e={})=>nn.memoize(nn.chain(L3(e),async()=>{throw new nn.TokenProviderError("Could not load token from any providers",!1)}),r=>r.expiration!==void 0&&r.expiration.getTime()-Date.now()<3e5,r=>r.expiration!==void 0);eu.fromEnvSigningName=e9;eu.fromSso=L3;eu.fromStatic=i9;eu.nodeProvider=a9});var Xx=B(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.resolveHttpAuthSchemeConfig=To.defaultSSOHttpAuthSchemeProvider=To.defaultSSOHttpAuthSchemeParametersProvider=void 0;var c9=($t(),Re(gn)),Wx=Er(),l9=async(e,r,t)=>({operation:(0,Wx.getSmithyContext)(r).operation,region:await(0,Wx.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});To.defaultSSOHttpAuthSchemeParametersProvider=l9;function d9(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function Rg(e){return{schemeId:"smithy.api#noAuth"}}var u9=e=>{let r=[];switch(e.operation){case"GetRoleCredentials":{r.push(Rg(e));break}case"ListAccountRoles":{r.push(Rg(e));break}case"ListAccounts":{r.push(Rg(e));break}case"Logout":{r.push(Rg(e));break}default:r.push(d9(e))}return r};To.defaultSSOHttpAuthSchemeProvider=u9;var m9=e=>{let r=(0,c9.resolveAwsSdkSigV4Config)(e);return Object.assign(r,{authSchemePreference:(0,Wx.normalizeProvider)(e.authSchemePreference??[])})};To.resolveHttpAuthSchemeConfig=m9});var z3=B((MCe,f9)=>{f9.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.906.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var e1=B(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.ruleSet=void 0;var Y3="required",Cn="fn",xn="argv",pc="ref",U3=!0,q3="isSet",tu="booleanEquals",gc="error",hc="endpoint",Ls="tree",Yx="PartitionResult",Jx="getAttr",H3={[Y3]:!1,type:"String"},j3={[Y3]:!0,default:!1,type:"Boolean"},$3={[pc]:"Endpoint"},J3={[Cn]:tu,[xn]:[{[pc]:"UseFIPS"},!0]},Q3={[Cn]:tu,[xn]:[{[pc]:"UseDualStack"},!0]},_n={},V3={[Cn]:Jx,[xn]:[{[pc]:Yx},"supportsFIPS"]},Z3={[pc]:Yx},G3={[Cn]:tu,[xn]:[!0,{[Cn]:Jx,[xn]:[Z3,"supportsDualStack"]}]},K3=[J3],W3=[Q3],X3=[{[pc]:"Region"}],g9={version:"1.0",parameters:{Region:H3,UseDualStack:j3,UseFIPS:j3,Endpoint:H3},rules:[{conditions:[{[Cn]:q3,[xn]:[$3]}],rules:[{conditions:K3,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:gc},{conditions:W3,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:gc},{endpoint:{url:$3,properties:_n,headers:_n},type:hc}],type:Ls},{conditions:[{[Cn]:q3,[xn]:X3}],rules:[{conditions:[{[Cn]:"aws.partition",[xn]:X3,assign:Yx}],rules:[{conditions:[J3,Q3],rules:[{conditions:[{[Cn]:tu,[xn]:[U3,V3]},G3],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_n,headers:_n},type:hc}],type:Ls},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:gc}],type:Ls},{conditions:K3,rules:[{conditions:[{[Cn]:tu,[xn]:[V3,U3]}],rules:[{conditions:[{[Cn]:"stringEquals",[xn]:[{[Cn]:Jx,[xn]:[Z3,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:_n,headers:_n},type:hc},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_n,headers:_n},type:hc}],type:Ls},{error:"FIPS is enabled but this partition does not support FIPS",type:gc}],type:Ls},{conditions:W3,rules:[{conditions:[G3],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_n,headers:_n},type:hc}],type:Ls},{error:"DualStack is enabled but this partition does not support DualStack",type:gc}],type:Ls},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:_n,headers:_n},type:hc}],type:Ls}],type:Ls},{error:"Invalid Configuration: Missing Region",type:gc}]};Ig.ruleSet=g9});var t1=B(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.defaultEndpointResolver=void 0;var h9=Za(),Qx=Qa(),p9=e1(),y9=new Qx.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),S9=(e,r={})=>y9.get(e,()=>(0,Qx.resolveEndpoint)(p9.ruleSet,{endpointParams:e,logger:r.logger}));kg.defaultEndpointResolver=S9;Qx.customEndpointFunctions.aws=h9.awsEndpointFunctions});var s1=B(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.getRuntimeConfig=void 0;var E9=($t(),Re(gn)),b9=(Dr(),Re(ci)),_9=Ie(),C9=po(),r1=fr(),n1=Kt(),x9=Xx(),w9=t1(),A9=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??r1.fromBase64,base64Encoder:e?.base64Encoder??r1.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??w9.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??x9.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new E9.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new b9.NoAuthSigner}],logger:e?.logger??new _9.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??C9.parseUrl,utf8Decoder:e?.utf8Decoder??n1.fromUtf8,utf8Encoder:e?.utf8Encoder??n1.toUtf8});Og.getRuntimeConfig=A9});var l1=B(Bg=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.getRuntimeConfig=void 0;var P9=(Yn(),Re(Xn)),v9=P9.__importDefault(z3()),o1=($t(),Re(gn)),i1=Bd(),Ng=ts(),T9=Dd(),a1=Ds(),Ai=bo(),c1=Zo(),R9=Md(),I9=rc(),k9=s1(),O9=Ie(),N9=Fd(),B9=Ie(),D9=e=>{(0,B9.emitWarningIfUnsupportedVersion)(process.version);let r=(0,N9.resolveDefaultsModeConfig)(e),t=()=>r().then(O9.loadConfigsForDefaultMode),n=(0,k9.getRuntimeConfig)(e);(0,o1.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Ai.loadConfig)(o1.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??R9.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,i1.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:v9.default.version}),maxAttempts:e?.maxAttempts??(0,Ai.loadConfig)(a1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ai.loadConfig)(Ng.NODE_REGION_CONFIG_OPTIONS,{...Ng.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:c1.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ai.loadConfig)({...a1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||I9.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??T9.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??c1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ai.loadConfig)(Ng.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ai.loadConfig)(Ng.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ai.loadConfig)(i1.NODE_APP_ID_CONFIG_OPTIONS,s)}};Bg.getRuntimeConfig=D9});var T1=B(Bt=>{"use strict";var d1=hd(),M9=pd(),L9=yd(),u1=tc(),F9=ts(),Fs=(Dr(),Re(ci)),z9=bd(),ou=Bs(),m1=Ds(),se=Ie(),f1=Xx(),U9=l1(),g1=zd(),h1=Ke(),Hg=eo(),ru=($t(),Re(gn)),q9=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),jg={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},H9=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},j9=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),$9=(e,r)=>{let t=Object.assign(g1.getAwsRegionExtensionConfiguration(e),se.getDefaultExtensionConfiguration(e),h1.getHttpHandlerExtensionConfiguration(e),H9(e));return r.forEach(n=>n.configure(t)),Object.assign(e,g1.resolveAwsRegionExtensionConfiguration(t),se.resolveDefaultRuntimeConfig(t),h1.resolveHttpHandlerRuntimeConfig(t),j9(t))},yc=class extends se.Client{config;constructor(...[r]){let t=U9.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=q9(t),s=u1.resolveUserAgentConfig(n),o=m1.resolveRetryConfig(s),a=F9.resolveRegionConfig(o),c=d1.resolveHostHeaderConfig(a),l=ou.resolveEndpointConfig(c),d=f1.resolveHttpAuthSchemeConfig(l),f=$9(d,r?.extensions||[]);this.config=f,this.middlewareStack.use(u1.getUserAgentPlugin(this.config)),this.middlewareStack.use(m1.getRetryPlugin(this.config)),this.middlewareStack.use(z9.getContentLengthPlugin(this.config)),this.middlewareStack.use(d1.getHostHeaderPlugin(this.config)),this.middlewareStack.use(M9.getLoggerPlugin(this.config)),this.middlewareStack.use(L9.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Fs.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:f1.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new Fs.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Fs.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Ro=class e extends se.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},Dg=class e extends Ro{name="InvalidRequestException";$fault="client";constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Mg=class e extends Ro{name="ResourceNotFoundException";$fault="client";constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Lg=class e extends Ro{name="TooManyRequestsException";$fault="client";constructor(r){super({name:"TooManyRequestsException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Fg=class e extends Ro{name="UnauthorizedException";$fault="client";constructor(r){super({name:"UnauthorizedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},p1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),y1=e=>({...e,...e.secretAccessKey&&{secretAccessKey:se.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:se.SENSITIVE_STRING}}),S1=e=>({...e,...e.roleCredentials&&{roleCredentials:y1(e.roleCredentials)}}),E1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),b1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),_1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),V9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Gg]:e[Vg]});t.bp("/federation/credentials");let s=se.map({[o7]:[,se.expectNonNull(e[s7],"roleName")],[x1]:[,se.expectNonNull(e[C1],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},G9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Gg]:e[Vg]});t.bp("/assignment/roles");let s=se.map({[v1]:[,e[P1]],[A1]:[()=>e.maxResults!==void 0,()=>e[w1].toString()],[x1]:[,se.expectNonNull(e[C1],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},K9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Gg]:e[Vg]});t.bp("/assignment/accounts");let s=se.map({[v1]:[,e[P1]],[A1]:[()=>e.maxResults!==void 0,()=>e[w1].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},W9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Gg]:e[Vg]});return t.bp("/logout"),t.m("POST").h(n).b(void 0),t.build()},X9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $g(e,r);let t=se.map({$metadata:Io(e)}),n=se.expectNonNull(se.expectObject(await ru.parseJsonBody(e.body,r)),"body"),s=se.take(n,{roleCredentials:se._json});return Object.assign(t,s),t},Y9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $g(e,r);let t=se.map({$metadata:Io(e)}),n=se.expectNonNull(se.expectObject(await ru.parseJsonBody(e.body,r)),"body"),s=se.take(n,{nextToken:se.expectString,roleList:se._json});return Object.assign(t,s),t},J9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $g(e,r);let t=se.map({$metadata:Io(e)}),n=se.expectNonNull(se.expectObject(await ru.parseJsonBody(e.body,r)),"body"),s=se.take(n,{accountList:se._json,nextToken:se.expectString});return Object.assign(t,s),t},Q9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $g(e,r);let t=se.map({$metadata:Io(e)});return await se.collectBody(e.body,r),t},$g=async(e,r)=>{let t={...e,body:await ru.parseJsonErrorBody(e.body,r)},n=ru.loadRestJsonErrorCode(e,t.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await e7(t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await t7(t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await r7(t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await n7(t);default:let s=t.body;return Z9({output:e,parsedBody:s,errorCode:n})}},Z9=se.withBaseException(Ro),e7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Dg({$metadata:Io(e),...t});return se.decorateServiceException(o,e.body)},t7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Mg({$metadata:Io(e),...t});return se.decorateServiceException(o,e.body)},r7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Lg({$metadata:Io(e),...t});return se.decorateServiceException(o,e.body)},n7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Fg({$metadata:Io(e),...t});return se.decorateServiceException(o,e.body)},Io=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),C1="accountId",Vg="accessToken",x1="account_id",w1="maxResults",A1="max_result",P1="nextToken",v1="next_token",s7="roleName",o7="role_name",Gg="x-amz-sso_bearer_token",zg=class extends se.Command.classBuilder().ep(jg).m(function(r,t,n,s){return[Hg.getSerdePlugin(n,this.serialize,this.deserialize),ou.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(p1,S1).ser(V9).de(X9).build(){},nu=class extends se.Command.classBuilder().ep(jg).m(function(r,t,n,s){return[Hg.getSerdePlugin(n,this.serialize,this.deserialize),ou.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(E1,void 0).ser(G9).de(Y9).build(){},su=class extends se.Command.classBuilder().ep(jg).m(function(r,t,n,s){return[Hg.getSerdePlugin(n,this.serialize,this.deserialize),ou.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(b1,void 0).ser(K9).de(J9).build(){},Ug=class extends se.Command.classBuilder().ep(jg).m(function(r,t,n,s){return[Hg.getSerdePlugin(n,this.serialize,this.deserialize),ou.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(_1,void 0).ser(W9).de(Q9).build(){},i7={GetRoleCredentialsCommand:zg,ListAccountRolesCommand:nu,ListAccountsCommand:su,LogoutCommand:Ug},qg=class extends yc{};se.createAggregatedClient(i7,qg);var a7=Fs.createPaginator(yc,nu,"nextToken","nextToken","maxResults"),c7=Fs.createPaginator(yc,su,"nextToken","nextToken","maxResults");Object.defineProperty(Bt,"$Command",{enumerable:!0,get:function(){return se.Command}});Object.defineProperty(Bt,"__Client",{enumerable:!0,get:function(){return se.Client}});Bt.GetRoleCredentialsCommand=zg;Bt.GetRoleCredentialsRequestFilterSensitiveLog=p1;Bt.GetRoleCredentialsResponseFilterSensitiveLog=S1;Bt.InvalidRequestException=Dg;Bt.ListAccountRolesCommand=nu;Bt.ListAccountRolesRequestFilterSensitiveLog=E1;Bt.ListAccountsCommand=su;Bt.ListAccountsRequestFilterSensitiveLog=b1;Bt.LogoutCommand=Ug;Bt.LogoutRequestFilterSensitiveLog=_1;Bt.ResourceNotFoundException=Mg;Bt.RoleCredentialsFilterSensitiveLog=y1;Bt.SSO=qg;Bt.SSOClient=yc;Bt.SSOServiceException=Ro;Bt.TooManyRequestsException=Lg;Bt.UnauthorizedException=Fg;Bt.paginateListAccountRoles=a7;Bt.paginateListAccounts=c7});var I1=B(Zx=>{"use strict";var R1=T1();Object.defineProperty(Zx,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return R1.GetRoleCredentialsCommand}});Object.defineProperty(Zx,"SSOClient",{enumerable:!0,get:function(){return R1.SSOClient}})});var ew=B(Wg=>{"use strict";var Fn=Mr(),Kg=Os(),k1=(Mn(),Re(Zs)),l7=F3(),N1=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),iu=!1,O1=async({ssoStartUrl:e,ssoSession:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:a,parentClientConfig:c,profile:l,filepath:d,configFilepath:f,ignoreCache:g,logger:y})=>{let h,_="To refresh this SSO session run aws sso login with the corresponding profile.";if(r)try{let Lt=await l7.fromSso({profile:l,filepath:d,configFilepath:f,ignoreCache:g})();h={accessToken:Lt.token,expiresAt:new Date(Lt.expiration).toISOString()}}catch(Lt){throw new Fn.CredentialsProviderError(Lt.message,{tryNextLink:iu,logger:y})}else try{h=await Kg.getSSOTokenFromFile(e)}catch{throw new Fn.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${_}`,{tryNextLink:iu,logger:y})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Fn.CredentialsProviderError(`The SSO session associated with this profile has expired. ${_}`,{tryNextLink:iu,logger:y});let{accessToken:v}=h,{SSOClient:I,GetRoleCredentialsCommand:N}=await Promise.resolve().then(function(){return I1()}),W=o||new I(Object.assign({},a??{},{logger:a?.logger??c?.logger,region:a?.region??n})),ce;try{ce=await W.send(new N({accountId:t,roleName:s,accessToken:v}))}catch(Lt){throw new Fn.CredentialsProviderError(Lt,{tryNextLink:iu,logger:y})}let{roleCredentials:{accessKeyId:le,secretAccessKey:ie,sessionToken:Ne,expiration:tr,credentialScope:Hr,accountId:_t}={}}=ce;if(!le||!ie||!Ne||!tr)throw new Fn.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:iu,logger:y});let tt={accessKeyId:le,secretAccessKey:ie,sessionToken:Ne,expiration:new Date(tr),...Hr&&{credentialScope:Hr},..._t&&{accountId:_t}};return r?k1.setCredentialFeature(tt,"CREDENTIALS_SSO","s"):k1.setCredentialFeature(tt,"CREDENTIALS_SSO_LEGACY","u"),tt},B1=(e,r)=>{let{sso_start_url:t,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!t||!n||!s||!o)throw new Fn.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:r});return e},d7=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:a}=e,{ssoClient:c}=e,l=Kg.getProfileName({profile:e.profile??r?.profile});if(!t&&!n&&!s&&!o&&!a){let f=(await Kg.parseKnownFiles(e))[l];if(!f)throw new Fn.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!N1(f))throw new Fn.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let N=(await Kg.loadSsoSessionData(e))[f.sso_session],W=` configurations in profile ${l} and sso-session ${f.sso_session}`;if(s&&s!==N.sso_region)throw new Fn.CredentialsProviderError("Conflicting SSO region"+W,{tryNextLink:!1,logger:e.logger});if(t&&t!==N.sso_start_url)throw new Fn.CredentialsProviderError("Conflicting SSO start_url"+W,{tryNextLink:!1,logger:e.logger});f.sso_region=N.sso_region,f.sso_start_url=N.sso_start_url}let{sso_start_url:g,sso_account_id:y,sso_region:h,sso_role_name:_,sso_session:v}=B1(f,e.logger);return O1({ssoStartUrl:g,ssoSession:v,ssoAccountId:y,ssoRegion:h,ssoRoleName:_,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!t||!n||!s||!o)throw new Fn.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return O1({ssoStartUrl:t,ssoSession:a,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Wg.fromSSO=d7;Wg.isSsoProfile=N1;Wg.validateSsoProfile=B1});function u7(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function m7(e){return{schemeId:"smithy.api#noAuth"}}var au,D1,M1,f7,L1,tw=P(()=>{$t();au=k(Er());cu();D1=async(e,r,t)=>({operation:(0,au.getSmithyContext)(r).operation,region:await(0,au.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});M1=e=>{let r=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{r.push(m7(e));break}default:r.push(u7(e))}return r},f7=e=>Object.assign(e,{stsClientCtor:cs}),L1=e=>{let r=f7(e),t=ui(r);return Object.assign(t,{authSchemePreference:(0,au.normalizeProvider)(e.authSchemePreference??[])})}});var F1,Xg,Yg=P(()=>{F1=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Xg={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var X1,we,$e,Ve,Oo,ko,hr,Y1,J1,Q1,xt,z1,ls,Sc,nw,U1,rw,Z1,q1,pr,H1,eL,tL,Ar,sn,j1,rL,nL,$1,sL,V1,G1,K1,W1,g7,oL,iL=P(()=>{X1="required",we="type",$e="fn",Ve="argv",Oo="ref",ko="booleanEquals",hr="stringEquals",Y1="sigv4",J1="sts",Q1="us-east-1",xt="endpoint",z1="https://sts.{Region}.{PartitionResult#dnsSuffix}",ls="tree",Sc="error",nw="getAttr",U1={[X1]:!1,[we]:"String"},rw={[X1]:!0,default:!1,[we]:"Boolean"},Z1={[Oo]:"Endpoint"},q1={[$e]:"isSet",[Ve]:[{[Oo]:"Region"}]},pr={[Oo]:"Region"},H1={[$e]:"aws.partition",[Ve]:[pr],assign:"PartitionResult"},eL={[Oo]:"UseFIPS"},tL={[Oo]:"UseDualStack"},Ar={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Y1,signingName:J1,signingRegion:Q1}]},headers:{}},sn={},j1={conditions:[{[$e]:hr,[Ve]:[pr,"aws-global"]}],[xt]:Ar,[we]:xt},rL={[$e]:ko,[Ve]:[eL,!0]},nL={[$e]:ko,[Ve]:[tL,!0]},$1={[$e]:nw,[Ve]:[{[Oo]:"PartitionResult"},"supportsFIPS"]},sL={[Oo]:"PartitionResult"},V1={[$e]:ko,[Ve]:[!0,{[$e]:nw,[Ve]:[sL,"supportsDualStack"]}]},G1=[{[$e]:"isSet",[Ve]:[Z1]}],K1=[rL],W1=[nL],g7={version:"1.0",parameters:{Region:U1,UseDualStack:rw,UseFIPS:rw,Endpoint:U1,UseGlobalEndpoint:rw},rules:[{conditions:[{[$e]:ko,[Ve]:[{[Oo]:"UseGlobalEndpoint"},!0]},{[$e]:"not",[Ve]:G1},q1,H1,{[$e]:ko,[Ve]:[eL,!1]},{[$e]:ko,[Ve]:[tL,!1]}],rules:[{conditions:[{[$e]:hr,[Ve]:[pr,"ap-northeast-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"ap-south-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"ap-southeast-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"ap-southeast-2"]}],endpoint:Ar,[we]:xt},j1,{conditions:[{[$e]:hr,[Ve]:[pr,"ca-central-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"eu-central-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"eu-north-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"eu-west-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"eu-west-2"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"eu-west-3"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"sa-east-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,Q1]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"us-east-2"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"us-west-1"]}],endpoint:Ar,[we]:xt},{conditions:[{[$e]:hr,[Ve]:[pr,"us-west-2"]}],endpoint:Ar,[we]:xt},{endpoint:{url:z1,properties:{authSchemes:[{name:Y1,signingName:J1,signingRegion:"{Region}"}]},headers:sn},[we]:xt}],[we]:ls},{conditions:G1,rules:[{conditions:K1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[we]:Sc},{conditions:W1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[we]:Sc},{endpoint:{url:Z1,properties:sn,headers:sn},[we]:xt}],[we]:ls},{conditions:[q1],rules:[{conditions:[H1],rules:[{conditions:[rL,nL],rules:[{conditions:[{[$e]:ko,[Ve]:[!0,$1]},V1],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sn,headers:sn},[we]:xt}],[we]:ls},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[we]:Sc}],[we]:ls},{conditions:K1,rules:[{conditions:[{[$e]:ko,[Ve]:[$1,!0]}],rules:[{conditions:[{[$e]:hr,[Ve]:[{[$e]:nw,[Ve]:[sL,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:sn,headers:sn},[we]:xt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:sn,headers:sn},[we]:xt}],[we]:ls},{error:"FIPS is enabled but this partition does not support FIPS",[we]:Sc}],[we]:ls},{conditions:W1,rules:[{conditions:[V1],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sn,headers:sn},[we]:xt}],[we]:ls},{error:"DualStack is enabled but this partition does not support DualStack",[we]:Sc}],[we]:ls},j1,{endpoint:{url:z1,properties:sn,headers:sn},[we]:xt}],[we]:ls}],[we]:ls},{error:"Invalid Configuration: Missing Region",[we]:Sc}]},oL=g7});var aL,Ec,h7,cL,lL=P(()=>{aL=k(Za()),Ec=k(Qa());iL();h7=new Ec.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),cL=(e,r={})=>h7.get(e,()=>(0,Ec.resolveEndpoint)(oL,{endpointParams:e,logger:r.logger}));Ec.customEndpointFunctions.aws=aL.awsEndpointFunctions});var dL,uL,Jg,Qg,mL,fL=P(()=>{$t();Dr();dL=k(Ie()),uL=k(po()),Jg=k(fr()),Qg=k(Kt());tw();lL();mL=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Jg.fromBase64,base64Encoder:e?.base64Encoder??Jg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??cL,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??M1,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new jr},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ws}],logger:e?.logger??new dL.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??uL.parseUrl,utf8Decoder:e?.utf8Decoder??Qg.fromUtf8,utf8Encoder:e?.utf8Encoder??Qg.toUtf8})});var Zg,Bo,gL,eh,No,th,hL,pL,yL,SL,EL,bL,_L=P(()=>{Ox();$t();Zg=k(Bd()),Bo=k(ts());Dr();gL=k(Dd()),eh=k(Ds()),No=k(bo()),th=k(Zo()),hL=k(Md()),pL=k(rc());fL();yL=k(Ie()),SL=k(Fd()),EL=k(Ie()),bL=e=>{(0,EL.emitWarningIfUnsupportedVersion)(process.version);let r=(0,SL.resolveDefaultsModeConfig)(e),t=()=>r().then(yL.loadConfigsForDefaultMode),n=mL(e);Pa(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,No.loadConfig)(Ra,s),bodyLengthChecker:e?.bodyLengthChecker??hL.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Zg.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:fg.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async a=>await e.credentialDefaultProvider(a?.__config||{})()),signer:new jr},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ws}],maxAttempts:e?.maxAttempts??(0,No.loadConfig)(eh.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,No.loadConfig)(Bo.NODE_REGION_CONFIG_OPTIONS,{...Bo.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:th.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,No.loadConfig)({...eh.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||pL.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??gL.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??th.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,No.loadConfig)(Bo.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,No.loadConfig)(Bo.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,No.loadConfig)(Zg.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var CL,xL,wL=P(()=>{CL=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},xL=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var rh,nh,sh,AL,PL=P(()=>{rh=k(zd()),nh=k(Ke()),sh=k(Ie());wL();AL=(e,r)=>{let t=Object.assign((0,rh.getAwsRegionExtensionConfiguration)(e),(0,sh.getDefaultExtensionConfiguration)(e),(0,nh.getHttpHandlerExtensionConfiguration)(e),CL(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,rh.resolveAwsRegionExtensionConfiguration)(t),(0,sh.resolveDefaultRuntimeConfig)(t),(0,nh.resolveHttpHandlerRuntimeConfig)(t),xL(t))}});var oh,vL,TL,ih,RL,IL,kL,ah,sw,cs,cu=P(()=>{oh=k(hd()),vL=k(pd()),TL=k(yd()),ih=k(tc()),RL=k(ts());Dr();IL=k(bd()),kL=k(Bs()),ah=k(Ds()),sw=k(Ie());tw();Yg();_L();PL();cs=class extends sw.Client{config;constructor(...[r]){let t=bL(r||{});super(t),this.initConfig=t;let n=F1(t),s=(0,ih.resolveUserAgentConfig)(n),o=(0,ah.resolveRetryConfig)(s),a=(0,RL.resolveRegionConfig)(o),c=(0,oh.resolveHostHeaderConfig)(a),l=(0,kL.resolveEndpointConfig)(c),d=L1(l),f=AL(d,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,ih.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ah.getRetryPlugin)(this.config)),this.middlewareStack.use((0,IL.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,oh.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,vL.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,TL.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ql(this.config,{httpAuthSchemeParametersProvider:D1,identityProviderConfigProvider:async g=>new ai({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Hl(this.config))}destroy(){super.destroy()}}});var OL,Wr,ch=P(()=>{OL=k(Ie()),Wr=class e extends OL.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var ow,iw,aw,lu,du,uu,mu,fu,gu,cw,lw,hu,pu=P(()=>{ow=k(Ie());ch();iw=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:ow.SENSITIVE_STRING}}),aw=e=>({...e,...e.Credentials&&{Credentials:iw(e.Credentials)}}),lu=class e extends Wr{name="ExpiredTokenException";$fault="client";constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},du=class e extends Wr{name="MalformedPolicyDocumentException";$fault="client";constructor(r){super({name:"MalformedPolicyDocumentException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},uu=class e extends Wr{name="PackedPolicyTooLargeException";$fault="client";constructor(r){super({name:"PackedPolicyTooLargeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},mu=class e extends Wr{name="RegionDisabledException";$fault="client";constructor(r){super({name:"RegionDisabledException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},fu=class e extends Wr{name="IDPRejectedClaimException";$fault="client";constructor(r){super({name:"IDPRejectedClaimException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},gu=class e extends Wr{name="InvalidIdentityTokenException";$fault="client";constructor(r){super({name:"InvalidIdentityTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},cw=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:ow.SENSITIVE_STRING}}),lw=e=>({...e,...e.Credentials&&{Credentials:iw(e.Credentials)}}),hu=class e extends Wr{name="IDPCommunicationErrorException";$fault="client";constructor(r){super({name:"IDPCommunicationErrorException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}}});var NL,ke,BL,DL,ML,LL,FL,p7,y7,S7,E7,b7,_7,C7,x7,w7,zL,A7,P7,v7,T7,R7,I7,UL,k7,O7,qL,N7,B7,D7,M7,L7,F7,z7,Us,U7,HL,jL,$L,VL,dw,q7,uw,bc,H7,mw,fw,_c,gw,Cc,hw,pw,yw,xc,wc,Sw,Ew,bw,Ac,_w,Pc,vc,Cw,xw,zs,ww,Aw,Pw,vw,Tw,GL,Rw,Iw,kw,qt,KL,j7,Ow=P(()=>{$t();NL=k(Ke()),ke=k(Ie());pu();ch();BL=async(e,r)=>{let t=jL,n;return n=KL({...x7(e,r),[VL]:q7,[GL]:$L}),HL(r,t,"/",void 0,n)},DL=async(e,r)=>{let t=jL,n;return n=KL({...w7(e,r),[VL]:H7,[GL]:$L}),HL(r,t,"/",void 0,n)},ML=async(e,r)=>{if(e.statusCode>=300)return FL(e,r);let t=await md(e.body,r),n={};return n=k7(t.AssumeRoleResult,r),{$metadata:Us(e),...n}},LL=async(e,r)=>{if(e.statusCode>=300)return FL(e,r);let t=await md(e.body,r),n={};return n=O7(t.AssumeRoleWithWebIdentityResult,r),{$metadata:Us(e),...n}},FL=async(e,r)=>{let t={...e,body:await L_(e.body,r)},n=j7(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await p7(t,r);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await b7(t,r);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await _7(t,r);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await C7(t,r);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await y7(t,r);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await S7(t,r);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await E7(t,r);default:let s=t.body;return U7({output:e,parsedBody:s.Error,errorCode:n})}},p7=async(e,r)=>{let t=e.body,n=N7(t.Error,r),s=new lu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},y7=async(e,r)=>{let t=e.body,n=B7(t.Error,r),s=new hu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},S7=async(e,r)=>{let t=e.body,n=D7(t.Error,r),s=new fu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},E7=async(e,r)=>{let t=e.body,n=M7(t.Error,r),s=new gu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},b7=async(e,r)=>{let t=e.body,n=L7(t.Error,r),s=new du({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},_7=async(e,r)=>{let t=e.body,n=F7(t.Error,r),s=new uu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},C7=async(e,r)=>{let t=e.body,n=z7(t.Error,r),s=new mu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},x7=(e,r)=>{let t={};if(e[Pc]!=null&&(t[Pc]=e[Pc]),e[vc]!=null&&(t[vc]=e[vc]),e[wc]!=null){let n=zL(e[wc],r);e[wc]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}if(e[xc]!=null&&(t[xc]=e[xc]),e[Cc]!=null&&(t[Cc]=e[Cc]),e[Pw]!=null){let n=I7(e[Pw],r);e[Pw]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([s,o])=>{let a=`Tags.${s}`;t[a]=o})}if(e[Tw]!=null){let n=R7(e[Tw],r);e[Tw]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let a=`TransitiveTagKeys.${s}`;t[a]=o})}if(e[pw]!=null&&(t[pw]=e[pw]),e[ww]!=null&&(t[ww]=e[ww]),e[vw]!=null&&(t[vw]=e[vw]),e[zs]!=null&&(t[zs]=e[zs]),e[Ew]!=null){let n=v7(e[Ew],r);e[Ew]?.length===0&&(t.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let a=`ProvidedContexts.${s}`;t[a]=o})}return t},w7=(e,r)=>{let t={};if(e[Pc]!=null&&(t[Pc]=e[Pc]),e[vc]!=null&&(t[vc]=e[vc]),e[Iw]!=null&&(t[Iw]=e[Iw]),e[bw]!=null&&(t[bw]=e[bw]),e[wc]!=null){let n=zL(e[wc],r);e[wc]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}return e[xc]!=null&&(t[xc]=e[xc]),e[Cc]!=null&&(t[Cc]=e[Cc]),t},zL=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=A7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},A7=(e,r)=>{let t={};return e[kw]!=null&&(t[kw]=e[kw]),t},P7=(e,r)=>{let t={};return e[Sw]!=null&&(t[Sw]=e[Sw]),e[gw]!=null&&(t[gw]=e[gw]),t},v7=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=P7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},T7=(e,r)=>{let t={};return e[yw]!=null&&(t[yw]=e[yw]),e[Rw]!=null&&(t[Rw]=e[Rw]),t},R7=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},I7=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=T7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},UL=(e,r)=>{let t={};return e[uw]!=null&&(t[uw]=(0,ke.expectString)(e[uw])),e[mw]!=null&&(t[mw]=(0,ke.expectString)(e[mw])),t},k7=(e,r)=>{let t={};return e[_c]!=null&&(t[_c]=qL(e[_c],r)),e[bc]!=null&&(t[bc]=UL(e[bc],r)),e[Ac]!=null&&(t[Ac]=(0,ke.strictParseInt32)(e[Ac])),e[zs]!=null&&(t[zs]=(0,ke.expectString)(e[zs])),t},O7=(e,r)=>{let t={};return e[_c]!=null&&(t[_c]=qL(e[_c],r)),e[xw]!=null&&(t[xw]=(0,ke.expectString)(e[xw])),e[bc]!=null&&(t[bc]=UL(e[bc],r)),e[Ac]!=null&&(t[Ac]=(0,ke.strictParseInt32)(e[Ac])),e[_w]!=null&&(t[_w]=(0,ke.expectString)(e[_w])),e[fw]!=null&&(t[fw]=(0,ke.expectString)(e[fw])),e[zs]!=null&&(t[zs]=(0,ke.expectString)(e[zs])),t},qL=(e,r)=>{let t={};return e[dw]!=null&&(t[dw]=(0,ke.expectString)(e[dw])),e[Cw]!=null&&(t[Cw]=(0,ke.expectString)(e[Cw])),e[Aw]!=null&&(t[Aw]=(0,ke.expectString)(e[Aw])),e[hw]!=null&&(t[hw]=(0,ke.expectNonNull)((0,ke.parseRfc3339DateTimeWithOffset)(e[hw]))),t},N7=(e,r)=>{let t={};return e[qt]!=null&&(t[qt]=(0,ke.expectString)(e[qt])),t},B7=(e,r)=>{let t={};return e[qt]!=null&&(t[qt]=(0,ke.expectString)(e[qt])),t},D7=(e,r)=>{let t={};return e[qt]!=null&&(t[qt]=(0,ke.expectString)(e[qt])),t},M7=(e,r)=>{let t={};return e[qt]!=null&&(t[qt]=(0,ke.expectString)(e[qt])),t},L7=(e,r)=>{let t={};return e[qt]!=null&&(t[qt]=(0,ke.expectString)(e[qt])),t},F7=(e,r)=>{let t={};return e[qt]!=null&&(t[qt]=(0,ke.expectString)(e[qt])),t},z7=(e,r)=>{let t={};return e[qt]!=null&&(t[qt]=(0,ke.expectString)(e[qt])),t},Us=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),U7=(0,ke.withBaseException)(Wr),HL=async(e,r,t,n,s)=>{let{hostname:o,protocol:a="https",port:c,path:l}=await e.endpoint(),d={protocol:a,hostname:o,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:r};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new NL.HttpRequest(d)},jL={"content-type":"application/x-www-form-urlencoded"},$L="2011-06-15",VL="Action",dw="AccessKeyId",q7="AssumeRole",uw="AssumedRoleId",bc="AssumedRoleUser",H7="AssumeRoleWithWebIdentity",mw="Arn",fw="Audience",_c="Credentials",gw="ContextAssertion",Cc="DurationSeconds",hw="Expiration",pw="ExternalId",yw="Key",xc="Policy",wc="PolicyArns",Sw="ProviderArn",Ew="ProvidedContexts",bw="ProviderId",Ac="PackedPolicySize",_w="Provider",Pc="RoleArn",vc="RoleSessionName",Cw="SecretAccessKey",xw="SubjectFromWebIdentityToken",zs="SourceIdentity",ww="SerialNumber",Aw="SessionToken",Pw="Tags",vw="TokenCode",Tw="TransitiveTagKeys",GL="Version",Rw="Value",Iw="WebIdentityToken",kw="arn",qt="message",KL=e=>Object.entries(e).map(([r,t])=>(0,ke.extendedEncodeURIComponent)(r)+"="+(0,ke.extendedEncodeURIComponent)(t)).join("&"),j7=(e,r)=>{if(r.Error?.Code!==void 0)return r.Error.Code;if(e.statusCode==404)return"NotFound"}});var WL,XL,YL,Pi,lh=P(()=>{WL=k(Bs()),XL=k(eo()),YL=k(Ie());Yg();pu();Ow();Pi=class extends YL.Command.classBuilder().ep(Xg).m(function(r,t,n,s){return[(0,XL.getSerdePlugin)(n,this.serialize,this.deserialize),(0,WL.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,aw).ser(BL).de(ML).build(){}});var JL,QL,ZL,vi,dh=P(()=>{JL=k(Bs()),QL=k(eo()),ZL=k(Ie());Yg();pu();Ow();vi=class extends ZL.Command.classBuilder().ep(Xg).m(function(r,t,n,s){return[(0,QL.getSerdePlugin)(n,this.serialize,this.deserialize),(0,JL.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(cw,lw).ser(DL).de(LL).build(){}});var eF,$7,uh,tF=P(()=>{eF=k(Ie());lh();dh();cu();$7={AssumeRoleCommand:Pi,AssumeRoleWithWebIdentityCommand:vi},uh=class extends cs{};(0,eF.createAggregatedClient)($7,uh)});var rF=P(()=>{lh();dh()});var nF=P(()=>{pu()});var sF,oF,iF,aF,cF,lF,dF=P(()=>{Mn();lh();dh();sF="us-east-1",oF=e=>{if(typeof e?.Arn=="string"){let r=e.Arn.split(":");if(r.length>4&&r[4]!=="")return r[4]}},iF=async(e,r,t)=>{let n=typeof e=="function"?await e():e,s=typeof r=="function"?await r():r;return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${sF} (STS default)`),n??s??sF},aF=(e,r)=>{let t,n;return async(s,o)=>{if(n=s,!t){let{logger:f=e?.parentClientConfig?.logger,region:g,requestHandler:y=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,_=await iF(g,e?.parentClientConfig?.region,h),v=!lF(y);t=new r({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:_,requestHandler:v?y:void 0,logger:f})}let{Credentials:a,AssumedRoleUser:c}=await t.send(new Pi(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=oF(c),d={accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...l&&{accountId:l}};return Qs(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},cF=(e,r)=>{let t;return async n=>{if(!t){let{logger:l=e?.parentClientConfig?.logger,region:d,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,y=await iF(d,e?.parentClientConfig?.region,g),h=!lF(f);t=new r({profile:e?.parentClientConfig?.profile,region:y,requestHandler:h?f:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:o}=await t.send(new vi(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let a=oF(o),c={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...a&&{accountId:a}};return a&&Qs(c,"RESOLVED_ACCOUNT_ID","T"),Qs(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},lF=e=>e?.metadata?.handlerProtocol==="h2"});var uF,mF,fF,V7,gF=P(()=>{dF();cu();uF=(e,r)=>r?class extends e{constructor(n){super(n);for(let s of r)this.middlewareStack.use(s)}}:e,mF=(e={},r)=>aF(e,uF(cs,r)),fF=(e={},r)=>cF(e,uF(cs,r)),V7=e=>r=>e({roleAssumer:mF(r),roleAssumerWithWebIdentity:fF(r),...r})});var Nw={};dn(Nw,{AssumeRoleCommand:()=>Pi,AssumeRoleResponseFilterSensitiveLog:()=>aw,AssumeRoleWithWebIdentityCommand:()=>vi,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>cw,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>lw,CredentialsFilterSensitiveLog:()=>iw,ExpiredTokenException:()=>lu,IDPCommunicationErrorException:()=>hu,IDPRejectedClaimException:()=>fu,InvalidIdentityTokenException:()=>gu,MalformedPolicyDocumentException:()=>du,PackedPolicyTooLargeException:()=>uu,RegionDisabledException:()=>mu,STS:()=>uh,STSClient:()=>cs,STSServiceException:()=>Wr,__Client:()=>sw.Client,decorateDefaultCredentialProvider:()=>V7,getDefaultRoleAssumer:()=>mF,getDefaultRoleAssumerWithWebIdentity:()=>fF});var Bw=P(()=>{cu();tF();rF();nF();gF();ch()});var Lw=B(hF=>{"use strict";var Mw=Os(),Dw=Mr(),G7=require("child_process"),K7=require("util"),W7=(Mn(),Re(Zs)),X7=(e,r,t)=>{if(r.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(r.AccessKeyId===void 0||r.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(r.Expiration){let o=new Date;if(new Date(r.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=r.AccountId;!n&&t?.[e]?.aws_account_id&&(n=t[e].aws_account_id);let s={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,...r.SessionToken&&{sessionToken:r.SessionToken},...r.Expiration&&{expiration:new Date(r.Expiration)},...r.CredentialScope&&{credentialScope:r.CredentialScope},...n&&{accountId:n}};return W7.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},Y7=async(e,r,t)=>{let n=r[e];if(r[e]){let s=n.credential_process;if(s!==void 0){let o=K7.promisify(Mw.externalDataInterceptor?.getTokenRecord?.().exec??G7.exec);try{let{stdout:a}=await o(s),c;try{c=JSON.parse(a.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return X7(e,c,r)}catch(a){throw new Dw.CredentialsProviderError(a.message,{logger:t})}}else throw new Dw.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}else throw new Dw.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},J7=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let t=await Mw.parseKnownFiles(e);return Y7(Mw.getProfileName({profile:e.profile??r?.profile}),t,e.logger)};hF.fromProcess=J7});var Fw=B(ds=>{"use strict";var Q7=ds&&ds.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),Z7=ds&&ds.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),eY=ds&&ds.__importStar||function(){var e=function(r){return e=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},e(r)};return function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n=e(r),s=0;s<n.length;s++)n[s]!=="default"&&Q7(t,r,n[s]);return Z7(t,r),t}}();Object.defineProperty(ds,"__esModule",{value:!0});ds.fromWebToken=void 0;var tY=e=>async r=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:a,policy:c,durationSeconds:l}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>eY((Bw(),Re(Nw))));d=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...r?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:a,Policy:c,DurationSeconds:l})};ds.fromWebToken=tY});var yF=B(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.fromTokenFile=void 0;var rY=(Mn(),Re(Zs)),nY=Mr(),sY=Os(),oY=require("fs"),iY=Fw(),pF="AWS_WEB_IDENTITY_TOKEN_FILE",aY="AWS_ROLE_ARN",cY="AWS_ROLE_SESSION_NAME",lY=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[pF],t=e?.roleArn??process.env[aY],n=e?.roleSessionName??process.env[cY];if(!r||!t)throw new nY.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,iY.fromWebToken)({...e,webIdentityToken:sY.externalDataInterceptor?.getTokenRecord?.()[r]??(0,oY.readFileSync)(r,{encoding:"ascii"}),roleArn:t,roleSessionName:n})();return r===process.env[pF]&&(0,rY.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};mh.fromTokenFile=lY});var zw=B(yu=>{"use strict";var SF=yF(),EF=Fw();Object.keys(SF).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(yu,e)&&Object.defineProperty(yu,e,{enumerable:!0,get:function(){return SF[e]}})});Object.keys(EF).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(yu,e)&&Object.defineProperty(yu,e,{enumerable:!0,get:function(){return EF[e]}})})});var AF=B(wF=>{"use strict";var qw=Os(),Su=Mr(),Do=(Mn(),Re(Zs)),dY=(e,r,t)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>k(Rx())),{fromContainerMetadata:a}=await Promise.resolve().then(()=>k(Od()));return t?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Su.chain(o(s??{}),a(s))().then(Uw)},Ec2InstanceMetadata:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>k(Od()));return async()=>o(s)().then(Uw)},Environment:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>k(_x()));return async()=>o(s)().then(Uw)}};if(e in n)return n[e];throw new Su.CredentialsProviderError(`Unsupported credential source in profile ${r}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:t})},Uw=e=>Do.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),uY=(e,{profile:r="default",logger:t}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(mY(e,{profile:r,logger:t})||fY(e,{profile:r,logger:t})),mY=(e,{profile:r,logger:t})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&t?.debug?.(`    ${r} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},fY=(e,{profile:r,logger:t})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&t?.debug?.(`    ${r} isCredentialSourceProfile credential_source=${e.credential_source}`),n},gY=async(e,r,t,n={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=r[e],{source_profile:o,region:a}=s;if(!t.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>(Bw(),Nw));t.roleAssumer=l({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...t?.parentClientConfig,region:a??t?.parentClientConfig?.region}},t.clientPlugins)}if(o&&o in n)throw new Su.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${qw.getProfileName(t)}. Profiles visited: `+Object.keys(n).join(", "),{logger:t.logger});t.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let c=o?xF(o,r,t,{...n,[o]:!0},bF(r[o]??{})):(await dY(s.credential_source,e,t.logger)(t))();if(bF(s))return c.then(l=>Do.setCredentialFeature(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!t.mfaCodeProvider)throw new Su.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:t.logger,tryNextLink:!1});l.SerialNumber=d,l.TokenCode=await t.mfaCodeProvider(d)}let f=await c;return t.roleAssumer(f,l).then(g=>Do.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},bF=e=>!e.role_arn&&!!e.credential_source,hY=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",pY=async(e,r)=>Promise.resolve().then(()=>k(Lw())).then(({fromProcess:t})=>t({...e,profile:r})().then(n=>Do.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),yY=async(e,r,t={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>k(ew()));return n({profile:e,logger:t.logger,parentClientConfig:t.parentClientConfig,clientConfig:t.clientConfig})().then(s=>r.sso_session?Do.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Do.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},SY=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),_F=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,CF=async(e,r)=>{r?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let t={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Do.setCredentialFeature(t,"CREDENTIALS_PROFILE","n")},EY=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,bY=async(e,r)=>Promise.resolve().then(()=>k(zw())).then(({fromTokenFile:t})=>t({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:r.roleAssumerWithWebIdentity,logger:r.logger,parentClientConfig:r.parentClientConfig})().then(n=>Do.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),xF=async(e,r,t,n={},s=!1)=>{let o=r[e];if(Object.keys(n).length>0&&_F(o))return CF(o,t);if(s||uY(o,{profile:e,logger:t.logger}))return gY(e,r,t,n);if(_F(o))return CF(o,t);if(EY(o))return bY(o,t);if(hY(o))return pY(t,e);if(SY(o))return await yY(e,o,t);throw new Su.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:t.logger})},_Y=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await qw.parseKnownFiles(t);return xF(qw.getProfileName({profile:e.profile??r?.profile}),n,t)};wF.fromIni=_Y});var IF=B(fh=>{"use strict";var Hw=_x(),Ti=Mr(),CY=Os(),PF="AWS_EC2_METADATA_DISABLED",xY=async e=>{let{ENV_CMDS_FULL_URI:r,ENV_CMDS_RELATIVE_URI:t,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>k(Od()));if(process.env[t]||process.env[r]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>k(Rx()));return Ti.chain(o(e),n(e))}return process.env[PF]&&process.env[PF]!=="false"?async()=>{throw new Ti.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},vF=!1,wY=(e={})=>Ti.memoize(Ti.chain(async()=>{if(e.profile??process.env[CY.ENV_PROFILE])throw process.env[Hw.ENV_KEY]&&process.env[Hw.ENV_SECRET]&&(vF||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),vF=!0)),new Ti.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),Hw.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!r&&!t&&!n&&!s&&!o)throw new Ti.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>k(ew()));return a(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>k(AF()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>k(Lw()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>k(zw()));return r(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await xY(e))()),async()=>{throw new Ti.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),RF,TF),TF=e=>e?.expiration!==void 0,RF=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;fh.credentialsTreatedAsExpired=RF;fh.credentialsWillNeedRefresh=TF;fh.defaultProvider=wY});var YF=B((iwe,XF)=>{"use strict";var gh=Object.defineProperty,AY=Object.getOwnPropertyDescriptor,PY=Object.getOwnPropertyNames,vY=Object.prototype.hasOwnProperty,qe=(e,r)=>gh(e,"name",{value:r,configurable:!0}),TY=(e,r)=>{for(var t in r)gh(e,t,{get:r[t],enumerable:!0})},RY=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of PY(r))!vY.call(e,s)&&s!==t&&gh(e,s,{get:()=>r[s],enumerable:!(n=AY(r,s))||n.enumerable});return e},IY=e=>RY(gh({},"__esModule",{value:!0}),e),OF={};TY(OF,{NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS:()=>kY,NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME:()=>NF,NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME:()=>BF,NODE_USE_ARN_REGION_CONFIG_OPTIONS:()=>OY,NODE_USE_ARN_REGION_ENV_NAME:()=>DF,NODE_USE_ARN_REGION_INI_NAME:()=>MF,bucketEndpointMiddleware:()=>GF,bucketEndpointMiddlewareOptions:()=>KF,bucketHostname:()=>$w,getArnResources:()=>$F,getBucketEndpointPlugin:()=>eJ,getSuffixForArnEndpoint:()=>UF,resolveBucketEndpointConfig:()=>WF,validateAccountId:()=>jF,validateDNSHostLabel:()=>Tc,validateNoDualstack:()=>GY,validateNoFIPS:()=>VF,validateOutpostService:()=>qF,validatePartition:()=>HF,validateRegion:()=>$Y});XF.exports=IY(OF);var Mo=Tf(),NF="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",BF="s3_disable_multiregion_access_points",kY={environmentVariableSelector:qe(e=>(0,Mo.booleanSelector)(e,NF,Mo.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:qe(e=>(0,Mo.booleanSelector)(e,BF,Mo.SelectorType.CONFIG),"configFileSelector"),default:!1},DF="AWS_S3_USE_ARN_REGION",MF="s3_use_arn_region",OY={environmentVariableSelector:qe(e=>(0,Mo.booleanSelector)(e,DF,Mo.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:qe(e=>(0,Mo.booleanSelector)(e,MF,Mo.SelectorType.CONFIG),"configFileSelector"),default:void 0},kF=uC(),NY=Ke(),BY=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,DY=/(\d+\.){3}\d+/,MY=/\.\./,LF=/\./,LY=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,FF=/^s3(-external-1)?\.amazonaws\.com$/,jw="amazonaws.com",FY=qe(e=>typeof e.bucketName=="string","isBucketNameOptions"),zY=qe(e=>BY.test(e)&&!DY.test(e)&&!MY.test(e),"isDnsCompatibleBucketName"),zF=qe(e=>{let r=e.match(LY);return[r[4],e.replace(new RegExp(`^${r[0]}`),"")]},"getRegionalSuffix"),UY=qe(e=>FF.test(e)?["us-east-1",jw]:zF(e),"getSuffix"),UF=qe(e=>FF.test(e)?[e.replace(`.${jw}`,""),jw]:zF(e),"getSuffixForArnEndpoint"),qY=qe(e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},"validateArnEndpointOptions"),HY=qe(e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},"validateService"),jY=qe(e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},"validateS3Service"),qF=qe(e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},"validateOutpostService"),HF=qe((e,r)=>{if(e!==r.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${r.clientPartition}"`)},"validatePartition"),$Y=qe((e,r)=>{},"validateRegion"),Vw=qe(e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},"validateRegionalClient"),jF=qe(e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},"validateAccountId"),Tc=qe((e,r={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||r?.tlsCompatible&&LF.test(e))throw new Error(`Invalid DNS label ${e}`)},"validateDNSHostLabel"),VY=qe(e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},"validateCustomEndpoint"),$F=qe(e=>{let r=e.includes(":")?":":"/",[t,...n]=e.split(r);if(t==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${r}{accesspointname}`);return{accesspointName:n[0]}}else if(t==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${r}{outpostId}${r}accesspoint${r}{accesspointName}`);let[s,o,a]=n;return{outpostId:s,accesspointName:a}}else throw new Error(`ARN resource should begin with 'accesspoint${r}' or 'outpost${r}'`)},"getArnResources"),GY=qe(e=>{},"validateNoDualstack"),VF=qe(e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},"validateNoFIPS"),KY=qe(e=>{try{e.split(".").forEach(r=>{Tc(r)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},"validateMrapAlias"),$w=qe(e=>(VY(e),FY(e)?WY(e):XY(e)),"bucketHostname"),WY=qe(({accelerateEndpoint:e=!1,clientRegion:r,baseHostname:t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,pathStyleEndpoint:a=!1,tlsCompatible:c=!0,isCustomEndpoint:l=!1})=>{let[d,f]=l?[r,t]:UY(t);return a||!zY(n)||c&&LF.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${d}.${f}`:t}:(e?t=`s3-accelerate${s?".dualstack":""}.${f}`:s&&(t=`s3.dualstack.${d}.${f}`),{bucketEndpoint:!0,hostname:`${n}.${t}`})},"getEndpointFromBucketName"),XY=qe(e=>{let{isCustomEndpoint:r,baseHostname:t,clientRegion:n}=e,s=r?t:UF(t)[1],{pathStyleEndpoint:o,accelerateEndpoint:a=!1,fipsEndpoint:c=!1,tlsCompatible:l=!0,bucketName:d,clientPartition:f="aws"}=e;qY({pathStyleEndpoint:o,accelerateEndpoint:a,tlsCompatible:l});let{service:g,partition:y,accountId:h,region:_,resource:v}=d;HY(g),HF(y,{clientPartition:f}),jF(h);let{accesspointName:I,outpostId:N}=$F(v);return g==="s3-object-lambda"?YY({...e,tlsCompatible:l,bucketName:d,accesspointName:I,hostnameSuffix:s}):_===""?JY({...e,clientRegion:n,mrapAlias:I,hostnameSuffix:s}):N?QY({...e,clientRegion:n,outpostId:N,accesspointName:I,hostnameSuffix:s}):ZY({...e,clientRegion:n,accesspointName:I,hostnameSuffix:s})},"getEndpointFromArn"),YY=qe(({dualstackEndpoint:e=!1,fipsEndpoint:r=!1,tlsCompatible:t=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:o=s,accesspointName:a,bucketName:c,hostnameSuffix:l})=>{let{accountId:d,region:f,service:g}=c;Vw(s);let y=`${a}-${d}`;Tc(y,{tlsCompatible:t});let h=n?f:s,_=n?f:o;return{bucketEndpoint:!0,hostname:`${y}.${g}${r?"-fips":""}.${h}.${l}`,signingRegion:_,signingService:g}},"getEndpointFromObjectLambdaArn"),JY=qe(({disableMultiregionAccessPoints:e,dualstackEndpoint:r=!1,isCustomEndpoint:t,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return KY(n),{bucketEndpoint:!0,hostname:`${n}${t?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},"getEndpointFromMRAPArn"),QY=qe(({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,outpostId:s,dualstackEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,accesspointName:l,isCustomEndpoint:d,hostnameSuffix:f})=>{Vw(r);let g=`${l}-${n.accountId}`;Tc(g,{tlsCompatible:c});let y=e?n.region:r,h=e?n.region:t;return qF(n.service),Tc(s,{tlsCompatible:c}),VF(a),{bucketEndpoint:!0,hostname:`${`${g}.${s}`}${d?"":`.s3-outposts.${y}`}.${f}`,signingRegion:h,signingService:"s3-outposts"}},"getEndpointFromOutpostArn"),ZY=qe(({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:d})=>{Vw(r);let f=`${c}-${n.accountId}`;Tc(f,{tlsCompatible:a});let g=e?n.region:r,y=e?n.region:t;return jY(n.service),{bucketEndpoint:!0,hostname:`${f}${l?"":`.s3-accesspoint${o?"-fips":""}${s?".dualstack":""}.${g}`}.${d}`,signingRegion:y}},"getEndpointFromAccessPointArn"),GF=qe(e=>(r,t)=>async n=>{let{Bucket:s}=n.input,o=e.bucketEndpoint,a=n.request;if(NY.HttpRequest.isInstance(a)){if(e.bucketEndpoint)a.hostname=s;else if((0,kF.validate)(s)){let c=(0,kF.parse)(s),l=await e.region(),d=await e.useDualstackEndpoint(),f=await e.useFipsEndpoint(),{partition:g,signingRegion:y=l}=await e.regionInfoProvider(l,{useDualstackEndpoint:d,useFipsEndpoint:f})||{},h=await e.useArnRegion(),{hostname:_,bucketEndpoint:v,signingRegion:I,signingService:N}=$w({bucketName:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:d,fipsEndpoint:f,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",useArnRegion:h,clientPartition:g,clientSigningRegion:y,clientRegion:l,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});I&&I!==y&&(t.signing_region=I),N&&N!=="s3"&&(t.signing_service=N),a.hostname=_,o=v}else{let c=await e.region(),l=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{hostname:f,bucketEndpoint:g}=$w({bucketName:s,clientRegion:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});a.hostname=f,o=g}o&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),a.path===""&&(a.path="/"))}return r({...n,request:a})},"bucketEndpointMiddleware"),KF={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},eJ=qe(e=>({applyToStack:qe(r=>{r.addRelativeTo(GF(e),KF)},"applyToStack")}),"getBucketEndpointPlugin");function WF(e){let{bucketEndpoint:r=!1,forcePathStyle:t=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:o=!1}=e;return Object.assign(e,{bucketEndpoint:r,forcePathStyle:t,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof o=="function"?o:()=>Promise.resolve(o)})}qe(WF,"resolveBucketEndpointConfig")});var tz=B(Fo=>{"use strict";var ZF=yf(),Ri=lm(),Rc=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&JF(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&JF(r),parseInt(Ri.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function JF(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var hh=class{toUtf8;fromUtf8;constructor(r,t){this.toUtf8=r,this.fromUtf8=t}format(r){let t=[];for(let o of Object.keys(r)){let a=this.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(r.value,3),a;case"string":let c=this.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Rc.fromNumber(r.value.valueOf()).bytes,1),f;case"uuid":if(!lJ.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(Ri.fromHex(r.value.replace(/\-/g,"")),1),g}}parse(r){let t={},n=0;for(;n<r.byteLength;){let s=r.getUint8(n++),o=this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,s));switch(n+=s,r.getUint8(n++)){case 0:t[o]={type:QF,value:!0};break;case 1:t[o]={type:QF,value:!1};break;case 2:t[o]={type:tJ,value:r.getInt8(n++)};break;case 3:t[o]={type:rJ,value:r.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:nJ,value:r.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:sJ,value:new Rc(new Uint8Array(r.buffer,r.byteOffset+n,8))},n+=8;break;case 6:let a=r.getUint16(n,!1);n+=2,t[o]={type:oJ,value:new Uint8Array(r.buffer,r.byteOffset+n,a)},n+=a;break;case 7:let c=r.getUint16(n,!1);n+=2,t[o]={type:iJ,value:this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,c))},n+=c;break;case 8:t[o]={type:aJ,value:new Date(new Rc(new Uint8Array(r.buffer,r.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let l=new Uint8Array(r.buffer,r.byteOffset+n,16);n+=16,t[o]={type:cJ,value:`${Ri.toHex(l.subarray(0,4))}-${Ri.toHex(l.subarray(4,6))}-${Ri.toHex(l.subarray(6,8))}-${Ri.toHex(l.subarray(8,10))}-${Ri.toHex(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},QF="boolean",tJ="byte",rJ="short",nJ="integer",sJ="long",oJ="binary",iJ="string",aJ="timestamp",cJ="uuid",lJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,ez=4,Lo=ez*2,Ii=4,dJ=Lo+Ii*2;function uJ({byteLength:e,byteOffset:r,buffer:t}){if(e<dJ)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(t,r,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(ez,!1),a=n.getUint32(Lo,!1),c=n.getUint32(e-Ii,!1),l=new ZF.Crc32().update(new Uint8Array(t,r,Lo));if(a!==l.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(t,r+Lo,e-(Lo+Ii))),c!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(t,r+Lo+Ii,o),body:new Uint8Array(t,r+Lo+Ii+o,s-o-(Lo+Ii+Ii))}}var Gw=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(r,t){this.headerMarshaller=new hh(r,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(r){this.messageBuffer.push(this.decode(r))}endOfStream(){this.isEndOfStream=!0}getMessage(){let r=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return r},isEndOfStream(){return t}}}getAvailableMessages(){let r=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return r},isEndOfStream(){return t}}}encode({headers:r,body:t}){let n=this.headerMarshaller.format(r),s=n.byteLength+t.byteLength+16,o=new Uint8Array(s),a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=new ZF.Crc32;return a.setUint32(0,s,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,c.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(t,n.byteLength+12),a.setUint32(s-4,c.update(o.subarray(8,s-4)).digest(),!1),o}decode(r){let{headers:t,body:n}=uJ(r);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(r){return this.headerMarshaller.format(r)}},Kw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.decoder.decode(r)}},Ww=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream)yield this.options.encoder.encode(r);this.options.includeEndFrame&&(yield new Uint8Array(0))}},Xw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream){let t=await this.options.deserializer(r);t!==void 0&&(yield t)}}},Yw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.serializer(r)}};Fo.EventStreamCodec=Gw;Fo.HeaderMarshaller=hh;Fo.Int64=Rc;Fo.MessageDecoderStream=Kw;Fo.MessageEncoderStream=Ww;Fo.SmithyMessageDecoderStream=Xw;Fo.SmithyMessageEncoderStream=Yw});var rz=B(Jw=>{"use strict";var Eu=tz();function mJ(e){let r=0,t=0,n=null,s=null,o=c=>{if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,t=4,n=new Uint8Array(c),new DataView(n.buffer).setUint32(0,c,!1)},a=async function*(){let c=e[Symbol.asyncIterator]();for(;;){let{value:l,done:d}=await c.next();if(d){if(r)if(r===t)yield n;else throw new Error("Truncated event message received.");else return;return}let f=l.length,g=0;for(;g<f;){if(!n){let h=f-g;s||(s=new Uint8Array(4));let _=Math.min(4-t,h);if(s.set(l.slice(g,g+_),t),t+=_,g+=_,t<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let y=Math.min(r-t,f-g);n.set(l.slice(g,g+y),t),t+=y,g+=y,r&&r===t&&(yield n,n=null,r=0,t=0)}}};return{[Symbol.asyncIterator]:a}}function fJ(e,r){return async function(t){let{value:n}=t.headers[":message-type"];if(n==="error"){let s=new Error(t.headers[":error-message"].value||"UnknownError");throw s.name=t.headers[":error-code"].value,s}else if(n==="exception"){let s=t.headers[":exception-type"].value,o={[s]:t},a=await e(o);if(a.$unknown){let c=new Error(r(t.body));throw c.name=s,c}throw a[s]}else if(n==="event"){let s={[t.headers[":event-type"].value]:t},o=await e(s);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}var ph=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:r,utf8Decoder:t}){this.eventStreamCodec=new Eu.EventStreamCodec(r,t),this.utfEncoder=r}deserialize(r,t){let n=mJ(r);return new Eu.SmithyMessageDecoderStream({messageStream:new Eu.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:fJ(t,this.utfEncoder)})}serialize(r,t){return new Eu.MessageEncoderStream({messageStream:new Eu.SmithyMessageEncoderStream({inputStream:r,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},gJ=e=>new ph(e);Jw.EventStreamMarshaller=ph;Jw.eventStreamSerdeProvider=gJ});var nz=B(Qw=>{"use strict";var hJ=rz(),pJ=require("stream");async function*yJ(e){let r=!1,t=!1,n=new Array;for(e.on("error",s=>{if(r||(r=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{r=!0});!t;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),t=r&&n.length===0}}var yh=class{universalMarshaller;constructor({utf8Encoder:r,utf8Decoder:t}){this.universalMarshaller=new hJ.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:r})}deserialize(r,t){let n=typeof r[Symbol.asyncIterator]=="function"?r:yJ(r);return this.universalMarshaller.deserialize(n,t)}serialize(r,t){return pJ.Readable.from(this.universalMarshaller.serialize(r,t))}},SJ=e=>new yh(e);Qw.EventStreamMarshaller=yh;Qw.eventStreamSerdeProvider=SJ});var sz=B(Zw=>{"use strict";var EJ=require("fs"),bJ=Kt(),_J=require("stream"),Sh=class extends _J.Writable{hash;constructor(r,t){super(t),this.hash=r}_write(r,t,n){try{this.hash.update(bJ.toUint8Array(r))}catch(s){return n(s)}n()}},CJ=(e,r)=>new Promise((t,n)=>{if(!xJ(r)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=EJ.createReadStream(r.path,{start:r.start,end:r.end}),o=new e,a=new Sh(o);s.pipe(a),s.on("error",c=>{a.end(),n(c)}),a.on("error",n),a.on("finish",function(){o.digest().then(t).catch(n)})}),xJ=e=>typeof e.path=="string",wJ=(e,r)=>{if(r.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let t=new e,n=new Sh(t);return r.pipe(n),new Promise((s,o)=>{r.on("error",a=>{n.end(),o(a)}),n.on("error",o),n.on("finish",()=>{t.digest().then(s).catch(o)})})};Zw.fileStreamHasher=CJ;Zw.readableStreamHasher=wJ});var lz=B(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.getRuntimeConfig=void 0;var oz=($t(),Re(gn)),AJ=qC(),PJ=Ie(),vJ=po(),iz=fr(),az=ei(),cz=Kt(),TJ=bx(),RJ=Ex(),IJ=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??iz.fromBase64,base64Encoder:e?.base64Encoder??iz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??RJ.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??az.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??TJ.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new oz.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4a"),signer:new oz.AwsSdkSigV4ASigner}],logger:e?.logger??new PJ.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??az.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??AJ.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??vJ.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??cz.fromUtf8,utf8Encoder:e?.utf8Encoder??cz.toUtf8});Eh.getRuntimeConfig=IJ});var gz=B(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.getRuntimeConfig=void 0;var kJ=(Yn(),Re(Xn)),OJ=kJ.__importDefault(KD()),e0=($t(),Re(gn)),NJ=IF(),BJ=YF(),dz=tC(),DJ=Nf(),uz=Bd(),bh=ts(),MJ=nz(),t0=Dd(),LJ=sz(),mz=Ds(),wn=bo(),fz=Zo(),FJ=Md(),zJ=rc(),UJ=lz(),qJ=Ie(),HJ=Fd(),jJ=Ie(),$J=e=>{(0,jJ.emitWarningIfUnsupportedVersion)(process.version);let r=(0,HJ.resolveDefaultsModeConfig)(e),t=()=>r().then(qJ.loadConfigsForDefaultMode),n=(0,UJ.getRuntimeConfig)(e);(0,e0.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,wn.loadConfig)(e0.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??FJ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??NJ.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,uz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:OJ.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,wn.loadConfig)(DJ.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??MJ.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,wn.loadConfig)(mz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??t0.Hash.bind(null,"md5"),region:e?.region??(0,wn.loadConfig)(bh.NODE_REGION_CONFIG_OPTIONS,{...bh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,wn.loadConfig)(dz.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:fz.NodeHttpHandler.create(e?.requestHandler??t),responseChecksumValidation:e?.responseChecksumValidation??(0,wn.loadConfig)(dz.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,wn.loadConfig)({...mz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||zJ.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??t0.Hash.bind(null,"sha1"),sha256:e?.sha256??t0.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,wn.loadConfig)(e0.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??fz.streamCollector,streamHasher:e?.streamHasher??LJ.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,wn.loadConfig)(BJ.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,wn.loadConfig)(bh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,wn.loadConfig)(bh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,wn.loadConfig)(uz.NODE_APP_ID_CONFIG_OPTIONS,s)}};_h.getRuntimeConfig=$J});var Sz=B((fwe,yz)=>{"use strict";var xh=Object.defineProperty,VJ=Object.getOwnPropertyDescriptor,GJ=Object.getOwnPropertyNames,KJ=Object.prototype.hasOwnProperty,Ch=(e,r)=>xh(e,"name",{value:r,configurable:!0}),WJ=(e,r)=>{for(var t in r)xh(e,t,{get:r[t],enumerable:!0})},XJ=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of GJ(r))!KJ.call(e,s)&&s!==t&&xh(e,s,{get:()=>r[s],enumerable:!(n=VJ(r,s))||n.enumerable});return e},YJ=e=>XJ(xh({},"__esModule",{value:!0}),e),hz={};WJ(hz,{getSsecPlugin:()=>JJ,isValidBase64EncodedSSECustomerKey:()=>n0,ssecMiddleware:()=>r0,ssecMiddlewareOptions:()=>pz});yz.exports=YJ(hz);function r0(e){return r=>async t=>{let n={...t.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let a=n[o.target];if(a){let c;typeof a=="string"?n0(a,e)?c=e.base64Decoder(a):(c=e.utf8Decoder(a),n[o.target]=e.base64Encoder(c)):(c=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a),n[o.target]=e.base64Encoder(c));let l=new e.md5;l.update(c),n[o.hash]=e.base64Encoder(await l.digest())}}return r({...t,input:n})}}Ch(r0,"ssecMiddleware");var pz={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},JJ=Ch(e=>({applyToStack:Ch(r=>{r.add(r0(e),pz)},"applyToStack")}),"getSsecPlugin");function n0(e,r){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return r.base64Decoder(e).length===32}catch{return!1}}Ch(n0,"isValidBase64EncodedSSECustomerKey")});var Cz=B((gwe,_z)=>{"use strict";var wh=Object.defineProperty,QJ=Object.getOwnPropertyDescriptor,ZJ=Object.getOwnPropertyNames,eQ=Object.prototype.hasOwnProperty,s0=(e,r)=>wh(e,"name",{value:r,configurable:!0}),tQ=(e,r)=>{for(var t in r)wh(e,t,{get:r[t],enumerable:!0})},rQ=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of ZJ(r))!eQ.call(e,s)&&s!==t&&wh(e,s,{get:()=>r[s],enumerable:!(n=QJ(r,s))||n.enumerable});return e},nQ=e=>rQ(wh({},"__esModule",{value:!0}),e),Ez={};tQ(Ez,{getLocationConstraintPlugin:()=>sQ,locationConstraintMiddleware:()=>o0,locationConstraintMiddlewareOptions:()=>bz});_z.exports=nQ(Ez);function o0(e){return r=>async t=>{let{CreateBucketConfiguration:n}=t.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&(t={...t,input:{...t.input,CreateBucketConfiguration:s==="us-east-1"?void 0:{LocationConstraint:s}}}),r(t)}}s0(o0,"locationConstraintMiddleware");var bz={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},sQ=s0(e=>({applyToStack:s0(r=>{r.add(o0(e),bz)},"applyToStack")}),"getLocationConstraintPlugin")});var Pz=B(zr=>{"use strict";var oQ=e=>new Promise(r=>setTimeout(r,e*1e3)),Az={minDelay:2,maxDelay:120};zr.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(zr.WaiterState||(zr.WaiterState={}));var iQ=e=>{if(e.state===zr.WaiterState.ABORTED){let r=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw r.name="AbortError",r}else if(e.state===zr.WaiterState.TIMEOUT){let r=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw r.name="TimeoutError",r}else if(e.state!==zr.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},aQ=(e,r,t,n)=>{if(n>t)return r;let s=e*2**(n-1);return cQ(e,s)},cQ=(e,r)=>e+Math.random()*(r-e),lQ=async({minDelay:e,maxDelay:r,maxWaitTime:t,abortController:n,client:s,abortSignal:o},a,c)=>{let l={},{state:d,reason:f}=await c(s,a);if(f){let _=xz(f);l[_]|=0,l[_]+=1}if(d!==zr.WaiterState.RETRY)return{state:d,reason:f,observedResponses:l};let g=1,y=Date.now()+t*1e3,h=Math.log(r/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let N="AbortController signal aborted.";return l[N]|=0,l[N]+=1,{state:zr.WaiterState.ABORTED,observedResponses:l}}let _=aQ(e,r,h,g);if(Date.now()+_*1e3>y)return{state:zr.WaiterState.TIMEOUT,observedResponses:l};await oQ(_);let{state:v,reason:I}=await c(s,a);if(I){let N=xz(I);l[N]|=0,l[N]+=1}if(v!==zr.WaiterState.RETRY)return{state:v,reason:I,observedResponses:l};g+=1}},xz=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),dQ=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},wz=e=>{let r,t=new Promise(n=>{r=()=>n({state:zr.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",r):e.onabort=r});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",r)},aborted:t}},uQ=async(e,r,t)=>{let n={...Az,...e};dQ(n);let s=[lQ(n,r,t)],o=[];if(e.abortSignal){let{aborted:a,clearListener:c}=wz(e.abortSignal);o.push(c),s.push(a)}if(e.abortController?.signal){let{aborted:a,clearListener:c}=wz(e.abortController.signal);o.push(c),s.push(a)}return Promise.race(s).then(a=>{for(let c of o)c();return a})};zr.checkExceptions=iQ;zr.createWaiter=uQ;zr.waiterServiceDefaults=Az});var O2=B(S=>{"use strict";var mQ=yP(),Qe=tC(),vz=hd(),fQ=pd(),gQ=yd(),ee=Nf(),Tz=tc(),hQ=ts(),z=(Dr(),Re(ci)),pQ=CN(),yQ=bd(),q=Bs(),Rz=Ds(),i=Ie(),Iz=bx(),H=eo(),ge=($t(),Re(gn)),E=dd(),z0=Ke(),SQ=Pm(),EQ=gz(),kz=zd(),jn=Sz(),bQ=Cz(),Dt=Pz(),_Q=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),j={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},lr=class e extends i.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},CQ={requester:"requester"},xQ={requester:"requester"},mp=class e extends lr{name="NoSuchUpload";$fault="client";constructor(r){super({name:"NoSuchUpload",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},wQ={Enabled:"Enabled",Suspended:"Suspended"},AQ={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},PQ={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},vQ={Destination:"Destination"},TQ={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},RQ={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},IQ={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},kQ={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},OQ={COPY:"COPY",REPLACE:"REPLACE"},NQ={OFF:"OFF",ON:"ON"},BQ={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},DQ={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},MQ={COPY:"COPY",REPLACE:"REPLACE"},fp=class e extends lr{name="ObjectNotInActiveTierError";$fault="client";constructor(r){super({name:"ObjectNotInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},gp=class e extends lr{name="BucketAlreadyExists";$fault="client";constructor(r){super({name:"BucketAlreadyExists",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},hp=class e extends lr{name="BucketAlreadyOwnedByYou";$fault="client";constructor(r){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},LQ={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},FQ={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},zQ={Directory:"Directory"},UQ={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},qQ={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},HQ={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},jQ={DISABLED:"DISABLED",ENABLED:"ENABLED"},$Q={AES256:"AES256",aws_kms:"aws:kms"},VQ={DISABLED:"DISABLED",ENABLED:"ENABLED"},GQ={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},pp=class e extends lr{name="NoSuchBucket";$fault="client";constructor(r){super({name:"NoSuchBucket",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}};S.AnalyticsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(S.AnalyticsFilter||(S.AnalyticsFilter={}));var KQ={CSV:"CSV"},WQ={V_1:"V_1"},XQ={Disabled:"Disabled",Enabled:"Enabled"},YQ={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},JQ={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},QQ={All:"All",Current:"Current"},ZQ={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},eZ={Daily:"Daily",Weekly:"Weekly"},tZ={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},rZ={Disabled:"Disabled",Enabled:"Enabled"},nZ={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},sZ={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},oZ={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},iZ={aws:"aws",customer:"customer"};S.MetricsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.AccessPointArn!==void 0?t.AccessPointArn(r.AccessPointArn):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(S.MetricsFilter||(S.MetricsFilter={}));var aZ={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},cZ={prefix:"prefix",suffix:"suffix"},lZ={Disabled:"Disabled",Enabled:"Enabled"},dZ={Disabled:"Disabled",Enabled:"Enabled"},uZ={Disabled:"Disabled",Enabled:"Enabled"},mZ={Disabled:"Disabled",Enabled:"Enabled"},fZ={Disabled:"Disabled",Enabled:"Enabled"},gZ={Disabled:"Disabled",Enabled:"Enabled"},hZ={Disabled:"Disabled",Enabled:"Enabled"},pZ={BucketOwner:"BucketOwner",Requester:"Requester"},yZ={Disabled:"Disabled",Enabled:"Enabled"},SZ={Enabled:"Enabled",Suspended:"Suspended"},EZ={http:"http",https:"https"},bZ={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},_Z={ENABLED:"ENABLED"},yp=class e extends lr{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(r){super({name:"InvalidObjectState",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=r.StorageClass,this.AccessTier=r.AccessTier}},Sp=class e extends lr{name="NoSuchKey";$fault="client";constructor(r){super({name:"NoSuchKey",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},CZ={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},xZ={Enabled:"Enabled"},wZ={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},Ep=class e extends lr{name="NotFound";$fault="client";constructor(r){super({name:"NotFound",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},AZ={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},PZ={url:"url"},iU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),aU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),cU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),lU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),dU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),uU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),mU=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:i.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:i.SENSITIVE_STRING}}),fU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.Credentials&&{Credentials:mU(e.Credentials)}}),gU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),hU=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:i.SENSITIVE_STRING}}),pU=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:hU(e.ApplyServerSideEncryptionByDefault)}}),_A=e=>({...e,...e.Rules&&{Rules:e.Rules.map(r=>pU(r))}}),yU=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:_A(e.ServerSideEncryptionConfiguration)}}),SU=e=>({...e,...e.KeyId&&{KeyId:i.SENSITIVE_STRING}}),EU=e=>({...e,...e.SSEKMS&&{SSEKMS:SU(e.SSEKMS)}}),bU=e=>({...e,...e.Encryption&&{Encryption:EU(e.Encryption)}}),_U=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:bU(e.S3BucketDestination)}}),IS=e=>({...e,...e.Destination&&{Destination:_U(e.Destination)}}),CU=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:IS(e.InventoryConfiguration)}}),xU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),wU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),AU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),PU=e=>({...e}),vU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),TU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),RU=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(r=>IS(r))}}),vZ={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},TZ={RESTORE_STATUS:"RestoreStatus"},RZ={STANDARD:"STANDARD"},IZ={Disabled:"Disabled",Enabled:"Enabled"},bp=class e extends lr{name="EncryptionTypeMismatch";$fault="client";constructor(r){super({name:"EncryptionTypeMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},_p=class e extends lr{name="InvalidRequest";$fault="client";constructor(r){super({name:"InvalidRequest",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Cp=class e extends lr{name="InvalidWriteOffset";$fault="client";constructor(r){super({name:"InvalidWriteOffset",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},xp=class e extends lr{name="TooManyParts";$fault="client";constructor(r){super({name:"TooManyParts",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},wp=class e extends lr{name="IdempotencyParameterMismatch";$fault="client";constructor(r){super({name:"IdempotencyParameterMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Ap=class e extends lr{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(r){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},kZ={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},OZ={SQL:"SQL"},NZ={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},BZ={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},DZ={DOCUMENT:"DOCUMENT",LINES:"LINES"},MZ={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},LZ={SELECT:"SELECT"};S.SelectObjectContentEventStream=void 0;(function(e){e.visit=(r,t)=>r.Records!==void 0?t.Records(r.Records):r.Stats!==void 0?t.Stats(r.Stats):r.Progress!==void 0?t.Progress(r.Progress):r.Cont!==void 0?t.Cont(r.Cont):r.End!==void 0?t.End(r.End):t._(r.$unknown[0],r.$unknown[1])})(S.SelectObjectContentEventStream||(S.SelectObjectContentEventStream={}));var IU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),kU=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:_A(e.ServerSideEncryptionConfiguration)}}),OU=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:IS(e.InventoryConfiguration)}}),NU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),BU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),DU=e=>({...e,...e.KMSKeyId&&{KMSKeyId:i.SENSITIVE_STRING}}),MU=e=>({...e,...e.Encryption&&{Encryption:DU(e.Encryption)}}),LU=e=>({...e,...e.S3&&{S3:MU(e.S3)}}),FU=e=>({...e,...e.OutputLocation&&{OutputLocation:LU(e.OutputLocation)}}),zU=e=>({...e,...e.RestoreRequest&&{RestoreRequest:FU(e.RestoreRequest)}}),FZ=e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},UU=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),qU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),HU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),jU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),$U=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),VU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),GU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),zZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[zme]:[()=>i.isSerializableHeaderValue(e[Uz]),()=>i.dateToUtcString(e[Uz]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"AbortMultipartUpload"],[zu]:[,i.expectNonNull(e[Qr],"UploadId")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},UZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ea]:e[ct],[ba]:e[lt],[_a]:e[dt],[Ca]:e[ut],[xa]:e[mt],[Nl]:e[ft],[jme]:[()=>i.isSerializableHeaderValue(e[Vz]),()=>e[Vz].toString()],[et]:e[Ze],[K]:e[G],[Il]:e[Iu],[Lu]:e[NS],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[zu]:[,i.expectNonNull(e[Qr],"UploadId")]}),o,a;return e.MultipartUpload!==void 0&&(a=mse(e.MultipartUpload),a=a.n("CompleteMultipartUpload"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},qZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[Ol]:e[El],[Ou]:e[bl],[ZA]:e[_e],[Nu]:e[_l],[Bu]:e[Cl],[Du]:e[xl],[Mu]:e[wl],[p2]:e[hq],[y2]:e[pq],[S2]:[()=>i.isSerializableHeaderValue(e[Pp]),()=>i.dateToUtcString(e[Pp]).toString()],[E2]:e[yq],[b2]:[()=>i.isSerializableHeaderValue(e[vp]),()=>i.dateToUtcString(e[vp]).toString()],[fa]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.dateToUtcString(e[hs]).toString()],[Bl]:e[Al],[Dl]:e[Pl],[Ml]:e[vl],[Ll]:e[Tl],[Hme]:e[pde],[nfe]:e[yue],[cn]:e[kr],[ju]:e[Ae],[$u]:e[ku],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[ln]:e[Sr],[Xo]:e[Wo],[Mt]:[()=>i.isSerializableHeaderValue(e[yt]),()=>e[yt].toString()],[_2]:e[Sq],[C2]:e[Eq],[x2]:e[bq],[et]:e[Ze],[nP]:e[la],[Hu]:e[Rl],[ga]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.serializeDateTime(e[ps]).toString()],[qu]:e[ya],[K]:e[G],[v2]:e[xq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"CopyObject"]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},HZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ol]:e[El],[Bl]:e[Al],[Dl]:e[Pl],[Ml]:e[vl],[eP]:e[kA],[Ll]:e[Tl],[Jue]:[()=>i.isSerializableHeaderValue(e[Kz]),()=>e[Kz].toString()],[Gme]:e[Cu]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,o;return e.CreateBucketConfiguration!==void 0&&(o=Ese(e.CreateBucketConfiguration),s=Ge,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),t.m("PUT").h(n).b(s),t.build()},jZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[$A]:[,""]}),o,a;return e.MetadataConfiguration!==void 0&&(a=coe(e.MetadataConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},$Z=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[VA]:[,""]}),o,a;return e.MetadataTableConfiguration!==void 0&&(a=doe(e.MetadataTableConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},VZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[Ol]:e[El],[Ou]:e[bl],[Nu]:e[_l],[Bu]:e[Cl],[Du]:e[xl],[Mu]:e[wl],[fa]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.dateToUtcString(e[hs]).toString()],[Bl]:e[Al],[Dl]:e[Pl],[Ml]:e[vl],[Ll]:e[Tl],[cn]:e[kr],[ju]:e[Ae],[$u]:e[ku],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[ln]:e[Sr],[Xo]:e[Wo],[Mt]:[()=>i.isSerializableHeaderValue(e[yt]),()=>e[yt].toString()],[et]:e[Ze],[nP]:e[la],[Hu]:e[Rl],[ga]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.serializeDateTime(e[ps]).toString()],[qu]:e[ya],[K]:e[G],[ZA]:e[_e],[Nl]:e[ft]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[d2]:[,""]});return t.m("POST").h(n).q(s).b(void 0),t.build()},GZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[eme]:e[due],[cn]:e[kr],[ln]:e[Sr],[Xo]:e[Wo],[Mt]:[()=>i.isSerializableHeaderValue(e[yt]),()=>e[yt].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Uue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},KZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(n).b(void 0),t.build()},WZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},XZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},YZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[UA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},JZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},QZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},ZZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[jA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},eee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[$A]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},tee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[VA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},ree=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[qS]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},nee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[KA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},see=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[WA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},oee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[YA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},iee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kl]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},aee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[JA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},cee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tP]:e[OA],[et]:e[Ze],[QA]:[()=>i.isSerializableHeaderValue(e[ul]),()=>e[ul].toString()],[K]:e[G],[Il]:e[Iu],[Ume]:[()=>i.isSerializableHeaderValue(e[qz]),()=>i.dateToUtcString(e[qz]).toString()],[qme]:[()=>i.isSerializableHeaderValue(e[Hz]),()=>e[Hz].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"DeleteObject"],[Zr]:[,e[Te]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},lee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[tP]:e[OA],[et]:e[Ze],[QA]:[()=>i.isSerializableHeaderValue(e[ul]),()=>e[ul].toString()],[K]:e[G],[gt]:e[_e]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Pue]:[,""]}),o,a;return e.Delete!==void 0&&(a=xse(e.Delete),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},dee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[kl]:[,""],[Zr]:[,e[Te]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},uee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[XA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},mee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Vq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},fee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DS]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},gee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[mr]:[,"GetBucketAnalyticsConfiguration"],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},hee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},pee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[UA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},yee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[mr]:[,"GetBucketIntelligentTieringConfiguration"],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},See=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[mr]:[,"GetBucketInventoryConfiguration"],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Eee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[jA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},bee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Jq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},_ee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Qq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Cee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[$A]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},xee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[VA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},wee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[qS]:[,""],[mr]:[,"GetBucketMetricsConfiguration"],[Dn]:[,i.expectNonNull(e[fe],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Aee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Zq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Pee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[KA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},vee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[WA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Tee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Mue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Ree=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[YA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Iee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[t2]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},kee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kl]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Oee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[u2]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Nee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[JA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Bee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Il]:e[Iu],[qA]:[()=>i.isSerializableHeaderValue(e[Tp]),()=>i.dateToUtcString(e[Tp]).toString()],[Lu]:e[NS],[HA]:[()=>i.isSerializableHeaderValue(e[Rp]),()=>i.dateToUtcString(e[Rp]).toString()],[r2]:e[Bq],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[et]:e[Ze],[K]:e[G],[h2]:e[gq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"GetObject"],[n2]:[,e[Dq]],[s2]:[,e[Mq]],[o2]:[,e[Lq]],[i2]:[,e[Fq]],[a2]:[,e[zq]],[c2]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[Uq]).toString()],[Zr]:[,e[Te]],[HS]:[()=>e.PartNumber!==void 0,()=>e[Xr].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Dee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[DS]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Mee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[$me]:[()=>i.isSerializableHeaderValue(e[$s]),()=>e[$s].toString()],[Kme]:e[Ho],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[et]:e[Ze],[K]:e[G],[Vme]:[()=>i.isSerializableHeaderValue(e[Gz]),()=>(e[Gz]||[]).map(i.quoteHeader).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[wue]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Lee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Yq]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Fee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[e2]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},zee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[l2]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Uee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[kl]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},qee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[$ue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Hee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[XA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},jee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(n).b(void 0),t.build()},$ee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Il]:e[Iu],[qA]:[()=>i.isSerializableHeaderValue(e[Tp]),()=>i.dateToUtcString(e[Tp]).toString()],[Lu]:e[NS],[HA]:[()=>i.isSerializableHeaderValue(e[Rp]),()=>i.dateToUtcString(e[Rp]).toString()],[r2]:e[Bq],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[et]:e[Ze],[K]:e[G],[h2]:e[gq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[n2]:[,e[Dq]],[s2]:[,e[Mq]],[o2]:[,e[Lq]],[i2]:[,e[Fq]],[a2]:[,e[zq]],[c2]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[Uq]).toString()],[Zr]:[,e[Te]],[HS]:[()=>e.PartNumber!==void 0,()=>e[Xr].toString()]});return t.m("HEAD").h(n).q(s).b(void 0),t.build()},Vee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[mr]:[,"ListBucketAnalyticsConfigurations"],[Sa]:[,e[nt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Gee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[mr]:[,"ListBucketIntelligentTieringConfigurations"],[Sa]:[,e[nt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Kee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[mr]:[,"ListBucketInventoryConfigurations"],[Sa]:[,e[nt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Wee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[qS]:[,""],[mr]:[,"ListBucketMetricsConfigurations"],[Sa]:[,e[nt]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Xee=async(e,r)=>{let t=z.requestBuilder(e,r),n={};t.bp("/");let s=i.map({[mr]:[,"ListBuckets"],[Oue]:[()=>e.MaxBuckets!==void 0,()=>e[gde].toString()],[Sa]:[,e[nt]],[Fu]:[,e[X]],[Aue]:[,e[_u]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Yee=async(e,r)=>{let t=z.requestBuilder(e,r),n={};t.bp("/");let s=i.map({[mr]:[,"ListDirectoryBuckets"],[Sa]:[,e[nt]],[Nue]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[yde].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Jee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[d2]:[,""],[MS]:[,e[vr]],[LS]:[,e[Rr]],[Xq]:[,e[qo]],[Due]:[()=>e.MaxUploads!==void 0,()=>e[$h].toString()],[Fu]:[,e[X]],[Vue]:[,e[lp]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Qee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[rP]:[()=>i.isSerializableHeaderValue(e[ml]),()=>(e[ml]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MS]:[,e[vr]],[LS]:[,e[Rr]],[kue]:[,e[Hh]],[GA]:[()=>e.MaxKeys!==void 0,()=>e[Pn].toString()],[Fu]:[,e[X]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Zee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[rP]:[()=>i.isSerializableHeaderValue(e[ml]),()=>(e[ml]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Tue]:[,"2"],[MS]:[,e[vr]],[LS]:[,e[Rr]],[GA]:[()=>e.MaxKeys!==void 0,()=>e[Pn].toString()],[Fu]:[,e[X]],[Sa]:[,e[nt]],[vue]:[()=>e.FetchOwner!==void 0,()=>e[Ole].toString()],[que]:[,e[tp]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ete=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[et]:e[Ze],[rP]:[()=>i.isSerializableHeaderValue(e[ml]),()=>(e[ml]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Gue]:[,""],[MS]:[,e[vr]],[LS]:[,e[Rr]],[Xq]:[,e[qo]],[GA]:[()=>e.MaxKeys!==void 0,()=>e[Pn].toString()],[Fu]:[,e[X]],[Kue]:[,e[up]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},tte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[et]:e[Ze],[K]:e[G],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"ListParts"],[Bue]:[()=>e.MaxParts!==void 0,()=>e[$s].toString()],[Lue]:[,e[Ho]],[zu]:[,i.expectNonNull(e[Qr],"UploadId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},rte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[gt]:e[_e]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Vq]:[,""]}),o,a;return e.AccelerateConfiguration!==void 0&&(a=Zne(e.AccelerateConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},nte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ol]:e[El],[kt]:e[It],[gt]:e[_e],[Bl]:e[Al],[Dl]:e[Pl],[Ml]:e[vl],[eP]:e[kA],[Ll]:e[Tl],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DS]:[,""]}),o,a;return e.AccessControlPolicy!==void 0&&(a=KU(e.AccessControlPolicy),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ste=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]}),o,a;return e.AnalyticsConfiguration!==void 0&&(a=ose(e.AnalyticsConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ote=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zA]:[,""]}),o,a;return e.CORSConfiguration!==void 0&&(a=pse(e.CORSConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ite=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[UA]:[,""]}),o,a;return e.ServerSideEncryptionConfiguration!==void 0&&(a=tie(e.ServerSideEncryptionConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ate=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]}),o,a;return e.IntelligentTieringConfiguration!==void 0&&(a=Fse(e.IntelligentTieringConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},cte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]}),o,a;return e.InventoryConfiguration!==void 0&&(a=Use(e.InventoryConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},lte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[gt]:e[_e],[K]:e[G],[sP]:e[FA]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[jA]:[,""]}),o,a;return e.LifecycleConfiguration!==void 0&&(a=dse(e.LifecycleConfiguration),a=a.n("LifecycleConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},dte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Qq]:[,""]}),o,a;return e.BucketLoggingStatus!==void 0&&(a=use(e.BucketLoggingStatus),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ute=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[qS]:[,""],[Dn]:[,i.expectNonNull(e[fe],"Id")]}),o,a;return e.MetricsConfiguration!==void 0&&(a=foe(e.MetricsConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},mte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[rfe]:[()=>i.isSerializableHeaderValue(e[Xz]),()=>e[Xz].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Zq]:[,""]}),o,a;return e.NotificationConfiguration!==void 0&&(a=Soe(e.NotificationConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},fte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[K]:e[G],[gt]:e[_e]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[KA]:[,""]}),o,a;return e.OwnershipControls!==void 0&&(a=voe(e.OwnershipControls),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},gte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"text/plain",[kt]:e[It],[gt]:e[_e],[Zue]:[()=>i.isSerializableHeaderValue(e[Bz]),()=>e[Bz].toString()],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[WA]:[,""]}),o,a;return e.Policy!==void 0&&(a=e.Policy,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},hte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[g2]:e[jq],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[YA]:[,""]}),o,a;return e.ReplicationConfiguration!==void 0&&(a=Foe(e.ReplicationConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},pte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[t2]:[,""]}),o,a;return e.RequestPaymentConfiguration!==void 0&&(a=$oe(e.RequestPaymentConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},yte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kl]:[,""]}),o,a;return e.Tagging!==void 0&&(a=AA(e.Tagging),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ste=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[tP]:e[OA],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[u2]:[,""]}),o,a;return e.VersioningConfiguration!==void 0&&(a=_ie(e.VersioningConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ete=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[JA]:[,""]}),o,a;return e.WebsiteConfiguration!==void 0&&(a=Cie(e.WebsiteConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},bte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),[Mu]:e[wl]||"application/octet-stream",[Ol]:e[El],[Ou]:e[bl],[Nu]:e[_l],[Bu]:e[Cl],[Du]:e[xl],[ma]:[()=>i.isSerializableHeaderValue(e[$o]),()=>e[$o].toString()],[kt]:e[It],[gt]:e[_e],[Ea]:e[ct],[ba]:e[lt],[_a]:e[dt],[Ca]:e[ut],[xa]:e[mt],[fa]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.dateToUtcString(e[hs]).toString()],[Il]:e[Iu],[Lu]:e[NS],[Bl]:e[Al],[Dl]:e[Pl],[Ml]:e[vl],[Ll]:e[Tl],[sfe]:[()=>i.isSerializableHeaderValue(e[rU]),()=>e[rU].toString()],[cn]:e[kr],[ju]:e[Ae],[$u]:e[ku],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[ln]:e[Sr],[Xo]:e[Wo],[Mt]:[()=>i.isSerializableHeaderValue(e[yt]),()=>e[yt].toString()],[et]:e[Ze],[nP]:e[la],[Hu]:e[Rl],[ga]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.serializeDateTime(e[ps]).toString()],[qu]:e[ya],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"PutObject"]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},_te=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ol]:e[El],[kt]:e[It],[gt]:e[_e],[Bl]:e[Al],[Dl]:e[Pl],[Ml]:e[vl],[eP]:e[kA],[Ll]:e[Tl],[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[DS]:[,""],[Zr]:[,e[Te]]}),o,a;return e.AccessControlPolicy!==void 0&&(a=KU(e.AccessControlPolicy),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Cte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Yq]:[,""],[Zr]:[,e[Te]]}),o,a;return e.LegalHold!==void 0&&(a=Coe(e.LegalHold),a=a.n("LegalHold"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},xte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[g2]:e[jq],[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[e2]:[,""]}),o,a;return e.ObjectLockConfiguration!==void 0&&(a=_oe(e.ObjectLockConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},wte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[QA]:[()=>i.isSerializableHeaderValue(e[ul]),()=>e[ul].toString()],[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[l2]:[,""],[Zr]:[,e[Te]]}),o,a;return e.Retention!==void 0&&(a=xoe(e.Retention),a=a.n("Retention"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ate=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G],[et]:e[Ze]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[kl]:[,""],[Zr]:[,e[Te]]}),o,a;return e.Tagging!==void 0&&(a=AA(e.Tagging),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Pte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[XA]:[,""]}),o,a;return e.PublicAccessBlockConfiguration!==void 0&&(a=Ooe(e.PublicAccessBlockConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},vte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Yme]:e[Zde],[Il]:e[_le],[Lu]:e[Cle],[qA]:[()=>i.isSerializableHeaderValue(e[Dz]),()=>i.dateToUtcString(e[Dz]).toString()],[HA]:[()=>i.isSerializableHeaderValue(e[Mz]),()=>i.dateToUtcString(e[Mz]).toString()],[Jme]:e[oue],[Zme]:e[iue],[Qme]:[()=>i.isSerializableHeaderValue(e[Yz]),()=>i.dateToUtcString(e[Yz]).toString()],[efe]:[()=>i.isSerializableHeaderValue(e[Jz]),()=>i.dateToUtcString(e[Jz]).toString()],[rme]:e[Sle]??SQ.v4()});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Fue]:[,""]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},Tte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[et]:e[Ze],[gt]:e[_e],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[zue]:[,""],[Zr]:[,e[Te]]}),o,a;return e.RestoreRequest!==void 0&&(a=Goe(e.RestoreRequest),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},Rte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Hue]:[,""],[jue]:[,"2"]}),o;o=Ge;let a=new E.XmlNode(uue);return a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a.cc(e,Aq),a.cc(e,wq),e[Wi]!=null&&a.c(YU(e[Wi]).n(Wi)),e[Zi]!=null&&a.c(JU(e[Zi]).n(Zi)),e[Zh]!=null&&a.c(Voe(e[Zh]).n(Zh)),e[np]!=null&&a.c(Qoe(e[np]).n(np)),o+=a.toString(),t.m("POST").h(n).q(s).b(o),t.build()},Ite=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Rue]:[,""]}),o,a;return e.InventoryTableConfiguration!==void 0&&(a=Wse(e.InventoryTableConfiguration),a=a.n("InventoryTableConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},kte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[gt]:e[_e],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Iue]:[,""]}),o,a;return e.JournalTableConfiguration!==void 0&&(a=Yse(e.JournalTableConfiguration),a=a.n("JournalTableConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ote=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/octet-stream",[ma]:[()=>i.isSerializableHeaderValue(e[$o]),()=>e[$o].toString()],[kt]:e[It],[gt]:e[_e],[Ea]:e[ct],[ba]:e[lt],[_a]:e[dt],[Ca]:e[ut],[xa]:e[mt],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[et]:e[Ze],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"UploadPart"],[HS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Xr].toString()],[zu]:[,i.expectNonNull(e[Qr],"UploadId")]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},Nte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[p2]:e[hq],[y2]:e[pq],[S2]:[()=>i.isSerializableHeaderValue(e[Pp]),()=>i.dateToUtcString(e[Pp]).toString()],[E2]:e[yq],[b2]:[()=>i.isSerializableHeaderValue(e[vp]),()=>i.dateToUtcString(e[vp]).toString()],[tme]:e[hle],[dr]:e[Qt],[Vn]:e[$n],[ur]:e[Zt],[_2]:e[Sq],[C2]:e[Eq],[x2]:e[bq],[et]:e[Ze],[K]:e[G],[v2]:e[xq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"UploadPartCopy"],[HS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Xr].toString()],[zu]:[,i.expectNonNull(e[Qr],"UploadId")]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},Bte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),"content-type":"application/octet-stream",[Xme]:e[Gde],[tfe]:e[eue],[Fme]:[()=>i.isSerializableHeaderValue(e[Wz]),()=>e[Wz].toString()],[nme]:e[Nh],[sme]:e[Bh],[ome]:e[RA],[ime]:e[bl],[ame]:e[_l],[cme]:e[Cl],[lme]:e[xl],[ma]:[()=>i.isSerializableHeaderValue(e[$o]),()=>e[$o].toString()],[dme]:e[IA],[ume]:e[wl],[hme]:e[ct],[pme]:e[lt],[yme]:e[dt],[Sme]:e[ut],[Eme]:e[mt],[bme]:[()=>i.isSerializableHeaderValue(e[Un]),()=>e[Un].toString()],[mme]:e[st],[fme]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.dateToUtcString(e[hs]).toString()],[_me]:e[Ht],[gme]:[()=>i.isSerializableHeaderValue(e[Rt]),()=>i.dateToUtcString(e[Rt]).toString()],[Cme]:[()=>i.isSerializableHeaderValue(e[Ip]),()=>e[Ip].toString()],[Ame]:e[Rl],[wme]:e[ya],[Pme]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.serializeDateTime(e[ps]).toString()],[xme]:[()=>i.isSerializableHeaderValue(e[fl]),()=>e[fl].toString()],[Rme]:e[MA],[Tme]:e[Et],[vme]:e[LA],[kme]:e[kr],[Bme]:e[Qt],[Ome]:e[Sr],[Dme]:e[Zt],[Ime]:e[Ae],[Mme]:[()=>i.isSerializableHeaderValue(e[Dp]),()=>e[Dp].toString()],[Lme]:e[Te],[Nme]:[()=>i.isSerializableHeaderValue(e[yt]),()=>e[yt].toString()]});t.bp("/WriteGetObjectResponse");let s,o;e.Body!==void 0&&(o=e.Body,s=o);let{hostname:a}=await r.endpoint();if(r.disableHostPrefix!==!0){if(a="{RequestRoute}."+a,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(a=a.replace("{RequestRoute}",e.RequestRoute),!z0.isValidHostname(a))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(a),t.m("POST").h(n).b(s),t.build()},Dte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},Mte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Ht]:[,e.headers[Uu]],[kr]:[,e.headers[cn]],[Te]:[,e.headers[ys]],[Sr]:[,e.headers[ln]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[ct]!=null&&(t[ct]=i.expectString(n[ct])),n[lt]!=null&&(t[lt]=i.expectString(n[lt])),n[dt]!=null&&(t[dt]=i.expectString(n[dt])),n[ut]!=null&&(t[ut]=i.expectString(n[ut])),n[mt]!=null&&(t[mt]=i.expectString(n[mt])),n[ft]!=null&&(t[ft]=i.expectString(n[ft])),n[st]!=null&&(t[st]=i.expectString(n[st])),n[Se]!=null&&(t[Se]=i.expectString(n[Se])),n[Xi]!=null&&(t[Xi]=i.expectString(n[Xi])),t},Lte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Ht]:[,e.headers[Uu]],[_q]:[,e.headers[w2]],[Te]:[,e.headers[ys]],[kr]:[,e.headers[cn]],[Qt]:[,e.headers[dr]],[Zt]:[,e.headers[ur]],[Sr]:[,e.headers[ln]],[Wo]:[,e.headers[Xo]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Et]:[,e.headers[bt]]}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.CopyObjectResult=Fie(n),t},Fte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Xi]:[,e.headers[Jq]],[bu]:[,e.headers[f2]]});return await i.collectBody(e.body,r),t},zte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Ute=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},qte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[mq]:[()=>e.headers[Mp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[Mp]))],[fq]:[,e.headers[m2]],[kr]:[,e.headers[cn]],[Qt]:[,e.headers[dr]],[Zt]:[,e.headers[ur]],[Sr]:[,e.headers[ln]],[Wo]:[,e.headers[Xo]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Et]:[,e.headers[bt]],[_e]:[,e.headers[ZA]],[ft]:[,e.headers[Nl]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[Se]!=null&&(t[Se]=i.expectString(n[Se])),n[Qr]!=null&&(t[Qr]=i.expectString(n[Qr])),t},Hte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[kr]:[,e.headers[cn]],[Sr]:[,e.headers[ln]],[Wo]:[,e.headers[Xo]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[a0]!=null&&(t[a0]=Pce(n[a0])),t},jte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},$te=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Vte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Gte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Kte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Wte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Xte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Yte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Jte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Qte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Zte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ere=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},tre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},rre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},nre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},sre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[Vo]!==void 0,()=>i.parseBoolean(e.headers[Vo])],[Te]:[,e.headers[ys]],[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},ore=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Deleted).trim()===""?t[Ph]=[]:n[Ph]!=null&&(t[Ph]=$ie(i.getArrayIfSingleItem(n[Ph]))),String(n.Error).trim()===""?t[Fz]=[]:n[Hn]!=null&&(t[Fz]=eae(i.getArrayIfSingleItem(n[Hn]))),t},ire=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[ys]]});return await i.collectBody(e.body,r),t},are=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},cre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Q]!=null&&(t[Q]=i.expectString(n[Q])),t},lre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[xu]=[]:n[Fi]!=null&&n[Fi][Ws]!=null&&(t[xu]=sq(i.getArrayIfSingleItem(n[Fi][Ws]))),n[He]!=null&&(t[He]=Ko(n[He])),t},dre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.AnalyticsConfiguration=eq(n),t},ure=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CORSRule).trim()===""?t[X0]=[]:n[W0]!=null&&(t[X0]=qie(i.getArrayIfSingleItem(n[W0]))),t},mre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.ServerSideEncryptionConfiguration=xce(n),t},fre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.IntelligentTieringConfiguration=iq(n),t},gre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.InventoryConfiguration=aq(n),t},hre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[FA]:[,e.headers[sP]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Rule).trim()===""?t[Bn]=[]:n[Yr]!=null&&(t[Bn]=Rae(i.getArrayIfSingleItem(n[Yr]))),t},pre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Zc]!=null&&(t[Zc]=i.expectString(n[Zc])),t},yre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Yi]!=null&&(t[Yi]=Iae(n[Yi])),t},Sre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.GetBucketMetadataConfigurationResult=iae(n),t},Ere=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.GetBucketMetadataTableConfigurationResult=aae(n),t},bre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.MetricsConfiguration=cq(n),t},_re=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[$i]!=null&&(t[$i]=tae(n[$i])),String(n.CloudFunctionConfiguration).trim()===""?t[nA]=[]:n[Nz]!=null&&(t[nA]=wae(i.getArrayIfSingleItem(n[Nz]))),String(n.QueueConfiguration).trim()===""?t[lA]=[]:n[cA]!=null&&(t[lA]=ace(i.getArrayIfSingleItem(n[cA]))),String(n.TopicConfiguration).trim()===""?t[hA]=[]:n[gA]!=null&&(t[hA]=qce(i.getArrayIfSingleItem(n[gA]))),t},Cre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.OwnershipControls=Yae(n),t},xre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=await $ce(e.body,r);return t.Policy=i.expectString(n),t},wre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.PolicyStatus=nce(n),t},Are=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.ReplicationConfiguration=mce(n),t},Pre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Wh]!=null&&(t[Wh]=i.expectString(n[Wh])),t},vre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[zn]=[]:n[zn]!=null&&n[zn][xe]!=null&&(t[zn]=pa(i.getArrayIfSingleItem(n[zn][xe]))),t},Tre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[oA]!=null&&(t[jh]=i.expectString(n[oA])),n[Q]!=null&&(t[Q]=i.expectString(n[Q])),t},Rre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Vi]!=null&&(t[Vi]=Zie(n[Vi])),n[Ki]!=null&&(t[Ki]=dae(n[Ki])),n[ta]!=null&&(t[ta]=dce(n[ta])),String(n.RoutingRules).trim()===""?t[kc]=[]:n[kc]!=null&&n[kc][Op]!=null&&(t[kc]=Ece(i.getArrayIfSingleItem(n[kc][Op]))),t},Ire=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[Vo]!==void 0,()=>i.parseBoolean(e.headers[Vo])],[RA]:[,e.headers[Gq]],[Ht]:[,e.headers[Uu]],[LA]:[,e.headers[A2]],[Rt]:[()=>e.headers[gl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[gl]))],[$o]:[()=>e.headers[ma]!==void 0,()=>i.strictParseLong(e.headers[ma])],[st]:[,e.headers[FS]],[ct]:[,e.headers[Ea]],[lt]:[,e.headers[ba]],[dt]:[,e.headers[_a]],[ut]:[,e.headers[Ca]],[mt]:[,e.headers[xa]],[ft]:[,e.headers[Nl]],[Ip]:[()=>e.headers[Lp]!==void 0,()=>i.strictParseInt32(e.headers[Lp])],[Te]:[,e.headers[ys]],[bl]:[,e.headers[Ou]],[_l]:[,e.headers[Nu]],[Cl]:[,e.headers[Bu]],[xl]:[,e.headers[Du]],[IA]:[,e.headers[Kq]],[wl]:[,e.headers[Mu]],[hs]:[()=>e.headers[fa]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[fa]))],[Cq]:[,e.headers[Wq]],[ku]:[,e.headers[$u]],[kr]:[,e.headers[cn]],[Qt]:[,e.headers[dr]],[Zt]:[,e.headers[ur]],[Sr]:[,e.headers[ln]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Ae]:[,e.headers[ju]],[Et]:[,e.headers[bt]],[MA]:[,e.headers[P2]],[fl]:[()=>e.headers[Fp]!==void 0,()=>i.strictParseInt32(e.headers[Fp])],[Dp]:[()=>e.headers[zp]!==void 0,()=>i.strictParseInt32(e.headers[zp])],[Rl]:[,e.headers[Hu]],[ps]:[()=>e.headers[ga]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[ga]))],[ya]:[,e.headers[qu]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,o)=>(s[o.substring(11)]=e.headers[o],s),{})]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},kre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[xu]=[]:n[Fi]!=null&&n[Fi][Ws]!=null&&(t[xu]=sq(i.getArrayIfSingleItem(n[Fi][Ws]))),n[He]!=null&&(t[He]=Ko(n[He])),t},Ore=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[Vo]!==void 0,()=>i.parseBoolean(e.headers[Vo])],[Rt]:[()=>e.headers[gl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[gl]))],[Te]:[,e.headers[ys]],[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[d0]!=null&&(t[d0]=Bie(n[d0])),n[st]!=null&&(t[st]=i.expectString(n[st])),n[R0]!=null&&(t[R0]=cae(n[R0])),n[I0]!=null&&(t[I0]=i.strictParseLong(n[I0])),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae])),t},Nre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.LegalHold=$ae(n),t},Bre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.ObjectLockConfiguration=jae(n),t},Dre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.Retention=Vae(n),t},Mre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[ys]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[zn]=[]:n[zn]!=null&&n[zn][xe]!=null&&(t[zn]=pa(i.getArrayIfSingleItem(n[zn][xe]))),t},Lre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},Fre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.PublicAccessBlockConfiguration=oce(n),t},zre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bu]:[,e.headers[f2]],[cle]:[,e.headers[Yue]],[ole]:[,e.headers[Xue]],[_u]:[,e.headers[Que]],[Jce]:[()=>e.headers[sU]!==void 0,()=>i.parseBoolean(e.headers[sU])]});return await i.collectBody(e.body,r),t},Ure=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[Vo]!==void 0,()=>i.parseBoolean(e.headers[Vo])],[RA]:[,e.headers[Gq]],[Ht]:[,e.headers[Uu]],[LA]:[,e.headers[A2]],[Qce]:[,e.headers[Wue]],[Rt]:[()=>e.headers[gl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[gl]))],[$o]:[()=>e.headers[ma]!==void 0,()=>i.strictParseLong(e.headers[ma])],[ct]:[,e.headers[Ea]],[lt]:[,e.headers[ba]],[dt]:[,e.headers[_a]],[ut]:[,e.headers[Ca]],[mt]:[,e.headers[xa]],[ft]:[,e.headers[Nl]],[st]:[,e.headers[FS]],[Ip]:[()=>e.headers[Lp]!==void 0,()=>i.strictParseInt32(e.headers[Lp])],[Te]:[,e.headers[ys]],[bl]:[,e.headers[Ou]],[_l]:[,e.headers[Nu]],[Cl]:[,e.headers[Bu]],[xl]:[,e.headers[Du]],[wl]:[,e.headers[Mu]],[IA]:[,e.headers[Kq]],[hs]:[()=>e.headers[fa]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[fa]))],[Cq]:[,e.headers[Wq]],[ku]:[,e.headers[$u]],[kr]:[,e.headers[cn]],[Qt]:[,e.headers[dr]],[Zt]:[,e.headers[ur]],[Sr]:[,e.headers[ln]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Ae]:[,e.headers[ju]],[Et]:[,e.headers[bt]],[MA]:[,e.headers[P2]],[fl]:[()=>e.headers[Fp]!==void 0,()=>i.strictParseInt32(e.headers[Fp])],[Dp]:[()=>e.headers[zp]!==void 0,()=>i.strictParseInt32(e.headers[zp])],[Rl]:[,e.headers[Hu]],[ps]:[()=>e.headers[ga]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[ga]))],[ya]:[,e.headers[qu]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await i.collectBody(e.body,r),t},qre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.AnalyticsConfiguration).trim()===""?t[Oz]=[]:n[U0]!=null&&(t[Oz]=Rie(i.getArrayIfSingleItem(n[U0]))),n[nt]!=null&&(t[nt]=i.expectString(n[nt])),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},Hre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[nt]!=null&&(t[nt]=i.expectString(n[nt])),String(n.IntelligentTieringConfiguration).trim()===""?t[jz]=[]:n[rA]!=null&&(t[jz]=mae(i.getArrayIfSingleItem(n[rA]))),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},jre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[nt]!=null&&(t[nt]=i.expectString(n[nt])),String(n.InventoryConfiguration).trim()===""?t[zz]=[]:n[tA]!=null&&(t[zz]=gae(i.getArrayIfSingleItem(n[tA]))),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},$re=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[nt]!=null&&(t[nt]=i.expectString(n[nt])),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),String(n.MetricsConfiguration).trim()===""?t[$z]=[]:n[sA]!=null&&(t[$z]=Dae(i.getArrayIfSingleItem(n[sA]))),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},Vre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[us]=[]:n[us]!=null&&n[us][Me]!=null&&(t[us]=tq(i.getArrayIfSingleItem(n[us][Me]))),n[nt]!=null&&(t[nt]=i.expectString(n[nt])),n[He]!=null&&(t[He]=Ko(n[He])),n[X]!=null&&(t[X]=i.expectString(n[X])),t},Gre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[us]=[]:n[us]!=null&&n[us][Me]!=null&&(t[us]=tq(i.getArrayIfSingleItem(n[us][Me]))),n[nt]!=null&&(t[nt]=i.expectString(n[nt])),t},Kre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=kS(i.getArrayIfSingleItem(n[Pr]))),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[qo]!=null&&(t[qo]=i.expectString(n[qo])),n[$h]!=null&&(t[$h]=i.strictParseInt32(n[$h])),n[el]!=null&&(t[el]=i.expectString(n[el])),n[v0]!=null&&(t[v0]=i.expectString(n[v0])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[lp]!=null&&(t[lp]=i.expectString(n[lp])),String(n.Upload).trim()===""?t[Zz]=[]:n[Qz]!=null&&(t[Zz]=Fae(i.getArrayIfSingleItem(n[Qz]))),t},Wre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=kS(i.getArrayIfSingleItem(n[Pr]))),String(n.Contents).trim()===""?t[zo]=[]:n[zo]!=null&&(t[zo]=lq(i.getArrayIfSingleItem(n[zo]))),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[Hh]!=null&&(t[Hh]=i.expectString(n[Hh])),n[Pn]!=null&&(t[Pn]=i.strictParseInt32(n[Pn])),n[wt]!=null&&(t[wt]=i.expectString(n[wt])),n[P0]!=null&&(t[P0]=i.expectString(n[P0])),n[X]!=null&&(t[X]=i.expectString(n[X])),t},Xre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=kS(i.getArrayIfSingleItem(n[Pr]))),String(n.Contents).trim()===""?t[zo]=[]:n[zo]!=null&&(t[zo]=lq(i.getArrayIfSingleItem(n[zo]))),n[nt]!=null&&(t[nt]=i.expectString(n[nt])),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[_0]!=null&&(t[_0]=i.strictParseInt32(n[_0])),n[Pn]!=null&&(t[Pn]=i.strictParseInt32(n[Pn])),n[wt]!=null&&(t[wt]=i.expectString(n[wt])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[tp]!=null&&(t[tp]=i.expectString(n[tp])),t},Yre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=kS(i.getArrayIfSingleItem(n[Pr]))),String(n.DeleteMarker).trim()===""?t[Lz]=[]:n[Un]!=null&&(t[Lz]=Kie(i.getArrayIfSingleItem(n[Un]))),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[qo]!=null&&(t[qo]=i.expectString(n[qo])),n[Pn]!=null&&(t[Pn]=i.strictParseInt32(n[Pn])),n[wt]!=null&&(t[wt]=i.expectString(n[wt])),n[el]!=null&&(t[el]=i.expectString(n[el])),n[T0]!=null&&(t[T0]=i.expectString(n[T0])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[up]!=null&&(t[up]=i.expectString(n[up])),String(n.Version).trim()===""?t[tU]=[]:n[eU]!=null&&(t[tU]=Xae(i.getArrayIfSingleItem(n[eU]))),t},Jre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[mq]:[()=>e.headers[Mp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[Mp]))],[fq]:[,e.headers[m2]],[Et]:[,e.headers[bt]]}),n=i.expectNonNull(i.expectObject(await ge.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[_e]!=null&&(t[_e]=i.expectString(n[_e])),n[ft]!=null&&(t[ft]=i.expectString(n[ft])),n[Xc]!=null&&(t[Xc]=oq(n[Xc])),n[Xe]!=null&&(t[Xe]=i.parseBoolean(n[Xe])),n[Se]!=null&&(t[Se]=i.expectString(n[Se])),n[$s]!=null&&(t[$s]=i.strictParseInt32(n[$s])),n[tl]!=null&&(t[tl]=i.expectString(n[tl])),n[He]!=null&&(t[He]=Ko(n[He])),n[Ho]!=null&&(t[Ho]=i.expectString(n[Ho])),String(n.Part).trim()===""?t[wu]=[]:n[kp]!=null&&(t[wu]=tce(i.getArrayIfSingleItem(n[kp]))),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae])),n[Qr]!=null&&(t[Qr]=i.expectString(n[Qr])),t},Qre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Zre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ene=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},tne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},rne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},nne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},sne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},one=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[FA]:[,e.headers[sP]]});return await i.collectBody(e.body,r),t},ine=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ane=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},cne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},lne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},dne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},une=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},mne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},fne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},gne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},hne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},pne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Ht]:[,e.headers[Uu]],[st]:[,e.headers[FS]],[ct]:[,e.headers[Ea]],[lt]:[,e.headers[ba]],[dt]:[,e.headers[_a]],[ut]:[,e.headers[Ca]],[mt]:[,e.headers[xa]],[ft]:[,e.headers[Nl]],[kr]:[,e.headers[cn]],[Te]:[,e.headers[ys]],[Qt]:[,e.headers[dr]],[Zt]:[,e.headers[ur]],[Sr]:[,e.headers[ln]],[Wo]:[,e.headers[Xo]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[yr]:[()=>e.headers[oU]!==void 0,()=>i.strictParseLong(e.headers[oU])],[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},yne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},Sne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},Ene=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},bne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},_ne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[ys]]});return await i.collectBody(e.body,r),t},Cne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},xne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},wne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Et]:[,e.headers[bt]],[$de]:[,e.headers[Wme]]});return await i.collectBody(e.body,r),t},Ane=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=e.body;return t.Payload=Gne(n,r),t},Pne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},vne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Tne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[kr]:[,e.headers[cn]],[st]:[,e.headers[FS]],[ct]:[,e.headers[Ea]],[lt]:[,e.headers[ba]],[dt]:[,e.headers[_a]],[ut]:[,e.headers[Ca]],[mt]:[,e.headers[xa]],[Qt]:[,e.headers[dr]],[Zt]:[,e.headers[ur]],[Sr]:[,e.headers[ln]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Et]:[,e.headers[bt]]});return await i.collectBody(e.body,r),t},Rne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_q]:[,e.headers[w2]],[kr]:[,e.headers[cn]],[Qt]:[,e.headers[dr]],[Zt]:[,e.headers[ur]],[Sr]:[,e.headers[ln]],[yt]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Et]:[,e.headers[bt]]}),n=i.expectObject(await ge.parseXmlBody(e.body,r));return t.CopyPartResult=zie(n),t},Ine=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},$=async(e,r)=>{let t={...e,body:await ge.parseXmlErrorBody(e.body,r)},n=ge.loadRestXmlErrorCode(e,t.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await qne(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await $ne(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await One(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Nne(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await zne(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Mne(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Une(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Hne(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Bne(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await Lne(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await Fne(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Vne(t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await Dne(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await jne(t);default:let s=t.body;return kne({output:e,parsedBody:s,errorCode:n})}},kne=i.withBaseException(lr),One=async(e,r)=>{let t=i.map({});e.body;let n=new gp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Nne=async(e,r)=>{let t=i.map({});e.body;let n=new hp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Bne=async(e,r)=>{let t=i.map({});e.body;let n=new bp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Dne=async(e,r)=>{let t=i.map({});e.body;let n=new wp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Mne=async(e,r)=>{let t=i.map({}),n=e.body;n[Hs]!=null&&(t[Hs]=i.expectString(n[Hs])),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae]));let s=new yp({$metadata:F(e),...t});return i.decorateServiceException(s,e.body)},Lne=async(e,r)=>{let t=i.map({});e.body;let n=new _p({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Fne=async(e,r)=>{let t=i.map({});e.body;let n=new Cp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},zne=async(e,r)=>{let t=i.map({});e.body;let n=new pp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Une=async(e,r)=>{let t=i.map({});e.body;let n=new Sp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},qne=async(e,r)=>{let t=i.map({});e.body;let n=new mp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Hne=async(e,r)=>{let t=i.map({});e.body;let n=new Ep({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},jne=async(e,r)=>{let t=i.map({});e.body;let n=new Ap({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},$ne=async(e,r)=>{let t=i.map({});e.body;let n=new fp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Vne=async(e,r)=>{let t=i.map({});e.body;let n=new xp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Gne=(e,r)=>r.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await Yne(t.Records)}:t.Stats!=null?{Stats:await Jne(t.Stats,r)}:t.Progress!=null?{Progress:await Xne(t.Progress,r)}:t.Cont!=null?{Cont:await Kne(t.Cont,r)}:t.End!=null?{End:await Wne(t.End,r)}:{$unknown:t}),Kne=async(e,r)=>{let t={};return await ge.parseXmlBody(e.body,r),Object.assign(t,Lie()),t},Wne=async(e,r)=>{let t={};return await ge.parseXmlBody(e.body,r),Object.assign(t,Jie()),t},Xne=async(e,r)=>{let t={},n=await ge.parseXmlBody(e.body,r);return t.Details=sce(n),t},Yne=async(e,r)=>{let t={};return t.Payload=e.body,t},Jne=async(e,r)=>{let t={},n=await ge.parseXmlBody(e.body,r);return t.Details=Oce(n),t},Qne=(e,r)=>{let t=new E.XmlNode(Ui);return e[ki]!=null&&t.c(E.XmlNode.of(ki,String(e[ki])).n(ki)),t},Zne=(e,r)=>{let t=new E.XmlNode(Kce);return e[Q]!=null&&t.c(E.XmlNode.of(tle,e[Q]).n(Q)),t},KU=(e,r)=>{let t=new E.XmlNode(Gce);return t.lc(e,"Grants","AccessControlList",()=>XU(e[xu])),e[He]!=null&&t.c(Poe(e[He]).n(He)),t},ese=(e,r)=>{let t=new E.XmlNode(zi);return e[He]!=null&&t.c(E.XmlNode.of(Dde,e[He]).n(He)),t},tse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(q0,t).n(er)),rse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(j0,t).n(er)),nse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(V0,t).n(er)),sse=(e,r)=>{let t=new E.XmlNode(Vce);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[Ir])),t},ose=(e,r)=>{let t=new E.XmlNode(U0);return e[fe]!=null&&t.c(E.XmlNode.of(Yce,e[fe]).n(fe)),e[me]!=null&&t.c(ase(e[me]).n(me)),e[oa]!=null&&t.c(lie(e[oa]).n(oa)),t},ise=(e,r)=>{let t=new E.XmlNode(Wce);return e[On]!=null&&t.c(cse(e[On]).n(On)),t},ase=(e,r)=>{let t=new E.XmlNode(Xce);return S.AnalyticsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[xe]!=null&&t.c(yl(n).n(xe))},And:n=>{e[St]!=null&&t.c(sse(n).n(St))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},cse=(e,r)=>{let t=new E.XmlNode(Zce);return e[An]!=null&&t.c(E.XmlNode.of(ele,e[An]).n(An)),e[Mc]!=null&&t.c(E.XmlNode.of(Nc,e[Mc]).n(Mc)),e[Me]!=null&&t.c(E.XmlNode.of(OS,e[Me]).n(Me)),t.cc(e,X),t},lse=(e,r)=>{let t=new E.XmlNode(rle);return t.cc(e,wle),e[Jr]!=null&&t.c(E.XmlNode.of(lle,e[Jr]).n(Jr)),t},dse=(e,r)=>{let t=new E.XmlNode(nle);return t.l(e,"Rules","Rule",()=>ooe(e[Bn])),t},use=(e,r)=>{let t=new E.XmlNode(ale);return e[Yi]!=null&&t.c(aoe(e[Yi]).n(Yi)),t},mse=(e,r)=>{let t=new E.XmlNode(mle);return t.l(e,"Parts","Part",()=>gse(e[wu])),t},fse=(e,r)=>{let t=new E.XmlNode(gle);return t.cc(e,st),t.cc(e,ct),t.cc(e,lt),t.cc(e,dt),t.cc(e,ut),t.cc(e,mt),e[Xr]!=null&&t.c(E.XmlNode.of(Xr,String(e[Xr])).n(Xr)),t},gse=(e,r)=>e.filter(t=>t!=null).map(t=>fse(t).n(er)),hse=(e,r)=>{let t=new E.XmlNode(qi);return t.cc(e,Mh),t.cc(e,Uh),t},pse=(e,r)=>{let t=new E.XmlNode(fle);return t.l(e,"CORSRules","CORSRule",()=>Sse(e[X0])),t},yse=(e,r)=>{let t=new E.XmlNode(W0);return t.cc(e,Tt),t.l(e,"AllowedHeaders","AllowedHeader",()=>tse(e[H0])),t.l(e,"AllowedMethods","AllowedMethod",()=>rse(e[$0])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>nse(e[G0])),t.l(e,"ExposeHeaders","ExposeHeader",()=>kse(e[Y0])),e[Bi]!=null&&t.c(E.XmlNode.of(Bi,String(e[Bi])).n(Bi)),t},Sse=(e,r)=>e.filter(t=>t!=null).map(t=>yse(t).n(er)),Ese=(e,r)=>{let t=new E.XmlNode(ule);return e[Zc]!=null&&t.c(E.XmlNode.of(sle,e[Zc]).n(Zc)),e[Xi]!=null&&t.c(ioe(e[Xi]).n(Xi)),e[Me]!=null&&t.c(lse(e[Me]).n(Me)),t.lc(e,"Tags","Tags",()=>ha(e[Ir])),t},bse=(e,r)=>{let t=new E.XmlNode(ple);return t.cc(e,kle),t.cc(e,ble),t.cc(e,Nq),t.cc(e,DA),t.cc(e,Pq),t.cc(e,Oq),e[Ah]!=null&&t.c(E.XmlNode.of(Ah,String(e[Ah])).n(Ah)),t},_se=(e,r)=>{let t=new E.XmlNode(yle);return t.cc(e,Ude),t.cc(e,Nq),t.cc(e,DA),t.cc(e,Pq),t.cc(e,Oq),t},Cse=(e,r)=>{let t=new E.XmlNode(ji);return e[vn]!=null&&t.c(E.XmlNode.of(Rq,e[vn]).n(vn)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Li]!=null&&t.c(E.XmlNode.of(Li,String(e[Li])).n(Li)),t},xse=(e,r)=>{let t=new E.XmlNode(Ale);return t.l(e,"Objects","Object",()=>boe(e[Lde])),e[Rh]!=null&&t.c(E.XmlNode.of(Rh,String(e[Rh])).n(Rh)),t},wse=(e,r)=>{let t=new E.XmlNode(Hi);return e[Q]!=null&&t.c(E.XmlNode.of(xle,e[Q]).n(Q)),t},Ase=(e,r)=>{let t=new E.XmlNode(Jt);return e[Me]!=null&&t.c(E.XmlNode.of(OS,e[Me]).n(Me)),e[Dc]!=null&&t.c(E.XmlNode.of(Nc,e[Dc]).n(Dc)),t.cc(e,Ae),e[zi]!=null&&t.c(ese(e[zi]).n(zi)),e[Tr]!=null&&t.c(vse(e[Tr]).n(Tr)),e[na]!=null&&t.c(joe(e[na]).n(na)),e[Ji]!=null&&t.c(uoe(e[Ji]).n(Ji)),t},Pse=(e,r)=>{let t=new E.XmlNode(ms);return e[g0]!=null&&t.c(E.XmlNode.of(kr,e[g0]).n(g0)),e[C0]!=null&&t.c(E.XmlNode.of(Sr,e[C0]).n(C0)),t.cc(e,nde),t},vse=(e,r)=>{let t=new E.XmlNode(Tr);return t.cc(e,Yh),t},Tse=(e,r)=>{let t=new E.XmlNode(Vi);return e[Se]!=null&&t.c(E.XmlNode.of(BA,e[Se]).n(Se)),t},Rse=(e,r)=>new E.XmlNode($i),CA=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(ua,t).n(er)),Ise=(e,r)=>{let t=new E.XmlNode(Gi);return e[Q]!=null&&t.c(E.XmlNode.of(vle,e[Q]).n(Q)),t},kse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(J0,t).n(er)),Ose=(e,r)=>{let t=new E.XmlNode(Q0);return e[wt]!=null&&t.c(E.XmlNode.of(Nle,e[wt]).n(wt)),e[an]!=null&&t.c(E.XmlNode.of(Ble,e[an]).n(an)),t},Nse=(e,r)=>e.filter(t=>t!=null).map(t=>Ose(t).n(er)),Bse=(e,r)=>{let t=new E.XmlNode(Dh);return t.cc(e,Hq),t},Dse=(e,r)=>{let t=new E.XmlNode(Ws);if(e[on]!=null){let n=WU(e[on]).n(on);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return t.cc(e,fs),t},WU=(e,r)=>{let t=new E.XmlNode(on);return t.cc(e,qn),t.cc(e,Oh),t.cc(e,Tt),t.cc(e,dp),t.a("xsi:type",e[Jr]),t},XU=(e,r)=>e.filter(t=>t!=null).map(t=>Dse(t).n(Ws)),Mse=(e,r)=>{let t=new E.XmlNode(Ki);return t.cc(e,op),t},YU=(e,r)=>{let t=new E.XmlNode(Wi);return e[Hc]!=null&&t.c(bse(e[Hc]).n(Hc)),t.cc(e,Ele),e[Yc]!=null&&t.c(Jse(e[Yc]).n(Yc)),e[k0]!=null&&t.c(Ioe(e[k0]).n(k0)),t},Lse=(e,r)=>{let t=new E.XmlNode(Vle);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[Ir])),t},Fse=(e,r)=>{let t=new E.XmlNode(rA);return e[fe]!=null&&t.c(E.XmlNode.of(Yle,e[fe]).n(fe)),e[me]!=null&&t.c(zse(e[me]).n(me)),e[Q]!=null&&t.c(E.XmlNode.of(Jle,e[Q]).n(Q)),t.l(e,"Tierings","Tiering",()=>hie(e[pA])),t},zse=(e,r)=>{let t=new E.XmlNode(Xle);return t.cc(e,X),e[xe]!=null&&t.c(yl(e[xe]).n(xe)),e[St]!=null&&t.c(Lse(e[St]).n(St)),t},Use=(e,r)=>{let t=new E.XmlNode(tA);return e[Jt]!=null&&t.c(qse(e[Jt]).n(Jt)),e[Ni]!=null&&t.c(E.XmlNode.of(Ni,String(e[Ni])).n(Ni)),e[me]!=null&&t.c(jse(e[me]).n(me)),e[fe]!=null&&t.c(E.XmlNode.of(Ule,e[fe]).n(fe)),e[Kc]!=null&&t.c(E.XmlNode.of(qle,e[Kc]).n(Kc)),t.lc(e,"OptionalFields","OptionalFields",()=>$se(e[Ic])),e[al]!=null&&t.c(Gse(e[al]).n(al)),t},qse=(e,r)=>{let t=new E.XmlNode(Dle);return e[On]!=null&&t.c(Vse(e[On]).n(On)),t},Hse=(e,r)=>{let t=new E.XmlNode(Mle);return e[fA]!=null&&t.c(cie(e[fA]).n(Bp)),e[mA]!=null&&t.c(iie(e[mA]).n(Np)),t},jse=(e,r)=>{let t=new E.XmlNode(Lle);return t.cc(e,X),t},$se=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(Hle,t).n(eA)),Vse=(e,r)=>{let t=new E.XmlNode(jle);return t.cc(e,Nc),e[Me]!=null&&t.c(E.XmlNode.of(OS,e[Me]).n(Me)),e[An]!=null&&t.c(E.XmlNode.of(Fle,e[An]).n(An)),t.cc(e,X),e[ms]!=null&&t.c(Hse(e[ms]).n(ms)),t},Gse=(e,r)=>{let t=new E.XmlNode($le);return e[Vc]!=null&&t.c(E.XmlNode.of(zle,e[Vc]).n(Vc)),t},Kse=(e,r)=>{let t=new E.XmlNode(Fh);return e[js]!=null&&t.c(E.XmlNode.of(vq,e[js]).n(js)),e[Tr]!=null&&t.c(xA(e[Tr]).n(Tr)),t},Wse=(e,r)=>{let t=new E.XmlNode(Kle);return e[js]!=null&&t.c(E.XmlNode.of(vq,e[js]).n(js)),e[Tr]!=null&&t.c(xA(e[Tr]).n(Tr)),t},Xse=(e,r)=>{let t=new E.XmlNode(zh);return e[gs]!=null&&t.c(QU(e[gs]).n(gs)),e[Tr]!=null&&t.c(xA(e[Tr]).n(Tr)),t},Yse=(e,r)=>{let t=new E.XmlNode(tde);return e[gs]!=null&&t.c(QU(e[gs]).n(gs)),t},Jse=(e,r)=>{let t=new E.XmlNode(Qle);return e[Jr]!=null&&t.c(E.XmlNode.of(ede,e[Jr]).n(Jr)),t},Qse=(e,r)=>{let t=new E.XmlNode(Zle);return t.cc(e,DA),t},Zse=(e,r)=>{let t=new E.XmlNode(ode);return e[fe]!=null&&t.c(E.XmlNode.of(NA,e[fe]).n(fe)),e[qh]!=null&&t.c(E.XmlNode.of(qh,e[qh]).n(K0)),t.l(e,"Events","Event",()=>CA(e[Ks])),e[me]!=null&&t.c(wA(e[me]).n(me)),t},eoe=(e,r)=>e.filter(t=>t!=null).map(t=>Zse(t).n(er)),toe=(e,r)=>{let t=new E.XmlNode(sde);return e[Ur]!=null&&t.c(E.XmlNode.of(Ur,i.serializeDateTime(e[Ur]).toString()).n(Ur)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Oi]!=null&&t.c(E.XmlNode.of(Oi,String(e[Oi])).n(Oi)),t},roe=(e,r)=>{let t=new E.XmlNode(lde);return e[Ht]!=null&&t.c(toe(e[Ht]).n(Ht)),t.cc(e,Tt),t.cc(e,X),e[me]!=null&&t.c(soe(e[me]).n(me)),e[Q]!=null&&t.c(E.XmlNode.of(Rle,e[Q]).n(Q)),t.l(e,"Transitions","Transition",()=>Eie(e[EA])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>yoe(e[iA])),e[Qi]!=null&&t.c(hoe(e[Qi]).n(Qi)),e[Ui]!=null&&t.c(Qne(e[Ui]).n(Ui)),t},noe=(e,r)=>{let t=new E.XmlNode(dde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[Ir])),e[In]!=null&&t.c(E.XmlNode.of(Iq,String(e[In])).n(In)),e[kn]!=null&&t.c(E.XmlNode.of(kq,String(e[kn])).n(kn)),t},soe=(e,r)=>{let t=new E.XmlNode(ude);return t.cc(e,X),e[xe]!=null&&t.c(yl(e[xe]).n(xe)),e[In]!=null&&t.c(E.XmlNode.of(Iq,String(e[In])).n(In)),e[kn]!=null&&t.c(E.XmlNode.of(kq,String(e[kn])).n(kn)),e[St]!=null&&t.c(noe(e[St]).n(St)),t},ooe=(e,r)=>e.filter(t=>t!=null).map(t=>roe(t).n(er)),ioe=(e,r)=>{let t=new E.XmlNode(ide);return e[Jr]!=null&&t.c(E.XmlNode.of(mde,e[Jr]).n(Jr)),e[wt]!=null&&t.c(E.XmlNode.of(ade,e[wt]).n(wt)),t},aoe=(e,r)=>{let t=new E.XmlNode(Yi);return t.cc(e,ap),t.lc(e,"TargetGrants","TargetGrants",()=>mie(e[Oc])),t.cc(e,cp),e[da]!=null&&t.c(fie(e[da]).n(da)),t},coe=(e,r)=>{let t=new E.XmlNode(hde);return e[zh]!=null&&t.c(Xse(e[zh]).n(zh)),e[Fh]!=null&&t.c(Kse(e[Fh]).n(Fh)),t},loe=(e,r)=>{let t=new E.XmlNode(Tq);return e[wt]!=null&&t.c(E.XmlNode.of(bde,e[wt]).n(wt)),e[an]!=null&&t.c(E.XmlNode.of(wde,e[an]).n(an)),t},doe=(e,r)=>{let t=new E.XmlNode(Cde);return e[sp]!=null&&t.c(Joe(e[sp]).n(sp)),t},xA=(e,r)=>{let t=new E.XmlNode(xde);return e[B0]!=null&&t.c(E.XmlNode.of(bue,e[B0]).n(B0)),t.cc(e,rde),t},uoe=(e,r)=>{let t=new E.XmlNode(Ji);return e[Q]!=null&&t.c(E.XmlNode.of(_de,e[Q]).n(Q)),e[$c]!=null&&t.c(ZU(e[$c]).n($c)),t},moe=(e,r)=>{let t=new E.XmlNode(fde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[Ir])),t.cc(e,qs),t},foe=(e,r)=>{let t=new E.XmlNode(sA);return e[fe]!=null&&t.c(E.XmlNode.of(Ede,e[fe]).n(fe)),e[me]!=null&&t.c(goe(e[me]).n(me)),t},goe=(e,r)=>{let t=new E.XmlNode(Sde);return S.MetricsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[xe]!=null&&t.c(yl(n).n(xe))},AccessPointArn:n=>{e[qs]!=null&&t.c(E.XmlNode.of(qs,n).n(qs))},And:n=>{e[St]!=null&&t.c(moe(n).n(St))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},hoe=(e,r)=>{let t=new E.XmlNode(Qi);return e[Tn]!=null&&t.c(E.XmlNode.of(Oe,String(e[Tn])).n(Tn)),e[Rn]!=null&&t.c(E.XmlNode.of($q,String(e[Rn])).n(Rn)),t},poe=(e,r)=>{let t=new E.XmlNode(aA);return e[Tn]!=null&&t.c(E.XmlNode.of(Oe,String(e[Tn])).n(Tn)),e[Ae]!=null&&t.c(E.XmlNode.of(qq,e[Ae]).n(Ae)),e[Rn]!=null&&t.c(E.XmlNode.of($q,String(e[Rn])).n(Rn)),t},yoe=(e,r)=>e.filter(t=>t!=null).map(t=>poe(t).n(er)),Soe=(e,r)=>{let t=new E.XmlNode(Ade);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>yie(e[hA])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>Boe(e[lA])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>eoe(e[nA])),e[$i]!=null&&t.c(Rse(e[$i]).n($i)),t},wA=(e,r)=>{let t=new E.XmlNode(Pde);return e[Se]!=null&&t.c(Xoe(e[Se]).n(uA)),t},Eoe=(e,r)=>{let t=new E.XmlNode(Ide);return e[Se]!=null&&t.c(E.XmlNode.of(BA,e[Se]).n(Se)),e[Te]!=null&&t.c(E.XmlNode.of(Mde,e[Te]).n(Te)),t.cc(e,st),e[Th]!=null&&t.c(E.XmlNode.of(Th,i.dateToUtcString(e[Th]).toString()).n(Th)),e[yr]!=null&&t.c(E.XmlNode.of(yr,String(e[yr])).n(yr)),t},boe=(e,r)=>e.filter(t=>t!=null).map(t=>Eoe(t).n(er)),_oe=(e,r)=>{let t=new E.XmlNode(kde);return t.cc(e,Gh),e[Yr]!=null&&t.c(woe(e[Yr]).n(Yr)),t},Coe=(e,r)=>{let t=new E.XmlNode(Ode);return e[Q]!=null&&t.c(E.XmlNode.of(ya,e[Q]).n(Q)),t},xoe=(e,r)=>{let t=new E.XmlNode(Nde);return e[vn]!=null&&t.c(E.XmlNode.of(Rq,e[vn]).n(vn)),e[ol]!=null&&t.c(E.XmlNode.of(Ur,i.serializeDateTime(e[ol]).toString()).n(ol)),t},woe=(e,r)=>{let t=new E.XmlNode(Bde);return e[ji]!=null&&t.c(Cse(e[ji]).n(ji)),t},Aoe=(e,r)=>{let t=new E.XmlNode(Vh);return e[L0]!=null&&t.c(Yoe(e[L0]).n(L0)),t},JU=(e,r)=>{let t=new E.XmlNode(Zi);return e[Hc]!=null&&t.c(_se(e[Hc]).n(Hc)),e[Yc]!=null&&t.c(Qse(e[Yc]).n(Yc)),t},Poe=(e,r)=>{let t=new E.XmlNode(He);return t.cc(e,qn),t.cc(e,Tt),t},voe=(e,r)=>{let t=new E.XmlNode(vde);return t.l(e,"Rules","Rule",()=>Roe(e[Bn])),t},Toe=(e,r)=>{let t=new E.XmlNode(Rde);return t.cc(e,Cu),t},Roe=(e,r)=>e.filter(t=>t!=null).map(t=>Toe(t).n(er)),Ioe=(e,r)=>new E.XmlNode(zde),koe=(e,r)=>{let t=new E.XmlNode(ea);return t.cc(e,Kh),t},Ooe=(e,r)=>{let t=new E.XmlNode(Fde);return e[Fc]!=null&&t.c(E.XmlNode.of(Ih,String(e[Fc])).n(Fc)),e[Wc]!=null&&t.c(E.XmlNode.of(Ih,String(e[Wc])).n(Wc)),e[zc]!=null&&t.c(E.XmlNode.of(Ih,String(e[zc])).n(zc)),e[nl]!=null&&t.c(E.XmlNode.of(Ih,String(e[nl])).n(nl)),t},Noe=(e,r)=>{let t=new E.XmlNode(cA);return e[fe]!=null&&t.c(E.XmlNode.of(NA,e[fe]).n(fe)),e[Xh]!=null&&t.c(E.XmlNode.of(Xh,e[Xh]).n(dA)),t.l(e,"Events","Event",()=>CA(e[Ks])),e[me]!=null&&t.c(wA(e[me]).n(me)),t},Boe=(e,r)=>e.filter(t=>t!=null).map(t=>Noe(t).n(er)),QU=(e,r)=>{let t=new E.XmlNode(gs);return e[Ht]!=null&&t.c(E.XmlNode.of(Ile,e[Ht]).n(Ht)),e[Oe]!=null&&t.c(E.XmlNode.of(Hde,String(e[Oe])).n(Oe)),t},Doe=(e,r)=>{let t=new E.XmlNode(sa);return t.cc(e,Uo),t.cc(e,Lh),t.cc(e,jo),t.cc(e,Jh),t.cc(e,Qh),t},Moe=(e,r)=>{let t=new E.XmlNode(ta);return t.cc(e,Uo),t.cc(e,jo),t},Loe=(e,r)=>{let t=new E.XmlNode(ra);return e[Q]!=null&&t.c(E.XmlNode.of(jde,e[Q]).n(Q)),t},Foe=(e,r)=>{let t=new E.XmlNode(qde);return t.cc(e,ep),t.l(e,"Rules","Rule",()=>Hoe(e[Bn])),t},zoe=(e,r)=>{let t=new E.XmlNode(Jde);return t.cc(e,Tt),e[Mi]!=null&&t.c(E.XmlNode.of(Mi,String(e[Mi])).n(Mi)),t.cc(e,X),e[me]!=null&&t.c(qoe(e[me]).n(me)),e[Q]!=null&&t.c(E.XmlNode.of(Xde,e[Q]).n(Q)),e[ca]!=null&&t.c(oie(e[ca]).n(ca)),e[Gi]!=null&&t.c(Ise(e[Gi]).n(Gi)),e[Jt]!=null&&t.c(Ase(e[Jt]).n(Jt)),e[Hi]!=null&&t.c(wse(e[Hi]).n(Hi)),t},Uoe=(e,r)=>{let t=new E.XmlNode(Kde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[Ir])),t},qoe=(e,r)=>{let t=new E.XmlNode(Wde);return t.cc(e,X),e[xe]!=null&&t.c(yl(e[xe]).n(xe)),e[St]!=null&&t.c(Uoe(e[St]).n(St)),t},Hoe=(e,r)=>e.filter(t=>t!=null).map(t=>zoe(t).n(er)),joe=(e,r)=>{let t=new E.XmlNode(na);return e[Q]!=null&&t.c(E.XmlNode.of(tue,e[Q]).n(Q)),e[dl]!=null&&t.c(ZU(e[dl]).n(dl)),t},ZU=(e,r)=>{let t=new E.XmlNode(rue);return e[Di]!=null&&t.c(E.XmlNode.of(Di,String(e[Di])).n(Di)),t},$oe=(e,r)=>{let t=new E.XmlNode(Vde);return t.cc(e,Wh),t},Voe=(e,r)=>{let t=new E.XmlNode(Zh);return e[h0]!=null&&t.c(E.XmlNode.of(Tle,String(e[h0])).n(h0)),t},Goe=(e,r)=>{let t=new E.XmlNode(Qde);return e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Dh]!=null&&t.c(Bse(e[Dh]).n(Dh)),e[Jr]!=null&&t.c(E.XmlNode.of(Yde,e[Jr]).n(Jr)),t.cc(e,Hq),t.cc(e,Ple),e[rp]!=null&&t.c(Zoe(e[rp]).n(rp)),e[Vh]!=null&&t.c(Aoe(e[Vh]).n(Vh)),t},Koe=(e,r)=>{let t=new E.XmlNode(Op);return e[qi]!=null&&t.c(hse(e[qi]).n(qi)),e[sa]!=null&&t.c(Doe(e[sa]).n(sa)),t},Woe=(e,r)=>e.filter(t=>t!=null).map(t=>Koe(t).n(Op)),Xoe=(e,r)=>{let t=new E.XmlNode(cue);return t.l(e,"FilterRules","FilterRule",()=>Nse(e[Z0])),t},Yoe=(e,r)=>{let t=new E.XmlNode(lue);return t.cc(e,OS),e[X]!=null&&t.c(E.XmlNode.of(cde,e[X]).n(X)),e[ms]!=null&&t.c(Pse(e[ms]).n(ms)),e[c0]!=null&&t.c(E.XmlNode.of(Tde,e[c0]).n(c0)),t.lc(e,"AccessControlList","AccessControlList",()=>XU(e[Fi])),e[la]!=null&&t.c(AA(e[la]).n(la)),t.lc(e,"UserMetadata","UserMetadata",()=>bie(e[_ue])),t.cc(e,Ae),t},Joe=(e,r)=>{let t=new E.XmlNode(sp);return e[Gs]!=null&&t.c(E.XmlNode.of(hue,e[Gs]).n(Gs)),e[Nn]!=null&&t.c(E.XmlNode.of(pue,e[Nn]).n(Nn)),t},Qoe=(e,r)=>{let t=new E.XmlNode(np);return e[kh]!=null&&t.c(E.XmlNode.of(kh,String(e[kh])).n(kh)),e[vh]!=null&&t.c(E.XmlNode.of(vh,String(e[vh])).n(vh)),t},Zoe=(e,r)=>{let t=new E.XmlNode(rp);return e[Wi]!=null&&t.c(YU(e[Wi]).n(Wi)),t.cc(e,wq),t.cc(e,Aq),e[Zi]!=null&&t.c(JU(e[Zi]).n(Zi)),t},eie=(e,r)=>{let t=new E.XmlNode(mue);return e[il]!=null&&t.c(E.XmlNode.of(kr,e[il]).n(il)),e[Qc]!=null&&t.c(E.XmlNode.of(Sr,e[Qc]).n(Qc)),t},tie=(e,r)=>{let t=new E.XmlNode(fue);return t.l(e,"Rules","Rule",()=>nie(e[Bn])),t},rie=(e,r)=>{let t=new E.XmlNode(gue);return e[Bc]!=null&&t.c(eie(e[Bc]).n(Bc)),e[yt]!=null&&t.c(E.XmlNode.of(yt,String(e[yt])).n(yt)),t},nie=(e,r)=>e.filter(t=>t!=null).map(t=>rie(t).n(er)),sie=(e,r)=>new E.XmlNode(aa),oie=(e,r)=>{let t=new E.XmlNode(ca);return e[ia]!=null&&t.c(aie(e[ia]).n(ia)),e[ra]!=null&&t.c(Loe(e[ra]).n(ra)),t},iie=(e,r)=>{let t=new E.XmlNode(Np);return e[Jc]!=null&&t.c(E.XmlNode.of(Sr,e[Jc]).n(Jc)),t},aie=(e,r)=>{let t=new E.XmlNode(ia);return e[Q]!=null&&t.c(E.XmlNode.of(aue,e[Q]).n(Q)),t},cie=(e,r)=>new E.XmlNode(Bp),lie=(e,r)=>{let t=new E.XmlNode(oa);return e[jc]!=null&&t.c(die(e[jc]).n(jc)),t},die=(e,r)=>{let t=new E.XmlNode(nue);return e[rl]!=null&&t.c(E.XmlNode.of(sue,e[rl]).n(rl)),e[Jt]!=null&&t.c(ise(e[Jt]).n(Jt)),t},yl=(e,r)=>{let t=new E.XmlNode(xe);return e[Se]!=null&&t.c(E.XmlNode.of(BA,e[Se]).n(Se)),t.cc(e,an),t},AA=(e,r)=>{let t=new E.XmlNode(la);return t.lc(e,"TagSet","TagSet",()=>ha(e[zn])),t},ha=(e,r)=>e.filter(t=>t!=null).map(t=>yl(t).n(xe)),uie=(e,r)=>{let t=new E.XmlNode(Sue);if(e[on]!=null){let n=WU(e[on]).n(on);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return e[fs]!=null&&t.c(E.XmlNode.of(ile,e[fs]).n(fs)),t},mie=(e,r)=>e.filter(t=>t!=null).map(t=>uie(t).n(Ws)),fie=(e,r)=>{let t=new E.XmlNode(da);return e[aa]!=null&&t.c(sie(e[aa]).n(aa)),e[ea]!=null&&t.c(koe(e[ea]).n(ea)),t},gie=(e,r)=>{let t=new E.XmlNode(yA);return e[Oe]!=null&&t.c(E.XmlNode.of(Wle,String(e[Oe])).n(Oe)),e[Hs]!=null&&t.c(E.XmlNode.of(Gle,e[Hs]).n(Hs)),t},hie=(e,r)=>e.filter(t=>t!=null).map(t=>gie(t).n(er)),pie=(e,r)=>{let t=new E.XmlNode(gA);return e[fe]!=null&&t.c(E.XmlNode.of(NA,e[fe]).n(fe)),e[ip]!=null&&t.c(E.XmlNode.of(ip,e[ip]).n(SA)),t.l(e,"Events","Event",()=>CA(e[Ks])),e[me]!=null&&t.c(wA(e[me]).n(me)),t},yie=(e,r)=>e.filter(t=>t!=null).map(t=>pie(t).n(er)),Sie=(e,r)=>{let t=new E.XmlNode(bA);return e[Ur]!=null&&t.c(E.XmlNode.of(Ur,i.serializeDateTime(e[Ur]).toString()).n(Ur)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Ae]!=null&&t.c(E.XmlNode.of(qq,e[Ae]).n(Ae)),t},Eie=(e,r)=>e.filter(t=>t!=null).map(t=>Sie(t).n(er)),bie=(e,r)=>e.filter(t=>t!=null).map(t=>loe(t).n(Tq)),_ie=(e,r)=>{let t=new E.XmlNode(Cue);return e[jh]!=null&&t.c(E.XmlNode.of(jh,e[jh]).n(oA)),e[Q]!=null&&t.c(E.XmlNode.of(dle,e[Q]).n(Q)),t},Cie=(e,r)=>{let t=new E.XmlNode(xue);return e[Vi]!=null&&t.c(Tse(e[Vi]).n(Vi)),e[Ki]!=null&&t.c(Mse(e[Ki]).n(Ki)),e[ta]!=null&&t.c(Moe(e[ta]).n(ta)),t.lc(e,"RoutingRules","RoutingRules",()=>Woe(e[kc])),t},xie=(e,r)=>{let t={};return e[ki]!=null&&(t[ki]=i.strictParseInt32(e[ki])),t},wie=(e,r)=>{let t={};return e[He]!=null&&(t[He]=i.expectString(e[He])),t},Aie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Pie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),vie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Tie=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=pa(i.getArrayIfSingleItem(e[xe]))),t},eq=(e,r)=>{let t={};return e[fe]!=null&&(t[fe]=i.expectString(e[fe])),String(e.Filter).trim()===""||e[me]!=null&&(t[me]=kie(i.expectUnion(e[me]))),e[oa]!=null&&(t[oa]=Nce(e[oa])),t},Rie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>eq(t)),Iie=(e,r)=>{let t={};return e[On]!=null&&(t[On]=Oie(e[On])),t},kie=(e,r)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:Sl(e[xe])}:e[St]!=null?{And:Tie(e[St])}:{$unknown:Object.entries(e)[0]},Oie=(e,r)=>{let t={};return e[An]!=null&&(t[An]=i.expectString(e[An])),e[Mc]!=null&&(t[Mc]=i.expectString(e[Mc])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[X]!=null&&(t[X]=i.expectString(e[X])),t},Nie=(e,r)=>{let t={};return e[wt]!=null&&(t[wt]=i.expectString(e[wt])),e[l0]!=null&&(t[l0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[l0]))),e[_u]!=null&&(t[_u]=i.expectString(e[_u])),e[bu]!=null&&(t[bu]=i.expectString(e[bu])),t},tq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Nie(t)),Bie=(e,r)=>{let t={};return e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},rq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Die=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},kS=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Die(t)),Mie=(e,r)=>{let t={};return e[Mh]!=null&&(t[Mh]=i.expectString(e[Mh])),e[Uh]!=null&&(t[Uh]=i.expectString(e[Uh])),t},Lie=(e,r)=>({}),Fie=(e,r)=>{let t={};return e[st]!=null&&(t[st]=i.expectString(e[st])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},zie=(e,r)=>{let t={};return e[st]!=null&&(t[st]=i.expectString(e[st])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},Uie=(e,r)=>{let t={};return e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),String(e.AllowedHeader).trim()===""?t[H0]=[]:e[q0]!=null&&(t[H0]=Aie(i.getArrayIfSingleItem(e[q0]))),String(e.AllowedMethod).trim()===""?t[$0]=[]:e[j0]!=null&&(t[$0]=Pie(i.getArrayIfSingleItem(e[j0]))),String(e.AllowedOrigin).trim()===""?t[G0]=[]:e[V0]!=null&&(t[G0]=vie(i.getArrayIfSingleItem(e[V0]))),String(e.ExposeHeader).trim()===""?t[Y0]=[]:e[J0]!=null&&(t[Y0]=nae(i.getArrayIfSingleItem(e[J0]))),e[Bi]!=null&&(t[Bi]=i.strictParseInt32(e[Bi])),t},qie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uie(t)),Hie=(e,r)=>{let t={};return e[vn]!=null&&(t[vn]=i.expectString(e[vn])),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Li]!=null&&(t[Li]=i.strictParseInt32(e[Li])),t},jie=(e,r)=>{let t={};return e[Se]!=null&&(t[Se]=i.expectString(e[Se])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Un]!=null&&(t[Un]=i.parseBoolean(e[Un])),e[m0]!=null&&(t[m0]=i.expectString(e[m0])),t},$ie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>jie(t)),Vie=(e,r)=>{let t={};return e[He]!=null&&(t[He]=Ko(e[He])),e[Se]!=null&&(t[Se]=i.expectString(e[Se])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Gc]!=null&&(t[Gc]=i.parseBoolean(e[Gc])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),t},Gie=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Kie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Vie(t)),Wie=(e,r)=>{let t={};return e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[Dc]!=null&&(t[Dc]=i.expectString(e[Dc])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[zi]!=null&&(t[zi]=wie(e[zi])),e[Tr]!=null&&(t[Tr]=Yie(e[Tr])),e[na]!=null&&(t[na]=yce(e[na])),e[Ji]!=null&&(t[Ji]=Nae(e[Ji])),t},Xie=(e,r)=>{let t={};return e[F0]!=null&&(t[F0]=i.expectString(e[F0])),e[Gs]!=null&&(t[Gs]=i.expectString(e[Gs])),e[cl]!=null&&(t[cl]=i.expectString(e[cl])),t},Yie=(e,r)=>{let t={};return e[Yh]!=null&&(t[Yh]=i.expectString(e[Yh])),t},Jie=(e,r)=>({}),Qie=(e,r)=>{let t={};return e[Se]!=null&&(t[Se]=i.expectString(e[Se])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[u0]!=null&&(t[u0]=i.expectString(e[u0])),e[A0]!=null&&(t[A0]=i.expectString(e[A0])),t},PA=(e,r)=>{let t={};return e[Nh]!=null&&(t[Nh]=i.expectString(e[Nh])),e[Bh]!=null&&(t[Bh]=i.expectString(e[Bh])),t},Zie=(e,r)=>{let t={};return e[Se]!=null&&(t[Se]=i.expectString(e[Se])),t},eae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Qie(t)),tae=(e,r)=>({}),vA=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),rae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},nae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),sae=(e,r)=>{let t={};return e[wt]!=null&&(t[wt]=i.expectString(e[wt])),e[an]!=null&&(t[an]=i.expectString(e[an])),t},oae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>sae(t)),iae=(e,r)=>{let t={};return e[x0]!=null&&(t[x0]=kae(e[x0])),t},aae=(e,r)=>{let t={};return e[w0]!=null&&(t[w0]=Oae(e[w0])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[Hn]!=null&&(t[Hn]=PA(e[Hn])),t},cae=(e,r)=>{let t={};return e[fl]!=null&&(t[Eue]=i.strictParseInt32(e[fl])),e[Ho]!=null&&(t[Ho]=i.expectString(e[Ho])),e[tl]!=null&&(t[tl]=i.expectString(e[tl])),e[$s]!=null&&(t[$s]=i.strictParseInt32(e[$s])),e[Xe]!=null&&(t[Xe]=i.parseBoolean(e[Xe])),String(e.Part).trim()===""?t[wu]=[]:e[kp]!=null&&(t[wu]=rce(i.getArrayIfSingleItem(e[kp]))),t},lae=(e,r)=>{let t={};return e[on]!=null&&(t[on]=nq(e[on])),e[fs]!=null&&(t[fs]=i.expectString(e[fs])),t},nq=(e,r)=>{let t={};return e[qn]!=null&&(t[qn]=i.expectString(e[qn])),e[Oh]!=null&&(t[Oh]=i.expectString(e[Oh])),e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[dp]!=null&&(t[dp]=i.expectString(e[dp])),e[nU]!=null&&(t[Jr]=i.expectString(e[nU])),t},sq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>lae(t)),dae=(e,r)=>{let t={};return e[op]!=null&&(t[op]=i.expectString(e[op])),t},oq=(e,r)=>{let t={};return e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[qn]!=null&&(t[qn]=i.expectString(e[qn])),t},uae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=pa(i.getArrayIfSingleItem(e[xe]))),t},iq=(e,r)=>{let t={};return e[fe]!=null&&(t[fe]=i.expectString(e[fe])),e[me]!=null&&(t[me]=fae(e[me])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Tiering).trim()===""?t[pA]=[]:e[yA]!=null&&(t[pA]=zce(i.getArrayIfSingleItem(e[yA]))),t},mae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>iq(t)),fae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=Sl(e[xe])),e[St]!=null&&(t[St]=uae(e[St])),t},aq=(e,r)=>{let t={};return e[Jt]!=null&&(t[Jt]=hae(e[Jt])),e[Ni]!=null&&(t[Ni]=i.parseBoolean(e[Ni])),e[me]!=null&&(t[me]=yae(e[me])),e[fe]!=null&&(t[fe]=i.expectString(e[fe])),e[Kc]!=null&&(t[Kc]=i.expectString(e[Kc])),String(e.OptionalFields).trim()===""?t[Ic]=[]:e[Ic]!=null&&e[Ic][eA]!=null&&(t[Ic]=Sae(i.getArrayIfSingleItem(e[Ic][eA]))),e[al]!=null&&(t[al]=bae(e[al])),t},gae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>aq(t)),hae=(e,r)=>{let t={};return e[On]!=null&&(t[On]=Eae(e[On])),t},pae=(e,r)=>{let t={};return e[Bp]!=null&&(t[fA]=kce(e[Bp])),e[Np]!=null&&(t[mA]=Rce(e[Np])),t},yae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},Sae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Eae=(e,r)=>{let t={};return e[Nc]!=null&&(t[Nc]=i.expectString(e[Nc])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[An]!=null&&(t[An]=i.expectString(e[An])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[ms]!=null&&(t[ms]=pae(e[ms])),t},bae=(e,r)=>{let t={};return e[Vc]!=null&&(t[Vc]=i.expectString(e[Vc])),t},_ae=(e,r)=>{let t={};return e[js]!=null&&(t[js]=i.expectString(e[js])),e[ll]!=null&&(t[ll]=i.expectString(e[ll])),e[Hn]!=null&&(t[Hn]=PA(e[Hn])),e[Nn]!=null&&(t[Nn]=i.expectString(e[Nn])),e[Vs]!=null&&(t[Vs]=i.expectString(e[Vs])),t},Cae=(e,r)=>{let t={};return e[ll]!=null&&(t[ll]=i.expectString(e[ll])),e[Hn]!=null&&(t[Hn]=PA(e[Hn])),e[Nn]!=null&&(t[Nn]=i.expectString(e[Nn])),e[Vs]!=null&&(t[Vs]=i.expectString(e[Vs])),e[gs]!=null&&(t[gs]=cce(e[gs])),t},xae=(e,r)=>{let t={};return e[fe]!=null&&(t[fe]=i.expectString(e[fe])),e[K0]!=null&&(t[qh]=i.expectString(e[K0])),String(e.Event).trim()===""?t[Ks]=[]:e[ua]!=null&&(t[Ks]=vA(i.getArrayIfSingleItem(e[ua]))),e[me]!=null&&(t[me]=TA(e[me])),t},wae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>xae(t)),Aae=(e,r)=>{let t={};return e[Ur]!=null&&(t[Ur]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Ur]))),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Oi]!=null&&(t[Oi]=i.parseBoolean(e[Oi])),t},Pae=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=Aae(e[Ht])),e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[me]!=null&&(t[me]=Tae(e[me])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Transition).trim()===""?t[EA]=[]:e[bA]!=null&&(t[EA]=jce(i.getArrayIfSingleItem(e[bA]))),String(e.NoncurrentVersionTransition).trim()===""?t[iA]=[]:e[aA]!=null&&(t[iA]=qae(i.getArrayIfSingleItem(e[aA]))),e[Qi]!=null&&(t[Qi]=zae(e[Qi])),e[Ui]!=null&&(t[Ui]=xie(e[Ui])),t},vae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=pa(i.getArrayIfSingleItem(e[xe]))),e[In]!=null&&(t[In]=i.strictParseLong(e[In])),e[kn]!=null&&(t[kn]=i.strictParseLong(e[kn])),t},Tae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=Sl(e[xe])),e[In]!=null&&(t[In]=i.strictParseLong(e[In])),e[kn]!=null&&(t[kn]=i.strictParseLong(e[kn])),e[St]!=null&&(t[St]=vae(e[St])),t},Rae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Pae(t)),Iae=(e,r)=>{let t={};return e[ap]!=null&&(t[ap]=i.expectString(e[ap])),String(e.TargetGrants).trim()===""?t[Oc]=[]:e[Oc]!=null&&e[Oc][Ws]!=null&&(t[Oc]=Mce(i.getArrayIfSingleItem(e[Oc][Ws]))),e[cp]!=null&&(t[cp]=i.expectString(e[cp])),e[da]!=null&&(t[da]=Lce(e[da])),t},kae=(e,r)=>{let t={};return e[f0]!=null&&(t[f0]=Xie(e[f0])),e[b0]!=null&&(t[b0]=Cae(e[b0])),e[S0]!=null&&(t[S0]=_ae(e[S0])),t},Oae=(e,r)=>{let t={};return e[M0]!=null&&(t[M0]=_ce(e[M0])),t},Nae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[$c]!=null&&(t[$c]=dq(e[$c])),t},Bae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=pa(i.getArrayIfSingleItem(e[xe]))),e[qs]!=null&&(t[qs]=i.expectString(e[qs])),t},cq=(e,r)=>{let t={};return e[fe]!=null&&(t[fe]=i.expectString(e[fe])),String(e.Filter).trim()===""||e[me]!=null&&(t[me]=Mae(i.expectUnion(e[me]))),t},Dae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>cq(t)),Mae=(e,r)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:Sl(e[xe])}:e[qs]!=null?{AccessPointArn:i.expectString(e[qs])}:e[St]!=null?{And:Bae(e[St])}:{$unknown:Object.entries(e)[0]},Lae=(e,r)=>{let t={};return e[Qr]!=null&&(t[Qr]=i.expectString(e[Qr])),e[Se]!=null&&(t[Se]=i.expectString(e[Se])),e[E0]!=null&&(t[E0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[E0]))),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[He]!=null&&(t[He]=Ko(e[He])),e[Xc]!=null&&(t[Xc]=oq(e[Xc])),e[_e]!=null&&(t[_e]=i.expectString(e[_e])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},Fae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Lae(t)),zae=(e,r)=>{let t={};return e[Tn]!=null&&(t[Tn]=i.strictParseInt32(e[Tn])),e[Rn]!=null&&(t[Rn]=i.strictParseInt32(e[Rn])),t},Uae=(e,r)=>{let t={};return e[Tn]!=null&&(t[Tn]=i.strictParseInt32(e[Tn])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[Rn]!=null&&(t[Rn]=i.strictParseInt32(e[Rn])),t},qae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uae(t)),TA=(e,r)=>{let t={};return e[uA]!=null&&(t[Se]=bce(e[uA])),t},Hae=(e,r)=>{let t={};return e[Se]!=null&&(t[Se]=i.expectString(e[Se])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[st]!=null&&(t[st]=i.expectString(e[st])),String(e.ChecksumAlgorithm).trim()===""?t[_e]=[]:e[_e]!=null&&(t[_e]=rq(i.getArrayIfSingleItem(e[_e]))),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[He]!=null&&(t[He]=Ko(e[He])),e[sl]!=null&&(t[sl]=uq(e[sl])),t},lq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Hae(t)),jae=(e,r)=>{let t={};return e[Gh]!=null&&(t[Gh]=i.expectString(e[Gh])),e[Yr]!=null&&(t[Yr]=Gae(e[Yr])),t},$ae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Vae=(e,r)=>{let t={};return e[vn]!=null&&(t[vn]=i.expectString(e[vn])),e[ol]!=null&&(t[ol]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[ol]))),t},Gae=(e,r)=>{let t={};return e[ji]!=null&&(t[ji]=Hie(e[ji])),t},Kae=(e,r)=>{let t={};return e[Xr]!=null&&(t[Xr]=i.strictParseInt32(e[Xr])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},Wae=(e,r)=>{let t={};return e[st]!=null&&(t[st]=i.expectString(e[st])),String(e.ChecksumAlgorithm).trim()===""?t[_e]=[]:e[_e]!=null&&(t[_e]=rq(i.getArrayIfSingleItem(e[_e]))),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[Se]!=null&&(t[Se]=i.expectString(e[Se])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Gc]!=null&&(t[Gc]=i.parseBoolean(e[Gc])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[He]!=null&&(t[He]=Ko(e[He])),e[sl]!=null&&(t[sl]=uq(e[sl])),t},Xae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Wae(t)),Ko=(e,r)=>{let t={};return e[qn]!=null&&(t[qn]=i.expectString(e[qn])),e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),t},Yae=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[Bn]=[]:e[Yr]!=null&&(t[Bn]=Qae(i.getArrayIfSingleItem(e[Yr]))),t},Jae=(e,r)=>{let t={};return e[Cu]!=null&&(t[Cu]=i.expectString(e[Cu])),t},Qae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Jae(t)),Zae=(e,r)=>{let t={};return e[Xr]!=null&&(t[Xr]=i.strictParseInt32(e[Xr])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[st]!=null&&(t[st]=i.expectString(e[st])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[ct]!=null&&(t[ct]=i.expectString(e[ct])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),t},ece=(e,r)=>{let t={};return e[Kh]!=null&&(t[Kh]=i.expectString(e[Kh])),t},tce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Zae(t)),rce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Kae(t)),nce=(e,r)=>{let t={};return e[p0]!=null&&(t[p0]=i.parseBoolean(e[p0])),t},sce=(e,r)=>{let t={};return e[qc]!=null&&(t[qc]=i.strictParseLong(e[qc])),e[Lc]!=null&&(t[Lc]=i.strictParseLong(e[Lc])),e[Uc]!=null&&(t[Uc]=i.strictParseLong(e[Uc])),t},oce=(e,r)=>{let t={};return e[Fc]!=null&&(t[Fc]=i.parseBoolean(e[Fc])),e[Wc]!=null&&(t[Wc]=i.parseBoolean(e[Wc])),e[zc]!=null&&(t[zc]=i.parseBoolean(e[zc])),e[nl]!=null&&(t[nl]=i.parseBoolean(e[nl])),t},ice=(e,r)=>{let t={};return e[fe]!=null&&(t[fe]=i.expectString(e[fe])),e[dA]!=null&&(t[Xh]=i.expectString(e[dA])),String(e.Event).trim()===""?t[Ks]=[]:e[ua]!=null&&(t[Ks]=vA(i.getArrayIfSingleItem(e[ua]))),e[me]!=null&&(t[me]=TA(e[me])),t},ace=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>ice(t)),cce=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=i.expectString(e[Ht])),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),t},lce=(e,r)=>{let t={};return e[Uo]!=null&&(t[Uo]=i.expectString(e[Uo])),e[Lh]!=null&&(t[Lh]=i.expectString(e[Lh])),e[jo]!=null&&(t[jo]=i.expectString(e[jo])),e[Jh]!=null&&(t[Jh]=i.expectString(e[Jh])),e[Qh]!=null&&(t[Qh]=i.expectString(e[Qh])),t},dce=(e,r)=>{let t={};return e[Uo]!=null&&(t[Uo]=i.expectString(e[Uo])),e[jo]!=null&&(t[jo]=i.expectString(e[jo])),t},uce=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},mce=(e,r)=>{let t={};return e[ep]!=null&&(t[ep]=i.expectString(e[ep])),String(e.Rule).trim()===""?t[Bn]=[]:e[Yr]!=null&&(t[Bn]=pce(i.getArrayIfSingleItem(e[Yr]))),t},fce=(e,r)=>{let t={};return e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[Mi]!=null&&(t[Mi]=i.strictParseInt32(e[Mi])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[me]!=null&&(t[me]=hce(e[me])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[ca]!=null&&(t[ca]=Tce(e[ca])),e[Gi]!=null&&(t[Gi]=rae(e[Gi])),e[Jt]!=null&&(t[Jt]=Wie(e[Jt])),e[Hi]!=null&&(t[Hi]=Gie(e[Hi])),t},gce=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=pa(i.getArrayIfSingleItem(e[xe]))),t},hce=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=Sl(e[xe])),e[St]!=null&&(t[St]=gce(e[St])),t},pce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>fce(t)),yce=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[dl]!=null&&(t[dl]=dq(e[dl])),t},dq=(e,r)=>{let t={};return e[Di]!=null&&(t[Di]=i.strictParseInt32(e[Di])),t},uq=(e,r)=>{let t={};return e[y0]!=null&&(t[y0]=i.parseBoolean(e[y0])),e[O0]!=null&&(t[O0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[O0]))),t},Sce=(e,r)=>{let t={};return e[qi]!=null&&(t[qi]=Mie(e[qi])),e[sa]!=null&&(t[sa]=lce(e[sa])),t},Ece=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Sce(t)),bce=(e,r)=>{let t={};return String(e.FilterRule).trim()===""?t[Z0]=[]:e[Q0]!=null&&(t[Z0]=oae(i.getArrayIfSingleItem(e[Q0]))),t},_ce=(e,r)=>{let t={};return e[Gs]!=null&&(t[Gs]=i.expectString(e[Gs])),e[Nn]!=null&&(t[Nn]=i.expectString(e[Nn])),e[Vs]!=null&&(t[Vs]=i.expectString(e[Vs])),e[cl]!=null&&(t[cl]=i.expectString(e[cl])),t},Cce=(e,r)=>{let t={};return e[il]!=null&&(t[il]=i.expectString(e[il])),e[Qc]!=null&&(t[Qc]=i.expectString(e[Qc])),t},xce=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[Bn]=[]:e[Yr]!=null&&(t[Bn]=Ace(i.getArrayIfSingleItem(e[Yr]))),t},wce=(e,r)=>{let t={};return e[Bc]!=null&&(t[Bc]=Cce(e[Bc])),e[yt]!=null&&(t[yt]=i.parseBoolean(e[yt])),t},Ace=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>wce(t)),Pce=(e,r)=>{let t={};return e[i0]!=null&&(t[i0]=i.expectString(e[i0])),e[N0]!=null&&(t[N0]=i.expectString(e[N0])),e[D0]!=null&&(t[D0]=i.expectString(e[D0])),e[Ht]!=null&&(t[Ht]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Ht]))),t},vce=(e,r)=>({}),Tce=(e,r)=>{let t={};return e[ia]!=null&&(t[ia]=Ice(e[ia])),e[ra]!=null&&(t[ra]=uce(e[ra])),t},Rce=(e,r)=>{let t={};return e[Jc]!=null&&(t[Jc]=i.expectString(e[Jc])),t},Ice=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},kce=(e,r)=>({}),Oce=(e,r)=>{let t={};return e[qc]!=null&&(t[qc]=i.strictParseLong(e[qc])),e[Lc]!=null&&(t[Lc]=i.strictParseLong(e[Lc])),e[Uc]!=null&&(t[Uc]=i.strictParseLong(e[Uc])),t},Nce=(e,r)=>{let t={};return e[jc]!=null&&(t[jc]=Bce(e[jc])),t},Bce=(e,r)=>{let t={};return e[rl]!=null&&(t[rl]=i.expectString(e[rl])),e[Jt]!=null&&(t[Jt]=Iie(e[Jt])),t},Sl=(e,r)=>{let t={};return e[Se]!=null&&(t[Se]=i.expectString(e[Se])),e[an]!=null&&(t[an]=i.expectString(e[an])),t},pa=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Sl(t)),Dce=(e,r)=>{let t={};return e[on]!=null&&(t[on]=nq(e[on])),e[fs]!=null&&(t[fs]=i.expectString(e[fs])),t},Mce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Dce(t)),Lce=(e,r)=>{let t={};return e[aa]!=null&&(t[aa]=vce(e[aa])),e[ea]!=null&&(t[ea]=ece(e[ea])),t},Fce=(e,r)=>{let t={};return e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Hs]!=null&&(t[Hs]=i.expectString(e[Hs])),t},zce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Fce(t)),Uce=(e,r)=>{let t={};return e[fe]!=null&&(t[fe]=i.expectString(e[fe])),e[SA]!=null&&(t[ip]=i.expectString(e[SA])),String(e.Event).trim()===""?t[Ks]=[]:e[ua]!=null&&(t[Ks]=vA(i.getArrayIfSingleItem(e[ua]))),e[me]!=null&&(t[me]=TA(e[me])),t},qce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uce(t)),Hce=(e,r)=>{let t={};return e[Ur]!=null&&(t[Ur]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Ur]))),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),t},jce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Hce(t)),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),$ce=(e,r)=>i.collectBody(e,r).then(t=>r.utf8Encoder(t)),St="And",Vce="AnalyticsAndOperator",U0="AnalyticsConfiguration",El="ACL",Fi="AccessControlList",Oz="AnalyticsConfigurationList",Gce="AccessControlPolicy",zi="AccessControlTranslation",Kce="AccelerateConfiguration",mq="AbortDate",Wce="AnalyticsExportDestination",Xce="AnalyticsFilter",q0="AllowedHeader",H0="AllowedHeaders",Yce="AnalyticsId",Ui="AbortIncompleteMultipartUpload",Nc="AccountId",i0="AccessKeyId",j0="AllowedMethod",$0="AllowedMethods",V0="AllowedOrigin",G0="AllowedOrigins",Jce="AccessPointAlias",qs="AccessPointArn",Ah="AllowQuotedRecordDelimiter",RA="AcceptRanges",fq="AbortRuleId",Qce="ArchiveStatus",Zce="AnalyticsS3BucketDestination",ele="AnalyticsS3ExportFileFormat",Bc="ApplyServerSideEncryptionByDefault",Hs="AccessTier",Dc="Account",Me="Bucket",bu="BucketArn",Mc="BucketAccountId",tle="BucketAccelerateStatus",ul="BypassGovernanceRetention",rle="BucketInfo",yt="BucketKeyEnabled",nle="BucketLifecycleConfiguration",sle="BucketLocationConstraint",ole="BucketLocationName",ile="BucketLogsPermission",ale="BucketLoggingStatus",cle="BucketLocationType",OS="BucketName",Lc="BytesProcessed",Fc="BlockPublicAcls",zc="BlockPublicPolicy",_u="BucketRegion",Uc="BytesReturned",qc="BytesScanned",lle="BucketType",dle="BucketVersioningStatus",us="Buckets",a0="Credentials",_e="ChecksumAlgorithm",c0="CannedACL",ule="CreateBucketConfiguration",bl="CacheControl",ct="ChecksumCRC32",lt="ChecksumCRC32C",dt="ChecksumCRC64NVME",_l="ContentDisposition",l0="CreationDate",Cl="ContentEncoding",K0="CloudFunction",Nz="CloudFunctionConfiguration",xl="ContentLanguage",$o="ContentLength",gq="ChecksumMode",It="ContentMD5",mle="CompletedMultipartUpload",fle="CORSConfiguration",W0="CORSRule",X0="CORSRules",Pr="CommonPrefixes",gle="CompletedPart",IA="ContentRange",Bz="ConfirmRemoveSelfBucketAccess",hq="CopySource",ut="ChecksumSHA1",mt="ChecksumSHA256",pq="CopySourceIfMatch",Pp="CopySourceIfModifiedSince",yq="CopySourceIfNoneMatch",vp="CopySourceIfUnmodifiedSince",hle="CopySourceRange",Sq="CopySourceSSECustomerAlgorithm",Eq="CopySourceSSECustomerKey",bq="CopySourceSSECustomerKeyMD5",Hc="CSV",_q="CopySourceVersionId",ple="CSVInput",yle="CSVOutput",js="ConfigurationState",ft="ChecksumType",Sle="ClientToken",wl="ContentType",Ele="CompressionType",nt="ContinuationToken",d0="Checksum",zo="Contents",u0="Code",ble="Comments",qi="Condition",vr="Delimiter",ki="DaysAfterInitiation",jc="DataExport",_le="DestinationIfMatch",Dz="DestinationIfModifiedSince",Cle="DestinationIfNoneMatch",Mz="DestinationIfUnmodifiedSince",Un="DeleteMarker",Hi="DeleteMarkerReplication",xle="DeleteMarkerReplicationStatus",m0="DeleteMarkerVersionId",Lz="DeleteMarkers",qn="DisplayName",wle="DataRedundancy",ji="DefaultRetention",f0="DestinationResult",Oe="Days",Ur="Date",Ph="Deleted",Ale="Delete",Jt="Destination",Ple="Description",hs="Expires",Oh="EmailAddress",$i="EventBridgeConfiguration",G="ExpectedBucketOwner",Nh="ErrorCode",Tr="EncryptionConfiguration",Vi="ErrorDocument",Y0="ExposeHeaders",J0="ExposeHeader",Bh="ErrorMessage",Oi="ExpiredObjectDeleteMarker",Gi="ExistingObjectReplication",vle="ExistingObjectReplicationStatus",Tle="EnableRequestProgress",Cq="ExpiresString",xq="ExpectedSourceBucketOwner",Rle="ExpirationStatus",Ile="ExpirationState",Rr="EncodingType",st="ETag",g0="EncryptionType",$c="EventThreshold",wq="ExpressionType",ms="Encryption",h0="Enabled",vh="End",Hn="Error",Fz="Errors",ua="Event",Ks="Events",Aq="Expression",Ht="Expiration",me="Filter",Pq="FieldDelimiter",kle="FileHeaderInfo",Ole="FetchOwner",Q0="FilterRule",Nle="FilterRuleName",Ble="FilterRuleValue",Z0="FilterRules",eA="Field",An="Format",Vc="Frequency",Ws="Grant",Al="GrantFullControl",Dh="GlacierJobParameters",Pl="GrantRead",vl="GrantReadACP",kA="GrantWrite",Tl="GrantWriteACP",xu="Grants",on="Grantee",Mh="HttpErrorCodeReturnedEquals",Uo="HostName",Lh="HttpRedirectCode",fe="Id",tA="InventoryConfiguration",zz="InventoryConfigurationList",vq="InventoryConfigurationState",Ki="IndexDocument",Tt="ID",Dle="InventoryDestination",Ni="IsEnabled",Mle="InventoryEncryption",Lle="InventoryFilter",Fle="InventoryFormat",zle="InventoryFrequency",Ule="InventoryId",qle="InventoryIncludedObjectVersions",Gc="IsLatest",Iu="IfMatch",Uz="IfMatchInitiatedTime",qz="IfMatchLastModifiedTime",Hz="IfMatchSize",Tp="IfModifiedSince",NS="IfNoneMatch",Hle="InventoryOptionalField",Kc="IncludedObjectVersions",p0="IsPublic",Wc="IgnorePublicAcls",y0="IsRestoreInProgress",Wi="InputSerialization",jle="InventoryS3BucketDestination",$le="InventorySchedule",Xe="IsTruncated",Vle="IntelligentTieringAndOperator",Gle="IntelligentTieringAccessTier",rA="IntelligentTieringConfiguration",jz="IntelligentTieringConfigurationList",S0="InventoryTableConfigurationResult",Kle="InventoryTableConfigurationUpdates",Fh="InventoryTableConfiguration",Wle="IntelligentTieringDays",Xle="IntelligentTieringFilter",Yle="IntelligentTieringId",Jle="IntelligentTieringStatus",Rp="IfUnmodifiedSince",Xc="Initiator",E0="Initiated",Yc="JSON",Qle="JSONInput",Zle="JSONOutput",ede="JSONType",zh="JournalTableConfiguration",b0="JournalTableConfigurationResult",tde="JournalTableConfigurationUpdates",Se="Key",_0="KeyCount",Jc="KeyId",rde="KmsKeyArn",qo="KeyMarker",nde="KMSContext",C0="KMSKeyId",Qc="KMSMasterKeyID",Uh="KeyPrefixEquals",Xi="Location",Zc="LocationConstraint",Yi="LoggingEnabled",sde="LifecycleExpiration",qh="LambdaFunctionArn",nA="LambdaFunctionConfigurations",ode="LambdaFunctionConfiguration",ide="LocationInfo",Rt="LastModified",Th="LastModifiedTime",ade="LocationNameAsString",cde="LocationPrefix",lde="LifecycleRule",dde="LifecycleRuleAndOperator",ude="LifecycleRuleFilter",mde="LocationType",Hh="Marker",fde="MetricsAndOperator",Bi="MaxAgeSeconds",gde="MaxBuckets",sA="MetricsConfiguration",$z="MetricsConfigurationList",x0="MetadataConfigurationResult",hde="MetadataConfiguration",pde="MetadataDirective",yde="MaxDirectoryBuckets",oA="MfaDelete",Tq="MetadataEntry",Sde="MetricsFilter",OA="MFA",jh="MFADelete",Ede="MetricsId",Pn="MaxKeys",bde="MetadataKey",Ip="MissingMeta",Vz="MpuObjectSize",$s="MaxParts",_de="MetricsStatus",Cde="MetadataTableConfiguration",w0="MetadataTableConfigurationResult",xde="MetadataTableEncryptionConfiguration",$h="MaxUploads",wde="MetadataValue",Ji="Metrics",A0="Message",Di="Minutes",vn="Mode",wt="Name",Ade="NotificationConfiguration",Pde="NotificationConfigurationFilter",qr="NextContinuationToken",Tn="NoncurrentDays",NA="NotificationId",el="NextKeyMarker",P0="NextMarker",Rn="NewerNoncurrentVersions",tl="NextPartNumberMarker",v0="NextUploadIdMarker",Qi="NoncurrentVersionExpiration",T0="NextVersionIdMarker",iA="NoncurrentVersionTransitions",aA="NoncurrentVersionTransition",He="Owner",Gz="ObjectAttributes",vde="OwnershipControls",Tde="ObjectCannedACL",Rde="OwnershipControlsRule",Ic="OptionalFields",Ide="ObjectIdentifier",BA="ObjectKey",Vh="OutputLocation",kde="ObjectLockConfiguration",Gh="ObjectLockEnabled",Kz="ObjectLockEnabledForBucket",Ode="ObjectLockLegalHold",ya="ObjectLockLegalHoldStatus",Rl="ObjectLockMode",Nde="ObjectLockRetention",Rq="ObjectLockRetentionMode",ps="ObjectLockRetainUntilDate",Bde="ObjectLockRule",Cu="ObjectOwnership",ml="OptionalObjectAttributes",Dde="OwnerOverride",R0="ObjectParts",Zi="OutputSerialization",In="ObjectSizeGreaterThan",Iq="ObjectSizeGreaterThanBytes",kn="ObjectSizeLessThan",kq="ObjectSizeLessThanBytes",rl="OutputSchemaVersion",I0="ObjectSize",Mde="ObjectVersionId",Lde="Objects",X="Prefix",Fde="PublicAccessBlockConfiguration",fl="PartsCount",Kh="PartitionDateSource",zde="ParquetInput",Xr="PartNumber",Ho="PartNumberMarker",ea="PartitionedPrefix",Wh="Payer",kp="Part",k0="Parquet",wu="Parts",fs="Permission",jo="Protocol",Mi="Priority",Rh="Quiet",Xh="QueueArn",cA="QueueConfiguration",lA="QueueConfigurations",Oq="QuoteCharacter",Nq="QuoteEscapeCharacter",Ude="QuoteFields",dA="Queue",Bq="Range",ta="RedirectAllRequestsTo",Et="RequestCharged",Dq="ResponseCacheControl",Mq="ResponseContentDisposition",Lq="ResponseContentEncoding",Fq="ResponseContentLanguage",zq="ResponseContentType",qde="ReplicationConfiguration",DA="RecordDelimiter",Uq="ResponseExpires",Hde="RecordExpirationDays",O0="RestoreExpiryDate",gs="RecordExpiration",Yh="ReplicaKmsKeyID",Jh="ReplaceKeyPrefixWith",Qh="ReplaceKeyWith",ra="ReplicaModifications",jde="ReplicaModificationsStatus",$de="RestoreOutputPath",Ze="RequestPayer",nl="RestrictPublicBuckets",Vde="RequestPaymentConfiguration",Zh="RequestProgress",Gde="RequestRoute",Kde="ReplicationRuleAndOperator",Wde="ReplicationRuleFilter",Xde="ReplicationRuleStatus",Yde="RestoreRequestType",Jde="ReplicationRule",Qde="RestoreRequest",kc="RoutingRules",Op="RoutingRule",Zde="RenameSource",MA="ReplicationStatus",sl="RestoreStatus",eue="RequestToken",tue="ReplicationTimeStatus",rue="ReplicationTimeValue",na="ReplicationTime",ol="RetainUntilDate",LA="Restore",sa="Redirect",ep="Role",Yr="Rule",Bn="Rules",Q="Status",tp="StartAfter",N0="SecretAccessKey",B0="SseAlgorithm",On="S3BucketDestination",Ae="StorageClass",oa="StorageClassAnalysis",nue="StorageClassAnalysisDataExport",sue="StorageClassAnalysisSchemaVersion",Wz="StatusCode",Xz="SkipDestinationValidation",oue="SourceIfMatch",Yz="SourceIfModifiedSince",iue="SourceIfNoneMatch",Jz="SourceIfUnmodifiedSince",Np="SSE-KMS",ia="SseKmsEncryptedObjects",aue="SseKmsEncryptedObjectsStatus",cue="S3KeyFilter",uA="S3Key",lue="S3Location",due="SessionMode",uue="SelectObjectContentRequest",rp="SelectParameters",aa="SimplePrefix",np="ScanRange",Bp="SSE-S3",ca="SourceSelectionCriteria",kr="ServerSideEncryption",il="SSEAlgorithm",mue="ServerSideEncryptionByDefault",fue="ServerSideEncryptionConfiguration",Qt="SSECustomerAlgorithm",$n="SSECustomerKey",Zt="SSECustomerKeyMD5",mA="SSEKMS",Wo="SSEKMSEncryptionContext",Sr="SSEKMSKeyId",gue="ServerSideEncryptionRule",fA="SSES3",D0="SessionToken",hue="S3TablesBucketArn",sp="S3TablesDestination",M0="S3TablesDestinationResult",pue="S3TablesName",L0="S3",al="Schedule",Ih="Setting",yr="Size",kh="Start",op="Suffix",la="Tagging",ip="TopicArn",Vs="TableArn",ap="TargetBucket",Gs="TableBucketArn",F0="TableBucketType",Dp="TagCount",gA="TopicConfiguration",hA="TopicConfigurations",yue="TaggingDirective",FA="TransitionDefaultMinimumObjectSize",Oc="TargetGrants",Sue="TargetGrant",Nn="TableName",cl="TableNamespace",da="TargetObjectKeyFormat",cp="TargetPrefix",Eue="TotalPartsCount",zn="TagSet",bue="TableSseAlgorithm",qq="TransitionStorageClass",ll="TableStatus",xe="Tag",Ir="Tags",Hq="Tier",pA="Tierings",yA="Tiering",dl="Time",jq="Token",SA="Topic",EA="Transitions",bA="Transition",Jr="Type",Qz="Upload",Qr="UploadId",lp="UploadIdMarker",_ue="UserMetadata",dp="URI",Zz="Uploads",eU="Version",$q="VersionCount",Cue="VersioningConfiguration",Te="VersionId",up="VersionIdMarker",an="Value",tU="Versions",xue="WebsiteConfiguration",rU="WriteOffsetBytes",ku="WebsiteRedirectLocation",Li="Years",BS="analytics",Vq="accelerate",DS="acl",Gq="accept-ranges",wue="attributes",Aue="bucket-region",zA="cors",Ou="cache-control",Nu="content-disposition",Bu="content-encoding",Du="content-language",ma="content-length",kt="content-md5",Kq="content-range",Mu="content-type",Sa="continuation-token",Pue="delete",MS="delimiter",fa="expires",UA="encryption",LS="encoding-type",FS="etag",Wq="expiresstring",vue="fetch-owner",Dn="id",Il="if-match",qA="if-modified-since",zS="inventory",Lu="if-none-match",US="intelligent-tiering",HA="if-unmodified-since",Xq="key-marker",jA="lifecycle",Yq="legal-hold",gl="last-modified",Jq="location",Qq="logging",Tue="list-type",qS="metrics",$A="metadataConfiguration",Rue="metadataInventoryTable",Iue="metadataJournalTable",VA="metadataTable",kue="marker",Oue="max-buckets",Nue="max-directory-buckets",er="member",GA="max-keys",Bue="max-parts",Due="max-uploads",Zq="notification",KA="ownershipControls",e2="object-lock",WA="policy",XA="publicAccessBlock",HS="partNumber",Mue="policyStatus",Lue="part-number-marker",Fu="prefix",YA="replication",Fue="renameObject",t2="requestPayment",r2="range",n2="response-cache-control",s2="response-content-disposition",o2="response-content-encoding",i2="response-content-language",a2="response-content-type",c2="response-expires",zue="restore",l2="retention",Uue="session",que="start-after",Hue="select",jue="select-type",kl="tagging",$ue="torrent",d2="uploads",zu="uploadId",Vue="upload-id-marker",u2="versioning",Zr="versionId",Ge='<?xml version="1.0" encoding="UTF-8"?>',Gue="versions",Kue="version-id-marker",JA="website",nU="xsi:type",Ol="x-amz-acl",Mp="x-amz-abort-date",sU="x-amz-access-point-alias",m2="x-amz-abort-rule-id",Wue="x-amz-archive-status",f2="x-amz-bucket-arn",QA="x-amz-bypass-governance-retention",Xue="x-amz-bucket-location-name",Yue="x-amz-bucket-location-type",Jue="x-amz-bucket-object-lock-enabled",g2="x-amz-bucket-object-lock-token",Que="x-amz-bucket-region",ZA="x-amz-checksum-algorithm",Ea="x-amz-checksum-crc32",ba="x-amz-checksum-crc32c",_a="x-amz-checksum-crc64nvme",h2="x-amz-checksum-mode",Zue="x-amz-confirm-remove-self-bucket-access",Ca="x-amz-checksum-sha1",xa="x-amz-checksum-sha256",p2="x-amz-copy-source",y2="x-amz-copy-source-if-match",S2="x-amz-copy-source-if-modified-since",E2="x-amz-copy-source-if-none-match",b2="x-amz-copy-source-if-unmodified-since",eme="x-amz-create-session-mode",tme="x-amz-copy-source-range",_2="x-amz-copy-source-server-side-encryption-customer-algorithm",C2="x-amz-copy-source-server-side-encryption-customer-key",x2="x-amz-copy-source-server-side-encryption-customer-key-md5",w2="x-amz-copy-source-version-id",Nl="x-amz-checksum-type",rme="x-amz-client-token",Vo="x-amz-delete-marker",Uu="x-amz-expiration",K="x-amz-expected-bucket-owner",nme="x-amz-fwd-error-code",sme="x-amz-fwd-error-message",ome="x-amz-fwd-header-accept-ranges",ime="x-amz-fwd-header-cache-control",ame="x-amz-fwd-header-content-disposition",cme="x-amz-fwd-header-content-encoding",lme="x-amz-fwd-header-content-language",dme="x-amz-fwd-header-content-range",ume="x-amz-fwd-header-content-type",mme="x-amz-fwd-header-etag",fme="x-amz-fwd-header-expires",gme="x-amz-fwd-header-last-modified",hme="x-amz-fwd-header-x-amz-checksum-crc32",pme="x-amz-fwd-header-x-amz-checksum-crc32c",yme="x-amz-fwd-header-x-amz-checksum-crc64nvme",Sme="x-amz-fwd-header-x-amz-checksum-sha1",Eme="x-amz-fwd-header-x-amz-checksum-sha256",bme="x-amz-fwd-header-x-amz-delete-marker",_me="x-amz-fwd-header-x-amz-expiration",Cme="x-amz-fwd-header-x-amz-missing-meta",xme="x-amz-fwd-header-x-amz-mp-parts-count",wme="x-amz-fwd-header-x-amz-object-lock-legal-hold",Ame="x-amz-fwd-header-x-amz-object-lock-mode",Pme="x-amz-fwd-header-x-amz-object-lock-retain-until-date",vme="x-amz-fwd-header-x-amz-restore",Tme="x-amz-fwd-header-x-amz-request-charged",Rme="x-amz-fwd-header-x-amz-replication-status",Ime="x-amz-fwd-header-x-amz-storage-class",kme="x-amz-fwd-header-x-amz-server-side-encryption",Ome="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",Nme="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",Bme="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",Dme="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",Mme="x-amz-fwd-header-x-amz-tagging-count",Lme="x-amz-fwd-header-x-amz-version-id",Fme="x-amz-fwd-status",Bl="x-amz-grant-full-control",Dl="x-amz-grant-read",Ml="x-amz-grant-read-acp",eP="x-amz-grant-write",Ll="x-amz-grant-write-acp",zme="x-amz-if-match-initiated-time",Ume="x-amz-if-match-last-modified-time",qme="x-amz-if-match-size",tP="x-amz-mfa",Hme="x-amz-metadata-directive",Lp="x-amz-missing-meta",jme="x-amz-mp-object-size",$me="x-amz-max-parts",Fp="x-amz-mp-parts-count",Vme="x-amz-object-attributes",qu="x-amz-object-lock-legal-hold",Hu="x-amz-object-lock-mode",ga="x-amz-object-lock-retain-until-date",Gme="x-amz-object-ownership",rP="x-amz-optional-object-attributes",oU="x-amz-object-size",Kme="x-amz-part-number-marker",A2="x-amz-restore",bt="x-amz-request-charged",Wme="x-amz-restore-output-path",et="x-amz-request-payer",Xme="x-amz-request-route",Yme="x-amz-rename-source",P2="x-amz-replication-status",Jme="x-amz-rename-source-if-match",Qme="x-amz-rename-source-if-modified-since",Zme="x-amz-rename-source-if-none-match",efe="x-amz-rename-source-if-unmodified-since",tfe="x-amz-request-token",ju="x-amz-storage-class",gt="x-amz-sdk-checksum-algorithm",rfe="x-amz-skip-destination-validation",v2="x-amz-source-expected-bucket-owner",cn="x-amz-server-side-encryption",ln="x-amz-server-side-encryption-aws-kms-key-id",Mt="x-amz-server-side-encryption-bucket-key-enabled",Xo="x-amz-server-side-encryption-context",dr="x-amz-server-side-encryption-customer-algorithm",Vn="x-amz-server-side-encryption-customer-key",ur="x-amz-server-side-encryption-customer-key-md5",nP="x-amz-tagging",zp="x-amz-tagging-count",nfe="x-amz-tagging-directive",sP="x-amz-transition-default-minimum-object-size",ys="x-amz-version-id",sfe="x-amz-write-offset-bytes",$u="x-amz-website-redirect-location",mr="x-id",Au=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(gU,fU).ser(GZ).de(Hte).build(){},ofe=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},ife=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),afe=(e,r)=>{let t=Object.assign(kz.getAwsRegionExtensionConfiguration(e),i.getDefaultExtensionConfiguration(e),z0.getHttpHandlerExtensionConfiguration(e),ofe(e));return r.forEach(n=>n.configure(t)),Object.assign(e,kz.resolveAwsRegionExtensionConfiguration(t),i.resolveDefaultRuntimeConfig(t),z0.resolveHttpHandlerRuntimeConfig(t),ife(t))},Go=class extends i.Client{config;constructor(...[r]){let t=EQ.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=_Q(t),s=Tz.resolveUserAgentConfig(n),o=Qe.resolveFlexibleChecksumsConfig(s),a=Rz.resolveRetryConfig(o),c=hQ.resolveRegionConfig(a),l=vz.resolveHostHeaderConfig(c),d=q.resolveEndpointConfig(l),f=pQ.resolveEventStreamSerdeConfig(d),g=Iz.resolveHttpAuthSchemeConfig(f),y=ee.resolveS3Config(g,{session:[()=>this,Au]}),h=afe(y,r?.extensions||[]);this.config=h,this.middlewareStack.use(Tz.getUserAgentPlugin(this.config)),this.middlewareStack.use(Rz.getRetryPlugin(this.config)),this.middlewareStack.use(yQ.getContentLengthPlugin(this.config)),this.middlewareStack.use(vz.getHostHeaderPlugin(this.config)),this.middlewareStack.use(fQ.getLoggerPlugin(this.config)),this.middlewareStack.use(gQ.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(z.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:Iz.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async _=>new z.DefaultIdentityProviderConfig({"aws.auth#sigv4":_.credentials,"aws.auth#sigv4a":_.credentials})})),this.middlewareStack.use(z.getHttpSigningPlugin(this.config)),this.middlewareStack.use(ee.getValidateBucketNamePlugin(this.config)),this.middlewareStack.use(mQ.getAddExpectContinuePlugin(this.config)),this.middlewareStack.use(ee.getRegionRedirectMiddlewarePlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressPlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Up=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(zZ).de(Dte).build(){},qp=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(aU,iU).ser(UZ).de(Mte).build(){},Hp=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(lU,cU).ser(qZ).de(Lte).build(){},jp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),bQ.getLocationConstraintPlugin(n)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(HZ).de(Fte).build(){},$p=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(jZ).de(zte).build(){},Vp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser($Z).de(Ute).build(){},Gp=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(uU,dU).ser(VZ).de(qte).build(){},Kp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(WZ).de($te).build(){},Wp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(KZ).de(jte).build(){},Xp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(XZ).de(Vte).build(){},Yp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(YZ).de(Gte).build(){},Jp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(JZ).de(Kte).build(){},Qp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(QZ).de(Wte).build(){},Zp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(ZZ).de(Xte).build(){},ey=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(eee).de(Yte).build(){},ty=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(tee).de(Jte).build(){},ry=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(ree).de(Qte).build(){},ny=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(nee).de(Zte).build(){},sy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(see).de(ere).build(){},oy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(oee).de(tre).build(){},iy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(iee).de(rre).build(){},ay=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(aee).de(nre).build(){},cy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(cee).de(sre).build(){},ly=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(lee).de(ore).build(){},dy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(dee).de(ire).build(){},uy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(uee).de(are).build(){},my=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(mee).de(cre).build(){},fy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(fee).de(lre).build(){},gy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(gee).de(dre).build(){},hy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(hee).de(ure).build(){},py=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,yU).ser(pee).de(mre).build(){},yy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(yee).de(fre).build(){},Sy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,CU).ser(See).de(gre).build(){},Ey=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(Eee).de(hre).build(){},by=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(bee).de(pre).build(){},_y=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(_ee).de(yre).build(){},Cy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(Cee).de(Sre).build(){},xy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(xee).de(Ere).build(){},wy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(wee).de(bre).build(){},Ay=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(Aee).de(_re).build(){},Py=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(Pee).de(Cre).build(){},vy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(vee).de(xre).build(){},Ty=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(Tee).de(wre).build(){},Ry=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(Ree).de(Are).build(){},Iy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(Iee).de(Pre).build(){},ky=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(kee).de(vre).build(){},Oy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(Oee).de(Tre).build(){},Ny=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(Nee).de(Rre).build(){},By=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(Dee).de(kre).build(){},Dy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(AU,void 0).ser(Mee).de(Ore).build(){},My=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),jn.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(wU,xU).ser(Bee).de(Ire).build(){},Ly=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(Lee).de(Nre).build(){},Fy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(Fee).de(Bre).build(){},zy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(zee).de(Dre).build(){},Uy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(Uee).de(Mre).build(){},qy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,PU).ser(qee).de(Lre).build(){},Hy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(Hee).de(Fre).build(){},hl=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(jee).de(zre).build(){},pl=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(TU,vU).ser($ee).de(Ure).build(){},jy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(Vee).de(qre).build(){},$y=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(Gee).de(Hre).build(){},Vy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,RU).ser(Kee).de(jre).build(){},Gy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Wee).de($re).build(){},Pu=class extends i.Command.classBuilder().ep(j).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(Xee).de(Vre).build(){},vu=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(Yee).de(Gre).build(){},Ky=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(Jee).de(Kre).build(){},Wy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(Qee).de(Wre).build(){},Tu=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(Zee).de(Xre).build(){},Xy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(ete).de(Yre).build(){},Ru=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(IU,void 0).ser(tte).de(Jre).build(){},Yy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(rte).de(Qre).build(){},Jy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(nte).de(Zre).build(){},Qy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(ste).de(ene).build(){},Zy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(ote).de(tne).build(){},eS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(kU,void 0).ser(ite).de(rne).build(){},tS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(ate).de(nne).build(){},rS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(OU,void 0).ser(cte).de(sne).build(){},nS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(lte).de(one).build(){},sS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(dte).de(ine).build(){},oS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(ute).de(ane).build(){},iS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(mte).de(cne).build(){},aS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(fte).de(lne).build(){},cS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(gte).de(dne).build(){},lS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(hte).de(une).build(){},dS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(pte).de(mne).build(){},uS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(yte).de(fne).build(){},mS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(Ste).de(gne).build(){},fS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(Ete).de(hne).build(){},gS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(_te).de(yne).build(){},hS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getCheckContentLengthHeaderPlugin(n),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(BU,NU).ser(bte).de(pne).build(){},pS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(Cte).de(Sne).build(){},yS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(xte).de(Ene).build(){},SS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(wte).de(bne).build(){},ES=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(Ate).de(_ne).build(){},bS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(Pte).de(Cne).build(){},_S=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(vte).de(xne).build(){},CS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(zU,void 0).ser(Tte).de(wne).build(){},xS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(qU,UU).ser(Rte).de(Ane).build(){},wS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(Ite).de(Pne).build(){},AS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(kte).de(vne).build(){},PS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Qe.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(jU,HU).ser(Ote).de(Tne).build(){},vS=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(VU,$U).ser(Nte).de(Rne).build(){},TS=class extends i.Command.classBuilder().ep({...j,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(GU,void 0).ser(Bte).de(Ine).build(){},cfe={AbortMultipartUploadCommand:Up,CompleteMultipartUploadCommand:qp,CopyObjectCommand:Hp,CreateBucketCommand:jp,CreateBucketMetadataConfigurationCommand:$p,CreateBucketMetadataTableConfigurationCommand:Vp,CreateMultipartUploadCommand:Gp,CreateSessionCommand:Au,DeleteBucketCommand:Wp,DeleteBucketAnalyticsConfigurationCommand:Kp,DeleteBucketCorsCommand:Xp,DeleteBucketEncryptionCommand:Yp,DeleteBucketIntelligentTieringConfigurationCommand:Jp,DeleteBucketInventoryConfigurationCommand:Qp,DeleteBucketLifecycleCommand:Zp,DeleteBucketMetadataConfigurationCommand:ey,DeleteBucketMetadataTableConfigurationCommand:ty,DeleteBucketMetricsConfigurationCommand:ry,DeleteBucketOwnershipControlsCommand:ny,DeleteBucketPolicyCommand:sy,DeleteBucketReplicationCommand:oy,DeleteBucketTaggingCommand:iy,DeleteBucketWebsiteCommand:ay,DeleteObjectCommand:cy,DeleteObjectsCommand:ly,DeleteObjectTaggingCommand:dy,DeletePublicAccessBlockCommand:uy,GetBucketAccelerateConfigurationCommand:my,GetBucketAclCommand:fy,GetBucketAnalyticsConfigurationCommand:gy,GetBucketCorsCommand:hy,GetBucketEncryptionCommand:py,GetBucketIntelligentTieringConfigurationCommand:yy,GetBucketInventoryConfigurationCommand:Sy,GetBucketLifecycleConfigurationCommand:Ey,GetBucketLocationCommand:by,GetBucketLoggingCommand:_y,GetBucketMetadataConfigurationCommand:Cy,GetBucketMetadataTableConfigurationCommand:xy,GetBucketMetricsConfigurationCommand:wy,GetBucketNotificationConfigurationCommand:Ay,GetBucketOwnershipControlsCommand:Py,GetBucketPolicyCommand:vy,GetBucketPolicyStatusCommand:Ty,GetBucketReplicationCommand:Ry,GetBucketRequestPaymentCommand:Iy,GetBucketTaggingCommand:ky,GetBucketVersioningCommand:Oy,GetBucketWebsiteCommand:Ny,GetObjectCommand:My,GetObjectAclCommand:By,GetObjectAttributesCommand:Dy,GetObjectLegalHoldCommand:Ly,GetObjectLockConfigurationCommand:Fy,GetObjectRetentionCommand:zy,GetObjectTaggingCommand:Uy,GetObjectTorrentCommand:qy,GetPublicAccessBlockCommand:Hy,HeadBucketCommand:hl,HeadObjectCommand:pl,ListBucketAnalyticsConfigurationsCommand:jy,ListBucketIntelligentTieringConfigurationsCommand:$y,ListBucketInventoryConfigurationsCommand:Vy,ListBucketMetricsConfigurationsCommand:Gy,ListBucketsCommand:Pu,ListDirectoryBucketsCommand:vu,ListMultipartUploadsCommand:Ky,ListObjectsCommand:Wy,ListObjectsV2Command:Tu,ListObjectVersionsCommand:Xy,ListPartsCommand:Ru,PutBucketAccelerateConfigurationCommand:Yy,PutBucketAclCommand:Jy,PutBucketAnalyticsConfigurationCommand:Qy,PutBucketCorsCommand:Zy,PutBucketEncryptionCommand:eS,PutBucketIntelligentTieringConfigurationCommand:tS,PutBucketInventoryConfigurationCommand:rS,PutBucketLifecycleConfigurationCommand:nS,PutBucketLoggingCommand:sS,PutBucketMetricsConfigurationCommand:oS,PutBucketNotificationConfigurationCommand:iS,PutBucketOwnershipControlsCommand:aS,PutBucketPolicyCommand:cS,PutBucketReplicationCommand:lS,PutBucketRequestPaymentCommand:dS,PutBucketTaggingCommand:uS,PutBucketVersioningCommand:mS,PutBucketWebsiteCommand:fS,PutObjectCommand:hS,PutObjectAclCommand:gS,PutObjectLegalHoldCommand:pS,PutObjectLockConfigurationCommand:yS,PutObjectRetentionCommand:SS,PutObjectTaggingCommand:ES,PutPublicAccessBlockCommand:bS,RenameObjectCommand:_S,RestoreObjectCommand:CS,SelectObjectContentCommand:xS,UpdateBucketMetadataInventoryTableConfigurationCommand:wS,UpdateBucketMetadataJournalTableConfigurationCommand:AS,UploadPartCommand:PS,UploadPartCopyCommand:vS,WriteGetObjectResponseCommand:TS},RS=class extends Go{};i.createAggregatedClient(cfe,RS);var lfe=z.createPaginator(Go,Pu,"ContinuationToken","ContinuationToken","MaxBuckets"),dfe=z.createPaginator(Go,vu,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),ufe=z.createPaginator(Go,Tu,"ContinuationToken","NextContinuationToken","MaxKeys"),mfe=z.createPaginator(Go,Ru,"PartNumberMarker","NextPartNumberMarker","MaxParts"),T2=async(e,r)=>{let t;try{return t=await e.send(new hl(r)),{state:Dt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.RETRY,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},ffe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,T2)},gfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,T2);return Dt.checkExceptions(n)},R2=async(e,r)=>{let t;try{t=await e.send(new hl(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.SUCCESS,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},hfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,R2)},pfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,R2);return Dt.checkExceptions(n)},I2=async(e,r)=>{let t;try{return t=await e.send(new pl(r)),{state:Dt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.RETRY,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},yfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,I2)},Sfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,I2);return Dt.checkExceptions(n)},k2=async(e,r)=>{let t;try{t=await e.send(new pl(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.SUCCESS,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},Efe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,k2)},bfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,k2);return Dt.checkExceptions(n)};Object.defineProperty(S,"$Command",{enumerable:!0,get:function(){return i.Command}});Object.defineProperty(S,"__Client",{enumerable:!0,get:function(){return i.Client}});S.AbortMultipartUploadCommand=Up;S.AnalyticsS3ExportFileFormat=KQ;S.ArchiveStatus=AZ;S.BucketAccelerateStatus=wQ;S.BucketAlreadyExists=gp;S.BucketAlreadyOwnedByYou=hp;S.BucketCannedACL=LQ;S.BucketLocationConstraint=qQ;S.BucketLogsPermission=sZ;S.BucketType=zQ;S.BucketVersioningStatus=SZ;S.ChecksumAlgorithm=kQ;S.ChecksumMode=_Z;S.ChecksumType=TQ;S.CompleteMultipartUploadCommand=qp;S.CompleteMultipartUploadOutputFilterSensitiveLog=iU;S.CompleteMultipartUploadRequestFilterSensitiveLog=aU;S.CompressionType=NZ;S.CopyObjectCommand=Hp;S.CopyObjectOutputFilterSensitiveLog=cU;S.CopyObjectRequestFilterSensitiveLog=lU;S.CreateBucketCommand=jp;S.CreateBucketMetadataConfigurationCommand=$p;S.CreateBucketMetadataTableConfigurationCommand=Vp;S.CreateMultipartUploadCommand=Gp;S.CreateMultipartUploadOutputFilterSensitiveLog=dU;S.CreateMultipartUploadRequestFilterSensitiveLog=uU;S.CreateSessionCommand=Au;S.CreateSessionOutputFilterSensitiveLog=fU;S.CreateSessionRequestFilterSensitiveLog=gU;S.DataRedundancy=FQ;S.DeleteBucketAnalyticsConfigurationCommand=Kp;S.DeleteBucketCommand=Wp;S.DeleteBucketCorsCommand=Xp;S.DeleteBucketEncryptionCommand=Yp;S.DeleteBucketIntelligentTieringConfigurationCommand=Jp;S.DeleteBucketInventoryConfigurationCommand=Qp;S.DeleteBucketLifecycleCommand=Zp;S.DeleteBucketMetadataConfigurationCommand=ey;S.DeleteBucketMetadataTableConfigurationCommand=ty;S.DeleteBucketMetricsConfigurationCommand=ry;S.DeleteBucketOwnershipControlsCommand=ny;S.DeleteBucketPolicyCommand=sy;S.DeleteBucketReplicationCommand=oy;S.DeleteBucketTaggingCommand=iy;S.DeleteBucketWebsiteCommand=ay;S.DeleteMarkerReplicationStatus=lZ;S.DeleteObjectCommand=cy;S.DeleteObjectTaggingCommand=dy;S.DeleteObjectsCommand=ly;S.DeletePublicAccessBlockCommand=uy;S.EncodingType=PZ;S.EncryptionFilterSensitiveLog=DU;S.EncryptionTypeMismatch=bp;S.Event=aZ;S.ExistingObjectReplicationStatus=mZ;S.ExpirationState=VQ;S.ExpirationStatus=rZ;S.ExpressionType=OZ;S.FileHeaderInfo=BZ;S.FilterRuleName=cZ;S.GetBucketAccelerateConfigurationCommand=my;S.GetBucketAclCommand=fy;S.GetBucketAnalyticsConfigurationCommand=gy;S.GetBucketCorsCommand=hy;S.GetBucketEncryptionCommand=py;S.GetBucketEncryptionOutputFilterSensitiveLog=yU;S.GetBucketIntelligentTieringConfigurationCommand=yy;S.GetBucketInventoryConfigurationCommand=Sy;S.GetBucketInventoryConfigurationOutputFilterSensitiveLog=CU;S.GetBucketLifecycleConfigurationCommand=Ey;S.GetBucketLocationCommand=by;S.GetBucketLoggingCommand=_y;S.GetBucketMetadataConfigurationCommand=Cy;S.GetBucketMetadataTableConfigurationCommand=xy;S.GetBucketMetricsConfigurationCommand=wy;S.GetBucketNotificationConfigurationCommand=Ay;S.GetBucketOwnershipControlsCommand=Py;S.GetBucketPolicyCommand=vy;S.GetBucketPolicyStatusCommand=Ty;S.GetBucketReplicationCommand=Ry;S.GetBucketRequestPaymentCommand=Iy;S.GetBucketTaggingCommand=ky;S.GetBucketVersioningCommand=Oy;S.GetBucketWebsiteCommand=Ny;S.GetObjectAclCommand=By;S.GetObjectAttributesCommand=Dy;S.GetObjectAttributesRequestFilterSensitiveLog=AU;S.GetObjectCommand=My;S.GetObjectLegalHoldCommand=Ly;S.GetObjectLockConfigurationCommand=Fy;S.GetObjectOutputFilterSensitiveLog=xU;S.GetObjectRequestFilterSensitiveLog=wU;S.GetObjectRetentionCommand=zy;S.GetObjectTaggingCommand=Uy;S.GetObjectTorrentCommand=qy;S.GetObjectTorrentOutputFilterSensitiveLog=PU;S.GetPublicAccessBlockCommand=Hy;S.HeadBucketCommand=hl;S.HeadObjectCommand=pl;S.HeadObjectOutputFilterSensitiveLog=vU;S.HeadObjectRequestFilterSensitiveLog=TU;S.IdempotencyParameterMismatch=wp;S.IntelligentTieringAccessTier=YQ;S.IntelligentTieringStatus=XQ;S.InvalidObjectState=yp;S.InvalidRequest=_p;S.InvalidWriteOffset=Cp;S.InventoryConfigurationFilterSensitiveLog=IS;S.InventoryConfigurationState=jQ;S.InventoryDestinationFilterSensitiveLog=_U;S.InventoryEncryptionFilterSensitiveLog=EU;S.InventoryFormat=JQ;S.InventoryFrequency=eZ;S.InventoryIncludedObjectVersions=QQ;S.InventoryOptionalField=ZQ;S.InventoryS3BucketDestinationFilterSensitiveLog=bU;S.JSONType=DZ;S.ListBucketAnalyticsConfigurationsCommand=jy;S.ListBucketIntelligentTieringConfigurationsCommand=$y;S.ListBucketInventoryConfigurationsCommand=Vy;S.ListBucketInventoryConfigurationsOutputFilterSensitiveLog=RU;S.ListBucketMetricsConfigurationsCommand=Gy;S.ListBucketsCommand=Pu;S.ListDirectoryBucketsCommand=vu;S.ListMultipartUploadsCommand=Ky;S.ListObjectVersionsCommand=Xy;S.ListObjectsCommand=Wy;S.ListObjectsV2Command=Tu;S.ListPartsCommand=Ru;S.ListPartsRequestFilterSensitiveLog=IU;S.LocationType=UQ;S.MFADelete=IZ;S.MFADeleteStatus=yZ;S.MetadataDirective=OQ;S.MetricsStatus=dZ;S.NoSuchBucket=pp;S.NoSuchKey=Sp;S.NoSuchUpload=mp;S.NotFound=Ep;S.ObjectAlreadyInActiveTierError=Ap;S.ObjectAttributes=CZ;S.ObjectCannedACL=IQ;S.ObjectLockEnabled=xZ;S.ObjectLockLegalHoldStatus=NQ;S.ObjectLockMode=BQ;S.ObjectLockRetentionMode=wZ;S.ObjectNotInActiveTierError=fp;S.ObjectOwnership=HQ;S.ObjectStorageClass=vZ;S.ObjectVersionStorageClass=RZ;S.OptionalObjectAttributes=TZ;S.OutputLocationFilterSensitiveLog=LU;S.OwnerOverride=vQ;S.PartitionDateSource=oZ;S.Payer=pZ;S.Permission=PQ;S.Protocol=EZ;S.PutBucketAccelerateConfigurationCommand=Yy;S.PutBucketAclCommand=Jy;S.PutBucketAnalyticsConfigurationCommand=Qy;S.PutBucketCorsCommand=Zy;S.PutBucketEncryptionCommand=eS;S.PutBucketEncryptionRequestFilterSensitiveLog=kU;S.PutBucketIntelligentTieringConfigurationCommand=tS;S.PutBucketInventoryConfigurationCommand=rS;S.PutBucketInventoryConfigurationRequestFilterSensitiveLog=OU;S.PutBucketLifecycleConfigurationCommand=nS;S.PutBucketLoggingCommand=sS;S.PutBucketMetricsConfigurationCommand=oS;S.PutBucketNotificationConfigurationCommand=iS;S.PutBucketOwnershipControlsCommand=aS;S.PutBucketPolicyCommand=cS;S.PutBucketReplicationCommand=lS;S.PutBucketRequestPaymentCommand=dS;S.PutBucketTaggingCommand=uS;S.PutBucketVersioningCommand=mS;S.PutBucketWebsiteCommand=fS;S.PutObjectAclCommand=gS;S.PutObjectCommand=hS;S.PutObjectLegalHoldCommand=pS;S.PutObjectLockConfigurationCommand=yS;S.PutObjectOutputFilterSensitiveLog=NU;S.PutObjectRequestFilterSensitiveLog=BU;S.PutObjectRetentionCommand=SS;S.PutObjectTaggingCommand=ES;S.PutPublicAccessBlockCommand=bS;S.QuoteFields=MZ;S.RenameObjectCommand=_S;S.ReplicaModificationsStatus=fZ;S.ReplicationRuleStatus=hZ;S.ReplicationStatus=bZ;S.ReplicationTimeStatus=uZ;S.RequestCharged=CQ;S.RequestPayer=xQ;S.RestoreObjectCommand=CS;S.RestoreObjectRequestFilterSensitiveLog=zU;S.RestoreRequestFilterSensitiveLog=FU;S.RestoreRequestType=LZ;S.S3=RS;S.S3Client=Go;S.S3LocationFilterSensitiveLog=MU;S.S3ServiceException=lr;S.S3TablesBucketType=iZ;S.SSEKMSFilterSensitiveLog=SU;S.SelectObjectContentCommand=xS;S.SelectObjectContentEventStreamFilterSensitiveLog=FZ;S.SelectObjectContentOutputFilterSensitiveLog=UU;S.SelectObjectContentRequestFilterSensitiveLog=qU;S.ServerSideEncryption=RQ;S.ServerSideEncryptionByDefaultFilterSensitiveLog=hU;S.ServerSideEncryptionConfigurationFilterSensitiveLog=_A;S.ServerSideEncryptionRuleFilterSensitiveLog=pU;S.SessionCredentialsFilterSensitiveLog=mU;S.SessionMode=GQ;S.SseKmsEncryptedObjectsStatus=gZ;S.StorageClass=DQ;S.StorageClassAnalysisSchemaVersion=WQ;S.TableSseAlgorithm=$Q;S.TaggingDirective=MQ;S.Tier=kZ;S.TooManyParts=xp;S.TransitionDefaultMinimumObjectSize=nZ;S.TransitionStorageClass=tZ;S.Type=AQ;S.UpdateBucketMetadataInventoryTableConfigurationCommand=wS;S.UpdateBucketMetadataJournalTableConfigurationCommand=AS;S.UploadPartCommand=PS;S.UploadPartCopyCommand=vS;S.UploadPartCopyOutputFilterSensitiveLog=$U;S.UploadPartCopyRequestFilterSensitiveLog=VU;S.UploadPartOutputFilterSensitiveLog=HU;S.UploadPartRequestFilterSensitiveLog=jU;S.WriteGetObjectResponseCommand=TS;S.WriteGetObjectResponseRequestFilterSensitiveLog=GU;S.paginateListBuckets=lfe;S.paginateListDirectoryBuckets=dfe;S.paginateListObjectsV2=ufe;S.paginateListParts=mfe;S.waitForBucketExists=ffe;S.waitForBucketNotExists=hfe;S.waitForObjectExists=yfe;S.waitForObjectNotExists=Efe;S.waitUntilBucketExists=gfe;S.waitUntilBucketNotExists=pfe;S.waitUntilObjectExists=Sfe;S.waitUntilObjectNotExists=bfe});var vfe={};dn(vfe,{handler:()=>Pfe});module.exports=Re(vfe);var Yo=k(O2()),B2=k(require("sharp")),D2=process.env.UPLOADS_BUCKET||process.env.BUCKET,wa=process.env.DEST_BUCKET;if(!D2)throw new Error("Missing env UPLOADS_BUCKET (or BUCKET)");if(!wa)throw new Error("Missing env DEST_BUCKET");var _fe=process.env.DEST_PREFIX??process.env.THUMBS_PREFIX??"thumbs/",M2=String(_fe).replace(/^\/+|\/+$/g,"")+"/",N2=Math.max(1,parseInt(String(process.env.MAX_WIDTH??"360"),10)),Cfe=Math.min(100,Math.max(1,parseInt(String(process.env.JPEG_QUALITY??"80"),10))),oP=new Yo.S3Client({});function xfe(e){return/\.(png|jpe?g|webp|gif|tiff|avif)$/i.test(e)}function iP(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/^\/*/,"")}function wfe(e){let r=iP(e);return(M2+r).replace(/\.[^.]+$/,".jpg")}function Afe(e,r){let t=iP(e);if(!/^users\//i.test(t))return!1;if(r===wa){let n=M2.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");if(new RegExp(`^${n}`,"i").test(t))return!1}return xfe(t)}var Pfe=async e=>{for(let r of e.Records??[]){let t=r.s3?.bucket?.name,n=r.s3?.object?.key;if(!t||!n)continue;if(t!==D2){console.log(`\u23ED\uFE0F  Ignoring event from bucket ${t}`);continue}let s=iP(n);if(!Afe(s,t)){console.log(`\u23ED\uFE0F  Skipping ${s}`);continue}let o=wfe(s);try{try{await oP.send(new Yo.HeadObjectCommand({Bucket:wa,Key:o})),console.log(`\u2714\uFE0F  Thumb exists, skip: s3://${wa}/${o}`);continue}catch{}let c=await(await oP.send(new Yo.GetObjectCommand({Bucket:t,Key:s}))).Body.transformToByteArray(),l=await(0,B2.default)(c).rotate().resize({width:N2,height:N2,fit:"inside",withoutEnlargement:!0}).jpeg({quality:Cfe,mozjpeg:!0}).toBuffer();await oP.send(new Yo.PutObjectCommand({Bucket:wa,Key:o,Body:l,ContentType:"image/jpeg",CacheControl:"public, max-age=31536000, immutable",Metadata:{source:`${t}/${s}`}})),console.log(`\u2705 Generated: s3://${wa}/${o}`)}catch(a){console.error(`\u274C Failed for ${t}/${s} -> ${wa}/${o}:`,a)}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
