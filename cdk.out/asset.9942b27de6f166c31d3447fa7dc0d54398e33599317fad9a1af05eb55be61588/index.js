"use strict";var $u=Object.create;var Ct=Object.defineProperty;var Bu=Object.getOwnPropertyDescriptor;var zu=Object.getOwnPropertyNames;var ju=Object.getPrototypeOf,Wu=Object.prototype.hasOwnProperty;var g=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Lr=(t,e)=>{for(var r in e)Ct(t,r,{get:e[r],enumerable:!0})},Yo=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zu(e))!Wu.call(t,i)&&i!==r&&Ct(t,i,{get:()=>e[i],enumerable:!(o=Bu(e,i))||o.enumerable});return t};var ze=(t,e,r)=>(r=t!=null?$u(ju(t)):{},Yo(e||!t||!t.__esModule?Ct(r,"default",{value:t,enumerable:!0}):r,t)),Vu=t=>Yo(Ct({},"__esModule",{value:!0}),t);var ae=g((Gh,en)=>{"use strict";en.exports=TypeError});var rn=g((Dh,tn)=>{tn.exports=require("util").inspect});var Je=g((qh,En)=>{var Zr=typeof Map=="function"&&Map.prototype,zr=Object.getOwnPropertyDescriptor&&Zr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Dt=Zr&&zr&&typeof zr.get=="function"?zr.get:null,on=Zr&&Map.prototype.forEach,eo=typeof Set=="function"&&Set.prototype,jr=Object.getOwnPropertyDescriptor&&eo?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,qt=eo&&jr&&typeof jr.get=="function"?jr.get:null,nn=eo&&Set.prototype.forEach,Ju=typeof WeakMap=="function"&&WeakMap.prototype,Ve=Ju?WeakMap.prototype.has:null,Yu=typeof WeakSet=="function"&&WeakSet.prototype,Ke=Yu?WeakSet.prototype.has:null,Xu=typeof WeakRef=="function"&&WeakRef.prototype,sn=Xu?WeakRef.prototype.deref:null,Zu=Boolean.prototype.valueOf,ec=Object.prototype.toString,tc=Function.prototype.toString,rc=String.prototype.match,to=String.prototype.slice,ee=String.prototype.replace,oc=String.prototype.toUpperCase,an=String.prototype.toLowerCase,yn=RegExp.prototype.test,ln=Array.prototype.concat,B=Array.prototype.join,nc=Array.prototype.slice,un=Math.floor,Kr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Wr=Object.getOwnPropertySymbols,Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Se=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Qe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Se||!0)?Symbol.toStringTag:null,vn=Object.prototype.propertyIsEnumerable,cn=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function pn(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||yn.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var o=t<0?-un(-t):un(t);if(o!==t){var i=String(o),s=to.call(e,i.length+1);return ee.call(i,r,"$&_")+"."+ee.call(ee.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ee.call(e,r,"$&_")}var Jr=rn(),dn=Jr.custom,hn=Tn(dn)?dn:null,Pn={__proto__:null,double:'"',single:"'"},ic={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};En.exports=function t(e,r,o,i){var s=r||{};if(Q(s,"quoteStyle")&&!Q(Pn,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Q(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Q(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Q(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Q(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return _n(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return u?pn(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return u?pn(e,h):h}var l=typeof s.depth>"u"?5:s.depth;if(typeof o>"u"&&(o=0),o>=l&&l>0&&typeof e=="object")return Yr(e)?"[Array]":"[Object]";var d=Ec(s,o);if(typeof i>"u")i=[];else if(Sn(i,e)>=0)return"[Circular]";function p(H,Y,K){if(Y&&(i=nc.call(i),i.push(Y)),K){var Be={depth:s.depth};return Q(s,"quoteStyle")&&(Be.quoteStyle=s.quoteStyle),t(H,Be,o+1,i)}return t(H,s,o+1,i)}if(typeof e=="function"&&!mn(e)){var f=mc(e),m=Gt(e,p);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(m.length>0?" { "+B.call(m,", ")+" }":"")}if(Tn(e)){var v=Se?ee.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qr.call(e);return typeof e=="object"&&!Se?We(v):v}if(Tc(e)){for(var P="<"+an.call(String(e.nodeName)),T=e.attributes||[],E=0;E<T.length;E++)P+=" "+T[E].name+"="+gn(sc(T[E].value),"double",s);return P+=">",e.childNodes&&e.childNodes.length&&(P+="..."),P+="</"+an.call(String(e.nodeName))+">",P}if(Yr(e)){if(e.length===0)return"[]";var y=Gt(e,p);return d&&!_c(y)?"["+Xr(y,d)+"]":"[ "+B.call(y,", ")+" ]"}if(lc(e)){var _=Gt(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!vn.call(e,"cause")?"{ ["+String(e)+"] "+B.call(ln.call("[cause]: "+p(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+B.call(_,", ")+" }"}if(typeof e=="object"&&a){if(hn&&typeof e[hn]=="function"&&Jr)return Jr(e,{depth:l-o});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(fc(e)){var O=[];return on&&on.call(e,function(H,Y){O.push(p(Y,e,!0)+" => "+p(H,e))}),fn("Map",Dt.call(e),O,d)}if(Pc(e)){var L=[];return nn&&nn.call(e,function(H){L.push(p(H,e))}),fn("Set",qt.call(e),L,d)}if(yc(e))return Vr("WeakMap");if(gc(e))return Vr("WeakSet");if(vc(e))return Vr("WeakRef");if(cc(e))return We(p(Number(e)));if(dc(e))return We(p(Kr.call(e)));if(pc(e))return We(Zu.call(e));if(uc(e))return We(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!ac(e)&&!mn(e)){var C=Gt(e,p),N=cn?cn(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",M=!N&&Qe&&Object(e)===e&&Qe in e?to.call(te(e),8,-1):k?"Object":"",Pe=N||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ge=Pe+(M||k?"["+B.call(ln.call([],M||[],k||[]),": ")+"] ":"");return C.length===0?ge+"{}":d?ge+"{"+Xr(C,d)+"}":ge+"{ "+B.call(C,", ")+" }"}return String(e)};function gn(t,e,r){var o=r.quoteStyle||e,i=Pn[o];return i+t+i}function sc(t){return ee.call(String(t),/"/g,"&quot;")}function le(t){return!Qe||!(typeof t=="object"&&(Qe in t||typeof t[Qe]<"u"))}function Yr(t){return te(t)==="[object Array]"&&le(t)}function ac(t){return te(t)==="[object Date]"&&le(t)}function mn(t){return te(t)==="[object RegExp]"&&le(t)}function lc(t){return te(t)==="[object Error]"&&le(t)}function uc(t){return te(t)==="[object String]"&&le(t)}function cc(t){return te(t)==="[object Number]"&&le(t)}function pc(t){return te(t)==="[object Boolean]"&&le(t)}function Tn(t){if(Se)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qr)return!1;try{return Qr.call(t),!0}catch{}return!1}function dc(t){if(!t||typeof t!="object"||!Kr)return!1;try{return Kr.call(t),!0}catch{}return!1}var hc=Object.prototype.hasOwnProperty||function(t){return t in this};function Q(t,e){return hc.call(t,e)}function te(t){return ec.call(t)}function mc(t){if(t.name)return t.name;var e=rc.call(tc.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Sn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function fc(t){if(!Dt||!t||typeof t!="object")return!1;try{Dt.call(t);try{qt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function yc(t){if(!Ve||!t||typeof t!="object")return!1;try{Ve.call(t,Ve);try{Ke.call(t,Ke)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function vc(t){if(!sn||!t||typeof t!="object")return!1;try{return sn.call(t),!0}catch{}return!1}function Pc(t){if(!qt||!t||typeof t!="object")return!1;try{qt.call(t);try{Dt.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function gc(t){if(!Ke||!t||typeof t!="object")return!1;try{Ke.call(t,Ke);try{Ve.call(t,Ve)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Tc(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function _n(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return _n(to.call(t,0,e.maxStringLength),e)+o}var i=ic[e.quoteStyle||"single"];i.lastIndex=0;var s=ee.call(ee.call(t,i,"\\$1"),/[\x00-\x1f]/g,Sc);return gn(s,"single",e)}function Sc(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+oc.call(e.toString(16))}function We(t){return"Object("+t+")"}function Vr(t){return t+" { ? }"}function fn(t,e,r,o){var i=o?Xr(r,o):B.call(r,", ");return t+" ("+e+") {"+i+"}"}function _c(t){for(var e=0;e<t.length;e++)if(Sn(t[e],`
`)>=0)return!1;return!0}function Ec(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=B.call(Array(t.indent+1)," ");else return null;return{base:r,prev:B.call(Array(e+1),r)}}function Xr(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+B.call(t,","+r)+`
`+e.prev}function Gt(t,e){var r=Yr(t),o=[];if(r){o.length=t.length;for(var i=0;i<t.length;i++)o[i]=Q(t,i)?e(t[i],t):""}var s=typeof Wr=="function"?Wr(t):[],a;if(Se){a={};for(var u=0;u<s.length;u++)a["$"+s[u]]=s[u]}for(var c in t)Q(t,c)&&(r&&String(Number(c))===c&&c<t.length||Se&&a["$"+c]instanceof Symbol||(yn.call(/[^\w$]/,c)?o.push(e(c,t)+": "+e(t[c],t)):o.push(c+": "+e(t[c],t))));if(typeof Wr=="function")for(var h=0;h<s.length;h++)vn.call(t,s[h])&&o.push("["+e(s[h])+"]: "+e(t[s[h]],t));return o}});var bn=g((kh,xn)=>{"use strict";var xc=Je(),bc=ae(),kt=function(t,e,r){for(var o=t,i;(i=o.next)!=null;o=i)if(i.key===e)return o.next=i.next,r||(i.next=t.next,t.next=i),i},Oc=function(t,e){if(t){var r=kt(t,e);return r&&r.value}},wc=function(t,e,r){var o=kt(t,e);o?o.value=r:t.next={key:e,next:t.next,value:r}},Ac=function(t,e){return t?!!kt(t,e):!1},Rc=function(t,e){if(t)return kt(t,e,!0)};xn.exports=function(){var e,r={assert:function(o){if(!r.has(o))throw new bc("Side channel does not contain "+xc(o))},delete:function(o){var i=e&&e.next,s=Rc(e,o);return s&&i&&i===s&&(e=void 0),!!s},get:function(o){return Oc(e,o)},has:function(o){return Ac(e,o)},set:function(o,i){e||(e={next:void 0}),wc(e,o,i)}};return r}});var ro=g((Nh,On)=>{"use strict";On.exports=Object});var An=g((Fh,wn)=>{"use strict";wn.exports=Error});var Cn=g((Uh,Rn)=>{"use strict";Rn.exports=EvalError});var In=g((Lh,Mn)=>{"use strict";Mn.exports=RangeError});var Dn=g((Hh,Gn)=>{"use strict";Gn.exports=ReferenceError});var kn=g(($h,qn)=>{"use strict";qn.exports=SyntaxError});var Fn=g((Bh,Nn)=>{"use strict";Nn.exports=URIError});var Ln=g((zh,Un)=>{"use strict";Un.exports=Math.abs});var $n=g((jh,Hn)=>{"use strict";Hn.exports=Math.floor});var zn=g((Wh,Bn)=>{"use strict";Bn.exports=Math.max});var Wn=g((Vh,jn)=>{"use strict";jn.exports=Math.min});var Kn=g((Kh,Vn)=>{"use strict";Vn.exports=Math.pow});var Jn=g((Qh,Qn)=>{"use strict";Qn.exports=Math.round});var Xn=g((Jh,Yn)=>{"use strict";Yn.exports=Number.isNaN||function(e){return e!==e}});var ei=g((Yh,Zn)=>{"use strict";var Cc=Xn();Zn.exports=function(e){return Cc(e)||e===0?e:e<0?-1:1}});var ri=g((Xh,ti)=>{"use strict";ti.exports=Object.getOwnPropertyDescriptor});var oo=g((Zh,oi)=>{"use strict";var Nt=ri();if(Nt)try{Nt([],"length")}catch{Nt=null}oi.exports=Nt});var ii=g((em,ni)=>{"use strict";var Ft=Object.defineProperty||!1;if(Ft)try{Ft({},"a",{value:1})}catch{Ft=!1}ni.exports=Ft});var ai=g((tm,si)=>{"use strict";si.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==i||u.enumerable!==!0)return!1}return!0}});var ci=g((rm,ui)=>{"use strict";var li=typeof Symbol<"u"&&Symbol,Mc=ai();ui.exports=function(){return typeof li!="function"||typeof Symbol!="function"||typeof li("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Mc()}});var no=g((om,pi)=>{"use strict";pi.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var io=g((nm,di)=>{"use strict";var Ic=ro();di.exports=Ic.getPrototypeOf||null});var fi=g((im,mi)=>{"use strict";var Gc="Function.prototype.bind called on incompatible ",Dc=Object.prototype.toString,qc=Math.max,kc="[object Function]",hi=function(e,r){for(var o=[],i=0;i<e.length;i+=1)o[i]=e[i];for(var s=0;s<r.length;s+=1)o[s+e.length]=r[s];return o},Nc=function(e,r){for(var o=[],i=r||0,s=0;i<e.length;i+=1,s+=1)o[s]=e[i];return o},Fc=function(t,e){for(var r="",o=0;o<t.length;o+=1)r+=t[o],o+1<t.length&&(r+=e);return r};mi.exports=function(e){var r=this;if(typeof r!="function"||Dc.apply(r)!==kc)throw new TypeError(Gc+r);for(var o=Nc(arguments,1),i,s=function(){if(this instanceof i){var l=r.apply(this,hi(o,arguments));return Object(l)===l?l:this}return r.apply(e,hi(o,arguments))},a=qc(0,r.length-o.length),u=[],c=0;c<a;c++)u[c]="$"+c;if(i=Function("binder","return function ("+Fc(u,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i}});var Ye=g((sm,yi)=>{"use strict";var Uc=fi();yi.exports=Function.prototype.bind||Uc});var Ut=g((am,vi)=>{"use strict";vi.exports=Function.prototype.call});var so=g((lm,Pi)=>{"use strict";Pi.exports=Function.prototype.apply});var Ti=g((um,gi)=>{"use strict";gi.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var _i=g((cm,Si)=>{"use strict";var Lc=Ye(),Hc=so(),$c=Ut(),Bc=Ti();Si.exports=Bc||Lc.call($c,Hc)});var ao=g((pm,Ei)=>{"use strict";var zc=Ye(),jc=ae(),Wc=Ut(),Vc=_i();Ei.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new jc("a function is required");return Vc(zc,Wc,e)}});var Ri=g((dm,Ai)=>{"use strict";var Kc=ao(),xi=oo(),Oi;try{Oi=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var lo=!!Oi&&xi&&xi(Object.prototype,"__proto__"),wi=Object,bi=wi.getPrototypeOf;Ai.exports=lo&&typeof lo.get=="function"?Kc([lo.get]):typeof bi=="function"?function(e){return bi(e==null?e:wi(e))}:!1});var Di=g((hm,Gi)=>{"use strict";var Ci=no(),Mi=io(),Ii=Ri();Gi.exports=Ci?function(e){return Ci(e)}:Mi?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return Mi(e)}:Ii?function(e){return Ii(e)}:null});var ki=g((mm,qi)=>{"use strict";var Qc=Function.prototype.call,Jc=Object.prototype.hasOwnProperty,Yc=Ye();qi.exports=Yc.call(Qc,Jc)});var $t=g((fm,$i)=>{"use strict";var S,Xc=ro(),Zc=An(),ep=Cn(),tp=In(),rp=Dn(),be=kn(),xe=ae(),op=Fn(),np=Ln(),ip=$n(),sp=zn(),ap=Wn(),lp=Kn(),up=Jn(),cp=ei(),Li=Function,uo=function(t){try{return Li('"use strict"; return ('+t+").constructor;")()}catch{}},Xe=oo(),pp=ii(),co=function(){throw new xe},dp=Xe?(function(){try{return arguments.callee,co}catch{try{return Xe(arguments,"callee").get}catch{return co}}})():co,_e=ci()(),G=Di(),hp=io(),mp=no(),Hi=so(),Ze=Ut(),Ee={},fp=typeof Uint8Array>"u"||!G?S:G(Uint8Array),ue={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":_e&&G?G([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":Ee,"%AsyncGenerator%":Ee,"%AsyncGeneratorFunction%":Ee,"%AsyncIteratorPrototype%":Ee,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Zc,"%eval%":eval,"%EvalError%":ep,"%Float16Array%":typeof Float16Array>"u"?S:Float16Array,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Li,"%GeneratorFunction%":Ee,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_e&&G?G(G([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_e||!G?S:G(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Xc,"%Object.getOwnPropertyDescriptor%":Xe,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":tp,"%ReferenceError%":rp,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_e||!G?S:G(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_e&&G?G(""[Symbol.iterator]()):S,"%Symbol%":_e?Symbol:S,"%SyntaxError%":be,"%ThrowTypeError%":dp,"%TypedArray%":fp,"%TypeError%":xe,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":op,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet,"%Function.prototype.call%":Ze,"%Function.prototype.apply%":Hi,"%Object.defineProperty%":pp,"%Object.getPrototypeOf%":hp,"%Math.abs%":np,"%Math.floor%":ip,"%Math.max%":sp,"%Math.min%":ap,"%Math.pow%":lp,"%Math.round%":up,"%Math.sign%":cp,"%Reflect.getPrototypeOf%":mp};if(G)try{null.error}catch(t){Ni=G(G(t)),ue["%Error.prototype%"]=Ni}var Ni,yp=function t(e){var r;if(e==="%AsyncFunction%")r=uo("async function () {}");else if(e==="%GeneratorFunction%")r=uo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=uo("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&G&&(r=G(i.prototype))}return ue[e]=r,r},Fi={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},et=Ye(),Lt=ki(),vp=et.call(Ze,Array.prototype.concat),Pp=et.call(Hi,Array.prototype.splice),Ui=et.call(Ze,String.prototype.replace),Ht=et.call(Ze,String.prototype.slice),gp=et.call(Ze,RegExp.prototype.exec),Tp=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Sp=/\\(\\)?/g,_p=function(e){var r=Ht(e,0,1),o=Ht(e,-1);if(r==="%"&&o!=="%")throw new be("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new be("invalid intrinsic syntax, expected opening `%`");var i=[];return Ui(e,Tp,function(s,a,u,c){i[i.length]=u?Ui(c,Sp,"$1"):a||s}),i},Ep=function(e,r){var o=e,i;if(Lt(Fi,o)&&(i=Fi[o],o="%"+i[0]+"%"),Lt(ue,o)){var s=ue[o];if(s===Ee&&(s=yp(o)),typeof s>"u"&&!r)throw new xe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:o,value:s}}throw new be("intrinsic "+e+" does not exist!")};$i.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new xe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new xe('"allowMissing" argument must be a boolean');if(gp(/^%?[^%]*%?$/,e)===null)throw new be("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=_p(e),i=o.length>0?o[0]:"",s=Ep("%"+i+"%",r),a=s.name,u=s.value,c=!1,h=s.alias;h&&(i=h[0],Pp(o,vp([0,1],h)));for(var l=1,d=!0;l<o.length;l+=1){var p=o[l],f=Ht(p,0,1),m=Ht(p,-1);if((f==='"'||f==="'"||f==="`"||m==='"'||m==="'"||m==="`")&&f!==m)throw new be("property names with quotes must have matching quotes");if((p==="constructor"||!d)&&(c=!0),i+="."+p,a="%"+i+"%",Lt(ue,a))u=ue[a];else if(u!=null){if(!(p in u)){if(!r)throw new xe("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xe&&l+1>=o.length){var v=Xe(u,p);d=!!v,d&&"get"in v&&!("originalValue"in v.get)?u=v.get:u=u[p]}else d=Lt(u,p),u=u[p];d&&!c&&(ue[a]=u)}}return u}});var po=g((ym,ji)=>{"use strict";var Bi=$t(),zi=ao(),xp=zi([Bi("%String.prototype.indexOf%")]);ji.exports=function(e,r){var o=Bi(e,!!r);return typeof o=="function"&&xp(e,".prototype.")>-1?zi([o]):o}});var ho=g((vm,Vi)=>{"use strict";var bp=$t(),tt=po(),Op=Je(),wp=ae(),Wi=bp("%Map%",!0),Ap=tt("Map.prototype.get",!0),Rp=tt("Map.prototype.set",!0),Cp=tt("Map.prototype.has",!0),Mp=tt("Map.prototype.delete",!0),Ip=tt("Map.prototype.size",!0);Vi.exports=!!Wi&&function(){var e,r={assert:function(o){if(!r.has(o))throw new wp("Side channel does not contain "+Op(o))},delete:function(o){if(e){var i=Mp(e,o);return Ip(e)===0&&(e=void 0),i}return!1},get:function(o){if(e)return Ap(e,o)},has:function(o){return e?Cp(e,o):!1},set:function(o,i){e||(e=new Wi),Rp(e,o,i)}};return r}});var Qi=g((Pm,Ki)=>{"use strict";var Gp=$t(),zt=po(),Dp=Je(),Bt=ho(),qp=ae(),Oe=Gp("%WeakMap%",!0),kp=zt("WeakMap.prototype.get",!0),Np=zt("WeakMap.prototype.set",!0),Fp=zt("WeakMap.prototype.has",!0),Up=zt("WeakMap.prototype.delete",!0);Ki.exports=Oe?function(){var e,r,o={assert:function(i){if(!o.has(i))throw new qp("Side channel does not contain "+Dp(i))},delete:function(i){if(Oe&&i&&(typeof i=="object"||typeof i=="function")){if(e)return Up(e,i)}else if(Bt&&r)return r.delete(i);return!1},get:function(i){return Oe&&i&&(typeof i=="object"||typeof i=="function")&&e?kp(e,i):r&&r.get(i)},has:function(i){return Oe&&i&&(typeof i=="object"||typeof i=="function")&&e?Fp(e,i):!!r&&r.has(i)},set:function(i,s){Oe&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Oe),Np(e,i,s)):Bt&&(r||(r=Bt()),r.set(i,s))}};return o}:Bt});var Yi=g((gm,Ji)=>{"use strict";var Lp=ae(),Hp=Je(),$p=bn(),Bp=ho(),zp=Qi(),jp=zp||Bp||$p;Ji.exports=function(){var e,r={assert:function(o){if(!r.has(o))throw new Lp("Side channel does not contain "+Hp(o))},delete:function(o){return!!e&&e.delete(o)},get:function(o){return e&&e.get(o)},has:function(o){return!!e&&e.has(o)},set:function(o,i){e||(e=jp()),e.set(o,i)}};return r}});var jt=g((Tm,Xi)=>{"use strict";var Wp=String.prototype.replace,Vp=/%20/g,mo={RFC1738:"RFC1738",RFC3986:"RFC3986"};Xi.exports={default:mo.RFC3986,formatters:{RFC1738:function(t){return Wp.call(t,Vp,"+")},RFC3986:function(t){return String(t)}},RFC1738:mo.RFC1738,RFC3986:mo.RFC3986}});var vo=g((Sm,es)=>{"use strict";var Kp=jt(),fo=Object.prototype.hasOwnProperty,ce=Array.isArray,z=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Qp=function(e){for(;e.length>1;){var r=e.pop(),o=r.obj[r.prop];if(ce(o)){for(var i=[],s=0;s<o.length;++s)typeof o[s]<"u"&&i.push(o[s]);r.obj[r.prop]=i}}},Zi=function(e,r){for(var o=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(o[i]=e[i]);return o},Jp=function t(e,r,o){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(ce(e))e.push(r);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!fo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ce(e)&&!ce(r)&&(i=Zi(e,o)),ce(e)&&ce(r)?(r.forEach(function(s,a){if(fo.call(e,a)){var u=e[a];u&&typeof u=="object"&&s&&typeof s=="object"?e[a]=t(u,s,o):e.push(s)}else e[a]=s}),e):Object.keys(r).reduce(function(s,a){var u=r[a];return fo.call(s,a)?s[a]=t(s[a],u,o):s[a]=u,s},i)},Yp=function(e,r){return Object.keys(r).reduce(function(o,i){return o[i]=r[i],o},e)},Xp=function(t,e,r){var o=t.replace(/\+/g," ");if(r==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},yo=1024,Zp=function(e,r,o,i,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),o==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var u="",c=0;c<a.length;c+=yo){for(var h=a.length>=yo?a.slice(c,c+yo):a,l=[],d=0;d<h.length;++d){var p=h.charCodeAt(d);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===Kp.RFC1738&&(p===40||p===41)){l[l.length]=h.charAt(d);continue}if(p<128){l[l.length]=z[p];continue}if(p<2048){l[l.length]=z[192|p>>6]+z[128|p&63];continue}if(p<55296||p>=57344){l[l.length]=z[224|p>>12]+z[128|p>>6&63]+z[128|p&63];continue}d+=1,p=65536+((p&1023)<<10|h.charCodeAt(d)&1023),l[l.length]=z[240|p>>18]+z[128|p>>12&63]+z[128|p>>6&63]+z[128|p&63]}u+=l.join("")}return u},ed=function(e){for(var r=[{obj:{o:e},prop:"o"}],o=[],i=0;i<r.length;++i)for(var s=r[i],a=s.obj[s.prop],u=Object.keys(a),c=0;c<u.length;++c){var h=u[c],l=a[h];typeof l=="object"&&l!==null&&o.indexOf(l)===-1&&(r.push({obj:a,prop:h}),o.push(l))}return Qp(r),e},td=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},rd=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},od=function(e,r){return[].concat(e,r)},nd=function(e,r){if(ce(e)){for(var o=[],i=0;i<e.length;i+=1)o.push(r(e[i]));return o}return r(e)};es.exports={arrayToObject:Zi,assign:Yp,combine:od,compact:ed,decode:Xp,encode:Zp,isBuffer:rd,isRegExp:td,maybeMap:nd,merge:Jp}});var ss=g((_m,is)=>{"use strict";var rs=Yi(),Wt=vo(),rt=jt(),id=Object.prototype.hasOwnProperty,os={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},j=Array.isArray,sd=Array.prototype.push,ns=function(t,e){sd.apply(t,j(e)?e:[e])},ad=Date.prototype.toISOString,ts=rt.default,I={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Wt.encode,encodeValuesOnly:!1,filter:void 0,format:ts,formatter:rt.formatters[ts],indices:!1,serializeDate:function(e){return ad.call(e)},skipNulls:!1,strictNullHandling:!1},ld=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Po={},ud=function t(e,r,o,i,s,a,u,c,h,l,d,p,f,m,v,P,T,E){for(var y=e,_=E,O=0,L=!1;(_=_.get(Po))!==void 0&&!L;){var C=_.get(e);if(O+=1,typeof C<"u"){if(C===O)throw new RangeError("Cyclic object value");L=!0}typeof _.get(Po)>"u"&&(O=0)}if(typeof l=="function"?y=l(r,y):y instanceof Date?y=f(y):o==="comma"&&j(y)&&(y=Wt.maybeMap(y,function(Ur){return Ur instanceof Date?f(Ur):Ur})),y===null){if(a)return h&&!P?h(r,I.encoder,T,"key",m):r;y=""}if(ld(y)||Wt.isBuffer(y)){if(h){var N=P?r:h(r,I.encoder,T,"key",m);return[v(N)+"="+v(h(y,I.encoder,T,"value",m))]}return[v(r)+"="+v(String(y))]}var k=[];if(typeof y>"u")return k;var M;if(o==="comma"&&j(y))P&&h&&(y=Wt.maybeMap(y,h)),M=[{value:y.length>0?y.join(",")||null:void 0}];else if(j(l))M=l;else{var Pe=Object.keys(y);M=d?Pe.sort(d):Pe}var ge=c?String(r).replace(/\./g,"%2E"):String(r),H=i&&j(y)&&y.length===1?ge+"[]":ge;if(s&&j(y)&&y.length===0)return H+"[]";for(var Y=0;Y<M.length;++Y){var K=M[Y],Be=typeof K=="object"&&K&&typeof K.value<"u"?K.value:y[K];if(!(u&&Be===null)){var Fr=p&&c?String(K).replace(/\./g,"%2E"):String(K),Hu=j(y)?typeof o=="function"?o(H,Fr):H:H+(p?"."+Fr:"["+Fr+"]");E.set(e,O);var Jo=rs();Jo.set(Po,E),ns(k,t(Be,Hu,o,i,s,a,u,c,o==="comma"&&P&&j(y)?null:h,l,d,p,f,m,v,P,T,Jo))}}return k},cd=function(e){if(!e)return I;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||I.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=rt.default;if(typeof e.format<"u"){if(!id.call(rt.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var i=rt.formatters[o],s=I.filter;(typeof e.filter=="function"||j(e.filter))&&(s=e.filter);var a;if(e.arrayFormat in os?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=I.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:I.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:I.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:I.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:I.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?I.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:I.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:I.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:I.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:I.encodeValuesOnly,filter:s,format:o,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:I.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:I.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:I.strictNullHandling}};is.exports=function(t,e){var r=t,o=cd(e),i,s;typeof o.filter=="function"?(s=o.filter,r=s("",r)):j(o.filter)&&(s=o.filter,i=s);var a=[];if(typeof r!="object"||r===null)return"";var u=os[o.arrayFormat],c=u==="comma"&&o.commaRoundTrip;i||(i=Object.keys(r)),o.sort&&i.sort(o.sort);for(var h=rs(),l=0;l<i.length;++l){var d=i[l],p=r[d];o.skipNulls&&p===null||ns(a,ud(p,d,u,c,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,h))}var f=a.join(o.delimiter),m=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""}});var cs=g((Em,us)=>{"use strict";var pe=vo(),go=Object.prototype.hasOwnProperty,as=Array.isArray,w={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:pe.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},pd=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},ls=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},dd="utf8=%26%2310003%3B",hd="utf8=%E2%9C%93",md=function(e,r){var o={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,r.throwOnLimitExceeded?s+1:s);if(r.throwOnLimitExceeded&&a.length>s)throw new RangeError("Parameter limit exceeded. Only "+s+" parameter"+(s===1?"":"s")+" allowed.");var u=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===hd?h="utf-8":a[c]===dd&&(h="iso-8859-1"),u=c,c=a.length);for(c=0;c<a.length;++c)if(c!==u){var l=a[c],d=l.indexOf("]="),p=d===-1?l.indexOf("="):d+1,f,m;p===-1?(f=r.decoder(l,w.decoder,h,"key"),m=r.strictNullHandling?null:""):(f=r.decoder(l.slice(0,p),w.decoder,h,"key"),m=pe.maybeMap(ls(l.slice(p+1),r,as(o[f])?o[f].length:0),function(P){return r.decoder(P,w.decoder,h,"value")})),m&&r.interpretNumericEntities&&h==="iso-8859-1"&&(m=pd(String(m))),l.indexOf("[]=")>-1&&(m=as(m)?[m]:m);var v=go.call(o,f);v&&r.duplicates==="combine"?o[f]=pe.combine(o[f],m):(!v||r.duplicates==="last")&&(o[f]=m)}return o},fd=function(t,e,r,o){var i=0;if(t.length>0&&t[t.length-1]==="[]"){var s=t.slice(0,-1).join("");i=Array.isArray(e)&&e[s]?e[s].length:0}for(var a=o?e:ls(e,r,i),u=t.length-1;u>=0;--u){var c,h=t[u];if(h==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(a===""||r.strictNullHandling&&a===null)?[]:pe.combine([],a);else{c=r.plainObjects?{__proto__:null}:{};var l=h.charAt(0)==="["&&h.charAt(h.length-1)==="]"?h.slice(1,-1):h,d=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,p=parseInt(d,10);!r.parseArrays&&d===""?c={0:a}:!isNaN(p)&&h!==d&&String(p)===d&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(c=[],c[p]=a):d!=="__proto__"&&(c[d]=a)}a=c}return a},yd=function(e,r,o,i){if(e){var s=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,c=o.depth>0&&a.exec(s),h=c?s.slice(0,c.index):s,l=[];if(h){if(!o.plainObjects&&go.call(Object.prototype,h)&&!o.allowPrototypes)return;l.push(h)}for(var d=0;o.depth>0&&(c=u.exec(s))!==null&&d<o.depth;){if(d+=1,!o.plainObjects&&go.call(Object.prototype,c[1].slice(1,-1))&&!o.allowPrototypes)return;l.push(c[1])}if(c){if(o.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");l.push("["+s.slice(c.index)+"]")}return fd(l,r,o,i)}},vd=function(e){if(!e)return w;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?w.charset:e.charset,o=typeof e.duplicates>"u"?w.duplicates:e.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:w.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:w.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:w.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:w.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:w.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:w.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:w.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:w.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:w.decoder,delimiter:typeof e.delimiter=="string"||pe.isRegExp(e.delimiter)?e.delimiter:w.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:w.depth,duplicates:o,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:w.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:w.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:w.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:w.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:w.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}};us.exports=function(t,e){var r=vd(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var o=typeof t=="string"?md(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(o),a=0;a<s.length;++a){var u=s[a],c=yd(u,o[u],r,typeof t=="string");i=pe.merge(i,c,r)}return r.allowSparse===!0?i:pe.compact(i)}});var ds=g((xm,ps)=>{"use strict";var Pd=ss(),gd=cs(),Td=jt();ps.exports={formats:Td,parse:gd,stringify:Pd}});var bh={};Lr(bh,{handler:()=>xh});module.exports=Vu(bh);var Nr=require("@aws-sdk/client-cognito-identity-provider"),Uu=require("@aws-sdk/client-dynamodb"),ve=require("@aws-sdk/lib-dynamodb");var Ie=ze(require("crypto"),1),xo=require("events");var It=ze(require("crypto"),1);var X=class{computeHMACSignature(e,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,r){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}},Te=class extends Error{};var Mt=class extends X{computeHMACSignature(e,r){return It.createHmac("sha256",r).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,r){return await this.computeHMACSignature(e,r)}async computeSHA256Async(e){return new Uint8Array(await It.createHash("sha256").update(e).digest())}};var $r=ze(require("http"),1),Br=ze(require("https"),1);var q=class t{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,r,o,i,s,a,u,c){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let e=new TypeError(t.TIMEOUT_ERROR_CODE);return e.code=t.TIMEOUT_ERROR_CODE,e}};q.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];q.TIMEOUT_ERROR_CODE="ETIMEDOUT";var Z=class{constructor(e,r){this._statusCode=e,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var Xo=$r.default||$r,Zo=Br.default||Br,Ku=new Xo.Agent({keepAlive:!0}),Qu=new Zo.Agent({keepAlive:!0}),je=class extends q{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,r,o,i,s,a,u,c){let h=u==="http",l=this._agent;return l||(l=h?Ku:Qu),new Promise((p,f)=>{let m=(h?Xo:Zo).request({host:e,port:r,path:o,method:i,agent:l,headers:s,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});m.setTimeout(c,()=>{m.destroy(q.makeTimeoutError())}),m.on("response",v=>{p(new Hr(v))}),m.on("error",v=>{f(v)}),m.once("socket",v=>{v.connecting?v.once(h?"connect":"secureConnect",()=>{m.write(a),m.end()}):(m.write(a),m.end())})})}},Hr=class extends Z{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,r)=>{let o="";this._res.setEncoding("utf8"),this._res.on("data",i=>{o+=i}),this._res.once("end",()=>{try{e(JSON.parse(o))}catch(i){r(i)}})})}};var hs=ze(ds(),1),To=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function ms(t){return t&&typeof t=="object"&&To.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function re(t,e){return hs.stringify(t,{serializeDate:r=>Math.floor(r.getTime()/1e3).toString(),arrayFormat:e=="v2"?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}var Kt=(()=>{let t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let r=e.replace(/["\n\r\u2028\u2029]/g,o=>t[o]);return o=>r.replace(/\{([\s\S]+?)\}/g,(i,s)=>{let a=o[s];return Sd(a)?encodeURIComponent(a):""})}})();function Sd(t){return["number","string","boolean"].includes(typeof t)}function fs(t){let e=t.match(/\{\w+\}/g);return e?e.map(r=>r.replace(/[{}]/g,"")):[]}function we(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!ms(t[0]))return t.shift();let e=Object.keys(t[0]),r=e.filter(o=>To.includes(o));return r.length>0&&r.length!==e.length&&nt(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function Qt(t){let e={host:null,headers:{},settings:{},streaming:!1};if(t.length>0){let r=t[t.length-1];if(typeof r=="string")e.authenticator=Vt(t.pop());else if(ms(r)){let o=Object.assign({},t.pop()),i=Object.keys(o).filter(s=>!To.includes(s));if(i.length&&nt(`Invalid options found (${i.join(", ")}); ignoring.`),o.apiKey&&(e.authenticator=Vt(o.apiKey)),o.idempotencyKey&&(e.headers["Idempotency-Key"]=o.idempotencyKey),o.stripeAccount&&(e.headers["Stripe-Account"]=o.stripeAccount),o.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=o.stripeContext}if(o.apiVersion&&(e.headers["Stripe-Version"]=o.apiVersion),Number.isInteger(o.maxNetworkRetries)&&(e.settings.maxNetworkRetries=o.maxNetworkRetries),Number.isInteger(o.timeout)&&(e.settings.timeout=o.timeout),o.host&&(e.host=o.host),o.authenticator){if(o.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof o.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=o.authenticator}o.additionalHeaders&&(e.headers=o.additionalHeaders),o.streaming&&(e.streaming=!0)}}return e}function ys(t){let e=this,r=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...o){e.apply(this,o)};return Object.assign(r,e),r.prototype=Object.create(e.prototype),Object.assign(r.prototype,t),r}function Jt(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,r)=>(t[r]!=null&&(e[r]=t[r]),e),{})}function vs(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,r)=>(e[_d(r)]=t[r],e),{}):t}function _d(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function ot(t,e){return e?t.then(r=>{setTimeout(()=>{e(null,r)},0)},r=>{setTimeout(()=>{e(r,null)},0)}):t}function Ps(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function nt(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function Ed(t){let e=typeof t;return(e==="function"||e==="object")&&!!t}function gs(t){let e={},r=(o,i)=>{Object.entries(o).forEach(([s,a])=>{let u=i?`${i}[${s}]`:s;if(Ed(a)){if(!(a instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(a,"data"))return r(a,u);e[u]=a}else e[u]=String(a)})};return r(t,null),e}function Yt(t,e,r){if(!Number.isInteger(e)){if(r!==void 0)return r;throw new Error(`${t} must be an integer`)}return e}function Ts(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}function Vt(t){let e=r=>(r.headers.Authorization="Bearer "+t,Promise.resolve());return e._apiKey=t,e}function Ss(t){let e=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(e),o=0;return t.forEach(i=>{r.set(i,o),o+=i.length}),r}function xd(t,e){return this[t]instanceof Date?Math.floor(this[t].getTime()/1e3).toString():e}function _s(t){return JSON.stringify(t,xd)}function Ae(t){return t&&t.startsWith("/v2")?"v2":"v1"}function Xt(t){return Array.isArray(t)?t.join(", "):String(t)}function Es(t){let e=Array.isArray(t)?t[0]:t;return Number(e)}function xs(t){return Object.entries(t).map(([e,r])=>[e,Xt(r)])}var Zt=class t extends q{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=t.makeFetchWithAbortTimeout(e):this._fetchFn=t.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(r,o,i)=>{let s,a=new Promise((c,h)=>{s=setTimeout(()=>{s=null,h(q.makeTimeoutError())},i)}),u=e(r,o);return Promise.race([u,a]).finally(()=>{s&&clearTimeout(s)})}}static makeFetchWithAbortTimeout(e){return async(r,o,i)=>{let s=new AbortController,a=setTimeout(()=>{a=null,s.abort(q.makeTimeoutError())},i);try{return await e(r,Object.assign(Object.assign({},o),{signal:s.signal}))}catch(u){throw u.name==="AbortError"?q.makeTimeoutError():u}finally{a&&clearTimeout(a)}}}getClientName(){return"fetch"}async makeRequest(e,r,o,i,s,a,u,c){let h=u==="http",l=new URL(o,`${h?"http":"https"}://${e}`);l.port=r;let d=i=="POST"||i=="PUT"||i=="PATCH",p=a||(d?"":void 0),f=await this._fetchFn(l.toString(),{method:i,headers:xs(s),body:p},c);return new So(f)}},So=class t extends Z{constructor(e){super(e.status,t._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let r={};for(let o of e){if(!Array.isArray(o)||o.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[o[0]]=o[1]}return r}};var er=class extends X{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,r){throw new Te("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,r){let o=new TextEncoder,i=await this.subtleCrypto.importKey("raw",o.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),s=await this.subtleCrypto.sign("hmac",i,o.encode(e)),a=new Uint8Array(s),u=new Array(a.length);for(let c=0;c<a.length;c++)u[c]=_o[a[c]];return u.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}},_o=new Array(256);for(let t=0;t<_o.length;t++)_o[t]=t.toString(16).padStart(2,"0");var tr=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=Math.random()*16|0;return(e==="x"?r:r&3|8).toString(16)})}secureCompare(e,r){if(e.length!==r.length)return!1;let o=e.length,i=0;for(let s=0;s<o;++s)i|=e.charCodeAt(s)^r.charCodeAt(s);return i===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new Zt(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new er(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var ar={};Lr(ar,{StripeAPIError:()=>Re,StripeAuthenticationError:()=>Ce,StripeCardError:()=>rr,StripeConnectionError:()=>at,StripeError:()=>A,StripeIdempotencyError:()=>or,StripeInvalidGrantError:()=>nr,StripeInvalidRequestError:()=>it,StripePermissionError:()=>st,StripeRateLimitError:()=>Me,StripeSignatureVerificationError:()=>$,StripeUnknownError:()=>ir,TemporarySessionExpiredError:()=>sr,generateV1Error:()=>lt,generateV2Error:()=>Eo});var lt=t=>{switch(t.type){case"card_error":return new rr(t);case"invalid_request_error":return new it(t);case"api_error":return new Re(t);case"authentication_error":return new Ce(t);case"rate_limit_error":return new Me(t);case"idempotency_error":return new or(t);case"invalid_grant":return new nr(t);default:return new ir(t)}},Eo=t=>{switch(t.type){case"temporary_session_expired":return new sr(t)}switch(t.code){case"invalid_fields":return new it(t)}return lt(t)},A=class extends Error{constructor(e={},r=null){var o;super(e.message),this.type=r||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=(o=e.message)!==null&&o!==void 0?o:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}};A.generate=lt;var rr=class extends A{constructor(e={}){super(e,"StripeCardError")}},it=class extends A{constructor(e={}){super(e,"StripeInvalidRequestError")}},Re=class extends A{constructor(e={}){super(e,"StripeAPIError")}},Ce=class extends A{constructor(e={}){super(e,"StripeAuthenticationError")}},st=class extends A{constructor(e={}){super(e,"StripePermissionError")}},Me=class extends A{constructor(e={}){super(e,"StripeRateLimitError")}},at=class extends A{constructor(e={}){super(e,"StripeConnectionError")}},$=class extends A{constructor(e,r,o={}){super(o,"StripeSignatureVerificationError"),this.header=e,this.payload=r}},or=class extends A{constructor(e={}){super(e,"StripeIdempotencyError")}},nr=class extends A{constructor(e={}){super(e,"StripeInvalidGrantError")}},ir=class extends A{constructor(e={}){super(e,"StripeUnknownError")}},sr=class extends A{constructor(e={}){super(e,"TemporarySessionExpiredError")}};var bs=require("child_process"),bo=class extends A{},lr=class extends tr{constructor(){super(),this._exec=bs.exec,this._UNAME_CACHE=null}uuid4(){return Ie.randomUUID?Ie.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,r)=>{try{this._exec("uname -a",(o,i)=>{if(o)return e(null);e(i)})}catch{e(null)}})),this._UNAME_CACHE}secureCompare(e,r){if(!e||!r)throw new Error("secureCompare must receive two arguments");if(e.length!==r.length)return!1;if(Ie.timingSafeEqual){let o=new TextEncoder,i=o.encode(e),s=o.encode(r);return Ie.timingSafeEqual(i,s)}return super.secureCompare(e,r)}createEmitter(){return new xo.EventEmitter}tryBufferData(e){if(!(e.file.data instanceof xo.EventEmitter))return Promise.resolve(e);let r=[];return new Promise((o,i)=>{e.file.data.on("data",s=>{r.push(s)}).once("end",()=>{let s=Object.assign({},e);s.file.data=Ss(r),o(s)}).on("error",s=>{i(new bo({message:"An error occurred while attempting to process the file for upload.",detail:s}))})})}createNodeHttpClient(e){return new je(e)}createDefaultHttpClient(){return new je}createNodeCryptoProvider(){return new Mt}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};var bd=60,ur=class t{constructor(e,r){this._stripe=e,this._maxBufferedRequestMetric=r}_normalizeStripeContext(e,r){return e?e.toString()||null:r?.toString()||null}_addHeadersDirectlyToObject(e,r){e.requestId=r["request-id"],e.stripeAccount=e.stripeAccount||r["stripe-account"],e.apiVersion=e.apiVersion||r["stripe-version"],e.idempotencyKey=e.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(e,r,o){let i=Date.now(),s=i-e.request_start_time;return Jt({api_version:o["stripe-version"],account:o["stripe-account"],idempotency_key:o["idempotency-key"],method:e.method,path:e.path,status:r,request_id:this._getRequestId(o),elapsed:s,request_start_time:e.request_start_time,request_end_time:i})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,r,o){return i=>{let s=i.getHeaders(),a=()=>{let c=this._makeResponseEvent(e,i.getStatusCode(),s);this._stripe._emitter.emit("response",c),this._recordRequestMetrics(this._getRequestId(s),c.elapsed,r)},u=i.toStream(a);return this._addHeadersDirectlyToObject(u,s),o(null,u)}}_jsonResponseHandler(e,r,o,i){return s=>{let a=s.getHeaders(),u=this._getRequestId(a),c=s.getStatusCode(),h=this._makeResponseEvent(e,c,a);this._stripe._emitter.emit("response",h),s.toJSON().then(l=>{if(l.error){let d;throw typeof l.error=="string"&&(l.error={type:l.error,message:l.error_description}),l.error.headers=a,l.error.statusCode=c,l.error.requestId=u,c===401?d=new Ce(l.error):c===403?d=new st(l.error):c===429?d=new Me(l.error):r==="v2"?d=Eo(l.error):d=lt(l.error),d}return l},l=>{throw new Re({message:"Invalid JSON received from the Stripe API",exception:l,requestId:a["request-id"]})}).then(l=>{this._recordRequestMetrics(u,h.elapsed,o);let d=s.getRawResponse();this._addHeadersDirectlyToObject(d,a),Object.defineProperty(l,"lastResponse",{enumerable:!1,writable:!1,value:d}),i(null,l)},l=>i(l,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,r,o,i){return i&&r===0&&q.CONNECTION_CLOSED_ERROR_CODES.includes(i.code)?!0:r>=o?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,r=null){let o=this._stripe.getInitialNetworkRetryDelay(),i=this._stripe.getMaxNetworkRetryDelay(),s=Math.min(o*Math.pow(2,e-1),i);return s*=.5*(1+Math.random()),s=Math.max(o,s),Number.isInteger(r)&&r<=bd&&(s=Math.max(s,r)),s*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,r,o){let i=this._getMaxNetworkRetries(r),s=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(o==="v2"){if(e==="POST"||e==="DELETE")return s()}else if(o==="v1"&&e==="POST"&&i>0)return s();return null}_makeHeaders({contentType:e,contentLength:r,apiVersion:o,clientUserAgent:i,method:s,userSuppliedHeaders:a,userSuppliedSettings:u,stripeAccount:c,stripeContext:h,apiMode:l}){let d={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(l),"X-Stripe-Client-User-Agent":i,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":o,"Stripe-Account":c,"Stripe-Context":h,"Idempotency-Key":this._defaultIdempotencyKey(s,u,l)},p=s=="POST"||s=="PUT"||s=="PATCH";return(p||r)&&(p||nt(`${s} method had non-zero contentLength but no payload is expected for this verb`),d["Content-Length"]=r),Object.assign(Jt(d),vs(a))}_getUserAgentString(e){let r=this._stripe.getConstant("PACKAGE_VERSION"),o=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${r} ${o}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,r,o){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)nt("Request metrics buffer is full, dropping telemetry message.");else{let i={request_id:e,request_duration_ms:r};o&&o.length>0&&(i.usage=o),this._stripe._prevRequestMetrics.push(i)}}_rawRequest(e,r,o,i,s){return new Promise((u,c)=>{let h;try{let m=e.toUpperCase();if(m!=="POST"&&o&&Object.keys(o).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let v=[].slice.call([o,i]),P=we(v),T=m==="POST"?Object.assign({},P):null,E=Qt(v),y=E.headers,_=E.authenticator;h={requestMethod:m,requestPath:r,bodyData:T,queryData:{},authenticator:_,headers:y,host:E.host,streaming:!!E.streaming,settings:{},usage:s||["raw_request"]}}catch(m){c(m);return}function l(m,v){m?c(m):u(v)}let{headers:d,settings:p}=h,f=h.authenticator;this._request(h.requestMethod,h.host,r,h.bodyData,f,{headers:d,settings:p,streaming:h.streaming},h.usage,l)})}_request(e,r,o,i,s,a,u=[],c,h=null){var l;let d;s=(l=s??this._stripe._authenticator)!==null&&l!==void 0?l:null;let p=Ae(o),f=(P,T,E,y,_)=>setTimeout(P,this._getSleepTimeInMS(y,_),T,E,y+1),m=(P,T,E)=>{let y=a.settings&&a.settings.timeout&&Number.isInteger(a.settings.timeout)&&a.settings.timeout>=0?a.settings.timeout:this._stripe.getApiField("timeout"),_={host:r||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:o,method:e,headers:Object.assign({},T),body:d,protocol:this._stripe.getApiField("protocol")};s(_).then(()=>{let O=this._stripe.getApiField("httpClient").makeRequest(_.host,_.port,_.path,_.method,_.headers,_.body,_.protocol,y),L=Date.now(),C=Jt({api_version:P,account:Xt(T["Stripe-Account"]),idempotency_key:Xt(T["Idempotency-Key"]),method:e,path:o,request_start_time:L}),N=E||0,k=this._getMaxNetworkRetries(a.settings||{});this._stripe._emitter.emit("request",C),O.then(M=>t._shouldRetry(M,N,k)?f(m,P,T,N,Es(M.getHeaders()["retry-after"])):a.streaming&&M.getStatusCode()<400?this._streamingResponseHandler(C,u,c)(M):this._jsonResponseHandler(C,p,u,c)(M)).catch(M=>{if(t._shouldRetry(null,N,k,M))return f(m,P,T,N,null);{let Pe=M.code&&M.code===q.TIMEOUT_ERROR_CODE;return c(new at({message:Pe?`Request aborted due to timeout being reached (${y}ms)`:t._generateConnectionErrorMessage(N),detail:M}))}})}).catch(O=>{throw new A({message:"Unable to authenticate the request",exception:O})})},v=(P,T)=>{if(P)return c(P);d=T,this._stripe.getClientUserAgent(E=>{var y,_,O;let L=this._stripe.getApiField("version"),C=this._makeHeaders({contentType:p=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:Buffer.byteLength(d,"utf8"),apiVersion:L,clientUserAgent:E,method:e,userSuppliedHeaders:(y=a.headers)!==null&&y!==void 0?y:null,userSuppliedSettings:(_=a.settings)!==null&&_!==void 0?_:{},stripeAccount:(O=a.stripeAccount)!==null&&O!==void 0?O:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(a.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:p});m(L,C,0)})};if(h)h(e,i,a.headers,v);else{let P;p=="v2"?P=i?_s(i):"":P=re(i||{},p),v(null,P)}}};var cr=class{constructor(e,r,o,i){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=r,this.spec=o,this.stripeResource=i}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let r=ws(this.requestArgs);if(this.index<e.data.length){let o=r?e.data.length-1-this.index:this.index,i=e.data[o];return this.index+=1,{value:i,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let o=await this.pagePromise;return this.iterate(o)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let r=await this._next();return this.promiseCache.currentPromise=null,r})();return this.promiseCache.currentPromise=e,e}},wo=class extends cr{getNextPage(e){let r=ws(this.requestArgs),o=Rd(e,r);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[r?"ending_before":"starting_after"]:o})}},Ao=class extends cr{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}},Ro=class{constructor(e,r,o,i){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=r,this.spec=o,this.stripeResource=i}async turnPage(){let e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;let r=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(r.next_page_url),this.currentPageIterator=Promise.resolve(r.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let o=(await this.currentPageIterator).next();if(!o.done)return{done:!1,value:o.value}}let e=await this.turnPage();if(!e)return{done:!0,value:void 0};let r=e.next();return r.done?{done:!0,value:void 0}:{done:!1,value:r.value}}},Os=(t,e,r,o)=>{let i=Ae(r.fullPath||r.path);return i!=="v2"&&r.methodType==="search"?Oo(new Ao(o,e,r,t)):i!=="v2"&&r.methodType==="list"?Oo(new wo(o,e,r,t)):i==="v2"&&r.methodType==="list"?Oo(new Ro(o,e,r,t)):null},Oo=t=>{let e=Cd((...i)=>t.next(...i)),r=Md(e),o={autoPagingEach:e,autoPagingToArray:r,next:()=>t.next(),return:()=>({}),[Od()]:()=>o};return o};function Od(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function wd(t){if(t.length<2)return null;let e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function Ad(t){if(t.length===0)return;let e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(o,i){let s=e(o);i(s)}}function Rd(t,e){let r=e?0:t.data.length-1,o=t.data[r],i=o&&o.id;if(!i)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return i}function Cd(t){return function(){let r=[].slice.call(arguments),o=Ad(r),i=wd(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let s=Id(t,o);return ot(s,i)}}function Md(t){return function(r,o){let i=r&&r.limit;if(!i)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(i>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let s=new Promise((a,u)=>{let c=[];t(h=>{if(c.push(h),c.length>=i)return!1}).then(()=>{a(c)}).catch(u)});return ot(s,o)}}function Id(t,e){return new Promise((r,o)=>{function i(s){if(s.done){r();return}let a=s.value;return new Promise(u=>{e(a,u)}).then(u=>u===!1?i({done:!0,value:void 0}):t().then(i))}t().then(i).catch(o)})}function ws(t){let e=[].slice.call(t);return!!we(e).ending_before}function As(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){let r=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=fs(t.fullPath||this.createResourcePathWithSymbols(t.path||""));let o=ot(this._makeRequest(e,t,{}),r);return Object.assign(o,Os(this,e,t,o)),o}}n.extend=ys;n.method=As;n.MAX_BUFFERED_REQUEST_METRICS=100;function n(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Kt(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=Kt(this.path),this.initialize(...arguments)}n.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){let r=[this.basePath(e),this.path(e)];if(typeof t=="function"){let o=t(e);o&&r.push(o)}else r.push(t);return this._joinUrlParts(r)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,r){var o;let i=(e.method||"GET").toUpperCase(),s=e.usage||[],a=e.urlParams||[],u=e.encode||(C=>C),c=!!e.fullPath,h=Kt(c?e.fullPath:e.path||""),l=c?e.fullPath:this.createResourcePathWithSymbols(e.path),d=[].slice.call(t),p=a.reduce((C,N)=>{let k=d.shift();if(typeof k!="string")throw new Error(`Stripe: Argument "${N}" must be a string, but got: ${k} (on API request to \`${i} ${l}\`)`);return C[N]=k,C},{}),f=we(d),m=u(Object.assign({},f,r)),v=Qt(d),P=v.host||e.host,T=!!e.streaming||!!v.streaming;if(d.filter(C=>C!=null).length)throw new Error(`Stripe: Unknown arguments (${d}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${i} \`${l}\`)`);let E=c?h(p):this.createFullPath(h,p),y=Object.assign(v.headers,e.headers);e.validator&&e.validator(m,{headers:y});let _=e.method==="GET"||e.method==="DELETE";return{requestMethod:i,requestPath:E,bodyData:_?null:m,queryData:_?m:{},authenticator:(o=v.authenticator)!==null&&o!==void 0?o:null,headers:y,host:P??null,streaming:T,settings:v.settings,usage:s}},_makeRequest(t,e,r){return new Promise((o,i)=>{var s;let a;try{a=this._getRequestOpts(t,e,r)}catch(p){i(p);return}function u(p,f){p?i(p):o(e.transformResponseData?e.transformResponseData(f):f)}let c=Object.keys(a.queryData).length===0,h=[a.requestPath,c?"":"?",re(a.queryData,Ae(a.requestPath))].join(""),{headers:l,settings:d}=a;this._stripe._requestSender._request(a.requestMethod,a.host,h,a.bodyData,a.authenticator,{headers:l,settings:d,streaming:a.streaming},a.usage,u,(s=this.requestDataProcessor)===null||s===void 0?void 0:s.bind(this))})}};var ut=class t{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw new Error("Segment cannot be null or undefined");return new t([...this._segments,e])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new t(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return e?new t(e.split("/")):new t([])}};function Rs(t){let e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(l,d,p,f,m,v){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(l,d,p,f||e.DEFAULT_TOLERANCE,m,v)}catch(T){throw T instanceof Te&&(T.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),T}return l instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(l)):JSON.parse(l)},async constructEventAsync(l,d,p,f,m,v){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(l,d,p,f||e.DEFAULT_TOLERANCE,m,v),l instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(l)):JSON.parse(l)},generateTestHeaderString:function(l){let d=h(l),p=d.signature||d.cryptoProvider.computeHMACSignature(d.payloadString,d.secret);return d.generateHeaderString(p)},generateTestHeaderStringAsync:async function(l){let d=h(l),p=d.signature||await d.cryptoProvider.computeHMACSignatureAsync(d.payloadString,d.secret);return d.generateHeaderString(p)}},r={EXPECTED_SCHEME:"v1",verifyHeader(l,d,p,f,m,v){let{decodedHeader:P,decodedPayload:T,details:E,suspectPayloadType:y}=i(l,d,this.EXPECTED_SCHEME),_=/\s/.test(p);m=m||c();let O=m.computeHMACSignature(o(T,E),p);return s(T,P,E,O,f,y,_,v),!0},async verifyHeaderAsync(l,d,p,f,m,v){let{decodedHeader:P,decodedPayload:T,details:E,suspectPayloadType:y}=i(l,d,this.EXPECTED_SCHEME),_=/\s/.test(p);m=m||c();let O=await m.computeHMACSignatureAsync(o(T,E),p);return s(T,P,E,O,f,y,_,v)}};function o(l,d){return`${d.timestamp}.${l}`}function i(l,d,p){if(!l)throw new $(d,l,{message:"No webhook payload was provided."});let f=typeof l!="string"&&!(l instanceof Uint8Array),m=new TextDecoder("utf8"),v=l instanceof Uint8Array?m.decode(l):l;if(Array.isArray(d))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(d==null||d=="")throw new $(d,l,{message:"No stripe-signature header value was provided."});let P=d instanceof Uint8Array?m.decode(d):d,T=a(P,p);if(!T||T.timestamp===-1)throw new $(P,v,{message:"Unable to extract timestamp and signatures from header"});if(!T.signatures.length)throw new $(P,v,{message:"No signatures found with expected scheme"});return{decodedPayload:v,decodedHeader:P,details:T,suspectPayloadType:f}}function s(l,d,p,f,m,v,P,T){let E=!!p.signatures.filter(t.secureCompare.bind(t,f)).length,y=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,_=P?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!E)throw v?new $(d,l,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+y+`
`+_}):new $(d,l,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+y+`
`+_});let O=Math.floor((typeof T=="number"?T:Date.now())/1e3)-p.timestamp;if(m>0&&O>m)throw new $(d,l,{message:"Timestamp outside the tolerance zone"});return!0}function a(l,d){return typeof l!="string"?null:l.split(",").reduce((p,f)=>{let m=f.split("=");return m[0]==="t"&&(p.timestamp=parseInt(m[1],10)),m[0]===d&&p.signatures.push(m[1]),p},{timestamp:-1,signatures:[]})}let u=null;function c(){return u||(u=t.createDefaultCryptoProvider()),u}function h(l){if(!l)throw new A({message:"Options are required"});let d=Math.floor(l.timestamp)||Math.floor(Date.now()/1e3),p=l.scheme||r.EXPECTED_SCHEME,f=l.cryptoProvider||c(),m=`${d}.${l.payload}`,v=P=>`t=${d},${p}=${P}`;return Object.assign(Object.assign({},l),{timestamp:d,scheme:p,cryptoProvider:f,payloadString:m,generateHeaderString:v})}return e.signature=r,e}var Co="2025-10-29.clover";var $e={};Lr($e,{Account:()=>Bo,AccountLinks:()=>dl,AccountSessions:()=>hl,Accounts:()=>Bo,ApplePayDomains:()=>ml,ApplicationFees:()=>fl,Apps:()=>rh,Balance:()=>yl,BalanceSettings:()=>Pl,BalanceTransactions:()=>Tl,Billing:()=>oh,BillingPortal:()=>nh,Charges:()=>Sl,Checkout:()=>ih,Climate:()=>sh,ConfirmationTokens:()=>_l,CountrySpecs:()=>xl,Coupons:()=>bl,CreditNotes:()=>Ol,CustomerSessions:()=>wl,Customers:()=>Al,Disputes:()=>Rl,Entitlements:()=>ah,EphemeralKeys:()=>Ml,Events:()=>Gl,ExchangeRates:()=>ql,FileLinks:()=>kl,Files:()=>Fl,FinancialConnections:()=>lh,Forwarding:()=>uh,Identity:()=>ch,InvoiceItems:()=>Ul,InvoicePayments:()=>Hl,InvoiceRenderingTemplates:()=>$l,Invoices:()=>Bl,Issuing:()=>ph,Mandates:()=>zl,OAuth:()=>Wl,PaymentAttemptRecords:()=>Kl,PaymentIntents:()=>Ql,PaymentLinks:()=>Jl,PaymentMethodConfigurations:()=>Yl,PaymentMethodDomains:()=>Xl,PaymentMethods:()=>Zl,PaymentRecords:()=>eu,Payouts:()=>tu,Plans:()=>ru,Prices:()=>ou,Products:()=>nu,PromotionCodes:()=>iu,Quotes:()=>su,Radar:()=>dh,Refunds:()=>au,Reporting:()=>hh,Reviews:()=>lu,SetupAttempts:()=>uu,SetupIntents:()=>cu,ShippingRates:()=>pu,Sigma:()=>mh,Sources:()=>du,SubscriptionItems:()=>hu,SubscriptionSchedules:()=>mu,Subscriptions:()=>fu,Tax:()=>fh,TaxCodes:()=>vu,TaxIds:()=>Pu,TaxRates:()=>gu,Terminal:()=>yh,TestHelpers:()=>vh,Tokens:()=>Su,Topups:()=>_u,Transfers:()=>Eu,Treasury:()=>Ph,V2:()=>gh,WebhookEndpoints:()=>xu});function Gd(t,e){for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let o=r[0].toLowerCase()+r.substring(1),i=new e[r](t);this[o]=i}}function b(t,e){return function(r){return new Gd(r,e)}}var de=n.method,Cs=n.extend({retrieve:de({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:de({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:de({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var Ms=n.method,Is=n.extend({retrieve:Ms({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:Ms({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var Ge=n.method,Gs=n.extend({create:Ge({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:Ge({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:Ge({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:Ge({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:Ge({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:Ge({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var ct=n.method,Ds=n.extend({retrieve:ct({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:ct({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:ct({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:ct({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:ct({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var he=n.method,qs=n.extend({create:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var Mo=n.method,ks=n.extend({create:Mo({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:Mo({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:Mo({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var pr=n.method,Ns=n.extend({create:pr({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:pr({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:pr({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:pr({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var dr=n.method,Fs=n.extend({create:dr({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:dr({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:dr({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:dr({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var pt=n.method,Us=n.extend({deliverCard:pt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:pt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:pt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:pt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:pt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var hr=n.method,Ls=n.extend({create:hr({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:hr({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:hr({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:hr({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var dt=n.method,Hs=n.extend({create:dt({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:dt({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:dt({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:dt({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:dt({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var Dd=n.method,$s=n.extend({create:Dd({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var qd=n.method,Bs=n.extend({create:qd({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var kd=n.method,zs=n.extend({retrieve:kd({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var js=n.method,Ws=n.extend({retrieve:js({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:js({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var De=n.method,Vs=n.extend({create:De({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:De({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:De({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:De({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:De({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:De({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var Io=n.method,Ks=n.extend({create:Io({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:Io({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:Io({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var Nd=n.method,Qs=n.extend({fundCashBalance:Nd({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var Go=n.method,Js=n.extend({create:Go({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:Go({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:Go({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var ht=n.method,Ys=n.extend({create:ht({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:ht({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:ht({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:ht({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:ht({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var Xs=n.method,Zs=n.extend({retrieve:Xs({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:Xs({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var oe=n.method,ea=n.extend({create:oe({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:oe({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:oe({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:oe({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var Do=n.method,ta=n.extend({retrieve(...t){return Do({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:r=>this.addFetchRelatedObjectIfNeeded(r)}).apply(this,t)},list(...t){return Do({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:r=>Object.assign(Object.assign({},r),{data:r.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,t)},addFetchRelatedObjectIfNeeded(t){return!t.related_object||!t.related_object.url?t:Object.assign(Object.assign({},t),{fetchRelatedObject:()=>Do({method:"GET",fullPath:t.related_object.url}).apply(this,[{stripeContext:t.context}])})}});var mr=n.method,ra=n.extend({create:mr({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:mr({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:mr({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:mr({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var me=n.method,oa=n.extend({create:me({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:me({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:me({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:me({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:me({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:me({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:me({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var qo=n.method,na=n.extend({fail:qo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:qo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:qo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var fr=n.method,ia=n.extend({create:fr({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:fr({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:fr({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:fr({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var mt=n.method,sa=n.extend({create:mt({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:mt({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:mt({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:mt({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:mt({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var Fd=n.method,aa=n.extend({create:Fd({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var Ud=n.method,la=n.extend({create:Ud({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var Ld=n.method,ua=n.extend({create:Ld({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var Hd=n.method,ca=n.extend({create:Hd({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var $d=n.method,pa=n.extend({create:$d({method:"POST",fullPath:"/v1/billing/meter_events"})});var Bd=n.method,da=n.extend({create:Bd({method:"POST",fullPath:"/v2/billing/meter_events"})});var fe=n.method,ha=n.extend({create:fe({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:fe({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:fe({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:fe({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:fe({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:fe({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:fe({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var ft=n.method,ma=n.extend({create:ft({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:ft({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:ft({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:ft({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:ft({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var yr=n.method,fa=n.extend({update:yr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:yr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:yr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:yr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var vr=n.method,ya=n.extend({create:vr({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:vr({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:vr({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:vr({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var Pr=n.method,va=n.extend({update:Pr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Pr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Pr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Pr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var gr=n.method,Pa=n.extend({create:gr({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:gr({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:gr({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:gr({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var Tr=n.method,ga=n.extend({create:Tr({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Tr({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Tr({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Tr({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var ko=n.method,Ta=n.extend({activate:ko({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:ko({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:ko({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var Sa=n.method,_a=n.extend({retrieve:Sa({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:Sa({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var Ea=n.method,xa=n.extend({retrieve:Ea({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:Ea({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var F=n.method,ba=n.extend({create:F({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:F({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:F({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:F({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:F({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var No=n.method,Oa=n.extend({presentPaymentMethod:No({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:No({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:No({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var zd=n.method,wa=n.extend({create:zd({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var Aa=n.method,Ra=n.extend({retrieve:Aa({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:Aa({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var jd=n.method,Ca=n.extend({create:jd({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var Ma=n.method,Ia=n.extend({retrieve:Ma({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:Ma({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var Wd=n.method,Ga=n.extend({expire:Wd({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var Sr=n.method,Da=n.extend({create:Sr({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Sr({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Sr({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Sr({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var Fo=n.method,qa=n.extend({create:Fo({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:Fo({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:Fo({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var ka=n.method,Na=n.extend({retrieve:ka({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:ka({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var Uo=n.method,Fa=n.extend({create:Uo({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:Uo({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:Uo({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var Ua=n.method,La=n.extend({retrieve:Ua({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:Ua({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var _r=n.method,Ha=n.extend({create:_r({method:"POST",fullPath:"/v1/apps/secrets"}),list:_r({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:_r({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:_r({method:"GET",fullPath:"/v1/apps/secrets/find"})});var Vd=n.method,$a=n.extend({create:Vd({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var qe=n.method,Ba=n.extend({create:qe({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:qe({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:qe({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:qe({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:qe({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:qe({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var za=n.method,ja=n.extend({create:za({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:za({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var Wa=n.method,Va=n.extend({retrieve:Wa({method:"GET",fullPath:"/v1/tax/settings"}),update:Wa({method:"POST",fullPath:"/v1/tax/settings"})});var Ka=n.method,Qa=n.extend({retrieve:Ka({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:Ka({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var yt=n.method,Ja=n.extend({create:yt({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:yt({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:yt({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:yt({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:yt({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var Lo=n.method,Ya=n.extend({retrieve:Lo({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Lo({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Lo({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var Xa=n.method,Za=n.extend({retrieve:Xa({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:Xa({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var el=n.method,tl=n.extend({retrieve:el({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:el({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var Ho=n.method,rl=n.extend({retrieve:Ho({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:Ho({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:Ho({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var Er=n.method,ol=n.extend({retrieve:Er({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Er({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Er({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Er({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var $o=n.method,nl=n.extend({createForceCapture:$o({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:$o({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:$o({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var il=n.method,sl=n.extend({retrieve:il({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:il({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var xr=n.method,al=n.extend({create:xr({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:xr({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:xr({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:xr({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var vt=n.method,ll=n.extend({create:vt({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:vt({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:vt({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:vt({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:vt({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var ul=n.method,cl=n.extend({retrieve:ul({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:ul({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var ke=n.method,pl=n.extend({create:ke({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:ke({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:ke({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:ke({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:ke({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:ke({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var R=n.method,Bo=n.extend({create:R({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?R({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),R({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:R({method:"POST",fullPath:"/v1/accounts/{account}"}),list:R({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:R({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:R({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:R({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:R({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:R({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:R({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:R({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:R({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:R({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:R({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:R({method:"GET",fullPath:"/v1/account"}),retrieveCapability:R({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:R({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:R({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:R({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:R({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:R({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var Kd=n.method,dl=n.extend({create:Kd({method:"POST",fullPath:"/v1/account_links"})});var Qd=n.method,hl=n.extend({create:Qd({method:"POST",fullPath:"/v1/account_sessions"})});var br=n.method,ml=n.extend({create:br({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:br({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:br({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:br({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var Ne=n.method,fl=n.extend({retrieve:Ne({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Ne({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Ne({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Ne({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Ne({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Ne({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var Jd=n.method,yl=n.extend({retrieve:Jd({method:"GET",fullPath:"/v1/balance"})});var vl=n.method,Pl=n.extend({retrieve:vl({method:"GET",fullPath:"/v1/balance_settings"}),update:vl({method:"POST",fullPath:"/v1/balance_settings"})});var gl=n.method,Tl=n.extend({retrieve:gl({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:gl({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var Fe=n.method,Sl=n.extend({create:Fe({method:"POST",fullPath:"/v1/charges"}),retrieve:Fe({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Fe({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Fe({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Fe({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Fe({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var Yd=n.method,_l=n.extend({retrieve:Yd({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var El=n.method,xl=n.extend({retrieve:El({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:El({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var Pt=n.method,bl=n.extend({create:Pt({method:"POST",fullPath:"/v1/coupons"}),retrieve:Pt({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Pt({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Pt({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Pt({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var ne=n.method,Ol=n.extend({create:ne({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:ne({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:ne({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:ne({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:ne({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:ne({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:ne({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:ne({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var Xd=n.method,wl=n.extend({create:Xd({method:"POST",fullPath:"/v1/customer_sessions"})});var x=n.method,Al=n.extend({create:x({method:"POST",fullPath:"/v1/customers"}),retrieve:x({method:"GET",fullPath:"/v1/customers/{customer}"}),update:x({method:"POST",fullPath:"/v1/customers/{customer}"}),list:x({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:x({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:x({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:x({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:x({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:x({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:x({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:x({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:x({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:x({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:x({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:x({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:x({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:x({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:x({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:x({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:x({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:x({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:x({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var Or=n.method,Rl=n.extend({retrieve:Or({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Or({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Or({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Or({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var Cl=n.method,Ml=n.extend({create:Cl({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:Cl({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var Il=n.method,Gl=n.extend({retrieve:Il({method:"GET",fullPath:"/v1/events/{id}"}),list:Il({method:"GET",fullPath:"/v1/events",methodType:"list"})});var Dl=n.method,ql=n.extend({retrieve:Dl({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:Dl({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var wr=n.method,kl=n.extend({create:wr({method:"POST",fullPath:"/v1/file_links"}),retrieve:wr({method:"GET",fullPath:"/v1/file_links/{link}"}),update:wr({method:"POST",fullPath:"/v1/file_links/{link}"}),list:wr({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var Zd=(t,e,r)=>{let o=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${o}`;let i=new TextEncoder,s=new Uint8Array(0),a=i.encode(`\r
`);function u(l){let d=s,p=l instanceof Uint8Array?l:new Uint8Array(i.encode(l));s=new Uint8Array(d.length+p.length+2),s.set(d),s.set(p,d.length),s.set(a,s.length-2)}function c(l){return`"${l.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let h=gs(e);for(let l in h){if(!Object.prototype.hasOwnProperty.call(h,l))continue;let d=h[l];if(u(`--${o}`),Object.prototype.hasOwnProperty.call(d,"data")){let p=d;u(`Content-Disposition: form-data; name=${c(l)}; filename=${c(p.name||"blob")}`),u(`Content-Type: ${p.type||"application/octet-stream"}`),u(""),u(p.data)}else u(`Content-Disposition: form-data; name=${c(l)}`),u(""),u(d)}return u(`--${o}--`),s};function Nl(t,e,r,o){if(e=e||{},t!=="POST")return o(null,re(e));this._stripe._platformFunctions.tryBufferData(e).then(i=>{let s=Zd(t,i,r);return o(null,s)}).catch(i=>o(i,null))}var zo=n.method,Fl=n.extend({create:zo({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:zo({method:"GET",fullPath:"/v1/files/{file}"}),list:zo({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:Nl});var gt=n.method,Ul=n.extend({create:gt({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:gt({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:gt({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:gt({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:gt({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var Ll=n.method,Hl=n.extend({retrieve:Ll({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:Ll({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var Ar=n.method,$l=n.extend({retrieve:Ar({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Ar({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Ar({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Ar({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var D=n.method,Bl=n.extend({create:D({method:"POST",fullPath:"/v1/invoices"}),retrieve:D({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:D({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:D({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:D({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:D({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:D({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:D({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:D({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:D({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:D({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:D({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:D({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:D({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:D({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:D({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:D({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:D({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var eh=n.method,zl=n.extend({retrieve:eh({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var jl=n.method,jo="connect.stripe.com",Wl=n.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let r="oauth/authorize";return e.express&&(r=`express/${r}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${jo}/${r}?${re(t)}`},token:jl({method:"POST",path:"oauth/token",host:jo}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),jl({method:"POST",path:"oauth/deauthorize",host:jo}).apply(this,[t,...e])}});var Vl=n.method,Kl=n.extend({retrieve:Vl({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:Vl({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var U=n.method,Ql=n.extend({create:U({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:U({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:U({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:U({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:U({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:U({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:U({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:U({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:U({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:U({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:U({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:U({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var Tt=n.method,Jl=n.extend({create:Tt({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Tt({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Tt({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Tt({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Tt({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var Rr=n.method,Yl=n.extend({create:Rr({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Rr({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Rr({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Rr({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var St=n.method,Xl=n.extend({create:St({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:St({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:St({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:St({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:St({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var Ue=n.method,Zl=n.extend({create:Ue({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Ue({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Ue({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Ue({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Ue({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Ue({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var ie=n.method,eu=n.extend({retrieve:ie({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:ie({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var Le=n.method,tu=n.extend({create:Le({method:"POST",fullPath:"/v1/payouts"}),retrieve:Le({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Le({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Le({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Le({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Le({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var _t=n.method,ru=n.extend({create:_t({method:"POST",fullPath:"/v1/plans"}),retrieve:_t({method:"GET",fullPath:"/v1/plans/{plan}"}),update:_t({method:"POST",fullPath:"/v1/plans/{plan}"}),list:_t({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:_t({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var Et=n.method,ou=n.extend({create:Et({method:"POST",fullPath:"/v1/prices"}),retrieve:Et({method:"GET",fullPath:"/v1/prices/{price}"}),update:Et({method:"POST",fullPath:"/v1/prices/{price}"}),list:Et({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Et({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var W=n.method,nu=n.extend({create:W({method:"POST",fullPath:"/v1/products"}),retrieve:W({method:"GET",fullPath:"/v1/products/{id}"}),update:W({method:"POST",fullPath:"/v1/products/{id}"}),list:W({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:W({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:W({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:W({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:W({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:W({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:W({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var Cr=n.method,iu=n.extend({create:Cr({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Cr({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Cr({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Cr({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var V=n.method,su=n.extend({create:V({method:"POST",fullPath:"/v1/quotes"}),retrieve:V({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:V({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:V({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:V({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:V({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:V({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:V({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:V({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:V({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var xt=n.method,au=n.extend({create:xt({method:"POST",fullPath:"/v1/refunds"}),retrieve:xt({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:xt({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:xt({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:xt({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var Wo=n.method,lu=n.extend({retrieve:Wo({method:"GET",fullPath:"/v1/reviews/{review}"}),list:Wo({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:Wo({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var th=n.method,uu=n.extend({list:th({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var ye=n.method,cu=n.extend({create:ye({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:ye({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:ye({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var Mr=n.method,pu=n.extend({create:Mr({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Mr({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Mr({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Mr({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var bt=n.method,du=n.extend({create:bt({method:"POST",fullPath:"/v1/sources"}),retrieve:bt({method:"GET",fullPath:"/v1/sources/{source}"}),update:bt({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:bt({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:bt({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var Ot=n.method,hu=n.extend({create:Ot({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:Ot({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:Ot({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:Ot({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:Ot({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var He=n.method,mu=n.extend({create:He({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:He({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:He({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:He({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:He({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:He({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var J=n.method,fu=n.extend({create:J({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:J({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:J({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:J({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:J({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:J({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:J({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:J({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:J({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var yu=n.method,vu=n.extend({retrieve:yu({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:yu({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var Ir=n.method,Pu=n.extend({create:Ir({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:Ir({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:Ir({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:Ir({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var Gr=n.method,gu=n.extend({create:Gr({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:Gr({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:Gr({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:Gr({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var Tu=n.method,Su=n.extend({create:Tu({method:"POST",fullPath:"/v1/tokens"}),retrieve:Tu({method:"GET",fullPath:"/v1/tokens/{token}"})});var wt=n.method,_u=n.extend({create:wt({method:"POST",fullPath:"/v1/topups"}),retrieve:wt({method:"GET",fullPath:"/v1/topups/{topup}"}),update:wt({method:"POST",fullPath:"/v1/topups/{topup}"}),list:wt({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:wt({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var se=n.method,Eu=n.extend({create:se({method:"POST",fullPath:"/v1/transfers"}),retrieve:se({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:se({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:se({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:se({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:se({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:se({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:se({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var At=n.method,xu=n.extend({create:At({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:At({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:At({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:At({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:At({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var rh=b("apps",{Secrets:Ha}),oh=b("billing",{Alerts:Gs,CreditBalanceSummary:zs,CreditBalanceTransactions:Ws,CreditGrants:Vs,MeterEventAdjustments:aa,MeterEvents:pa,Meters:ha}),nh=b("billingPortal",{Configurations:Ls,Sessions:$a}),ih=b("checkout",{Sessions:Ba}),sh=b("climate",{Orders:ma,Products:xa,Suppliers:Qa}),ah=b("entitlements",{ActiveEntitlements:Is,Features:ra}),lh=b("financialConnections",{Accounts:Cs,Sessions:ja,Transactions:tl}),uh=b("forwarding",{Requests:Fa}),ch=b("identity",{VerificationReports:cl,VerificationSessions:pl}),ph=b("issuing",{Authorizations:Ds,Cardholders:Ns,Cards:Fs,Disputes:Ys,PersonalizationDesigns:ga,PhysicalBundles:_a,Tokens:Ya,Transactions:rl}),dh=b("radar",{EarlyFraudWarnings:Zs,ValueListItems:al,ValueLists:ll}),hh=b("reporting",{ReportRuns:qa,ReportTypes:Na}),mh=b("sigma",{ScheduledQueryRuns:La}),fh=b("tax",{Calculations:ks,Registrations:Da,Settings:Va,Transactions:ol}),yh=b("terminal",{Configurations:Hs,ConnectionTokens:Bs,Locations:sa,Readers:ba}),vh=b("testHelpers",{ConfirmationTokens:$s,Customers:Qs,Refunds:Ga,TestClocks:Ja,Issuing:b("issuing",{Authorizations:qs,Cards:Us,PersonalizationDesigns:Ta,Transactions:nl}),Terminal:b("terminal",{Readers:Oa}),Treasury:b("treasury",{InboundTransfers:na,OutboundPayments:fa,OutboundTransfers:va,ReceivedCredits:wa,ReceivedDebits:Ca})}),Ph=b("treasury",{CreditReversals:Ks,DebitReversals:Js,FinancialAccounts:oa,InboundTransfers:ia,OutboundPayments:ya,OutboundTransfers:Pa,ReceivedCredits:Ra,ReceivedDebits:Ia,TransactionEntries:Za,Transactions:sl}),gh=b("v2",{Billing:b("billing",{MeterEventAdjustments:la,MeterEventSession:ua,MeterEventStream:ca,MeterEvents:da}),Core:b("core",{EventDestinations:ea,Events:ta})});var bu="api.stripe.com",Ou="443",wu="/v1/",Au=Co,Ru=8e4,Cu=5,Mu=.5,Th=["name","version","url","partner_id"],Iu=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Sh=t=>new ur(t,n.MAX_BUFFERED_REQUEST_METRICS);function Gu(t,e=Sh){r.PACKAGE_VERSION="19.3.0",r.API_VERSION=Co,r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},Ts()),r.StripeResource=n,r.StripeContext=ut,r.resources=$e,r.HttpClient=q,r.HttpClientResponse=Z,r.CryptoProvider=X,r.webhooks=Rs(t);function r(o,i={}){if(!(this instanceof r))return new r(o,i);let s=this._getPropsFromConfig(i);this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let a=s.httpAgent||null;this._api={host:s.host||bu,port:s.port||Ou,protocol:s.protocol||"https",basePath:wu,version:s.apiVersion||Au,timeout:Yt("timeout",s.timeout,Ru),maxNetworkRetries:Yt("maxNetworkRetries",s.maxNetworkRetries,2),agent:a,httpClient:s.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:s.stripeAccount||null,stripeContext:s.stripeContext||null};let u=s.typescript||!1;u!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=u),s.appInfo&&this._setAppInfo(s.appInfo),this._prepResources(),this._setAuthenticator(o,s.authenticator),this.errors=ar,this.webhooks=r.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=s.telemetry!==!1,this._requestSender=e(this),this.StripeResource=r.StripeResource}return r.errors=ar,r.createNodeHttpClient=t.createNodeHttpClient,r.createFetchHttpClient=t.createFetchHttpClient,r.createNodeCryptoProvider=t.createNodeCryptoProvider,r.createSubtleCryptoProvider=t.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(o,i,s,a){return this._requestSender._rawRequest(o,i,s,a)},_setAuthenticator(o,i){if(o&&i)throw new Error("Can't specify both apiKey and authenticator");if(!o&&!i)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=o?Vt(o):i},_setAppInfo(o){if(o&&typeof o!="object")throw new Error("AppInfo must be an object.");if(o&&!o.name)throw new Error("AppInfo.name is required");o=o||{},this._appInfo=Th.reduce((i,s)=>(typeof o[s]=="string"&&(i=i||{},i[s]=o[s]),i),{})},_setApiField(o,i){this._api[o]=i},getApiField(o){return this._api[o]},setClientId(o){this._clientId=o},getClientId(){return this._clientId},getConstant:o=>{switch(o){case"DEFAULT_HOST":return bu;case"DEFAULT_PORT":return Ou;case"DEFAULT_BASE_PATH":return wu;case"DEFAULT_API_VERSION":return Au;case"DEFAULT_TIMEOUT":return Ru;case"MAX_NETWORK_RETRY_DELAY_SEC":return Cu;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return Mu}return r[o]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(o,i,s){let a=Yt(o,i,s);this._setApiField(o,a)},getMaxNetworkRetryDelay(){return Cu},getInitialNetworkRetryDelay(){return Mu},getClientUserAgent(o){return this.getClientUserAgentSeeded(r.USER_AGENT,o)},getClientUserAgentSeeded(o,i){this._platformFunctions.getUname().then(s=>{var a;let u={};for(let h in o)Object.prototype.hasOwnProperty.call(o,h)&&(u[h]=encodeURIComponent((a=o[h])!==null&&a!==void 0?a:"null"));u.uname=encodeURIComponent(s||"UNKNOWN");let c=this.getApiField("httpClient");c&&(u.httplib=encodeURIComponent(c.getClientName())),this._appInfo&&(u.application=this._appInfo),i(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let o=this._appInfo.name;return this._appInfo.version&&(o+=`/${this._appInfo.version}`),this._appInfo.url&&(o+=` (${this._appInfo.url})`),o},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let o in $e)Object.prototype.hasOwnProperty.call($e,o)&&(this[Ps(o)]=new $e[o](this))},_getPropsFromConfig(o){if(!o)return{};let i=typeof o=="string";if(!(o===Object(o)&&!Array.isArray(o))&&!i)throw new Error("Config must either be an object or a string");if(i)return{apiVersion:o};if(Object.keys(o).filter(u=>!Iu.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${Iu.join(", ")}`);return o},parseEventNotification(o,i,s,a,u,c){let h=this.webhooks.constructEvent(o,i,s,a,u,c);return h.context&&(h.context=ut.parse(h.context)),h.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${h.id}`,void 0,{stripeContext:h.context},["fetch_event"]),h.fetchRelatedObject=()=>h.related_object?this._requestSender._rawRequest("GET",h.related_object.url,void 0,{stripeContext:h.context},["fetch_related_object"]):Promise.resolve(null),h}},r}var _h=Gu(new lr),Du=_h;var{USER_POOL_ID:Lu="",TABLE_NAME:kr=""}=process.env;if(!kr)throw new Error("Missing env TABLE_NAME");if(!Lu)throw new Error("Missing env USER_POOL_ID");var qu=process.env.STRIPE_SECRET_KEY||"",ku=process.env.STRIPE_PRICE_ID||"",Nu=(process.env.BASE_SUCCESS_URL||"http://localhost:5173").replace(/\/$/,""),Eh=new Nr.CognitoIdentityProviderClient({}),Vo=ve.DynamoDBDocumentClient.from(new Uu.DynamoDBClient({}),{marshallOptions:{removeUndefinedValues:!0}}),Ko=t=>`USER#${t}`,Qo="BESTIE";async function qr(t){let r=(await Vo.send(new ve.GetCommand({TableName:kr,Key:{pk:Ko(t),sk:Qo}}))).Item??{};return{active:!!r.active,since:r.since??null,until:r.until??null,source:r.source??null}}async function Rt(t,e){let r=new Date().toISOString();return await Vo.send(new ve.UpdateCommand({TableName:kr,Key:{pk:Ko(t),sk:Qo},UpdateExpression:"SET #doc = if_not_exists(#doc, :empty), #updatedAt = :now",ExpressionAttributeNames:{"#doc":"doc","#updatedAt":"updatedAt"},ExpressionAttributeValues:{":empty":{},":now":r}})),await Vo.send(new ve.UpdateCommand({TableName:kr,Key:{pk:Ko(t),sk:Qo},UpdateExpression:"SET #active = :a, #since = if_not_exists(#since, :since), #until = :u, #source = :s, #updatedAt = :now",ExpressionAttributeNames:{"#active":"active","#since":"since","#until":"until","#source":"source","#updatedAt":"updatedAt"},ExpressionAttributeValues:{":a":e.active,":since":e.since??r,":u":e.until??null,":s":e.source??null,":now":r}})),qr(t)}async function Fu(t){let r=(await Eh.send(new Nr.ListUsersCommand({UserPoolId:Lu,Filter:`email = "${t}"`,Limit:1}))).Users?.[0];return r?.Attributes?r.Attributes.find(i=>i.Name==="sub")?.Value??null:null}function Dr(t){let e=t?.claims?.["cognito:groups"]||t?.claims?.["custom:groups"]||t?.groups;return(Array.isArray(e)?e:typeof e=="string"?e.split(","):[]).includes("ADMIN")}var xh=async t=>{let e=t.identity,r=t.info?.fieldName;if(r==="startBestieCheckout"){let o=t.identity;if(!o?.sub)throw new Error("Unauthorized");if(!qu||!ku)throw new Error("Stripe not configured");let i=new Du(qu),s=t.arguments?.successUrl,a=t.arguments?.cancelUrl,u=s||`${Nu}/bestie/thanks`,c=a||`${Nu}/bestie?cancelled=1`,h=o?.claims?.email,l=await i.checkout.sessions.create({mode:"subscription",line_items:[{price:ku,quantity:1}],success_url:`${u}?session_id={CHECKOUT_SESSION_ID}`,cancel_url:c,client_reference_id:o.sub,customer_email:h,metadata:{sub:o.sub,email:h??""},allow_promotion_codes:!0});if(!l.url)throw new Error("No checkout URL from Stripe");return l.url}if(r==="meBestieStatus"){if(!e?.sub)throw new Error("Unauthorized");return qr(e.sub)}if(r==="isEpisodeEarlyAccess"){let o=Date.now(),i=e?.sub;if(!i)return{allowed:!1,reason:"not_signed_in"};let s=await qr(i),a=s.until?Date.parse(s.until):0,u=s.active&&a>o;return{allowed:u,reason:u?null:"not_bestie"}}if(r==="claimBestieTrial"){if(!e?.sub)throw new Error("Unauthorized");let o=await qr(e.sub);if(o.active&&o.until&&Date.parse(o.until)>Date.now()||o.source==="TRIAL")return o;let i=10080*60*1e3,s=new Date(Date.now()+i).toISOString();return Rt(e.sub,{active:!0,until:s,source:"TRIAL"})}if(r==="adminSetBestie"){if(!Dr(e))throw new Error("Forbidden");let{userSub:o,active:i}=t.arguments,s=i?new Date(Date.now()+365*24*60*60*1e3).toISOString():null;return Rt(o,{active:!!i,until:s,source:"ADMIN"})}if(r==="adminRevokeBestie"){if(!Dr(e))throw new Error("Forbidden");let{userSub:o}=t.arguments;return Rt(o,{active:!1,until:null,source:"ADMIN"})}if(r==="adminSetBestieByEmail"){if(!Dr(e))throw new Error("Forbidden");let{email:o,active:i}=t.arguments,s=await Fu(o);if(!s)throw new Error("User not found");let a=i?new Date(Date.now()+365*24*60*60*1e3).toISOString():null;return Rt(s,{active:!!i,until:a,source:"ADMIN_EMAIL"})}if(r==="adminRevokeBestieByEmail"){if(!Dr(e))throw new Error("Forbidden");let{email:o}=t.arguments,i=await Fu(o);if(!i)throw new Error("User not found");return Rt(i,{active:!1,until:null,source:"ADMIN_EMAIL"})}throw new Error(`Unknown field ${r}`)};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
