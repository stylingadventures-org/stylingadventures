"use strict";var a=Object.defineProperty;var t=Object.getOwnPropertyDescriptor;var n=Object.getOwnPropertyNames;var l=Object.prototype.hasOwnProperty;var d=(e,s)=>{for(var i in s)a(e,i,{get:s[i],enumerable:!0})},g=(e,s,i,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let r of n(s))!l.call(e,r)&&r!==i&&a(e,r,{get:()=>s[r],enumerable:!(o=t(s,r))||o.enumerable});return e};var u=e=>g(a({},"__esModule",{value:!0}),e);var f={};d(f,{handler:()=>p});module.exports=u(f);var p=async e=>{console.log("FailEpisode incoming event:",JSON.stringify(e,null,2));let s=e.episode?{...e.episode,status:e.episode.status??"failed"}:void 0,i=e.reason,o;!i&&e.error&&(typeof e.error=="string"?i=e.error:typeof e.error.Error=="string"&&(i=e.error.Error),typeof e.error.Cause=="string"&&(o=e.error.Cause));let r={ok:!1,failed:!0,stage:e.stage,reason:i,errorMessage:o,episode:s,validation:e.validation};return console.log("FailEpisode result:",JSON.stringify(r,null,2)),r};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
