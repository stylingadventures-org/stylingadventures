{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.223.0"},"children":{"WebStack":{"id":"WebStack","path":"WebStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"StaticSiteBucket":{"id":"StaticSiteBucket","path":"WebStack/StaticSiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WebStack/StaticSiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"App","value":"stylingadventures"},{"key":"aws-cdk:cr-owned:ac28870b","value":"true"},{"key":"Env","value":"dev"}]}}},"Policy":{"id":"Policy","path":"WebStack/StaticSiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WebStack/StaticSiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"StaticSiteBucket8958EE3F"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["StaticSiteBucket8958EE3F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["StaticSiteBucket8958EE3F","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["SiteOaiE31FB8B2","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["StaticSiteBucket8958EE3F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["StaticSiteBucket8958EE3F","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["SiteOaiE31FB8B2","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["StaticSiteBucket8958EE3F","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"SiteOai":{"id":"SiteOai","path":"WebStack/SiteOai","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WebStack/SiteOai/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Allows CloudFront to reach the bucket"}}}}}},"DirIndexRewriteFn":{"id":"DirIndexRewriteFn","path":"WebStack/DirIndexRewriteFn","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Function","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WebStack/DirIndexRewriteFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Function","aws:cdk:cloudformation:props":{"autoPublish":true,"functionCode":"\nfunction handler(event) {\n  var req = event.request;\n  var uri = req.uri || '/';\n  if (uri.endsWith('/')) { req.uri = uri + 'index.html'; return req; }\n  if (uri.indexOf('.') === -1) { req.uri = uri + '/index.html'; return req; }\n  return req;\n}\n      ","functionConfig":{"comment":"us-east-1WebStackDirIndexRewriteFnB90BEA1B","runtime":"cloudfront-js-1.0"},"name":"us-east-1WebStackDirIndexRewriteFnB90BEA1B"}}}}},"CloudFrontDistribution":{"id":"CloudFrontDistribution","path":"WebStack/CloudFrontDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.223.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"WebStack/CloudFrontDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}},"Resource":{"id":"Resource","path":"WebStack/CloudFrontDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["StaticSiteBucket8958EE3F","RegionalDomainName"]},"id":"WebStackCloudFrontDistributionOrigin10DC0A5E0","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"SiteOaiE31FB8B2"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"WebStackCloudFrontDistributionOrigin10DC0A5E0","allowedMethods":["GET","HEAD","OPTIONS"],"cachedMethods":["GET","HEAD"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"responseHeadersPolicyId":"67f7725c-6f97-4210-82d7-5512b31e9d03","viewerProtocolPolicy":"redirect-to-https","functionAssociations":[{"functionArn":{"Fn::GetAtt":["DirIndexRewriteFn951FA463","FunctionARN"]},"eventType":"viewer-request"}]},"customErrorResponses":[{"errorCachingMinTtl":0,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":0,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"priceClass":"PriceClass_100"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"DeploySite":{"id":"DeploySite","path":"WebStack/DeploySite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.223.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"WebStack/DeploySite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.223.0","metadata":[]},"children":{"Code":{"id":"Code","path":"WebStack/DeploySite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"WebStack/DeploySite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"WebStack/DeploySite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"WebStack/DeploySite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"c49d356cac773d491c5f7ac148995a1181498a8e289429f8612a7f7e3814f535.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"WebStack/DeploySite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.223.0","metadata":[]}},"Asset1":{"id":"Asset1","path":"WebStack/DeploySite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"WebStack/DeploySite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"WebStack/DeploySite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"WebStack/DeploySite/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.223.0","metadata":[]},"children":{"Default":{"id":"Default","path":"WebStack/DeploySite/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-637423256673-us-east-1"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::cdk-hnb659fds-assets-637423256673-us-east-1/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["StaticSiteBucket8958EE3F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["StaticSiteBucket8958EE3F","Arn"]},"/*"]]}]},{"Action":["cloudfront:GetInvalidation","cloudfront:CreateInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"WebStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeploySiteAwsCliLayer88B0EBE2"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.13","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":900}}}}},"CloudFrontDistributionDomainName":{"id":"CloudFrontDistributionDomainName","path":"WebStack/CloudFrontDistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"StaticSiteBucketName":{"id":"StaticSiteBucketName","path":"WebStack/StaticSiteBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"WebStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"WebStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"WebStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"WebStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"IdentityStack":{"id":"IdentityStack","path":"IdentityStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"UserPool":{"id":"UserPool","path":"IdentityStack/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"IdentityStack/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_phone_number","priority":1},{"name":"verified_email","priority":2}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":12,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"schema":[{"name":"email","mutable":false,"required":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"App":"stylingadventures","Env":"dev"},"usernameAttributes":["email"],"verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"WebClient":{"id":"WebClient","path":"IdentityStack/WebClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"IdentityStack/WebClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["openid","email","profile"],"callbackUrLs":["https://d1682i07dc1r3k.cloudfront.net/callback","http://localhost:5173/callback","http://localhost:5173/callback/","http://localhost:5173/callback/index.html"],"explicitAuthFlows":["ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"logoutUrLs":["https://d1682i07dc1r3k.cloudfront.net/logout/index.html","https://d1682i07dc1r3k.cloudfront.net/logout/","https://d1682i07dc1r3k.cloudfront.net/","http://localhost:5173/logout/index.html","http://localhost:5173/logout/","http://localhost:5173/"],"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"HostedUiDomain":{"id":"HostedUiDomain","path":"IdentityStack/HostedUiDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"IdentityStack/HostedUiDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"sa-dev-637423256673","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"FANGroup":{"id":"FANGroup","path":"IdentityStack/FANGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"FAN group","groupName":"FAN","precedence":10,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"BESTIEGroup":{"id":"BESTIEGroup","path":"IdentityStack/BESTIEGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"BESTIE group","groupName":"BESTIE","precedence":11,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"CREATORGroup":{"id":"CREATORGroup","path":"IdentityStack/CREATORGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"CREATOR group","groupName":"CREATOR","precedence":12,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"COLLABGroup":{"id":"COLLABGroup","path":"IdentityStack/COLLABGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"COLLAB group","groupName":"COLLAB","precedence":13,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"ADMINGroup":{"id":"ADMINGroup","path":"IdentityStack/ADMINGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"ADMIN group","groupName":"ADMIN","precedence":1,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"PRIMEGroup":{"id":"PRIMEGroup","path":"IdentityStack/PRIMEGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"description":"PRIME group","groupName":"PRIME","precedence":15,"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"IdentityPool":{"id":"IdentityPool","path":"IdentityStack/IdentityPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnIdentityPool","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::IdentityPool","aws:cdk:cloudformation:props":{"allowUnauthenticatedIdentities":false,"identityPoolTags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"cognitoIdentityProviders":[{"clientId":{"Ref":"WebClient697086FD"},"providerName":{"Fn::GetAtt":["UserPool6BA7E5F2","ProviderName"]}}]}}},"CognitoUserPoolId":{"id":"CognitoUserPoolId","path":"IdentityStack/CognitoUserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CognitoWebClientId":{"id":"CognitoWebClientId","path":"IdentityStack/CognitoWebClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"IdentityPoolId":{"id":"IdentityPoolId","path":"IdentityStack/IdentityPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"HostedUiLoginUrl":{"id":"HostedUiLoginUrl","path":"IdentityStack/HostedUiLoginUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"IdentityStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"IdentityStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"IdentityStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Output{\"Ref\":\"UserPool6BA7E5F2\"}":{"id":"Output{\"Ref\":\"UserPool6BA7E5F2\"}","path":"IdentityStack/Exports/Output{\"Ref\":\"UserPool6BA7E5F2\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","path":"IdentityStack/Exports/Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"IdentityStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"IdentityStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"DataStack":{"id":"DataStack","path":"DataStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"AppTable":{"id":"AppTable","path":"DataStack/AppTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"DataStack/AppTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"},{"attributeName":"gsi2pk","attributeType":"S"},{"attributeName":"gsi2sk","attributeType":"S"},{"attributeName":"rawMediaKey","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"gsi1","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"gsi2","keySchema":[{"attributeName":"gsi2pk","keyType":"HASH"},{"attributeName":"gsi2sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"rawMediaKeyIndex","keySchema":[{"attributeName":"rawMediaKey","keyType":"HASH"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"tableName":"sa-dev-app","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"ScalingRole":{"id":"ScalingRole","path":"DataStack/AppTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"CDKMetadata":{"id":"CDKMetadata","path":"DataStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"DataStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"DataStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Output{\"Fn::GetAtt\":[\"AppTable815C50BC\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"AppTable815C50BC\",\"Arn\"]}","path":"DataStack/Exports/Output{\"Fn::GetAtt\":[\"AppTable815C50BC\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"AppTable815C50BC\"}":{"id":"Output{\"Ref\":\"AppTable815C50BC\"}","path":"DataStack/Exports/Output{\"Ref\":\"AppTable815C50BC\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"DataStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"DataStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"WorkflowsStack":{"id":"WorkflowsStack","path":"WorkflowsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"VirusScanFn":{"id":"VirusScanFn","path":"WorkflowsStack/VirusScanFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"WorkflowsStack/VirusScanFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"WorkflowsStack/VirusScanFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/VirusScanFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/VirusScanFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n          exports.handler = async (event) => {\n            console.log(\"VirusScanFn\", JSON.stringify(event));\n            return { ok: true, name: \"VirusScanFn\", event };\n          };\n        "},"handler":"index.handler","role":{"Fn::GetAtt":["VirusScanFnServiceRole105BB56B","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}}}},"ModerationFn":{"id":"ModerationFn","path":"WorkflowsStack/ModerationFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"WorkflowsStack/ModerationFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"WorkflowsStack/ModerationFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/ModerationFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/ModerationFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n          exports.handler = async (event) => {\n            console.log(\"ModerationFn\", JSON.stringify(event));\n            return { ok: true, name: \"ModerationFn\", event };\n          };\n        "},"handler":"index.handler","role":{"Fn::GetAtt":["ModerationFnServiceRoleBF6ED484","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}}}},"PiiCheckFn":{"id":"PiiCheckFn","path":"WorkflowsStack/PiiCheckFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"WorkflowsStack/PiiCheckFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"WorkflowsStack/PiiCheckFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/PiiCheckFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/PiiCheckFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n          exports.handler = async (event) => {\n            console.log(\"PiiCheckFn\", JSON.stringify(event));\n            return { ok: true, name: \"PiiCheckFn\", event };\n          };\n        "},"handler":"index.handler","role":{"Fn::GetAtt":["PiiCheckFnServiceRole84F31904","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}}}},"PublishFn":{"id":"PublishFn","path":"WorkflowsStack/PublishFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"WorkflowsStack/PublishFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"WorkflowsStack/PublishFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/PublishFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"WorkflowsStack/PublishFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/PublishFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"PublishFnServiceRoleDefaultPolicy0D921A88","roles":[{"Ref":"PublishFnServiceRoleC9D15B30"}]}}}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/PublishFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n          exports.handler = async (event) => {\n            console.log(\"PublishFn\", JSON.stringify(event));\n            return { ok: true, name: \"PublishFn\", event };\n          };\n        "},"handler":"index.handler","role":{"Fn::GetAtt":["PublishFnServiceRoleC9D15B30","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}}}},"RejectFn":{"id":"RejectFn","path":"WorkflowsStack/RejectFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"WorkflowsStack/RejectFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"WorkflowsStack/RejectFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/RejectFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"WorkflowsStack/RejectFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/RejectFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"RejectFnServiceRoleDefaultPolicyFAA6A835","roles":[{"Ref":"RejectFnServiceRole9BBF1C50"}]}}}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/RejectFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"\n          exports.handler = async (event) => {\n            console.log(\"RejectFn\", JSON.stringify(event));\n            return { ok: true, name: \"RejectFn\", event };\n          };\n        "},"handler":"index.handler","role":{"Fn::GetAtt":["RejectFnServiceRole9BBF1C50","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}}}},"ClosetApprovalTopic":{"id":"ClosetApprovalTopic","path":"WorkflowsStack/ClosetApprovalTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/ClosetApprovalTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"SaveApprovalTokenFn":{"id":"SaveApprovalTokenFn","path":"WorkflowsStack/SaveApprovalTokenFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"WorkflowsStack/SaveApprovalTokenFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"WorkflowsStack/SaveApprovalTokenFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/SaveApprovalTokenFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"WorkflowsStack/SaveApprovalTokenFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/SaveApprovalTokenFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SaveApprovalTokenFnServiceRoleDefaultPolicy8271F5BF","roles":[{"Ref":"SaveApprovalTokenFnServiceRoleD525F86C"}]}}}}}}},"Code":{"id":"Code","path":"WorkflowsStack/SaveApprovalTokenFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"WorkflowsStack/SaveApprovalTokenFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"WorkflowsStack/SaveApprovalTokenFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/SaveApprovalTokenFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"eca72b2ccb1767fdaa078888425dc8c3308aa200ff6df61f90d1f24224a71719.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"}}},"handler":"index.handler","role":{"Fn::GetAtt":["SaveApprovalTokenFnServiceRoleD525F86C","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}},"AllowInvoke:WorkflowsStackClosetApprovalTopicF0A347AD":{"id":"AllowInvoke:WorkflowsStackClosetApprovalTopicF0A347AD","path":"WorkflowsStack/SaveApprovalTokenFn/AllowInvoke:WorkflowsStackClosetApprovalTopicF0A347AD","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SaveApprovalTokenFnBF4550C6","Arn"]},"principal":"sns.amazonaws.com","sourceArn":{"Ref":"ClosetApprovalTopic3451AB0B"}}}},"ClosetApprovalTopic":{"id":"ClosetApprovalTopic","path":"WorkflowsStack/SaveApprovalTokenFn/ClosetApprovalTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/SaveApprovalTokenFn/ClosetApprovalTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["SaveApprovalTokenFnBF4550C6","Arn"]},"protocol":"lambda","topicArn":{"Ref":"ClosetApprovalTopic3451AB0B"}}}}}}}},"WaitForHumanApproval":{"id":"WaitForHumanApproval","path":"WorkflowsStack/WaitForHumanApproval","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.SnsPublish","version":"2.223.0"}},"VirusScan":{"id":"VirusScan","path":"WorkflowsStack/VirusScan","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.223.0"}},"Moderation":{"id":"Moderation","path":"WorkflowsStack/Moderation","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.223.0"}},"PIICheck":{"id":"PIICheck","path":"WorkflowsStack/PIICheck","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.223.0"}},"Approved?":{"id":"Approved?","path":"WorkflowsStack/Approved?","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Choice","version":"2.223.0"}},"Publish":{"id":"Publish","path":"WorkflowsStack/Publish","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.223.0"}},"Reject":{"id":"Reject","path":"WorkflowsStack/Reject","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.223.0"}},"ClosetUploadApproval":{"id":"ClosetUploadApproval","path":"WorkflowsStack/ClosetUploadApproval","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.223.0","metadata":[]},"children":{"Role":{"id":"Role","path":"WorkflowsStack/ClosetUploadApproval/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"WorkflowsStack/ClosetUploadApproval/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/ClosetUploadApproval/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"WorkflowsStack/ClosetUploadApproval/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/ClosetUploadApproval/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["VirusScanFnE6FC2115","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["VirusScanFnE6FC2115","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ModerationFn7E78A67D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ModerationFn7E78A67D","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["PiiCheckFnF52DF218","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PiiCheckFnF52DF218","Arn"]},":*"]]}]},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"ClosetApprovalTopic3451AB0B"}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["RejectFnEB2EE464","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["RejectFnEB2EE464","Arn"]},":*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["PublishFnB0C9E186","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PublishFnB0C9E186","Arn"]},":*"]]}]},{"Action":["xray:PutTraceSegments","xray:PutTelemetryRecords","xray:GetSamplingRules","xray:GetSamplingTargets"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ClosetUploadApprovalRoleDefaultPolicy11CFF20D","roles":[{"Ref":"ClosetUploadApprovalRoleC5B63322"}]}}}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/ClosetUploadApproval/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"VirusScan\",\"States\":{\"VirusScan\":{\"Next\":\"Moderation\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["VirusScanFnE6FC2115","Arn"]},"\",\"Payload.$\":\"$\"}},\"Moderation\":{\"Next\":\"PIICheck\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["ModerationFn7E78A67D","Arn"]},"\",\"Payload.$\":\"$\"}},\"PIICheck\":{\"Next\":\"WaitForHumanApproval\",\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["PiiCheckFnF52DF218","Arn"]},"\",\"Payload.$\":\"$\"}},\"WaitForHumanApproval\":{\"Next\":\"Approved?\",\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::sns:publish.waitForTaskToken\",\"Parameters\":{\"TopicArn\":\"",{"Ref":"ClosetApprovalTopic3451AB0B"},"\",\"Message\":{\"token.$\":\"$$.Task.Token\",\"itemId.$\":\"$.itemId\",\"ownerSub.$\":\"$.ownerSub\"},\"Subject\":\"ApprovalRequired\"}},\"Approved?\":{\"Type\":\"Choice\",\"Choices\":[{\"Variable\":\"$.approved\",\"BooleanEquals\":true,\"Next\":\"Publish\"}],\"Default\":\"Reject\"},\"Reject\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["RejectFnEB2EE464","Arn"]},"\",\"Payload.$\":\"$\"}},\"Publish\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"ResultPath\":null,\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["PublishFnB0C9E186","Arn"]},"\",\"Payload.$\":\"$\"}}},\"TimeoutSeconds\":21600}"]]},"roleArn":{"Fn::GetAtt":["ClosetUploadApprovalRoleC5B63322","Arn"]},"stateMachineType":"STANDARD","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"tracingConfiguration":{"enabled":true}}}}}},"BgChange_Start":{"id":"BgChange_Start","path":"WorkflowsStack/BgChange_Start","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"BgChange_Moderation":{"id":"BgChange_Moderation","path":"WorkflowsStack/BgChange_Moderation","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"BgChange_Complete":{"id":"BgChange_Complete","path":"WorkflowsStack/BgChange_Complete","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"BackgroundChangeApproval":{"id":"BackgroundChangeApproval","path":"WorkflowsStack/BackgroundChangeApproval","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.223.0","metadata":[]},"children":{"Role":{"id":"Role","path":"WorkflowsStack/BackgroundChangeApproval/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"WorkflowsStack/BackgroundChangeApproval/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/BackgroundChangeApproval/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"WorkflowsStack/BackgroundChangeApproval/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/BackgroundChangeApproval/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTraceSegments","xray:PutTelemetryRecords","xray:GetSamplingRules","xray:GetSamplingTargets"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"BackgroundChangeApprovalRoleDefaultPolicy3EC2C3AC","roles":[{"Ref":"BackgroundChangeApprovalRole4E27E01B"}]}}}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/BackgroundChangeApproval/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":"{\"StartAt\":\"BgChange_Start\",\"States\":{\"BgChange_Start\":{\"Type\":\"Pass\",\"Next\":\"BgChange_Moderation\"},\"BgChange_Moderation\":{\"Type\":\"Pass\",\"Next\":\"BgChange_Complete\"},\"BgChange_Complete\":{\"Type\":\"Pass\",\"End\":true}},\"TimeoutSeconds\":1800}","roleArn":{"Fn::GetAtt":["BackgroundChangeApprovalRole4E27E01B","Arn"]},"stateMachineType":"STANDARD","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"tracingConfiguration":{"enabled":true}}}}}},"StoryPublish_Compose":{"id":"StoryPublish_Compose","path":"WorkflowsStack/StoryPublish_Compose","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"StoryPublish_ScheduleOrPublish":{"id":"StoryPublish_ScheduleOrPublish","path":"WorkflowsStack/StoryPublish_ScheduleOrPublish","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"StoryPublishWorkflow":{"id":"StoryPublishWorkflow","path":"WorkflowsStack/StoryPublishWorkflow","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.223.0","metadata":[]},"children":{"Role":{"id":"Role","path":"WorkflowsStack/StoryPublishWorkflow/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"WorkflowsStack/StoryPublishWorkflow/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"WorkflowsStack/StoryPublishWorkflow/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"WorkflowsStack/StoryPublishWorkflow/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"WorkflowsStack/StoryPublishWorkflow/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["xray:PutTraceSegments","xray:PutTelemetryRecords","xray:GetSamplingRules","xray:GetSamplingTargets"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"StoryPublishWorkflowRoleDefaultPolicyD2AB6951","roles":[{"Ref":"StoryPublishWorkflowRoleC2FEB4D6"}]}}}}}}},"Resource":{"id":"Resource","path":"WorkflowsStack/StoryPublishWorkflow/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":"{\"StartAt\":\"StoryPublish_Compose\",\"States\":{\"StoryPublish_Compose\":{\"Type\":\"Pass\",\"Next\":\"StoryPublish_ScheduleOrPublish\"},\"StoryPublish_ScheduleOrPublish\":{\"Type\":\"Pass\",\"End\":true}},\"TimeoutSeconds\":3600}","roleArn":{"Fn::GetAtt":["StoryPublishWorkflowRoleC2FEB4D6","Arn"]},"stateMachineType":"STANDARD","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"tracingConfiguration":{"enabled":true}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"WorkflowsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"WorkflowsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"WorkflowsStack/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Output{\"Ref\":\"ClosetUploadApprovalDA1D2210\"}":{"id":"Output{\"Ref\":\"ClosetUploadApprovalDA1D2210\"}","path":"WorkflowsStack/Exports/Output{\"Ref\":\"ClosetUploadApprovalDA1D2210\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"BackgroundChangeApprovalE28AFC8B\"}":{"id":"Output{\"Ref\":\"BackgroundChangeApprovalE28AFC8B\"}","path":"WorkflowsStack/Exports/Output{\"Ref\":\"BackgroundChangeApprovalE28AFC8B\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"StoryPublishWorkflowCD58F9E9\"}":{"id":"Output{\"Ref\":\"StoryPublishWorkflowCD58F9E9\"}","path":"WorkflowsStack/Exports/Output{\"Ref\":\"StoryPublishWorkflowCD58F9E9\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"WorkflowsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"WorkflowsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"ApiStack":{"id":"ApiStack","path":"ApiStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"StylingApi":{"id":"StylingApi","path":"ApiStack/StylingApi","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.GraphqlApi","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLApi","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLApi","aws:cdk:cloudformation:props":{"authenticationType":"AMAZON_COGNITO_USER_POOLS","name":"stylingadventures-api","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"userPoolConfig":{"userPoolId":{"Fn::ImportValue":"IdentityStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"awsRegion":"us-east-1","defaultAction":"ALLOW"},"xrayEnabled":true}}},"Schema":{"id":"Schema","path":"ApiStack/StylingApi/Schema","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLSchema","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLSchema","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"definition":"# \r\n# SCALARS\r\n# \r\nscalar AWSDateTime\r\nscalar AWSJSON\r\n\r\n# \r\n# ROOT TYPES\r\n# \r\n\r\ntype Query {\r\n  # Simple test\r\n  hello: String!\r\n\r\n  # Basic identity derived from Cognito JWT\r\n  me: Me!\r\n\r\n  # Closet (fan/bestie)\r\n  myCloset: [ClosetItem!]!\r\n  myWishlist: [ClosetItem!]!\r\n\r\n  # NEW alias used by the Bestie closet UI  now paginated\r\n  bestieClosetItems(\r\n    limit: Int\r\n    nextToken: String\r\n  ): BestieClosetItemsConnection!\r\n\r\n  closetItemComments(closetItemId: ID!): [ClosetComment!]!\r\n\r\n  # Admin closet views\r\n  adminClosetItemLikes(closetItemId: ID!): [ClosetLike!]!\r\n  adminClosetItemComments(closetItemId: ID!): [ClosetComment!]!\r\n  adminListPending: [ClosetItem!]!\r\n\r\n  # Paginated admin list used by Closet Library UI\r\n  adminListClosetItems(\r\n    status: ClosetStatus\r\n    limit: Int\r\n    nextToken: String\r\n  ): ClosetItemConnection!\r\n\r\n  # Bestie closet library (uses same shape, different resolver/filter)\r\n  adminListBestieClosetItems(\r\n    limit: Int\r\n    nextToken: String\r\n    search: String\r\n    ownerSub: ID\r\n  ): BestieClosetItemConnection!\r\n\r\n  # Fan-facing closet feed\r\n  closetFeed(\r\n    sort: ClosetFeedSort\r\n    status: ClosetStatus\r\n    ownerSub: String\r\n  ): [ClosetItem!]!\r\n\r\n  # Bestie / tiers\r\n  meBestieStatus: BestieStatus!\r\n\r\n  # Episodes early-access gate\r\n  isEpisodeEarlyAccess(episodeId: ID!): Boolean!\r\n\r\n  # Game: leaderboard & polls & profile\r\n  topXP(limit: Int): [LeaderboardEntry!]!\r\n  topCoins(limit: Int): [LeaderboardEntry!]!\r\n  getPoll(id: ID!): Poll\r\n  getMyProfile: GameProfile!\r\n}\r\n\r\ntype Mutation {\r\n  # Roles\r\n  setUserRole(userId: ID!, role: UserRole!): UserRoleAssignment!\r\n\r\n  # Closet (fan/bestie)\r\n  createClosetItem(input: CreateClosetItemInput!): ClosetItem!\r\n  requestClosetApproval(closetItemId: ID!): ClosetItem!\r\n  updateClosetMediaKey(closetItemId: ID!, mediaKey: String!): ClosetItem!\r\n\r\n  #  match Bestie closet + Lambda: use input object\r\n  updateClosetItemStory(input: UpdateClosetItemStoryInput!): ClosetItem!\r\n\r\n  likeClosetItem(closetItemId: ID!): ClosetItem!\r\n  commentOnClosetItem(closetItemId: ID!, text: String!): ClosetComment!\r\n  pinHighlight(closetItemId: ID!, pinned: Boolean!): ClosetItem!\r\n  toggleWishlistItem(closetItemId: ID!): ClosetItem!\r\n\r\n  # Closet admin\r\n  adminCreateClosetItem(input: AdminCreateClosetItemInput!): ClosetItem!\r\n  adminApproveItem(closetItemId: ID!): ClosetItem!\r\n  adminRejectItem(closetItemId: ID!, reason: String): ClosetItem!\r\n  adminSetClosetAudience(\r\n    closetItemId: ID!\r\n    audience: ClosetAudience!\r\n  ): ClosetItem!\r\n  adminUpdateClosetItem(\r\n    closetItemId: ID!\r\n    input: AdminUpdateClosetItemInput!\r\n  ): ClosetItem!\r\n\r\n  # Hearts for fan closet feed\r\n  # NOTE: return type nullable to avoid \"Cannot return null for non-nullable\" errors\r\n  toggleFavoriteClosetItem(id: ID!, favoriteOn: Boolean): ClosetItem\r\n\r\n  # Bestie / tiers\r\n  startBestieCheckout: BestieCheckoutSession!\r\n  claimBestieTrial: BestieStatus!\r\n\r\n  adminSetBestie(userId: ID!): BestieStatus!\r\n  adminRevokeBestie(userId: ID!): BestieStatus!\r\n  adminSetBestieByEmail(email: String!): BestieStatus!\r\n  adminRevokeBestieByEmail(email: String!): BestieStatus!\r\n\r\n  # Game\r\n  logGameEvent(input: LogGameEventInput!): GameEventResult!\r\n  awardCoins(userId: ID!, amount: Int!): GameProfile!\r\n\r\n  createPoll(input: CreatePollInput!): Poll!\r\n  votePoll(pollId: ID!, optionId: ID!): Poll!\r\n\r\n  grantBadge(userId: ID!, badgeId: ID!): GameProfile!\r\n  setDisplayName(name: String!): GameProfile!\r\n  updateProfile(input: UpdateProfileInput!): GameProfile!\r\n\r\n  # \r\n  # BESTIES  CLOSET & BACKGROUNDS\r\n  # \r\n  requestClosetBackgroundChange(\r\n    input: RequestBackgroundChangeInput!\r\n  ): ClosetItem!\r\n\r\n  attachAffiliateLink(input: AttachAffiliateLinkInput!): ClosetItem!\r\n  approveAffiliateLink(closetItemId: ID!): ClosetItem!\r\n  rejectAffiliateLink(closetItemId: ID!, reason: String): ClosetItem!\r\n\r\n  # \r\n  # BESTIES  STORIES\r\n  # \r\n  createStory(input: CreateStoryInput!): Story!\r\n  publishStory(storyId: ID!): Story!\r\n\r\n  # \r\n  # COMMUNITY / PINTEREST FEED\r\n  # \r\n  addClosetItemToCommunityFeed(closetItemId: ID!): ClosetItem!\r\n  removeClosetItemFromCommunityFeed(closetItemId: ID!): ClosetItem!\r\n  shareClosetItemToPinterest(closetItemId: ID!): Boolean!\r\n}\r\n\r\n# \r\n# IDENTITY / USER\r\n# \r\n\r\ntype Me {\r\n  id: ID!\r\n  email: String\r\n  role: String\r\n  tier: String\r\n}\r\n\r\nenum UserRole {\r\n  FAN\r\n  BESTIE\r\n  ADMIN\r\n}\r\n\r\ntype UserRoleAssignment {\r\n  userId: ID!\r\n  role: UserRole!\r\n}\r\n\r\n# \r\n# CLOSET DOMAIN\r\n# \r\n\r\n# Audience enum  include all values the UI might use\r\nenum ClosetAudience {\r\n  PRIVATE\r\n  FOLLOWERS\r\n  PUBLIC\r\n  BESTIE\r\n  EXCLUSIVE\r\n  ADMIN_ONLY\r\n  HIDDEN\r\n}\r\n\r\n# Status enum  for item.status + filters\r\nenum ClosetStatus {\r\n  DRAFT\r\n  PENDING\r\n  APPROVED\r\n  REJECTED\r\n  PUBLISHED\r\n  ARCHIVED\r\n}\r\n\r\n# Sorting enum for fan closet feed\r\nenum ClosetFeedSort {\r\n  NEWEST\r\n  MOST_LOVED\r\n}\r\n\r\n# Connection wrapper for adminListClosetItems\r\ntype ClosetItemConnection {\r\n  items: [ClosetItem!]!\r\n  nextToken: String\r\n}\r\n\r\n# Bestie-specific connection wrapper (same item shape, different resolver/filter)\r\ntype BestieClosetItemConnection {\r\n  items: [ClosetItem!]!\r\n  nextToken: String\r\n}\r\n\r\n# Connection wrapper used by the Bestie closet UI\r\ntype BestieClosetItemsConnection {\r\n  items: [ClosetItem!]!\r\n  nextToken: String\r\n}\r\n\r\ntype ClosetItem {\r\n  id: ID!\r\n  ownerSub: ID\r\n  userId: ID\r\n  title: String\r\n  description: String\r\n  story: String\r\n  status: ClosetStatus\r\n  audience: ClosetAudience\r\n  mediaKey: String\r\n  rawMediaKey: String\r\n\r\n  # Categorization\r\n  category: String\r\n  subcategory: String\r\n\r\n  # Story-style metadata (Bestie / fan-facing)\r\n  storyTitle: String\r\n  storySeason: String\r\n  storyVibes: [String!]\r\n\r\n  # Extra admin-upload metadata\r\n  season: String\r\n  vibes: String\r\n\r\n  # NEW  fields used by Bestie closet UI\r\n  colorTags: [String!]\r\n  notes: String\r\n  visibility: StoryVisibility\r\n\r\n  # Admin metadata (e.g. rejection reason)\r\n  reason: String\r\n\r\n  # Lala's pick flag\r\n  pinned: Boolean\r\n\r\n  # Computed flags/metrics\r\n  isInWishlist: Boolean!\r\n  isPinnedHighlight: Boolean!\r\n  likesCount: Int!\r\n  commentsCount: Int!\r\n\r\n  # Fan heart data\r\n  favoriteCount: Int\r\n  viewerHasFaved: Boolean\r\n\r\n  createdAt: AWSDateTime\r\n  updatedAt: AWSDateTime\r\n}\r\n\r\ninput CreateClosetItemInput {\r\n  # existing fan-side fields\r\n  title: String\r\n  description: String\r\n  story: String\r\n  audience: ClosetAudience\r\n\r\n  # media keys\r\n  mediaKey: String\r\n  rawMediaKey: String\r\n\r\n  # categorization\r\n  category: String\r\n  subcategory: String\r\n}\r\n\r\ninput AdminCreateClosetItemInput {\r\n  # optional: allow admins to create on behalf of another user if needed\r\n  ownerId: ID\r\n\r\n  title: String\r\n  description: String\r\n  story: String\r\n\r\n  # if a cutout already exists we could pass mediaKey,\r\n  # but for the new upload flow we send rawMediaKey\r\n  mediaKey: String\r\n  rawMediaKey: String\r\n\r\n  audience: ClosetAudience\r\n\r\n  # upload-studio metadata\r\n  season: String\r\n  vibes: String\r\n\r\n  # categorization\r\n  category: String\r\n  subcategory: String\r\n}\r\n\r\ninput AdminUpdateClosetItemInput {\r\n  title: String\r\n  category: String\r\n  subcategory: String\r\n  audience: ClosetAudience\r\n  pinned: Boolean\r\n}\r\n\r\n#  new input used by updateClosetItemStory mutation\r\ninput UpdateClosetItemStoryInput {\r\n  id: ID!\r\n  storyTitle: String\r\n  storySeason: String\r\n  storyVibes: [String!]\r\n}\r\n\r\ntype ClosetComment {\r\n  id: ID!\r\n  closetItemId: ID!\r\n  authorId: ID!\r\n  text: String!\r\n  createdAt: AWSDateTime!\r\n}\r\n\r\ntype ClosetLike {\r\n  closetItemId: ID!\r\n  userId: ID!\r\n  createdAt: AWSDateTime!\r\n}\r\n\r\n# \r\n# BESTIE / TIERS\r\n# \r\n\r\nenum BestieTier {\r\n  FREE\r\n  PAID\r\n}\r\n\r\ntype BestieStatus {\r\n  userId: ID!\r\n  isBestie: Boolean!\r\n  tier: BestieTier!\r\n  expiresAt: AWSDateTime\r\n  activeSubscription: Boolean!\r\n}\r\n\r\ntype BestieCheckoutSession {\r\n  url: String!\r\n}\r\n\r\n# \r\n# BESTIES  STORIES, BACKGROUNDS, AFFILIATE, FEED\r\n# \r\n\r\nenum StoryVisibility {\r\n  PRIVATE\r\n  BESTIES\r\n  PUBLIC\r\n}\r\n\r\ntype Story {\r\n  id: ID!\r\n  ownerSub: ID!\r\n  title: String!\r\n  body: String\r\n  closetItemIds: [ID!]!         # tags closet items\r\n  stickers: AWSJSON\r\n  polls: AWSJSON\r\n  status: ClosetStatus!\r\n  visibility: StoryVisibility!\r\n  scheduledAt: AWSDateTime\r\n  publishedAt: AWSDateTime\r\n  shareToCommunityFeed: Boolean!\r\n  shareToPinterest: Boolean!\r\n}\r\n\r\ninput CreateStoryInput {\r\n  title: String!\r\n  body: String\r\n  closetItemIds: [ID!]!\r\n  stickers: AWSJSON\r\n  polls: AWSJSON\r\n  visibility: StoryVisibility = BESTIES\r\n  scheduledAt: AWSDateTime\r\n  shareToCommunityFeed: Boolean = false\r\n  shareToPinterest: Boolean = false\r\n}\r\n\r\ninput RequestBackgroundChangeInput {\r\n  closetItemId: ID!\r\n  requestedBackgroundStyle: String!   # e.g. \"cutout\", \"scene:beach\"\r\n  notes: String\r\n}\r\n\r\ninput AttachAffiliateLinkInput {\r\n  closetItemId: ID!\r\n  url: String!\r\n  provider: String\r\n  campaignTag: String\r\n}\r\n\r\n# \r\n# EPISODES / EARLY ACCESS\r\n# \r\n\r\ntype EpisodeAccess {\r\n  episodeId: ID!\r\n  isEarlyAccess: Boolean!\r\n}\r\n\r\n# \r\n# GAME / PROFILE / LEADERBOARD / POLLS\r\n# \r\n\r\ntype LeaderboardEntry {\r\n  userId: ID!\r\n  displayName: String\r\n  xp: Int!\r\n  coins: Int!\r\n  rank: Int!\r\n}\r\n\r\ntype GameProfile {\r\n  userId: ID!\r\n  displayName: String\r\n  xp: Int!\r\n  coins: Int!\r\n  badges: [Badge!]!\r\n  createdAt: AWSDateTime!\r\n  updatedAt: AWSDateTime\r\n\r\n  # Top Picks / pinned looks backing your \"Top Picks\" UI\r\n  pinnedClosetItems: [ClosetItem!]!\r\n}\r\n\r\ntype Badge {\r\n  id: ID!\r\n  name: String!\r\n  description: String\r\n  earnedAt: AWSDateTime!\r\n}\r\n\r\ninput UpdateProfileInput {\r\n  displayName: String\r\n}\r\n\r\ninput LogGameEventInput {\r\n  type: String!\r\n  episodeId: ID\r\n  metadata: AWSJSON\r\n}\r\n\r\ntype GameEventResult {\r\n  success: Boolean!\r\n\r\n  # Legacy fields (kept for backwards compatibility)\r\n  newXP: Int\r\n  newCoins: Int\r\n\r\n  # Fields used by the current client\r\n  xp: Int\r\n  coins: Int\r\n  lastEventAt: AWSDateTime\r\n}\r\n\r\ntype Poll {\r\n  id: ID!\r\n  question: String!\r\n  options: [PollOption!]!\r\n  createdAt: AWSDateTime!\r\n  closesAt: AWSDateTime\r\n  totalVotes: Int!\r\n}\r\n\r\ntype PollOption {\r\n  id: ID!\r\n  text: String!\r\n  votes: Int!\r\n}\r\n\r\ninput CreatePollInput {\r\n  question: String!\r\n  options: [String!]!\r\n  closesAt: AWSDateTime\r\n}\r\n"}}},"LogGroup":{"id":"LogGroup","path":"ApiStack/StylingApi/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"HelloDs":{"id":"HelloDs","path":"ApiStack/StylingApi/HelloDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/HelloDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/HelloDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/HelloDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/HelloDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/HelloDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiHelloDsServiceRoleDefaultPolicy8C35E727","roles":[{"Ref":"StylingApiHelloDsServiceRole44626254"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/HelloDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["HelloFn7942DF23","Arn"]}},"name":"HelloDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiHelloDsServiceRole44626254","Arn"]},"type":"AWS_LAMBDA"}}}}},"Hello":{"id":"Hello","path":"ApiStack/StylingApi/Hello","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/Hello/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"HelloDs","fieldName":"hello","kind":"UNIT","requestMappingTemplate":"{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}","responseMappingTemplate":"$util.toJson($ctx.result)","typeName":"Query"}}}}},"NoneDs":{"id":"NoneDs","path":"ApiStack/StylingApi/NoneDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.NoneDataSource","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/NoneDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"name":"NoneDs","type":"NONE"}}}}},"QueryMeResolver":{"id":"QueryMeResolver","path":"ApiStack/StylingApi/QueryMeResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/QueryMeResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"NoneDs","fieldName":"me","kind":"UNIT","requestMappingTemplate":"{\n        \"version\": \"2017-02-28\"\n      }","responseMappingTemplate":"\n        $util.toJson({\n          \"id\": $util.defaultIfNull($ctx.identity.sub, \"anonymous\"),\n          \"email\": $util.defaultIfNull($ctx.identity.claims.email, \"\"),\n          \"role\": \"FAN\",\n          \"tier\": \"FREE\"\n        })\n      ","typeName":"Query"}}}}},"ClosetDs":{"id":"ClosetDs","path":"ApiStack/StylingApi/ClosetDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/ClosetDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/ClosetDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/ClosetDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ClosetResolverFnDB09D91C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ClosetResolverFnDB09D91C","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiClosetDsServiceRoleDefaultPolicyE595E568","roles":[{"Ref":"StylingApiClosetDsServiceRole61F98ADC"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["ClosetResolverFnDB09D91C","Arn"]}},"name":"ClosetDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiClosetDsServiceRole61F98ADC","Arn"]},"type":"AWS_LAMBDA"}}}}},"MyCloset":{"id":"MyCloset","path":"ApiStack/StylingApi/MyCloset","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/MyCloset/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"myCloset","kind":"UNIT","typeName":"Query"}}}}},"MyWishlistResolver":{"id":"MyWishlistResolver","path":"ApiStack/StylingApi/MyWishlistResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/MyWishlistResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"myWishlist","kind":"UNIT","typeName":"Query"}}}}},"QueryBestieClosetItemsResolver":{"id":"QueryBestieClosetItemsResolver","path":"ApiStack/StylingApi/QueryBestieClosetItemsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/QueryBestieClosetItemsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"bestieClosetItems","kind":"UNIT","typeName":"Query"}}}}},"CreateClosetItem":{"id":"CreateClosetItem","path":"ApiStack/StylingApi/CreateClosetItem","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/CreateClosetItem/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"createClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"RequestClosetApproval":{"id":"RequestClosetApproval","path":"ApiStack/StylingApi/RequestClosetApproval","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/RequestClosetApproval/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"requestClosetApproval","kind":"UNIT","typeName":"Mutation"}}}}},"UpdateClosetMediaKey":{"id":"UpdateClosetMediaKey","path":"ApiStack/StylingApi/UpdateClosetMediaKey","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/UpdateClosetMediaKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"updateClosetMediaKey","kind":"UNIT","typeName":"Mutation"}}}}},"UpdateClosetItemStory":{"id":"UpdateClosetItemStory","path":"ApiStack/StylingApi/UpdateClosetItemStory","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/UpdateClosetItemStory/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"updateClosetItemStory","kind":"UNIT","typeName":"Mutation"}}}}},"LikeClosetItemResolver":{"id":"LikeClosetItemResolver","path":"ApiStack/StylingApi/LikeClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/LikeClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"likeClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"CommentOnClosetItemResolver":{"id":"CommentOnClosetItemResolver","path":"ApiStack/StylingApi/CommentOnClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/CommentOnClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"commentOnClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"PinHighlightResolver":{"id":"PinHighlightResolver","path":"ApiStack/StylingApi/PinHighlightResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/PinHighlightResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"pinHighlight","kind":"UNIT","typeName":"Mutation"}}}}},"ToggleWishlistItemResolver":{"id":"ToggleWishlistItemResolver","path":"ApiStack/StylingApi/ToggleWishlistItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ToggleWishlistItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"toggleWishlistItem","kind":"UNIT","typeName":"Mutation"}}}}},"ClosetItemCommentsResolver":{"id":"ClosetItemCommentsResolver","path":"ApiStack/StylingApi/ClosetItemCommentsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetItemCommentsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"closetItemComments","kind":"UNIT","typeName":"Query"}}}}},"AdminClosetItemLikesResolver":{"id":"AdminClosetItemLikesResolver","path":"ApiStack/StylingApi/AdminClosetItemLikesResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminClosetItemLikesResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"adminClosetItemLikes","kind":"UNIT","typeName":"Query"}}}}},"AdminClosetItemCommentsResolver":{"id":"AdminClosetItemCommentsResolver","path":"ApiStack/StylingApi/AdminClosetItemCommentsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminClosetItemCommentsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"adminClosetItemComments","kind":"UNIT","typeName":"Query"}}}}},"PinnedClosetItemsResolver":{"id":"PinnedClosetItemsResolver","path":"ApiStack/StylingApi/PinnedClosetItemsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/PinnedClosetItemsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"pinnedClosetItems","kind":"UNIT","typeName":"GameProfile"}}}}},"RequestBgChangeResolver":{"id":"RequestBgChangeResolver","path":"ApiStack/StylingApi/RequestBgChangeResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/RequestBgChangeResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"requestClosetBackgroundChange","kind":"UNIT","typeName":"Mutation"}}}}},"CreateStoryResolver":{"id":"CreateStoryResolver","path":"ApiStack/StylingApi/CreateStoryResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/CreateStoryResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"createStory","kind":"UNIT","typeName":"Mutation"}}}}},"PublishStoryResolver":{"id":"PublishStoryResolver","path":"ApiStack/StylingApi/PublishStoryResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/PublishStoryResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"publishStory","kind":"UNIT","typeName":"Mutation"}}}}},"AddClosetItemToFeedResolver":{"id":"AddClosetItemToFeedResolver","path":"ApiStack/StylingApi/AddClosetItemToFeedResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AddClosetItemToFeedResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"addClosetItemToCommunityFeed","kind":"UNIT","typeName":"Mutation"}}}}},"RemoveClosetItemFromFeedResolver":{"id":"RemoveClosetItemFromFeedResolver","path":"ApiStack/StylingApi/RemoveClosetItemFromFeedResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/RemoveClosetItemFromFeedResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"removeClosetItemFromCommunityFeed","kind":"UNIT","typeName":"Mutation"}}}}},"ShareClosetItemToPinterestResolver":{"id":"ShareClosetItemToPinterestResolver","path":"ApiStack/StylingApi/ShareClosetItemToPinterestResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ShareClosetItemToPinterestResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"shareClosetItemToPinterest","kind":"UNIT","typeName":"Mutation"}}}}},"ClosetAdminSource":{"id":"ClosetAdminSource","path":"ApiStack/StylingApi/ClosetAdminSource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/ClosetAdminSource/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/ClosetAdminSource/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetAdminSource/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/ClosetAdminSource/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetAdminSource/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ClosetAdminFnB4D542CC","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ClosetAdminFnB4D542CC","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiClosetAdminSourceServiceRoleDefaultPolicyDFCEEFAE","roles":[{"Ref":"StylingApiClosetAdminSourceServiceRole9EF81003"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetAdminSource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["ClosetAdminFnB4D542CC","Arn"]}},"name":"ClosetAdminSource","serviceRoleArn":{"Fn::GetAtt":["StylingApiClosetAdminSourceServiceRole9EF81003","Arn"]},"type":"AWS_LAMBDA"}}}}},"AdminListPendingResolver":{"id":"AdminListPendingResolver","path":"ApiStack/StylingApi/AdminListPendingResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminListPendingResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminListPending","kind":"UNIT","typeName":"Query"}}}}},"AdminListClosetItemsResolver":{"id":"AdminListClosetItemsResolver","path":"ApiStack/StylingApi/AdminListClosetItemsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminListClosetItemsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminListClosetItems","kind":"UNIT","typeName":"Query"}}}}},"ClosetFeedResolver":{"id":"ClosetFeedResolver","path":"ApiStack/StylingApi/ClosetFeedResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClosetFeedResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"closetFeed","kind":"UNIT","typeName":"Query"}}}}},"AdminCreateClosetItemResolver":{"id":"AdminCreateClosetItemResolver","path":"ApiStack/StylingApi/AdminCreateClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminCreateClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminCreateClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"AdminApproveItem":{"id":"AdminApproveItem","path":"ApiStack/StylingApi/AdminApproveItem","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminApproveItem/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminApproveItem","kind":"UNIT","typeName":"Mutation"}}}}},"AdminRejectItem":{"id":"AdminRejectItem","path":"ApiStack/StylingApi/AdminRejectItem","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminRejectItem/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminRejectItem","kind":"UNIT","typeName":"Mutation"}}}}},"AdminSetClosetAudience":{"id":"AdminSetClosetAudience","path":"ApiStack/StylingApi/AdminSetClosetAudience","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminSetClosetAudience/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminSetClosetAudience","kind":"UNIT","typeName":"Mutation"}}}}},"AdminUpdateClosetItemResolver":{"id":"AdminUpdateClosetItemResolver","path":"ApiStack/StylingApi/AdminUpdateClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminUpdateClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminUpdateClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"BestieDs":{"id":"BestieDs","path":"ApiStack/StylingApi/BestieDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/BestieDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/BestieDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/BestieDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/BestieDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/BestieDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["BestieFn57102072","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["BestieFn57102072","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiBestieDsServiceRoleDefaultPolicy459937D7","roles":[{"Ref":"StylingApiBestieDsServiceRole134EBB9C"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/BestieDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["BestieFn57102072","Arn"]}},"name":"BestieDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiBestieDsServiceRole134EBB9C","Arn"]},"type":"AWS_LAMBDA"}}}}},"MeBestieStatusResolver":{"id":"MeBestieStatusResolver","path":"ApiStack/StylingApi/MeBestieStatusResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/MeBestieStatusResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"meBestieStatus","kind":"UNIT","typeName":"Query"}}}}},"StartBestieCheckoutResolver":{"id":"StartBestieCheckoutResolver","path":"ApiStack/StylingApi/StartBestieCheckoutResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/StartBestieCheckoutResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"startBestieCheckout","kind":"UNIT","typeName":"Mutation"}}}}},"ClaimBestieTrialResolver":{"id":"ClaimBestieTrialResolver","path":"ApiStack/StylingApi/ClaimBestieTrialResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ClaimBestieTrialResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"claimBestieTrial","kind":"UNIT","typeName":"Mutation"}}}}},"AdminSetBestieResolver":{"id":"AdminSetBestieResolver","path":"ApiStack/StylingApi/AdminSetBestieResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminSetBestieResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminSetBestie","kind":"UNIT","typeName":"Mutation"}}}}},"AdminRevokeBestieResolver":{"id":"AdminRevokeBestieResolver","path":"ApiStack/StylingApi/AdminRevokeBestieResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminRevokeBestieResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminRevokeBestie","kind":"UNIT","typeName":"Mutation"}}}}},"AdminSetBestieByEmailResolver":{"id":"AdminSetBestieByEmailResolver","path":"ApiStack/StylingApi/AdminSetBestieByEmailResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminSetBestieByEmailResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminSetBestieByEmail","kind":"UNIT","typeName":"Mutation"}}}}},"AdminRevokeBestieByEmailResolver":{"id":"AdminRevokeBestieByEmailResolver","path":"ApiStack/StylingApi/AdminRevokeBestieByEmailResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AdminRevokeBestieByEmailResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminRevokeBestieByEmail","kind":"UNIT","typeName":"Mutation"}}}}},"EpisodesGateDs":{"id":"EpisodesGateDs","path":"ApiStack/StylingApi/EpisodesGateDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/EpisodesGateDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/EpisodesGateDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/EpisodesGateDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/EpisodesGateDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/EpisodesGateDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["EpisodesGateFn123EBDAC","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["EpisodesGateFn123EBDAC","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiEpisodesGateDsServiceRoleDefaultPolicyBE9E9754","roles":[{"Ref":"StylingApiEpisodesGateDsServiceRoleAAD7DDD3"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/EpisodesGateDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["EpisodesGateFn123EBDAC","Arn"]}},"name":"EpisodesGateDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiEpisodesGateDsServiceRoleAAD7DDD3","Arn"]},"type":"AWS_LAMBDA"}}}}},"IsEpisodeEarlyAccessResolver":{"id":"IsEpisodeEarlyAccessResolver","path":"ApiStack/StylingApi/IsEpisodeEarlyAccessResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/IsEpisodeEarlyAccessResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"EpisodesGateDs","fieldName":"isEpisodeEarlyAccess","kind":"UNIT","requestMappingTemplate":"{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}","responseMappingTemplate":"$util.toJson($ctx.result)","typeName":"Query"}}}}},"GameplayDS":{"id":"GameplayDS","path":"ApiStack/StylingApi/GameplayDS","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/GameplayDS/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/GameplayDS/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/GameplayDS/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/GameplayDS/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/GameplayDS/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["GameplayFnCD9DA738","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GameplayFnCD9DA738","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiGameplayDSServiceRoleDefaultPolicy78486F14","roles":[{"Ref":"StylingApiGameplayDSServiceRole20773680"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/GameplayDS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["GameplayFnCD9DA738","Arn"]}},"name":"GameplayDS","serviceRoleArn":{"Fn::GetAtt":["StylingApiGameplayDSServiceRole20773680","Arn"]},"type":"AWS_LAMBDA"}}}}},"LeaderboardDs":{"id":"LeaderboardDs","path":"ApiStack/StylingApi/LeaderboardDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/LeaderboardDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/LeaderboardDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/LeaderboardDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/LeaderboardDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/LeaderboardDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["LeaderboardFnF2B1AEC2","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LeaderboardFnF2B1AEC2","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiLeaderboardDsServiceRoleDefaultPolicyD7DA49C2","roles":[{"Ref":"StylingApiLeaderboardDsServiceRole00D64A33"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/LeaderboardDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["LeaderboardFnF2B1AEC2","Arn"]}},"name":"LeaderboardDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiLeaderboardDsServiceRole00D64A33","Arn"]},"type":"AWS_LAMBDA"}}}}},"PollsDs":{"id":"PollsDs","path":"ApiStack/StylingApi/PollsDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/PollsDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/PollsDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/PollsDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/PollsDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/PollsDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["PollsFn65E6C73F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PollsFn65E6C73F","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiPollsDsServiceRoleDefaultPolicyD1CDD935","roles":[{"Ref":"StylingApiPollsDsServiceRoleFE523342"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/PollsDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["PollsFn65E6C73F","Arn"]}},"name":"PollsDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiPollsDsServiceRoleFE523342","Arn"]},"type":"AWS_LAMBDA"}}}}},"ProfileDs":{"id":"ProfileDs","path":"ApiStack/StylingApi/ProfileDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/StylingApi/ProfileDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/StylingApi/ProfileDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ProfileDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/StylingApi/ProfileDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ProfileDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ProfileFn28F379CF","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProfileFn28F379CF","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiProfileDsServiceRoleDefaultPolicyD64DFCD4","roles":[{"Ref":"StylingApiProfileDsServiceRole6F0CE2C7"}]}}}}}}},"Resource":{"id":"Resource","path":"ApiStack/StylingApi/ProfileDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["ProfileFn28F379CF","Arn"]}},"name":"ProfileDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiProfileDsServiceRole6F0CE2C7","Arn"]},"type":"AWS_LAMBDA"}}}}},"LogGameEventResolver":{"id":"LogGameEventResolver","path":"ApiStack/StylingApi/LogGameEventResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/LogGameEventResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"GameplayDS","fieldName":"logGameEvent","kind":"UNIT","typeName":"Mutation"}}}}},"AwardCoinsResolver":{"id":"AwardCoinsResolver","path":"ApiStack/StylingApi/AwardCoinsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/AwardCoinsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"GameplayDS","fieldName":"awardCoins","kind":"UNIT","typeName":"Mutation"}}}}},"CreatePoll":{"id":"CreatePoll","path":"ApiStack/StylingApi/CreatePoll","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/CreatePoll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"PollsDs","fieldName":"createPoll","kind":"UNIT","typeName":"Mutation"}}}}},"VotePoll":{"id":"VotePoll","path":"ApiStack/StylingApi/VotePoll","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/VotePoll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"PollsDs","fieldName":"votePoll","kind":"UNIT","typeName":"Mutation"}}}}},"GrantBadge":{"id":"GrantBadge","path":"ApiStack/StylingApi/GrantBadge","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/GrantBadge/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"grantBadge","kind":"UNIT","typeName":"Mutation"}}}}},"SetDisplayName":{"id":"SetDisplayName","path":"ApiStack/StylingApi/SetDisplayName","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/SetDisplayName/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"setDisplayName","kind":"UNIT","typeName":"Mutation"}}}}},"UpdateProfile":{"id":"UpdateProfile","path":"ApiStack/StylingApi/UpdateProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/UpdateProfile/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"updateProfile","kind":"UNIT","typeName":"Mutation"}}}}},"TopXP":{"id":"TopXP","path":"ApiStack/StylingApi/TopXP","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/TopXP/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"LeaderboardDs","fieldName":"topXP","kind":"UNIT","typeName":"Query"}}}}},"TopCoins":{"id":"TopCoins","path":"ApiStack/StylingApi/TopCoins","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/TopCoins/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"LeaderboardDs","fieldName":"topCoins","kind":"UNIT","typeName":"Query"}}}}},"GetPoll":{"id":"GetPoll","path":"ApiStack/StylingApi/GetPoll","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/GetPoll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"PollsDs","fieldName":"getPoll","kind":"UNIT","typeName":"Query"}}}}},"GetMyProfile":{"id":"GetMyProfile","path":"ApiStack/StylingApi/GetMyProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"ApiStack/StylingApi/GetMyProfile/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"getMyProfile","kind":"UNIT","typeName":"Query"}}}}}}},"HelloFn":{"id":"HelloFn","path":"ApiStack/HelloFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/HelloFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/HelloFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/HelloFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"Code":{"id":"Code","path":"ApiStack/HelloFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/HelloFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/HelloFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/HelloFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"dba505f53767a9e6657cdeba0a1fe85822984a28978face5a785b36aa3fb4af7.zip"},"environment":{"variables":{"NODE_OPTIONS":"--enable-source-maps"}},"handler":"index.handler","role":{"Fn::GetAtt":["HelloFnServiceRoleDA97FE56","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"ClosetResolverFn":{"id":"ClosetResolverFn","path":"ApiStack/ClosetResolverFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/ClosetResolverFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/ClosetResolverFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/ClosetResolverFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/ClosetResolverFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/ClosetResolverFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Fn::ImportValue":"WorkflowsStack:ExportsOutputRefClosetUploadApprovalDA1D2210CE637AAA"}},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Fn::ImportValue":"WorkflowsStack:ExportsOutputRefBackgroundChangeApprovalE28AFC8B01294A97"}},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Fn::ImportValue":"WorkflowsStack:ExportsOutputRefStoryPublishWorkflowCD58F9E99CC790C1"}},{"Action":"events:PutEvents","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ClosetResolverFnServiceRoleDefaultPolicy2117A20A","roles":[{"Ref":"ClosetResolverFnServiceRole21435BA2"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/ClosetResolverFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/ClosetResolverFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/ClosetResolverFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/ClosetResolverFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"df2576af402427a2be99a53797145e2c686a8a646d66a4cb748efe013cbb83b9.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1","APPROVAL_SM_ARN":{"Fn::ImportValue":"WorkflowsStack:ExportsOutputRefClosetUploadApprovalDA1D2210CE637AAA"},"BG_CHANGE_SM_ARN":{"Fn::ImportValue":"WorkflowsStack:ExportsOutputRefBackgroundChangeApprovalE28AFC8B01294A97"},"STORY_PUBLISH_SM_ARN":{"Fn::ImportValue":"WorkflowsStack:ExportsOutputRefStoryPublishWorkflowCD58F9E99CC790C1"}}},"handler":"index.handler","role":{"Fn::GetAtt":["ClosetResolverFnServiceRole21435BA2","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"ClosetAdminFn":{"id":"ClosetAdminFn","path":"ApiStack/ClosetAdminFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/ClosetAdminFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/ClosetAdminFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/ClosetAdminFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/ClosetAdminFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/ClosetAdminFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]},{"Action":["dynamodb:Query","dynamodb:Scan","dynamodb:GetItem","dynamodb:UpdateItem","dynamodb:PutItem","dynamodb:DeleteItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]},{"Action":["states:SendTaskSuccess","states:SendTaskFailure"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ClosetAdminFnServiceRoleDefaultPolicy08DF50EF","roles":[{"Ref":"ClosetAdminFnServiceRole87F02459"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/ClosetAdminFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/ClosetAdminFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/ClosetAdminFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/ClosetAdminFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"a5add3c5a6cbfa5246bd51fe6f2d5cc3e1cb73c4767a284ed50c8e56eee61cf7.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1","APPROVAL_SM_ARN":{"Fn::ImportValue":"WorkflowsStack:ExportsOutputRefClosetUploadApprovalDA1D2210CE637AAA"}}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["ClosetAdminFnServiceRole87F02459","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}}}},"BestieFn":{"id":"BestieFn","path":"ApiStack/BestieFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/BestieFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/BestieFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/BestieFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/BestieFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/BestieFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]},{"Action":"cognito-idp:ListUsers","Effect":"Allow","Resource":{"Fn::ImportValue":"IdentityStack:ExportsOutputFnGetAttUserPool6BA7E5F2Arn686ACC00"}}],"Version":"2012-10-17"},"policyName":"BestieFnServiceRoleDefaultPolicy85C0CE1B","roles":[{"Ref":"BestieFnServiceRoleF23C6CA8"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/BestieFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/BestieFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/BestieFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/BestieFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"9942b27de6f166c31d3447fa7dc0d54398e33599317fad9a1af05eb55be61588.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1","USER_POOL_ID":{"Fn::ImportValue":"IdentityStack:ExportsOutputRefUserPool6BA7E5F296FD7236"},"STRIPE_SECRET_KEY":"","STRIPE_PRICE_ID":"","BASE_SUCCESS_URL":"http://localhost:5173"}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["BestieFnServiceRoleF23C6CA8","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":30}}}}},"EpisodesGateFn":{"id":"EpisodesGateFn","path":"ApiStack/EpisodesGateFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/EpisodesGateFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/EpisodesGateFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/EpisodesGateFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/EpisodesGateFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/EpisodesGateFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"EpisodesGateFnServiceRoleDefaultPolicy19662CB1","roles":[{"Ref":"EpisodesGateFnServiceRoleB3AD1C04"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/EpisodesGateFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/EpisodesGateFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/EpisodesGateFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/EpisodesGateFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"6c8ec9b3d79cc9d1bc3530b1fa03464e95e0ce02d7bcdbe4370fa7359391d238.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["EpisodesGateFnServiceRoleB3AD1C04","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"GameplayFn":{"id":"GameplayFn","path":"ApiStack/GameplayFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/GameplayFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/GameplayFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/GameplayFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/GameplayFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/GameplayFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GameplayFnServiceRoleDefaultPolicy448D7565","roles":[{"Ref":"GameplayFnServiceRole9C9BF690"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/GameplayFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/GameplayFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/GameplayFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/GameplayFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"c2e5dc177c824dd062c80479be3d2d271a9ba3047c94efd2115e93fce04ae4d2.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["GameplayFnServiceRole9C9BF690","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"LeaderboardFn":{"id":"LeaderboardFn","path":"ApiStack/LeaderboardFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/LeaderboardFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/LeaderboardFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/LeaderboardFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/LeaderboardFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/LeaderboardFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"LeaderboardFnServiceRoleDefaultPolicyA2682BE0","roles":[{"Ref":"LeaderboardFnServiceRoleB1EE89C6"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/LeaderboardFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/LeaderboardFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/LeaderboardFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/LeaderboardFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"2df93e7d7043a07576b3f17833792d1fdc7d9c0dca2e3e3753b947de315ab317.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["LeaderboardFnServiceRoleB1EE89C6","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"PollsFn":{"id":"PollsFn","path":"ApiStack/PollsFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/PollsFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/PollsFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/PollsFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/PollsFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/PollsFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"PollsFnServiceRoleDefaultPolicyA9884FB0","roles":[{"Ref":"PollsFnServiceRole872F6029"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/PollsFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/PollsFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/PollsFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/PollsFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"f9307ce88d1f8124bc247c5aba260f8519af294bde8a83406d549d7a1ef30efe.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["PollsFnServiceRole872F6029","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"ProfileFn":{"id":"ProfileFn","path":"ApiStack/ProfileFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"ApiStack/ProfileFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"ApiStack/ProfileFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"ApiStack/ProfileFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"ApiStack/ProfileFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"ApiStack/ProfileFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ProfileFnServiceRoleDefaultPolicy3F833555","roles":[{"Ref":"ProfileFnServiceRole4C7CA582"}]}}}}}}},"Code":{"id":"Code","path":"ApiStack/ProfileFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"ApiStack/ProfileFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"ApiStack/ProfileFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"ApiStack/ProfileFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"83099c82471ac0bffef1e499aac46af1ef8ed7840c7c1f1d37db3c67c9af972a.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["ProfileFnServiceRole4C7CA582","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"GraphQlApiUrl":{"id":"GraphQlApiUrl","path":"ApiStack/GraphQlApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"GraphQlApiId":{"id":"GraphQlApiId","path":"ApiStack/GraphQlApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"ApiStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"ApiStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"ApiStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"ApiStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"UploadsStack":{"id":"UploadsStack","path":"UploadsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"UploadsBucket":{"id":"UploadsBucket","path":"UploadsStack/UploadsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"corsConfiguration":{"corsRules":[{"maxAge":86400,"allowedHeaders":["*"],"allowedMethods":["PUT"],"allowedOrigins":["https://d1682i07dc1r3k.cloudfront.net","https://d1so4qr6zsby5r.cloudfront.net","https://www.stylingadventures.com","http://localhost:5173","https://localhost:5173"],"exposedHeaders":["ETag","x-amz-version-id"]},{"maxAge":86400,"allowedHeaders":["Origin","Accept","Referer","User-Agent","Range"],"allowedMethods":["GET","HEAD"],"allowedOrigins":["https://d1682i07dc1r3k.cloudfront.net","https://d1so4qr6zsby5r.cloudfront.net","https://www.stylingadventures.com","http://localhost:5173","https://localhost:5173"],"exposedHeaders":["ETag","Content-Type","Content-Length","Last-Modified","Accept-Ranges"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"Policy":{"id":"Policy","path":"UploadsStack/UploadsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"UploadsBucket5E5E9B64"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"Notifications":{"id":"Notifications","path":"UploadsStack/UploadsBucket/Notifications","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsBucket/Notifications/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"AllowBucketNotificationsToUploadsStackThumbgenFnC861BAE7":{"id":"AllowBucketNotificationsToUploadsStackThumbgenFnC861BAE7","path":"UploadsStack/UploadsBucket/AllowBucketNotificationsToUploadsStackThumbgenFnC861BAE7","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ThumbgenFnC520259A","Arn"]},"principal":"s3.amazonaws.com","sourceAccount":"637423256673","sourceArn":{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]}}}},"AllowBucketNotificationsToUploadsStackClosetBgWorkerFn0F23D923":{"id":"AllowBucketNotificationsToUploadsStackClosetBgWorkerFn0F23D923","path":"UploadsStack/UploadsBucket/AllowBucketNotificationsToUploadsStackClosetBgWorkerFn0F23D923","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ClosetBgWorkerFn832AECE4","Arn"]},"principal":"s3.amazonaws.com","sourceAccount":"637423256673","sourceArn":{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]}}}}}},"WebBucket":{"id":"WebBucket","path":"UploadsStack/WebBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}},"PresignFn":{"id":"PresignFn","path":"UploadsStack/PresignFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"UploadsStack/PresignFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"UploadsStack/PresignFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/PresignFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UploadsStack/PresignFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/PresignFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"PresignFnServiceRoleDefaultPolicyA1C82940","roles":[{"Ref":"PresignFnServiceRole01C8BCF6"}]}}}}}}},"Code":{"id":"Code","path":"UploadsStack/PresignFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"UploadsStack/PresignFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"UploadsStack/PresignFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UploadsStack/PresignFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"3283cb64cc7f32b10a19914884e7134b92a3e4320ff94000809e79c5b693a9b9.zip"},"environment":{"variables":{"BUCKET":{"Ref":"UploadsBucket5E5E9B64"},"WEB_ORIGIN":"https://d1682i07dc1r3k.cloudfront.net","ALLOWED_ORIGINS":"https://d1682i07dc1r3k.cloudfront.net,https://d1so4qr6zsby5r.cloudfront.net,https://www.stylingadventures.com,http://localhost:5173,https://localhost:5173","THUMBS_PREFIX":"thumbs/"}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["PresignFnServiceRole01C8BCF6","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"UploadsStack/PresignFn/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"UploadsStack/PresignFn/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"LogGroup":{"id":"LogGroup","path":"UploadsStack/PresignFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a":{"id":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Code":{"id":"Code","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"ServiceRole":{"id":"ServiceRole","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["logs:PutRetentionPolicy","logs:DeleteRetentionPolicy"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB","roles":[{"Ref":"LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"}]}}}}}}},"Resource":{"id":"Resource","path":"UploadsStack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"ListFn":{"id":"ListFn","path":"UploadsStack/ListFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"UploadsStack/ListFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"UploadsStack/ListFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/ListFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UploadsStack/ListFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ListFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ListFnServiceRoleDefaultPolicy40CF7272","roles":[{"Ref":"ListFnServiceRole4DFB7CA2"}]}}}}}}},"Code":{"id":"Code","path":"UploadsStack/ListFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"UploadsStack/ListFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"UploadsStack/ListFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UploadsStack/ListFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"07d022aae6b1c701309305ec497468221cdf434c30df1f3f9d9268fee2e0c529.zip"},"environment":{"variables":{"BUCKET":{"Ref":"UploadsBucket5E5E9B64"},"WEB_ORIGIN":"https://d1682i07dc1r3k.cloudfront.net","ALLOWED_ORIGINS":"https://d1682i07dc1r3k.cloudfront.net,https://d1so4qr6zsby5r.cloudfront.net,https://www.stylingadventures.com,http://localhost:5173,https://localhost:5173","THUMBS_PREFIX":"thumbs/"}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["ListFnServiceRole4DFB7CA2","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":30}}},"LogRetention":{"id":"LogRetention","path":"UploadsStack/ListFn/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ListFn/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"LogGroup":{"id":"LogGroup","path":"UploadsStack/ListFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"ThumbHeadFn":{"id":"ThumbHeadFn","path":"UploadsStack/ThumbHeadFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"UploadsStack/ThumbHeadFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"UploadsStack/ThumbHeadFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/ThumbHeadFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UploadsStack/ThumbHeadFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ThumbHeadFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::webstack-staticsitebucket8958ee3f-x6o1ifgoyjt1"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::webstack-staticsitebucket8958ee3f-x6o1ifgoyjt1/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThumbHeadFnServiceRoleDefaultPolicy91888102","roles":[{"Ref":"ThumbHeadFnServiceRole3E5C13F3"}]}}}}}}},"Code":{"id":"Code","path":"UploadsStack/ThumbHeadFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"UploadsStack/ThumbHeadFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"UploadsStack/ThumbHeadFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UploadsStack/ThumbHeadFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"8aa03d1297de967b2004cbc4a3b6714ff8901ec24603b0f24e7098f8b86b5fbd.zip"},"environment":{"variables":{"BUCKET":"webstack-staticsitebucket8958ee3f-x6o1ifgoyjt1","WEB_ORIGIN":"https://d1682i07dc1r3k.cloudfront.net","ALLOWED_ORIGINS":"https://d1682i07dc1r3k.cloudfront.net,https://d1so4qr6zsby5r.cloudfront.net,https://www.stylingadventures.com,http://localhost:5173,https://localhost:5173","THUMBS_PREFIX":"thumbs/"}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["ThumbHeadFnServiceRole3E5C13F3","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":10}}},"LogRetention":{"id":"LogRetention","path":"UploadsStack/ThumbHeadFn/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ThumbHeadFn/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"LogGroup":{"id":"LogGroup","path":"UploadsStack/ThumbHeadFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"SharpLayer":{"id":"SharpLayer","path":"UploadsStack/SharpLayer","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.LayerVersion","version":"2.223.0","metadata":[]},"children":{"Code":{"id":"Code","path":"UploadsStack/SharpLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"UploadsStack/SharpLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"UploadsStack/SharpLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UploadsStack/SharpLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"compatibleRuntimes":["nodejs18.x"],"content":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"6d11bf716f6dbc5b5ac8e263f7446498ace208bb7ca2fb20a6eef083a29af94e.zip"},"description":"sharp for Node.js 18 (linux-x64)"}}}}},"ThumbgenFn":{"id":"ThumbgenFn","path":"UploadsStack/ThumbgenFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"UploadsStack/ThumbgenFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"UploadsStack/ThumbgenFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/ThumbgenFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UploadsStack/ThumbgenFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ThumbgenFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::webstack-staticsitebucket8958ee3f-x6o1ifgoyjt1"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::webstack-staticsitebucket8958ee3f-x6o1ifgoyjt1/*"]]}]}],"Version":"2012-10-17"},"policyName":"ThumbgenFnServiceRoleDefaultPolicy557C4CF8","roles":[{"Ref":"ThumbgenFnServiceRoleF9CCBB84"}]}}}}}}},"Code":{"id":"Code","path":"UploadsStack/ThumbgenFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"UploadsStack/ThumbgenFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"UploadsStack/ThumbgenFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UploadsStack/ThumbgenFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"architectures":["x86_64"],"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"c045e221b4cf00d3c0f69723c8ad73046d681f7e983863813aefdfa4e28aaac6.zip"},"environment":{"variables":{"UPLOADS_BUCKET":{"Ref":"UploadsBucket5E5E9B64"},"DEST_BUCKET":"webstack-staticsitebucket8958ee3f-x6o1ifgoyjt1","THUMBS_PREFIX":"thumbs/","MAX_WIDTH":"360","JPEG_QUALITY":"80"}},"handler":"index.handler","layers":[{"Ref":"SharpLayerBFFDC332"}],"memorySize":512,"role":{"Fn::GetAtt":["ThumbgenFnServiceRoleF9CCBB84","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":60}}},"LogRetention":{"id":"LogRetention","path":"UploadsStack/ThumbgenFn/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ThumbgenFn/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"LogGroup":{"id":"LogGroup","path":"UploadsStack/ThumbgenFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"BucketNotificationsHandler050a0587b7544547bf325f094a3db834":{"id":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834","path":"UploadsStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Role":{"id":"Role","path":"UploadsStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"UploadsStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UploadsStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"s3:PutBucketNotification","Effect":"Allow","Resource":{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]}}],"Version":"2012-10-17"},"policyName":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36","roles":[{"Ref":"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC"}]}}}}}}},"Resource":{"id":"Resource","path":"UploadsStack/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"ClosetBgWorkerFn":{"id":"ClosetBgWorkerFn","path":"UploadsStack/ClosetBgWorkerFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"UploadsStack/ClosetBgWorkerFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"UploadsStack/ClosetBgWorkerFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/ClosetBgWorkerFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"UploadsStack/ClosetBgWorkerFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ClosetBgWorkerFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},{"Fn::Join":["",[{"Fn::ImportValue":"DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"},"/index/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["UploadsBucket5E5E9B64","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"ClosetBgWorkerFnServiceRoleDefaultPolicy28A47F60","roles":[{"Ref":"ClosetBgWorkerFnServiceRole4798FE70"}]}}}}}}},"Code":{"id":"Code","path":"UploadsStack/ClosetBgWorkerFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"UploadsStack/ClosetBgWorkerFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"UploadsStack/ClosetBgWorkerFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"UploadsStack/ClosetBgWorkerFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"d91e6b40944272a745e9697d4966c46b534eba8b0134a583edd9934bf24885e8.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"},"RAW_MEDIA_GSI_NAME":"rawMediaKeyIndex","REMOVE_BG_API_KEY":"VLH76a1SggN6xXxj8Wzn"}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["ClosetBgWorkerFnServiceRole4798FE70","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}],"timeout":60}}},"LogRetention":{"id":"LogRetention","path":"UploadsStack/ClosetBgWorkerFn/LogRetention","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogRetention","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"UploadsStack/ClosetBgWorkerFn/LogRetention/Resource","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"LogGroup":{"id":"LogGroup","path":"UploadsStack/ClosetBgWorkerFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"UploadsApi":{"id":"UploadsApi","path":"UploadsStack/UploadsApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"uploads-api","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"UploadsStack/UploadsApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"UploadsStack/UploadsApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"Account":{"id":"Account","path":"UploadsStack/UploadsApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["UploadsApiCloudWatchRole6FE18421","Arn"]}}}},"Deployment":{"id":"Deployment","path":"UploadsStack/UploadsApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"UploadsStack/UploadsApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"UploadsApiDeployment4A67E04Cb0fc36fff9926a1e97180ae57ad776b3"},"restApiId":{"Ref":"UploadsApiF6E592E7"},"stageName":"prod","tags":[{"key":"App","value":"stylingadventures"},{"key":"Env","value":"dev"}]}}}}},"Endpoint":{"id":"Endpoint","path":"UploadsStack/UploadsApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Default":{"id":"Default","path":"UploadsStack/UploadsApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.223.0","metadata":[]},"children":{"list":{"id":"list","path":"UploadsStack/UploadsApi/Default/list","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/list/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"list","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"GET":{"id":"GET","path":"UploadsStack/UploadsApi/Default/list/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.UploadsStackUploadsApiC6DB0904.GET..list":{"id":"ApiPermission.UploadsStackUploadsApiC6DB0904.GET..list","path":"UploadsStack/UploadsApi/Default/list/GET/ApiPermission.UploadsStackUploadsApiC6DB0904.GET..list","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ListFn7192A255","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/GET/list"]]}}}},"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..list":{"id":"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..list","path":"UploadsStack/UploadsApi/Default/list/GET/ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..list","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ListFn7192A255","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/GET/list"]]}}}},"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/list/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ListFn7192A255","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApilist04BFB266"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}},"presign":{"id":"presign","path":"UploadsStack/UploadsApi/Default/presign","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/presign/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"presign","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"POST":{"id":"POST","path":"UploadsStack/UploadsApi/Default/presign/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.UploadsStackUploadsApiC6DB0904.POST..presign":{"id":"ApiPermission.UploadsStackUploadsApiC6DB0904.POST..presign","path":"UploadsStack/UploadsApi/Default/presign/POST/ApiPermission.UploadsStackUploadsApiC6DB0904.POST..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/POST/presign"]]}}}},"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.POST..presign":{"id":"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.POST..presign","path":"UploadsStack/UploadsApi/Default/presign/POST/ApiPermission.Test.UploadsStackUploadsApiC6DB0904.POST..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/POST/presign"]]}}}},"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/presign/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApipresignE1161A2C"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"GET":{"id":"GET","path":"UploadsStack/UploadsApi/Default/presign/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.UploadsStackUploadsApiC6DB0904.GET..presign":{"id":"ApiPermission.UploadsStackUploadsApiC6DB0904.GET..presign","path":"UploadsStack/UploadsApi/Default/presign/GET/ApiPermission.UploadsStackUploadsApiC6DB0904.GET..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/GET/presign"]]}}}},"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..presign":{"id":"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..presign","path":"UploadsStack/UploadsApi/Default/presign/GET/ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/GET/presign"]]}}}},"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/presign/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApipresignE1161A2C"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"UploadsStack/UploadsApi/Default/presign/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.UploadsStackUploadsApiC6DB0904.OPTIONS..presign":{"id":"ApiPermission.UploadsStackUploadsApiC6DB0904.OPTIONS..presign","path":"UploadsStack/UploadsApi/Default/presign/OPTIONS/ApiPermission.UploadsStackUploadsApiC6DB0904.OPTIONS..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/OPTIONS/presign"]]}}}},"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.OPTIONS..presign":{"id":"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.OPTIONS..presign","path":"UploadsStack/UploadsApi/Default/presign/OPTIONS/ApiPermission.Test.UploadsStackUploadsApiC6DB0904.OPTIONS..presign","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/OPTIONS/presign"]]}}}},"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/presign/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApipresignE1161A2C"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}},"delete":{"id":"delete","path":"UploadsStack/UploadsApi/Default/delete","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/delete/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"delete","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"DELETE":{"id":"DELETE","path":"UploadsStack/UploadsApi/Default/delete/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.UploadsStackUploadsApiC6DB0904.DELETE..delete":{"id":"ApiPermission.UploadsStackUploadsApiC6DB0904.DELETE..delete","path":"UploadsStack/UploadsApi/Default/delete/DELETE/ApiPermission.UploadsStackUploadsApiC6DB0904.DELETE..delete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/DELETE/delete"]]}}}},"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.DELETE..delete":{"id":"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.DELETE..delete","path":"UploadsStack/UploadsApi/Default/delete/DELETE/ApiPermission.Test.UploadsStackUploadsApiC6DB0904.DELETE..delete","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/DELETE/delete"]]}}}},"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/delete/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PresignFnA38D425B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApidelete14170098"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}},"thumb-head":{"id":"thumb-head","path":"UploadsStack/UploadsApi/Default/thumb-head","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/thumb-head/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["UploadsApiF6E592E7","RootResourceId"]},"pathPart":"thumb-head","restApiId":{"Ref":"UploadsApiF6E592E7"}}}},"GET":{"id":"GET","path":"UploadsStack/UploadsApi/Default/thumb-head/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.223.0","metadata":[]},"children":{"ApiPermission.UploadsStackUploadsApiC6DB0904.GET..thumb-head":{"id":"ApiPermission.UploadsStackUploadsApiC6DB0904.GET..thumb-head","path":"UploadsStack/UploadsApi/Default/thumb-head/GET/ApiPermission.UploadsStackUploadsApiC6DB0904.GET..thumb-head","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ThumbHeadFn9C2B9FD0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/",{"Ref":"UploadsApiDeploymentStageprod1839106B"},"/GET/thumb-head"]]}}}},"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..thumb-head":{"id":"ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..thumb-head","path":"UploadsStack/UploadsApi/Default/thumb-head/GET/ApiPermission.Test.UploadsStackUploadsApiC6DB0904.GET..thumb-head","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ThumbHeadFn9C2B9FD0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:us-east-1:637423256673:",{"Ref":"UploadsApiF6E592E7"},"/test-invoke-stage/GET/thumb-head"]]}}}},"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default/thumb-head/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ThumbHeadFn9C2B9FD0","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"UploadsApithumbhead26656547"},"restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}}}},"Default4xxCors":{"id":"Default4xxCors","path":"UploadsStack/UploadsApi/Default4xxCors","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.GatewayResponse","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default4xxCors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnGatewayResponse","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::GatewayResponse","aws:cdk:cloudformation:props":{"responseParameters":{"gatewayresponse.header.Access-Control-Allow-Origin":"'https://d1682i07dc1r3k.cloudfront.net'","gatewayresponse.header.Access-Control-Allow-Headers":"'Authorization,Content-Type'","gatewayresponse.header.Access-Control-Allow-Methods":"'GET,POST,DELETE,OPTIONS'"},"responseType":"DEFAULT_4XX","restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}},"Default5xxCors":{"id":"Default5xxCors","path":"UploadsStack/UploadsApi/Default5xxCors","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.GatewayResponse","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"UploadsStack/UploadsApi/Default5xxCors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnGatewayResponse","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::GatewayResponse","aws:cdk:cloudformation:props":{"responseParameters":{"gatewayresponse.header.Access-Control-Allow-Origin":"'https://d1682i07dc1r3k.cloudfront.net'","gatewayresponse.header.Access-Control-Allow-Headers":"'Authorization,Content-Type'","gatewayresponse.header.Access-Control-Allow-Methods":"'GET,POST,DELETE,OPTIONS'"},"responseType":"DEFAULT_5XX","restApiId":{"Ref":"UploadsApiF6E592E7"}}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"UploadsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"UploadsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"UploadsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"UploadsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}