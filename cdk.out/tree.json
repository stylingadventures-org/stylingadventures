{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.223.0"},"children":{"SA-Database-dev":{"id":"SA-Database-dev","path":"SA-Database-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"ClosetTable":{"id":"ClosetTable","path":"SA-Database-dev/ClosetTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Database-dev/ClosetTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"pk","attributeType":"S"},{"attributeName":"sk","attributeType":"S"},{"attributeName":"gsi1pk","attributeType":"S"},{"attributeName":"gsi1sk","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"gsi1","keySchema":[{"attributeName":"gsi1pk","keyType":"HASH"},{"attributeName":"gsi1sk","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"pk","keyType":"HASH"},{"attributeName":"sk","keyType":"RANGE"}],"tableName":"stylingadventures-closet-dev","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"database"}]}}},"ScalingRole":{"id":"ScalingRole","path":"SA-Database-dev/ClosetTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}}}},"CDKMetadata":{"id":"CDKMetadata","path":"SA-Database-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"SA-Database-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"SA-Database-dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Output{\"Fn::GetAtt\":[\"ClosetTableCB17EED6\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"ClosetTableCB17EED6\",\"Arn\"]}","path":"SA-Database-dev/Exports/Output{\"Fn::GetAtt\":[\"ClosetTableCB17EED6\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"ClosetTableCB17EED6\"}":{"id":"Output{\"Ref\":\"ClosetTableCB17EED6\"}","path":"SA-Database-dev/Exports/Output{\"Ref\":\"ClosetTableCB17EED6\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SA-Database-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SA-Database-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"SA-Identity-dev":{"id":"SA-Identity-dev","path":"SA-Identity-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"UserPool":{"id":"UserPool","path":"SA-Identity-dev/UserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Identity-dev/UserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":8,"requireLowercase":true,"requireUppercase":false,"requireNumbers":true,"requireSymbols":false}},"smsVerificationMessage":"The verification code to your new account is {####}","userPoolTags":{"environment":"dev","project":"stylingadventures","stack":"identity"},"usernameAttributes":["email"],"userPoolName":"stylingadventures-users-dev","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"WebClient":{"id":"WebClient","path":"SA-Identity-dev/UserPool/WebClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Identity-dev/UserPool/WebClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"stylingadventures-web-dev","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"idTokenValidity":60,"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":43200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}},"UserPoolDomain":{"id":"UserPoolDomain","path":"SA-Identity-dev/UserPool/UserPoolDomain","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolDomain","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Identity-dev/UserPool/UserPoolDomain/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolDomain","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolDomain","aws:cdk:cloudformation:props":{"domain":"sa-dev-style2","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}}}}}},"Group-FAN":{"id":"Group-FAN","path":"SA-Identity-dev/Group-FAN","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"FAN","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"Group-BESTIE":{"id":"Group-BESTIE","path":"SA-Identity-dev/Group-BESTIE","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"BESTIE","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"Group-CREATOR":{"id":"Group-CREATOR","path":"SA-Identity-dev/Group-CREATOR","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"CREATOR","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"Group-COLLAB":{"id":"Group-COLLAB","path":"SA-Identity-dev/Group-COLLAB","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"COLLAB","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"Group-ADMIN":{"id":"Group-ADMIN","path":"SA-Identity-dev/Group-ADMIN","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"ADMIN","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"Group-PRIME":{"id":"Group-PRIME","path":"SA-Identity-dev/Group-PRIME","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolGroup","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolGroup","aws:cdk:cloudformation:props":{"groupName":"PRIME","userPoolId":{"Ref":"UserPool6BA7E5F2"}}}},"UserPoolId":{"id":"UserPoolId","path":"SA-Identity-dev/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"SA-Identity-dev/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SA-Identity-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"SA-Identity-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"SA-Identity-dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Output{\"Ref\":\"UserPool6BA7E5F2\"}":{"id":"Output{\"Ref\":\"UserPool6BA7E5F2\"}","path":"SA-Identity-dev/Exports/Output{\"Ref\":\"UserPool6BA7E5F2\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}":{"id":"Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","path":"SA-Identity-dev/Exports/Output{\"Fn::GetAtt\":[\"UserPool6BA7E5F2\",\"Arn\"]}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SA-Identity-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SA-Identity-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"SA-Uploads-dev":{"id":"SA-Uploads-dev","path":"SA-Uploads-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"UploadsBucket":{"id":"UploadsBucket","path":"SA-Uploads-dev/UploadsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Uploads-dev/UploadsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"stylingadventures-uploads-dev-637423256673","publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"uploads"}],"versioningConfiguration":{"status":"Enabled"}}}}}},"UploadsBucketName":{"id":"UploadsBucketName","path":"SA-Uploads-dev/UploadsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SA-Uploads-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"SA-Uploads-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SA-Uploads-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SA-Uploads-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"SA-Workflows-dev":{"id":"SA-Workflows-dev","path":"SA-Workflows-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"ApprovalNoop":{"id":"ApprovalNoop","path":"SA-Workflows-dev/ApprovalNoop","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"ApprovalStateMachine":{"id":"ApprovalStateMachine","path":"SA-Workflows-dev/ApprovalStateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.223.0","metadata":[]},"children":{"Role":{"id":"Role","path":"SA-Workflows-dev/ApprovalStateMachine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"SA-Workflows-dev/ApprovalStateMachine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-Workflows-dev/ApprovalStateMachine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"workflows"}]}}}}},"Resource":{"id":"Resource","path":"SA-Workflows-dev/ApprovalStateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":"{\"StartAt\":\"ApprovalNoop\",\"States\":{\"ApprovalNoop\":{\"Type\":\"Pass\",\"Comment\":\"Closet approval workflow placeholder – expand to multi-step moderation later\",\"End\":true}}}","roleArn":{"Fn::GetAtt":["ApprovalStateMachineRoleE1EEC7A5","Arn"]},"stateMachineName":"SA-ClosetApproval-dev","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"workflows"}]}}}}},"BgChangeNoop":{"id":"BgChangeNoop","path":"SA-Workflows-dev/BgChangeNoop","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"BackgroundChangeStateMachine":{"id":"BackgroundChangeStateMachine","path":"SA-Workflows-dev/BackgroundChangeStateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.223.0","metadata":[]},"children":{"Role":{"id":"Role","path":"SA-Workflows-dev/BackgroundChangeStateMachine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"SA-Workflows-dev/BackgroundChangeStateMachine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-Workflows-dev/BackgroundChangeStateMachine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"workflows"}]}}}}},"Resource":{"id":"Resource","path":"SA-Workflows-dev/BackgroundChangeStateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":"{\"StartAt\":\"BgChangeNoop\",\"States\":{\"BgChangeNoop\":{\"Type\":\"Pass\",\"Comment\":\"Background change workflow placeholder – expand to moderation + processing later\",\"End\":true}}}","roleArn":{"Fn::GetAtt":["BackgroundChangeStateMachineRole7FBE53CC","Arn"]},"stateMachineName":"SA-BackgroundChange-dev","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"workflows"}]}}}}},"StoryPublishNoop":{"id":"StoryPublishNoop","path":"SA-Workflows-dev/StoryPublishNoop","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Pass","version":"2.223.0"}},"StoryPublishStateMachine":{"id":"StoryPublishStateMachine","path":"SA-Workflows-dev/StoryPublishStateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.223.0","metadata":[]},"children":{"Role":{"id":"Role","path":"SA-Workflows-dev/StoryPublishStateMachine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportRole":{"id":"ImportRole","path":"SA-Workflows-dev/StoryPublishStateMachine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-Workflows-dev/StoryPublishStateMachine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"workflows"}]}}}}},"Resource":{"id":"Resource","path":"SA-Workflows-dev/StoryPublishStateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":"{\"StartAt\":\"StoryPublishNoop\",\"States\":{\"StoryPublishNoop\":{\"Type\":\"Pass\",\"Comment\":\"Story publish workflow placeholder – expand to scheduling / publishing / syndication later\",\"End\":true}}}","roleArn":{"Fn::GetAtt":["StoryPublishStateMachineRole46B5253B","Arn"]},"stateMachineName":"SA-StoryPublish-dev","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"workflows"}]}}}}},"ApprovalStateMachineArn":{"id":"ApprovalStateMachineArn","path":"SA-Workflows-dev/ApprovalStateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"BgChangeStateMachineArn":{"id":"BgChangeStateMachineArn","path":"SA-Workflows-dev/BgChangeStateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"StoryPublishStateMachineArn":{"id":"StoryPublishStateMachineArn","path":"SA-Workflows-dev/StoryPublishStateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SA-Workflows-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"SA-Workflows-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"Exports":{"id":"Exports","path":"SA-Workflows-dev/Exports","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Output{\"Ref\":\"ApprovalStateMachine767589AA\"}":{"id":"Output{\"Ref\":\"ApprovalStateMachine767589AA\"}","path":"SA-Workflows-dev/Exports/Output{\"Ref\":\"ApprovalStateMachine767589AA\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"BackgroundChangeStateMachine2ACB4023\"}":{"id":"Output{\"Ref\":\"BackgroundChangeStateMachine2ACB4023\"}","path":"SA-Workflows-dev/Exports/Output{\"Ref\":\"BackgroundChangeStateMachine2ACB4023\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"Output{\"Ref\":\"StoryPublishStateMachine3539E2DC\"}":{"id":"Output{\"Ref\":\"StoryPublishStateMachine3539E2DC\"}","path":"SA-Workflows-dev/Exports/Output{\"Ref\":\"StoryPublishStateMachine3539E2DC\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SA-Workflows-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SA-Workflows-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"SA-API-dev":{"id":"SA-API-dev","path":"SA-API-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"StylingApi":{"id":"StylingApi","path":"SA-API-dev/StylingApi","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.GraphqlApi","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLApi","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLApi","aws:cdk:cloudformation:props":{"authenticationType":"AMAZON_COGNITO_USER_POOLS","name":"stylingadventures-api","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}],"userPoolConfig":{"userPoolId":{"Fn::ImportValue":"SA-Identity-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"},"awsRegion":"us-east-1","defaultAction":"ALLOW"},"xrayEnabled":true}}},"Schema":{"id":"Schema","path":"SA-API-dev/StylingApi/Schema","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnGraphQLSchema","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::GraphQLSchema","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"definition":"# Root query type\r\ntype Query {\r\n  # Simple healthcheck\r\n  hello: String\r\n\r\n  # Current user basic info\r\n  me: Me!\r\n\r\n  # Closet queries (fan / bestie)\r\n  myCloset(limit: Int, nextToken: String): ClosetConnection!\r\n  myWishlist(limit: Int, nextToken: String): ClosetConnection!\r\n  bestieClosetItems(limit: Int, nextToken: String): ClosetConnection!\r\n\r\n  # Comments & likes\r\n  closetItemComments(\r\n    itemId: ID!\r\n    limit: Int\r\n    nextToken: String\r\n  ): CommentConnection!\r\n\r\n  adminClosetItemLikes(\r\n    itemId: ID!\r\n    limit: Int\r\n    nextToken: String\r\n  ): LikeConnection!\r\n\r\n  adminClosetItemComments(\r\n    itemId: ID!\r\n    limit: Int\r\n    nextToken: String\r\n  ): CommentConnection!\r\n\r\n  # Admin / feed views\r\n  adminListPending(limit: Int, nextToken: String): ClosetConnection!\r\n  adminListClosetItems(limit: Int, nextToken: String): ClosetConnection!\r\n  closetFeed(limit: Int, nextToken: String): ClosetConnection!\r\n\r\n  # Episodes / early access\r\n  isEpisodeEarlyAccess(episodeId: ID!): EpisodeAccess!\r\n\r\n  # Game / leaderboard\r\n  topXP(limit: Int = 50): [GameProfile!]!\r\n  topCoins(limit: Int = 50): [GameProfile!]!\r\n\r\n  # Polls\r\n  getPoll(id: ID!): Poll\r\n\r\n  # Game profile\r\n  getMyProfile: GameProfile\r\n\r\n  # Bestie status\r\n  meBestieStatus: BestieStatus!\r\n}\r\n\r\n# Root mutation type\r\ntype Mutation {\r\n  # Roles\r\n  setUserRole(userId: ID!, role: String!): RoleResult!\r\n\r\n  # Closet (fan/bestie core)\r\n  createClosetItem(input: CreateClosetItemInput!): ClosetItem!\r\n  requestClosetApproval(itemId: ID!): ClosetItem!\r\n  updateClosetMediaKey(itemId: ID!, mediaKey: String!): ClosetItem!\r\n  updateClosetItemStory(input: UpdateClosetItemStoryInput!): ClosetItem!\r\n\r\n  likeClosetItem(itemId: ID!): ClosetItem!\r\n  commentOnClosetItem(input: CommentOnClosetItemInput!): Comment!\r\n  pinHighlight(itemId: ID!): GameProfile!\r\n  toggleWishlistItem(itemId: ID!): ClosetItem!\r\n\r\n  # Bestie closet aliases (used by BestieCloset UI)\r\n  bestieCreateClosetItem(input: BestieCreateClosetItemInput!): ClosetItem!\r\n  bestieUpdateClosetItem(id: ID!, input: BestieUpdateClosetItemInput!): ClosetItem!\r\n  bestieDeleteClosetItem(id: ID!): Boolean!\r\n\r\n  # Closet admin\r\n  adminCreateClosetItem(input: AdminCreateClosetItemInput!): ClosetItem!\r\n  adminApproveItem(itemId: ID!): ClosetItem!\r\n  adminRejectItem(itemId: ID!, reason: String): ClosetItem!\r\n  adminSetClosetAudience(itemId: ID!, visibility: ClosetVisibility!): ClosetItem!\r\n  adminUpdateClosetItem(input: AdminUpdateClosetItemInput!): ClosetItem!\r\n\r\n  # Bestie membership / billing\r\n  startBestieCheckout: BestieCheckoutSession!\r\n  claimBestieTrial: BestieStatus!\r\n  adminSetBestie(userId: ID!): BestieStatus!\r\n  adminRevokeBestie(userId: ID!): BestieStatus!\r\n  adminSetBestieByEmail(email: String!): BestieStatus!\r\n  adminRevokeBestieByEmail(email: String!): BestieStatus!\r\n\r\n  # Game engine\r\n  logGameEvent(input: LogGameEventInput!): GameEventResult!\r\n  awardCoins(userId: ID!, amount: Int!): GameProfile!\r\n\r\n  # Polls\r\n  createPoll(input: CreatePollInput!): Poll!\r\n  votePoll(pollId: ID!, optionId: ID!): Poll!\r\n\r\n  # Game profile updates\r\n  grantBadge(userId: ID!, badgeId: ID!): GameProfile!\r\n  setDisplayName(name: String!): GameProfile!\r\n  updateProfile(input: UpdateProfileInput!): GameProfile!\r\n\r\n  # Bestie workflow: background changes / stories / feed\r\n  requestClosetBackgroundChange(input: BgChangeRequestInput!): BgChangeRequestResult!\r\n  createStory(input: CreateStoryInput!): Story!\r\n  publishStory(storyId: ID!): Story!\r\n  addClosetItemToCommunityFeed(itemId: ID!): ClosetItem!\r\n  removeClosetItemFromCommunityFeed(itemId: ID!): ClosetItem!\r\n  shareClosetItemToPinterest(itemId: ID!): ShareResult!\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Basic user / roles\r\n# ─────────────────────────────────────────\r\n\r\ntype Me {\r\n  id: ID!\r\n  email: String!\r\n  role: String!\r\n  tier: String!\r\n}\r\n\r\ntype RoleResult {\r\n  userId: ID!\r\n  role: String!\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Closet core types\r\n# ─────────────────────────────────────────\r\n\r\nenum ClosetVisibility {\r\n  PRIVATE\r\n  BESTIE\r\n  PUBLIC\r\n}\r\n\r\ntype ClosetItem {\r\n  id: ID!\r\n  ownerId: ID\r\n  title: String\r\n  mediaKey: String\r\n  rawMediaKey: String\r\n  category: String\r\n  subcategory: String\r\n  colorTags: [String!]\r\n  season: String\r\n  notes: String\r\n  visibility: ClosetVisibility!\r\n  affiliateUrl: String\r\n  backgroundStatus: String\r\n  createdAt: String\r\n  updatedAt: String\r\n}\r\n\r\ntype ClosetConnection {\r\n  items: [ClosetItem!]!\r\n  nextToken: String\r\n}\r\n\r\ninput CreateClosetItemInput {\r\n  title: String\r\n  mediaKey: String\r\n  rawMediaKey: String\r\n  category: String\r\n  subcategory: String\r\n  colorTags: [String!]\r\n  season: String\r\n  notes: String\r\n  visibility: ClosetVisibility\r\n  affiliateUrl: String\r\n}\r\n\r\n# Inputs used by BestieCloset UI\r\ninput BestieCreateClosetItemInput {\r\n  title: String\r\n  rawMediaKey: String!\r\n  category: String\r\n  subcategory: String\r\n  colorTags: [String!]\r\n  season: String\r\n  notes: String\r\n  visibility: ClosetVisibility\r\n}\r\n\r\ninput BestieUpdateClosetItemInput {\r\n  title: String\r\n  category: String\r\n  subcategory: String\r\n  colorTags: [String!]\r\n  season: String\r\n  notes: String\r\n  visibility: ClosetVisibility\r\n}\r\n\r\ninput AdminCreateClosetItemInput {\r\n  ownerId: ID\r\n  title: String\r\n  mediaKey: String\r\n  rawMediaKey: String\r\n  category: String\r\n  subcategory: String\r\n  colorTags: [String!]\r\n  season: String\r\n  notes: String\r\n  visibility: ClosetVisibility\r\n  affiliateUrl: String\r\n}\r\n\r\ninput AdminUpdateClosetItemInput {\r\n  id: ID!\r\n  title: String\r\n  category: String\r\n  subcategory: String\r\n  colorTags: [String!]\r\n  season: String\r\n  notes: String\r\n  visibility: ClosetVisibility\r\n  affiliateUrl: String\r\n}\r\n\r\ninput UpdateClosetItemStoryInput {\r\n  itemId: ID!\r\n  storyText: String\r\n  stickers: [String!]\r\n  pollId: ID\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Comments & likes\r\n# ─────────────────────────────────────────\r\n\r\ntype Comment {\r\n  id: ID!\r\n  itemId: ID!\r\n  userId: ID!\r\n  text: String!\r\n  createdAt: String!\r\n}\r\n\r\ntype CommentConnection {\r\n  items: [Comment!]!\r\n  nextToken: String\r\n}\r\n\r\ntype Like {\r\n  itemId: ID!\r\n  userId: ID!\r\n  createdAt: String!\r\n}\r\n\r\ntype LikeConnection {\r\n  items: [Like!]!\r\n  nextToken: String\r\n}\r\n\r\ninput CommentOnClosetItemInput {\r\n  itemId: ID!\r\n  text: String!\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Bestie membership\r\n# ─────────────────────────────────────────\r\n\r\ntype BestieStatus {\r\n  isBestie: Boolean!\r\n  tier: String\r\n  since: String\r\n}\r\n\r\ntype BestieCheckoutSession {\r\n  sessionId: ID!\r\n  url: String!\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Background change / stories\r\n# ─────────────────────────────────────────\r\n\r\ninput BgChangeRequestInput {\r\n  itemId: ID!\r\n  requestedBackground: String!\r\n  notes: String\r\n}\r\n\r\ntype BgChangeRequestResult {\r\n  success: Boolean!\r\n  requestId: ID\r\n}\r\n\r\ntype Story {\r\n  id: ID!\r\n  ownerId: ID!\r\n  title: String\r\n  body: String\r\n  coverMediaKey: String\r\n  closetItemIds: [ID!]\r\n  status: String\r\n  createdAt: String\r\n  publishedAt: String\r\n}\r\n\r\ninput CreateStoryInput {\r\n  title: String!\r\n  body: String\r\n  coverMediaKey: String\r\n  closetItemIds: [ID!]\r\n}\r\n\r\ntype ShareResult {\r\n  success: Boolean!\r\n  message: String\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Game / XP / profile\r\n# ─────────────────────────────────────────\r\n\r\ntype GameProfile {\r\n  id: ID!\r\n  displayName: String\r\n  xp: Int!\r\n  coins: Int!\r\n  badges: [Badge!]\r\n  pinnedClosetItems: [ClosetItem!]!\r\n}\r\n\r\ntype Badge {\r\n  id: ID!\r\n  name: String!\r\n  icon: String\r\n}\r\n\r\ninput LogGameEventInput {\r\n  type: String!\r\n  metadata: String\r\n}\r\n\r\ntype GameEventResult {\r\n  success: Boolean!\r\n}\r\n\r\ninput UpdateProfileInput {\r\n  bio: String\r\n  avatarUrl: String\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Polls\r\n# ─────────────────────────────────────────\r\n\r\ntype Poll {\r\n  id: ID!\r\n  question: String!\r\n  options: [PollOption!]!\r\n  totalVotes: Int!\r\n  createdAt: String\r\n}\r\n\r\ntype PollOption {\r\n  id: ID!\r\n  label: String!\r\n  votes: Int!\r\n}\r\n\r\ninput CreatePollInput {\r\n  question: String!\r\n  options: [String!]!\r\n}\r\n\r\n# ─────────────────────────────────────────\r\n# Episodes / early access\r\n# ─────────────────────────────────────────\r\n\r\ntype EpisodeAccess {\r\n  episodeId: ID!\r\n  isEarlyAccess: Boolean!\r\n  canView: Boolean!\r\n}\r\n\r\n"}}},"LogGroup":{"id":"LogGroup","path":"SA-API-dev/StylingApi/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"HelloDs":{"id":"HelloDs","path":"SA-API-dev/StylingApi/HelloDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/HelloDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/HelloDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/HelloDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/HelloDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/HelloDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiHelloDsServiceRoleDefaultPolicy8C35E727","roles":[{"Ref":"StylingApiHelloDsServiceRole44626254"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/HelloDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["HelloFn7942DF23","Arn"]}},"name":"HelloDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiHelloDsServiceRole44626254","Arn"]},"type":"AWS_LAMBDA"}}}}},"Hello":{"id":"Hello","path":"SA-API-dev/StylingApi/Hello","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/Hello/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"HelloDs","fieldName":"hello","kind":"UNIT","requestMappingTemplate":"{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}","responseMappingTemplate":"$util.toJson($ctx.result)","typeName":"Query"}}}}},"NoneDs":{"id":"NoneDs","path":"SA-API-dev/StylingApi/NoneDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.NoneDataSource","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/NoneDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"name":"NoneDs","type":"NONE"}}}}},"QueryMeResolver":{"id":"QueryMeResolver","path":"SA-API-dev/StylingApi/QueryMeResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/QueryMeResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"NoneDs","fieldName":"me","kind":"UNIT","requestMappingTemplate":"\n  {\n    \"version\": \"2017-02-28\",\n    \"payload\": {}\n  }\n  ","responseMappingTemplate":"\n    #set($sub = \"anonymous\")\n    #set($email = \"\")\n\n    #if($ctx.identity && $ctx.identity.sub)\n      #set($sub = $ctx.identity.sub)\n    #end\n\n    #if($ctx.identity && $ctx.identity.claims && $ctx.identity.claims.get(\"email\"))\n      #set($email = $ctx.identity.claims.get(\"email\"))\n    #end\n\n    $util.toJson({\n      \"id\": $sub,\n      \"email\": $email,\n      \"role\": \"FAN\",\n      \"tier\": \"FREE\"\n    })\n  ","typeName":"Query"}}}}},"ClosetDs":{"id":"ClosetDs","path":"SA-API-dev/StylingApi/ClosetDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/ClosetDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/ClosetDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/ClosetDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ClosetResolverFnDB09D91C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ClosetResolverFnDB09D91C","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiClosetDsServiceRoleDefaultPolicyE595E568","roles":[{"Ref":"StylingApiClosetDsServiceRole61F98ADC"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["ClosetResolverFnDB09D91C","Arn"]}},"name":"ClosetDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiClosetDsServiceRole61F98ADC","Arn"]},"type":"AWS_LAMBDA"}}}}},"MyCloset":{"id":"MyCloset","path":"SA-API-dev/StylingApi/MyCloset","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/MyCloset/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"myCloset","kind":"UNIT","typeName":"Query"}}}}},"MyWishlistResolver":{"id":"MyWishlistResolver","path":"SA-API-dev/StylingApi/MyWishlistResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/MyWishlistResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"myWishlist","kind":"UNIT","typeName":"Query"}}}}},"QueryBestieClosetItemsResolver":{"id":"QueryBestieClosetItemsResolver","path":"SA-API-dev/StylingApi/QueryBestieClosetItemsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/QueryBestieClosetItemsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"bestieClosetItems","kind":"UNIT","typeName":"Query"}}}}},"CreateClosetItem":{"id":"CreateClosetItem","path":"SA-API-dev/StylingApi/CreateClosetItem","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/CreateClosetItem/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"createClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"RequestClosetApproval":{"id":"RequestClosetApproval","path":"SA-API-dev/StylingApi/RequestClosetApproval","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/RequestClosetApproval/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"requestClosetApproval","kind":"UNIT","typeName":"Mutation"}}}}},"UpdateClosetMediaKey":{"id":"UpdateClosetMediaKey","path":"SA-API-dev/StylingApi/UpdateClosetMediaKey","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/UpdateClosetMediaKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"updateClosetMediaKey","kind":"UNIT","typeName":"Mutation"}}}}},"UpdateClosetItemStory":{"id":"UpdateClosetItemStory","path":"SA-API-dev/StylingApi/UpdateClosetItemStory","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/UpdateClosetItemStory/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"updateClosetItemStory","kind":"UNIT","typeName":"Mutation"}}}}},"LikeClosetItemResolver":{"id":"LikeClosetItemResolver","path":"SA-API-dev/StylingApi/LikeClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/LikeClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"likeClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"CommentOnClosetItemResolver":{"id":"CommentOnClosetItemResolver","path":"SA-API-dev/StylingApi/CommentOnClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/CommentOnClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"commentOnClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"PinHighlightResolver":{"id":"PinHighlightResolver","path":"SA-API-dev/StylingApi/PinHighlightResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/PinHighlightResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"pinHighlight","kind":"UNIT","typeName":"Mutation"}}}}},"ToggleWishlistItemResolver":{"id":"ToggleWishlistItemResolver","path":"SA-API-dev/StylingApi/ToggleWishlistItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ToggleWishlistItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"toggleWishlistItem","kind":"UNIT","typeName":"Mutation"}}}}},"ClosetItemCommentsResolver":{"id":"ClosetItemCommentsResolver","path":"SA-API-dev/StylingApi/ClosetItemCommentsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetItemCommentsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"closetItemComments","kind":"UNIT","typeName":"Query"}}}}},"AdminClosetItemLikesResolver":{"id":"AdminClosetItemLikesResolver","path":"SA-API-dev/StylingApi/AdminClosetItemLikesResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminClosetItemLikesResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"adminClosetItemLikes","kind":"UNIT","typeName":"Query"}}}}},"AdminClosetItemCommentsResolver":{"id":"AdminClosetItemCommentsResolver","path":"SA-API-dev/StylingApi/AdminClosetItemCommentsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminClosetItemCommentsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"adminClosetItemComments","kind":"UNIT","typeName":"Query"}}}}},"PinnedClosetItemsResolver":{"id":"PinnedClosetItemsResolver","path":"SA-API-dev/StylingApi/PinnedClosetItemsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/PinnedClosetItemsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"pinnedClosetItems","kind":"UNIT","typeName":"GameProfile"}}}}},"RequestBgChangeResolver":{"id":"RequestBgChangeResolver","path":"SA-API-dev/StylingApi/RequestBgChangeResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/RequestBgChangeResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"requestClosetBackgroundChange","kind":"UNIT","typeName":"Mutation"}}}}},"CreateStoryResolver":{"id":"CreateStoryResolver","path":"SA-API-dev/StylingApi/CreateStoryResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/CreateStoryResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"createStory","kind":"UNIT","typeName":"Mutation"}}}}},"PublishStoryResolver":{"id":"PublishStoryResolver","path":"SA-API-dev/StylingApi/PublishStoryResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/PublishStoryResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"publishStory","kind":"UNIT","typeName":"Mutation"}}}}},"AddClosetItemToFeedResolver":{"id":"AddClosetItemToFeedResolver","path":"SA-API-dev/StylingApi/AddClosetItemToFeedResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AddClosetItemToFeedResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"addClosetItemToCommunityFeed","kind":"UNIT","typeName":"Mutation"}}}}},"RemoveClosetItemFromFeedResolver":{"id":"RemoveClosetItemFromFeedResolver","path":"SA-API-dev/StylingApi/RemoveClosetItemFromFeedResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/RemoveClosetItemFromFeedResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"removeClosetItemFromCommunityFeed","kind":"UNIT","typeName":"Mutation"}}}}},"ShareClosetItemToPinterestResolver":{"id":"ShareClosetItemToPinterestResolver","path":"SA-API-dev/StylingApi/ShareClosetItemToPinterestResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ShareClosetItemToPinterestResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetDs","fieldName":"shareClosetItemToPinterest","kind":"UNIT","typeName":"Mutation"}}}}},"ClosetAdminSource":{"id":"ClosetAdminSource","path":"SA-API-dev/StylingApi/ClosetAdminSource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/ClosetAdminSource/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/ClosetAdminSource/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetAdminSource/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/ClosetAdminSource/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetAdminSource/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ClosetAdminFnB4D542CC","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ClosetAdminFnB4D542CC","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiClosetAdminSourceServiceRoleDefaultPolicyDFCEEFAE","roles":[{"Ref":"StylingApiClosetAdminSourceServiceRole9EF81003"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetAdminSource/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["ClosetAdminFnB4D542CC","Arn"]}},"name":"ClosetAdminSource","serviceRoleArn":{"Fn::GetAtt":["StylingApiClosetAdminSourceServiceRole9EF81003","Arn"]},"type":"AWS_LAMBDA"}}}}},"AdminListPendingResolver":{"id":"AdminListPendingResolver","path":"SA-API-dev/StylingApi/AdminListPendingResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminListPendingResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminListPending","kind":"UNIT","typeName":"Query"}}}}},"AdminListClosetItemsResolver":{"id":"AdminListClosetItemsResolver","path":"SA-API-dev/StylingApi/AdminListClosetItemsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminListClosetItemsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminListClosetItems","kind":"UNIT","typeName":"Query"}}}}},"ClosetFeedResolver":{"id":"ClosetFeedResolver","path":"SA-API-dev/StylingApi/ClosetFeedResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClosetFeedResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"closetFeed","kind":"UNIT","typeName":"Query"}}}}},"AdminCreateClosetItemResolver":{"id":"AdminCreateClosetItemResolver","path":"SA-API-dev/StylingApi/AdminCreateClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminCreateClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminCreateClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"AdminApproveItem":{"id":"AdminApproveItem","path":"SA-API-dev/StylingApi/AdminApproveItem","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminApproveItem/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminApproveItem","kind":"UNIT","typeName":"Mutation"}}}}},"AdminRejectItem":{"id":"AdminRejectItem","path":"SA-API-dev/StylingApi/AdminRejectItem","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminRejectItem/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminRejectItem","kind":"UNIT","typeName":"Mutation"}}}}},"AdminSetClosetAudience":{"id":"AdminSetClosetAudience","path":"SA-API-dev/StylingApi/AdminSetClosetAudience","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminSetClosetAudience/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminSetClosetAudience","kind":"UNIT","typeName":"Mutation"}}}}},"AdminUpdateClosetItemResolver":{"id":"AdminUpdateClosetItemResolver","path":"SA-API-dev/StylingApi/AdminUpdateClosetItemResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminUpdateClosetItemResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ClosetAdminSource","fieldName":"adminUpdateClosetItem","kind":"UNIT","typeName":"Mutation"}}}}},"BestieDs":{"id":"BestieDs","path":"SA-API-dev/StylingApi/BestieDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/BestieDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/BestieDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/BestieDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/BestieDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/BestieDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["BestieFn57102072","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["BestieFn57102072","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiBestieDsServiceRoleDefaultPolicy459937D7","roles":[{"Ref":"StylingApiBestieDsServiceRole134EBB9C"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/BestieDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["BestieFn57102072","Arn"]}},"name":"BestieDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiBestieDsServiceRole134EBB9C","Arn"]},"type":"AWS_LAMBDA"}}}}},"MeBestieStatusResolver":{"id":"MeBestieStatusResolver","path":"SA-API-dev/StylingApi/MeBestieStatusResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/MeBestieStatusResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"meBestieStatus","kind":"UNIT","typeName":"Query"}}}}},"StartBestieCheckoutResolver":{"id":"StartBestieCheckoutResolver","path":"SA-API-dev/StylingApi/StartBestieCheckoutResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/StartBestieCheckoutResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"startBestieCheckout","kind":"UNIT","typeName":"Mutation"}}}}},"ClaimBestieTrialResolver":{"id":"ClaimBestieTrialResolver","path":"SA-API-dev/StylingApi/ClaimBestieTrialResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ClaimBestieTrialResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"claimBestieTrial","kind":"UNIT","typeName":"Mutation"}}}}},"AdminSetBestieResolver":{"id":"AdminSetBestieResolver","path":"SA-API-dev/StylingApi/AdminSetBestieResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminSetBestieResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminSetBestie","kind":"UNIT","typeName":"Mutation"}}}}},"AdminRevokeBestieResolver":{"id":"AdminRevokeBestieResolver","path":"SA-API-dev/StylingApi/AdminRevokeBestieResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminRevokeBestieResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminRevokeBestie","kind":"UNIT","typeName":"Mutation"}}}}},"AdminSetBestieByEmailResolver":{"id":"AdminSetBestieByEmailResolver","path":"SA-API-dev/StylingApi/AdminSetBestieByEmailResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminSetBestieByEmailResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminSetBestieByEmail","kind":"UNIT","typeName":"Mutation"}}}}},"AdminRevokeBestieByEmailResolver":{"id":"AdminRevokeBestieByEmailResolver","path":"SA-API-dev/StylingApi/AdminRevokeBestieByEmailResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AdminRevokeBestieByEmailResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"BestieDs","fieldName":"adminRevokeBestieByEmail","kind":"UNIT","typeName":"Mutation"}}}}},"EpisodesGateDs":{"id":"EpisodesGateDs","path":"SA-API-dev/StylingApi/EpisodesGateDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/EpisodesGateDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/EpisodesGateDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/EpisodesGateDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/EpisodesGateDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/EpisodesGateDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["EpisodesGateFn123EBDAC","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["EpisodesGateFn123EBDAC","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiEpisodesGateDsServiceRoleDefaultPolicyBE9E9754","roles":[{"Ref":"StylingApiEpisodesGateDsServiceRoleAAD7DDD3"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/EpisodesGateDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["EpisodesGateFn123EBDAC","Arn"]}},"name":"EpisodesGateDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiEpisodesGateDsServiceRoleAAD7DDD3","Arn"]},"type":"AWS_LAMBDA"}}}}},"IsEpisodeEarlyAccessResolver":{"id":"IsEpisodeEarlyAccessResolver","path":"SA-API-dev/StylingApi/IsEpisodeEarlyAccessResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/IsEpisodeEarlyAccessResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"EpisodesGateDs","fieldName":"isEpisodeEarlyAccess","kind":"UNIT","requestMappingTemplate":"{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}","responseMappingTemplate":"$util.toJson($ctx.result)","typeName":"Query"}}}}},"GameplayDs":{"id":"GameplayDs","path":"SA-API-dev/StylingApi/GameplayDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/GameplayDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/GameplayDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/GameplayDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/GameplayDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/GameplayDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["GameplayFnCD9DA738","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GameplayFnCD9DA738","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiGameplayDsServiceRoleDefaultPolicy7A4AC6CB","roles":[{"Ref":"StylingApiGameplayDsServiceRoleA193493E"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/GameplayDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["GameplayFnCD9DA738","Arn"]}},"name":"GameplayDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiGameplayDsServiceRoleA193493E","Arn"]},"type":"AWS_LAMBDA"}}}}},"LeaderboardDs":{"id":"LeaderboardDs","path":"SA-API-dev/StylingApi/LeaderboardDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/LeaderboardDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/LeaderboardDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/LeaderboardDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/LeaderboardDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/LeaderboardDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["LeaderboardFnF2B1AEC2","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["LeaderboardFnF2B1AEC2","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiLeaderboardDsServiceRoleDefaultPolicyD7DA49C2","roles":[{"Ref":"StylingApiLeaderboardDsServiceRole00D64A33"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/LeaderboardDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["LeaderboardFnF2B1AEC2","Arn"]}},"name":"LeaderboardDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiLeaderboardDsServiceRole00D64A33","Arn"]},"type":"AWS_LAMBDA"}}}}},"PollsDs":{"id":"PollsDs","path":"SA-API-dev/StylingApi/PollsDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/PollsDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/PollsDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/PollsDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/PollsDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/PollsDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["PollsFn65E6C73F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["PollsFn65E6C73F","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiPollsDsServiceRoleDefaultPolicyD1CDD935","roles":[{"Ref":"StylingApiPollsDsServiceRoleFE523342"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/PollsDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["PollsFn65E6C73F","Arn"]}},"name":"PollsDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiPollsDsServiceRoleFE523342","Arn"]},"type":"AWS_LAMBDA"}}}}},"ProfileDs":{"id":"ProfileDs","path":"SA-API-dev/StylingApi/ProfileDs","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.LambdaDataSource","version":"2.223.0"},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/StylingApi/ProfileDs/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/StylingApi/ProfileDs/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ProfileDs/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"appsync.amazonaws.com"}}],"Version":"2012-10-17"},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/StylingApi/ProfileDs/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ProfileDs/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["ProfileFn28F379CF","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ProfileFn28F379CF","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"StylingApiProfileDsServiceRoleDefaultPolicyD64DFCD4","roles":[{"Ref":"StylingApiProfileDsServiceRole6F0CE2C7"}]}}}}}}},"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/ProfileDs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnDataSource","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::DataSource","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"lambdaConfig":{"lambdaFunctionArn":{"Fn::GetAtt":["ProfileFn28F379CF","Arn"]}},"name":"ProfileDs","serviceRoleArn":{"Fn::GetAtt":["StylingApiProfileDsServiceRole6F0CE2C7","Arn"]},"type":"AWS_LAMBDA"}}}}},"LogGameEventResolver":{"id":"LogGameEventResolver","path":"SA-API-dev/StylingApi/LogGameEventResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/LogGameEventResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"GameplayDs","fieldName":"logGameEvent","kind":"UNIT","typeName":"Mutation"}}}}},"AwardCoinsResolver":{"id":"AwardCoinsResolver","path":"SA-API-dev/StylingApi/AwardCoinsResolver","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/AwardCoinsResolver/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"GameplayDs","fieldName":"awardCoins","kind":"UNIT","typeName":"Mutation"}}}}},"CreatePoll":{"id":"CreatePoll","path":"SA-API-dev/StylingApi/CreatePoll","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/CreatePoll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"PollsDs","fieldName":"createPoll","kind":"UNIT","typeName":"Mutation"}}}}},"VotePoll":{"id":"VotePoll","path":"SA-API-dev/StylingApi/VotePoll","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/VotePoll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"PollsDs","fieldName":"votePoll","kind":"UNIT","typeName":"Mutation"}}}}},"GrantBadge":{"id":"GrantBadge","path":"SA-API-dev/StylingApi/GrantBadge","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/GrantBadge/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"grantBadge","kind":"UNIT","typeName":"Mutation"}}}}},"SetDisplayName":{"id":"SetDisplayName","path":"SA-API-dev/StylingApi/SetDisplayName","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/SetDisplayName/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"setDisplayName","kind":"UNIT","typeName":"Mutation"}}}}},"UpdateProfile":{"id":"UpdateProfile","path":"SA-API-dev/StylingApi/UpdateProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/UpdateProfile/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"updateProfile","kind":"UNIT","typeName":"Mutation"}}}}},"TopXP":{"id":"TopXP","path":"SA-API-dev/StylingApi/TopXP","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/TopXP/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"LeaderboardDs","fieldName":"topXP","kind":"UNIT","typeName":"Query"}}}}},"TopCoins":{"id":"TopCoins","path":"SA-API-dev/StylingApi/TopCoins","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/TopCoins/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"LeaderboardDs","fieldName":"topCoins","kind":"UNIT","typeName":"Query"}}}}},"GetPoll":{"id":"GetPoll","path":"SA-API-dev/StylingApi/GetPoll","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/GetPoll/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"PollsDs","fieldName":"getPoll","kind":"UNIT","typeName":"Query"}}}}},"GetMyProfile":{"id":"GetMyProfile","path":"SA-API-dev/StylingApi/GetMyProfile","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.Resolver","version":"2.223.0"},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/StylingApi/GetMyProfile/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_appsync.CfnResolver","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AppSync::Resolver","aws:cdk:cloudformation:props":{"apiId":{"Fn::GetAtt":["StylingApiC401F041","ApiId"]},"dataSourceName":"ProfileDs","fieldName":"getMyProfile","kind":"UNIT","typeName":"Query"}}}}}}},"HelloFn":{"id":"HelloFn","path":"SA-API-dev/HelloFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/HelloFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/HelloFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/HelloFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"Code":{"id":"Code","path":"SA-API-dev/HelloFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/HelloFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/HelloFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/HelloFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"dba505f53767a9e6657cdeba0a1fe85822984a28978face5a785b36aa3fb4af7.zip"},"environment":{"variables":{"NODE_OPTIONS":"--enable-source-maps"}},"handler":"index.handler","role":{"Fn::GetAtt":["HelloFnServiceRoleDA97FE56","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"ClosetResolverFn":{"id":"ClosetResolverFn","path":"SA-API-dev/ClosetResolverFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/ClosetResolverFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/ClosetResolverFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/ClosetResolverFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/ClosetResolverFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/ClosetResolverFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Fn::ImportValue":"SA-Workflows-dev:ExportsOutputRefApprovalStateMachine767589AACD522D74"}},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Fn::ImportValue":"SA-Workflows-dev:ExportsOutputRefBackgroundChangeStateMachine2ACB402343526F52"}},{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Fn::ImportValue":"SA-Workflows-dev:ExportsOutputRefStoryPublishStateMachine3539E2DC8144BBA8"}},{"Action":"events:PutEvents","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ClosetResolverFnServiceRoleDefaultPolicy2117A20A","roles":[{"Ref":"ClosetResolverFnServiceRole21435BA2"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/ClosetResolverFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/ClosetResolverFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/ClosetResolverFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/ClosetResolverFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"df2576af402427a2be99a53797145e2c686a8a646d66a4cb748efe013cbb83b9.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1","APPROVAL_SM_ARN":{"Fn::ImportValue":"SA-Workflows-dev:ExportsOutputRefApprovalStateMachine767589AACD522D74"},"BG_CHANGE_SM_ARN":{"Fn::ImportValue":"SA-Workflows-dev:ExportsOutputRefBackgroundChangeStateMachine2ACB402343526F52"},"STORY_PUBLISH_SM_ARN":{"Fn::ImportValue":"SA-Workflows-dev:ExportsOutputRefStoryPublishStateMachine3539E2DC8144BBA8"}}},"handler":"index.handler","role":{"Fn::GetAtt":["ClosetResolverFnServiceRole21435BA2","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"ClosetAdminFn":{"id":"ClosetAdminFn","path":"SA-API-dev/ClosetAdminFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/ClosetAdminFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/ClosetAdminFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/ClosetAdminFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/ClosetAdminFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/ClosetAdminFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]},{"Action":["dynamodb:Query","dynamodb:Scan","dynamodb:GetItem","dynamodb:UpdateItem","dynamodb:PutItem","dynamodb:DeleteItem"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]},{"Action":["states:SendTaskSuccess","states:SendTaskFailure"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"ClosetAdminFnServiceRoleDefaultPolicy08DF50EF","roles":[{"Ref":"ClosetAdminFnServiceRole87F02459"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/ClosetAdminFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/ClosetAdminFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/ClosetAdminFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/ClosetAdminFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"a5add3c5a6cbfa5246bd51fe6f2d5cc3e1cb73c4767a284ed50c8e56eee61cf7.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1","APPROVAL_SM_ARN":{"Fn::ImportValue":"SA-Workflows-dev:ExportsOutputRefApprovalStateMachine767589AACD522D74"}}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["ClosetAdminFnServiceRole87F02459","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}],"timeout":10}}}}},"BestieFn":{"id":"BestieFn","path":"SA-API-dev/BestieFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/BestieFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/BestieFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/BestieFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/BestieFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/BestieFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]},{"Action":"cognito-idp:ListUsers","Effect":"Allow","Resource":{"Fn::ImportValue":"SA-Identity-dev:ExportsOutputFnGetAttUserPool6BA7E5F2Arn686ACC00"}}],"Version":"2012-10-17"},"policyName":"BestieFnServiceRoleDefaultPolicy85C0CE1B","roles":[{"Ref":"BestieFnServiceRoleF23C6CA8"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/BestieFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/BestieFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/BestieFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/BestieFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"9942b27de6f166c31d3447fa7dc0d54398e33599317fad9a1af05eb55be61588.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1","USER_POOL_ID":{"Fn::ImportValue":"SA-Identity-dev:ExportsOutputRefUserPool6BA7E5F296FD7236"},"STRIPE_SECRET_KEY":"","STRIPE_PRICE_ID":"","BASE_SUCCESS_URL":"http://localhost:5173"}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["BestieFnServiceRoleF23C6CA8","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}],"timeout":30}}}}},"EpisodesGateFn":{"id":"EpisodesGateFn","path":"SA-API-dev/EpisodesGateFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/EpisodesGateFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/EpisodesGateFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/EpisodesGateFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/EpisodesGateFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/EpisodesGateFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"EpisodesGateFnServiceRoleDefaultPolicy19662CB1","roles":[{"Ref":"EpisodesGateFnServiceRoleB3AD1C04"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/EpisodesGateFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/EpisodesGateFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/EpisodesGateFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/EpisodesGateFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"6c8ec9b3d79cc9d1bc3530b1fa03464e95e0ce02d7bcdbe4370fa7359391d238.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["EpisodesGateFnServiceRoleB3AD1C04","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"GameplayFn":{"id":"GameplayFn","path":"SA-API-dev/GameplayFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/GameplayFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/GameplayFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/GameplayFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/GameplayFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/GameplayFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GameplayFnServiceRoleDefaultPolicy448D7565","roles":[{"Ref":"GameplayFnServiceRole9C9BF690"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/GameplayFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/GameplayFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/GameplayFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/GameplayFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"c2e5dc177c824dd062c80479be3d2d271a9ba3047c94efd2115e93fce04ae4d2.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["GameplayFnServiceRole9C9BF690","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"LeaderboardFn":{"id":"LeaderboardFn","path":"SA-API-dev/LeaderboardFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/LeaderboardFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/LeaderboardFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/LeaderboardFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/LeaderboardFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/LeaderboardFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"LeaderboardFnServiceRoleDefaultPolicyA2682BE0","roles":[{"Ref":"LeaderboardFnServiceRoleB1EE89C6"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/LeaderboardFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/LeaderboardFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/LeaderboardFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/LeaderboardFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"2df93e7d7043a07576b3f17833792d1fdc7d9c0dca2e3e3753b947de315ab317.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["LeaderboardFnServiceRoleB1EE89C6","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"PollsFn":{"id":"PollsFn","path":"SA-API-dev/PollsFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/PollsFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/PollsFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/PollsFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/PollsFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/PollsFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"PollsFnServiceRoleDefaultPolicyA9884FB0","roles":[{"Ref":"PollsFnServiceRole872F6029"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/PollsFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/PollsFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/PollsFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/PollsFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"f9307ce88d1f8124bc247c5aba260f8519af294bde8a83406d549d7a1ef30efe.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["PollsFnServiceRole872F6029","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"ProfileFn":{"id":"ProfileFn","path":"SA-API-dev/ProfileFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.223.0","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"SA-API-dev/ProfileFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.223.0","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"SA-API-dev/ProfileFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.223.0","metadata":[]}},"Resource":{"id":"Resource","path":"SA-API-dev/ProfileFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"SA-API-dev/ProfileFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-API-dev/ProfileFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},{"Fn::Join":["",[{"Fn::ImportValue":"SA-Database-dev:ExportsOutputFnGetAttClosetTableCB17EED6ArnF6FB3107"},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ProfileFnServiceRoleDefaultPolicy3F833555","roles":[{"Ref":"ProfileFnServiceRole4C7CA582"}]}}}}}}},"Code":{"id":"Code","path":"SA-API-dev/ProfileFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.223.0"},"children":{"Stage":{"id":"Stage","path":"SA-API-dev/ProfileFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.223.0"}},"AssetBucket":{"id":"AssetBucket","path":"SA-API-dev/ProfileFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.223.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"SA-API-dev/ProfileFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-637423256673-us-east-1","s3Key":"83099c82471ac0bffef1e499aac46af1ef8ed7840c7c1f1d37db3c67c9af972a.zip"},"environment":{"variables":{"TABLE_NAME":{"Fn::ImportValue":"SA-Database-dev:ExportsOutputRefClosetTableCB17EED668D72B6A"},"PK_NAME":"pk","SK_NAME":"sk","STATUS_GSI":"gsi1"}},"handler":"index.handler","role":{"Fn::GetAtt":["ProfileFnServiceRole4C7CA582","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"api"}]}}}}},"GraphQlApiUrl":{"id":"GraphQlApiUrl","path":"SA-API-dev/GraphQlApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"GraphQlApiId":{"id":"GraphQlApiId","path":"SA-API-dev/GraphQlApiId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SA-API-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"SA-API-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SA-API-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SA-API-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"SA-Web-dev":{"id":"SA-Web-dev","path":"SA-Web-dev","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.223.0"},"children":{"WebBucket":{"id":"WebBucket","path":"SA-Web-dev/WebBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Web-dev/WebBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"stylingadventures-web-dev-637423256673","publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"web"}]}}},"Policy":{"id":"Policy","path":"SA-Web-dev/WebBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Web-dev/WebBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WebBucket12880F5B"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["WebDistributionOrigin1S3Origin242B188A","S3CanonicalUserId"]}},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WebBucket12880F5B","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"WebDistribution":{"id":"WebDistribution","path":"SA-Web-dev/WebDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.223.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"SA-Web-dev/WebDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"S3Origin":{"id":"S3Origin","path":"SA-Web-dev/WebDistribution/Origin1/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.223.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"SA-Web-dev/WebDistribution/Origin1/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for SAWebdevWebDistributionOrigin18E073A3D"}}}}}}}},"Resource":{"id":"Resource","path":"SA-Web-dev/WebDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.223.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WebBucket12880F5B","RegionalDomainName"]},"id":"SAWebdevWebDistributionOrigin18E073A3D","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"WebDistributionOrigin1S3Origin242B188A"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"SAWebdevWebDistributionOrigin18E073A3D","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true},"tags":[{"key":"environment","value":"dev"},{"key":"project","value":"stylingadventures"},{"key":"stack","value":"web"}]}}}}},"WebBucketName":{"id":"WebBucketName","path":"SA-Web-dev/WebBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CloudFrontDistributionId":{"id":"CloudFrontDistributionId","path":"SA-Web-dev/CloudFrontDistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CloudFrontDomainName":{"id":"CloudFrontDomainName","path":"SA-Web-dev/CloudFrontDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.223.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"SA-Web-dev/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"SA-Web-dev/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.223.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"SA-Web-dev/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.223.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"SA-Web-dev/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.223.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}