{
 "Resources": {
  "StylingApiC401F041": {
   "Type": "AWS::AppSync::GraphQLApi",
   "Properties": {
    "AdditionalAuthenticationProviders": [
     {
      "AuthenticationType": "AWS_IAM"
     }
    ],
    "AuthenticationType": "AMAZON_COGNITO_USER_POOLS",
    "Name": "stylingadventures-api",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ],
    "UserPoolConfig": {
     "AwsRegion": "us-east-1",
     "DefaultAction": "ALLOW",
     "UserPoolId": {
      "Fn::ImportValue": "IdentityV2Stack:ExportsOutputRefUserPool6BA7E5F296FD7236"
     }
    },
    "XrayEnabled": true
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/Resource"
   }
  },
  "StylingApiSchemaD8A6FBCC": {
   "Type": "AWS::AppSync::GraphQLSchema",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "Definition": "schema {\n  query: Query\n  mutation: Mutation\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Admin Settings Types\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype AdminSettings {\n  animationsEnabled: Boolean!\n  autoBadgeGrant: Boolean!\n  badgeRules: [BadgeRule!]!\n  soundsEnabled: Boolean!\n}\n\ntype AffiliateClickResult {\n  ok: Boolean!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Shopping / Affiliate types\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype AffiliateLink {\n  affiliateLinkId: ID!\n  commissionRate: Float\n  retailerName: String!\n  url: String!\n}\n\ntype BadgeRule {\n  id: ID!\n  label: String!\n  trigger: String!\n}\n\ntype BestieCheckoutSession {\n  checkoutUrl: String!\n}\n\ntype BestieStatus {\n  isBestie: Boolean!\n  renewsAt: AWSDateTime\n  tier: String\n  trialActive: Boolean\n  trialEndsAt: AWSDateTime\n  userId: ID!\n}\n\ntype BestieStory {\n  body: String\n  closetItemIds: [ID!]\n  createdAt: AWSDateTime!\n  episodeId: ID\n  id: ID!\n  mediaKeys: [String!]\n  status: BestieStoryStatus!\n  title: String!\n  updatedAt: AWSDateTime\n}\n\ntype BestieStoryConnection {\n  items: [BestieStory!]!\n  nextToken: String\n}\n\ntype BgChangeRequestResult {\n  ok: Boolean!\n  requestId: ID\n}\n\ntype ClosetConnection {\n  items: [ClosetItem!]!\n  nextToken: String\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Closet core types\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype ClosetItem {\n  affiliateUrl: String\n  audience: ClosetAudience\n  backgroundStatus: String\n  category: String\n  coinValue: Int\n  colorTags: [String!]\n  createdAt: AWSDateTime\n  episodeIds: [ID!]\n  favoriteCount: Int\n  id: ID!\n  mediaKey: String\n  notes: String\n  ownerId: ID\n  ownerSub: ID\n  pinned: Boolean\n  rawMediaKey: String\n  scheduledAt: AWSDateTime\n  season: String\n  status: ClosetStatus!\n  subcategory: String\n  title: String\n  updatedAt: AWSDateTime\n  vibes: String\n  visibility: ClosetVisibility!\n}\n\ntype Comment {\n  createdAt: AWSDateTime!\n  id: ID!\n  itemId: ID!\n  text: String!\n  userId: ID!\n}\n\ntype CommentConnection {\n  items: [Comment!]!\n  nextToken: String\n}\n\n#  ---------- Director Suite: Emotion preview ----------\ntype ContentMix {\n  authority: Int!\n  conversion: Int!\n  nurture: Int!\n  personality: Int!\n}\n\ntype CreatorAiSuggestionResult {\n  suggestions: [String!]!\n}\n\ntype CreatorAsset {\n  cabinetId: ID!\n  category: CreatorCabinetCategory\n  contentType: String\n  createdAt: AWSDateTime!\n  folderId: ID\n  id: ID!\n  kind: CreatorAssetKind!\n  moderatedAt: AWSDateTime\n  moderatedBy: String\n  #  default ACTIVE\n  moderationReason: String\n  #  NEW moderation/admin fields:\n  moderationStatus: CreatorAssetModerationStatus!\n  notes: String\n  ownerSub: ID!\n  s3Key: String!\n  #  If this asset was imported from a Bestie closet item\n  sourceClosetItemId: ID\n  tags: [String!]\n  title: String\n  updatedAt: AWSDateTime!\n}\n\ntype CreatorAssetConnection {\n  items: [CreatorAsset!]!\n  nextToken: String\n}\n\ntype CreatorCabinet {\n  assetCount: Int!\n  createdAt: AWSDateTime!\n  defaultCategory: CreatorCabinetCategory\n  description: String\n  id: ID!\n  name: String!\n  ownerSub: ID!\n  tags: [String!]\n  updatedAt: AWSDateTime!\n}\n\ntype CreatorContentIdea {\n  hook: String\n  id: ID!\n  outline: [String!]\n  recommendedLengthSec: Int\n  recommendedPlatform: String\n  title: String!\n}\n\ntype CreatorContentMix {\n  authority: Int\n  conversion: Int\n  nurture: Int\n  personality: Int\n}\n\ntype CreatorEmotionPreview {\n  actual: ContentMix!\n  lastWeeklyCheckAt: AWSDateTime\n  target: ContentMix!\n  weeklyPathStatus: WeeklyPathStatus!\n}\n\ntype CreatorFolder {\n  cabinetId: ID!\n  createdAt: AWSDateTime!\n  id: ID!\n  name: String!\n  specialKind: String\n  updatedAt: AWSDateTime!\n}\n\ntype CreatorGoalCompass {\n  contentMixActual: CreatorContentMix\n  contentMixTarget: CreatorContentMix\n  focusAreas: [String!]!\n  lastWeeklyCheckAt: AWSDateTime\n  notes: String\n  primaryGoal: String!\n  riskTolerance: String!\n  timeHorizon: String!\n  updatedAt: AWSDateTime\n  weeklyCapacity: Int!\n  weeklyPathStatus: String\n}\n\ntype CreatorGoalCompassSnapshot {\n  contentMixTarget: CreatorContentMix\n  focusAreas: [String!]\n  primaryGoal: String\n  riskTolerance: String\n  timeHorizon: String\n  weeklyCapacity: Int\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Creator / Livestream / Commerce / AI + Cabinets\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype CreatorLivestreamInfo {\n  channelArn: String\n  isLive: Boolean!\n  playbackUrl: String\n}\n\ntype CreatorPlatformRevenue {\n  amount: Float!\n  currency: String!\n  label: String\n  lastPayoutAt: AWSDateTime\n  platform: String!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Creator PR & Content Studio (Planner board) + Social Pulse\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype CreatorPrBoard {\n  createdAt: AWSDateTime!\n  creatorId: ID!\n  description: String\n  goalCompassSnapshot: CreatorGoalCompassSnapshot\n  id: ID!\n  timeHorizonFrom: AWSDateTime\n  timeHorizonTo: AWSDateTime\n  #  Cognito sub (ownerSub)\n  title: String!\n  updatedAt: AWSDateTime!\n}\n\ntype CreatorPrItem {\n  audienceResponseLabel: String\n  boardId: ID!\n  brandAlignmentScore: Int\n  contentIdeaId: ID\n  createdAt: AWSDateTime!\n  creatorId: ID!\n  directorAssetIds: [ID!]\n  #  Linking out\n  directorShootPlanId: ID\n  #  Emotional PR Engine fields (V1-friendly)\n  emotionalToneLabels: [String!]\n  id: ID!\n  lastEmotionalReviewAt: AWSDateTime\n  notes: String\n  platform: String!\n  prRiskLevel: String\n  #  Where this idea came from\n  pulseId: ID\n  scheduleSlotId: ID\n  status: CreatorPrItemStatus!\n  title: String!\n  updatedAt: AWSDateTime!\n}\n\ntype CreatorRevenueByPlatform {\n  currency: String!\n  platforms: [CreatorPlatformRevenue!]!\n  timeseries: [CreatorRevenueTimeseriesPoint!]!\n  totalRevenue: Float!\n}\n\ntype CreatorRevenueByPlatformResult {\n  currency: String!\n  platforms: [CreatorRevenuePlatformBucket!]!\n  timeseries: [CreatorRevenueTimeseriesPoint!]!\n  totalRevenue: Float!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Monetization HQ v2 + Director Suite (additive)\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype CreatorRevenuePlatformBucket {\n  amount: Float!\n  currency: String!\n  label: String!\n  lastPayoutAt: AWSDateTime\n  platform: String!\n}\n\ntype CreatorRevenueSummary {\n  currency: String!\n  periodEnd: AWSDateTime\n  periodStart: AWSDateTime\n  totalOrders: Int!\n  totalRevenue: Float!\n}\n\ntype CreatorRevenueTimeseriesPoint {\n  date: AWSDate!\n  totalRevenue: Float!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Creator Social OS â€“ weekly schedule\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype CreatorScheduleSlot {\n  createdAt: AWSDateTime!\n  creatorSub: ID!\n  #  Monday of the week\n  day: String!\n  directorShootId: ID\n  focusHint: String\n  id: ID!\n  #  PLANNED, FILMED, POSTED, SKIPPED\n  notes: String\n  #  \"AM\" | \"PM\" | \"EVENING\" (UI free-form)\n  platformHint: String\n  status: String!\n  #  \"Mon\"...\"Sun\"\n  timeOfDay: String!\n  updatedAt: AWSDateTime!\n  weekOf: AWSDate!\n}\n\ntype CreatorScheduleWeek {\n  slots: [CreatorScheduleSlot!]!\n  weekOf: AWSDate!\n}\n\ntype CreatorSocialPulse {\n  contentIdeas: [CreatorContentIdea!]!\n  createdAt: AWSDateTime!\n  creatorId: ID!\n  id: ID!\n  niche: String\n  platforms: [String!]!\n  trendBriefs: [CreatorTrendBrief!]!\n}\n\ntype CreatorTrendBrief {\n  description: String!\n  exampleHashtags: [String!]\n  label: String!\n  riskLevel: String\n}\n\ntype CreatorUploadUrl {\n  asset: CreatorAsset!\n  uploadUrl: String!\n}\n\ntype DailyLoginResult {\n  awardedCoins: Int!\n  message: String\n  newBalance: Int\n  streak: Int!\n  success: Boolean!\n}\n\ntype DirectorShootPlan {\n  id: ID!\n  objective: String\n  primaryPlatform: String\n  scenes: [DirectorShootScene!]!\n  shootName: String\n  updatedAt: AWSDateTime\n}\n\n#  Note: existing Query.creatorRevenueByPlatform(window: CreatorRevenueWindow!): CreatorRevenueByPlatform\n# is left as-is to avoid breaking clients. You can later change its return type to\n# CreatorRevenueByPlatformResult! once the frontend is migrated.\n# --- Director Suite types ---\ntype DirectorShootScene {\n  beats: String\n  id: ID!\n  location: String\n  mood: String\n  shotType: String\n  title: String!\n}\n\ntype Episode {\n  chatEnabled: Boolean!\n  durationSeconds: Int\n  episodeNumber: Int\n  fullDescription: String\n  id: ID!\n  outfitsLinkedCount: Int\n  publicAt: String!\n  season: Int\n  shortDescription: String\n  showId: String\n  status: EpisodeStatus!\n  thumbnails: [ThumbnailImage!]!\n  title: String!\n  unlockCoinCost: Int\n}\n\ntype EpisodeAccess {\n  episodeId: ID!\n  isEarly: Boolean!\n  reason: String\n}\n\ntype EpisodeAdminConnection {\n  items: [Episode!]!\n  nextToken: String\n}\n\ntype EpisodeUnlock {\n  costCoins: Int!\n  episode: Episode\n  episodeId: ID!\n  source: String\n  unlockedAt: String!\n}\n\ntype GameEconomyConfig {\n  #  Global economy knobs\n  coinToUsdRatio: Float\n  dailyCoinCap: Int\n  id: ID!\n  monthlyBonusEventsLimit: Int\n  #  Optional freeform notes for admins\n  notes: String\n  #  Rule list\n  rules: [GameRule!]!\n  updatedAt: AWSDateTime\n  updatedBy: String\n  version: Int!\n  weeklyCoinCap: Int\n}\n\ntype GameEventResult {\n  coins: Int\n  lastEventAt: AWSDateTime\n  newCoins: Int\n  newXP: Int\n  success: Boolean!\n  xp: Int\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Fans / Game types\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype GameProfile {\n  avatarUrl: String\n  badges: [String!]!\n  bio: String\n  coins: Int!\n  displayName: String\n  lastEventAt: AWSDateTime\n  lastLoginAt: AWSDateTime\n  level: Int!\n  pinnedClosetItems: [ClosetItem!]!\n  streakCount: Int\n  userId: ID!\n  xp: Int!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Game economy configuration / rules\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype GameRule {\n  category: String!\n  coins: Int!\n  description: String\n  id: ID!\n  label: String!\n  maxPerDay: Int\n  meta: AWSJSON\n  per: String\n}\n\ntype LeaderboardEntry {\n  coins: Int\n  displayName: String\n  rank: Int!\n  userId: ID!\n  xp: Int\n}\n\ntype Like {\n  createdAt: AWSDateTime!\n  itemId: ID!\n  userId: ID!\n}\n\ntype LikeConnection {\n  items: [Like!]!\n  nextToken: String\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Core / Auth\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype Me {\n  email: String!\n  id: ID!\n  role: String!\n  tier: String!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Root mutation type\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype Mutation {\n  addClosetItemToCommunityFeed(itemId: ID!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminApproveItem(closetItemId: ID!): ClosetItem! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Closet admin â€“ argument names match React GQL\n  adminCreateClosetItem(input: AdminCreateClosetItemInput!): ClosetItem! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Episodes admin (admin-only)\n  adminCreateEpisode(input: AdminCreateEpisodeInput!): Episode! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminModerateCreatorAsset(input: AdminModerateCreatorAssetInput!): CreatorAsset! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminPublishClosetItem(closetItemId: ID!): ClosetItem @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminRejectCreatorAsset(input: AdminRejectCreatorAssetInput!): CreatorAsset! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminRejectItem(closetItemId: ID!, reason: String): ClosetItem! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminRestoreCreatorAsset(input: AdminRestoreCreatorAssetInput!): CreatorAsset! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminRevokeBestie(userId: ID!): BestieStatus! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminRevokeBestieByEmail(email: String!): BestieStatus! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminSetBestie(userId: ID!): BestieStatus! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminSetBestieByEmail(email: String!): BestieStatus! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminSetClosetAudience(audience: ClosetAudience!, closetItemId: ID!): ClosetItem! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminSoftDeleteCreatorAsset(input: AdminSoftDeleteCreatorAssetInput!): CreatorAsset! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminUpdateClosetItem(input: AdminUpdateClosetItemInput!): ClosetItem! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminUpdateEpisode(episodeId: ID!, input: AdminUpdateEpisodeInput!): Episode! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  NOTE: aligned with lambda/game/gameplay.ts (expects input: { userId, coins, xp? })\n  awardCoins(input: AwardCoinsInput!): GameProfile! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Bestie closet aliases (used by BestieCloset UI)\n  bestieCreateClosetItem(input: BestieCreateClosetItemInput!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  bestieDeleteClosetItem(id: ID!): Boolean! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  bestieUpdateClosetItem(id: ID!, input: BestieUpdateClosetItemInput!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  claimBestieTrial: BestieStatus! @aws_cognito_user_pools\n  commentOnClosetItem(input: CommentOnClosetItemInput!): Comment! @aws_cognito_user_pools\n  #  Closet (Bestie+ core)\n  # Fans cannot own a closet; they can only engage with existing items.\n  createClosetItem(input: CreateClosetItemInput!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  createCreatorAssetUpload(input: CreateCreatorAssetUploadInput!): CreatorUploadUrl! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Creator filing cabinets (mutations)\n  createCreatorCabinet(input: CreateCreatorCabinetInput!): CreatorCabinet! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  createCreatorFolder(input: CreateCreatorFolderInput!): CreatorFolder! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Polls (aligned with lambda/game/polls.ts)\n  createPoll(input: CreatePollInput!): Poll! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  createStory(input: CreateStoryInput!): Story! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Creator AI (Mutation, with new enum / result type)\n  creatorAiSuggest(kind: CreatorAiSuggestionKind, text: String): CreatorAiSuggestionResult! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Prime Bank â€“ daily login + streak rewards\n  dailyLogin: DailyLoginResult! @aws_cognito_user_pools\n  deleteCreatorAsset(cabinetId: ID!, id: ID!): Boolean! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  deleteCreatorCabinet(id: ID!): Boolean! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  deleteCreatorFolder(cabinetId: ID!, id: ID!): Boolean! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Game profile updates\n  grantBadge(badge: String!, userId: ID!): GameProfile! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  importClosetItemToCabinet(input: ImportClosetItemToCabinetInput!): CreatorAsset! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Fan & Bestie engagement\n  likeClosetItem(itemId: ID!): ClosetItem! @aws_cognito_user_pools\n  #  ğŸ› Link a closet item/photo to a product\n  linkClosetItemToProduct(closetItemId: ID!, matchConfidence: Int, productId: ID!, source: String): Boolean! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Game engine\n  # (Fan vs Bestie persistence is enforced in Lambda by tier, not schema)\n  logGameEvent(input: LogGameEventInput!): GameEventResult! @aws_cognito_user_pools\n  moveCreatorAsset(input: MoveCreatorAssetInput!): CreatorAsset! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Pinned highlights & wishlist are Bestie+ (Fans have no persistent closet/profile)\n  pinHighlight(itemId: ID!): GameProfile! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Creator livestream + commerce\n  pinLivestreamHighlight(highlightId: ID, title: String): PinResult! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  publishStory(storyId: ID!): Story! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  recordAffiliateClick(itemId: ID!, source: String): AffiliateClickResult! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  removeClosetItemFromCommunityFeed(itemId: ID!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  renameCreatorFolder(input: RenameCreatorFolderInput!): CreatorFolder! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  requestClosetApproval(itemId: ID!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Bestie workflow: background changes / stories / feed\n  requestClosetBackgroundChange(input: BgChangeRequestInput!): BgChangeRequestResult! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  setCreatorLibraryTab(input: SetCreatorLibraryTabInput!): SetCreatorLibraryTabPayload! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  NOTE: aligned with lambda/game/profile.ts (event.arguments.displayName)\n  setDisplayName(displayName: String!): GameProfile! @aws_cognito_user_pools\n  #  Roles\n  setUserRole(role: String!, userId: ID!): RoleResult! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  shareClosetItemToPinterest(itemId: ID!): ShareResult! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Bestie membership / billing\n  startBestieCheckout: BestieCheckoutSession! @aws_cognito_user_pools\n  toggleWishlistItem(itemId: ID!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Spend coins to unlock an episode early (Besties will actually have coins; Fans likely won't)\n  unlockEpisode(episodeId: ID!): UnlockEpisodeResult! @aws_cognito_user_pools\n  #  Admin Settings\n  updateAdminSettings(input: AdminSettingsInput!): AdminSettings! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  updateClosetItemStory(input: UpdateClosetItemStoryInput!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  updateClosetMediaKey(itemId: ID!, mediaKey: String!): ClosetItem! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools @aws_iam\n  updateCreatorAsset(input: UpdateCreatorAssetInput!): CreatorAsset! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  updateCreatorCabinet(input: UpdateCreatorCabinetInput!): CreatorCabinet! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  updateCreatorGoalCompass(input: UpdateCreatorGoalCompassInput!): CreatorGoalCompass! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Game economy config / rules (admin)\n  updateGameEconomyConfig(input: UpdateGameEconomyConfigInput!): GameEconomyConfig! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  updateProfile(input: UpdateProfileInput!): GameProfile! @aws_cognito_user_pools\n  votePoll(optionIndex: Int!, pollId: ID!): Poll! @aws_cognito_user_pools\n}\n\ntype PinResult {\n  ok: Boolean!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Polls\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype Poll {\n  createdAt: AWSDateTime\n  createdBy: String\n  options: [String!]!\n  pollId: ID!\n  question: String!\n  totals: [Int!]!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Prime Bank â€“ balances + daily login\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype PrimeBankAccount {\n  availableCoins: Int!\n  lastUpdatedAt: AWSDateTime\n  pendingCoins: Int!\n  totalCoins: Int!\n  userId: ID!\n}\n\n#  Styling Adventures GraphQL Schema\n# Root types: Query, Mutation\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Root query type\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ntype Query {\n  adminClosetItemComments(itemId: ID!, limit: Int, nextToken: String): CommentConnection! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminClosetItemLikes(itemId: ID!, limit: Int, nextToken: String): LikeConnection! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminGetCreatorAsset(cabinetId: ID!, id: ID!): CreatorAsset @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminListClosetItems(limit: Int, nextToken: String, status: ClosetStatus): ClosetConnection! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  adminListCreatorAssetsByUser(cabinetId: ID, folderId: ID, includeSoftDeleted: Boolean, limit: Int, moderationStatus: CreatorAssetModerationStatus, nextToken: String, ownerSub: ID!): CreatorAssetConnection! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Episodes admin (admin-only)\n  adminListEpisodes(limit: Int, nextToken: String, season: Int, showId: String, status: EpisodeStatus): EpisodeAdminConnection! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Admin / feed views\n  adminListPending(limit: Int, nextToken: String): ClosetConnection! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Bestie-only view (used by BestieCloset UI)\n  bestieClosetItems(limit: Int, nextToken: String): ClosetConnection! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Community feed â€“ all signed-in users (Fans + Besties)\n  closetFeed(limit: Int, nextToken: String, sort: ClosetFeedSort): ClosetConnection! @aws_cognito_user_pools\n  #  Comments & likes (Fans + Besties)\n  closetItemComments(itemId: ID!, limit: Int, nextToken: String): CommentConnection! @aws_cognito_user_pools\n  creatorCabinet(id: ID!): CreatorCabinet @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  creatorCabinetAssets(cabinetId: ID!, category: CreatorCabinetCategory, folderId: ID, limit: Int, nextToken: String, search: String, tag: String): CreatorAssetConnection! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Folders for a given cabinet\n  creatorCabinetFolders(cabinetId: ID!): [CreatorFolder!]! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Creator filing cabinets (personal asset library)\n  creatorCabinets: [CreatorCabinet!]! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  creatorGoalCompass: CreatorGoalCompass @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  creatorRevenueByPlatform(window: CreatorRevenueWindow!): CreatorRevenueByPlatform @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  creatorRevenueSummary: CreatorRevenueSummary! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Admin Settings\n  getAdminSettings: AdminSettings! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Creator / livestream & monetisation\n  getCreatorLivestreamInfo: CreatorLivestreamInfo! @aws_auth(cognito_groups : [\"CREATOR\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Game economy config / rules (admin)\n  getGameEconomyConfig: GameEconomyConfig! @aws_auth(cognito_groups : [\"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Game profile\n  getMyProfile: GameProfile! @aws_cognito_user_pools\n  #  Polls\n  getPoll(pollId: ID!): Poll @aws_cognito_user_pools\n  #  Prime Bank â€“ fetch current account/balance\n  getPrimeBankAccount: PrimeBankAccount @aws_cognito_user_pools\n  #  Simple healthcheck\n  hello: String\n  #  Episodes / early access\n  isEpisodeEarlyAccess(episodeId: ID!): EpisodeAccess! @aws_cognito_user_pools\n  #  Current user basic info\n  me: Me! @aws_cognito_user_pools\n  #  Bestie status\n  meBestieStatus: BestieStatus! @aws_cognito_user_pools\n  #  Closet queries\n  # Bestie+ only: Fans do not have a personal closet\n  myCloset(limit: Int, nextToken: String): ClosetConnection! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  myStories(limit: Int, nextToken: String): BestieStoryConnection @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  Fan/Bestie episode unlocks\n  myUnlockedEpisodes: [EpisodeUnlock!]! @aws_cognito_user_pools\n  myWishlist(limit: Int, nextToken: String): ClosetConnection! @aws_auth(cognito_groups : [\"BESTIE\", \"CREATOR\", \"COLLAB\", \"ADMIN\", \"PRIME\"]) @aws_cognito_user_pools\n  #  ğŸ› Shopping\n  shopLalasLook(closetItemId: ID!): [ShopProduct!]! @aws_cognito_user_pools\n  shopThisScene(sceneId: ID!): [ShopProduct!]! @aws_cognito_user_pools\n  stories(limit: Int, nextToken: String): BestieStoryConnection @aws_cognito_user_pools\n  topCoins(limit: Int, season: String): [LeaderboardEntry!]! @aws_cognito_user_pools\n  #  Game / leaderboard\n  topXP(limit: Int, season: String): [LeaderboardEntry!]! @aws_cognito_user_pools\n}\n\ntype RoleResult {\n  role: String!\n  userId: ID!\n}\n\ntype SetCreatorLibraryTabPayload {\n  ok: Boolean!\n  tab: CreatorLibraryTab!\n}\n\ntype ShareResult {\n  ok: Boolean!\n  url: String\n}\n\ntype ShopProduct {\n  affiliateLinks: [AffiliateLink!]!\n  brand: String\n  category: String\n  color: String\n  imageUrl: String\n  name: String!\n  price: Float\n  productId: ID!\n  sizeOptions: [String]\n}\n\ntype Story {\n  createdAt: AWSDateTime\n  id: ID!\n  ownerId: ID!\n  publishedAt: AWSDateTime\n  status: String\n  title: String\n}\n\ntype ThumbnailImage {\n  key: String!\n  primary: Boolean!\n}\n\ntype UnlockEpisodeResult {\n  costCoins: Int!\n  episode: Episode!\n  remainingCoins: Int!\n  success: Boolean!\n  unlockedAt: String!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Bestie Stories\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nenum BestieStoryStatus {\n  ARCHIVED\n  DRAFT\n  PUBLISHED\n  SCHEDULED\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Closet enums\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nenum ClosetAudience {\n  BESTIES\n  EXCLUSIVE\n  PUBLIC\n}\n\nenum ClosetFeedSort {\n  LALAS_PICK\n  MOST_LOVED\n  MY_FAVES\n  NEWEST\n}\n\nenum ClosetStatus {\n  APPROVED\n  PENDING\n  PUBLISHED\n  REJECTED\n}\n\nenum ClosetVisibility {\n  BESTIE\n  PRIVATE\n  PUBLIC\n}\n\nenum CreatorAiSuggestionKind {\n  CAPTION\n  HASHTAGS\n  OTHER\n}\n\nenum CreatorAssetKind {\n  OTHER\n  PHOTO\n  VIDEO\n}\n\nenum CreatorAssetModerationStatus {\n  ACTIVE\n  INAPPROPRIATE\n  REJECTED\n  SOFT_DELETED\n}\n\nenum CreatorCabinetCategory {\n  BRIEF\n  EPISODE_BTS\n  OTHER\n  OUTFIT_REFS\n  SPONSOR_ASSETS\n  STORYBOARD\n  THUMBNAILS\n}\n\nenum CreatorLibraryTab {\n  LIBRARY\n  STORIES\n  STUDIO\n  TOOLS\n}\n\nenum CreatorPrItemStatus {\n  DRAFT\n  IDEA\n  POSTED\n  READY\n  SCHEDULED\n  SKIPPED\n}\n\nenum CreatorRevenueWindow {\n  LAST_30_DAYS\n  LAST_7_DAYS\n  LAST_90_DAYS\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Episodes / Bestie access\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nenum EpisodeStatus {\n  DRAFT\n  PUBLISHED\n  SCHEDULED\n}\n\nenum WeeklyPathStatus {\n  OFF_PATH\n  ON_PATH\n  SLIGHTLY_OFF\n}\n\ninput AddContentIdeaToBoardInput {\n  boardId: ID!\n  contentIdeaId: ID!\n  notes: String\n  #  Optional overrides from the UI\n  platform: String\n  pulseId: ID!\n  status: CreatorPrItemStatus\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Closet inputs â€“ admin\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ninput AdminCreateClosetItemInput {\n  affiliateUrl: String\n  audience: ClosetAudience\n  backgroundStatus: String\n  category: String\n  coinValue: Int\n  colorTags: [String!]\n  episodeIds: [ID!]\n  mediaKey: String\n  notes: String\n  ownerId: ID\n  pinned: Boolean\n  rawMediaKey: String\n  season: String\n  status: ClosetStatus\n  subcategory: String\n  title: String\n  vibes: String\n  visibility: ClosetVisibility\n}\n\ninput AdminCreateEpisodeInput {\n  chatEnabled: Boolean\n  durationSeconds: Int\n  episodeNumber: Int\n  fullDescription: String\n  id: ID\n  publicAt: String!\n  season: Int\n  shortDescription: String\n  showId: String\n  status: EpisodeStatus!\n  thumbnails: [ThumbnailImageInput!]\n  title: String!\n  unlockCoinCost: Int\n}\n\ninput AdminModerateCreatorAssetInput {\n  cabinetId: ID!\n  id: ID!\n  moderationReason: String\n  moderationStatus: CreatorAssetModerationStatus!\n  tags: [String!]\n}\n\ninput AdminRejectCreatorAssetInput {\n  cabinetId: ID!\n  id: ID!\n  moderationReason: String\n  tags: [String!]\n}\n\ninput AdminRestoreCreatorAssetInput {\n  cabinetId: ID!\n  id: ID!\n}\n\ninput AdminSettingsInput {\n  animationsEnabled: Boolean\n  autoBadgeGrant: Boolean\n  badgeRules: [BadgeRuleInput!]\n  soundsEnabled: Boolean\n}\n\ninput AdminSoftDeleteCreatorAssetInput {\n  cabinetId: ID!\n  id: ID!\n  reason: String\n}\n\ninput AdminUpdateClosetItemInput {\n  affiliateUrl: String\n  audience: ClosetAudience\n  backgroundStatus: String\n  category: String\n  coinValue: Int\n  colorTags: [String!]\n  episodeIds: [ID!]\n  id: ID!\n  mediaKey: String\n  notes: String\n  ownerId: ID\n  pinned: Boolean\n  rawMediaKey: String\n  scheduledAt: AWSDateTime\n  season: String\n  status: ClosetStatus\n  subcategory: String\n  title: String\n  vibes: String\n  visibility: ClosetVisibility\n}\n\ninput AdminUpdateEpisodeInput {\n  chatEnabled: Boolean\n  durationSeconds: Int\n  episodeNumber: Int\n  fullDescription: String\n  publicAt: String\n  season: Int\n  shortDescription: String\n  showId: String\n  status: EpisodeStatus\n  thumbnails: [ThumbnailImageInput!]\n  title: String\n  unlockCoinCost: Int\n}\n\ninput AwardCoinsInput {\n  coins: Int!\n  userId: ID!\n  xp: Int\n}\n\ninput BadgeRuleInput {\n  id: ID!\n  label: String!\n  trigger: String!\n}\n\ninput BestieCreateClosetItemInput {\n  affiliateUrl: String\n  category: String\n  colorTags: [String!]\n  episodeIds: [ID!]\n  mediaKey: String\n  notes: String\n  rawMediaKey: String\n  season: String\n  subcategory: String\n  title: String\n  vibes: String\n  visibility: ClosetVisibility\n}\n\ninput BestieUpdateClosetItemInput {\n  affiliateUrl: String\n  category: String\n  colorTags: [String!]\n  episodeIds: [ID!]\n  mediaKey: String\n  notes: String\n  rawMediaKey: String\n  season: String\n  subcategory: String\n  title: String\n  vibes: String\n  visibility: ClosetVisibility\n}\n\ninput BgChangeRequestInput {\n  itemId: ID!\n  newBackgroundKey: String!\n  notes: String\n}\n\ninput CommentOnClosetItemInput {\n  itemId: ID!\n  text: String!\n}\n\n#  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Closet inputs â€“ fan / bestie\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\ninput CreateClosetItemInput {\n  affiliateUrl: String\n  category: String\n  colorTags: [String!]\n  episodeIds: [ID!]\n  mediaKey: String\n  notes: String\n  rawMediaKey: String\n  season: String\n  subcategory: String\n  title: String\n  vibes: String\n  visibility: ClosetVisibility\n}\n\ninput CreateCreatorAssetUploadInput {\n  cabinetId: ID!\n  category: CreatorCabinetCategory\n  contentType: String!\n  fileName: String!\n  folderId: ID\n  kind: CreatorAssetKind!\n  notes: String\n  tags: [String!]\n  title: String\n}\n\ninput CreateCreatorCabinetInput {\n  defaultCategory: CreatorCabinetCategory\n  description: String\n  name: String!\n  tags: [String!]\n}\n\ninput CreateCreatorFolderInput {\n  cabinetId: ID!\n  name: String!\n}\n\ninput CreateCreatorPrBoardInput {\n  description: String\n  timeHorizonFrom: AWSDateTime\n  timeHorizonTo: AWSDateTime\n  title: String!\n}\n\ninput CreatePollInput {\n  options: [String!]!\n  question: String!\n}\n\ninput CreateStoryInput {\n  closetItemIds: [ID!]\n  title: String!\n}\n\ninput CreatorContentMixInput {\n  authority: Int\n  conversion: Int\n  nurture: Int\n  personality: Int\n}\n\ninput DirectorShootSceneInput {\n  beats: String\n  id: ID\n  location: String\n  mood: String\n  shotType: String\n  title: String!\n}\n\ninput GameRuleInput {\n  category: String!\n  coins: Int!\n  description: String\n  id: ID\n  label: String!\n  maxPerDay: Int\n  meta: AWSJSON\n  per: String\n}\n\ninput GenerateSocialPulseInput {\n  nicheOverride: String\n  platforms: [String!]\n}\n\ninput ImportClosetItemToCabinetInput {\n  cabinetId: ID!\n  closetItemId: ID!\n  folderId: ID\n  kind: CreatorAssetKind\n  notes: String\n  tags: [String!]\n  title: String\n}\n\ninput LogGameEventInput {\n  metadata: AWSJSON\n  type: String!\n}\n\ninput MoveCreatorAssetInput {\n  cabinetId: ID!\n  destinationFolderId: ID\n  id: ID!\n}\n\ninput RenameCreatorFolderInput {\n  cabinetId: ID!\n  id: ID!\n  name: String!\n}\n\ninput SaveDirectorShootPlanInput {\n  id: ID!\n  objective: String\n  primaryPlatform: String\n  scenes: [DirectorShootSceneInput!]!\n  shootName: String\n}\n\ninput SetCreatorLibraryTabInput {\n  tab: CreatorLibraryTab!\n}\n\ninput ThumbnailImageInput {\n  key: String!\n  primary: Boolean!\n}\n\ninput UpdateClosetItemStoryInput {\n  itemId: ID!\n  storyId: ID\n  storyPosition: Int\n}\n\ninput UpdateCreatorAssetInput {\n  cabinetId: ID!\n  category: CreatorCabinetCategory\n  folderId: ID\n  id: ID!\n  notes: String\n  tags: [String!]\n  title: String\n}\n\ninput UpdateCreatorCabinetInput {\n  defaultCategory: CreatorCabinetCategory\n  description: String\n  id: ID!\n  name: String\n  tags: [String!]\n}\n\ninput UpdateCreatorGoalCompassInput {\n  contentMixTarget: CreatorContentMixInput\n  focusAreas: [String!]!\n  notes: String\n  primaryGoal: String!\n  riskTolerance: String!\n  timeHorizon: String!\n  weeklyCapacity: Int!\n}\n\ninput UpdateGameEconomyConfigInput {\n  coinToUsdRatio: Float\n  dailyCoinCap: Int\n  monthlyBonusEventsLimit: Int\n  notes: String\n  rules: [GameRuleInput!]!\n  weeklyCoinCap: Int\n}\n\ninput UpdateProfileInput {\n  avatarUrl: String\n  bio: String\n  displayName: String\n}\n\ninput UpsertCreatorScheduleSlotInput {\n  day: String!\n  directorShootId: ID\n  focusHint: String\n  id: ID\n  notes: String\n  platformHint: String\n  status: String\n  timeOfDay: String!\n  weekOf: AWSDate!\n}\n"
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/Schema"
   }
  },
  "StylingApiHelloDsServiceRole44626254": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "appsync.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/HelloDs/ServiceRole/Resource"
   }
  },
  "StylingApiHelloDsServiceRoleDefaultPolicy8C35E727": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "HelloFn7942DF23",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "HelloFn7942DF23",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "StylingApiHelloDsServiceRoleDefaultPolicy8C35E727",
    "Roles": [
     {
      "Ref": "StylingApiHelloDsServiceRole44626254"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/HelloDs/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "StylingApiHelloDs58F1D645": {
   "Type": "AWS::AppSync::DataSource",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "LambdaConfig": {
     "LambdaFunctionArn": {
      "Fn::GetAtt": [
       "HelloFn7942DF23",
       "Arn"
      ]
     }
    },
    "Name": "HelloDs",
    "ServiceRoleArn": {
     "Fn::GetAtt": [
      "StylingApiHelloDsServiceRole44626254",
      "Arn"
     ]
    },
    "Type": "AWS_LAMBDA"
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/HelloDs/Resource"
   }
  },
  "StylingApiHello5D556CAF": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "HelloDs",
    "FieldName": "hello",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiHelloDs58F1D645",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/Hello/Resource"
   }
  },
  "StylingApiNoneDs95A6ABC6": {
   "Type": "AWS::AppSync::DataSource",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "Name": "NoneDs",
    "Type": "NONE"
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/NoneDs/Resource"
   }
  },
  "StylingApiQueryMeResolverB661C632": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "NoneDs",
    "FieldName": "me",
    "Kind": "UNIT",
    "RequestMappingTemplate": "\n{\n  \"version\": \"2017-02-28\",\n  \"payload\": {}\n}\n",
    "ResponseMappingTemplate": "\n#set($sub = \"anonymous\")\n#set($email = \"\")\n\n#if($ctx.identity && $ctx.identity.sub)\n  #set($sub = $ctx.identity.sub)\n#end\n\n#if($ctx.identity && $ctx.identity.claims && $ctx.identity.claims.get(\"email\"))\n  #set($email = $ctx.identity.claims.get(\"email\"))\n#end\n\n$util.toJson({\n  \"id\": $sub,\n  \"email\": $email,\n  \"role\": \"FAN\",\n  \"tier\": \"FREE\"\n})\n",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiNoneDs95A6ABC6",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/QueryMeResolver/Resource"
   }
  },
  "StylingApiClosetDsServiceRole61F98ADC": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "appsync.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetDs/ServiceRole/Resource"
   }
  },
  "StylingApiClosetDsServiceRoleDefaultPolicyE595E568": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": {
        "Ref": "ClosetResolverFnLive326F31AD"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "StylingApiClosetDsServiceRoleDefaultPolicyE595E568",
    "Roles": [
     {
      "Ref": "StylingApiClosetDsServiceRole61F98ADC"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetDs/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "StylingApiClosetDs3024963C": {
   "Type": "AWS::AppSync::DataSource",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "LambdaConfig": {
     "LambdaFunctionArn": {
      "Ref": "ClosetResolverFnLive326F31AD"
     }
    },
    "Name": "ClosetDs",
    "ServiceRoleArn": {
     "Fn::GetAtt": [
      "StylingApiClosetDsServiceRole61F98ADC",
      "Arn"
     ]
    },
    "Type": "AWS_LAMBDA"
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetDs/Resource"
   }
  },
  "StylingApiMyClosetC8373A07": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "myCloset",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/MyCloset/Resource"
   }
  },
  "StylingApiMyWishlistResolver426A19B4": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "myWishlist",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/MyWishlistResolver/Resource"
   }
  },
  "StylingApiQueryBestieClosetItemsResolver9C2DC004": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "bestieClosetItems",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/QueryBestieClosetItemsResolver/Resource"
   }
  },
  "StylingApiClosetFeedResolverA7586067": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "closetFeed",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetFeedResolver/Resource"
   }
  },
  "StylingApiStoriesResolverEA4BABA8": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "stories",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/StoriesResolver/Resource"
   }
  },
  "StylingApiMyStoriesResolverEB0CC059": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "myStories",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/MyStoriesResolver/Resource"
   }
  },
  "StylingApiCreateClosetItemF16DABD7": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "createClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/CreateClosetItem/Resource"
   }
  },
  "StylingApiRequestClosetApproval8385052A": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "requestClosetApproval",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/RequestClosetApproval/Resource"
   }
  },
  "StylingApiUpdateClosetMediaKeyD01273A7": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "updateClosetMediaKey",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/UpdateClosetMediaKey/Resource"
   }
  },
  "StylingApiUpdateClosetItemStory1E53C9EF": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "updateClosetItemStory",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/UpdateClosetItemStory/Resource"
   }
  },
  "StylingApiLikeClosetItemResolverDDD008BD": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "likeClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/LikeClosetItemResolver/Resource"
   }
  },
  "StylingApiToggleFavoriteClosetItemResolverE4293E23": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "toggleFavoriteClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ToggleFavoriteClosetItemResolver/Resource"
   }
  },
  "StylingApiCommentOnClosetItemResolver7F7A6E8F": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "commentOnClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/CommentOnClosetItemResolver/Resource"
   }
  },
  "StylingApiPinHighlightResolver002B0CAF": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "pinHighlight",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/PinHighlightResolver/Resource"
   }
  },
  "StylingApiToggleWishlistItemResolverDE94C35B": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "toggleWishlistItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ToggleWishlistItemResolver/Resource"
   }
  },
  "StylingApiClosetItemCommentsResolver56F9E376": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "closetItemComments",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetItemCommentsResolver/Resource"
   }
  },
  "StylingApiAdminClosetItemLikesResolverFC561E87": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "adminClosetItemLikes",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminClosetItemLikesResolver/Resource"
   }
  },
  "StylingApiAdminClosetItemCommentsResolver42C32439": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "adminClosetItemComments",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminClosetItemCommentsResolver/Resource"
   }
  },
  "StylingApiPinnedClosetItemsResolver5F06D816": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "pinnedClosetItems",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/PinnedClosetItemsResolver/Resource"
   }
  },
  "StylingApiRequestBgChangeResolver4E1C8E8E": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "requestClosetBackgroundChange",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/RequestBgChangeResolver/Resource"
   }
  },
  "StylingApiCreateStoryResolver6AAA08F7": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "createStory",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/CreateStoryResolver/Resource"
   }
  },
  "StylingApiPublishStoryResolver54D7BE63": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "publishStory",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/PublishStoryResolver/Resource"
   }
  },
  "StylingApiAddClosetItemToFeedResolverDCFD3423": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "addClosetItemToCommunityFeed",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AddClosetItemToFeedResolver/Resource"
   }
  },
  "StylingApiRemoveClosetItemFromFeedResolver756772DF": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "removeClosetItemFromCommunityFeed",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/RemoveClosetItemFromFeedResolver/Resource"
   }
  },
  "StylingApiShareClosetItemToPinterestResolverE33FBADF": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "shareClosetItemToPinterest",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ShareClosetItemToPinterestResolver/Resource"
   }
  },
  "StylingApiBestieCreateClosetItemResolver3803A0EE": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "bestieCreateClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/BestieCreateClosetItemResolver/Resource"
   }
  },
  "StylingApiBestieUpdateClosetItemResolverEC0BE4C0": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "bestieUpdateClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/BestieUpdateClosetItemResolver/Resource"
   }
  },
  "StylingApiBestieDeleteClosetItemResolverEDD9D880": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetDs",
    "FieldName": "bestieDeleteClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetDs3024963C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/BestieDeleteClosetItemResolver/Resource"
   }
  },
  "StylingApiClosetAdminSourceServiceRole9EF81003": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "appsync.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetAdminSource/ServiceRole/Resource"
   }
  },
  "StylingApiClosetAdminSourceServiceRoleDefaultPolicyDFCEEFAE": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": {
        "Ref": "ClosetAdminFnLive19204595"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "StylingApiClosetAdminSourceServiceRoleDefaultPolicyDFCEEFAE",
    "Roles": [
     {
      "Ref": "StylingApiClosetAdminSourceServiceRole9EF81003"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetAdminSource/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "StylingApiClosetAdminSource8E9FB41C": {
   "Type": "AWS::AppSync::DataSource",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "LambdaConfig": {
     "LambdaFunctionArn": {
      "Ref": "ClosetAdminFnLive19204595"
     }
    },
    "Name": "ClosetAdminSource",
    "ServiceRoleArn": {
     "Fn::GetAtt": [
      "StylingApiClosetAdminSourceServiceRole9EF81003",
      "Arn"
     ]
    },
    "Type": "AWS_LAMBDA"
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/ClosetAdminSource/Resource"
   }
  },
  "StylingApiAdminListPendingResolver16923FC0": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminListPending",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminListPendingResolver/Resource"
   }
  },
  "StylingApiAdminListClosetItemsResolver3D611162": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminListClosetItems",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminListClosetItemsResolver/Resource"
   }
  },
  "StylingApiAdminListBestieClosetItemsResolverB59AFF74": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminListBestieClosetItems",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Query"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminListBestieClosetItemsResolver/Resource"
   }
  },
  "StylingApiAdminCreateClosetItemResolver9A76622F": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminCreateClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminCreateClosetItemResolver/Resource"
   }
  },
  "StylingApiAdminApproveItem0F267B42": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminApproveItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminApproveItem/Resource"
   }
  },
  "StylingApiAdminRejectItemCC71EBDE": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminRejectItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminRejectItem/Resource"
   }
  },
  "StylingApiAdminSetClosetAudienceBD88A9DD": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminSetClosetAudience",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminSetClosetAudience/Resource"
   }
  },
  "StylingApiAdminUpdateClosetItemResolver5BCA141E": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminUpdateClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminUpdateClosetItemResolver/Resource"
   }
  },
  "StylingApiAdminPublishClosetItemE70F2535": {
   "Type": "AWS::AppSync::Resolver",
   "Properties": {
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "DataSourceName": "ClosetAdminSource",
    "FieldName": "adminPublishClosetItem",
    "Kind": "UNIT",
    "RequestMappingTemplate": "{\"version\": \"2017-02-28\", \"operation\": \"Invoke\", \"payload\": $util.toJson($ctx)}",
    "ResponseMappingTemplate": "$util.toJson($ctx.result)",
    "TypeName": "Mutation"
   },
   "DependsOn": [
    "SchemaReady",
    "StylingApiClosetAdminSource8E9FB41C",
    "StylingApiSchemaD8A6FBCC"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/StylingApi/AdminPublishClosetItem/Resource"
   }
  },
  "AppSyncSchemaReadyFnServiceRole62E33748": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/AppSyncSchemaReadyFn/ServiceRole/Resource"
   }
  },
  "AppSyncSchemaReadyFnServiceRoleDefaultPolicyE0925986": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "appsync:GetSchemaCreationStatus",
        "appsync:GetIntrospectionSchema"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "AppSyncSchemaReadyFnServiceRoleDefaultPolicyE0925986",
    "Roles": [
     {
      "Ref": "AppSyncSchemaReadyFnServiceRole62E33748"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/AppSyncSchemaReadyFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "AppSyncSchemaReadyFnD1C75E51": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-637423256673-us-east-1",
     "S3Key": "6260b18a055aa80908b088dfe9dce3cbf4e74f11dcf065e6d2eff36a5b600d34.zip"
    },
    "Environment": {
     "Variables": {
      "APPSYNC_API_ID": {
       "Fn::GetAtt": [
        "StylingApiC401F041",
        "ApiId"
       ]
      },
      "NODE_OPTIONS": "--enable-source-maps"
     }
    },
    "Handler": "index.handler",
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "AppSyncSchemaReadyFnServiceRole62E33748",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ],
    "Timeout": 600
   },
   "DependsOn": [
    "AppSyncSchemaReadyFnServiceRoleDefaultPolicyE0925986",
    "AppSyncSchemaReadyFnServiceRole62E33748"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/AppSyncSchemaReadyFn/Resource",
    "aws:asset:path": "asset.6260b18a055aa80908b088dfe9dce3cbf4e74f11dcf065e6d2eff36a5b600d34",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "SchemaReadyProviderframeworkonEventServiceRole8F2E62B3": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/SchemaReadyProvider/framework-onEvent/ServiceRole/Resource"
   }
  },
  "SchemaReadyProviderframeworkonEventServiceRoleDefaultPolicyE2DDA385": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "AppSyncSchemaReadyFnD1C75E51",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "AppSyncSchemaReadyFnD1C75E51",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:GetFunction",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "AppSyncSchemaReadyFnD1C75E51",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SchemaReadyProviderframeworkonEventServiceRoleDefaultPolicyE2DDA385",
    "Roles": [
     {
      "Ref": "SchemaReadyProviderframeworkonEventServiceRole8F2E62B3"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/SchemaReadyProvider/framework-onEvent/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SchemaReadyProviderframeworkonEvent3EBA120F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-637423256673-us-east-1",
     "S3Key": "bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca.zip"
    },
    "Description": "AWS CDK resource provider framework - onEvent (ApiStack/SchemaReadyProvider)",
    "Environment": {
     "Variables": {
      "USER_ON_EVENT_FUNCTION_ARN": {
       "Fn::GetAtt": [
        "AppSyncSchemaReadyFnD1C75E51",
        "Arn"
       ]
      }
     }
    },
    "Handler": "framework.onEvent",
    "LoggingConfig": {
     "ApplicationLogLevel": "FATAL",
     "LogFormat": "JSON"
    },
    "Role": {
     "Fn::GetAtt": [
      "SchemaReadyProviderframeworkonEventServiceRole8F2E62B3",
      "Arn"
     ]
    },
    "Runtime": "nodejs22.x",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ],
    "Timeout": 900
   },
   "DependsOn": [
    "SchemaReadyProviderframeworkonEventServiceRoleDefaultPolicyE2DDA385",
    "SchemaReadyProviderframeworkonEventServiceRole8F2E62B3"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/SchemaReadyProvider/framework-onEvent/Resource",
    "aws:asset:path": "asset.bdc104ed9cab1b5b6421713c8155f0b753380595356f710400609664d3635eca",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "SchemaReady": {
   "Type": "AWS::CloudFormation::CustomResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "SchemaReadyProviderframeworkonEvent3EBA120F",
      "Arn"
     ]
    },
    "ApiId": {
     "Fn::GetAtt": [
      "StylingApiC401F041",
      "ApiId"
     ]
    },
    "SchemaBump": "v2"
   },
   "DependsOn": [
    "StylingApiSchemaD8A6FBCC"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "ApiStack/SchemaReady/Default"
   }
  },
  "CreatorMediaBucket07B47A03": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketEncryption": {
     "ServerSideEncryptionConfiguration": [
      {
       "ServerSideEncryptionByDefault": {
        "SSEAlgorithm": "AES256"
       }
      }
     ]
    },
    "CorsConfiguration": {
     "CorsRules": [
      {
       "AllowedHeaders": [
        "*"
       ],
       "AllowedMethods": [
        "PUT",
        "GET"
       ],
       "AllowedOrigins": [
        "http://localhost:5173"
       ],
       "ExposedHeaders": [
        "ETag"
       ],
       "MaxAge": 3600
      }
     ]
    },
    "PublicAccessBlockConfiguration": {
     "BlockPublicAcls": true,
     "BlockPublicPolicy": true,
     "IgnorePublicAcls": true,
     "RestrictPublicBuckets": true
    },
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "ApiStack/CreatorMediaBucket/Resource"
   }
  },
  "HelloFnServiceRoleDA97FE56": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/HelloFn/ServiceRole/Resource"
   }
  },
  "HelloFn7942DF23": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-637423256673-us-east-1",
     "S3Key": "dba505f53767a9e6657cdeba0a1fe85822984a28978face5a785b36aa3fb4af7.zip"
    },
    "Environment": {
     "Variables": {
      "NODE_OPTIONS": "--enable-source-maps"
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "HelloFnServiceRoleDA97FE56",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "DependsOn": [
    "HelloFnServiceRoleDA97FE56"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/HelloFn/Resource",
    "aws:asset:path": "asset.dba505f53767a9e6657cdeba0a1fe85822984a28978face5a785b36aa3fb4af7",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ClosetResolverFnServiceRole21435BA2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFn/ServiceRole/Resource"
   }
  },
  "ClosetResolverFnServiceRoleDefaultPolicy2117A20A": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::ImportValue": "DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::ImportValue": "DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "states:StartExecution",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefClosetUploadApprovalSM46D354C9ED6F8513"
       }
      },
      {
       "Action": "states:StartExecution",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefBestieClosetUploadAutoPublishSMD39D3713F9680EDA"
       }
      },
      {
       "Action": "states:StartExecution",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefBackgroundChangeApprovalSMA6DF140DCA66162D"
       }
      },
      {
       "Action": "states:StartExecution",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "BestiesStoriesStack:ExportsOutputRefStoryPublishSMAF8A41480C93DC91"
       }
      },
      {
       "Action": "events:PutEvents",
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ClosetResolverFnServiceRoleDefaultPolicy2117A20A",
    "Roles": [
     {
      "Ref": "ClosetResolverFnServiceRole21435BA2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ClosetResolverFnDB09D91C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-637423256673-us-east-1",
     "S3Key": "f637f88a5166c43b4ef4e7a155840a51323b0f4ae52e67828a3f8f91fa4ff79b.zip"
    },
    "Environment": {
     "Variables": {
      "ADMIN_GROUP_NAME": "ADMIN",
      "APPROVAL_SM_ARN": {
       "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefClosetUploadApprovalSM46D354C9ED6F8513"
      },
      "BESTIE_AUTOPUBLISH_SM_ARN": {
       "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefBestieClosetUploadAutoPublishSMD39D3713F9680EDA"
      },
      "BG_CHANGE_SM_ARN": {
       "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefBackgroundChangeApprovalSMA6DF140DCA66162D"
      },
      "CREATOR_GROUP_NAME": "CREATOR",
      "FAN_APPROVAL_SM_ARN": {
       "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefClosetUploadApprovalSM46D354C9ED6F8513"
      },
      "NODE_OPTIONS": "--enable-source-maps",
      "PK_NAME": "pk",
      "PUBLIC_UPLOADS_CDN": "",
      "SK_NAME": "sk",
      "STATUS_GSI": "gsi1",
      "STORY_PUBLISH_SM_ARN": {
       "Fn::ImportValue": "BestiesStoriesStack:ExportsOutputRefStoryPublishSMAF8A41480C93DC91"
      },
      "TABLE_NAME": {
       "Fn::ImportValue": "DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"
      }
     }
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "ClosetResolverFnServiceRole21435BA2",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "DependsOn": [
    "ClosetResolverFnServiceRoleDefaultPolicy2117A20A",
    "ClosetResolverFnServiceRole21435BA2"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFn/Resource",
    "aws:asset:path": "asset.f637f88a5166c43b4ef4e7a155840a51323b0f4ae52e67828a3f8f91fa4ff79b",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ClosetResolverFnCurrentVersion71AF2A5Ed2865cecae5c37ab5ff06ab6d7239043": {
   "Type": "AWS::Lambda::Version",
   "Properties": {
    "FunctionName": {
     "Ref": "ClosetResolverFnDB09D91C"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFn/CurrentVersion/Resource",
    "aws:cdk:do-not-refactor": true
   }
  },
  "ClosetResolverFnLive326F31AD": {
   "Type": "AWS::Lambda::Alias",
   "Properties": {
    "FunctionName": {
     "Ref": "ClosetResolverFnDB09D91C"
    },
    "FunctionVersion": {
     "Fn::GetAtt": [
      "ClosetResolverFnCurrentVersion71AF2A5Ed2865cecae5c37ab5ff06ab6d7239043",
      "Version"
     ]
    },
    "Name": "live"
   },
   "UpdatePolicy": {
    "CodeDeployLambdaAliasUpdate": {
     "ApplicationName": {
      "Ref": "ClosetResolverFnDeploymentGroupApplication6B92EE45"
     },
     "DeploymentGroupName": {
      "Ref": "ClosetResolverFnDeploymentGroupB4ABBE83"
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFnLive/Resource"
   }
  },
  "ClosetResolverFnAliasErrorsAlarmFFD2E07A": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "ComparisonOperator": "GreaterThanOrEqualToThreshold",
    "Dimensions": [
     {
      "Name": "FunctionName",
      "Value": {
       "Ref": "ClosetResolverFnDB09D91C"
      }
     },
     {
      "Name": "Resource",
      "Value": {
       "Fn::Join": [
        "",
        [
         {
          "Ref": "ClosetResolverFnDB09D91C"
         },
         ":live"
        ]
       ]
      }
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "Errors",
    "Namespace": "AWS/Lambda",
    "Period": 60,
    "Statistic": "Sum",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ],
    "Threshold": 1
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFnAliasErrorsAlarm/Resource"
   }
  },
  "ClosetResolverFnDeploymentGroupServiceRole3D5952DE": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "codedeploy.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSCodeDeployRoleForLambdaLimited"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFnDeploymentGroup/ServiceRole/Resource"
   }
  },
  "ClosetResolverFnDeploymentGroupApplication6B92EE45": {
   "Type": "AWS::CodeDeploy::Application",
   "Properties": {
    "ComputePlatform": "Lambda",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFnDeploymentGroup/Application/Resource"
   }
  },
  "ClosetResolverFnDeploymentGroupB4ABBE83": {
   "Type": "AWS::CodeDeploy::DeploymentGroup",
   "Properties": {
    "AlarmConfiguration": {
     "Alarms": [
      {
       "Name": {
        "Ref": "ClosetResolverFnAliasErrorsAlarmFFD2E07A"
       }
      }
     ],
     "Enabled": true
    },
    "ApplicationName": {
     "Ref": "ClosetResolverFnDeploymentGroupApplication6B92EE45"
    },
    "AutoRollbackConfiguration": {
     "Enabled": true,
     "Events": [
      "DEPLOYMENT_FAILURE",
      "DEPLOYMENT_STOP_ON_REQUEST",
      "DEPLOYMENT_STOP_ON_ALARM"
     ]
    },
    "DeploymentConfigName": "CodeDeployDefault.LambdaCanary10Percent5Minutes",
    "DeploymentStyle": {
     "DeploymentOption": "WITH_TRAFFIC_CONTROL",
     "DeploymentType": "BLUE_GREEN"
    },
    "ServiceRoleArn": {
     "Fn::GetAtt": [
      "ClosetResolverFnDeploymentGroupServiceRole3D5952DE",
      "Arn"
     ]
    },
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetResolverFnDeploymentGroup/Resource"
   }
  },
  "ClosetAdminFnServiceRole87F02459": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFn/ServiceRole/Resource"
   }
  },
  "ClosetAdminFnServiceRoleDefaultPolicy08DF50EF": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:GetItem",
        "dynamodb:Scan",
        "dynamodb:ConditionCheckItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::ImportValue": "DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::ImportValue": "DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "states:StartExecution",
       "Effect": "Allow",
       "Resource": {
        "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefClosetUploadApprovalSM46D354C9ED6F8513"
       }
      },
      {
       "Action": [
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:GetItem",
        "dynamodb:UpdateItem",
        "dynamodb:PutItem",
        "dynamodb:DeleteItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::ImportValue": "DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::ImportValue": "DataStack:ExportsOutputFnGetAttAppTable815C50BCArnF3D9E3C3"
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "states:SendTaskSuccess",
        "states:SendTaskFailure"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ClosetAdminFnServiceRoleDefaultPolicy08DF50EF",
    "Roles": [
     {
      "Ref": "ClosetAdminFnServiceRole87F02459"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFn/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "ClosetAdminFnB4D542CC": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": "cdk-hnb659fds-assets-637423256673-us-east-1",
     "S3Key": "4c8661a90fa63e1ceb9ed190df6417024837d3f5e72d5ee907920de30b70fcab.zip"
    },
    "Environment": {
     "Variables": {
      "ADMIN_GROUP_NAME": "ADMIN",
      "APPROVAL_SM_ARN": {
       "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefClosetUploadApprovalSM46D354C9ED6F8513"
      },
      "FAN_APPROVAL_SM_ARN": {
       "Fn::ImportValue": "BestiesClosetStack:ExportsOutputRefClosetUploadApprovalSM46D354C9ED6F8513"
      },
      "NODE_OPTIONS": "--enable-source-maps",
      "PK_NAME": "pk",
      "PUBLIC_UPLOADS_CDN": "",
      "SK_NAME": "sk",
      "STATUS_GSI": "gsi1",
      "TABLE_NAME": {
       "Fn::ImportValue": "DataStack:ExportsOutputRefAppTable815C50BC1988FCFB"
      }
     }
    },
    "Handler": "index.handler",
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "ClosetAdminFnServiceRole87F02459",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ],
    "Timeout": 10
   },
   "DependsOn": [
    "ClosetAdminFnServiceRoleDefaultPolicy08DF50EF",
    "ClosetAdminFnServiceRole87F02459"
   ],
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFn/Resource",
    "aws:asset:path": "asset.4c8661a90fa63e1ceb9ed190df6417024837d3f5e72d5ee907920de30b70fcab",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ClosetAdminFnCurrentVersionFAF5CD3De34e45939ddd1a8606ea184e439ea0f6": {
   "Type": "AWS::Lambda::Version",
   "Properties": {
    "FunctionName": {
     "Ref": "ClosetAdminFnB4D542CC"
    }
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFn/CurrentVersion/Resource",
    "aws:cdk:do-not-refactor": true
   }
  },
  "ClosetAdminFnLive19204595": {
   "Type": "AWS::Lambda::Alias",
   "Properties": {
    "FunctionName": {
     "Ref": "ClosetAdminFnB4D542CC"
    },
    "FunctionVersion": {
     "Fn::GetAtt": [
      "ClosetAdminFnCurrentVersionFAF5CD3De34e45939ddd1a8606ea184e439ea0f6",
      "Version"
     ]
    },
    "Name": "live"
   },
   "UpdatePolicy": {
    "CodeDeployLambdaAliasUpdate": {
     "ApplicationName": {
      "Ref": "ClosetAdminFnDeploymentGroupApplication6B0E5F1B"
     },
     "DeploymentGroupName": {
      "Ref": "ClosetAdminFnDeploymentGroup7B95AC28"
     }
    }
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFnLive/Resource"
   }
  },
  "ClosetAdminFnAliasErrorsAlarm510C0B72": {
   "Type": "AWS::CloudWatch::Alarm",
   "Properties": {
    "ComparisonOperator": "GreaterThanOrEqualToThreshold",
    "Dimensions": [
     {
      "Name": "FunctionName",
      "Value": {
       "Ref": "ClosetAdminFnB4D542CC"
      }
     },
     {
      "Name": "Resource",
      "Value": {
       "Fn::Join": [
        "",
        [
         {
          "Ref": "ClosetAdminFnB4D542CC"
         },
         ":live"
        ]
       ]
      }
     }
    ],
    "EvaluationPeriods": 1,
    "MetricName": "Errors",
    "Namespace": "AWS/Lambda",
    "Period": 60,
    "Statistic": "Sum",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ],
    "Threshold": 1
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFnAliasErrorsAlarm/Resource"
   }
  },
  "ClosetAdminFnDeploymentGroupServiceRole7FC4FFFE": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "codedeploy.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSCodeDeployRoleForLambdaLimited"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFnDeploymentGroup/ServiceRole/Resource"
   }
  },
  "ClosetAdminFnDeploymentGroupApplication6B0E5F1B": {
   "Type": "AWS::CodeDeploy::Application",
   "Properties": {
    "ComputePlatform": "Lambda",
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFnDeploymentGroup/Application/Resource"
   }
  },
  "ClosetAdminFnDeploymentGroup7B95AC28": {
   "Type": "AWS::CodeDeploy::DeploymentGroup",
   "Properties": {
    "AlarmConfiguration": {
     "Alarms": [
      {
       "Name": {
        "Ref": "ClosetAdminFnAliasErrorsAlarm510C0B72"
       }
      }
     ],
     "Enabled": true
    },
    "ApplicationName": {
     "Ref": "ClosetAdminFnDeploymentGroupApplication6B0E5F1B"
    },
    "AutoRollbackConfiguration": {
     "Enabled": true,
     "Events": [
      "DEPLOYMENT_FAILURE",
      "DEPLOYMENT_STOP_ON_REQUEST",
      "DEPLOYMENT_STOP_ON_ALARM"
     ]
    },
    "DeploymentConfigName": "CodeDeployDefault.LambdaCanary10Percent5Minutes",
    "DeploymentStyle": {
     "DeploymentOption": "WITH_TRAFFIC_CONTROL",
     "DeploymentType": "BLUE_GREEN"
    },
    "ServiceRoleArn": {
     "Fn::GetAtt": [
      "ClosetAdminFnDeploymentGroupServiceRole7FC4FFFE",
      "Arn"
     ]
    },
    "Tags": [
     {
      "Key": "App",
      "Value": "stylingadventures"
     },
     {
      "Key": "Env",
      "Value": "dev"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/ClosetAdminFnDeploymentGroup/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/12RT08CMRDFP4v3MuLixeOCkQtBBOOVDG2BQv/ZaSFks9/dtLugcnq/1+nMpK8VVNUIhg94pgEXx4FWG2hWEfmR4ZnWjbhYNE5s4BM3Wo6RJEPv6WI5NNOAfv+ta6/YZGuL+5j9dyu+lwbZDM1G4CtGXLkUuMw3/rilJKdPMuTjG8+dlb93WqbQQLN0ujQXXTit+CXbjlqmy561dUIeCOZF3pLlUTnLaLRGIhkJ6iyMRtCMEz/KWJ7VYZ7W0XUaNJOtvQ25wZcMlHWytVestULKBwVaxrVL4oyR76GpNQbT1TCYlnEnpJBeuws0fTrFGWnjNLjk+8xq77XiGPtVd/aup21LlCXT8sZVxJ2yO8YTRWfWoS8SLII7KZETL5VbV/8BV35P0afYshwoHOjxVA3h6QWeHw6k1CAkG5WRsOz0B0NOyuhLAgAA"
   },
   "Metadata": {
    "aws:cdk:path": "ApiStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "GraphQlApiUrl": {
   "Value": {
    "Fn::GetAtt": [
     "StylingApiC401F041",
     "GraphQLUrl"
    ]
   }
  },
  "GraphQlApiId": {
   "Value": {
    "Fn::GetAtt": [
     "StylingApiC401F041",
     "ApiId"
    ]
   }
  },
  "CreatorMediaBucketName": {
   "Value": {
    "Ref": "CreatorMediaBucket07B47A03"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}