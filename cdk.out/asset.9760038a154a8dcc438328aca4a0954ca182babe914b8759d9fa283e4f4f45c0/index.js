"use strict";var OC=Object.create;var eo=Object.defineProperty;var DC=Object.getOwnPropertyDescriptor;var MC=Object.getOwnPropertyNames;var kC=Object.getPrototypeOf,FC=Object.prototype.hasOwnProperty;var x=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),it=(e,t)=>{for(var r in t)eo(e,r,{get:t[r],enumerable:!0})},ph=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of MC(t))!FC.call(e,s)&&s!==r&&eo(e,s,{get:()=>t[s],enumerable:!(n=DC(t,s))||n.enumerable});return e};var I=(e,t,r)=>(r=e!=null?OC(kC(e)):{},ph(t||!e||!e.__esModule?eo(r,"default",{value:e,enumerable:!0}):r,e)),le=e=>ph(eo({},"__esModule",{value:!0}),e);var ir=P(pe=>{"use strict";pe.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(pe.HttpAuthLocation||(pe.HttpAuthLocation={}));pe.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(pe.HttpApiKeyAuthLocation||(pe.HttpApiKeyAuthLocation={}));pe.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(pe.EndpointURLScheme||(pe.EndpointURLScheme={}));pe.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(pe.AlgorithmId||(pe.AlgorithmId={}));var LC=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>pe.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>pe.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},$C=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},UC=e=>LC(e),zC=e=>$C(e);pe.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(pe.FieldPosition||(pe.FieldPosition={}));var HC="__smithy_context";pe.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(pe.IniSectionType||(pe.IniSectionType={}));pe.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(pe.RequestHandlerProtocol||(pe.RequestHandlerProtocol={}));pe.SMITHY_CONTEXT_KEY=HC;pe.getDefaultClientConfiguration=UC;pe.resolveDefaultRuntimeConfig=zC});var he=P(or=>{"use strict";var jC=ir(),BC=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){var n;(n=e.httpHandler)==null||n.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),qC=e=>({httpHandler:e.httpHandler()}),cl=class{name;kind;values;constructor({name:t,kind:r=jC.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},dl=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},ll=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=VC(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function VC(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var ul=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function GC(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}or.Field=cl;or.Fields=dl;or.HttpRequest=ll;or.HttpResponse=ul;or.getHttpHandlerExtensionConfiguration=BC;or.isValidHostname=GC;or.resolveHttpHandlerRuntimeConfig=qC});var Ss=P(gs=>{"use strict";var WC=he();function KC(e){return e}var hh=e=>t=>async r=>{if(!WC.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},gh={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},JC=e=>({applyToStack:t=>{t.add(hh(e),gh)}});gs.getHostHeaderPlugin=JC;gs.hostHeaderMiddleware=hh;gs.hostHeaderMiddlewareOptions=gh;gs.resolveHostHeaderConfig=KC});var ys=P(to=>{"use strict";var Sh=()=>(e,t)=>async r=>{var n,s;try{let i=await e(r),{clientName:o,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:p}=l,g=f??t.inputFilterSensitiveLog,h=p??t.outputFilterSensitiveLog,{$metadata:y,...w}=i.output;return(n=d==null?void 0:d.info)==null||n.call(d,{clientName:o,commandName:a,input:g(r.input),output:h(w),metadata:y}),i}catch(i){let{clientName:o,commandName:a,logger:d,dynamoDbDocumentClientOptions:l={}}=t,{overrideInputFilterSensitiveLog:f}=l,p=f??t.inputFilterSensitiveLog;throw(s=d==null?void 0:d.error)==null||s.call(d,{clientName:o,commandName:a,input:p(r.input),error:i,metadata:i.$metadata}),i}},yh={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},YC=e=>({applyToStack:t=>{t.add(Sh(),yh)}});to.getLoggerPlugin=YC;to.loggerMiddleware=Sh;to.loggerMiddlewareOptions=yh});var _h=P(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.InvokeStore=void 0;var XC=require("async_hooks"),ml=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";ml||(globalThis.awslambda=globalThis.awslambda||{});var QC={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},fl=class{static storage=new XC.AsyncLocalStorage;static PROTECTED_KEYS=QC;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){let r=this.storage.getStore();return r==null?void 0:r[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},ro,Eh;!ml&&((Eh=globalThis.awslambda)!=null&&Eh.InvokeStore)?ro=globalThis.awslambda.InvokeStore:(ro=fl,!ml&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=ro));no.InvokeStore=ro});var wh=P(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.recursionDetectionMiddleware=void 0;var ZC=_h(),eR=he(),pl="X-Amzn-Trace-Id",tR="AWS_LAMBDA_FUNCTION_NAME",rR="_X_AMZN_TRACE_ID",nR=()=>e=>async t=>{let{request:r}=t;if(!eR.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===pl.toLowerCase())??pl;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[tR],i=process.env[rR],a=ZC.InvokeStore.getXRayTraceId()??i,d=l=>typeof l=="string"&&l.length>0;return d(s)&&d(a)&&(r.headers[pl]=a),e({...t,request:r})};so.recursionDetectionMiddleware=nR});var Es=P(io=>{"use strict";var hl=wh(),sR={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},iR=e=>({applyToStack:t=>{t.add(hl.recursionDetectionMiddleware(),sR)}});io.getRecursionDetectionPlugin=iR;Object.keys(hl).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(io,e)&&Object.defineProperty(io,e,{enumerable:!0,get:function(){return hl[e]}})})});var gl,oR,bh=x(()=>{gl=I(ir()),oR=e=>e[gl.SMITHY_CONTEXT_KEY]||(e[gl.SMITHY_CONTEXT_KEY]={})});var Ke=P(Sl=>{"use strict";var xh=ir(),aR=e=>e[xh.SMITHY_CONTEXT_KEY]||(e[xh.SMITHY_CONTEXT_KEY]={}),cR=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Sl.getSmithyContext=aR;Sl.normalizeProvider=cR});var Th,vh=x(()=>{Th=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function dR(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var Ih,_s,oo=x(()=>{Ih=I(Ke());vh();_s=(e,t)=>(r,n)=>async s=>{var p;let i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=e.authSchemePreference?await e.authSchemePreference():[],a=Th(i,o),d=dR(e.httpAuthSchemes),l=(0,Ih.getSmithyContext)(n),f=[];for(let g of a){let h=d.get(g.schemeId);if(!h){f.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}let y=h.identityProvider(await t.identityProviderConfigProvider(e));if(!y){f.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:w={},signingProperties:v={}}=((p=g.propertiesExtractor)==null?void 0:p.call(g,e,n))||{};g.identityProperties=Object.assign(g.identityProperties||{},w),g.signingProperties=Object.assign(g.signingProperties||{},v),l.selectedHttpAuthScheme={httpAuthOption:g,identity:await y(g.identityProperties),signer:h.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(f.join(`
`));return r(s)}});var Ah,ws,Ch=x(()=>{oo();Ah={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},ws=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(_s(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Ah)}})});var ar=P(yn=>{"use strict";var lR=he(),Rh=(e,t)=>(r,n)=>async s=>{var o,a,d,l;let{response:i}=await r(s);try{let f=await t(i,e);return{response:i,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:i}),!("$metadata"in f)){let p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+p}catch{!n.logger||((a=(o=n.logger)==null?void 0:o.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(p):(l=(d=n.logger)==null?void 0:d.warn)==null||l.call(d,p)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(lR.HttpResponse.isInstance(i)){let{headers:g={}}=i,h=Object.entries(g);f.$metadata={httpStatusCode:i.statusCode,requestId:yl(/^x-[\w-]+-request-?id$/,h),extendedRequestId:yl(/^x-[\w-]+-id-2$/,h),cfId:yl(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw f}},yl=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],Nh=(e,t)=>(r,n)=>async s=>{var d;let i=e,o=(d=n.endpointV2)!=null&&d.url&&i.urlParser?async()=>i.urlParser(n.endpointV2.url):i.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:o});return r({...s,request:a})},Ph={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Oh={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function uR(e,t,r){return{applyToStack:n=>{n.add(Rh(e,r),Ph),n.add(Nh(e,t),Oh)}}}yn.deserializerMiddleware=Rh;yn.deserializerMiddlewareOption=Ph;yn.getSerdePlugin=uR;yn.serializerMiddleware=Nh;yn.serializerMiddlewareOption=Oh});var Dh,Mh,mR,kh=x(()=>{Dh=I(ar());oo();Mh={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Dh.serializerMiddlewareOption.name},mR=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(_s(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Mh)}})});var Fh=x(()=>{oo();Ch();kh()});var Lh,$h,fR,pR,El,_l=x(()=>{Lh=I(he()),$h=I(Ke()),fR=e=>t=>{throw t},pR=(e,t)=>{},El=e=>(t,r)=>async n=>{if(!Lh.HttpRequest.isInstance(n.request))return t(n);let i=(0,$h.getSmithyContext)(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:d}=i,l=await t({...n,request:await d.sign(n.request,a,o)}).catch((d.errorHandler||fR)(o));return(d.successHandler||pR)(l.response,o),l}});var Uh,bs,zh=x(()=>{_l();Uh={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},bs=e=>({applyToStack:t=>{t.addRelativeTo(El(e),Uh)}})});var Hh=x(()=>{_l();zh()});var cr,jh=x(()=>{cr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function Bh(e,t,r,n,s){return async function*(o,a,...d){let l=a,f=o.startingToken??l[r],p=!0,g;for(;p;){if(l[r]=f,s&&(l[s]=l[s]??o.pageSize),o.client instanceof e)g=await hR(t,o.client,a,o.withCommand,...d);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let h=f;f=gR(g,n),p=!!(f&&(!o.stopOnSameToken||f!==h))}return void 0}}var hR,gR,qh=x(()=>{hR=async(e,t,r,n=i=>i,...s)=>{let i=new e(r);return i=n(i)??i,await t.send(i,...s)};gR=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var wl=P(Vh=>{"use strict";var SR=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";Vh.isArrayBuffer=SR});var En=P(xl=>{"use strict";var yR=wl(),bl=require("buffer"),ER=(e,t=0,r=e.byteLength-t)=>{if(!yR.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return bl.Buffer.from(e,t,r)},_R=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?bl.Buffer.from(e,t):bl.Buffer.from(e)};xl.fromArrayBuffer=ER;xl.fromString=_R});var Gh=P(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.fromBase64=void 0;var wR=En(),bR=/^[A-Za-z0-9+/]*={0,2}$/,xR=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!bR.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,wR.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};ao.fromBase64=xR});var Oe=P(co=>{"use strict";var Wh=En(),Kh=e=>{let t=Wh.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},TR=e=>typeof e=="string"?Kh(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),vR=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Wh.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};co.fromUtf8=Kh;co.toUint8Array=TR;co.toUtf8=vR});var Jh=P(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.toBase64=void 0;var IR=En(),AR=Oe(),CR=e=>{let t;if(typeof e=="string"?t=(0,AR.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,IR.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};lo.toBase64=CR});var De=P(xs=>{"use strict";var Yh=Gh(),Xh=Jh();Object.keys(Yh).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xs,e)&&Object.defineProperty(xs,e,{enumerable:!0,get:function(){return Yh[e]}})});Object.keys(Xh).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(xs,e)&&Object.defineProperty(xs,e,{enumerable:!0,get:function(){return Xh[e]}})})});var vl=P(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.ChecksumStream=void 0;var RR=De(),NR=require("stream"),Tl=class extends NR.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:i}){var o;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${((o=n==null?void 0:n.constructor)==null?void 0:o.name)??n} in ChecksumStream.`);this.base64Encoder=i??RR.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};uo.ChecksumStream=Tl});var dr=P(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.isBlob=_n.isReadableStream=void 0;var PR=e=>{var t;return typeof ReadableStream=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===ReadableStream.name||e instanceof ReadableStream)};_n.isReadableStream=PR;var OR=e=>{var t;return typeof Blob=="function"&&(((t=e==null?void 0:e.constructor)==null?void 0:t.name)===Blob.name||e instanceof Blob)};_n.isBlob=OR});var Qh=P(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.ChecksumStream=void 0;var DR=typeof ReadableStream=="function"?ReadableStream:function(){},Il=class extends DR{};mo.ChecksumStream=Il});var Zh=P(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.createChecksumStream=void 0;var MR=De(),kR=dr(),FR=Qh(),LR=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{var d;if(!(0,kR.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${((d=r==null?void 0:r.constructor)==null?void 0:d.name)??r} in ChecksumStream.`);let i=s??MR.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let o=new TransformStream({start(){},async transform(l,f){t.update(l),f.enqueue(l)},async flush(l){let f=await t.digest(),p=i(f);if(e!==p){let g=new Error(`Checksum mismatch: expected "${e}" but received "${p}" in response header "${n}".`);l.error(g)}else l.terminate()}});r.pipeThrough(o);let a=o.readable;return Object.setPrototypeOf(a,FR.ChecksumStream.prototype),a};fo.createChecksumStream=LR});var eg=P(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.createChecksumStream=HR;var $R=dr(),UR=vl(),zR=Zh();function HR(e){return typeof ReadableStream=="function"&&(0,$R.isReadableStream)(e.source)?(0,zR.createChecksumStream)(e):new UR.ChecksumStream(e)}});var Rl=P(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.ByteArrayCollector=void 0;var Cl=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};po.ByteArrayCollector=Cl});var sg=P(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.createBufferedReadable=void 0;kt.createBufferedReadableStream=tg;kt.merge=rg;kt.flush=ho;kt.sizeOf=wn;kt.modeOf=ng;var jR=Rl();function tg(e,t,r){let n=e.getReader(),s=!1,i=0,o=["",new jR.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,d=async l=>{let{value:f,done:p}=await n.read(),g=f;if(p){if(a!==-1){let h=ho(o,a);wn(h)>0&&l.enqueue(h)}l.close()}else{let h=ng(g,!1);if(a!==h&&(a>=0&&l.enqueue(ho(o,a)),a=h),a===-1){l.enqueue(g);return}let y=wn(g);i+=y;let w=wn(o[a]);if(y>=t&&w===0)l.enqueue(g);else{let v=rg(o,a,g);!s&&i>t*2&&(s=!0,r==null||r.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${t}, automatically buffering.`)),v>=t?l.enqueue(ho(o,a)):await d(l)}}};return new ReadableStream({pull:d})}kt.createBufferedReadable=tg;function rg(e,t,r){switch(t){case 0:return e[0]+=r,wn(e[0]);case 1:case 2:return e[t].push(r),wn(e[t])}}function ho(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function wn(e){return(e==null?void 0:e.byteLength)??(e==null?void 0:e.length)??0}function ng(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var og=P(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.createBufferedReadable=VR;var BR=require("node:stream"),ig=Rl(),Ft=sg(),qR=dr();function VR(e,t,r){if((0,qR.isReadableStream)(e))return(0,Ft.createBufferedReadableStream)(e,t,r);let n=new BR.Readable({read(){}}),s=!1,i=0,o=["",new ig.ByteArrayCollector(d=>new Uint8Array(d)),new ig.ByteArrayCollector(d=>Buffer.from(new Uint8Array(d)))],a=-1;return e.on("data",d=>{let l=(0,Ft.modeOf)(d,!0);if(a!==l&&(a>=0&&n.push((0,Ft.flush)(o,a)),a=l),a===-1){n.push(d);return}let f=(0,Ft.sizeOf)(d);i+=f;let p=(0,Ft.sizeOf)(o[a]);if(f>=t&&p===0)n.push(d);else{let g=(0,Ft.merge)(o,a,d);!s&&i>t*2&&(s=!0,r==null||r.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${t}, automatically buffering.`)),g>=t&&n.push((0,Ft.flush)(o,a))}}),e.on("end",()=>{if(a!==-1){let d=(0,Ft.flush)(o,a);(0,Ft.sizeOf)(d)>0&&n.push(d)}n.push(null)}),n}});var ag=P(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.getAwsChunkedEncodingStream=void 0;var GR=require("stream"),WR=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=t,a=r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,d=a?o(s,e):void 0,l=new GR.Readable({read:()=>{}});return e.on("data",f=>{let p=n(f)||0;l.push(`${p.toString(16)}\r
`),l.push(f),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let f=r(await d);l.push(`${i}:${f}\r
`),l.push(`\r
`)}l.push(null)}),l};go.getAwsChunkedEncodingStream=WR});var cg=P(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.headStream=KR;async function KR(e,t){let r=0,n=[],s=e.getReader(),i=!1;for(;!i;){let{done:d,value:l}=await s.read();if(l&&(n.push(l),r+=(l==null?void 0:l.byteLength)??0),r>=t)break;i=d}s.releaseLock();let o=new Uint8Array(Math.min(t,r)),a=0;for(let d of n){if(d.byteLength>o.byteLength-a){o.set(d.subarray(0,o.byteLength-a),a);break}else o.set(d,a);a+=d.length}return o}});var dg=P(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.headStream=void 0;var JR=require("stream"),YR=cg(),XR=dr(),QR=(e,t)=>(0,XR.isReadableStream)(e)?(0,YR.headStream)(e,t):new Promise((r,n)=>{let s=new Ol;s.limit=t,e.pipe(s),e.on("error",i=>{s.end(),n(i)}),s.on("error",n),s.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.buffers));r(i)})});So.headStream=QR;var Ol=class extends JR.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,i=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=i.subarray(0,i.byteLength-s),this.emit("finish")}n()}}});var Ml=P(Dl=>{"use strict";var lg=e=>encodeURIComponent(e).replace(/[!'()*]/g,ZR),ZR=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,eN=e=>e.split("/").map(lg).join("/");Dl.escapeUri=lg;Dl.escapeUriPath=eN});var Fl=P(ug=>{"use strict";var kl=Ml();function tN(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=kl.escapeUri(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)t.push(`${r}=${kl.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${kl.escapeUri(n)}`),t.push(s)}}return t.join("&")}ug.buildQueryString=tN});var Vr=P(Ts=>{"use strict";var hg=he(),gg=Fl(),Ll=require("http"),$l=require("https"),Sg=require("stream"),Ul=require("http2"),rN=["ECONNRESET","EPIPE","ETIMEDOUT"],yg=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},Be={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},mg=1e3,nN=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let i=Be.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),o=a=>{a!=null&&a.connecting?a.on("connect",()=>{Be.clearTimeout(i)}):Be.clearTimeout(i)};e.socket?o(e.socket):e.on("socket",o)};return r<2e3?(n(0),0):Be.setTimeout(n.bind(null,mg),mg)},sN=(e,t,r=0,n,s)=>r?Be.setTimeout(()=>{var o;let i=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let a=Object.assign(new Error(i),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(a),t(a)}else i+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",(o=s==null?void 0:s.warn)==null||o.call(s,i)},r):-1,iN=3e3,oN=(e,{keepAlive:t,keepAliveMsecs:r},n=iN)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",i=>{i.setKeepAlive(t,r||0)})};return n===0?(s(),0):Be.setTimeout(s,n)},fg=3e3,aN=(e,t,r=0)=>{let n=s=>{let i=r-s,o=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(i,o),e.on("close",()=>{var a;return(a=e.socket)==null?void 0:a.removeListener("timeout",o)})):e.setTimeout(i,o)};return 0<r&&r<6e3?(n(0),0):Be.setTimeout(n.bind(null,r===0?0:fg),fg)},pg=6e3;async function Eg(e,t,r=pg){let n=t.headers??{},s=n.Expect||n.expect,i=-1,o=!0;s==="100-continue"&&(o=await Promise.race([new Promise(a=>{i=Number(Be.setTimeout(()=>a(!0),Math.max(pg,r)))}),new Promise(a=>{e.on("continue",()=>{Be.clearTimeout(i),a(!0)}),e.on("response",()=>{Be.clearTimeout(i),a(!1)}),e.on("error",()=>{Be.clearTimeout(i),a(!1)})})])),o&&cN(e,t.body)}function cN(e,t){if(t instanceof Sg.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var dN=0,zl=class e{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){var d,l,f;let{sockets:s,requests:i,maxSockets:o}=t;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(s&&i)for(let p in s){let g=((d=s[p])==null?void 0:d.length)??0,h=((l=i[p])==null?void 0:l.length)??0;if(g>=o&&h>=2*o)return(f=n==null?void 0:n.warn)==null||f.call(n,`@smithy/node-http-handler:WARN - socket usage at capacity=${g} and ${h} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:i,httpAgent:o,httpsAgent:a,throwOnRequestTimeout:d}=t||{},l=!0,f=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:i,throwOnRequestTimeout:d,httpAgent:o instanceof Ll.Agent||typeof(o==null?void 0:o.destroy)=="function"?o:new Ll.Agent({keepAlive:l,maxSockets:f,...o}),httpsAgent:a instanceof $l.Agent||typeof(a==null?void 0:a.destroy)=="function"?a:new $l.Agent({keepAlive:l,maxSockets:f,...a}),logger:console}}destroy(){var t,r,n,s;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,i)=>{let o,a=[],d=async U=>{await o,a.forEach(Be.clearTimeout),s(U)},l=async U=>{await o,a.forEach(Be.clearTimeout),i(U)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let U=new Error("Request aborted");U.name="AbortError",l(U);return}let f=t.protocol==="https:",p=f?this.config.httpsAgent:this.config.httpAgent;a.push(Be.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(p,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let g=gg.buildQueryString(t.query||{}),h;if(t.username!=null||t.password!=null){let U=t.username??"",J=t.password??"";h=`${U}:${J}`}let y=t.path;g&&(y+=`?${g}`),t.fragment&&(y+=`#${t.fragment}`);let w=t.hostname??"";w[0]==="["&&w.endsWith("]")?w=t.hostname.slice(1,-1):w=t.hostname;let v={headers:t.headers,host:w,method:t.method,path:y,port:t.port,agent:p,auth:h},O=(f?$l.request:Ll.request)(v,U=>{let J=new hg.HttpResponse({statusCode:U.statusCode||-1,reason:U.statusMessage,headers:yg(U.headers),body:U});d({response:J})});if(O.on("error",U=>{rN.includes(U.code)?l(Object.assign(U,{name:"TimeoutError"})):l(U)}),r){let U=()=>{O.destroy();let J=new Error("Request aborted");J.name="AbortError",l(J)};if(typeof r.addEventListener=="function"){let J=r;J.addEventListener("abort",U,{once:!0}),O.once("close",()=>J.removeEventListener("abort",U))}else r.onabort=U}let D=n??this.config.requestTimeout;a.push(nN(O,l,this.config.connectionTimeout)),a.push(sN(O,l,D,this.config.throwOnRequestTimeout,this.config.logger??console)),a.push(aN(O,l,this.config.socketTimeout));let j=v.agent;typeof j=="object"&&"keepAlive"in j&&a.push(oN(O,{keepAlive:j.keepAlive,keepAliveMsecs:j.keepAliveMsecs})),o=Eg(O,t,D).catch(U=>(a.forEach(Be.clearTimeout),i(U)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Hl=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},jl=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let d=s.poll();if(d&&!this.config.disableConcurrency)return d}let i=Ul.connect(n);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},d=>{if(d)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let o=()=>{i.destroy(),this.deleteSession(n,i)};i.on("goaway",o),i.on("error",o),i.on("frameError",o),i.on("close",()=>this.deleteSession(n,i)),r.requestTimeout&&i.setTimeout(r.requestTimeout,o);let a=this.sessionCache.get(n)||new Hl;return a.offerLast(i),this.sessionCache.set(n,a),i}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var s;let n=this.getUrlString(t);(s=this.sessionCache.get(n))==null||s.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Bl=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new jl({});static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:i}=this.config,o=n??s;return new Promise((a,d)=>{var rr;let l=!1,f,p=async ae=>{await f,a(ae)},g=async ae=>{await f,d(ae)};if(r!=null&&r.aborted){l=!0;let ae=new Error("Request aborted");ae.name="AbortError",g(ae);return}let{hostname:h,method:y,port:w,protocol:v,query:R}=t,O="";if(t.username!=null||t.password!=null){let ae=t.username??"",Le=t.password??"";O=`${ae}:${Le}@`}let D=`${v}//${O}${h}${w?`:${w}`:""}`,j={destination:new URL(D)},U=this.connectionManager.lease(j,{requestTimeout:(rr=this.config)==null?void 0:rr.sessionTimeout,disableConcurrentStreams:i||!1}),J=ae=>{i&&this.destroySession(U),l=!0,g(ae)},ge=gg.buildQueryString(R||{}),We=t.path;ge&&(We+=`?${ge}`),t.fragment&&(We+=`#${t.fragment}`);let Se=U.request({...t.headers,[Ul.constants.HTTP2_HEADER_PATH]:We,[Ul.constants.HTTP2_HEADER_METHOD]:y});if(U.ref(),Se.on("response",ae=>{let Le=new hg.HttpResponse({statusCode:ae[":status"]||-1,headers:yg(ae),body:Se});l=!0,p({response:Le}),i&&(U.close(),this.connectionManager.deleteSession(D,U))}),o&&Se.setTimeout(o,()=>{Se.close();let ae=new Error(`Stream timed out because of no activity for ${o} ms`);ae.name="TimeoutError",J(ae)}),r){let ae=()=>{Se.close();let Le=new Error("Request aborted");Le.name="AbortError",J(Le)};if(typeof r.addEventListener=="function"){let Le=r;Le.addEventListener("abort",ae,{once:!0}),Se.once("close",()=>Le.removeEventListener("abort",ae))}else r.onabort=ae}Se.on("frameError",(ae,Le,sl)=>{J(new Error(`Frame type id ${ae} in stream id ${sl} has failed with code ${Le}.`))}),Se.on("error",J),Se.on("aborted",()=>{J(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Se.rstCode}.`))}),Se.on("close",()=>{U.unref(),i&&U.destroy(),l||J(new Error("Unexpected error: http2 request did not get a response"))}),f=Eg(Se,t,o)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},ql=class extends Sg.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},lN=e=>uN(e)?mN(e):new Promise((t,r)=>{let n=new ql;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),uN=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function mN(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}Ts.DEFAULT_REQUEST_TIMEOUT=dN;Ts.NodeHttp2Handler=Bl;Ts.NodeHttpHandler=zl;Ts.streamCollector=lN});var bg=P(Eo=>{"use strict";var _g=he(),fN=Fl(),pN=De();function wg(e,t){return new Request(e,t)}function hN(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var yo={supported:void 0},Vl=class e{config;configProvider;static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),yo.supported===void 0&&(yo.supported=typeof Request<"u"&&"keepalive"in wg("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){var O;this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(r!=null&&r.aborted){let D=new Error("Request aborted");return D.name="AbortError",Promise.reject(D)}let a=t.path,d=fN.buildQueryString(t.query||{});d&&(a+=`?${d}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let D=t.username??"",j=t.password??"";l=`${D}:${j}@`}let{port:f,method:p}=t,g=`${t.protocol}//${l}${t.hostname}${f?`:${f}`:""}${a}`,h=p==="GET"||p==="HEAD"?void 0:t.body,y={body:h,headers:new Headers(t.headers),method:p,credentials:o};(O=this.config)!=null&&O.cache&&(y.cache=this.config.cache),h&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),yo.supported&&(y.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(t));let w=()=>{},v=wg(g,y),R=[fetch(v).then(D=>{let j=D.headers,U={};for(let ge of j.entries())U[ge[0]]=ge[1];return D.body!=null?{response:new _g.HttpResponse({headers:U,reason:D.statusText,statusCode:D.status,body:D.body})}:D.blob().then(ge=>({response:new _g.HttpResponse({headers:U,reason:D.statusText,statusCode:D.status,body:ge})}))}),hN(s)];return r&&R.push(new Promise((D,j)=>{let U=()=>{let J=new Error("Request aborted");J.name="AbortError",j(J)};if(typeof r.addEventListener=="function"){let J=r;J.addEventListener("abort",U,{once:!0}),w=()=>J.removeEventListener("abort",U)}else r.onabort=U})),Promise.race(R).finally(w)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},gN=async e=>{var t;return typeof Blob=="function"&&e instanceof Blob||((t=e.constructor)==null?void 0:t.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):SN(e):yN(e)};async function SN(e){let t=await EN(e),r=pN.fromBase64(t);return new Uint8Array(r)}async function yN(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=a}let i=new Uint8Array(s),o=0;for(let a of t)i.set(a,o),o+=a.length;return i}function EN(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;t(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}Eo.FetchHttpHandler=Vl;Eo.keepAliveSupport=yo;Eo.streamCollector=gN});var Kl=P(Wl=>{"use strict";var xg={},Gl={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),xg[e]=t,Gl[t]=e}function _N(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Gl)t[r/2]=Gl[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function wN(e){let t="";for(let r=0;r<e.byteLength;r++)t+=xg[e[r]];return t}Wl.fromHex=_N;Wl.toHex=wN});var Ag=P(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.sdkStreamMixin=void 0;var bN=bg(),xN=De(),TN=Kl(),vN=Oe(),Tg=dr(),vg="The stream has already been transformed.",IN=e=>{var s,i;if(!Ig(e)&&!(0,Tg.isReadableStream)(e)){let o=((i=(s=e==null?void 0:e.__proto__)==null?void 0:s.constructor)==null?void 0:i.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(vg);return t=!0,await(0,bN.streamCollector)(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let a=await r();if(o==="base64")return(0,xN.toBase64)(a);if(o==="hex")return(0,TN.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,vN.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(vg);if(t=!0,Ig(e))return n(e);if((0,Tg.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};_o.sdkStreamMixin=IN;var Ig=e=>typeof Blob=="function"&&e instanceof Blob});var Rg=P(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.sdkStreamMixin=void 0;var AN=Vr(),CN=En(),Jl=require("stream"),RN=Ag(),Cg="The stream has already been transformed.",NN=e=>{var n,s;if(!(e instanceof Jl.Readable))try{return(0,RN.sdkStreamMixin)(e)}catch{let o=((s=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(Cg);return t=!0,await(0,AN.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async i=>{let o=await r();return i===void 0||Buffer.isEncoding(i)?(0,CN.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(i):new TextDecoder(i).decode(o)},transformToWebStream:()=>{if(t)throw new Error(Cg);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Jl.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Jl.Readable.toWeb(e)}})};wo.sdkStreamMixin=NN});var Ng=P(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.splitStream=PN;async function PN(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Dg=P(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.splitStream=DN;var Pg=require("stream"),ON=Ng(),Og=dr();async function DN(e){if((0,Og.isReadableStream)(e)||(0,Og.isBlob)(e))return(0,ON.splitStream)(e);let t=new Pg.PassThrough,r=new Pg.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var bo=P(Re=>{"use strict";var jg=De(),Bg=Oe(),Mg=vl(),kg=eg(),Fg=og(),Lg=ag(),$g=dg(),Ug=Rg(),zg=Dg(),Hg=dr();function MN(e,t="utf-8"){return t==="base64"?jg.toBase64(e):Bg.toUtf8(e)}function kN(e,t){return t==="base64"?vs.mutate(jg.fromBase64(e)):vs.mutate(Bg.fromUtf8(e))}var vs=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return kN(t,r);throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return MN(this,t)}};Re.Uint8ArrayBlobAdapter=vs;Object.keys(Mg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return Mg[e]}})});Object.keys(kg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return kg[e]}})});Object.keys(Fg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return Fg[e]}})});Object.keys(Lg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return Lg[e]}})});Object.keys($g).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return $g[e]}})});Object.keys(Ug).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return Ug[e]}})});Object.keys(zg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return zg[e]}})});Object.keys(Hg).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Re,e)&&Object.defineProperty(Re,e,{enumerable:!0,get:function(){return Hg[e]}})})});var xo,St,To=x(()=>{xo=I(bo()),St=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return xo.Uint8ArrayBlobAdapter.mutate(e);if(!e)return xo.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return xo.Uint8ArrayBlobAdapter.mutate(await r)}});function Tt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var vo=x(()=>{});var ot,Ql=x(()=>{ot=e=>typeof e=="function"?e():e});var ye,Lt=x(()=>{ye=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var lr,Zl,Io=x(()=>{Lt();lr=class e extends ye{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},Zl=(e,t,r,n,s)=>ye.assign(new lr,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var Ao,eu,tu=x(()=>{Lt();Io();Ao=class e extends lr{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},eu=(e,t,r,n,s,i)=>ye.assign(new Ao,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});var bn,ru,nu=x(()=>{Lt();bn=class e extends ye{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},ru=(e,t,r,n)=>ye.assign(new bn,{name:t,namespace:e,traits:r,valueSchema:n})});var xn,su,iu=x(()=>{Lt();xn=class e extends ye{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},su=(e,t,r,n,s)=>ye.assign(new xn,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var Co,ou,au=x(()=>{Lt();Co=class e extends ye{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},ou=(e,t,r,n,s)=>ye.assign(new Co,{name:t,namespace:e,traits:r,input:n,output:s})});var Is,FN,cu,du=x(()=>{Lt();Is=class e extends ye{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},FN=(e,t,r,n)=>ye.assign(new Is,{name:t,namespace:e,traits:n,schemaRef:r}),cu=(e,t,r,n)=>ye.assign(new Is,{name:t,namespace:e,traits:r,schemaRef:n})});function ur(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var lu=x(()=>{});function As(e,t){if(e instanceof $)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=$;return new r(e,t)}function Tn(e){let[t,...r]=e;return{0:cu,1:ru,2:su,3:Zl,[-3]:eu,9:ou}[t].call(null,...r)}var $,uu,vn,Ro=x(()=>{Ql();tu();nu();iu();au();Lt();du();Io();lu();$=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){var o,a,d;this.ref=t,this.memberName=r;let n=[],s=t,i=t;for(this._isMemberSchema=!1;uu(s);)n.push(s[1]),s=s[0],i=ot(s),this._isMemberSchema=!0;if(vn(i)&&(i=Tn(i)),n.length>0){this.memberTraits={};for(let l=n.length-1;l>=0;--l){let f=n[l];Object.assign(this.memberTraits,ur(f))}}else this.memberTraits=0;if(i instanceof e){let l=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},l,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=ot(i),this.schema&&typeof this.schema=="object"?this.traits=((o=this.schema)==null?void 0:o.traits)??{}:this.traits=0,this.name=(this.schema instanceof ye?(d=(a=this.schema).getName)==null?void 0:d.call(a):void 0)??this.memberName??String(i),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){return ye[Symbol.hasInstance].bind(this)(t)}static of(t){let r=ot(t);if(r instanceof e)return r;if(uu(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),ur(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){var t;return ot(((t=this.schema)==null?void 0:t.schemaRef)??this.schema)}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t instanceof bn}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t instanceof xn}isStructSchema(){let t=this.getSchema();return t!==null&&typeof t=="object"&&"members"in t||t instanceof lr}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=i=>(i&4)===4||!!(i!=null&&i.idempotencyToken),{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return ur(this.memberTraits)}getOwnTraits(){return ur(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:(n==null?void 0:n.keySchema)??0;return As([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t.valueSchema:r?15:void 0;if(i!=null)return As([i,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r.memberNames.includes(t)){let n=r.memberNames.indexOf(t),s=r.memberList[n];return As(uu(s)?s:[s,0],t)}if(this.isDocumentSchema())return As([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t.memberNames.length;++r)yield[t.memberNames[r],As([t.memberList[r],0],t.memberNames[r])]}};uu=e=>Array.isArray(e)&&e.length===2,vn=e=>Array.isArray(e)&&e.length>=5});var qg,Vg,Gg,mu,Wg=x(()=>{qg=I(he()),Vg=I(Ke());Ro();Gg=e=>(t,r)=>async n=>{var o,a,d,l;let{response:s}=await t(n),{operationSchema:i}=(0,Vg.getSmithyContext)(r);vn(i)&&(i=Tn(i));try{let f=await e.protocol.deserializeResponse(i,{...e,...r},s);return{response:s,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:s}),!("$metadata"in f)){let p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+p}catch{!r.logger||((a=(o=r.logger)==null?void 0:o.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(p):(l=(d=r.logger)==null?void 0:d.warn)==null||l.call(d,p)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(qg.HttpResponse.isInstance(s)){let{headers:g={}}=s,h=Object.entries(g);f.$metadata={httpStatusCode:s.statusCode,requestId:mu(/^x-[\w-]+-request-?id$/,h),extendedRequestId:mu(/^x-[\w-]+-id-2$/,h),cfId:mu(/^x-[\w-]+-cf-id$/,h)}}}catch{}}throw f}},mu=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var Kg,Jg,Yg=x(()=>{Kg=I(Ke());Ro();Jg=e=>(t,r)=>async n=>{var a;let{operationSchema:s}=(0,Kg.getSmithyContext)(r);vn(s)&&(s=Tn(s));let i=(a=r.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,o=await e.protocol.serializeRequest(s,n.input,{...e,...r,endpoint:i});return t({...n,request:o})}});function LN(e){return{applyToStack:t=>{t.add(Jg(e),Qg),t.add(Gg(e),Xg),e.protocol.setSerdeContext(e)}}}var Xg,Qg,Zg=x(()=>{Wg();Yg();Xg={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Qg={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var $N,eS=x(()=>{$N={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Ae,tS=x(()=>{Ae=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(t)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var rS={};it(rS,{ErrorSchema:()=>Ao,ListSchema:()=>bn,MapSchema:()=>xn,NormalizedSchema:()=>$,OperationSchema:()=>Co,SCHEMA:()=>$N,Schema:()=>ye,SimpleSchema:()=>Is,StructureSchema:()=>lr,TypeRegistry:()=>Ae,deref:()=>ot,deserializerMiddlewareOption:()=>Xg,error:()=>eu,getSchemaSerdePlugin:()=>LN,hydrate:()=>Tn,isStaticSchema:()=>vn,list:()=>ru,map:()=>su,op:()=>ou,serializerMiddlewareOption:()=>Qg,sim:()=>FN,simAdapter:()=>cu,struct:()=>Zl,translateTraits:()=>ur});var be=x(()=>{Ql();Zg();nu();iu();au();tu();Ro();Lt();du();Io();eS();lu();tS()});var UN,nS=x(()=>{UN=(e,t,r=n=>n)=>e});var zN,HN,Cs,jN,No,Rs,BN,fu,pu,hu,gu,qN,VN,sS,GN,WN,Oo,KN,Su,JN,In,yu,YN,XN,QN,iS,oS,ZN,eP,Gr,Eu,Po,Ns,_u=x(()=>{zN=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},HN=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Ns.warn(Po(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&Ns.warn(Po(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Cs=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ns.warn(Po(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},jN=Math.ceil(34028234663852886e22),No=e=>{let t=Cs(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>jN)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Rs=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},BN=Rs,fu=e=>gu(e,32),pu=e=>gu(e,16),hu=e=>gu(e,8),gu=(e,t)=>{let r=Rs(e);if(r!==void 0&&qN(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},qN=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},VN=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},sS=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},GN=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ns.warn(Po(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},WN=e=>{if(e==null)return;let t=sS(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},Oo=e=>Cs(typeof e=="string"?In(e):e),KN=Oo,Su=e=>No(typeof e=="string"?In(e):e),JN=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,In=e=>{let t=e.match(JN);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},yu=e=>typeof e=="string"?iS(e):Cs(e),YN=yu,XN=yu,QN=e=>typeof e=="string"?iS(e):No(e),iS=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},oS=e=>Rs(typeof e=="string"?In(e):e),ZN=oS,eP=e=>fu(typeof e=="string"?In(e):e),Gr=e=>pu(typeof e=="string"?In(e):e),Eu=e=>hu(typeof e=="string"?In(e):e),Po=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ns={warn:console.warn}});function Os(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),d=s<10?`0${s}`:`${s}`,l=i<10?`0${i}`:`${i}`,f=o<10?`0${o}`:`${o}`,p=a<10?`0${a}`:`${a}`;return`${tP[n]}, ${d} ${bu[r]} ${t} ${l}:${f}:${p} GMT`}var tP,bu,rP,nP,sP,xu,iP,oP,aP,Tu,vu,Ps,cP,dP,lP,wu,uP,mP,fP,vt,pP,hP,An,aS=x(()=>{_u();tP=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],bu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];rP=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),nP=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=rP.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,d,l]=t,f=Gr(An(n)),p=vt(s,"month",1,12),g=vt(i,"day",1,31);return Ps(f,p,g,{hours:o,minutes:a,seconds:d,fractionalMilliseconds:l})},sP=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),xu=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=sP.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,i,o,a,d,l,f]=t,p=Gr(An(n)),g=vt(s,"month",1,12),h=vt(i,"day",1,31),y=Ps(p,g,h,{hours:o,minutes:a,seconds:d,fractionalMilliseconds:l});return f.toUpperCase()!="Z"&&y.setTime(y.getTime()-hP(f)),y},iP=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),oP=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),aP=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Tu=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=iP.exec(e);if(t){let[r,n,s,i,o,a,d,l]=t;return Ps(Gr(An(i)),wu(s),vt(n,"day",1,31),{hours:o,minutes:a,seconds:d,fractionalMilliseconds:l})}if(t=oP.exec(e),t){let[r,n,s,i,o,a,d,l]=t;return lP(Ps(cP(i),wu(s),vt(n,"day",1,31),{hours:o,minutes:a,seconds:d,fractionalMilliseconds:l}))}if(t=aP.exec(e),t){let[r,n,s,i,o,a,d,l]=t;return Ps(Gr(An(l)),wu(n),vt(s.trimLeft(),"day",1,31),{hours:i,minutes:o,seconds:a,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},vu=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=Oo(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},Ps=(e,t,r,n)=>{let s=t-1;return mP(e,s,r),new Date(Date.UTC(e,s,r,vt(n.hours,"hour",0,23),vt(n.minutes,"minute",0,59),vt(n.seconds,"seconds",0,60),pP(n.fractionalMilliseconds)))},cP=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Gr(An(e));return r<t?r+100:r},dP=50*365*24*60*60*1e3,lP=e=>e.getTime()-new Date().getTime()>dP?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,wu=e=>{let t=bu.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},uP=[31,28,31,30,31,30,31,31,30,31,30,31],mP=(e,t,r)=>{let n=uP[t];if(t===1&&fP(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${bu[t]} in ${e}: ${r}`)},fP=e=>e%4===0&&(e%100!==0||e%400===0),vt=(e,t,r,n)=>{let s=Eu(An(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},pP=e=>e==null?0:Su("0."+e)*1e3,hP=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},An=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var Ds={};it(Ds,{__addDisposableResource:()=>OS,__assign:()=>Do,__asyncDelegator:()=>TS,__asyncGenerator:()=>xS,__asyncValues:()=>vS,__await:()=>Cn,__awaiter:()=>SS,__classPrivateFieldGet:()=>RS,__classPrivateFieldIn:()=>PS,__classPrivateFieldSet:()=>NS,__createBinding:()=>ko,__decorate:()=>lS,__disposeResources:()=>DS,__esDecorate:()=>mS,__exportStar:()=>ES,__extends:()=>cS,__generator:()=>yS,__importDefault:()=>CS,__importStar:()=>AS,__makeTemplateObject:()=>IS,__metadata:()=>gS,__param:()=>uS,__propKey:()=>pS,__read:()=>Cu,__rest:()=>dS,__rewriteRelativeImportExtension:()=>MS,__runInitializers:()=>fS,__setFunctionName:()=>hS,__spread:()=>_S,__spreadArray:()=>bS,__spreadArrays:()=>wS,__values:()=>Mo,default:()=>yP});function cS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Iu(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function dS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function lS(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function uS(e,t){return function(r,n){t(r,n,e)}}function mS(e,t,r,n,s,i){function o(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var a=n.kind,d=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),p,g=!1,h=r.length-1;h>=0;h--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(R){if(g)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(R||null))};var v=(0,r[h])(a==="accessor"?{get:f.get,set:f.set}:f[d],y);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(p=o(v.get))&&(f.get=p),(p=o(v.set))&&(f.set=p),(p=o(v.init))&&s.unshift(p)}else(p=o(v))&&(a==="field"?s.unshift(p):f[d]=p)}l&&Object.defineProperty(l,n.name,f),g=!0}function fS(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function pS(e){return typeof e=="symbol"?e:"".concat(e)}function hS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function gS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function SS(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{l(n.next(f))}catch(p){o(p)}}function d(f){try{l(n.throw(f))}catch(p){o(p)}}function l(f){f.done?i(f.value):s(f.value).then(a,d)}l((n=n.apply(e,t||[])).next())})}function yS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return d([l,f])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ES(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ko(t,e,r)}function Mo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cu(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function _S(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cu(arguments[t]));return e}function wS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function bS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Cn(e){return this instanceof Cn?(this.v=e,this):new Cn(e)}function xS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(y){return Promise.resolve(y).then(h,p)}}function a(h,y){n[h]&&(s[h]=function(w){return new Promise(function(v,R){i.push([h,w,v,R])>1||d(h,w)})},y&&(s[h]=y(s[h])))}function d(h,y){try{l(n[h](y))}catch(w){g(i[0][3],w)}}function l(h){h.value instanceof Cn?Promise.resolve(h.value.v).then(f,p):g(i[0][2],h)}function f(h){d("next",h)}function p(h){d("throw",h)}function g(h,y){h(y),i.shift(),i.length&&d(i[0][0],i[0][1])}}function TS(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:Cn(e[s](o)),done:!1}:i?i(o):o}:i}}function vS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Mo=="function"?Mo(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,d){o=e[i](o),s(a,d,o.done,o.value)})}}function s(i,o,a,d){Promise.resolve(d).then(function(l){i({value:l,done:a})},o)}}function IS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function AS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Au(e),n=0;n<r.length;n++)r[n]!=="default"&&ko(t,e,r[n]);return gP(t,e),t}function CS(e){return e&&e.__esModule?e:{default:e}}function RS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function NS(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function PS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function OS(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function DS(e){function t(i){e.error=e.hasError?new SP(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function MS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}var Iu,Do,ko,gP,Au,SP,yP,Ms=x(()=>{Iu=function(e,t){return Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Iu(e,t)};Do=function(){return Do=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Do.apply(this,arguments)};ko=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};gP=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Au=function(e){return Au=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Au(e)};SP=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};yP={__extends:cS,__assign:Do,__rest:dS,__decorate:lS,__param:uS,__esDecorate:mS,__runInitializers:fS,__propKey:pS,__setFunctionName:hS,__metadata:gS,__awaiter:SS,__generator:yS,__createBinding:ko,__exportStar:ES,__values:Mo,__read:Cu,__spread:_S,__spreadArrays:wS,__spreadArray:bS,__await:Cn,__asyncGenerator:xS,__asyncDelegator:TS,__asyncValues:vS,__makeTemplateObject:IS,__importStar:AS,__importDefault:CS,__classPrivateFieldGet:RS,__classPrivateFieldSet:NS,__classPrivateFieldIn:PS,__addDisposableResource:OS,__disposeResources:DS,__rewriteRelativeImportExtension:MS}});var FS=P(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.randomUUID=void 0;var EP=(Ms(),le(Ds)),kS=EP.__importDefault(require("crypto"));Fo.randomUUID=kS.default.randomUUID.bind(kS.default)});var Lo=P($S=>{"use strict";var LS=FS(),$e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),_P=()=>{if(LS.randomUUID)return LS.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,$e[e[0]]+$e[e[1]]+$e[e[2]]+$e[e[3]]+"-"+$e[e[4]]+$e[e[5]]+"-"+$e[e[6]]+$e[e[7]]+"-"+$e[e[8]]+$e[e[9]]+"-"+$e[e[10]]+$e[e[11]]+$e[e[12]]+$e[e[13]]+$e[e[14]]+$e[e[15]]};$S.v4=_P});var It,US=x(()=>{It=I(Lo())});var qe,zS=x(()=>{qe=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};qe.from=e=>e&&typeof e=="object"&&(e instanceof qe||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?qe(String(e)):qe(JSON.stringify(e));qe.fromObject=qe.from});function Ru(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var HS=x(()=>{});function $t(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var Nu,Pu,Ou,jS,BS,wP,bP,xP,TP,vP,ks,Du,Mu,qS=x(()=>{Nu="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Pu="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Ou="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",jS="(\\d?\\d)",BS="(\\d{4})",wP=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),bP=new RegExp(`^${Nu}, ${jS} ${Pu} ${BS} ${Ou} GMT$`),xP=new RegExp(`^${Nu}, ${jS}-${Pu}-(\\d\\d) ${Ou} GMT$`),TP=new RegExp(`^${Nu} ${Pu} ( [1-9]|\\d\\d) ${Ou} ${BS}$`),vP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ks=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},Du=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=wP.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,i,o,a,,d,l]=t;$t(n,1,12),$t(s,1,31),$t(i,0,23),$t(o,0,59),$t(a,0,60);let f=new Date;if(f.setUTCFullYear(Number(r),Number(n)-1,Number(s)),f.setUTCHours(Number(i)),f.setUTCMinutes(Number(o)),f.setUTCSeconds(Number(a)),f.setUTCMilliseconds(Number(d)?Math.round(parseFloat(`0.${d}`)*1e3):0),l.toUpperCase()!="Z"){let[,p,g,h]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],y=p==="-"?1:-1;f.setTime(f.getTime()+y*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return f},Mu=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,i,o,a,d;if((d=bP.exec(e))?[,t,r,n,s,i,o,a]=d:(d=xP.exec(e))?([,t,r,n,s,i,o,a]=d,n=(Number(n)+1900).toString()):(d=TP.exec(e))&&([,r,t,s,i,o,a,n]=d),n&&o){let l=new Date;return l.setUTCFullYear(Number(n)),l.setUTCMonth(vP.indexOf(r)),$t(t,1,31),l.setUTCDate(Number(t)),$t(s,0,23),l.setUTCHours(Number(s)),$t(i,0,59),l.setUTCMinutes(Number(i)),$t(o,0,60),l.setUTCSeconds(Number(o)),l.setUTCMilliseconds(a?Math.round(parseFloat(`0.${a}`)*1e3):0),l}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function ku(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],i="";for(let o=0;o<n.length;o++)i===""?i=n[o]:i+=t+n[o],(o+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}var VS=x(()=>{});var Fs,GS=x(()=>{Fs=e=>{let t=e.length,r=[],n=!1,s,i=0;for(let o=0;o<t;++o){let a=e[o];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(i,o)),i=o+1);break;default:}s=a}return r.push(e.slice(i)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})}});function Fu(e){return new _e(String(e),"bigDecimal")}var WS,_e,KS=x(()=>{WS=/^-?\d*(\.\d+)?$/,_e=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!WS.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&WS.test(r.string)}}});var JS={};it(JS,{LazyJsonString:()=>qe,NumericValue:()=>_e,_parseEpochTimestamp:()=>ks,_parseRfc3339DateTimeWithOffset:()=>Du,_parseRfc7231DateTime:()=>Mu,copyDocumentWithTransform:()=>UN,dateToUtcString:()=>Os,expectBoolean:()=>HN,expectByte:()=>hu,expectFloat32:()=>No,expectInt:()=>BN,expectInt32:()=>fu,expectLong:()=>Rs,expectNonNull:()=>VN,expectNumber:()=>Cs,expectObject:()=>sS,expectShort:()=>pu,expectString:()=>GN,expectUnion:()=>WN,generateIdempotencyToken:()=>It.v4,handleFloat:()=>YN,limitedParseDouble:()=>yu,limitedParseFloat:()=>XN,limitedParseFloat32:()=>QN,logger:()=>Ns,nv:()=>Fu,parseBoolean:()=>zN,parseEpochTimestamp:()=>vu,parseRfc3339DateTime:()=>nP,parseRfc3339DateTimeWithOffset:()=>xu,parseRfc7231DateTime:()=>Tu,quoteHeader:()=>Ru,splitEvery:()=>ku,splitHeader:()=>Fs,strictParseByte:()=>Eu,strictParseDouble:()=>Oo,strictParseFloat:()=>KN,strictParseFloat32:()=>Su,strictParseInt:()=>ZN,strictParseInt32:()=>eP,strictParseLong:()=>oS,strictParseShort:()=>Gr});var Je=x(()=>{nS();aS();US();zS();_u();HS();qS();VS();GS();KS()});var Ve,Rn=x(()=>{Ve=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var YS,Lu,XS=x(()=>{YS=I(Oe()),Lu=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:i}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=i}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,i=r.getEventStreamMember(),o=r.getMemberSchema(i),a=o.getMemberSchemas(),d=this.serializer,l=this.defaultContentType,f=Symbol("initialRequestMarker"),p={async*[Symbol.asyncIterator](){if(n){let g={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};d.write(r,n);let h=d.flush();yield{[f]:!0,headers:g,body:h}}for await(let g of t)yield g}};return s.serialize(p,g=>{if(g[f])return{headers:g.headers,body:g.body};let h=Object.keys(g).find(D=>D!=="__type")??"",{additionalHeaders:y,body:w,eventType:v,explicitPayloadContentType:R}=this.writeEventBody(h,o,g);return{headers:{":event-type":{type:"string",value:v},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:R??l},...y},body:w}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){var g;let s=this.marshaller,i=r.getEventStreamMember(),a=r.getMemberSchema(i).getMemberSchemas(),d=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async h=>{let y=Object.keys(h).find(w=>w!=="__type")??"";if(y==="initial-response"){let w=await this.deserializer.read(r,h[y].body);return delete w[i],{[d]:!0,...w}}else if(y in a){let w=a[y];return{[y]:await this.deserializer.read(w,h[y].body)}}else return{$unknown:h}}),f=l[Symbol.asyncIterator](),p=await f.next();if(p.done)return l;if((g=p.value)!=null&&g[d]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[h,y]of Object.entries(p.value))n[h]=y}return{async*[Symbol.asyncIterator](){var h;for((h=p==null?void 0:p.value)!=null&&h[d]||(yield p.value);;){let{done:y,value:w}=await f.next();if(y)break;yield w}}}}writeEventBody(t,r,n){var g;let s=this.serializer,i=t,o=null,a,d=r.getSchema().memberNames.includes(t),l={};if(d){let h=r.getMemberSchema(t);if(h.isStructSchema()){for(let[y,w]of h.structIterator()){let{eventHeader:v,eventPayload:R}=w.getMergedTraits();if(R){o=y;break}else if(v){let O=n[t][y],D="binary";w.isNumericSchema()?(-2)**31<=O&&O<=2**31-1?D="integer":D="long":w.isTimestampSchema()?D="timestamp":w.isStringSchema()?D="string":w.isBooleanSchema()&&(D="boolean"),O!=null&&(l[y]={type:D,value:O},delete n[t][y])}}if(o!==null){let y=h.getMemberSchema(o);y.isBlobSchema()?a="application/octet-stream":y.isStringSchema()&&(a="text/plain"),s.write(y,n[t][o])}else s.write(h,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[h,y]=n[t];i=h,s.write(15,y)}let f=s.flush();return{body:typeof f=="string"?(((g=this.serdeContext)==null?void 0:g.utf8Decoder)??YS.fromUtf8)(f):f,eventType:i,explicitPayloadContentType:a,additionalHeaders:l}}}});var QS={};it(QS,{EventStreamSerde:()=>Lu});var ZS=x(()=>{XS()});var $o,Wr,Uo=x(()=>{be();$o=I(he());Rn();Wr=class extends Ve{options;constructor(t){super(),this.options=t}getRequestType(){return $o.HttpRequest}getResponseType(){return $o.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){var o;let s=$.of(r),i=$.of(r.input);if(s.getMergedTraits().endpoint){let a=(o=s.getMergedTraits().endpoint)==null?void 0:o[0];if(typeof a=="string"){let d=[...i.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of d){let f=n[l];if(typeof f!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);a=a.replace(`{${l}}`,f)}t.hostname=a+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(ZS(),QS));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,i){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var ey,ty,Kr,ry=x(()=>{be();Je();ey=I(he()),ty=I(bo());To();vo();Uo();Kr=class extends Wr{async serializeRequest(t,r,n){let s={...r??{}},i=this.serializer,o={},a={},d=await n.endpoint(),l=$.of(t==null?void 0:t.input),f=l.getSchema(),p=!1,g,h=new ey.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(d){this.updateServiceEndpoint(h,d),this.setHostPrefix(h,t,s);let y=ur(t.traits);if(y.http){h.method=y.http[0];let[w,v]=y.http[1].split("?");h.path=="/"?h.path=w:h.path+=w;let R=new URLSearchParams(v??"");Object.assign(o,Object.fromEntries(R))}}for(let[y,w]of l.structIterator()){let v=w.getMergedTraits()??{},R=s[y];if(R!=null)if(v.httpPayload)w.isStreaming()?w.isStructSchema()?s[y]&&(g=await this.serializeEventStream({eventStream:s[y],requestSchema:l})):g=R:(i.write(w,R),g=i.flush()),delete s[y];else if(v.httpLabel){i.write(w,R);let O=i.flush();h.path.includes(`{${y}+}`)?h.path=h.path.replace(`{${y}+}`,O.split("/").map(Tt).join("/")):h.path.includes(`{${y}}`)&&(h.path=h.path.replace(`{${y}}`,Tt(O))),delete s[y]}else if(v.httpHeader)i.write(w,R),a[v.httpHeader.toLowerCase()]=String(i.flush()),delete s[y];else if(typeof v.httpPrefixHeaders=="string"){for(let[O,D]of Object.entries(R)){let j=v.httpPrefixHeaders+O;i.write([w.getValueSchema(),{httpHeader:j}],D),a[j.toLowerCase()]=i.flush()}delete s[y]}else v.httpQuery||v.httpQueryParams?(this.serializeQuery(w,R,o),delete s[y]):p=!0}return p&&s&&(i.write(f,s),g=i.flush()),h.headers=a,h.query=o,h.body=g,h}serializeQuery(t,r,n){let s=this.serializer,i=t.getMergedTraits();if(i.httpQueryParams){for(let[o,a]of Object.entries(r))if(!(o in n)){let d=t.getValueSchema();Object.assign(d.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(d,a,n)}return}if(t.isListSchema()){let o=!!t.getMergedTraits().sparse,a=[];for(let d of r){s.write([t.getValueSchema(),i],d);let l=s.flush();(o||l!==void 0)&&a.push(l)}n[i.httpQuery]=a}else s.write([t,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,i=$.of(t.output),o={};if(n.statusCode>=300){let d=await St(n.body,r);throw d.byteLength>0&&Object.assign(o,await s.read(15,d)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=await this.deserializeHttpMessage(i,r,n,o);if(a.length){let d=await St(n.body,r);if(d.byteLength>0){let l=await s.read(i,d);for(let f of a)o[f]=l[f]}}return o.$metadata=this.deserializeMetadata(n),o}async deserializeHttpMessage(t,r,n,s,i){let o;s instanceof Set?o=i:o=s;let a=this.deserializer,d=$.of(t),l=[];for(let[f,p]of d.structIterator()){let g=p.getMemberTraits();if(g.httpPayload){if(p.isStreaming())p.isStructSchema()?o[f]=await this.deserializeEventStream({response:n,responseSchema:d}):o[f]=(0,ty.sdkStreamMixin)(n.body);else if(n.body){let y=await St(n.body,r);y.byteLength>0&&(o[f]=await a.read(p,y))}}else if(g.httpHeader){let h=String(g.httpHeader).toLowerCase(),y=n.headers[h];if(y!=null)if(p.isListSchema()){let w=p.getValueSchema();w.getMergedTraits().httpHeader=h;let v;w.isTimestampSchema()&&w.getSchema()===4?v=ku(y,",",2):v=Fs(y);let R=[];for(let O of v)R.push(await a.read(w,O.trim()));o[f]=R}else o[f]=await a.read(p,y)}else if(g.httpPrefixHeaders!==void 0){o[f]={};for(let[h,y]of Object.entries(n.headers))if(h.startsWith(g.httpPrefixHeaders)){let w=p.getValueSchema();w.getMergedTraits().httpHeader=h,o[f][h.slice(g.httpPrefixHeaders.length)]=await a.read(w,y)}}else g.httpResponseCode?o[f]=n.statusCode:l.push(f)}return l}}});var ny,Ut,sy=x(()=>{be();ny=I(he());To();Uo();Ut=class extends Wr{async serializeRequest(t,r,n){let s=this.serializer,i={},o={},a=await n.endpoint(),d=$.of(t==null?void 0:t.input),l=d.getSchema(),f,p=new ny.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:i,headers:o,body:void 0});a&&(this.updateServiceEndpoint(p,a),this.setHostPrefix(p,t,r));let g={...r};if(r){let h=d.getEventStreamMember();if(h){if(g[h]){let y={};for(let[w,v]of d.structIterator())w!==h&&g[w]&&(s.write(v,g[w]),y[w]=s.flush());f=await this.serializeEventStream({eventStream:g[h],requestSchema:d,initialRequest:y})}}else s.write(l,g),f=s.flush()}return p.headers=o,p.query=i,p.body=f,p.method="POST",p}async deserializeResponse(t,r,n){let s=this.deserializer,i=$.of(t.output),o={};if(n.statusCode>=300){let d=await St(n.body,r);throw d.byteLength>0&&Object.assign(o,await s.read(15,d)),await this.handleError(t,r,n,o,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=i.getEventStreamMember();if(a)o[a]=await this.deserializeEventStream({response:n,responseSchema:i,initialResponseContainer:o});else{let d=await St(n.body,r);d.byteLength>0&&Object.assign(o,await s.read(i,d))}return o.$metadata=this.deserializeMetadata(n),o}}});var $u,Uu=x(()=>{vo();$u=(e,t,r,n,s,i)=>{if(t!=null&&t[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,i?o.split("/").map(a=>Tt(a)).join("/"):Tt(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function Ls(e,t){return new zo(e,t)}var iy,zo,oy=x(()=>{iy=I(he());Uu();zo=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let i of this.resolvePathStack)i(this.path);return new iy.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(i=>{this.path=$u(i,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function tt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:i||r?5:void 0:void 0)??t.timestampFormat.default}var Ho=x(()=>{});var zu,ay,Jr,Hu=x(()=>{be();Je();zu=I(De()),ay=I(Oe());Rn();Ho();Jr=class extends Ve{settings;constructor(t){super(),this.settings=t}read(t,r){var s;let n=$.of(t);if(n.isListSchema())return Fs(r).map(i=>this.read(n.getValueSchema(),i));if(n.isBlobSchema())return(((s=this.serdeContext)==null?void 0:s.base64Decoder)??zu.fromBase64)(r);if(n.isTimestampSchema())switch(tt(n,this.settings)){case 5:return Du(r);case 6:return Mu(r);case 7:return ks(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let i=n.getMergedTraits().mediaType,o=r;if(i)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(i==="application/json"||i.endsWith("+json"))&&(o=qe.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new _e(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){var r,n;return(((r=this.serdeContext)==null?void 0:r.utf8Encoder)??ay.toUtf8)((((n=this.serdeContext)==null?void 0:n.base64Decoder)??zu.fromBase64)(t))}}});var jo,Yr,cy=x(()=>{be();jo=I(Oe());Rn();Hu();Yr=class extends Ve{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new Jr(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){var o,a;let n=$.of(t),s=n.getMergedTraits(),i=((o=this.serdeContext)==null?void 0:o.utf8Encoder)??jo.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){let d=((a=this.serdeContext)==null?void 0:a.utf8Decoder)??jo.fromUtf8;return typeof r=="string"?d(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}});var ju,$s,Bu=x(()=>{be();Je();ju=I(De());Rn();Ho();$s=class extends Ve{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){var s,i;let n=$.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(tt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Os(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(((s=this.serdeContext)==null?void 0:s.base64Encoder)??ju.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let d="";for(let l of r){this.write([n.getValueSchema(),n.getMergedTraits()],l);let f=this.flush(),p=n.getValueSchema().isTimestampSchema()?f:Ru(f);d!==""&&(d+=", "),d+=p}this.stringBuffer=d;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let o=n.getMergedTraits().mediaType,a=r;if(o&&((o==="application/json"||o.endsWith("+json"))&&(a=qe.from(a)),n.getMergedTraits().httpHeader)){this.stringBuffer=(((i=this.serdeContext)==null?void 0:i.base64Encoder)??ju.toBase64)(a.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Xr,dy=x(()=>{be();Bu();Xr=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new $s(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=$.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var ly={};it(ly,{FromStringShapeDeserializer:()=>Jr,HttpBindingProtocol:()=>Kr,HttpInterceptingShapeDeserializer:()=>Yr,HttpInterceptingShapeSerializer:()=>Xr,HttpProtocol:()=>Wr,RequestBuilder:()=>zo,RpcProtocol:()=>Ut,SerdeContext:()=>Ve,ToStringShapeSerializer:()=>$s,collectBody:()=>St,determineTimestampFormat:()=>tt,extendedEncodeURIComponent:()=>Tt,requestBuilder:()=>Ls,resolvedPath:()=>$u});var Ye=x(()=>{To();vo();ry();Uo();sy();oy();Uu();Hu();cy();dy();Bu();Ho();Rn()});var uy=x(()=>{Ye()});function IP(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var my=x(()=>{});var Qr,fy=x(()=>{Qr=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var py,qu,Vu,hy=x(()=>{py=I(he()),qu=I(ir()),Vu=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=py.HttpRequest.clone(t);if(n.in===qu.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===qu.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var gy,Gu,Sy=x(()=>{gy=I(he()),Gu=class{async sign(t,r,n){let s=gy.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var zt,yy=x(()=>{zt=class{async sign(t,r,n){return t}}});var Ey=x(()=>{hy();Sy();yy()});var _y,AP,Wu,Bo,Ku,wy=x(()=>{_y=e=>function(r){return Bo(r)&&r.expiration.getTime()-Date.now()<e},AP=3e5,Wu=_y(3e5),Bo=e=>e.expiration!==void 0,Ku=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,i,o,a=!1,d=async l=>{i||(i=n(l));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async l=>((!o||l!=null&&l.forceRefresh)&&(s=await d(l)),s):async l=>((!o||l!=null&&l.forceRefresh)&&(s=await d(l)),a?s:r(s)?(t(s)&&await d(l),s):(a=!0,s))}});var by=x(()=>{fy();Ey();wy()});var Nn={};it(Nn,{DefaultIdentityProviderConfig:()=>Qr,EXPIRATION_MS:()=>AP,HttpApiKeyAuthSigner:()=>Vu,HttpBearerAuthSigner:()=>Gu,NoAuthSigner:()=>zt,createIsIdentityExpiredFunction:()=>_y,createPaginator:()=>Bh,doesIdentityRequireRefresh:()=>Bo,getHttpAuthSchemeEndpointRuleSetPlugin:()=>ws,getHttpAuthSchemePlugin:()=>mR,getHttpSigningPlugin:()=>bs,getSmithyContext:()=>oR,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Ah,httpAuthSchemeMiddleware:()=>_s,httpAuthSchemeMiddlewareOptions:()=>Mh,httpSigningMiddleware:()=>El,httpSigningMiddlewareOptions:()=>Uh,isIdentityExpired:()=>Wu,memoizeIdentityProvider:()=>Ku,normalizeProvider:()=>cr,requestBuilder:()=>Ls,setFeature:()=>IP});var Xe=x(()=>{bh();Fh();Hh();jh();qh();uy();my();by()});var Pn=P(Zr=>{"use strict";var Yu=ir(),Xu=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),i=0;for(;;){let{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let i=String(t[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}},CP=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),xy=e=>CP.test(e)||e.startsWith("[")&&e.endsWith("]"),RP=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Zu=(e,t=!1)=>{if(!t)return RP.test(e);let r=e.split(".");for(let n of r)if(!Zu(n))return!1;return!0},Qu={},Us="endpoints";function mr(e){return typeof e!="object"||e==null?e:"ref"in e?`$${mr(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(mr).join(", ")})`:JSON.stringify(e,null,2)}var Ue=class extends Error{constructor(t){super(t),this.name="EndpointError"}},NP=(e,t)=>e===t,PP=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ue(`Path: '${e}' does not end with ']'`);let i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Ue(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},Ty=(e,t)=>PP(t).reduce((r,n)=>{if(typeof r!="object")throw new Ue(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),OP=e=>e!=null,DP=e=>!e,Ju={[Yu.EndpointURLScheme.HTTP]:80,[Yu.EndpointURLScheme.HTTPS]:443},MP=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:y="",path:w="",query:v={}}=e,R=new URL(`${y}//${g}${h?`:${h}`:""}${w}`);return R.search=Object.entries(v).map(([O,D])=>`${O}=${D}`).join("&"),R}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;let d=o.slice(0,-1);if(!Object.values(Yu.EndpointURLScheme).includes(d))return null;let l=xy(s),f=r.includes(`${n}:${Ju[d]}`)||typeof e=="string"&&e.includes(`${n}:${Ju[d]}`),p=`${n}${f?`:${Ju[d]}`:""}`;return{scheme:d,authority:p,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:l}},kP=(e,t)=>e===t,FP=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),LP=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),$P={booleanEquals:NP,getAttr:Ty,isSet:OP,isValidHostLabel:Zu,not:DP,parseURL:MP,stringEquals:kP,substring:FP,uriEncode:LP},vy=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));let o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);let a=e.substring(i+1,o);if(a.includes("#")){let[d,l]=a.split("#");r.push(Ty(n[d],l))}else r.push(n[a]);s=o+1}return r.join("")},UP=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],qo=(e,t,r)=>{if(typeof e=="string")return vy(e,r);if(e.fn)return Iy(e,r);if(e.ref)return UP(e,r);throw new Ue(`'${t}': ${String(e)} is not a string, function or reference.`)},Iy=({fn:e,argv:t},r)=>{let n=t.map(i=>["boolean","number"].includes(typeof i)?i:qo(i,"arg",r)),s=e.split(".");return s[0]in Qu&&s[1]!=null?Qu[s[0]][s[1]](...n):$P[e](...n)},zP=({assign:e,...t},r)=>{var s,i;if(e&&e in r.referenceRecord)throw new Ue(`'${e}' is already defined in Reference Record.`);let n=Iy(t,r);return(i=(s=r.logger)==null?void 0:s.debug)==null||i.call(s,`${Us} evaluateCondition: ${mr(t)} = ${mr(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},em=(e=[],t)=>{var n,s;let r={};for(let i of e){let{result:o,toAssign:a}=zP(i,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(s=(n=t.logger)==null?void 0:n.debug)==null||s.call(n,`${Us} assign: ${a.name} := ${mr(a.value)}`))}return{result:!0,referenceRecord:r}},HP=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{let o=qo(i,"Header value entry",t);if(typeof o!="string")throw new Ue(`Header '${n}' value '${o}' is not a string`);return o})}),{}),Ay=(e,t)=>{if(Array.isArray(e))return e.map(r=>Ay(r,t));switch(typeof e){case"string":return vy(e,t);case"object":if(e===null)throw new Ue(`Unexpected endpoint property: ${e}`);return Cy(e,t);case"boolean":return e;default:throw new Ue(`Unexpected endpoint property type: ${typeof e}`)}},Cy=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:Ay(s,t)}),{}),jP=(e,t)=>{let r=qo(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ue(`Endpoint URL must be a string, got ${typeof r}`)},BP=(e,t)=>{var f,p;let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=em(r,t);if(!s)return;let o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:d,headers:l}=n;return(p=(f=t.logger)==null?void 0:f.debug)==null||p.call(f,`${Us} Resolving endpoint from template: ${mr(n)}`),{...l!=null&&{headers:HP(l,o)},...d!=null&&{properties:Cy(d,o)},url:jP(a,o)}},qP=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:i}=em(r,t);if(s)throw new Ue(qo(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},VP=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=em(r,t);if(s)return Ry(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},Ry=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=BP(r,t);if(n)return n}else if(r.type==="error")qP(r,t);else if(r.type==="tree"){let n=VP(r,t);if(n)return n}else throw new Ue(`Unknown endpoint rule: ${r}`);throw new Ue("Rules evaluation failed")},GP=(e,t)=>{var l,f,p,g;let{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;(f=(l=t.logger)==null?void 0:l.debug)==null||f.call(l,`${Us} Initial EndpointParams: ${mr(r)}`);let o=Object.entries(s).filter(([,h])=>h.default!=null).map(([h,y])=>[h,y.default]);if(o.length>0)for(let[h,y]of o)r[h]=r[h]??y;let a=Object.entries(s).filter(([,h])=>h.required).map(([h])=>h);for(let h of a)if(r[h]==null)throw new Ue(`Missing required parameter: '${h}'`);let d=Ry(i,{endpointParams:r,logger:n,referenceRecord:{}});return(g=(p=t.logger)==null?void 0:p.debug)==null||g.call(p,`${Us} Resolved endpoint: ${mr(d)}`),d};Zr.EndpointCache=Xu;Zr.EndpointError=Ue;Zr.customEndpointFunctions=Qu;Zr.isIpAddress=xy;Zr.isValidHostLabel=Zu;Zr.resolveEndpoint=GP});var Py=P(Ny=>{"use strict";function WP(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}Ny.parseQueryString=WP});var fr=P(Dy=>{"use strict";var KP=Py(),Oy=e=>{if(typeof e=="string")return Oy(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:i}=e,o;return i&&(o=KP.parseQueryString(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}};Dy.parseUrl=Oy});var Dn=P(yt=>{"use strict";var On=Pn(),JP=fr(),ky=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!ky(r))return!1;return!0}return!(!On.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||On.isIpAddress(e))},My=":",YP="/",XP=e=>{let t=e.split(My);if(t.length<6)return null;let[r,n,s,i,o,...a]=t;if(r!=="arn"||n===""||s===""||a.join(My)==="")return null;let d=a.map(l=>l.split(YP)).flat();return{partition:n,service:s,region:i,accountId:o,resourceId:d}},QP=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],ZP="1.1",Fy={partitions:QP,version:ZP},Ly=Fy,$y="",Uy=e=>{let{partitions:t}=Ly;for(let n of t){let{regions:s,outputs:i}=n;for(let[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(let n of t){let{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},zy=(e,t="")=>{Ly=e,$y=t},e0=()=>{zy(Fy,"")},t0=()=>$y,Hy={isVirtualHostableS3Bucket:ky,parseArn:XP,partition:Uy};On.customEndpointFunctions.aws=Hy;var r0=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>jy(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},jy=e=>JP.parseUrl(e.url);Object.defineProperty(yt,"EndpointError",{enumerable:!0,get:function(){return On.EndpointError}});Object.defineProperty(yt,"isIpAddress",{enumerable:!0,get:function(){return On.isIpAddress}});Object.defineProperty(yt,"resolveEndpoint",{enumerable:!0,get:function(){return On.resolveEndpoint}});yt.awsEndpointFunctions=Hy;yt.getUserAgentPrefix=t0;yt.partition=Uy;yt.resolveDefaultAwsRegionalEndpointsConfig=r0;yt.setPartitionInfo=zy;yt.toEndpointV1=jy;yt.useDefaultPartitionInfo=e0});var Vo,Mn,By=x(()=>{Vo={warningEmitted:!1},Mn=e=>{e&&!Vo.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(Vo.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function pr(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var qy=x(()=>{});function Vy(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var Gy=x(()=>{});function Wy(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var Ky=x(()=>{});var hr={};it(hr,{emitWarningIfUnsupportedVersion:()=>Mn,setCredentialFeature:()=>pr,setFeature:()=>Vy,setTokenFeature:()=>Wy,state:()=>Vo});var Et=x(()=>{By();qy();Gy();Ky()});var Jy,tm,Yy=x(()=>{Jy=I(he()),tm=e=>{var t,r;return Jy.HttpResponse.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0}});var kn,rm=x(()=>{kn=e=>new Date(Date.now()+e)});var Xy,Qy=x(()=>{rm();Xy=(e,t)=>Math.abs(kn(t).getTime()-e)>=3e5});var nm,Zy=x(()=>{Qy();nm=(e,t)=>{let r=Date.parse(e);return Xy(r,t)?r-Date.now():t}});var sm=x(()=>{Yy();rm();Zy()});var eE,zs,Fn,Qe,im,om=x(()=>{eE=I(he());sm();zs=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Fn=async e=>{var l,f,p;let t=zs("context",e.context),r=zs("config",e.config),n=(p=(f=(l=t.endpointV2)==null?void 0:l.properties)==null?void 0:f.authSchemes)==null?void 0:p[0],i=await zs("signer",r.signer)(n),o=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,d=e==null?void 0:e.signingName;return{config:r,signer:i,signingRegion:o,signingRegionSet:a,signingName:d}},Qe=class{async sign(t,r,n){var p;if(!eE.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Fn(n),{config:i,signer:o}=s,{signingRegion:a,signingName:d}=s,l=n.context;if(((p=l==null?void 0:l.authSchemes)==null?void 0:p.length)??!1){let[g,h]=l.authSchemes;(g==null?void 0:g.name)==="sigv4a"&&(h==null?void 0:h.name)==="sigv4"&&(a=(h==null?void 0:h.signingRegion)??a,d=(h==null?void 0:h.signingName)??d)}return await o.sign(t,{signingDate:kn(i.systemClockOffset),signingRegion:a,signingService:d})}errorHandler(t){return r=>{let n=r.ServerTime??tm(r.$response);if(n){let s=zs("config",t.config),i=s.systemClockOffset;s.systemClockOffset=nm(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=tm(t);if(n){let s=zs("config",r.config);s.systemClockOffset=nm(n,s.systemClockOffset)}}},im=Qe});var tE,Hs,rE=x(()=>{tE=I(he());sm();om();Hs=class extends Qe{async sign(t,r,n){var g;if(!tE.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:d}=await Fn(n),f=(await((g=s.sigv4aSigningRegionSet)==null?void 0:g.call(s))??a??[o]).join(",");return await i.sign(t,{signingDate:kn(s.systemClockOffset),signingRegion:f,signingService:d})}}});var am,nE=x(()=>{am=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Go,cm=x(()=>{Go=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var sE,iE,Ln,oE=x(()=>{nE();cm();sE="AWS_AUTH_SCHEME_PREFERENCE",iE="auth_scheme_preference",Ln={environmentVariableSelector:(e,t)=>{if(t!=null&&t.signingName&&Go(t.signingName)in e)return["httpBearerAuth"];if(sE in e)return am(e[sE])},configFileSelector:e=>{if(iE in e)return am(e[iE])},default:[]}});var Ge=P(en=>{"use strict";var $n=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){var i;let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),(i=n==null?void 0:n.debug)==null||i.call(n,`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},dm=class e extends $n{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},lm=class e extends $n{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},n0=(...e)=>async()=>{if(e.length===0)throw new $n("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n!=null&&n.tryNextLink)continue;throw n}throw t},s0=e=>()=>Promise.resolve(e),i0=(e,t,r)=>{let n,s,i,o=!1,a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return t===void 0?async d=>((!i||d!=null&&d.forceRefresh)&&(n=await a()),n):async d=>((!i||d!=null&&d.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))};en.CredentialsProviderError=dm;en.ProviderError=$n;en.TokenProviderError=lm;en.chain=n0;en.fromStatic=s0;en.memoize=i0});var um,aE,cE,dE=x(()=>{Xe();um=I(Ge()),aE=e=>(e.sigv4aSigningRegionSet=cr(e.sigv4aSigningRegionSet),e),cE={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new um.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new um.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var DE=P(G=>{"use strict";var gr=Kl(),tn=Oe(),o0=wl(),fE=he(),lE=Ke(),Wo=Ml(),pE="X-Amz-Algorithm",hE="X-Amz-Credential",Sm="X-Amz-Date",gE="X-Amz-SignedHeaders",SE="X-Amz-Expires",ym="X-Amz-Signature",Em="X-Amz-Security-Token",a0="X-Amz-Region-Set",_m="authorization",wm=Sm.toLowerCase(),yE="date",EE=[_m,wm,yE],_E=ym.toLowerCase(),Qo="x-amz-content-sha256",wE=Em.toLowerCase(),c0="host",bE={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},xE=/^proxy-/,TE=/^sec-/,d0=[/^proxy-/i,/^sec-/i],Ko="AWS4-HMAC-SHA256",l0="AWS4-ECDSA-P256-SHA256",vE="AWS4-HMAC-SHA256-PAYLOAD",IE="UNSIGNED-PAYLOAD",AE=50,bm="aws4_request",CE=60*60*24*7,Un={},Jo=[],Yo=(e,t,r)=>`${e}/${t}/${r}/${bm}`,RE=async(e,t,r,n,s)=>{let i=await uE(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${gr.toHex(i)}:${t.sessionToken}`;if(o in Un)return Un[o];for(Jo.push(o);Jo.length>AE;)delete Un[Jo.shift()];let a=`AWS4${t.secretAccessKey}`;for(let d of[r,n,s,bm])a=await uE(e,a,d);return Un[o]=a},u0=()=>{Jo.length=0,Object.keys(Un).forEach(e=>{delete Un[e]})},uE=(e,t,r)=>{let n=new e(t);return n.update(tn.toUint8Array(r)),n.digest()},mm=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let i=s.toLowerCase();(i in bE||t!=null&&t.has(i)||xE.test(i)||TE.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},Xo=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Qo)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||o0.isArrayBuffer(t)){let n=new r;return n.update(tn.toUint8Array(t)),gr.toHex(await n.digest())}return IE},fm=class{format(t){let r=[];for(let i of Object.keys(t)){let o=tn.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}let n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0)),s=0;for(let i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":let a=tn.fromUtf8(t.value),d=new DataView(new ArrayBuffer(3+a.byteLength));d.setUint8(0,7),d.setUint16(1,a.byteLength,!1);let l=new Uint8Array(d.buffer);return l.set(a,3),l;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(pm.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!m0.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set(gr.fromHex(t.value.replace(/\-/g,"")),1),p}}},m0=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,pm=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&mE(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&mE(t),parseInt(gr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function mE(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var NE=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},PE=(e,t={})=>{var s,i;let{headers:r,query:n={}}=fE.HttpRequest.clone(e);for(let o of Object.keys(r)){let a=o.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((s=t.unhoistableHeaders)!=null&&s.has(a))||(i=t.hoistableHeaders)!=null&&i.has(a))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}},hm=e=>{e=fE.HttpRequest.clone(e);for(let t of Object.keys(e.headers))EE.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},OE=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===_E)continue;let s=Wo.escapeUri(n);t.push(s);let i=e[n];typeof i=="string"?r[s]=`${s}=${Wo.escapeUri(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${Wo.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},f0=e=>p0(e).toISOString().replace(/\.\d{3}Z$/,"Z"),p0=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Zo=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=lE.normalizeProvider(n),this.credentialProvider=lE.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${OE(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let i=new this.sha256;i.update(tn.toUint8Array(n));let o=await i.digest();return`${s}
${t}
${r}
${gr.toHex(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let i of t.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?r.pop():r.push(i));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Wo.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=f0(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},gm=class extends Zo{headerFormatter=new fm;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:d,signingRegion:l,signingService:f}=r,p=await this.credentialProvider();this.validateResolvedCredentials(p);let g=l??await this.regionProvider(),{longDate:h,shortDate:y}=this.formatDate(n);if(s>CE)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let w=Yo(y,g,f??this.service),v=PE(hm(t),{unhoistableHeaders:o,hoistableHeaders:d});p.sessionToken&&(v.query[Em]=p.sessionToken),v.query[pE]=Ko,v.query[hE]=`${p.accessKeyId}/${w}`,v.query[Sm]=h,v.query[SE]=s.toString(10);let R=mm(v,i,a);return v.query[gE]=this.getCanonicalHeaderList(R),v.query[ym]=await this.getSignature(h,w,this.getSigningKey(p,g,y,f),this.createCanonicalRequest(v,R,await Xo(t,this.sha256))),v}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){let a=i??await this.regionProvider(),{shortDate:d,longDate:l}=this.formatDate(n),f=Yo(d,a,o??this.service),p=await Xo({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=gr.toHex(await g.digest()),y=[vE,l,f,s,h,p].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let o=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),d=new this.sha256(await this.getSigningKey(i,o,a,s));return d.update(tn.toUint8Array(t)),gr.toHex(await d.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let d=i??await this.regionProvider(),l=hm(t),{longDate:f,shortDate:p}=this.formatDate(r),g=Yo(p,d,o??this.service);l.headers[wm]=f,a.sessionToken&&(l.headers[wE]=a.sessionToken);let h=await Xo(l,this.sha256);!NE(Qo,l.headers)&&this.applyChecksum&&(l.headers[Qo]=h);let y=mm(l,s,n),w=await this.getSignature(f,g,this.getSigningKey(a,d,p,o),this.createCanonicalRequest(l,y,h));return l.headers[_m]=`${Ko} Credential=${a.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${w}`,l}async getSignature(t,r,n,s){let i=await this.createStringToSign(t,r,s,Ko),o=new this.sha256(await n);return o.update(tn.toUint8Array(i)),gr.toHex(await o.digest())}getSigningKey(t,r,n,s){return RE(this.sha256,t,n,r,s||this.service)}},h0={SignatureV4a:null};G.ALGORITHM_IDENTIFIER=Ko;G.ALGORITHM_IDENTIFIER_V4A=l0;G.ALGORITHM_QUERY_PARAM=pE;G.ALWAYS_UNSIGNABLE_HEADERS=bE;G.AMZ_DATE_HEADER=wm;G.AMZ_DATE_QUERY_PARAM=Sm;G.AUTH_HEADER=_m;G.CREDENTIAL_QUERY_PARAM=hE;G.DATE_HEADER=yE;G.EVENT_ALGORITHM_IDENTIFIER=vE;G.EXPIRES_QUERY_PARAM=SE;G.GENERATED_HEADERS=EE;G.HOST_HEADER=c0;G.KEY_TYPE_IDENTIFIER=bm;G.MAX_CACHE_SIZE=AE;G.MAX_PRESIGNED_TTL=CE;G.PROXY_HEADER_PATTERN=xE;G.REGION_SET_PARAM=a0;G.SEC_HEADER_PATTERN=TE;G.SHA256_HEADER=Qo;G.SIGNATURE_HEADER=_E;G.SIGNATURE_QUERY_PARAM=ym;G.SIGNED_HEADERS_QUERY_PARAM=gE;G.SignatureV4=gm;G.SignatureV4Base=Zo;G.TOKEN_HEADER=wE;G.TOKEN_QUERY_PARAM=Em;G.UNSIGNABLE_PATTERNS=d0;G.UNSIGNED_PAYLOAD=IE;G.clearCredentialCache=u0;G.createScope=Yo;G.getCanonicalHeaders=mm;G.getCanonicalQuery=OE;G.getPayloadHash=Xo;G.getSigningKey=RE;G.hasHeader=NE;G.moveHeadersToQuery=PE;G.prepareRequest=hm;G.signatureV4aContainer=h0});function g0(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t!=null&&t.memoized?n=t:n=Ku(t,Wu,Bo):r?n=cr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function S0(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var xm,rn,ME,kE=x(()=>{Et();Xe();xm=I(DE()),rn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let f=g0(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),p=S0(e,f);r&&!p.attributed?(n=async g=>p(g).then(h=>pr(h,"CREDENTIALS_CODE","e")),n.memoized=p.memoized,n.configBound=p.configBound,n.attributed=!0):n=p},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:o}=e,a;return e.signer?a=cr(e.signer):e.regionInfoProvider?a=()=>cr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,f])=>{let{signingRegion:p,signingService:g}=l;e.signingRegion=e.signingRegion||p||f,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},y=e.signerConstructor||xm.SignatureV4;return new y(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await cr(e.region)(),properties:{}},l);let f=l.signingRegion,p=l.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||p||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:s},h=e.signerConstructor||xm.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:i,signingEscapePath:s,signer:a})},ME=rn});var FE=x(()=>{om();rE();oE();dE();kE()});var LE={};it(LE,{AWSSDKSigV4Signer:()=>im,AwsSdkSigV4ASigner:()=>Hs,AwsSdkSigV4Signer:()=>Qe,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ln,NODE_SIGV4A_CONFIG_OPTIONS:()=>cE,getBearerTokenEnvKey:()=>Go,resolveAWSSDKSigV4Config:()=>ME,resolveAwsSdkSigV4AConfig:()=>aE,resolveAwsSdkSigV4Config:()=>rn,validateSigningProperties:()=>Fn});var Tm=x(()=>{FE();cm()});function Sr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function ea(e){return e[vm]=!0,e}var vm,ta=x(()=>{vm=Symbol("@smithy/core/cbor::tagSymbol")});function zE(e){fe=e,jt=new DataView(fe.buffer,fe.byteOffset,fe.byteLength)}function At(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(fe[e]&224)>>5,n=fe[e]&31;switch(r){case 0:case 1:case 6:let s,i;if(n<24)s=n,i=1;else switch(n){case 24:case 25:case 26:case 27:let o=jE[n],a=o+1;if(i=a,t-e<a)throw new Error(`countLength ${o} greater than remaining buf len.`);let d=e+1;o===1?s=fe[d]:o===2?s=jt.getUint16(d):o===4?s=jt.getUint32(d):s=jt.getBigUint64(d);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return Y=i,Im(s);if(r===1){let o;return typeof s=="bigint"?o=BigInt(-1)-s:o=-1-s,Y=i,Im(o)}else if(n===2||n===3){let o=Vs(e+i,t),a=BigInt(0),d=e+i+Y;for(let l=d;l<d+o;++l)a=a<<BigInt(8)|BigInt(fe[l]);return Y=i+Y+o,n===3?-a-BigInt(1):a}else if(n===4){let o=At(e+i,t),[a,d]=o,l=d<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(d)),p,g=d<0?"-":"";return p=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),p=p.replace(/^0+/g,""),p===""&&(p="0"),p[0]==="."&&(p="0"+p),p=g+p,Y=i+Y,Fu(p)}else{let o=At(e+i,t);return Y=i+Y,ea({tag:Im(s),value:o})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return T0(e,t);case 5:return R0(e,t);case 4:return A0(e,t);case 2:return v0(e,t)}else switch(r){case 3:return x0(e,t);case 5:return C0(e,t);case 4:return I0(e,t);case 2:return Om(e,t)}default:return N0(e,t)}}function HE(e,t,r){var n;return _0&&((n=e.constructor)==null?void 0:n.name)==="Buffer"?e.toString("utf-8",t,r):$E?$E.decode(e.subarray(t,r)):(0,UE.toUtf8)(e.subarray(t,r))}function w0(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function b0(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,i=r===0?1:-1,o,a;if(n===0){if(s===0)return 0;o=Math.pow(2,-14),a=0}else{if(n===31)return s===0?i*(1/0):NaN;o=Math.pow(2,n-15),a=1}return a+=s/1024,i*(o*a)}function Vs(e,t){let r=fe[e]&31;if(r<24)return Y=1,r;if(r===24||r===25||r===26||r===27){let n=jE[r];if(Y=n+1,t-e<Y)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?fe[s]:n===2?jt.getUint16(s):n===4?jt.getUint32(s):w0(jt.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function x0(e,t){let r=Vs(e,t),n=Y;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=HE(fe,e,e+r);return Y=n+r,s}function T0(e,t){e+=1;let r=[];for(let n=e;e<t;){if(fe[e]===255){let d=Sr(r.length);return d.set(r,0),Y=e-n+2,HE(d,0,d.length)}let s=(fe[e]&224)>>5,i=fe[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=Om(e,t);e+=Y;for(let d=0;d<o.length;++d)r.push(o[d])}throw new Error("expected break marker.")}function Om(e,t){let r=Vs(e,t),n=Y;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=fe.subarray(e,e+r);return Y=n+r,s}function v0(e,t){e+=1;let r=[];for(let n=e;e<t;){if(fe[e]===255){let d=Sr(r.length);return d.set(r,0),Y=e-n+2,d}let s=(fe[e]&224)>>5,i=fe[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(i===31)throw new Error("nested indefinite string.");let o=Om(e,t);e+=Y;for(let d=0;d<o.length;++d)r.push(o[d])}throw new Error("expected break marker.")}function I0(e,t){let r=Vs(e,t),n=Y;e+=n;let s=e,i=Array(r);for(let o=0;o<r;++o){let a=At(e,t),d=Y;i[o]=a,e+=d}return Y=n+(e-s),i}function A0(e,t){e+=1;let r=[];for(let n=e;e<t;){if(fe[e]===255)return Y=e-n+2,r;let s=At(e,t);e+=Y,r.push(s)}throw new Error("expected break marker.")}function C0(e,t){let r=Vs(e,t),n=Y;e+=n;let s=e,i={};for(let o=0;o<r;++o){if(e>=t)throw new Error("unexpected end of map payload.");let a=(fe[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let d=At(e,t);e+=Y;let l=At(e,t);e+=Y,i[d]=l}return Y=n+(e-s),i}function R0(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(fe[e]===255)return Y=e-r+2,n;let s=(fe[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let i=At(e,t);e+=Y;let o=At(e,t);e+=Y,n[i]=o}throw new Error("expected break marker.")}function N0(e,t){let r=fe[e]&31;switch(r){case 21:case 20:return Y=1,r===21;case 22:return Y=1,null;case 23:return Y=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return Y=3,b0(fe[e+1],fe[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return Y=5,jt.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return Y=9,jt.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Im(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var UE,E0,_0,fe,jt,$E,Y,jE,BE=x(()=>{Je();UE=I(Oe());ta();E0=typeof TextDecoder<"u",_0=typeof Buffer<"u",fe=Sr(0),jt=new DataView(fe.buffer,fe.byteOffset,fe.byteLength),$E=E0?new TextDecoder:null,Y=0;jE={[24]:1,[25]:2,[26]:4,[27]:8}});function Mm(e){B.byteLength-z<e&&(z<16e6?na(Math.max(B.byteLength*4,B.byteLength+e)):na(B.byteLength+e+16e6))}function km(){let e=Sr(z);return e.set(B.subarray(0,z),0),z=0,e}function na(e){let t=B;B=Sr(e),t&&(t.copy?t.copy(B,0,0,t.byteLength):B.set(t,0)),Vt=new DataView(B.buffer,B.byteOffset,B.byteLength)}function qt(e,t){t<24?B[z++]=e<<5|t:t<256?(B[z++]=e<<5|24,B[z++]=t):t<65536?(B[z++]=e<<5|25,Vt.setUint16(z,t),z+=2):t<2**32?(B[z++]=e<<5|26,Vt.setUint32(z,t),z+=4):(B[z++]=e<<5|27,Vt.setBigUint64(z,typeof t=="bigint"?t:BigInt(t)),z+=8)}function GE(e){var r;let t=[e];for(;t.length;){let n=t.pop();if(Mm(typeof n=="string"?n.length*4:64),typeof n=="string"){if(qE)qt(3,Buffer.byteLength(n)),z+=B.write(n,z);else{let s=(0,VE.fromUtf8)(n);qt(3,s.byteLength),B.set(s,z),z+=s.byteLength}continue}else if(typeof n=="number"){if(Number.isInteger(n)){let s=n>=0,i=s?0:1,o=s?n:-n-1;o<24?B[z++]=i<<5|o:o<256?(B[z++]=i<<5|24,B[z++]=o):o<65536?(B[z++]=i<<5|25,B[z++]=o>>8,B[z++]=o):o<4294967296?(B[z++]=i<<5|26,Vt.setUint32(z,o),z+=4):(B[z++]=i<<5|27,Vt.setBigUint64(z,BigInt(o)),z+=8);continue}B[z++]=251,Vt.setFloat64(z,n),z+=8;continue}else if(typeof n=="bigint"){let s=n>=0,i=s?0:1,o=s?n:-n-BigInt(1),a=Number(o);if(a<24)B[z++]=i<<5|a;else if(a<256)B[z++]=i<<5|24,B[z++]=a;else if(a<65536)B[z++]=i<<5|25,B[z++]=a>>8,B[z++]=a&255;else if(a<4294967296)B[z++]=i<<5|26,Vt.setUint32(z,a),z+=4;else if(o<BigInt("18446744073709551616"))B[z++]=i<<5|27,Vt.setBigUint64(z,o),z+=8;else{let d=o.toString(2),l=new Uint8Array(Math.ceil(d.length/8)),f=o,p=0;for(;l.byteLength-++p>=0;)l[l.byteLength-p]=Number(f&BigInt(255)),f>>=BigInt(8);Mm(l.byteLength*2),B[z++]=s?194:195,qE?qt(2,Buffer.byteLength(l)):qt(2,l.byteLength),B.set(l,z),z+=l.byteLength}continue}else if(n===null){B[z++]=246;continue}else if(typeof n=="boolean"){B[z++]=224|(n?21:20);continue}else{if(typeof n>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(n)){for(let s=n.length-1;s>=0;--s)t.push(n[s]);qt(4,n.length);continue}else if(typeof n.byteLength=="number"){Mm(n.length*2),qt(2,n.length),B.set(n,z),z+=n.byteLength;continue}else if(typeof n=="object"){if(n instanceof _e){let i=n.string.indexOf("."),o=i===-1?0:i-n.string.length+1,a=BigInt(n.string.replace(".",""));B[z++]=196,t.push(a),t.push(o),qt(4,2);continue}if(n[vm])if("tag"in n&&"value"in n){t.push(n.value),qt(6,n.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(n));let s=Object.keys(n);for(let i=s.length-1;i>=0;--i){let o=s[i];t.push(n[o]),t.push(o)}qt(5,s.length);continue}}throw new Error(`data type ${((r=n==null?void 0:n.constructor)==null?void 0:r.name)??typeof n} not compatible for encoding.`)}}var VE,qE,P0,B,Vt,z,WE=x(()=>{Je();VE=I(Oe());ta();qE=typeof Buffer<"u",P0=2048,B=Sr(P0),Vt=new DataView(B.buffer,B.byteOffset,B.byteLength),z=0});var Fm,KE=x(()=>{BE();WE();Fm={deserialize(e){return zE(e),At(0,e.length)},serialize(e){try{return GE(e),km()}catch(t){throw km(),t}},resizeEncodingBuffer(e){na(e)}}});var sa,ia,oa=x(()=>{ta();sa=e=>ea({tag:1,value:e.getTime()/1e3}),ia=(e,t)=>{let r=s=>{let i=s;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var Um,aa,Lm,$m,zm=x(()=>{Ye();be();Je();Um=I(De());KE();oa();aa=class extends Ve{createSerializer(){let t=new Lm;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new $m;return t.setSerdeContext(this.serdeContext),t}},Lm=class extends Ve{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){var s;let n=$.of(t);if(r==null)return n.isIdempotencyToken()?(0,It.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Um.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?sa(new Date(Number(r)/1e3|0)):sa(r);if(typeof r=="function"||typeof r=="object"){let i=r;if(n.isListSchema()&&Array.isArray(i)){let a=!!n.getMergedTraits().sparse,d=[],l=0;for(let f of i){let p=this.serialize(n.getValueSchema(),f);(p!=null||a)&&(d[l++]=p)}return d}if(i instanceof Date)return sa(i);let o={};if(n.isMapSchema()){let a=!!n.getMergedTraits().sparse;for(let d of Object.keys(i)){let l=this.serialize(n.getValueSchema(),i[d]);(l!=null||a)&&(o[d]=l)}}else if(n.isStructSchema())for(let[a,d]of n.structIterator()){let l=this.serialize(d,i[a]);l!=null&&(o[a]=l)}else if(n.isDocumentSchema())for(let a of Object.keys(i))o[a]=this.serialize(n.getValueSchema(),i[a]);return o}return r}flush(){let t=Fm.serialize(this.value);return this.value=void 0,t}},$m=class extends Ve{read(t,r){let n=Fm.deserialize(r);return this.readValue(t,n)}readValue(t,r){var s;let n=$.of(t);if(n.isTimestampSchema()&&typeof r=="number")return ks(r);if(n.isBlobSchema())return typeof r=="string"?(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Um.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let o=[],a=n.getValueSchema(),d=!!n.getMergedTraits().sparse;for(let l of r){let f=this.readValue(a,l);(f!=null||d)&&o.push(f)}return o}let i={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,a=n.getValueSchema();for(let d of Object.keys(r)){let l=this.readValue(a,r[d]);(l!=null||o)&&(i[d]=l)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator())i[o]=this.readValue(a,r[o]);return i}else return r}}});var JE,ca,YE=x(()=>{Ye();be();JE=I(Ke());zm();oa();ca=class extends Ut{codec=new aa;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),ot(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:i,operation:o}=(0,JE.getSmithyContext)(n),a=`/service/${i}/operation/${o}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){let o=ia(n,s)??"Unknown",a=this.options.defaultNamespace;o.includes("#")&&([a]=o.split("#"));let d={$metadata:i,$response:n,$fault:n.statusCode<=500?"client":"server"},l=Ae.for(a),f;try{f=l.getSchema(o)}catch{s.Message&&(s.message=s.Message);let R=Ae.for("smithy.ts.sdk.synthetic."+a),O=R.getBaseException();if(O){let D=R.getErrorCtor(O);throw Object.assign(new D({name:o}),d,s)}throw Object.assign(new Error(o),d,s)}let p=$.of(f),g=l.getErrorCtor(f),h=s.message??s.Message??"Unknown",y=new g(h),w={};for(let[v,R]of p.structIterator())w[v]=this.deserializer.readValue(R,s[v]);throw Object.assign(y,d,{$fault:p.getMergedTraits().error,message:h},w)}getDefaultContentType(){return"application/cbor"}}});var XE=x(()=>{oa();YE();zm()});var at,Hn=x(()=>{be();at=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){let i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(o=>{let{httpQuery:a,httpQueryParams:d,httpHeader:l,httpLabel:f,httpPrefixHeaders:p}=o.getMergedTraits();return!a&&!d&&!l&&!f&&p===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,i,o){let a=r,d=t;t.includes("#")&&([a,d]=t.split("#"));let l={$metadata:i,$response:n,$fault:n.statusCode<500?"client":"server"},f=Ae.for(a);try{return{errorSchema:(o==null?void 0:o(f,d))??f.getSchema(t),errorMetadata:l}}catch{s.message=s.message??s.Message??"UnknownError";let g=Ae.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let y=g.getErrorCtor(h)??Error;throw Object.assign(new y({name:d}),l,s)}throw Object.assign(new Error(d),l,s)}}setQueryCompatError(t,r){var s;let n=(s=r.headers)==null?void 0:s["x-amzn-query-error"];if(t!==void 0&&n!=null){let[i,o]=n.split(";"),a=Object.entries(t),d={Code:i,Type:o};Object.assign(t,d);for(let[l,f]of a)d[l]=f;delete d.__type,t.Error=d}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var Hm,QE=x(()=>{XE();be();Hn();Hm=class extends ca{awsQueryCompatible;mixin=new at;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=ia(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=$.of(a),f=s.message??s.Message??"Unknown",p=Ae.for(a[1]).getErrorCtor(a)??Error,g=new p(f),h={};for(let[y,w]of l.structIterator())h[y]=this.deserializer.readValue(w,s[y]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(g,d,{$fault:l.getMergedTraits().error,message:f},h)}}});var O0,D0,M0,ZE=x(()=>{O0=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},D0=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},M0=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var ze,wr=x(()=>{ze=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function e_(e,t,r){if(r!=null&&r.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new _e(n,"bigDecimal"):BigInt(n)}return t}var t_=x(()=>{Je()});var i_=P(s_=>{"use strict";var nn=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},br=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,jm=()=>{let e=[],t=[],r=!1,n=new Set,s=p=>p.sort((g,h)=>r_[h.step]-r_[g.step]||n_[h.priority||"normal"]-n_[g.priority||"normal"]),i=p=>{let g=!1,h=y=>{let w=nn(y.name,y.aliases);if(w.includes(p)){g=!0;for(let v of w)n.delete(v);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},o=p=>{let g=!1,h=y=>{if(y.middleware===p){g=!0;for(let w of nn(y.name,y.aliases))n.delete(w);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},a=p=>{var g;return e.forEach(h=>{p.add(h.middleware,{...h})}),t.forEach(h=>{p.addRelativeTo(h.middleware,{...h})}),(g=p.identifyOnResolve)==null||g.call(p,f.identifyOnResolve()),p},d=p=>{let g=[];return p.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...d(h))}),g.push(p),p.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...d(h))}),g},l=(p=!1)=>{let g=[],h=[],y={};return e.forEach(v=>{let R={...v,before:[],after:[]};for(let O of nn(R.name,R.aliases))y[O]=R;g.push(R)}),t.forEach(v=>{let R={...v,before:[],after:[]};for(let O of nn(R.name,R.aliases))y[O]=R;h.push(R)}),h.forEach(v=>{if(v.toMiddleware){let R=y[v.toMiddleware];if(R===void 0){if(p)return;throw new Error(`${v.toMiddleware} is not found when adding ${br(v.name,v.aliases)} middleware ${v.relation} ${v.toMiddleware}`)}v.relation==="after"&&R.after.push(v),v.relation==="before"&&R.before.push(v)}}),s(g).map(d).reduce((v,R)=>(v.push(...R),v),[])},f={add:(p,g={})=>{let{name:h,override:y,aliases:w}=g,v={step:"initialize",priority:"normal",middleware:p,...g},R=nn(h,w);if(R.length>0){if(R.some(O=>n.has(O))){if(!y)throw new Error(`Duplicate middleware name '${br(h,w)}'`);for(let O of R){let D=e.findIndex(U=>{var J;return U.name===O||((J=U.aliases)==null?void 0:J.some(ge=>ge===O))});if(D===-1)continue;let j=e[D];if(j.step!==v.step||v.priority!==j.priority)throw new Error(`"${br(j.name,j.aliases)}" middleware with ${j.priority} priority in ${j.step} step cannot be overridden by "${br(h,w)}" middleware with ${v.priority} priority in ${v.step} step.`);e.splice(D,1)}}for(let O of R)n.add(O)}e.push(v)},addRelativeTo:(p,g)=>{let{name:h,override:y,aliases:w}=g,v={middleware:p,...g},R=nn(h,w);if(R.length>0){if(R.some(O=>n.has(O))){if(!y)throw new Error(`Duplicate middleware name '${br(h,w)}'`);for(let O of R){let D=t.findIndex(U=>{var J;return U.name===O||((J=U.aliases)==null?void 0:J.some(ge=>ge===O))});if(D===-1)continue;let j=t[D];if(j.toMiddleware!==v.toMiddleware||j.relation!==v.relation)throw new Error(`"${br(j.name,j.aliases)}" middleware ${j.relation} "${j.toMiddleware}" middleware cannot be overridden by "${br(h,w)}" middleware ${v.relation} "${v.toMiddleware}" middleware.`);t.splice(D,1)}}for(let O of R)n.add(O)}t.push(v)},clone:()=>a(jm()),use:p=>{p.applyToStack(f)},remove:p=>typeof p=="string"?i(p):o(p),removeByTag:p=>{let g=!1,h=y=>{let{tags:w,name:v,aliases:R}=y;if(w&&w.includes(p)){let O=nn(v,R);for(let D of O)n.delete(D);return g=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),g},concat:p=>{var h;let g=a(jm());return g.use(p),g.identifyOnResolve(r||g.identifyOnResolve()||(((h=p.identifyOnResolve)==null?void 0:h.call(p))??!1)),g},applyToStack:a,identify:()=>l(!0).map(p=>{let g=p.step??p.relation+" "+p.toMiddleware;return br(p.name,p.aliases)+" - "+g}),identifyOnResolve(p){return typeof p=="boolean"&&(r=p),r},resolve:(p,g)=>{for(let h of l().map(y=>y.middleware).reverse())p=h(p,g);return r&&console.log(f.identify()),p}};return f},r_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},n_={high:3,normal:2,low:1};s_.constructStack=jm});var X=P(me=>{"use strict";var c_=i_(),Xm=(Ye(),le(ly)),qm=ir(),k0=(be(),le(rS)),o_=(Je(),le(JS)),Vm=class{config;middlewareStack=c_.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=s===void 0&&this.config.cacheMiddleware===!0,a;if(o){this.handlers||(this.handlers=new WeakMap);let d=this.handlers;d.has(t.constructor)?a=d.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),d.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(t).then(d=>i(null,d.output),d=>i(d)).catch(()=>{});else return a(t).then(d=>d.output)}destroy(){var t,r,n;(n=(r=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:r.destroy)==null||n.call(r),delete this.handlers}},Bm="***SensitiveInformation***";function Gm(e,t){if(t==null)return t;let r=k0.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Bm;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Bm}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Bm}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[i,o]of r.structIterator())n[i]!=null&&(s[i]=Gm(o,n[i]));return s}return t}var da=class{middlewareStack=c_.constructStack();schema;static classBuilder(){return new Wm}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,smithyContext:l,additionalContext:f,CommandCtor:p}){for(let v of s.bind(this)(p,t,r,n))this.middlewareStack.use(v);let g=t.concat(this.middlewareStack),{logger:h}=r,y={logger:h,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,[qm.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...f},{requestHandler:w}=r;return g.resolve(v=>w.handle(v.request,n||{}),y)}},Wm=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends da{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,i){let o=t._operationSchema,a=(o==null?void 0:o[4])??(o==null?void 0:o.input),d=(o==null?void 0:o[5])??(o==null?void 0:o.output);return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(o?Gm.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(o?Gm.bind(null,d):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},F0="***SensitiveInformation***",L0=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(o,a,d){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof d=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},d)}else return this.send(l,a)},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=s}},Km=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},d_=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},l_=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=U0(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||i||"UnknownError",$fault:"client",$metadata:s});throw d_(o,t)},$0=e=>({output:t,parsedBody:r,errorCode:n})=>{l_({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},U0=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),z0=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},a_=!1,H0=e=>{e&&!a_&&parseInt(e.substring(1,e.indexOf(".")))<16&&(a_=!0)},j0=e=>{let t=[];for(let r in qm.AlgorithmId){let n=qm.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},B0=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},q0=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),V0=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},u_=e=>Object.assign(j0(e),q0(e)),G0=u_,W0=e=>Object.assign(B0(e),V0(e)),K0=e=>Array.isArray(e)?e:[e],m_=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=m_(e[r]));return e},J0=e=>e!=null,Jm=class{trace(){}debug(){}info(){}warn(){}error(){}};function f_(e,t,r){let n,s,i;if(typeof t>"u"&&typeof r>"u")n={},i=e;else{if(n=e,typeof t=="function")return s=t,i=r,Q0(n,s,i);i=t}for(let o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}p_(n,null,i,o)}return n}var Y0=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},X0=(e,t)=>{let r={};for(let n in t)p_(r,e,t,n);return r},Q0=(e,t,r)=>f_(e,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[t,i()]:n[s]=[t,i],n),{})),p_=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=Z0,d=eO,l=n]=o;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=d(t[l]));return}let[s,i]=r[n];if(typeof i=="function"){let o,a=s===void 0&&(o=i())!=null,d=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=o:d&&(e[n]=i())}else{let o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(e[n]=i)}},Z0=e=>e!=null,eO=e=>e,tO=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},rO=e=>e.toISOString().replace(".000Z","Z"),Ym=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Ym);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Ym(e[r]));return t}return e};Object.defineProperty(me,"collectBody",{enumerable:!0,get:function(){return Xm.collectBody}});Object.defineProperty(me,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Xm.extendedEncodeURIComponent}});Object.defineProperty(me,"resolvedPath",{enumerable:!0,get:function(){return Xm.resolvedPath}});me.Client=Vm;me.Command=da;me.NoOpLogger=Jm;me.SENSITIVE_STRING=F0;me.ServiceException=Km;me._json=Ym;me.convertMap=Y0;me.createAggregatedClient=L0;me.decorateServiceException=d_;me.emitWarningIfUnsupportedVersion=H0;me.getArrayIfSingleItem=K0;me.getDefaultClientConfiguration=G0;me.getDefaultExtensionConfiguration=u_;me.getValueFromTextNode=m_;me.isSerializableHeaderValue=J0;me.loadConfigsForDefaultMode=z0;me.map=f_;me.resolveDefaultRuntimeConfig=W0;me.serializeDateTime=rO;me.serializeFloat=tO;me.take=X0;me.throwDefaultError=l_;me.withBaseException=$0;Object.keys(o_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(me,e)&&Object.defineProperty(me,e,{enumerable:!0,get:function(){return o_[e]}})})});var h_,g_,la,Qm=x(()=>{h_=I(X()),g_=I(Oe()),la=(e,t)=>(0,h_.collectBody)(e,t).then(r=>((t==null?void 0:t.utf8Encoder)??g_.toUtf8)(r))});var jn,Zm,sn,Gs=x(()=>{Qm();jn=(e,t)=>la(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw(n==null?void 0:n.name)==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Zm=async(e,t)=>{let r=await jn(e,t);return r.message=r.message??r.Message,r},sn=(e,t)=>{let r=(i,o)=>Object.keys(i).find(a=>a.toLowerCase()===o.toLowerCase()),n=i=>{let o=i;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let i=r(t,"code");if(i&&t[i]!==void 0)return n(t[i]);if(t.__type!==void 0)return n(t.__type)}}});var S_,Ws,ef=x(()=>{Ye();be();Je();S_=I(De());wr();t_();Gs();Ws=class extends ze{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,e_):await jn(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=$.of(t);if(s.isListSchema()&&Array.isArray(r)){let o=s.getValueSchema(),a=[],d=!!s.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&a.push(this._read(o,l));return a}else if(s.isMapSchema()&&n){let o=s.getValueSchema(),a={},d=!!s.getMergedTraits().sparse;for(let[l,f]of Object.entries(r))(d||f!=null)&&(a[l]=this._read(o,f));return a}else if(s.isStructSchema()&&n){let o={};for(let[a,d]of s.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??a:a,f=this._read(d,r[l]);f!=null&&(o[a]=f)}return o}if(s.isBlobSchema()&&typeof r=="string")return(0,S_.fromBase64)(r);let i=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&i&&(i==="application/json"||i.endsWith("+json")))return qe.from(r);if(s.isTimestampSchema()&&r!=null)switch(tt(s,this.settings)){case 5:return xu(r);case 6:return Tu(r);case 7:return vu(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof _e)return r;let o=r;return o.type==="bigDecimal"&&"string"in o?new _e(o.string,o.type):new _e(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let o=Array.isArray(r)?[]:{};for(let[a,d]of Object.entries(r))d instanceof _e?o[a]=d:o[a]=this._read(s,d);return o}else return structuredClone(r);return r}}});var y_,ua,E_=x(()=>{Je();y_="\u039D",ua=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof _e){let n=`${y_+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${y_+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var __,Ks,tf=x(()=>{Ye();be();Je();__=I(De());wr();E_();Ks=class extends ze{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=$.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=$.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t!=null&&t.isStructSchema()||t!=null&&t.isDocumentSchema()){let r=new ua;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){var o,a;let s=r!==null&&typeof r=="object",i=$.of(t);if(i.isListSchema()&&Array.isArray(r)){let d=i.getValueSchema(),l=[],f=!!i.getMergedTraits().sparse;for(let p of r)(f||p!=null)&&l.push(this._write(d,p));return l}else if(i.isMapSchema()&&s){let d=i.getValueSchema(),l={},f=!!i.getMergedTraits().sparse;for(let[p,g]of Object.entries(r))(f||g!=null)&&(l[p]=this._write(d,g));return l}else if(i.isStructSchema()&&s){let d={};for(let[l,f]of i.structIterator()){let p=this.settings.jsonName?f.getMergedTraits().jsonName??l:l,g=this._write(f,r[l],i);g!==void 0&&(d[p]=g)}return d}if(!(r===null&&(n!=null&&n.isStructSchema()))){if(i.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||i.isDocumentSchema()&&r instanceof Uint8Array)return i===this.rootSchema?r:(o=this.serdeContext)!=null&&o.base64Encoder?(a=this.serdeContext)==null?void 0:a.base64Encoder(r):(0,__.toBase64)(r);if((i.isTimestampSchema()||i.isDocumentSchema())&&r instanceof Date)switch(tt(i,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Os(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(i.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(i.isStringSchema()){if(typeof r>"u"&&i.isIdempotencyToken())return(0,It.v4)();let d=i.getMergedTraits().mediaType;if(r!=null&&d&&(d==="application/json"||d.endsWith("+json")))return qe.from(r)}if(i.isDocumentSchema())if(s){let d=Array.isArray(r)?[]:{};for(let[l,f]of Object.entries(r))f instanceof _e?d[l]=f:d[l]=this._write(i,f);return d}else return structuredClone(r);return r}}}});var on,ma=x(()=>{wr();ef();tf();on=class extends ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Ks(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ws(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var an,fa=x(()=>{Ye();be();Hn();ma();Gs();an=class extends Ut{serializer;deserializer;serviceTarget;codec;mixin=new at;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new on({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(ot(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,i){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let o=sn(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=$.of(a),f=s.message??s.Message??"Unknown",p=Ae.for(a[1]).getErrorCtor(a)??Error,g=new p(f),h={};for(let[y,w]of l.structIterator()){let v=w.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(w,s[v])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(g,d,{$fault:l.getMergedTraits().error,message:f},h)}}});var rf,w_=x(()=>{fa();rf=class extends an{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var nf,b_=x(()=>{fa();nf=class extends an{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var sf,x_=x(()=>{Ye();be();Hn();ma();Gs();sf=class extends Kr{serializer;deserializer;codec;mixin=new at;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new on(r),this.serializer=new Xr(this.codec.createSerializer(),r),this.deserializer=new Yr(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=$.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(t,r,n,s,i){let o=sn(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=$.of(a),f=s.message??s.Message??"Unknown",p=Ae.for(a[1]).getErrorCtor(a)??Error,g=new p(f);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[y,w]of l.structIterator()){let v=w.getMergedTraits().jsonName??y;h[y]=this.codec.createDeserializer().readObject(w,s[v])}throw Object.assign(g,d,{$fault:l.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/json"}}});var T_,nO,v_=x(()=>{T_=I(X()),nO=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,T_.expectUnion)(e)}});var A_=P((MG,I_)=>{(()=>{"use strict";var e={d:(u,m)=>{for(var S in m)e.o(m,S)&&!e.o(u,S)&&Object.defineProperty(u,S,{enumerable:!0,get:m[S]})},o:(u,m)=>Object.prototype.hasOwnProperty.call(u,m),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>nr,XMLParser:()=>xC,XMLValidator:()=>PC});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,m){let S=[],b=m.exec(u);for(;b;){let E=[];E.startIndex=m.lastIndex-b[0].length;let _=b.length;for(let C=0;C<_;C++)E.push(b[C]);S.push(E),b=m.exec(u)}return S}let i=function(u){return n.exec(u)!=null},o={allowBooleanAttributes:!1,unpairedTags:[]};function a(u,m){m=Object.assign({},o,m);let S=[],b=!1,E=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let _=0;_<u.length;_++)if(u[_]==="<"&&u[_+1]==="?"){if(_+=2,_=l(u,_),_.err)return _}else{if(u[_]!=="<"){if(d(u[_]))continue;return R("InvalidChar","char '"+u[_]+"' is not expected.",D(u,_))}{let C=_;if(_++,u[_]==="!"){_=f(u,_);continue}{let A=!1;u[_]==="/"&&(A=!0,_++);let N="";for(;_<u.length&&u[_]!==">"&&u[_]!==" "&&u[_]!=="	"&&u[_]!==`
`&&u[_]!=="\r";_++)N+=u[_];if(N=N.trim(),N[N.length-1]==="/"&&(N=N.substring(0,N.length-1),_--),!i(N)){let H;return H=N.trim().length===0?"Invalid space after '<'.":"Tag '"+N+"' is an invalid name.",R("InvalidTag",H,D(u,_))}let k=h(u,_);if(k===!1)return R("InvalidAttr","Attributes for '"+N+"' have open quote.",D(u,_));let q=k.value;if(_=k.index,q[q.length-1]==="/"){let H=_-q.length;q=q.substring(0,q.length-1);let ie=w(q,m);if(ie!==!0)return R(ie.err.code,ie.err.msg,D(u,H+ie.err.line));b=!0}else if(A){if(!k.tagClosed)return R("InvalidTag","Closing tag '"+N+"' doesn't have proper closing.",D(u,_));if(q.trim().length>0)return R("InvalidTag","Closing tag '"+N+"' can't have attributes or invalid starting.",D(u,C));if(S.length===0)return R("InvalidTag","Closing tag '"+N+"' has not been opened.",D(u,C));{let H=S.pop();if(N!==H.tagName){let ie=D(u,H.tagStartPos);return R("InvalidTag","Expected closing tag '"+H.tagName+"' (opened in line "+ie.line+", col "+ie.col+") instead of closing tag '"+N+"'.",D(u,C))}S.length==0&&(E=!0)}}else{let H=w(q,m);if(H!==!0)return R(H.err.code,H.err.msg,D(u,_-q.length+H.err.line));if(E===!0)return R("InvalidXml","Multiple possible root nodes found.",D(u,_));m.unpairedTags.indexOf(N)!==-1||S.push({tagName:N,tagStartPos:C}),b=!0}for(_++;_<u.length;_++)if(u[_]==="<"){if(u[_+1]==="!"){_++,_=f(u,_);continue}if(u[_+1]!=="?")break;if(_=l(u,++_),_.err)return _}else if(u[_]==="&"){let H=v(u,_);if(H==-1)return R("InvalidChar","char '&' is not expected.",D(u,_));_=H}else if(E===!0&&!d(u[_]))return R("InvalidXml","Extra text at the end",D(u,_));u[_]==="<"&&_--}}}return b?S.length==1?R("InvalidTag","Unclosed tag '"+S[0].tagName+"'.",D(u,S[0].tagStartPos)):!(S.length>0)||R("InvalidXml","Invalid '"+JSON.stringify(S.map(_=>_.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):R("InvalidXml","Start tag expected.",1)}function d(u){return u===" "||u==="	"||u===`
`||u==="\r"}function l(u,m){let S=m;for(;m<u.length;m++)if(!(u[m]!="?"&&u[m]!=" ")){let b=u.substr(S,m-S);if(m>5&&b==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",D(u,m));if(u[m]=="?"&&u[m+1]==">"){m++;break}}return m}function f(u,m){if(u.length>m+5&&u[m+1]==="-"&&u[m+2]==="-"){for(m+=3;m<u.length;m++)if(u[m]==="-"&&u[m+1]==="-"&&u[m+2]===">"){m+=2;break}}else if(u.length>m+8&&u[m+1]==="D"&&u[m+2]==="O"&&u[m+3]==="C"&&u[m+4]==="T"&&u[m+5]==="Y"&&u[m+6]==="P"&&u[m+7]==="E"){let S=1;for(m+=8;m<u.length;m++)if(u[m]==="<")S++;else if(u[m]===">"&&(S--,S===0))break}else if(u.length>m+9&&u[m+1]==="["&&u[m+2]==="C"&&u[m+3]==="D"&&u[m+4]==="A"&&u[m+5]==="T"&&u[m+6]==="A"&&u[m+7]==="["){for(m+=8;m<u.length;m++)if(u[m]==="]"&&u[m+1]==="]"&&u[m+2]===">"){m+=2;break}}return m}let p='"',g="'";function h(u,m){let S="",b="",E=!1;for(;m<u.length;m++){if(u[m]===p||u[m]===g)b===""?b=u[m]:b!==u[m]||(b="");else if(u[m]===">"&&b===""){E=!0;break}S+=u[m]}return b===""&&{value:S,index:m,tagClosed:E}}let y=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function w(u,m){let S=s(u,y),b={};for(let E=0;E<S.length;E++){if(S[E][1].length===0)return R("InvalidAttr","Attribute '"+S[E][2]+"' has no space in starting.",j(S[E]));if(S[E][3]!==void 0&&S[E][4]===void 0)return R("InvalidAttr","Attribute '"+S[E][2]+"' is without value.",j(S[E]));if(S[E][3]===void 0&&!m.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+S[E][2]+"' is not allowed.",j(S[E]));let _=S[E][2];if(!O(_))return R("InvalidAttr","Attribute '"+_+"' is an invalid name.",j(S[E]));if(b.hasOwnProperty(_))return R("InvalidAttr","Attribute '"+_+"' is repeated.",j(S[E]));b[_]=1}return!0}function v(u,m){if(u[++m]===";")return-1;if(u[m]==="#")return function(b,E){let _=/\d/;for(b[E]==="x"&&(E++,_=/[\da-fA-F]/);E<b.length;E++){if(b[E]===";")return E;if(!b[E].match(_))break}return-1}(u,++m);let S=0;for(;m<u.length;m++,S++)if(!(u[m].match(/\w/)&&S<20)){if(u[m]===";")break;return-1}return m}function R(u,m,S){return{err:{code:u,msg:m,line:S.line||S,col:S.col}}}function O(u){return i(u)}function D(u,m){let S=u.substring(0,m).split(/\r?\n/);return{line:S.length,col:S[S.length-1].length+1}}function j(u){return u.startIndex+u[1].length}let U={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,m,S){return u},captureMetaData:!1},J;J=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class ge{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,S){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:S})}addChild(m,S){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),S!==void 0&&(this.child[this.child.length-1][J]={startIndex:S})}static getMetaDataSymbol(){return J}}function We(u,m){let S={};if(u[m+3]!=="O"||u[m+4]!=="C"||u[m+5]!=="T"||u[m+6]!=="Y"||u[m+7]!=="P"||u[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let b=1,E=!1,_=!1,C="";for(;m<u.length;m++)if(u[m]!=="<"||_)if(u[m]===">"){if(_?u[m-1]==="-"&&u[m-2]==="-"&&(_=!1,b--):b--,b===0)break}else u[m]==="["?E=!0:C+=u[m];else{if(E&&Br(u,"!ENTITY",m)){let A,N;m+=7,[A,N,m]=rr(u,m+1),N.indexOf("&")===-1&&(S[A]={regx:RegExp(`&${A};`,"g"),val:N})}else if(E&&Br(u,"!ELEMENT",m)){m+=8;let{index:A}=sl(u,m+1);m=A}else if(E&&Br(u,"!ATTLIST",m))m+=8;else if(E&&Br(u,"!NOTATION",m)){m+=9;let{index:A}=ae(u,m+1);m=A}else{if(!Br(u,"!--",m))throw new Error("Invalid DOCTYPE");_=!0}b++,C=""}if(b!==0)throw new Error("Unclosed DOCTYPE")}return{entities:S,i:m}}let Se=(u,m)=>{for(;m<u.length&&/\s/.test(u[m]);)m++;return m};function rr(u,m){m=Se(u,m);let S="";for(;m<u.length&&!/\s/.test(u[m])&&u[m]!=='"'&&u[m]!=="'";)S+=u[m],m++;if(il(S),m=Se(u,m),u.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[m]==="%")throw new Error("Parameter entities are not supported");let b="";return[m,b]=Le(u,m,"entity"),[S,b,--m]}function ae(u,m){m=Se(u,m);let S="";for(;m<u.length&&!/\s/.test(u[m]);)S+=u[m],m++;il(S),m=Se(u,m);let b=u.substring(m,m+6).toUpperCase();if(b!=="SYSTEM"&&b!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${b}"`);m+=b.length,m=Se(u,m);let E=null,_=null;if(b==="PUBLIC")[m,E]=Le(u,m,"publicIdentifier"),u[m=Se(u,m)]!=='"'&&u[m]!=="'"||([m,_]=Le(u,m,"systemIdentifier"));else if(b==="SYSTEM"&&([m,_]=Le(u,m,"systemIdentifier"),!_))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:S,publicIdentifier:E,systemIdentifier:_,index:--m}}function Le(u,m,S){let b="",E=u[m];if(E!=='"'&&E!=="'")throw new Error(`Expected quoted string, found "${E}"`);for(m++;m<u.length&&u[m]!==E;)b+=u[m],m++;if(u[m]!==E)throw new Error(`Unterminated ${S} value`);return[++m,b]}function sl(u,m){m=Se(u,m);let S="";for(;m<u.length&&!/\s/.test(u[m]);)S+=u[m],m++;if(!il(S))throw new Error(`Invalid element name: "${S}"`);let b="";if(u[m=Se(u,m)]==="E"&&Br(u,"MPTY",m))m+=4;else if(u[m]==="A"&&Br(u,"NY",m))m+=2;else{if(u[m]!=="(")throw new Error(`Invalid Element Expression, found "${u[m]}"`);for(m++;m<u.length&&u[m]!==")";)b+=u[m],m++;if(u[m]!==")")throw new Error("Unterminated content model")}return{elementName:S,contentModel:b.trim(),index:m}}function Br(u,m,S){for(let b=0;b<m.length;b++)if(m[b]!==u[S+b+1])return!1;return!0}function il(u){if(i(u))return u;throw new Error(`Invalid entity name ${u}`)}let nC=/^[-+]?0x[a-fA-F0-9]+$/,sC=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,iC={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},oC=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function ch(u){return typeof u=="function"?u:Array.isArray(u)?m=>{for(let S of u)if(typeof S=="string"&&m===S||S instanceof RegExp&&S.test(m))return!0}:()=>!1}class aC{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(S,b)=>String.fromCodePoint(Number.parseInt(b,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(S,b)=>String.fromCodePoint(Number.parseInt(b,16))}},this.addExternalEntities=cC,this.parseXml=fC,this.parseTextData=dC,this.resolveNameSpace=lC,this.buildAttributesMap=mC,this.isItStopNode=SC,this.replaceEntitiesValue=hC,this.readStopNodeData=yC,this.saveTextToParentTag=gC,this.addChild=pC,this.ignoreAttributesFn=ch(this.options.ignoreAttributes)}}function cC(u){let m=Object.keys(u);for(let S=0;S<m.length;S++){let b=m[S];this.lastEntities[b]={regex:new RegExp("&"+b+";","g"),val:u[b]}}}function dC(u,m,S,b,E,_,C){if(u!==void 0&&(this.options.trimValues&&!b&&(u=u.trim()),u.length>0)){C||(u=this.replaceEntitiesValue(u));let A=this.options.tagValueProcessor(m,u,S,E,_);return A==null?u:typeof A!=typeof u||A!==u?A:this.options.trimValues||u.trim()===u?dh(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function lC(u){if(this.options.removeNSPrefix){let m=u.split(":"),S=u.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(u=S+m[1])}return u}let uC=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function mC(u,m,S){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let b=s(u,uC),E=b.length,_={};for(let C=0;C<E;C++){let A=this.resolveNameSpace(b[C][1]);if(this.ignoreAttributesFn(A,m))continue;let N=b[C][4],k=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(k=this.options.transformAttributeName(k)),k==="__proto__"&&(k="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);let q=this.options.attributeValueProcessor(A,N,m);_[k]=q==null?N:typeof q!=typeof N||q!==N?q:dh(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(_[k]=!0)}if(!Object.keys(_).length)return;if(this.options.attributesGroupName){let C={};return C[this.options.attributesGroupName]=_,C}return _}}let fC=function(u){u=u.replace(/\r\n?/g,`
`);let m=new ge("!xml"),S=m,b="",E="";for(let _=0;_<u.length;_++)if(u[_]==="<")if(u[_+1]==="/"){let C=qr(u,">",_,"Closing Tag is not closed."),A=u.substring(_+2,C).trim();if(this.options.removeNSPrefix){let q=A.indexOf(":");q!==-1&&(A=A.substr(q+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),S&&(b=this.saveTextToParentTag(b,S,E));let N=E.substring(E.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let k=0;N&&this.options.unpairedTags.indexOf(N)!==-1?(k=E.lastIndexOf(".",E.lastIndexOf(".")-1),this.tagsNodeStack.pop()):k=E.lastIndexOf("."),E=E.substring(0,k),S=this.tagsNodeStack.pop(),b="",_=C}else if(u[_+1]==="?"){let C=ol(u,_,!1,"?>");if(!C)throw new Error("Pi Tag is not closed.");if(b=this.saveTextToParentTag(b,S,E),!(this.options.ignoreDeclaration&&C.tagName==="?xml"||this.options.ignorePiTags)){let A=new ge(C.tagName);A.add(this.options.textNodeName,""),C.tagName!==C.tagExp&&C.attrExpPresent&&(A[":@"]=this.buildAttributesMap(C.tagExp,E,C.tagName)),this.addChild(S,A,E,_)}_=C.closeIndex+1}else if(u.substr(_+1,3)==="!--"){let C=qr(u,"-->",_+4,"Comment is not closed.");if(this.options.commentPropName){let A=u.substring(_+4,C-2);b=this.saveTextToParentTag(b,S,E),S.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}_=C}else if(u.substr(_+1,2)==="!D"){let C=We(u,_);this.docTypeEntities=C.entities,_=C.i}else if(u.substr(_+1,2)==="!["){let C=qr(u,"]]>",_,"CDATA is not closed.")-2,A=u.substring(_+9,C);b=this.saveTextToParentTag(b,S,E);let N=this.parseTextData(A,S.tagname,E,!0,!1,!0,!0);N==null&&(N=""),this.options.cdataPropName?S.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):S.add(this.options.textNodeName,N),_=C+2}else{let C=ol(u,_,this.options.removeNSPrefix),A=C.tagName,N=C.rawTagName,k=C.tagExp,q=C.attrExpPresent,H=C.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),S&&b&&S.tagname!=="!xml"&&(b=this.saveTextToParentTag(b,S,E,!1));let ie=S;ie&&this.options.unpairedTags.indexOf(ie.tagname)!==-1&&(S=this.tagsNodeStack.pop(),E=E.substring(0,E.lastIndexOf("."))),A!==m.tagname&&(E+=E?"."+A:A);let ue=_;if(this.isItStopNode(this.options.stopNodes,E,A)){let oe="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),E=E.substr(0,E.length-1),k=A):k=k.substr(0,k.length-1),_=C.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)_=C.closeIndex;else{let xt=this.readStopNodeData(u,N,H+1);if(!xt)throw new Error(`Unexpected end of ${N}`);_=xt.i,oe=xt.tagContent}let Ie=new ge(A);A!==k&&q&&(Ie[":@"]=this.buildAttributesMap(k,E,A)),oe&&(oe=this.parseTextData(oe,A,E,!0,q,!0,!0)),E=E.substr(0,E.lastIndexOf(".")),Ie.add(this.options.textNodeName,oe),this.addChild(S,Ie,E,ue)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),E=E.substr(0,E.length-1),k=A):k=k.substr(0,k.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));let oe=new ge(A);A!==k&&q&&(oe[":@"]=this.buildAttributesMap(k,E,A)),this.addChild(S,oe,E,ue),E=E.substr(0,E.lastIndexOf("."))}else{let oe=new ge(A);this.tagsNodeStack.push(S),A!==k&&q&&(oe[":@"]=this.buildAttributesMap(k,E,A)),this.addChild(S,oe,E,ue),S=oe}b="",_=H}}else b+=u[_];return m.child};function pC(u,m,S,b){this.options.captureMetaData||(b=void 0);let E=this.options.updateTag(m.tagname,S,m[":@"]);E===!1||(typeof E=="string"&&(m.tagname=E),u.addChild(m,b))}let hC=function(u){if(this.options.processEntities){for(let m in this.docTypeEntities){let S=this.docTypeEntities[m];u=u.replace(S.regx,S.val)}for(let m in this.lastEntities){let S=this.lastEntities[m];u=u.replace(S.regex,S.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let S=this.htmlEntities[m];u=u.replace(S.regex,S.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function gC(u,m,S,b){return u&&(b===void 0&&(b=m.child.length===0),(u=this.parseTextData(u,m.tagname,S,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,b))!==void 0&&u!==""&&m.add(this.options.textNodeName,u),u=""),u}function SC(u,m,S){let b="*."+S;for(let E in u){let _=u[E];if(b===_||m===_)return!0}return!1}function qr(u,m,S,b){let E=u.indexOf(m,S);if(E===-1)throw new Error(b);return E+m.length-1}function ol(u,m,S,b=">"){let E=function(H,ie,ue=">"){let oe,Ie="";for(let xt=ie;xt<H.length;xt++){let sr=H[xt];if(oe)sr===oe&&(oe="");else if(sr==='"'||sr==="'")oe=sr;else if(sr===ue[0]){if(!ue[1])return{data:Ie,index:xt};if(H[xt+1]===ue[1])return{data:Ie,index:xt}}else sr==="	"&&(sr=" ");Ie+=sr}}(u,m+1,b);if(!E)return;let _=E.data,C=E.index,A=_.search(/\s/),N=_,k=!0;A!==-1&&(N=_.substring(0,A),_=_.substring(A+1).trimStart());let q=N;if(S){let H=N.indexOf(":");H!==-1&&(N=N.substr(H+1),k=N!==E.data.substr(H+1))}return{tagName:N,tagExp:_,closeIndex:C,attrExpPresent:k,rawTagName:q}}function yC(u,m,S){let b=S,E=1;for(;S<u.length;S++)if(u[S]==="<")if(u[S+1]==="/"){let _=qr(u,">",S,`${m} is not closed`);if(u.substring(S+2,_).trim()===m&&(E--,E===0))return{tagContent:u.substring(b,S),i:_};S=_}else if(u[S+1]==="?")S=qr(u,"?>",S+1,"StopNode is not closed.");else if(u.substr(S+1,3)==="!--")S=qr(u,"-->",S+3,"StopNode is not closed.");else if(u.substr(S+1,2)==="![")S=qr(u,"]]>",S,"StopNode is not closed.")-2;else{let _=ol(u,S,">");_&&((_&&_.tagName)===m&&_.tagExp[_.tagExp.length-1]!=="/"&&E++,S=_.closeIndex)}}function dh(u,m,S){if(m&&typeof u=="string"){let b=u.trim();return b==="true"||b!=="false"&&function(E,_={}){if(_=Object.assign({},iC,_),!E||typeof E!="string")return E;let C=E.trim();if(_.skipLike!==void 0&&_.skipLike.test(C))return E;if(E==="0")return 0;if(_.hex&&nC.test(C))return function(N){if(parseInt)return parseInt(N,16);if(Number.parseInt)return Number.parseInt(N,16);if(window&&window.parseInt)return window.parseInt(N,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(C);if(C.search(/.+[eE].+/)!==-1)return function(N,k,q){if(!q.eNotation)return N;let H=k.match(oC);if(H){let ie=H[1]||"",ue=H[3].indexOf("e")===-1?"E":"e",oe=H[2],Ie=ie?N[oe.length+1]===ue:N[oe.length]===ue;return oe.length>1&&Ie?N:oe.length!==1||!H[3].startsWith(`.${ue}`)&&H[3][0]!==ue?q.leadingZeros&&!Ie?(k=(H[1]||"")+H[3],Number(k)):N:Number(k)}return N}(E,C,_);{let N=sC.exec(C);if(N){let k=N[1]||"",q=N[2],H=((A=N[3])&&A.indexOf(".")!==-1&&((A=A.replace(/0+$/,""))==="."?A="0":A[0]==="."?A="0"+A:A[A.length-1]==="."&&(A=A.substring(0,A.length-1))),A),ie=k?E[q.length+1]===".":E[q.length]===".";if(!_.leadingZeros&&(q.length>1||q.length===1&&!ie))return E;{let ue=Number(C),oe=String(ue);if(ue===0||ue===-0)return ue;if(oe.search(/[eE]/)!==-1)return _.eNotation?ue:E;if(C.indexOf(".")!==-1)return oe==="0"||oe===H||oe===`${k}${H}`?ue:E;let Ie=q?H:C;return q?Ie===oe||k+Ie===oe?ue:E:Ie===oe||Ie===k+oe?ue:E}}return E}var A}(u,S)}return u!==void 0?u:""}let al=ge.getMetaDataSymbol();function EC(u,m){return lh(u,m)}function lh(u,m,S){let b,E={};for(let _=0;_<u.length;_++){let C=u[_],A=_C(C),N="";if(N=S===void 0?A:S+"."+A,A===m.textNodeName)b===void 0?b=C[A]:b+=""+C[A];else{if(A===void 0)continue;if(C[A]){let k=lh(C[A],m,N),q=bC(k,m);C[al]!==void 0&&(k[al]=C[al]),C[":@"]?wC(k,C[":@"],N,m):Object.keys(k).length!==1||k[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(k).length===0&&(m.alwaysCreateTextNode?k[m.textNodeName]="":k=""):k=k[m.textNodeName],E[A]!==void 0&&E.hasOwnProperty(A)?(Array.isArray(E[A])||(E[A]=[E[A]]),E[A].push(k)):m.isArray(A,N,q)?E[A]=[k]:E[A]=k}}}return typeof b=="string"?b.length>0&&(E[m.textNodeName]=b):b!==void 0&&(E[m.textNodeName]=b),E}function _C(u){let m=Object.keys(u);for(let S=0;S<m.length;S++){let b=m[S];if(b!==":@")return b}}function wC(u,m,S,b){if(m){let E=Object.keys(m),_=E.length;for(let C=0;C<_;C++){let A=E[C];b.isArray(A,S+"."+A,!0,!0)?u[A]=[m[A]]:u[A]=m[A]}}}function bC(u,m){let{textNodeName:S}=m,b=Object.keys(u).length;return b===0||!(b!==1||!u[S]&&typeof u[S]!="boolean"&&u[S]!==0)}class xC{constructor(m){this.externalEntities={},this.options=function(S){return Object.assign({},U,S)}(m)}parse(m,S){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(S){S===!0&&(S={});let _=a(m,S);if(_!==!0)throw Error(`${_.err.msg}:${_.err.line}:${_.err.col}`)}let b=new aC(this.options);b.addExternalEntities(this.externalEntities);let E=b.parseXml(m);return this.options.preserveOrder||E===void 0?E:EC(E,this.options)}addEntity(m,S){if(S.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(S==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=S}static getMetaDataSymbol(){return ge.getMetaDataSymbol()}}function TC(u,m){let S="";return m.format&&m.indentBy.length>0&&(S=`
`),uh(u,m,"",S)}function uh(u,m,S,b){let E="",_=!1;for(let C=0;C<u.length;C++){let A=u[C],N=vC(A);if(N===void 0)continue;let k="";if(k=S.length===0?N:`${S}.${N}`,N===m.textNodeName){let ue=A[N];IC(k,m)||(ue=m.tagValueProcessor(N,ue),ue=fh(ue,m)),_&&(E+=b),E+=ue,_=!1;continue}if(N===m.cdataPropName){_&&(E+=b),E+=`<![CDATA[${A[N][0][m.textNodeName]}]]>`,_=!1;continue}if(N===m.commentPropName){E+=b+`<!--${A[N][0][m.textNodeName]}-->`,_=!0;continue}if(N[0]==="?"){let ue=mh(A[":@"],m),oe=N==="?xml"?"":b,Ie=A[N][0][m.textNodeName];Ie=Ie.length!==0?" "+Ie:"",E+=oe+`<${N}${Ie}${ue}?>`,_=!0;continue}let q=b;q!==""&&(q+=m.indentBy);let H=b+`<${N}${mh(A[":@"],m)}`,ie=uh(A[N],m,k,q);m.unpairedTags.indexOf(N)!==-1?m.suppressUnpairedNode?E+=H+">":E+=H+"/>":ie&&ie.length!==0||!m.suppressEmptyNode?ie&&ie.endsWith(">")?E+=H+`>${ie}${b}</${N}>`:(E+=H+">",ie&&b!==""&&(ie.includes("/>")||ie.includes("</"))?E+=b+m.indentBy+ie+b:E+=ie,E+=`</${N}>`):E+=H+"/>",_=!0}return E}function vC(u){let m=Object.keys(u);for(let S=0;S<m.length;S++){let b=m[S];if(u.hasOwnProperty(b)&&b!==":@")return b}}function mh(u,m){let S="";if(u&&!m.ignoreAttributes)for(let b in u){if(!u.hasOwnProperty(b))continue;let E=m.attributeValueProcessor(b,u[b]);E=fh(E,m),E===!0&&m.suppressBooleanAttributes?S+=` ${b.substr(m.attributeNamePrefix.length)}`:S+=` ${b.substr(m.attributeNamePrefix.length)}="${E}"`}return S}function IC(u,m){let S=(u=u.substr(0,u.length-m.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let b in m.stopNodes)if(m.stopNodes[b]===u||m.stopNodes[b]==="*."+S)return!0;return!1}function fh(u,m){if(u&&u.length>0&&m.processEntities)for(let S=0;S<m.entities.length;S++){let b=m.entities[S];u=u.replace(b.regex,b.val)}return u}let AC={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function nr(u){this.options=Object.assign({},AC,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=ch(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=NC),this.processTextOrObjNode=CC,this.options.format?(this.indentate=RC,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function CC(u,m,S,b){let E=this.j2x(u,S+1,b.concat(m));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],m,E.attrStr,S):this.buildObjectNode(E.val,m,E.attrStr,S)}function RC(u){return this.options.indentBy.repeat(u)}function NC(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}nr.prototype.build=function(u){return this.options.preserveOrder?TC(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},nr.prototype.j2x=function(u,m,S){let b="",E="",_=S.join(".");for(let C in u)if(Object.prototype.hasOwnProperty.call(u,C))if(u[C]===void 0)this.isAttribute(C)&&(E+="");else if(u[C]===null)this.isAttribute(C)||C===this.options.cdataPropName?E+="":C[0]==="?"?E+=this.indentate(m)+"<"+C+"?"+this.tagEndChar:E+=this.indentate(m)+"<"+C+"/"+this.tagEndChar;else if(u[C]instanceof Date)E+=this.buildTextValNode(u[C],C,"",m);else if(typeof u[C]!="object"){let A=this.isAttribute(C);if(A&&!this.ignoreAttributesFn(A,_))b+=this.buildAttrPairStr(A,""+u[C]);else if(!A)if(C===this.options.textNodeName){let N=this.options.tagValueProcessor(C,""+u[C]);E+=this.replaceEntitiesValue(N)}else E+=this.buildTextValNode(u[C],C,"",m)}else if(Array.isArray(u[C])){let A=u[C].length,N="",k="";for(let q=0;q<A;q++){let H=u[C][q];if(H!==void 0)if(H===null)C[0]==="?"?E+=this.indentate(m)+"<"+C+"?"+this.tagEndChar:E+=this.indentate(m)+"<"+C+"/"+this.tagEndChar;else if(typeof H=="object")if(this.options.oneListGroup){let ie=this.j2x(H,m+1,S.concat(C));N+=ie.val,this.options.attributesGroupName&&H.hasOwnProperty(this.options.attributesGroupName)&&(k+=ie.attrStr)}else N+=this.processTextOrObjNode(H,C,m,S);else if(this.options.oneListGroup){let ie=this.options.tagValueProcessor(C,H);ie=this.replaceEntitiesValue(ie),N+=ie}else N+=this.buildTextValNode(H,C,"",m)}this.options.oneListGroup&&(N=this.buildObjectNode(N,C,k,m)),E+=N}else if(this.options.attributesGroupName&&C===this.options.attributesGroupName){let A=Object.keys(u[C]),N=A.length;for(let k=0;k<N;k++)b+=this.buildAttrPairStr(A[k],""+u[C][A[k]])}else E+=this.processTextOrObjNode(u[C],C,m,S);return{attrStr:b,val:E}},nr.prototype.buildAttrPairStr=function(u,m){return m=this.options.attributeValueProcessor(u,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+u:" "+u+'="'+m+'"'},nr.prototype.buildObjectNode=function(u,m,S,b){if(u==="")return m[0]==="?"?this.indentate(b)+"<"+m+S+"?"+this.tagEndChar:this.indentate(b)+"<"+m+S+this.closeTag(m)+this.tagEndChar;{let E="</"+m+this.tagEndChar,_="";return m[0]==="?"&&(_="?",E=""),!S&&S!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&_.length===0?this.indentate(b)+`<!--${u}-->`+this.newLine:this.indentate(b)+"<"+m+S+_+this.tagEndChar+u+this.indentate(b)+E:this.indentate(b)+"<"+m+S+_+">"+u+E}},nr.prototype.closeTag=function(u){let m="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${u}`,m},nr.prototype.buildTextValNode=function(u,m,S,b){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(b)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(b)+`<!--${u}-->`+this.newLine;if(m[0]==="?")return this.indentate(b)+"<"+m+S+"?"+this.tagEndChar;{let E=this.options.tagValueProcessor(m,u);return E=this.replaceEntitiesValue(E),E===""?this.indentate(b)+"<"+m+S+this.closeTag(m)+this.tagEndChar:this.indentate(b)+"<"+m+S+">"+E+"</"+m+this.tagEndChar}},nr.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let S=this.options.entities[m];u=u.replace(S.regex,S.val)}return u};let PC={validate:a};I_.exports=t})()});var C_=P(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.parseXML=iO;var sO=A_(),of=new sO.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});of.addEntity("#xD","\r");of.addEntity("#10",`
`);function iO(e){return of.parse(e,!0)}});var ga=P(ha=>{"use strict";var oO=C_();function aO(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function cO(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var pa=class{value;constructor(t){this.value=t}toString(){return cO(""+this.value)}},cf=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new pa(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(o=>{o.withName(n),this.c(o)})}lc(t,r,n,s){if(t[r]!=null){let i=s(),o=new e(n);i.map(a=>{o.c(a)}),this.c(o)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let i=n[s];i!=null&&(r+=` ${s}="${aO(""+i)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(ha,"parseXML",{enumerable:!0,get:function(){return oO.parseXML}});ha.XmlNode=cf;ha.XmlText=pa});var R_,N_,P_,cn,Sa=x(()=>{R_=I(ga());Ye();be();N_=I(X()),P_=I(Oe());wr();cn=class extends ze{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new Jr(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){var l;let s=$.of(t),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(f=>!!f.getMemberTraits().eventPayload)){let f={},p=Object.keys(i)[0];return i[p].isBlobSchema()?f[p]=r:f[p]=this.read(i[p],r),f}let a=(((l=this.serdeContext)==null?void 0:l.utf8Encoder)??P_.toUtf8)(r),d=this.parseXml(a);return this.readSchema(t,n?d[n]:d)}readSchema(t,r){let n=$.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let i=!!s.sparse,o=!!s.xmlFlattened;if(n.isListSchema()){let d=n.getValueSchema(),l=[],f=d.getMergedTraits().xmlName??"member",p=o?r:(r[0]??r)[f],g=Array.isArray(p)?p:[p];for(let h of g)(h!=null||i)&&l.push(this.readSchema(d,h));return l}let a={};if(n.isMapSchema()){let d=n.getKeySchema(),l=n.getValueSchema(),f;o?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let p=d.getMergedTraits().xmlName??"key",g=l.getMergedTraits().xmlName??"value";for(let h of f){let y=h[p],w=h[g];(w!=null||i)&&(a[y]=this.readSchema(l,w))}return a}if(n.isStructSchema()){for(let[d,l]of n.structIterator()){let f=l.getMergedTraits(),p=f.httpPayload?f.xmlName??l.getName():l.getMemberTraits().xmlName??d;r[p]!=null&&(a[d]=this.readSchema(l,r[p]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,R_.parseXML)(t)}catch(o){throw o&&typeof o=="object"&&Object.defineProperty(o,"$responseBodyText",{value:t}),o}let n="#text",s=Object.keys(r)[0],i=r[s];return i[n]&&(i[s]=i[n],delete i[n]),(0,N_.getValueFromTextNode)(i)}return{}}}});var O_,D_,ya,M_=x(()=>{Ye();be();Je();O_=I(X()),D_=I(De());wr();ya=class extends ze{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){var i;this.buffer===void 0&&(this.buffer="");let s=$.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((((i=this.serdeContext)==null?void 0:i.base64Encoder)??D_.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,It.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof _e?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),tt(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,O_.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,d=1;for(let l of r){if(l==null)continue;let f=this.getKey("member",o.getMergedTraits().xmlName),p=a?`${n}${d}`:`${n}${f}.${d}`;this.write(o,l,p),++d}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),a=s.getValueSchema(),d=s.getMergedTraits().xmlFlattened,l=1;for(let[f,p]of Object.entries(r)){if(p==null)continue;let g=this.getKey("key",o.getMergedTraits().xmlName),h=d?`${n}${l}.${g}`:`${n}entry.${l}.${g}`,y=this.getKey("value",a.getMergedTraits().xmlName),w=d?`${n}${l}.${y}`:`${n}entry.${l}.${y}`;this.write(o,f,h),this.write(a,p,w),++l}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[o,a]of s.structIterator()){if(r[o]==null&&!a.isIdempotencyToken())continue;let d=this.getKey(o,a.getMergedTraits().xmlName),l=`${n}${d}`;this.write(a,r[o],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${Tt(t)}=`}writeValue(t){this.buffer+=Tt(t)}}});var Js,df=x(()=>{Ye();be();Hn();Sa();M_();Js=class extends Ut{options;serializer;deserializer;mixin=new at;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new ya(r),this.deserializer=new cn(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(ot(t.input)==="unit"||!s.body)&&(s.body="");let i=t.name.split("#")[1]??t.name;return s.body=`Action=${i}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,i=$.of(t.output),o={};if(n.statusCode>=300){let p=await St(n.body,r);p.byteLength>0&&Object.assign(o,await s.read(15,p)),await this.handleError(t,r,n,o,this.deserializeMetadata(n))}for(let p in n.headers){let g=n.headers[p];delete n.headers[p],n.headers[p.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,d=i.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await St(n.body,r);return l.byteLength>0&&Object.assign(o,await s.read(i,l,d)),{$metadata:this.deserializeMetadata(n),...o}}useNestedResult(){return!0}async handleError(t,r,n,s,i){let o=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),d=this.loadQueryErrorMessage(s);a.message=d,a.Error={Type:a.Type,Code:a.Code,Message:d};let{errorSchema:l,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,a,i,(w,v)=>w.find(R=>{var O;return((O=$.of(R).getMergedTraits().awsQueryError)==null?void 0:O[0])===v})),p=$.of(l),g=Ae.for(l[1]).getErrorCtor(l)??Error,h=new g(d),y={Error:a.Error};for(let[w,v]of p.structIterator()){let R=v.getMergedTraits().xmlName??w,O=a[R]??s[R];y[w]=this.deserializer.readSchema(v,O)}throw Object.assign(h,f,{$fault:p.getMergedTraits().error,message:d},y)}loadQueryErrorCode(t,r){var s,i,o,a;let n=(a=((i=(s=r.Errors)==null?void 0:s[0])==null?void 0:i.Error)??((o=r.Errors)==null?void 0:o.Error)??r.Error)==null?void 0:a.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){var r,n,s;return((n=(r=t.Errors)==null?void 0:r[0])==null?void 0:n.Error)??((s=t.Errors)==null?void 0:s.Error)??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return(r==null?void 0:r.message)??(r==null?void 0:r.Message)??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var lf,k_=x(()=>{df();lf=class extends Js{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var F_,L_,Ys,uf,mf,ff=x(()=>{F_=I(ga()),L_=I(X());Qm();Ys=(e,t)=>la(e,t).then(r=>{if(r.length){let n;try{n=(0,F_.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",i=Object.keys(n)[0],o=n[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,L_.getValueFromTextNode)(o)}return{}}),uf=async(e,t)=>{let r=await Ys(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},mf=(e,t)=>{var r;if(((r=t==null?void 0:t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var ct,pf,Ea,Xs,hf=x(()=>{ct=I(ga());Ye();be();Je();pf=I(X()),Ea=I(De());wr();Xs=class extends ze{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){var s;let n=$.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(((s=this.serdeContext)==null?void 0:s.base64Decoder)??Ea.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let i=n.getMergedTraits();i.httpPayload&&!i.xmlName&&this.buffer.withName(n.getName())}}flush(){var r;if(this.byteBuffer!==void 0){let n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){let n=this.stringBuffer;return delete this.stringBuffer,n}let t=this.buffer;return this.settings.xmlNamespace&&((r=t==null?void 0:t.attributes)!=null&&r.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),i=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!i||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let o=ct.XmlNode.of(i),[a,d]=this.getXmlnsAttribute(t,n);for(let[l,f]of t.structIterator()){let p=r[l];if(p!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){o.addAttribute(f.getMergedTraits().xmlName??l,this.writeSimple(f,p));continue}if(f.isListSchema())this.writeList(f,p,o,d);else if(f.isMapSchema())this.writeMap(f,p,o,d);else if(f.isStructSchema())o.addChildNode(this.writeStruct(f,p,d));else{let g=ct.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,p,g,d),o.addChildNode(g)}}}return d&&o.addAttribute(a,d),o}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let i=t.getMergedTraits(),o=t.getValueSchema(),a=o.getMergedTraits(),d=!!a.sparse,l=!!i.xmlFlattened,[f,p]=this.getXmlnsAttribute(t,s),g=(h,y)=>{if(o.isListSchema())this.writeList(o,Array.isArray(y)?y:[y],h,p);else if(o.isMapSchema())this.writeMap(o,y,h,p);else if(o.isStructSchema()){let w=this.writeStruct(o,y,p);h.addChildNode(w.withName(l?i.xmlName??t.getMemberName():a.xmlName??"member"))}else{let w=ct.XmlNode.of(l?i.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,y,w,p),h.addChildNode(w)}};if(l)for(let h of r)(d||h!=null)&&g(n,h);else{let h=ct.XmlNode.of(i.xmlName??t.getMemberName());p&&h.addAttribute(f,p);for(let y of r)(d||y!=null)&&g(h,y);n.addChildNode(h)}}writeMap(t,r,n,s,i=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let o=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",f=t.getValueSchema(),p=f.getMergedTraits(),g=p.xmlName??"value",h=!!p.sparse,y=!!o.xmlFlattened,[w,v]=this.getXmlnsAttribute(t,s),R=(O,D,j)=>{let U=ct.XmlNode.of(l,D),[J,ge]=this.getXmlnsAttribute(a,v);ge&&U.addAttribute(J,ge),O.addChildNode(U);let We=ct.XmlNode.of(g);f.isListSchema()?this.writeList(f,j,We,v):f.isMapSchema()?this.writeMap(f,j,We,v,!0):f.isStructSchema()?We=this.writeStruct(f,j,v):this.writeSimpleInto(f,j,We,v),O.addChildNode(We)};if(y){for(let[O,D]of Object.entries(r))if(h||D!=null){let j=ct.XmlNode.of(o.xmlName??t.getMemberName());R(j,O,D),n.addChildNode(j)}}else{let O;i||(O=ct.XmlNode.of(o.xmlName??t.getMemberName()),v&&O.addAttribute(w,v),n.addChildNode(O));for(let[D,j]of Object.entries(r))if(h||j!=null){let U=ct.XmlNode.of("entry");R(U,D,j),(i?n:O).addChildNode(U)}}}writeSimple(t,r){var i;if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=$.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(((i=this.serdeContext)==null?void 0:i.base64Encoder)??Ea.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(tt(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,pf.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,pf.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof _e?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,It.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let i=this.writeSimple(t,r),o=$.of(t),a=new ct.XmlText(i),[d,l]=this.getXmlnsAttribute(o,s);l&&n.addAttribute(d,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}});var Qs,gf=x(()=>{wr();Sa();hf();Qs=class extends ze{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Xs(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new cn(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Sf,$_=x(()=>{Ye();be();Hn();ff();gf();Sf=class extends Kr{codec;serializer;deserializer;mixin=new at;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Qs(r),this.serializer=new Xr(this.codec.createSerializer(),r),this.deserializer=new Yr(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),i=$.of(t.input);if(!s.headers["content-type"]){let o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,i){var y,w,v;let o=mf(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,n,s,i),l=$.of(a),f=((y=s.Error)==null?void 0:y.message)??((w=s.Error)==null?void 0:w.Message)??s.message??s.Message??"Unknown",p=Ae.for(a[1]).getErrorCtor(a)??Error,g=new p(f);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[R,O]of l.structIterator()){let D=O.getMergedTraits().xmlName??R,j=((v=s.Error)==null?void 0:v[D])??s[D];h[R]=this.codec.createDeserializer().readSchema(O,j)}throw Object.assign(g,d,{$fault:l.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/xml"}}});var U_=x(()=>{QE();ZE();w_();b_();fa();x_();ma();ef();tf();v_();Gs();k_();df();$_();gf();Sa();hf();ff()});var Ct={};it(Ct,{AWSSDKSigV4Signer:()=>im,AwsEc2QueryProtocol:()=>lf,AwsJson1_0Protocol:()=>rf,AwsJson1_1Protocol:()=>nf,AwsJsonRpcProtocol:()=>an,AwsQueryProtocol:()=>Js,AwsRestJsonProtocol:()=>sf,AwsRestXmlProtocol:()=>Sf,AwsSdkSigV4ASigner:()=>Hs,AwsSdkSigV4Signer:()=>Qe,AwsSmithyRpcV2CborProtocol:()=>Hm,JsonCodec:()=>on,JsonShapeDeserializer:()=>Ws,JsonShapeSerializer:()=>Ks,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ln,NODE_SIGV4A_CONFIG_OPTIONS:()=>cE,XmlCodec:()=>Qs,XmlShapeDeserializer:()=>cn,XmlShapeSerializer:()=>Xs,_toBool:()=>D0,_toNum:()=>M0,_toStr:()=>O0,awsExpectUnion:()=>nO,emitWarningIfUnsupportedVersion:()=>Mn,getBearerTokenEnvKey:()=>Go,loadRestJsonErrorCode:()=>sn,loadRestXmlErrorCode:()=>mf,parseJsonBody:()=>jn,parseJsonErrorBody:()=>Zm,parseXmlBody:()=>Ys,parseXmlErrorBody:()=>uf,resolveAWSSDKSigV4Config:()=>ME,resolveAwsSdkSigV4AConfig:()=>aE,resolveAwsSdkSigV4Config:()=>rn,setCredentialFeature:()=>pr,setFeature:()=>Vy,setTokenFeature:()=>Wy,state:()=>Vo,validateSigningProperties:()=>Fn});var Ne=x(()=>{Et();Tm();U_()});var qn=P(Bn=>{"use strict";var dO=(Xe(),le(Nn)),lO=Dn(),uO=he(),Rt=(Ne(),le(Ct)),B_=void 0;function mO(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function fO(e){let t=dO.normalizeProvider(e.userAgentAppId??B_),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{var s,i;let n=await t();if(!mO(n)){let o=((i=(s=e.logger)==null?void 0:s.constructor)==null?void 0:i.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o==null||o.warn("userAgentAppId must be a string or undefined."):n.length>50&&(o==null||o.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return n}})}var pO=/\d{12}\.ddb/;async function hO(e,t,r){var i,o,a,d,l,f,p;let n=r.request;if(((i=n==null?void 0:n.headers)==null?void 0:i["smithy-protocol"])==="rpc-v2-cbor"&&Rt.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let g=await t.retryStrategy();typeof g.acquireInitialRetryToken=="function"?(a=(o=g.constructor)==null?void 0:o.name)!=null&&a.includes("Adaptive")?Rt.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Rt.setFeature(e,"RETRY_MODE_STANDARD","E"):Rt.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let g=e.endpointV2;switch(String((d=g==null?void 0:g.url)==null?void 0:d.hostname).match(pO)&&Rt.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await((l=t.accountIdEndpointMode)==null?void 0:l.call(t))){case"disabled":Rt.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Rt.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Rt.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=(p=(f=e.__smithy_context)==null?void 0:f.selectedHttpAuthScheme)==null?void 0:p.identity;if(s!=null&&s.$source){let g=s;g.accountId&&Rt.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[h,y]of Object.entries(g.$source??{}))Rt.setFeature(e,h,y)}}var z_="user-agent",yf="x-amz-user-agent",H_=" ",Ef="/",gO=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,SO=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,j_="-",yO=1024;function EO(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=yO){t.length?t+=","+n:t+=n;continue}break}return t}var q_=e=>(t,r)=>async n=>{var y,w,v,R;let{request:s}=n;if(!uO.HttpRequest.isInstance(s))return t(n);let{headers:i}=s,o=((y=r==null?void 0:r.userAgent)==null?void 0:y.map(_a))||[],a=(await e.defaultUserAgentProvider()).map(_a);await hO(r,e,n);let d=r;a.push(`m/${EO(Object.assign({},(w=r.__smithy_context)==null?void 0:w.features,(v=d.__aws_sdk_context)==null?void 0:v.features))}`);let l=((R=e==null?void 0:e.customUserAgent)==null?void 0:R.map(_a))||[],f=await e.userAgentAppId();f&&a.push(_a([`app/${f}`]));let p=lO.getUserAgentPrefix(),g=(p?[p]:[]).concat([...a,...o,...l]).join(H_),h=[...a.filter(O=>O.startsWith("aws-sdk-")),...l].join(H_);return e.runtime!=="browser"?(h&&(i[yf]=i[yf]?`${i[z_]} ${h}`:h),i[z_]=g):i[yf]=g,t({...n,request:s})},_a=e=>{var o;let t=e[0].split(Ef).map(a=>a.replace(gO,j_)).join(Ef),r=(o=e[1])==null?void 0:o.replace(SO,j_),n=t.indexOf(Ef),s=t.substring(0,n),i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,d,l)=>{switch(l){case 0:return d;case 1:return`${a}/${d}`;default:return`${a}#${d}`}},"")},V_={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},_O=e=>({applyToStack:t=>{t.add(q_(e),V_)}});Bn.DEFAULT_UA_APP_ID=B_;Bn.getUserAgentMiddlewareOptions=V_;Bn.getUserAgentPlugin=_O;Bn.resolveUserAgentConfig=fO;Bn.userAgentMiddleware=q_});var G_=P(Vn=>{"use strict";var wO=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},bO=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};Vn.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Vn.SelectorType||(Vn.SelectorType={}));Vn.booleanSelector=wO;Vn.numberSelector=bO});var Nt=P(Me=>{"use strict";var xr=G_(),wa=Ke(),J_="AWS_USE_DUALSTACK_ENDPOINT",Y_="use_dualstack_endpoint",xO=!1,TO={environmentVariableSelector:e=>xr.booleanSelector(e,J_,xr.SelectorType.ENV),configFileSelector:e=>xr.booleanSelector(e,Y_,xr.SelectorType.CONFIG),default:!1},X_="AWS_USE_FIPS_ENDPOINT",Q_="use_fips_endpoint",vO=!1,IO={environmentVariableSelector:e=>xr.booleanSelector(e,X_,xr.SelectorType.ENV),configFileSelector:e=>xr.booleanSelector(e,Q_,xr.SelectorType.CONFIG),default:!1},AO=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:wa.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:wa.normalizeProvider(s??!1)})},CO=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:o}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:i})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${o}`)},RO=e=>{let t=wa.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:i}=e;return Object.assign(e,{tls:i??!0,endpoint:r?wa.normalizeProvider(typeof r=="string"?s(r):r):()=>CO({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},Z_="AWS_REGION",ew="region",NO={environmentVariableSelector:e=>e[Z_],configFileSelector:e=>e[ew],default:()=>{throw new Error("Region is missing")}},PO={preferredFile:"credentials"},tw=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),W_=e=>tw(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,OO=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return W_(t);let n=await t();return W_(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return tw(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},K_=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack")))==null?void 0:n.hostname},DO=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),MO=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",kO=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),i=e.match(s);if(i)return i[0].slice(1,-1)}},FO=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:i})=>{var h,y,w,v,R;let o=MO(e,{partitionHash:i}),a=e in s?e:((h=i[o])==null?void 0:h.endpoint)??e,d={useFipsEndpoint:t,useDualstackEndpoint:r},l=K_((y=s[a])==null?void 0:y.variants,d),f=K_((w=i[o])==null?void 0:w.variants,d),p=DO(a,{regionHostname:l,partitionHostname:f});if(p===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let g=kO(p,{signingRegion:(v=s[a])==null?void 0:v.signingRegion,regionRegex:i[o].regionRegex,useFipsEndpoint:t});return{partition:o,signingService:n,hostname:p,...g&&{signingRegion:g},...((R=s[a])==null?void 0:R.signingService)&&{signingService:s[a].signingService}}};Me.CONFIG_USE_DUALSTACK_ENDPOINT=Y_;Me.CONFIG_USE_FIPS_ENDPOINT=Q_;Me.DEFAULT_USE_DUALSTACK_ENDPOINT=xO;Me.DEFAULT_USE_FIPS_ENDPOINT=vO;Me.ENV_USE_DUALSTACK_ENDPOINT=J_;Me.ENV_USE_FIPS_ENDPOINT=X_;Me.NODE_REGION_CONFIG_FILE_OPTIONS=PO;Me.NODE_REGION_CONFIG_OPTIONS=NO;Me.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=TO;Me.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=IO;Me.REGION_ENV_NAME=Z_;Me.REGION_INI_NAME=ew;Me.getRegionInfo=FO;Me.resolveCustomEndpointsConfig=AO;Me.resolveEndpointsConfig=RO;Me.resolveRegionConfig=OO});var Zs=P(ba=>{"use strict";var LO=he(),rw="content-length";function nw(e){return t=>async r=>{let n=r.request;if(LO.HttpRequest.isInstance(n)){let{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(rw)===-1)try{let o=e(s);n.headers={...n.headers,[rw]:String(o)}}catch{}}return t({...r,request:n})}}var sw={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},$O=e=>({applyToStack:t=>{t.add(nw(e.bodyLengthChecker),sw)}});ba.contentLengthMiddleware=nw;ba.contentLengthMiddlewareOptions=sw;ba.getContentLengthPlugin=$O});var wf=P(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.getHomeDir=void 0;var UO=require("os"),zO=require("path"),_f={},HO=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",jO=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${zO.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=HO();return _f[s]||(_f[s]=(0,UO.homedir)()),_f[s]};xa.getHomeDir=jO});var bf=P(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.getSSOTokenFilepath=void 0;var BO=require("crypto"),qO=require("path"),VO=wf(),GO=e=>{let r=(0,BO.createHash)("sha1").update(e).digest("hex");return(0,qO.join)((0,VO.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Ta.getSSOTokenFilepath=GO});var iw=P(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.getSSOTokenFromFile=Tr.tokenIntercept=void 0;var WO=require("fs"),KO=bf(),{readFile:JO}=WO.promises;Tr.tokenIntercept={};var YO=async e=>{if(Tr.tokenIntercept[e])return Tr.tokenIntercept[e];let t=(0,KO.getSSOTokenFilepath)(e),r=await JO(t,"utf8");return JSON.parse(r)};Tr.getSSOTokenFromFile=YO});var ow=P(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.slurpFile=rt.fileIntercept=rt.filePromisesHash=void 0;var XO=require("fs"),{readFile:QO}=XO.promises;rt.filePromisesHash={};rt.fileIntercept={};var ZO=(e,t)=>rt.fileIntercept[e]!==void 0?rt.fileIntercept[e]:((!rt.filePromisesHash[e]||t!=null&&t.ignoreCache)&&(rt.filePromisesHash[e]=QO(e,"utf8")),rt.filePromisesHash[e]);rt.slurpFile=ZO});var Gt=P(Ze=>{"use strict";var ei=wf(),aw=bf(),xf=iw(),va=require("path"),Ia=ir(),ti=ow(),dw="AWS_PROFILE",lw="default",eD=e=>e.profile||process.env[dw]||lw,tD=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(dn);return r===-1?!1:Object.values(Ia.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(dn),i=r.substring(0,s)===Ia.IniSectionType.PROFILE?r.substring(s+1):r;return t[i]=n,t},{...e.default&&{default:e.default}}),rD="AWS_CONFIG_FILE",uw=()=>process.env[rD]||va.join(ei.getHomeDir(),".aws","config"),nD="AWS_SHARED_CREDENTIALS_FILE",sD=()=>process.env[nD]||va.join(ei.getHomeDir(),".aws","credentials"),iD=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,oD=["__proto__","profile __proto__"],Tf=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let i=s.split(/(^|\s)[;#]/)[0].trim();if(i[0]==="["&&i[i.length-1]==="]"){r=void 0,n=void 0;let a=i.substring(1,i.length-1),d=iD.exec(a);if(d){let[,l,,f]=d;Object.values(Ia.IniSectionType).includes(l)&&(r=[l,f].join(dn))}else r=a;if(oD.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=i.indexOf("=");if(![0,-1].includes(a)){let[d,l]=[i.substring(0,a).trim(),i.substring(a+1).trim()];if(l==="")n=d;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let f=n?[n,d].join(dn):d;t[r][f]=l}}}}return t},cw=()=>({}),dn=".",mw=async(e={})=>{let{filepath:t=sD(),configFilepath:r=uw()}=e,n=ei.getHomeDir(),s="~/",i=t;t.startsWith(s)&&(i=va.join(n,t.slice(2)));let o=r;r.startsWith(s)&&(o=va.join(n,r.slice(2)));let a=await Promise.all([ti.slurpFile(o,{ignoreCache:e.ignoreCache}).then(Tf).then(tD).catch(cw),ti.slurpFile(i,{ignoreCache:e.ignoreCache}).then(Tf).catch(cw)]);return{configFile:a[0],credentialsFile:a[1]}},aD=e=>Object.entries(e).filter(([t])=>t.startsWith(Ia.IniSectionType.SSO_SESSION+dn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(dn)+1)]:n}),{}),cD=()=>({}),dD=async(e={})=>ti.slurpFile(e.configFilepath??uw()).then(Tf).then(aD).catch(cD),lD=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},uD=async e=>{let t=await mw(e);return lD(t.configFile,t.credentialsFile)},mD={getFileRecord(){return ti.fileIntercept},interceptFile(e,t){ti.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return xf.tokenIntercept},interceptToken(e,t){xf.tokenIntercept[e]=t}};Object.defineProperty(Ze,"getSSOTokenFromFile",{enumerable:!0,get:function(){return xf.getSSOTokenFromFile}});Ze.CONFIG_PREFIX_SEPARATOR=dn;Ze.DEFAULT_PROFILE=lw;Ze.ENV_PROFILE=dw;Ze.externalDataInterceptor=mD;Ze.getProfileName=eD;Ze.loadSharedConfigFiles=mw;Ze.loadSsoSessionData=dD;Ze.parseKnownFiles=uD;Object.keys(ei).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return ei[e]}})});Object.keys(aw).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return aw[e]}})})});var vr=P(hw=>{"use strict";var ri=Ge(),fw=Gt();function pw(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var fD=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new ri.CredentialsProviderError(r.message||`Not found in ENV: ${pw(e.toString())}`,{logger:t==null?void 0:t.logger})}},pD=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=fw.getProfileName(r),{configFile:s,credentialsFile:i}=await fw.loadSharedConfigFiles(r),o=i[n]||{},a=s[n]||{},d=t==="config"?{...o,...a}:{...a,...o};try{let f=e(d,t==="config"?s:i);if(f===void 0)throw new Error;return f}catch(l){throw new ri.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${pw(e.toString())}`,{logger:r.logger})}},hD=e=>typeof e=="function",gD=e=>hD(e)?async()=>await e():ri.fromStatic(e),SD=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:i}=n,o={signingName:s,logger:i};return ri.memoize(ri.chain(fD(e,o),pD(t,n),gD(r)))};hw.loadConfig=SD});var Ew=P(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.getEndpointUrlConfig=void 0;var gw=Gt(),Sw="AWS_ENDPOINT_URL",yw="endpoint_url",yD=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(i=>i.toUpperCase()),n=t[[Sw,...r].join("_")];if(n)return n;let s=t[Sw];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join(gw.CONFIG_PREFIX_SEPARATOR)];if(s){let i=e.split(" ").map(a=>a.toLowerCase()),o=s[[i.join("_"),yw].join(gw.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=t[yw];if(n)return n},default:void 0});Aa.getEndpointUrlConfig=yD});var _w=P(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.getEndpointFromConfig=void 0;var ED=vr(),_D=Ew(),wD=async e=>(0,ED.loadConfig)((0,_D.getEndpointUrlConfig)(e??""))();Ca.getEndpointFromConfig=wD});var Ir=P(Wt=>{"use strict";var bw=_w(),ww=fr(),bD=(Xe(),le(Nn)),Ra=Ke(),xD=ar(),TD=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),RD(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!CD(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},vD=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ID=/(\d+\.){3}\d+/,AD=/\.\./,CD=e=>vD.test(e)&&!ID.test(e)&&!AD.test(e),RD=e=>{let[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},ND=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.accountId)??(s==null?void 0:s.AccountId)}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:i,hostname:o,port:a,path:d}=s;return`${i}//${o}${a?":"+a:""}${d}`}}return s}:n},vf=e=>typeof e=="object"?"url"in e?ww.parseUrl(e.url):e:ww.parseUrl(e),xw=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await bw.getEndpointFromConfig(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(vf(o)),r.isCustomEndpoint=!0)}let s=await Tw(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},Tw=async(e,t,r)=>{var i;let n={},s=((i=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:i.call(t))||{};for(let[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await ND(a.name,o,r)();break;case"operationContextParams":n[o]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await TD(n),n},vw=({config:e,instructions:t})=>(r,n)=>async s=>{var a,d,l;e.isCustomEndpoint&&bD.setFeature(n,"ENDPOINT_OVERRIDE","N");let i=await xw(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;let o=(d=n.authSchemes)==null?void 0:d[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let f=Ra.getSmithyContext(n),p=(l=f==null?void 0:f.selectedHttpAuthScheme)==null?void 0:l.httpAuthOption;p&&(p.signingProperties=Object.assign(p.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},Iw={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:xD.serializerMiddlewareOption.name},PD=(e,t)=>({applyToStack:r=>{r.addRelativeTo(vw({config:e,instructions:t}),Iw)}}),OD=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,i=r!=null?async()=>vf(await Ra.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:i,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Ra.normalizeProvider(n??!1),useFipsEndpoint:Ra.normalizeProvider(s??!1)}),d;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=bw.getEndpointFromConfig(e.serviceId)),d),a},DD=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Wt.endpointMiddleware=vw;Wt.endpointMiddlewareOptions=Iw;Wt.getEndpointFromInstructions=xw;Wt.getEndpointPlugin=PD;Wt.resolveEndpointConfig=OD;Wt.resolveEndpointRequiredConfig=DD;Wt.resolveParams=Tw;Wt.toEndpointV1=vf});var Af=P(Ar=>{"use strict";var MD=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],kD=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],FD=["TimeoutError","RequestTimeout","RequestTimeoutException"],LD=[500,502,503,504],$D=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],UD=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Aw=e=>(e==null?void 0:e.$retryable)!==void 0,zD=e=>MD.includes(e.name),Cw=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},Rw=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},HD=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||kD.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},If=(e,t=0)=>{var r;return Aw(e)||Cw(e)||FD.includes(e.name)||$D.includes((e==null?void 0:e.code)||"")||UD.includes((e==null?void 0:e.code)||"")||LD.includes(((r=e.$metadata)==null?void 0:r.httpStatusCode)||0)||Rw(e)||e.cause!==void 0&&t<=10&&If(e.cause,t+1)},jD=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!If(e)}return!1};Ar.isBrowserNetworkError=Rw;Ar.isClockSkewCorrectedError=Cw;Ar.isClockSkewError=zD;Ar.isRetryableByTrait=Aw;Ar.isServerError=jD;Ar.isThrottlingError=HD;Ar.isTransientError=If});var Gn=P(xe=>{"use strict";var BD=Af();xe.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(xe.RETRY_MODES||(xe.RETRY_MODES={}));var Cf=3,qD=xe.RETRY_MODES.STANDARD,Na=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),BD.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},ni=100,Of=20*1e3,Pw=500,Rf=500,Ow=5,Dw=10,Mw=1,VD="amz-sdk-invocation-id",GD="amz-sdk-request",WD=()=>{let e=ni;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Of,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},Nw=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Of,e),getRetryCost:()=>r}),si=class{maxAttempts;mode=xe.RETRY_MODES.STANDARD;capacity=Rf;retryBackoffStrategy=WD();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Nw({retryDelay:ni,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Pw:ni);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,Nw({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Rf,this.capacity+(t.getRetryCost()??Mw))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Cf}`),Cf}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Dw:Ow}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},Nf=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=xe.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Na,this.standardRetryStrategy=new si(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},Pf=class extends si{computeNextBackoffDelay;constructor(t,r=ni){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};xe.AdaptiveRetryStrategy=Nf;xe.ConfiguredRetryStrategy=Pf;xe.DEFAULT_MAX_ATTEMPTS=Cf;xe.DEFAULT_RETRY_DELAY_BASE=ni;xe.DEFAULT_RETRY_MODE=qD;xe.DefaultRateLimiter=Na;xe.INITIAL_RETRY_TOKENS=Rf;xe.INVOCATION_ID_HEADER=VD;xe.MAXIMUM_RETRY_DELAY=Of;xe.NO_RETRY_INCREMENT=Mw;xe.REQUEST_HEADER=GD;xe.RETRY_COST=Ow;xe.StandardRetryStrategy=si;xe.THROTTLING_RETRY_DELAY_BASE=Pw;xe.TIMEOUT_RETRY_COST=Dw});var kw=P(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.isStreamingPayload=void 0;var KD=require("stream"),JD=e=>(e==null?void 0:e.body)instanceof KD.Readable||typeof ReadableStream<"u"&&(e==null?void 0:e.body)instanceof ReadableStream;Pa.isStreamingPayload=JD});var Kt=P(Ce=>{"use strict";var we=Gn(),Wn=he(),Cr=Af(),Lw=Lo(),Fw=Ke(),YD=X(),XD=kw(),QD=(e,t)=>{let r=e,n=we.NO_RETRY_INCREMENT,s=we.RETRY_COST,i=we.TIMEOUT_RETRY_COST,o=e,a=p=>p.name==="TimeoutError"?i:s,d=p=>a(p)<=o;return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:p=>{if(!d(p))throw new Error("No retry token available");let g=a(p);return o-=g,g},releaseRetryTokens:p=>{o+=p??n,o=Math.min(o,r)}})},$w=(e,t)=>Math.floor(Math.min(we.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),Uw=e=>e?Cr.isRetryableByTrait(e)||Cr.isClockSkewError(e)||Cr.isThrottlingError(e)||Cr.isTransientError(e):!1,zw=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Oa=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=we.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=(r==null?void 0:r.retryDecider)??Uw,this.delayDecider=(r==null?void 0:r.delayDecider)??$w,this.retryQuota=(r==null?void 0:r.retryQuota)??QD(we.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=we.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,i=0,o=0,a=await this.getMaxAttempts(),{request:d}=r;for(Wn.HttpRequest.isInstance(d)&&(d.headers[we.INVOCATION_ID_HEADER]=Lw.v4());;)try{Wn.HttpRequest.isInstance(d)&&(d.headers[we.REQUEST_HEADER]=`attempt=${i+1}; max=${a}`),n!=null&&n.beforeRequest&&await n.beforeRequest();let{response:l,output:f}=await t(r);return n!=null&&n.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=i+1,f.$metadata.totalRetryDelay=o,{response:l,output:f}}catch(l){let f=zw(l);if(i++,this.shouldRetry(f,i,a)){s=this.retryQuota.retrieveRetryTokens(f);let p=this.delayDecider(Cr.isThrottlingError(f)?we.THROTTLING_RETRY_DELAY_BASE:we.DEFAULT_RETRY_DELAY_BASE,i),g=ZD(f.$response),h=Math.max(g||0,p);o+=h,await new Promise(y=>setTimeout(y,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=i,f.$metadata.totalRetryDelay=o,f}}},ZD=e=>{if(!Wn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Df=class extends Oa{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new we.DefaultRateLimiter,this.mode=we.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Mf="AWS_MAX_ATTEMPTS",kf="max_attempts",eM={environmentVariableSelector:e=>{let t=e[Mf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Mf} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[kf];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${kf} mast be a number, got "${t}"`);return r},default:we.DEFAULT_MAX_ATTEMPTS},tM=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=Fw.normalizeProvider(n??we.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await Fw.normalizeProvider(r)()===we.RETRY_MODES.ADAPTIVE?new we.AdaptiveRetryStrategy(s):new we.StandardRetryStrategy(s))})},Hw="AWS_RETRY_MODE",jw="retry_mode",rM={environmentVariableSelector:e=>e[Hw],configFileSelector:e=>e[jw],default:we.DEFAULT_RETRY_MODE},Bw=()=>e=>async t=>{let{request:r}=t;return Wn.HttpRequest.isInstance(r)&&(delete r.headers[we.INVOCATION_ID_HEADER],delete r.headers[we.REQUEST_HEADER]),e(t)},qw={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},nM=e=>({applyToStack:t=>{t.addRelativeTo(Bw(),qw)}}),Vw=e=>(t,r)=>async n=>{var o;let s=await e.retryStrategy(),i=await e.maxAttempts();if(sM(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),d=new Error,l=0,f=0,{request:p}=n,g=Wn.HttpRequest.isInstance(p);for(g&&(p.headers[we.INVOCATION_ID_HEADER]=Lw.v4());;)try{g&&(p.headers[we.REQUEST_HEADER]=`attempt=${l+1}; max=${i}`);let{response:h,output:y}=await t(n);return s.recordSuccess(a),y.$metadata.attempts=l+1,y.$metadata.totalRetryDelay=f,{response:h,output:y}}catch(h){let y=iM(h);if(d=zw(h),g&&XD.isStreamingPayload(p))throw(o=r.logger instanceof YD.NoOpLogger?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),d;try{a=await s.refreshRetryTokenForRetry(a,y)}catch{throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=l+1,d.$metadata.totalRetryDelay=f,d}l=a.getRetryCount();let w=a.getRetryDelay();f+=w,await new Promise(v=>setTimeout(v,w))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},sM=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",iM=e=>{let t={error:e,errorType:oM(e)},r=Ww(e.$response);return r&&(t.retryAfterHint=r),t},oM=e=>Cr.isThrottlingError(e)?"THROTTLING":Cr.isTransientError(e)?"TRANSIENT":Cr.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",Gw={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},aM=e=>({applyToStack:t=>{t.add(Vw(e),Gw)}}),Ww=e=>{if(!Wn.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ce.AdaptiveRetryStrategy=Df;Ce.CONFIG_MAX_ATTEMPTS=kf;Ce.CONFIG_RETRY_MODE=jw;Ce.ENV_MAX_ATTEMPTS=Mf;Ce.ENV_RETRY_MODE=Hw;Ce.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=eM;Ce.NODE_RETRY_MODE_CONFIG_OPTIONS=rM;Ce.StandardRetryStrategy=Oa;Ce.defaultDelayDecider=$w;Ce.defaultRetryDecider=Uw;Ce.getOmitRetryHeadersPlugin=nM;Ce.getRetryAfterHint=Ww;Ce.getRetryPlugin=aM;Ce.omitRetryHeadersMiddleware=Bw;Ce.omitRetryHeadersMiddlewareOptions=qw;Ce.resolveRetryConfig=tM;Ce.retryMiddleware=Vw;Ce.retryMiddlewareOptions=Gw});var Lf=P(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.resolveHttpAuthSchemeConfig=Rr.defaultSFNHttpAuthSchemeProvider=Rr.defaultSFNHttpAuthSchemeParametersProvider=void 0;var cM=(Ne(),le(Ct)),Ff=Ke(),dM=async(e,t,r)=>({operation:(0,Ff.getSmithyContext)(t).operation,region:await(0,Ff.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Rr.defaultSFNHttpAuthSchemeParametersProvider=dM;function lM(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"states",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var uM=e=>{let t=[];switch(e.operation){default:t.push(lM(e))}return t};Rr.defaultSFNHttpAuthSchemeProvider=uM;var mM=e=>{let t=(0,cM.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,Ff.normalizeProvider)(e.authSchemePreference??[])})};Rr.resolveHttpAuthSchemeConfig=mM});var Kw=P((n4,fM)=>{fM.exports={name:"@aws-sdk/client-sfn",description:"AWS SDK for JavaScript Sfn Client for Node.js, Browser and React Native",version:"3.911.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sfn","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sfn"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/credential-provider-node":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sfn",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sfn"}}});var $f=P(Nr=>{"use strict";var pM=(Et(),le(hr)),hM=Ge(),Jw="AWS_ACCESS_KEY_ID",Yw="AWS_SECRET_ACCESS_KEY",Xw="AWS_SESSION_TOKEN",Qw="AWS_CREDENTIAL_EXPIRATION",Zw="AWS_CREDENTIAL_SCOPE",eb="AWS_ACCOUNT_ID",gM=e=>async()=>{var a;(a=e==null?void 0:e.logger)==null||a.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[Jw],r=process.env[Yw],n=process.env[Xw],s=process.env[Qw],i=process.env[Zw],o=process.env[eb];if(t&&r){let d={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...i&&{credentialScope:i},...o&&{accountId:o}};return pM.setCredentialFeature(d,"CREDENTIALS_ENV_VARS","g"),d}throw new hM.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e==null?void 0:e.logger})};Nr.ENV_ACCOUNT_ID=eb;Nr.ENV_CREDENTIAL_SCOPE=Zw;Nr.ENV_EXPIRATION=Qw;Nr.ENV_KEY=Jw;Nr.ENV_SECRET=Yw;Nr.ENV_SESSION=Xw;Nr.fromEnv=gM});var oi=P(He=>{"use strict";var Pt=Ge(),SM=require("url"),yM=require("buffer"),EM=require("http"),Bf=vr(),_M=fr();function ii(e){return new Promise((t,r)=>{var s;let n=EM.request({method:"GET",...e,hostname:(s=e.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",i=>{r(Object.assign(new Pt.ProviderError("Unable to connect to instance metadata service"),i)),n.destroy()}),n.on("timeout",()=>{r(new Pt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",i=>{let{statusCode:o=400}=i;(o<200||300<=o)&&(r(Object.assign(new Pt.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let a=[];i.on("data",d=>{a.push(d)}),i.on("end",()=>{t(yM.Buffer.concat(a)),n.destroy()})}),n.end()})}var sb=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",ib=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),ob=1e3,ab=0,qf=({maxRetries:e=ab,timeout:t=ob})=>({maxRetries:e,timeout:t}),zf=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},Da="AWS_CONTAINER_CREDENTIALS_FULL_URI",Ma="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Hf="AWS_CONTAINER_AUTHORIZATION_TOKEN",wM=(e={})=>{let{timeout:t,maxRetries:r}=qf(e);return()=>zf(async()=>{let n=await IM({logger:e.logger}),s=JSON.parse(await bM(t,n));if(!sb(s))throw new Pt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return ib(s)},r)},bM=async(e,t)=>(process.env[Hf]&&(t.headers={...t.headers,Authorization:process.env[Hf]}),(await ii({...t,timeout:e})).toString()),xM="169.254.170.2",TM={localhost:!0,"127.0.0.1":!0},vM={"http:":!0,"https:":!0},IM=async({logger:e})=>{if(process.env[Ma])return{hostname:xM,path:process.env[Ma]};if(process.env[Da]){let t=SM.parse(process.env[Da]);if(!t.hostname||!(t.hostname in TM))throw new Pt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in vM))throw new Pt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Pt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Ma} or ${Da} environment variable is set`,{tryNextLink:!1,logger:e})},jf=class e extends Pt.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};He.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(He.Endpoint||(He.Endpoint={}));var AM="AWS_EC2_METADATA_SERVICE_ENDPOINT",CM="ec2_metadata_service_endpoint",RM={environmentVariableSelector:e=>e[AM],configFileSelector:e=>e[CM],default:void 0},Kn;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Kn||(Kn={}));var NM="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",PM="ec2_metadata_service_endpoint_mode",OM={environmentVariableSelector:e=>e[NM],configFileSelector:e=>e[PM],default:Kn.IPv4},cb=async()=>_M.parseUrl(await DM()||await MM()),DM=async()=>Bf.loadConfig(RM)(),MM=async()=>{let e=await Bf.loadConfig(OM)();switch(e){case Kn.IPv4:return He.Endpoint.IPv4;case Kn.IPv6:return He.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Kn)}`)}},kM=5*60,FM=5*60,LM="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",tb=(e,t)=>{let r=kM+Math.floor(Math.random()*FM),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+LM);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},$M=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=tb(s,r))}catch(i){if(n)r.warn("Credential renew failed: ",i),s=tb(n,r);else throw i}return n=s,s}},db="/latest/meta-data/iam/security-credentials/",UM="/latest/api/token",Uf="AWS_EC2_METADATA_V1_DISABLED",rb="ec2_metadata_v1_disabled",nb="x-aws-ec2-metadata-token",zM=(e={})=>$M(HM(e),{logger:e.logger}),HM=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:i}=qf(e),o=async(a,d)=>{var p;if(t||((p=d.headers)==null?void 0:p[nb])==null){let g=!1,h=!1,y=await Bf.loadConfig({environmentVariableSelector:w=>{let v=w[Uf];if(h=!!v&&v!=="false",v===void 0)throw new Pt.CredentialsProviderError(`${Uf} not set in env, checking config file next.`,{logger:e.logger});return h},configFileSelector:w=>{let v=w[rb];return g=!!v&&v!=="false",g},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||y){let w=[];throw e.ec2MetadataV1Disabled&&w.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),g&&w.push(`config file profile (${rb})`),h&&w.push(`process environment variable (${Uf})`),new jf(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${w.join(", ")}].`)}}let f=(await zf(async()=>{let g;try{g=await BM(d)}catch(h){throw h.statusCode===401&&(t=!1),h}return g},a)).trim();return zf(async()=>{let g;try{g=await qM(f,d,e)}catch(h){throw h.statusCode===401&&(t=!1),h}return g},a)};return async()=>{let a=await cb();if(t)return r==null||r.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(i,{...a,timeout:s});{let d;try{d=(await jM({...a,timeout:s})).toString()}catch(l){if((l==null?void 0:l.statusCode)===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r==null||r.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(i,{...a,timeout:s})}return o(i,{...a,headers:{[nb]:d},timeout:s})}}},jM=async e=>ii({...e,path:UM,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),BM=async e=>(await ii({...e,path:db})).toString(),qM=async(e,t,r)=>{let n=JSON.parse((await ii({...t,path:db+e})).toString());if(!sb(n))throw new Pt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return ib(n)};He.DEFAULT_MAX_RETRIES=ab;He.DEFAULT_TIMEOUT=ob;He.ENV_CMDS_AUTH_TOKEN=Hf;He.ENV_CMDS_FULL_URI=Da;He.ENV_CMDS_RELATIVE_URI=Ma;He.fromContainerMetadata=wM;He.fromInstanceMetadata=zM;He.getInstanceMetadataEndpoint=cb;He.httpRequest=ii;He.providerConfigFromInit=qf});var lb=P(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.checkUrl=void 0;var VM=Ge(),GM="169.254.170.2",WM="169.254.170.23",KM="[fd00:ec2::23]",JM=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===GM||e.hostname===WM||e.hostname===KM)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let i=parseInt(s,10);return 0<=i&&i<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new VM.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};ka.checkUrl=JM});var ub=P(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.createGetRequest=ZM;Fa.getCredentials=ek;var Vf=Ge(),YM=he(),XM=X(),QM=bo();function ZM(e){return new YM.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function ek(e,t){let n=await(0,QM.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Vf.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,XM.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Vf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Vf.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var mb=P(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.retryWrapper=void 0;var tk=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(i=>setTimeout(i,r))}return await e()};La.retryWrapper=tk});var hb=P($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.fromHttp=void 0;var rk=(Ms(),le(Ds)),nk=(Et(),le(hr)),sk=Vr(),fb=Ge(),ik=rk.__importDefault(require("fs/promises")),ok=lb(),pb=ub(),ak=mb(),ck="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",dk="http://169.254.170.2",lk="AWS_CONTAINER_CREDENTIALS_FULL_URI",uk="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",mk="AWS_CONTAINER_AUTHORIZATION_TOKEN",fk=(e={})=>{var l,f,p,g;(l=e.logger)==null||l.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[ck],n=e.awsContainerCredentialsFullUri??process.env[lk],s=e.awsContainerAuthorizationToken??process.env[mk],i=e.awsContainerAuthorizationTokenFile??process.env[uk],o=((p=(f=e.logger)==null?void 0:f.constructor)==null?void 0:p.name)==="NoOpLogger"||!((g=e.logger)!=null&&g.warn)?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),s&&i&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${dk}${r}`;else throw new fb.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,ok.checkUrl)(a,e.logger);let d=sk.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,ak.retryWrapper)(async()=>{let h=(0,pb.createGetRequest)(a);s?h.headers.Authorization=s:i&&(h.headers.Authorization=(await ik.default.readFile(i)).toString());try{let y=await d.handle(h);return(0,pb.getCredentials)(y.response).then(w=>(0,nk.setCredentialFeature)(w,"CREDENTIALS_HTTP","z"))}catch(y){throw new fb.CredentialsProviderError(String(y),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};$a.fromHttp=fk});var Gf=P(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.fromHttp=void 0;var pk=hb();Object.defineProperty(Ua,"fromHttp",{enumerable:!0,get:function(){return pk.fromHttp}})});function hk(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function gk(e){return{schemeId:"smithy.api#noAuth"}}var ai,gb,Sb,yb,Wf=x(()=>{Ne();ai=I(Ke()),gb=async(e,t,r)=>({operation:(0,ai.getSmithyContext)(t).operation,region:await(0,ai.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Sb=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(gk(e));break}default:t.push(hk(e))}return t},yb=e=>{let t=rn(e);return Object.assign(t,{authSchemePreference:(0,ai.normalizeProvider)(e.authSchemePreference??[])})}});var Eb,_b,Kf=x(()=>{Eb=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),_b={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var za,Jf=x(()=>{za={name:"@aws-sdk/nested-clients",version:"3.911.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var ci=P(ln=>{"use strict";var wb=require("os"),Yf=require("process"),yk=qn(),bb={isCrtAvailable:!1},Ek=()=>bb.isCrtAvailable?["md/crt-avail"]:null,xb=({serviceId:e,clientVersion:t})=>async r=>{var a;let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${wb.platform()}`,wb.release()],["lang/js"],["md/nodejs",`${Yf.versions.node}`]],s=Ek();s&&n.push(s),e&&n.push([`api/${e}`,t]),Yf.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Yf.env.AWS_EXECUTION_ENV}`]);let i=await((a=r==null?void 0:r.userAgentAppId)==null?void 0:a.call(r));return i?[...n,[`app/${i}`]]:[...n]},_k=xb,Tb="AWS_SDK_UA_APP_ID",vb="sdk_ua_app_id",wk="sdk-ua-app-id",bk={environmentVariableSelector:e=>e[Tb],configFileSelector:e=>e[vb]??e[wk],default:yk.DEFAULT_UA_APP_ID};ln.NODE_APP_ID_CONFIG_OPTIONS=bk;ln.UA_APP_ID_ENV_NAME=Tb;ln.UA_APP_ID_INI_NAME=vb;ln.createDefaultUserAgentProvider=xb;ln.crtAvailability=bb;ln.defaultUserAgent=_k});var di=P(Cb=>{"use strict";var Xf=En(),xk=Oe(),Tk=require("buffer"),Ib=require("crypto"),Qf=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(xk.toUint8Array(Ab(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?Ib.createHmac(this.algorithmIdentifier,Ab(this.secret)):Ib.createHash(this.algorithmIdentifier)}};function Ab(e,t){return Tk.Buffer.isBuffer(e)?e:typeof e=="string"?Xf.fromString(e,t):ArrayBuffer.isView(e)?Xf.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Xf.fromArrayBuffer(e)}Cb.Hash=Qf});var li=P(Rb=>{"use strict";var Zf=require("node:fs"),vk=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Zf.ReadStream){if(e.path!=null)return Zf.lstatSync(e.path).size;if(typeof e.fd=="number")return Zf.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};Rb.calculateBodyLength=vk});var Ub,lt,ut,Xn,Nb,ui,Jn,Yn,Jt,ep,tp,Pb,Ob,Db,zb,Hb,dt,Mb,jb,kb,Fb,Lb,$b,Ik,Bb,qb=x(()=>{Ub="required",lt="fn",ut="argv",Xn="ref",Nb="isSet",ui="booleanEquals",Jn="error",Yn="endpoint",Jt="tree",ep="PartitionResult",tp="getAttr",Pb={[Ub]:!1,type:"String"},Ob={[Ub]:!0,default:!1,type:"Boolean"},Db={[Xn]:"Endpoint"},zb={[lt]:ui,[ut]:[{[Xn]:"UseFIPS"},!0]},Hb={[lt]:ui,[ut]:[{[Xn]:"UseDualStack"},!0]},dt={},Mb={[lt]:tp,[ut]:[{[Xn]:ep},"supportsFIPS"]},jb={[Xn]:ep},kb={[lt]:ui,[ut]:[!0,{[lt]:tp,[ut]:[jb,"supportsDualStack"]}]},Fb=[zb],Lb=[Hb],$b=[{[Xn]:"Region"}],Ik={version:"1.0",parameters:{Region:Pb,UseDualStack:Ob,UseFIPS:Ob,Endpoint:Pb},rules:[{conditions:[{[lt]:Nb,[ut]:[Db]}],rules:[{conditions:Fb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Jn},{conditions:Lb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Jn},{endpoint:{url:Db,properties:dt,headers:dt},type:Yn}],type:Jt},{conditions:[{[lt]:Nb,[ut]:$b}],rules:[{conditions:[{[lt]:"aws.partition",[ut]:$b,assign:ep}],rules:[{conditions:[zb,Hb],rules:[{conditions:[{[lt]:ui,[ut]:[!0,Mb]},kb],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dt,headers:dt},type:Yn}],type:Jt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Jn}],type:Jt},{conditions:Fb,rules:[{conditions:[{[lt]:ui,[ut]:[Mb,!0]}],rules:[{conditions:[{[lt]:"stringEquals",[ut]:[{[lt]:tp,[ut]:[jb,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:dt,headers:dt},type:Yn},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:dt,headers:dt},type:Yn}],type:Jt},{error:"FIPS is enabled but this partition does not support FIPS",type:Jn}],type:Jt},{conditions:Lb,rules:[{conditions:[kb],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:dt,headers:dt},type:Yn}],type:Jt},{error:"DualStack is enabled but this partition does not support DualStack",type:Jn}],type:Jt},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:dt,headers:dt},type:Yn}],type:Jt}],type:Jt},{error:"Invalid Configuration: Missing Region",type:Jn}]},Bb=Ik});var Vb,Qn,Ak,Gb,Wb=x(()=>{Vb=I(Dn()),Qn=I(Pn());qb();Ak=new Qn.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Gb=(e,t={})=>Ak.get(e,()=>(0,Qn.resolveEndpoint)(Bb,{endpointParams:e,logger:t.logger}));Qn.customEndpointFunctions.aws=Vb.awsEndpointFunctions});var Kb,Jb,Ha,ja,Yb,Xb=x(()=>{Ne();Xe();Kb=I(X()),Jb=I(fr()),Ha=I(De()),ja=I(Oe());Wf();Wb();Yb=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??Ha.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??Ha.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Gb,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Sb,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Qe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zt}],logger:(e==null?void 0:e.logger)??new Kb.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??Jb.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??ja.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ja.toUtf8})});var mi=P(tx=>{"use strict";var Ck=Nt(),Qb=vr(),Rk=Ge(),Nk="AWS_EXECUTION_ENV",Zb="AWS_REGION",ex="AWS_DEFAULT_REGION",Pk="AWS_EC2_METADATA_DISABLED",Ok=["in-region","cross-region","mobile","standard","legacy"],Dk="/latest/meta-data/placement/region",Mk="AWS_DEFAULTS_MODE",kk="defaults_mode",Fk={environmentVariableSelector:e=>e[Mk],configFileSelector:e=>e[kk],default:"legacy"},Lk=({region:e=Qb.loadConfig(Ck.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=Qb.loadConfig(Fk)}={})=>Rk.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return $k(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Ok.join(", ")}, got ${r}`)}}),$k=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await Uk();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},Uk=async()=>{if(process.env[Nk]&&(process.env[Zb]||process.env[ex]))return process.env[Zb]??process.env[ex];if(!process.env[Pk])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>I(oi())),r=await e();return(await t({...r,path:Dk})).toString()}catch{}};tx.resolveDefaultsModeConfig=Lk});var Ba,Or,rx,qa,Pr,Va,nx,sx,ix,ox,ax,cx,dx=x(()=>{Jf();Ne();Ba=I(ci()),Or=I(Nt()),rx=I(di()),qa=I(Kt()),Pr=I(vr()),Va=I(Vr()),nx=I(li()),sx=I(Gn());Xb();ix=I(X()),ox=I(mi()),ax=I(X()),cx=e=>{(0,ax.emitWarningIfUnsupportedVersion)(process.version);let t=(0,ox.resolveDefaultsModeConfig)(e),r=()=>t().then(ix.loadConfigsForDefaultMode),n=Yb(e);Mn(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Pr.loadConfig)(Ln,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??nx.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,Ba.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:za.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Pr.loadConfig)(qa.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Pr.loadConfig)(Or.NODE_REGION_CONFIG_OPTIONS,{...Or.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Va.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Pr.loadConfig)({...qa.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||sx.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??rx.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Va.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Pr.loadConfig)(Or.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Pr.loadConfig)(Or.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Pr.loadConfig)(Ba.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var fi=P(Dr=>{"use strict";var zk=e=>({setRegion(t){e.region=t},region(){return e.region}}),Hk=e=>({region:e.region()}),ux="AWS_REGION",mx="region",jk={environmentVariableSelector:e=>e[ux],configFileSelector:e=>e[mx],default:()=>{throw new Error("Region is missing")}},Bk={preferredFile:"credentials"},fx=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),lx=e=>fx(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,qk=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return lx(t);let n=await t();return lx(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return fx(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})};Dr.NODE_REGION_CONFIG_FILE_OPTIONS=Bk;Dr.NODE_REGION_CONFIG_OPTIONS=jk;Dr.REGION_ENV_NAME=ux;Dr.REGION_INI_NAME=mx;Dr.getAwsRegionExtensionConfiguration=zk;Dr.resolveAwsRegionExtensionConfiguration=Hk;Dr.resolveRegionConfig=qk});var px,hx,gx=x(()=>{px=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},hx=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Ga,Wa,Ka,Sx,yx=x(()=>{Ga=I(fi()),Wa=I(he()),Ka=I(X());gx();Sx=(e,t)=>{let r=Object.assign((0,Ga.getAwsRegionExtensionConfiguration)(e),(0,Ka.getDefaultExtensionConfiguration)(e),(0,Wa.getHttpHandlerExtensionConfiguration)(e),px(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Ga.resolveAwsRegionExtensionConfiguration)(r),(0,Ka.resolveDefaultRuntimeConfig)(r),(0,Wa.resolveHttpHandlerRuntimeConfig)(r),hx(r))}});var Ja,Ex,_x,Ya,wx,bx,xx,Xa,rp,pi,np=x(()=>{Ja=I(Ss()),Ex=I(ys()),_x=I(Es()),Ya=I(qn()),wx=I(Nt());Xe();bx=I(Zs()),xx=I(Ir()),Xa=I(Kt()),rp=I(X());Wf();Kf();dx();yx();pi=class extends rp.Client{config;constructor(...[t]){let r=cx(t||{});super(r),this.initConfig=r;let n=Eb(r),s=(0,Ya.resolveUserAgentConfig)(n),i=(0,Xa.resolveRetryConfig)(s),o=(0,wx.resolveRegionConfig)(i),a=(0,Ja.resolveHostHeaderConfig)(o),d=(0,xx.resolveEndpointConfig)(a),l=yb(d),f=Sx(l,(t==null?void 0:t.extensions)||[]);this.config=f,this.middlewareStack.use((0,Ya.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Xa.getRetryPlugin)(this.config)),this.middlewareStack.use((0,bx.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Ja.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Ex.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,_x.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ws(this.config,{httpAuthSchemeParametersProvider:gb,identityProviderConfigProvider:async p=>new Qr({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(bs(this.config))}destroy(){super.destroy()}}});var Tx,Pe,Qa=x(()=>{Tx=I(X()),Pe=class e extends Tx.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var un,Vk,hi,gi,sp,ip,Si,yi,Ei,_i,Gk,wi,bi,xi,Ti,vi,Za=x(()=>{un=I(X());Qa();Vk={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},hi=class e extends Pe{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},gi=class e extends Pe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},sp=e=>({...e,...e.clientSecret&&{clientSecret:un.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:un.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:un.SENSITIVE_STRING}}),ip=e=>({...e,...e.accessToken&&{accessToken:un.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:un.SENSITIVE_STRING},...e.idToken&&{idToken:un.SENSITIVE_STRING}}),Si=class e extends Pe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},yi=class e extends Pe{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ei=class e extends Pe{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},_i=class e extends Pe{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Gk={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},wi=class e extends Pe{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},bi=class e extends Pe{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},xi=class e extends Pe{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Ti=class e extends Pe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},vi=class e extends Pe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var M,vx,Ix,Wk,Kk,Jk,Yk,Xk,Qk,Zk,eF,tF,rF,nF,sF,iF,mt,Ax=x(()=>{Ne();Xe();M=I(X());Za();Qa();vx=async(e,t)=>{let r=Ls(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,M.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:i=>(0,M._json)(i)})),r.m("POST").h(n).b(s),r.build()},Ix=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wk(e,t);let r=(0,M.map)({$metadata:mt(e)}),n=(0,M.expectNonNull)((0,M.expectObject)(await jn(e.body,t)),"body"),s=(0,M.take)(n,{accessToken:M.expectString,expiresIn:M.expectInt32,idToken:M.expectString,refreshToken:M.expectString,tokenType:M.expectString});return Object.assign(r,s),r},Wk=async(e,t)=>{let r={...e,body:await Zm(e.body,t)},n=sn(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Jk(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Yk(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Xk(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Qk(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Zk(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await eF(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await tF(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await rF(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await nF(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await sF(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await iF(r,t);default:let s=r.body;return Kk({output:e,parsedBody:s,errorCode:n})}},Kk=(0,M.withBaseException)(Pe),Jk=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString,reason:M.expectString});Object.assign(r,s);let i=new hi({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},Yk=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new gi({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},Xk=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new Si({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},Qk=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new yi({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},Zk=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new Ei({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},eF=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new _i({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},tF=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString,reason:M.expectString});Object.assign(r,s);let i=new wi({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},rF=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new bi({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},nF=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new xi({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},sF=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new Ti({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},iF=async(e,t)=>{let r=(0,M.map)({}),n=e.body,s=(0,M.take)(n,{error:M.expectString,error_description:M.expectString});Object.assign(r,s);let i=new vi({$metadata:mt(e),...r});return(0,M.decorateServiceException)(i,e.body)},mt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var Cx,Rx,op,Ii,ap=x(()=>{Cx=I(Ir()),Rx=I(ar()),op=I(X());Kf();Za();Ax();Ii=class extends op.Command.classBuilder().ep(_b).m(function(t,r,n,s){return[(0,Rx.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Cx.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(sp,ip).ser(vx).de(Ix).build(){}});var Nx,oF,ec,Px=x(()=>{Nx=I(X());ap();np();oF={CreateTokenCommand:Ii},ec=class extends pi{};(0,Nx.createAggregatedClient)(oF,ec)});var Ox=x(()=>{ap()});var Dx=x(()=>{Za()});var cp={};it(cp,{$Command:()=>op.Command,AccessDeniedException:()=>hi,AccessDeniedExceptionReason:()=>Vk,AuthorizationPendingException:()=>gi,CreateTokenCommand:()=>Ii,CreateTokenRequestFilterSensitiveLog:()=>sp,CreateTokenResponseFilterSensitiveLog:()=>ip,ExpiredTokenException:()=>Si,InternalServerException:()=>yi,InvalidClientException:()=>Ei,InvalidGrantException:()=>_i,InvalidRequestException:()=>wi,InvalidRequestExceptionReason:()=>Gk,InvalidScopeException:()=>bi,SSOOIDC:()=>ec,SSOOIDCClient:()=>pi,SSOOIDCServiceException:()=>Pe,SlowDownException:()=>xi,UnauthorizedClientException:()=>Ti,UnsupportedGrantTypeException:()=>vi,__Client:()=>rp.Client});var dp=x(()=>{np();Px();Ox();Dx();Qa()});var Lx=P(Ci=>{"use strict";var aF=(Et(),le(hr)),cF=(Tm(),le(LE)),nt=Ge(),Ai=Gt(),dF=require("fs"),lF=({logger:e,signingName:t}={})=>async()=>{var s;if((s=e==null?void 0:e.debug)==null||s.call(e,"@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new nt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=cF.getBearerTokenEnvKey(t);if(!(r in process.env))throw new nt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return aF.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},uF=5*60*1e3,lp="To refresh this SSO session run 'aws sso login' with the corresponding profile.",mF=async(e,t={})=>{var s,i,o;let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(dp(),cp));return new r(Object.assign({},t.clientConfig??{},{region:e??((s=t.clientConfig)==null?void 0:s.region),logger:((i=t.clientConfig)==null?void 0:i.logger)??((o=t.parentClientConfig)==null?void 0:o.logger)}))},fF=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(dp(),cp));return(await mF(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},Mx=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new nt.TokenProviderError(`Token is expired. ${lp}`,!1)},mn=(e,t,r=!1)=>{if(typeof t>"u")throw new nt.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${lp}`,!1)},{writeFile:pF}=dF.promises,hF=(e,t)=>{let r=Ai.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return pF(r,n)},kx=new Date(0),Fx=(e={})=>async({callerClientConfig:t}={})=>{var y;let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};(y=r.logger)==null||y.debug("@aws-sdk/token-providers - fromSso");let n=await Ai.parseKnownFiles(r),s=Ai.getProfileName({profile:r.profile??(t==null?void 0:t.profile)}),i=n[s];if(i){if(!i.sso_session)throw new nt.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new nt.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let o=i.sso_session,d=(await Ai.loadSsoSessionData(r))[o];if(!d)throw new nt.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let w of["sso_start_url","sso_region"])if(!d[w])throw new nt.TokenProviderError(`Sso session '${o}' is missing required property '${w}'.`,!1);d.sso_start_url;let l=d.sso_region,f;try{f=await Ai.getSSOTokenFromFile(o)}catch{throw new nt.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${lp}`,!1)}mn("accessToken",f.accessToken),mn("expiresAt",f.expiresAt);let{accessToken:p,expiresAt:g}=f,h={token:p,expiration:new Date(g)};if(h.expiration.getTime()-Date.now()>uF)return h;if(Date.now()-kx.getTime()<30*1e3)return Mx(h),h;mn("clientId",f.clientId,!0),mn("clientSecret",f.clientSecret,!0),mn("refreshToken",f.refreshToken,!0);try{kx.setTime(Date.now());let w=await fF(f,l,r);mn("accessToken",w.accessToken),mn("expiresIn",w.expiresIn);let v=new Date(Date.now()+w.expiresIn*1e3);try{await hF(o,{...f,accessToken:w.accessToken,expiresAt:v.toISOString(),refreshToken:w.refreshToken})}catch{}return{token:w.accessToken,expiration:v}}catch{return Mx(h),h}},gF=({token:e,logger:t})=>async()=>{if(t==null||t.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new nt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},SF=(e={})=>nt.memoize(nt.chain(Fx(e),async()=>{throw new nt.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Ci.fromEnvSigningName=lF;Ci.fromSso=Fx;Ci.fromStatic=gF;Ci.nodeProvider=SF});var mp=P(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.resolveHttpAuthSchemeConfig=Mr.defaultSSOHttpAuthSchemeProvider=Mr.defaultSSOHttpAuthSchemeParametersProvider=void 0;var yF=(Ne(),le(Ct)),up=Ke(),EF=async(e,t,r)=>({operation:(0,up.getSmithyContext)(t).operation,region:await(0,up.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Mr.defaultSSOHttpAuthSchemeParametersProvider=EF;function _F(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function tc(e){return{schemeId:"smithy.api#noAuth"}}var wF=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(tc(e));break}case"ListAccountRoles":{t.push(tc(e));break}case"ListAccounts":{t.push(tc(e));break}case"Logout":{t.push(tc(e));break}default:t.push(_F(e))}return t};Mr.defaultSSOHttpAuthSchemeProvider=wF;var bF=e=>{let t=(0,yF.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,up.normalizeProvider)(e.authSchemePreference??[])})};Mr.resolveHttpAuthSchemeConfig=bF});var $x=P((fW,xF)=>{xF.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.911.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Zx=P(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.ruleSet=void 0;var Jx="required",pt="fn",ht="argv",ts="ref",Ux=!0,zx="isSet",Ri="booleanEquals",Zn="error",es="endpoint",Yt="tree",fp="PartitionResult",pp="getAttr",Hx={[Jx]:!1,type:"String"},jx={[Jx]:!0,default:!1,type:"Boolean"},Bx={[ts]:"Endpoint"},Yx={[pt]:Ri,[ht]:[{[ts]:"UseFIPS"},!0]},Xx={[pt]:Ri,[ht]:[{[ts]:"UseDualStack"},!0]},ft={},qx={[pt]:pp,[ht]:[{[ts]:fp},"supportsFIPS"]},Qx={[ts]:fp},Vx={[pt]:Ri,[ht]:[!0,{[pt]:pp,[ht]:[Qx,"supportsDualStack"]}]},Gx=[Yx],Wx=[Xx],Kx=[{[ts]:"Region"}],TF={version:"1.0",parameters:{Region:Hx,UseDualStack:jx,UseFIPS:jx,Endpoint:Hx},rules:[{conditions:[{[pt]:zx,[ht]:[Bx]}],rules:[{conditions:Gx,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Zn},{conditions:Wx,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Zn},{endpoint:{url:Bx,properties:ft,headers:ft},type:es}],type:Yt},{conditions:[{[pt]:zx,[ht]:Kx}],rules:[{conditions:[{[pt]:"aws.partition",[ht]:Kx,assign:fp}],rules:[{conditions:[Yx,Xx],rules:[{conditions:[{[pt]:Ri,[ht]:[Ux,qx]},Vx],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},type:es}],type:Yt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Zn}],type:Yt},{conditions:Gx,rules:[{conditions:[{[pt]:Ri,[ht]:[qx,Ux]}],rules:[{conditions:[{[pt]:"stringEquals",[ht]:[{[pt]:pp,[ht]:[Qx,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:ft,headers:ft},type:es},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},type:es}],type:Yt},{error:"FIPS is enabled but this partition does not support FIPS",type:Zn}],type:Yt},{conditions:Wx,rules:[{conditions:[Vx],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},type:es}],type:Yt},{error:"DualStack is enabled but this partition does not support DualStack",type:Zn}],type:Yt},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},type:es}],type:Yt}],type:Yt},{error:"Invalid Configuration: Missing Region",type:Zn}]};rc.ruleSet=TF});var eT=P(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.defaultEndpointResolver=void 0;var vF=Dn(),hp=Pn(),IF=Zx(),AF=new hp.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),CF=(e,t={})=>AF.get(e,()=>(0,hp.resolveEndpoint)(IF.ruleSet,{endpointParams:e,logger:t.logger}));nc.defaultEndpointResolver=CF;hp.customEndpointFunctions.aws=vF.awsEndpointFunctions});var nT=P(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.getRuntimeConfig=void 0;var RF=(Ne(),le(Ct)),NF=(Xe(),le(Nn)),PF=X(),OF=fr(),tT=De(),rT=Oe(),DF=mp(),MF=eT(),kF=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??tT.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??tT.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??MF.defaultEndpointResolver,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??DF.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new RF.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new NF.NoAuthSigner}],logger:(e==null?void 0:e.logger)??new PF.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??OF.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??rT.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??rT.toUtf8});sc.getRuntimeConfig=kF});var cT=P(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.getRuntimeConfig=void 0;var FF=(Ms(),le(Ds)),LF=FF.__importDefault($x()),sT=(Ne(),le(Ct)),iT=ci(),ic=Nt(),$F=di(),oT=Kt(),fn=vr(),aT=Vr(),UF=li(),zF=Gn(),HF=nT(),jF=X(),BF=mi(),qF=X(),VF=e=>{(0,qF.emitWarningIfUnsupportedVersion)(process.version);let t=(0,BF.resolveDefaultsModeConfig)(e),r=()=>t().then(jF.loadConfigsForDefaultMode),n=(0,HF.getRuntimeConfig)(e);(0,sT.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,fn.loadConfig)(sT.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??UF.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,iT.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:LF.default.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,fn.loadConfig)(oT.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,fn.loadConfig)(ic.NODE_REGION_CONFIG_OPTIONS,{...ic.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:aT.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,fn.loadConfig)({...oT.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||zF.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??$F.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??aT.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,fn.loadConfig)(ic.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,fn.loadConfig)(ic.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,fn.loadConfig)(iT.NODE_APP_ID_CONFIG_OPTIONS,s)}};oc.getRuntimeConfig=VF});var AT=P(Te=>{"use strict";var dT=Ss(),GF=ys(),WF=Es(),lT=qn(),KF=Nt(),Xt=(Xe(),le(Nn)),JF=Zs(),Di=Ir(),uT=Kt(),L=X(),mT=mp(),YF=cT(),fT=fi(),pT=he(),pc=ar(),Ni=(Ne(),le(Ct)),XF=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),hc={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},QF=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},ZF=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),e1=(e,t)=>{let r=Object.assign(fT.getAwsRegionExtensionConfiguration(e),L.getDefaultExtensionConfiguration(e),pT.getHttpHandlerExtensionConfiguration(e),QF(e));return t.forEach(n=>n.configure(r)),Object.assign(e,fT.resolveAwsRegionExtensionConfiguration(r),L.resolveDefaultRuntimeConfig(r),pT.resolveHttpHandlerRuntimeConfig(r),ZF(r))},rs=class extends L.Client{config;constructor(...[t]){let r=YF.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=XF(r),s=lT.resolveUserAgentConfig(n),i=uT.resolveRetryConfig(s),o=KF.resolveRegionConfig(i),a=dT.resolveHostHeaderConfig(o),d=Di.resolveEndpointConfig(a),l=mT.resolveHttpAuthSchemeConfig(d),f=e1(l,(t==null?void 0:t.extensions)||[]);this.config=f,this.middlewareStack.use(lT.getUserAgentPlugin(this.config)),this.middlewareStack.use(uT.getRetryPlugin(this.config)),this.middlewareStack.use(JF.getContentLengthPlugin(this.config)),this.middlewareStack.use(dT.getHostHeaderPlugin(this.config)),this.middlewareStack.use(GF.getLoggerPlugin(this.config)),this.middlewareStack.use(WF.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Xt.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:mT.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new Xt.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(Xt.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},kr=class e extends L.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},ac=class e extends kr{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cc=class e extends kr{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dc=class e extends kr{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},lc=class e extends kr{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hT=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),gT=e=>({...e,...e.secretAccessKey&&{secretAccessKey:L.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:L.SENSITIVE_STRING}}),ST=e=>({...e,...e.roleCredentials&&{roleCredentials:gT(e.roleCredentials)}}),yT=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),ET=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),_T=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),t1=async(e,t)=>{let r=Xt.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[yc]:e[Sc]});r.bp("/federation/credentials");let s=L.map({[h1]:[,L.expectNonNull(e[p1],"roleName")],[bT]:[,L.expectNonNull(e[wT],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},r1=async(e,t)=>{let r=Xt.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[yc]:e[Sc]});r.bp("/assignment/roles");let s=L.map({[IT]:[,e[vT]],[TT]:[()=>e.maxResults!==void 0,()=>e[xT].toString()],[bT]:[,L.expectNonNull(e[wT],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},n1=async(e,t)=>{let r=Xt.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[yc]:e[Sc]});r.bp("/assignment/accounts");let s=L.map({[IT]:[,e[vT]],[TT]:[()=>e.maxResults!==void 0,()=>e[xT].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},s1=async(e,t)=>{let r=Xt.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[yc]:e[Sc]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},i1=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gc(e,t);let r=L.map({$metadata:Fr(e)}),n=L.expectNonNull(L.expectObject(await Ni.parseJsonBody(e.body,t)),"body"),s=L.take(n,{roleCredentials:L._json});return Object.assign(r,s),r},o1=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gc(e,t);let r=L.map({$metadata:Fr(e)}),n=L.expectNonNull(L.expectObject(await Ni.parseJsonBody(e.body,t)),"body"),s=L.take(n,{nextToken:L.expectString,roleList:L._json});return Object.assign(r,s),r},a1=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gc(e,t);let r=L.map({$metadata:Fr(e)}),n=L.expectNonNull(L.expectObject(await Ni.parseJsonBody(e.body,t)),"body"),s=L.take(n,{accountList:L._json,nextToken:L.expectString});return Object.assign(r,s),r},c1=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gc(e,t);let r=L.map({$metadata:Fr(e)});return await L.collectBody(e.body,t),r},gc=async(e,t)=>{let r={...e,body:await Ni.parseJsonErrorBody(e.body,t)},n=Ni.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await l1(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await u1(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await m1(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await f1(r);default:let s=r.body;return d1({output:e,parsedBody:s,errorCode:n})}},d1=L.withBaseException(kr),l1=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let i=new ac({$metadata:Fr(e),...r});return L.decorateServiceException(i,e.body)},u1=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let i=new cc({$metadata:Fr(e),...r});return L.decorateServiceException(i,e.body)},m1=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let i=new dc({$metadata:Fr(e),...r});return L.decorateServiceException(i,e.body)},f1=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let i=new lc({$metadata:Fr(e),...r});return L.decorateServiceException(i,e.body)},Fr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),wT="accountId",Sc="accessToken",bT="account_id",xT="maxResults",TT="max_result",vT="nextToken",IT="next_token",p1="roleName",h1="role_name",yc="x-amz-sso_bearer_token",uc=class extends L.Command.classBuilder().ep(hc).m(function(t,r,n,s){return[pc.getSerdePlugin(n,this.serialize,this.deserialize),Di.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(hT,ST).ser(t1).de(i1).build(){},Pi=class extends L.Command.classBuilder().ep(hc).m(function(t,r,n,s){return[pc.getSerdePlugin(n,this.serialize,this.deserialize),Di.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(yT,void 0).ser(r1).de(o1).build(){},Oi=class extends L.Command.classBuilder().ep(hc).m(function(t,r,n,s){return[pc.getSerdePlugin(n,this.serialize,this.deserialize),Di.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(ET,void 0).ser(n1).de(a1).build(){},mc=class extends L.Command.classBuilder().ep(hc).m(function(t,r,n,s){return[pc.getSerdePlugin(n,this.serialize,this.deserialize),Di.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(_T,void 0).ser(s1).de(c1).build(){},g1={GetRoleCredentialsCommand:uc,ListAccountRolesCommand:Pi,ListAccountsCommand:Oi,LogoutCommand:mc},fc=class extends rs{};L.createAggregatedClient(g1,fc);var S1=Xt.createPaginator(rs,Pi,"nextToken","nextToken","maxResults"),y1=Xt.createPaginator(rs,Oi,"nextToken","nextToken","maxResults");Object.defineProperty(Te,"$Command",{enumerable:!0,get:function(){return L.Command}});Object.defineProperty(Te,"__Client",{enumerable:!0,get:function(){return L.Client}});Te.GetRoleCredentialsCommand=uc;Te.GetRoleCredentialsRequestFilterSensitiveLog=hT;Te.GetRoleCredentialsResponseFilterSensitiveLog=ST;Te.InvalidRequestException=ac;Te.ListAccountRolesCommand=Pi;Te.ListAccountRolesRequestFilterSensitiveLog=yT;Te.ListAccountsCommand=Oi;Te.ListAccountsRequestFilterSensitiveLog=ET;Te.LogoutCommand=mc;Te.LogoutRequestFilterSensitiveLog=_T;Te.ResourceNotFoundException=cc;Te.RoleCredentialsFilterSensitiveLog=gT;Te.SSO=fc;Te.SSOClient=rs;Te.SSOServiceException=kr;Te.TooManyRequestsException=dc;Te.UnauthorizedException=lc;Te.paginateListAccountRoles=S1;Te.paginateListAccounts=y1});var RT=P(gp=>{"use strict";var CT=AT();Object.defineProperty(gp,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return CT.GetRoleCredentialsCommand}});Object.defineProperty(gp,"SSOClient",{enumerable:!0,get:function(){return CT.SSOClient}})});var Sp=P(_c=>{"use strict";var _t=Ge(),Ec=Gt(),NT=(Et(),le(hr)),E1=Lx(),OT=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Mi=!1,PT=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:i,clientConfig:o,parentClientConfig:a,profile:d,filepath:l,configFilepath:f,ignoreCache:p,logger:g})=>{let h,y="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let ae=await E1.fromSso({profile:d,filepath:l,configFilepath:f,ignoreCache:p})();h={accessToken:ae.token,expiresAt:new Date(ae.expiration).toISOString()}}catch(ae){throw new _t.CredentialsProviderError(ae.message,{tryNextLink:Mi,logger:g})}else try{h=await Ec.getSSOTokenFromFile(e)}catch{throw new _t.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${y}`,{tryNextLink:Mi,logger:g})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new _t.CredentialsProviderError(`The SSO session associated with this profile has expired. ${y}`,{tryNextLink:Mi,logger:g});let{accessToken:w}=h,{SSOClient:v,GetRoleCredentialsCommand:R}=await Promise.resolve().then(function(){return RT()}),O=i||new v(Object.assign({},o??{},{logger:(o==null?void 0:o.logger)??(a==null?void 0:a.logger),region:(o==null?void 0:o.region)??n})),D;try{D=await O.send(new R({accountId:r,roleName:s,accessToken:w}))}catch(ae){throw new _t.CredentialsProviderError(ae,{tryNextLink:Mi,logger:g})}let{roleCredentials:{accessKeyId:j,secretAccessKey:U,sessionToken:J,expiration:ge,credentialScope:We,accountId:Se}={}}=D;if(!j||!U||!J||!ge)throw new _t.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Mi,logger:g});let rr={accessKeyId:j,secretAccessKey:U,sessionToken:J,expiration:new Date(ge),...We&&{credentialScope:We},...Se&&{accountId:Se}};return t?NT.setCredentialFeature(rr,"CREDENTIALS_SSO","s"):NT.setCredentialFeature(rr,"CREDENTIALS_SSO_LEGACY","u"),rr},DT=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:i}=e;if(!r||!n||!s||!i)throw new _t.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},_1=(e={})=>async({callerClientConfig:t}={})=>{var l;(l=e.logger)==null||l.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoSession:o}=e,{ssoClient:a}=e,d=Ec.getProfileName({profile:e.profile??(t==null?void 0:t.profile)});if(!r&&!n&&!s&&!i&&!o){let p=(await Ec.parseKnownFiles(e))[d];if(!p)throw new _t.CredentialsProviderError(`Profile ${d} was not found.`,{logger:e.logger});if(!OT(p))throw new _t.CredentialsProviderError(`Profile ${d} is not configured with SSO credentials.`,{logger:e.logger});if(p!=null&&p.sso_session){let O=(await Ec.loadSsoSessionData(e))[p.sso_session],D=` configurations in profile ${d} and sso-session ${p.sso_session}`;if(s&&s!==O.sso_region)throw new _t.CredentialsProviderError("Conflicting SSO region"+D,{tryNextLink:!1,logger:e.logger});if(r&&r!==O.sso_start_url)throw new _t.CredentialsProviderError("Conflicting SSO start_url"+D,{tryNextLink:!1,logger:e.logger});p.sso_region=O.sso_region,p.sso_start_url=O.sso_start_url}let{sso_start_url:g,sso_account_id:h,sso_region:y,sso_role_name:w,sso_session:v}=DT(p,e.logger);return PT({ssoStartUrl:g,ssoSession:v,ssoAccountId:h,ssoRegion:y,ssoRoleName:w,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!i)throw new _t.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return PT({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:s,ssoRoleName:i,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};_c.fromSSO=_1;_c.isSsoProfile=OT;_c.validateSsoProfile=DT});function w1(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function b1(e){return{schemeId:"smithy.api#noAuth"}}var ki,MT,kT,x1,FT,yp=x(()=>{Ne();ki=I(Ke());Fi();MT=async(e,t,r)=>({operation:(0,ki.getSmithyContext)(t).operation,region:await(0,ki.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kT=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(b1(e));break}default:t.push(w1(e))}return t},x1=e=>Object.assign(e,{stsClientCtor:Ot}),FT=e=>{let t=x1(e),r=rn(t);return Object.assign(r,{authSchemePreference:(0,ki.normalizeProvider)(e.authSchemePreference??[])})}});var LT,wc,bc=x(()=>{LT=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),wc={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var KT,V,ce,de,$r,Lr,ke,JT,YT,XT,Ee,$T,Dt,ns,_p,UT,Ep,QT,zT,Fe,HT,ZT,ev,je,st,jT,tv,rv,BT,nv,qT,VT,GT,WT,T1,sv,iv=x(()=>{KT="required",V="type",ce="fn",de="argv",$r="ref",Lr="booleanEquals",ke="stringEquals",JT="sigv4",YT="sts",XT="us-east-1",Ee="endpoint",$T="https://sts.{Region}.{PartitionResult#dnsSuffix}",Dt="tree",ns="error",_p="getAttr",UT={[KT]:!1,[V]:"String"},Ep={[KT]:!0,default:!1,[V]:"Boolean"},QT={[$r]:"Endpoint"},zT={[ce]:"isSet",[de]:[{[$r]:"Region"}]},Fe={[$r]:"Region"},HT={[ce]:"aws.partition",[de]:[Fe],assign:"PartitionResult"},ZT={[$r]:"UseFIPS"},ev={[$r]:"UseDualStack"},je={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:JT,signingName:YT,signingRegion:XT}]},headers:{}},st={},jT={conditions:[{[ce]:ke,[de]:[Fe,"aws-global"]}],[Ee]:je,[V]:Ee},tv={[ce]:Lr,[de]:[ZT,!0]},rv={[ce]:Lr,[de]:[ev,!0]},BT={[ce]:_p,[de]:[{[$r]:"PartitionResult"},"supportsFIPS"]},nv={[$r]:"PartitionResult"},qT={[ce]:Lr,[de]:[!0,{[ce]:_p,[de]:[nv,"supportsDualStack"]}]},VT=[{[ce]:"isSet",[de]:[QT]}],GT=[tv],WT=[rv],T1={version:"1.0",parameters:{Region:UT,UseDualStack:Ep,UseFIPS:Ep,Endpoint:UT,UseGlobalEndpoint:Ep},rules:[{conditions:[{[ce]:Lr,[de]:[{[$r]:"UseGlobalEndpoint"},!0]},{[ce]:"not",[de]:VT},zT,HT,{[ce]:Lr,[de]:[ZT,!1]},{[ce]:Lr,[de]:[ev,!1]}],rules:[{conditions:[{[ce]:ke,[de]:[Fe,"ap-northeast-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"ap-south-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"ap-southeast-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"ap-southeast-2"]}],endpoint:je,[V]:Ee},jT,{conditions:[{[ce]:ke,[de]:[Fe,"ca-central-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"eu-central-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"eu-north-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"eu-west-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"eu-west-2"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"eu-west-3"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"sa-east-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,XT]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"us-east-2"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"us-west-1"]}],endpoint:je,[V]:Ee},{conditions:[{[ce]:ke,[de]:[Fe,"us-west-2"]}],endpoint:je,[V]:Ee},{endpoint:{url:$T,properties:{authSchemes:[{name:JT,signingName:YT,signingRegion:"{Region}"}]},headers:st},[V]:Ee}],[V]:Dt},{conditions:VT,rules:[{conditions:GT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[V]:ns},{conditions:WT,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[V]:ns},{endpoint:{url:QT,properties:st,headers:st},[V]:Ee}],[V]:Dt},{conditions:[zT],rules:[{conditions:[HT],rules:[{conditions:[tv,rv],rules:[{conditions:[{[ce]:Lr,[de]:[!0,BT]},qT],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:st,headers:st},[V]:Ee}],[V]:Dt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[V]:ns}],[V]:Dt},{conditions:GT,rules:[{conditions:[{[ce]:Lr,[de]:[BT,!0]}],rules:[{conditions:[{[ce]:ke,[de]:[{[ce]:_p,[de]:[nv,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:st,headers:st},[V]:Ee},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:st,headers:st},[V]:Ee}],[V]:Dt},{error:"FIPS is enabled but this partition does not support FIPS",[V]:ns}],[V]:Dt},{conditions:WT,rules:[{conditions:[qT],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:st,headers:st},[V]:Ee}],[V]:Dt},{error:"DualStack is enabled but this partition does not support DualStack",[V]:ns}],[V]:Dt},jT,{endpoint:{url:$T,properties:st,headers:st},[V]:Ee}],[V]:Dt}],[V]:Dt},{error:"Invalid Configuration: Missing Region",[V]:ns}]},sv=T1});var ov,ss,v1,av,cv=x(()=>{ov=I(Dn()),ss=I(Pn());iv();v1=new ss.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),av=(e,t={})=>v1.get(e,()=>(0,ss.resolveEndpoint)(sv,{endpointParams:e,logger:t.logger}));ss.customEndpointFunctions.aws=ov.awsEndpointFunctions});var dv,lv,xc,Tc,uv,mv=x(()=>{Ne();Xe();dv=I(X()),lv=I(fr()),xc=I(De()),Tc=I(Oe());yp();cv();uv=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??xc.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??xc.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??av,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??kT,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Qe},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zt}],logger:(e==null?void 0:e.logger)??new dv.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??lv.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Tc.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??Tc.toUtf8})});var vc,zr,fv,Ic,Ur,Ac,pv,hv,gv,Sv,yv,Ev,_v=x(()=>{Jf();Ne();vc=I(ci()),zr=I(Nt());Xe();fv=I(di()),Ic=I(Kt()),Ur=I(vr()),Ac=I(Vr()),pv=I(li()),hv=I(Gn());mv();gv=I(X()),Sv=I(mi()),yv=I(X()),Ev=e=>{(0,yv.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Sv.resolveDefaultsModeConfig)(e),r=()=>t().then(gv.loadConfigsForDefaultMode),n=uv(e);Mn(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Ur.loadConfig)(Ln,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??pv.calculateBodyLength,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,vc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:za.version}),httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:i=>i.getIdentityProvider("aws.auth#sigv4")||(async o=>await e.credentialDefaultProvider((o==null?void 0:o.__config)||{})()),signer:new Qe},{schemeId:"smithy.api#noAuth",identityProvider:i=>i.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zt}],maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Ur.loadConfig)(Ic.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Ur.loadConfig)(zr.NODE_REGION_CONFIG_OPTIONS,{...zr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Ac.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Ur.loadConfig)({...Ic.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||hv.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??fv.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Ac.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Ur.loadConfig)(zr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Ur.loadConfig)(zr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Ur.loadConfig)(vc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var wv,bv,xv=x(()=>{wv=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},bv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Cc,Rc,Nc,Tv,vv=x(()=>{Cc=I(fi()),Rc=I(he()),Nc=I(X());xv();Tv=(e,t)=>{let r=Object.assign((0,Cc.getAwsRegionExtensionConfiguration)(e),(0,Nc.getDefaultExtensionConfiguration)(e),(0,Rc.getHttpHandlerExtensionConfiguration)(e),wv(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Cc.resolveAwsRegionExtensionConfiguration)(r),(0,Nc.resolveDefaultRuntimeConfig)(r),(0,Rc.resolveHttpHandlerRuntimeConfig)(r),bv(r))}});var Pc,Iv,Av,Oc,Cv,Rv,Nv,Dc,wp,Ot,Fi=x(()=>{Pc=I(Ss()),Iv=I(ys()),Av=I(Es()),Oc=I(qn()),Cv=I(Nt());Xe();Rv=I(Zs()),Nv=I(Ir()),Dc=I(Kt()),wp=I(X());yp();bc();_v();vv();Ot=class extends wp.Client{config;constructor(...[t]){let r=Ev(t||{});super(r),this.initConfig=r;let n=LT(r),s=(0,Oc.resolveUserAgentConfig)(n),i=(0,Dc.resolveRetryConfig)(s),o=(0,Cv.resolveRegionConfig)(i),a=(0,Pc.resolveHostHeaderConfig)(o),d=(0,Nv.resolveEndpointConfig)(a),l=FT(d),f=Tv(l,(t==null?void 0:t.extensions)||[]);this.config=f,this.middlewareStack.use((0,Oc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Dc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Rv.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Pc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Iv.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Av.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ws(this.config,{httpAuthSchemeParametersProvider:MT,identityProviderConfigProvider:async p=>new Qr({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(bs(this.config))}destroy(){super.destroy()}}});var Pv,et,Mc=x(()=>{Pv=I(X()),et=class e extends Pv.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var bp,xp,Tp,Li,$i,Ui,zi,Hi,ji,vp,Ip,Bi,qi=x(()=>{bp=I(X());Mc();xp=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:bp.SENSITIVE_STRING}}),Tp=e=>({...e,...e.Credentials&&{Credentials:xp(e.Credentials)}}),Li=class e extends et{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},$i=class e extends et{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ui=class e extends et{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},zi=class e extends et{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Hi=class e extends et{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ji=class e extends et{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},vp=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:bp.SENSITIVE_STRING}}),Ip=e=>({...e,...e.Credentials&&{Credentials:xp(e.Credentials)}}),Bi=class e extends et{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var Ov,W,Dv,Mv,kv,Fv,Lv,I1,A1,C1,R1,N1,P1,O1,D1,M1,$v,k1,F1,L1,$1,U1,z1,Uv,H1,j1,zv,B1,q1,V1,G1,W1,K1,J1,Zt,Y1,Hv,jv,Bv,qv,Ap,X1,Cp,is,Q1,Rp,Np,os,Pp,as,Op,Dp,Mp,cs,ds,kp,Fp,Lp,ls,$p,us,ms,Up,zp,Qt,Hp,jp,Bp,qp,Vp,Vv,Gp,Wp,Kp,ve,Gv,Z1,Jp=x(()=>{Ne();Ov=I(he()),W=I(X());qi();Mc();Dv=async(e,t)=>{let r=jv,n;return n=Gv({...D1(e,t),[qv]:X1,[Vv]:Bv}),Hv(t,r,"/",void 0,n)},Mv=async(e,t)=>{let r=jv,n;return n=Gv({...M1(e,t),[qv]:Q1,[Vv]:Bv}),Hv(t,r,"/",void 0,n)},kv=async(e,t)=>{if(e.statusCode>=300)return Lv(e,t);let r=await Ys(e.body,t),n={};return n=H1(r.AssumeRoleResult,t),{$metadata:Zt(e),...n}},Fv=async(e,t)=>{if(e.statusCode>=300)return Lv(e,t);let r=await Ys(e.body,t),n={};return n=j1(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Zt(e),...n}},Lv=async(e,t)=>{let r={...e,body:await uf(e.body,t)},n=Z1(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await I1(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await N1(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await P1(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await O1(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await A1(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await C1(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await R1(r,t);default:let s=r.body;return Y1({output:e,parsedBody:s.Error,errorCode:n})}},I1=async(e,t)=>{let r=e.body,n=B1(r.Error,t),s=new Li({$metadata:Zt(e),...n});return(0,W.decorateServiceException)(s,r)},A1=async(e,t)=>{let r=e.body,n=q1(r.Error,t),s=new Bi({$metadata:Zt(e),...n});return(0,W.decorateServiceException)(s,r)},C1=async(e,t)=>{let r=e.body,n=V1(r.Error,t),s=new Hi({$metadata:Zt(e),...n});return(0,W.decorateServiceException)(s,r)},R1=async(e,t)=>{let r=e.body,n=G1(r.Error,t),s=new ji({$metadata:Zt(e),...n});return(0,W.decorateServiceException)(s,r)},N1=async(e,t)=>{let r=e.body,n=W1(r.Error,t),s=new $i({$metadata:Zt(e),...n});return(0,W.decorateServiceException)(s,r)},P1=async(e,t)=>{let r=e.body,n=K1(r.Error,t),s=new Ui({$metadata:Zt(e),...n});return(0,W.decorateServiceException)(s,r)},O1=async(e,t)=>{let r=e.body,n=J1(r.Error,t),s=new zi({$metadata:Zt(e),...n});return(0,W.decorateServiceException)(s,r)},D1=(e,t)=>{var n,s,i,o;let r={};if(e[us]!=null&&(r[us]=e[us]),e[ms]!=null&&(r[ms]=e[ms]),e[ds]!=null){let a=$v(e[ds],t);((n=e[ds])==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(a).forEach(([d,l])=>{let f=`PolicyArns.${d}`;r[f]=l})}if(e[cs]!=null&&(r[cs]=e[cs]),e[as]!=null&&(r[as]=e[as]),e[Bp]!=null){let a=z1(e[Bp],t);((s=e[Bp])==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(a).forEach(([d,l])=>{let f=`Tags.${d}`;r[f]=l})}if(e[Vp]!=null){let a=U1(e[Vp],t);((i=e[Vp])==null?void 0:i.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(a).forEach(([d,l])=>{let f=`TransitiveTagKeys.${d}`;r[f]=l})}if(e[Dp]!=null&&(r[Dp]=e[Dp]),e[Hp]!=null&&(r[Hp]=e[Hp]),e[qp]!=null&&(r[qp]=e[qp]),e[Qt]!=null&&(r[Qt]=e[Qt]),e[Fp]!=null){let a=L1(e[Fp],t);((o=e[Fp])==null?void 0:o.length)===0&&(r.ProvidedContexts=[]),Object.entries(a).forEach(([d,l])=>{let f=`ProvidedContexts.${d}`;r[f]=l})}return r},M1=(e,t)=>{var n;let r={};if(e[us]!=null&&(r[us]=e[us]),e[ms]!=null&&(r[ms]=e[ms]),e[Wp]!=null&&(r[Wp]=e[Wp]),e[Lp]!=null&&(r[Lp]=e[Lp]),e[ds]!=null){let s=$v(e[ds],t);((n=e[ds])==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([i,o])=>{let a=`PolicyArns.${i}`;r[a]=o})}return e[cs]!=null&&(r[cs]=e[cs]),e[as]!=null&&(r[as]=e[as]),r},$v=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=k1(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},k1=(e,t)=>{let r={};return e[Kp]!=null&&(r[Kp]=e[Kp]),r},F1=(e,t)=>{let r={};return e[kp]!=null&&(r[kp]=e[kp]),e[Pp]!=null&&(r[Pp]=e[Pp]),r},L1=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=F1(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},$1=(e,t)=>{let r={};return e[Mp]!=null&&(r[Mp]=e[Mp]),e[Gp]!=null&&(r[Gp]=e[Gp]),r},U1=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},z1=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let i=$1(s,t);Object.entries(i).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},Uv=(e,t)=>{let r={};return e[Cp]!=null&&(r[Cp]=(0,W.expectString)(e[Cp])),e[Rp]!=null&&(r[Rp]=(0,W.expectString)(e[Rp])),r},H1=(e,t)=>{let r={};return e[os]!=null&&(r[os]=zv(e[os],t)),e[is]!=null&&(r[is]=Uv(e[is],t)),e[ls]!=null&&(r[ls]=(0,W.strictParseInt32)(e[ls])),e[Qt]!=null&&(r[Qt]=(0,W.expectString)(e[Qt])),r},j1=(e,t)=>{let r={};return e[os]!=null&&(r[os]=zv(e[os],t)),e[zp]!=null&&(r[zp]=(0,W.expectString)(e[zp])),e[is]!=null&&(r[is]=Uv(e[is],t)),e[ls]!=null&&(r[ls]=(0,W.strictParseInt32)(e[ls])),e[$p]!=null&&(r[$p]=(0,W.expectString)(e[$p])),e[Np]!=null&&(r[Np]=(0,W.expectString)(e[Np])),e[Qt]!=null&&(r[Qt]=(0,W.expectString)(e[Qt])),r},zv=(e,t)=>{let r={};return e[Ap]!=null&&(r[Ap]=(0,W.expectString)(e[Ap])),e[Up]!=null&&(r[Up]=(0,W.expectString)(e[Up])),e[jp]!=null&&(r[jp]=(0,W.expectString)(e[jp])),e[Op]!=null&&(r[Op]=(0,W.expectNonNull)((0,W.parseRfc3339DateTimeWithOffset)(e[Op]))),r},B1=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,W.expectString)(e[ve])),r},q1=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,W.expectString)(e[ve])),r},V1=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,W.expectString)(e[ve])),r},G1=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,W.expectString)(e[ve])),r},W1=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,W.expectString)(e[ve])),r},K1=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,W.expectString)(e[ve])),r},J1=(e,t)=>{let r={};return e[ve]!=null&&(r[ve]=(0,W.expectString)(e[ve])),r},Zt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Y1=(0,W.withBaseException)(et),Hv=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:d}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Ov.HttpRequest(l)},jv={"content-type":"application/x-www-form-urlencoded"},Bv="2011-06-15",qv="Action",Ap="AccessKeyId",X1="AssumeRole",Cp="AssumedRoleId",is="AssumedRoleUser",Q1="AssumeRoleWithWebIdentity",Rp="Arn",Np="Audience",os="Credentials",Pp="ContextAssertion",as="DurationSeconds",Op="Expiration",Dp="ExternalId",Mp="Key",cs="Policy",ds="PolicyArns",kp="ProviderArn",Fp="ProvidedContexts",Lp="ProviderId",ls="PackedPolicySize",$p="Provider",us="RoleArn",ms="RoleSessionName",Up="SecretAccessKey",zp="SubjectFromWebIdentityToken",Qt="SourceIdentity",Hp="SerialNumber",jp="SessionToken",Bp="Tags",qp="TokenCode",Vp="TransitiveTagKeys",Vv="Version",Gp="Value",Wp="WebIdentityToken",Kp="arn",ve="message",Gv=e=>Object.entries(e).map(([t,r])=>(0,W.extendedEncodeURIComponent)(t)+"="+(0,W.extendedEncodeURIComponent)(r)).join("&"),Z1=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var Wv,Kv,Jv,pn,kc=x(()=>{Wv=I(Ir()),Kv=I(ar()),Jv=I(X());bc();qi();Jp();pn=class extends Jv.Command.classBuilder().ep(wc).m(function(t,r,n,s){return[(0,Kv.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Wv.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Tp).ser(Dv).de(kv).build(){}});var Yv,Xv,Qv,hn,Fc=x(()=>{Yv=I(Ir()),Xv=I(ar()),Qv=I(X());bc();qi();Jp();hn=class extends Qv.Command.classBuilder().ep(wc).m(function(t,r,n,s){return[(0,Xv.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Yv.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(vp,Ip).ser(Mv).de(Fv).build(){}});var Zv,eL,Lc,eI=x(()=>{Zv=I(X());kc();Fc();Fi();eL={AssumeRoleCommand:pn,AssumeRoleWithWebIdentityCommand:hn},Lc=class extends Ot{};(0,Zv.createAggregatedClient)(eL,Lc)});var tI=x(()=>{kc();Fc()});var rI=x(()=>{qi()});var nI,sI,iI,oI,aI,cI,dI=x(()=>{Et();kc();Fc();nI="us-east-1",sI=e=>{if(typeof(e==null?void 0:e.Arn)=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},iI=async(e,t,r)=>{var i;let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return(i=r==null?void 0:r.debug)==null||i.call(r,"@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${nI} (STS default)`),n??s??nI},oI=(e,t)=>{let r,n;return async(s,i)=>{var f,p,g,h;if(n=s,!r){let{logger:y=(f=e==null?void 0:e.parentClientConfig)==null?void 0:f.logger,region:w,requestHandler:v=(p=e==null?void 0:e.parentClientConfig)==null?void 0:p.requestHandler,credentialProviderLogger:R}=e,O=await iI(w,(g=e==null?void 0:e.parentClientConfig)==null?void 0:g.region,R),D=!cI(v);r=new t({profile:(h=e==null?void 0:e.parentClientConfig)==null?void 0:h.profile,credentialDefaultProvider:()=>async()=>n,region:O,requestHandler:D?v:void 0,logger:y})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new pn(i));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);let d=sI(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...d&&{accountId:d}};return pr(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},aI=(e,t)=>{let r;return async n=>{var d,l,f,p;if(!r){let{logger:g=(d=e==null?void 0:e.parentClientConfig)==null?void 0:d.logger,region:h,requestHandler:y=(l=e==null?void 0:e.parentClientConfig)==null?void 0:l.requestHandler,credentialProviderLogger:w}=e,v=await iI(h,(f=e==null?void 0:e.parentClientConfig)==null?void 0:f.region,w),R=!cI(y);r=new t({profile:(p=e==null?void 0:e.parentClientConfig)==null?void 0:p.profile,region:v,requestHandler:R?y:void 0,logger:g})}let{Credentials:s,AssumedRoleUser:i}=await r.send(new hn(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=sI(i),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...o&&{accountId:o}};return o&&pr(a,"RESOLVED_ACCOUNT_ID","T"),pr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},cI=e=>{var t;return((t=e==null?void 0:e.metadata)==null?void 0:t.handlerProtocol)==="h2"}});var lI,uI,mI,tL,fI=x(()=>{dI();Fi();lI=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,uI=(e={},t)=>oI(e,lI(Ot,t)),mI=(e={},t)=>aI(e,lI(Ot,t)),tL=e=>t=>e({roleAssumer:uI(t),roleAssumerWithWebIdentity:mI(t),...t})});var Yp={};it(Yp,{AssumeRoleCommand:()=>pn,AssumeRoleResponseFilterSensitiveLog:()=>Tp,AssumeRoleWithWebIdentityCommand:()=>hn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>vp,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Ip,CredentialsFilterSensitiveLog:()=>xp,ExpiredTokenException:()=>Li,IDPCommunicationErrorException:()=>Bi,IDPRejectedClaimException:()=>Hi,InvalidIdentityTokenException:()=>ji,MalformedPolicyDocumentException:()=>$i,PackedPolicyTooLargeException:()=>Ui,RegionDisabledException:()=>zi,STS:()=>Lc,STSClient:()=>Ot,STSServiceException:()=>et,__Client:()=>wp.Client,decorateDefaultCredentialProvider:()=>tL,getDefaultRoleAssumer:()=>uI,getDefaultRoleAssumerWithWebIdentity:()=>mI});var Xp=x(()=>{Fi();eI();tI();rI();fI();Mc()});var eh=P(pI=>{"use strict";var Zp=Gt(),Qp=Ge(),rL=require("child_process"),nL=require("util"),sL=(Et(),le(hr)),iL=(e,t,r)=>{var i;if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&((i=r==null?void 0:r[e])!=null&&i.aws_account_id)&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return sL.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},oL=async(e,t,r)=>{var s,i;let n=t[e];if(t[e]){let o=n.credential_process;if(o!==void 0){let a=nL.promisify(((i=(s=Zp.externalDataInterceptor)==null?void 0:s.getTokenRecord)==null?void 0:i.call(s).exec)??rL.exec);try{let{stdout:d}=await a(o),l;try{l=JSON.parse(d.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return iL(e,l,t)}catch(d){throw new Qp.CredentialsProviderError(d.message,{logger:r})}}else throw new Qp.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Qp.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},aL=(e={})=>async({callerClientConfig:t}={})=>{var n;(n=e.logger)==null||n.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Zp.parseKnownFiles(e);return oL(Zp.getProfileName({profile:e.profile??(t==null?void 0:t.profile)}),r,e.logger)};pI.fromProcess=aL});var th=P(Mt=>{"use strict";var cL=Mt&&Mt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dL=Mt&&Mt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lL=Mt&&Mt.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&cL(r,t,n[s]);return dL(r,t),r}}();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.fromWebToken=void 0;var uL=e=>async t=>{var f;(f=e.logger)==null||f.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:i,policyArns:o,policy:a,durationSeconds:d}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>lL((Xp(),le(Yp))));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t==null?void 0:t.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:o,Policy:a,DurationSeconds:d})};Mt.fromWebToken=uL});var gI=P($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.fromTokenFile=void 0;var mL=(Et(),le(hr)),fL=Ge(),pL=Gt(),hL=require("fs"),gL=th(),hI="AWS_WEB_IDENTITY_TOKEN_FILE",SL="AWS_ROLE_ARN",yL="AWS_ROLE_SESSION_NAME",EL=(e={})=>async()=>{var i,o,a;(i=e.logger)==null||i.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[hI],r=(e==null?void 0:e.roleArn)??process.env[SL],n=(e==null?void 0:e.roleSessionName)??process.env[yL];if(!t||!r)throw new fL.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,gL.fromWebToken)({...e,webIdentityToken:((a=(o=pL.externalDataInterceptor)==null?void 0:o.getTokenRecord)==null?void 0:a.call(o)[t])??(0,hL.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[hI]&&(0,mL.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};$c.fromTokenFile=EL});var rh=P(Vi=>{"use strict";var SI=gI(),yI=th();Object.keys(SI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vi,e)&&Object.defineProperty(Vi,e,{enumerable:!0,get:function(){return SI[e]}})});Object.keys(yI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vi,e)&&Object.defineProperty(Vi,e,{enumerable:!0,get:function(){return yI[e]}})})});var TI=P(xI=>{"use strict";var sh=Gt(),Gi=Ge(),Hr=(Et(),le(hr)),_L=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:i}=await Promise.resolve().then(()=>I(Gf())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>I(oi()));return r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Gi.chain(i(s??{}),o(s))().then(nh)},Ec2InstanceMetadata:async s=>{r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:i}=await Promise.resolve().then(()=>I(oi()));return async()=>i(s)().then(nh)},Environment:async s=>{r==null||r.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:i}=await Promise.resolve().then(()=>I($f()));return async()=>i(s)().then(nh)}};if(e in n)return n[e];throw new Gi.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},nh=e=>Hr.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),wL=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(bL(e,{profile:t,logger:r})||xL(e,{profile:t,logger:r})),bL=(e,{profile:t,logger:r})=>{var s;let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&((s=r==null?void 0:r.debug)==null||s.call(r,`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`)),n},xL=(e,{profile:t,logger:r})=>{var s;let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&((s=r==null?void 0:r.debug)==null||s.call(r,`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`)),n},TL=async(e,t,r,n={})=>{var d,l,f;(d=r.logger)==null||d.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:i,region:o}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:p}=await Promise.resolve().then(()=>(Xp(),Yp));r.roleAssumer=p({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r==null?void 0:r.parentClientConfig,region:o??((l=r==null?void 0:r.parentClientConfig)==null?void 0:l.region)}},r.clientPlugins)}if(i&&i in n)throw new Gi.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${sh.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});(f=r.logger)==null||f.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let a=i?bI(i,t,r,{...n,[i]:!0},EI(t[i]??{})):(await _L(s.credential_source,e,r.logger)(r))();if(EI(s))return a.then(p=>Hr.setCredentialFeature(p,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let p={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:g}=s;if(g){if(!r.mfaCodeProvider)throw new Gi.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});p.SerialNumber=g,p.TokenCode=await r.mfaCodeProvider(g)}let h=await a;return r.roleAssumer(h,p).then(y=>Hr.setCredentialFeature(y,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},EI=e=>!e.role_arn&&!!e.credential_source,vL=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",IL=async(e,t)=>Promise.resolve().then(()=>I(eh())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>Hr.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),AL=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>I(Sp()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?Hr.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Hr.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},CL=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),_I=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,wI=async(e,t)=>{var n;(n=t==null?void 0:t.logger)==null||n.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Hr.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},RL=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,NL=async(e,t)=>Promise.resolve().then(()=>I(rh())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>Hr.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),bI=async(e,t,r,n={},s=!1)=>{let i=t[e];if(Object.keys(n).length>0&&_I(i))return wI(i,r);if(s||wL(i,{profile:e,logger:r.logger}))return TL(e,t,r,n);if(_I(i))return wI(i,r);if(RL(i))return NL(i,r);if(vL(i))return IL(r,e);if(CL(i))return await AL(e,i,r);throw new Gi.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},PL=(e={})=>async({callerClientConfig:t}={})=>{var s;let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};(s=r.logger)==null||s.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await sh.parseKnownFiles(r);return bI(sh.getProfileName({profile:e.profile??(t==null?void 0:t.profile)}),n,r)};xI.fromIni=PL});var RI=P(Uc=>{"use strict";var ih=$f(),gn=Ge(),OL=Gt(),vI="AWS_EC2_METADATA_DISABLED",DL=async e=>{var i,o;let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>I(oi()));if(process.env[r]||process.env[t]){(i=e.logger)==null||i.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:a}=await Promise.resolve().then(()=>I(Gf()));return gn.chain(a(e),n(e))}return process.env[vI]&&process.env[vI]!=="false"?async()=>{throw new gn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:((o=e.logger)==null||o.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},II=!1,ML=(e={})=>gn.memoize(gn.chain(async()=>{var r,n,s,i;if(e.profile??process.env[OL.ENV_PROFILE])throw process.env[ih.ENV_KEY]&&process.env[ih.ENV_SECRET]&&(II||(((r=e.logger)!=null&&r.warn&&((s=(n=e.logger)==null?void 0:n.constructor)==null?void 0:s.name)!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),II=!0)),new gn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return(i=e.logger)==null||i.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),ih.fromEnv(e)()},async()=>{var a;(a=e.logger)==null||a.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:i}=e;if(!t&&!r&&!n&&!s&&!i)throw new gn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:o}=await Promise.resolve().then(()=>I(Sp()));return o(e)()},async()=>{var r;(r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>I(TI()));return t(e)()},async()=>{var r;(r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>I(eh()));return t(e)()},async()=>{var r;(r=e.logger)==null||r.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>I(rh()));return t(e)()},async()=>{var t;return(t=e.logger)==null||t.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await DL(e))()},async()=>{throw new gn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),CI,AI),AI=e=>(e==null?void 0:e.expiration)!==void 0,CI=e=>(e==null?void 0:e.expiration)!==void 0&&e.expiration.getTime()-Date.now()<3e5;Uc.credentialsTreatedAsExpired=CI;Uc.credentialsWillNeedRefresh=AI;Uc.defaultProvider=ML});var qI=P(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.ruleSet=void 0;var zI="required",wt="fn",bt="argv",hs="ref",NI=!0,PI="isSet",Wi="booleanEquals",fs="error",ps="endpoint",er="tree",oh="PartitionResult",OI={[zI]:!1,type:"String"},DI={[zI]:!0,default:!1,type:"Boolean"},MI={[hs]:"Endpoint"},HI={[wt]:Wi,[bt]:[{[hs]:"UseFIPS"},!0]},jI={[wt]:Wi,[bt]:[{[hs]:"UseDualStack"},!0]},gt={},BI={[hs]:"Region"},kI={[wt]:"getAttr",[bt]:[{[hs]:oh},"supportsFIPS"]},FI={[wt]:Wi,[bt]:[!0,{[wt]:"getAttr",[bt]:[{[hs]:oh},"supportsDualStack"]}]},LI=[HI],$I=[jI],UI=[BI],kL={version:"1.0",parameters:{Region:OI,UseDualStack:DI,UseFIPS:DI,Endpoint:OI},rules:[{conditions:[{[wt]:PI,[bt]:[MI]}],rules:[{conditions:LI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:fs},{conditions:$I,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:fs},{endpoint:{url:MI,properties:gt,headers:gt},type:ps}],type:er},{conditions:[{[wt]:PI,[bt]:UI}],rules:[{conditions:[{[wt]:"aws.partition",[bt]:UI,assign:oh}],rules:[{conditions:[HI,jI],rules:[{conditions:[{[wt]:Wi,[bt]:[NI,kI]},FI],rules:[{endpoint:{url:"https://states-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:ps}],type:er},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:fs}],type:er},{conditions:LI,rules:[{conditions:[{[wt]:Wi,[bt]:[kI,NI]}],rules:[{conditions:[{[wt]:"stringEquals",[bt]:[BI,"us-gov-west-1"]}],endpoint:{url:"https://states.us-gov-west-1.amazonaws.com",properties:gt,headers:gt},type:ps},{endpoint:{url:"https://states-fips.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:ps}],type:er},{error:"FIPS is enabled but this partition does not support FIPS",type:fs}],type:er},{conditions:$I,rules:[{conditions:[FI],rules:[{endpoint:{url:"https://states.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:gt,headers:gt},type:ps}],type:er},{error:"DualStack is enabled but this partition does not support DualStack",type:fs}],type:er},{endpoint:{url:"https://states.{Region}.{PartitionResult#dnsSuffix}",properties:gt,headers:gt},type:ps}],type:er}],type:er},{error:"Invalid Configuration: Missing Region",type:fs}]};zc.ruleSet=kL});var VI=P(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.defaultEndpointResolver=void 0;var FL=Dn(),ah=Pn(),LL=qI(),$L=new ah.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),UL=(e,t={})=>$L.get(e,()=>(0,ah.resolveEndpoint)(LL.ruleSet,{endpointParams:e,logger:t.logger}));Hc.defaultEndpointResolver=UL;ah.customEndpointFunctions.aws=FL.awsEndpointFunctions});var KI=P(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.getRuntimeConfig=void 0;var zL=(Ne(),le(Ct)),HL=X(),jL=fr(),GI=De(),WI=Oe(),BL=Lf(),qL=VI(),VL=e=>({apiVersion:"2016-11-23",base64Decoder:(e==null?void 0:e.base64Decoder)??GI.fromBase64,base64Encoder:(e==null?void 0:e.base64Encoder)??GI.toBase64,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??qL.defaultEndpointResolver,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??BL.defaultSFNHttpAuthSchemeProvider,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new zL.AwsSdkSigV4Signer}],logger:(e==null?void 0:e.logger)??new HL.NoOpLogger,serviceId:(e==null?void 0:e.serviceId)??"SFN",urlParser:(e==null?void 0:e.urlParser)??jL.parseUrl,utf8Decoder:(e==null?void 0:e.utf8Decoder)??WI.fromUtf8,utf8Encoder:(e==null?void 0:e.utf8Encoder)??WI.toUtf8});jc.getRuntimeConfig=VL});var ZI=P(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.getRuntimeConfig=void 0;var GL=(Ms(),le(Ds)),WL=GL.__importDefault(Kw()),JI=(Ne(),le(Ct)),KL=RI(),YI=ci(),Bc=Nt(),JL=di(),XI=Kt(),Sn=vr(),QI=Vr(),YL=li(),XL=Gn(),QL=KI(),ZL=X(),e$=mi(),t$=X(),r$=e=>{(0,t$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,e$.resolveDefaultsModeConfig)(e),r=()=>t().then(ZL.loadConfigsForDefaultMode),n=(0,QL.getRuntimeConfig)(e);(0,JI.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e==null?void 0:e.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:(e==null?void 0:e.authSchemePreference)??(0,Sn.loadConfig)(JI.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??YL.calculateBodyLength,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??KL.defaultProvider,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??(0,YI.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:WL.default.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??(0,Sn.loadConfig)(XI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:(e==null?void 0:e.region)??(0,Sn.loadConfig)(Bc.NODE_REGION_CONFIG_OPTIONS,{...Bc.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:QI.NodeHttpHandler.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(0,Sn.loadConfig)({...XI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||XL.DEFAULT_RETRY_MODE},e),sha256:(e==null?void 0:e.sha256)??JL.Hash.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??QI.streamCollector,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(0,Sn.loadConfig)(Bc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(0,Sn.loadConfig)(Bc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:(e==null?void 0:e.userAgentAppId)??(0,Sn.loadConfig)(YI.NODE_APP_ID_CONFIG_OPTIONS,s)}};qc.getRuntimeConfig=r$});var tC=P(T=>{"use strict";var eA=Ss(),n$=ys(),s$=Es(),tA=qn(),i$=Nt(),jr=(Xe(),le(Nn)),o$=Zs(),Q=Ir(),rA=Kt(),c=X(),nA=Lf(),a$=ZI(),sA=fi(),Ki=he(),ee=ar(),K=(Ne(),le(Ct)),c$=Lo(),d$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"states"}),te={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},l$=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(o=>o.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},u$=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),m$=(e,t)=>{let r=Object.assign(sA.getAwsRegionExtensionConfiguration(e),c.getDefaultExtensionConfiguration(e),Ki.getHttpHandlerExtensionConfiguration(e),l$(e));return t.forEach(n=>n.configure(r)),Object.assign(e,sA.resolveAwsRegionExtensionConfiguration(r),c.resolveDefaultRuntimeConfig(r),Ki.resolveHttpHandlerRuntimeConfig(r),u$(r))},tr=class extends c.Client{config;constructor(...[t]){let r=a$.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=d$(r),s=tA.resolveUserAgentConfig(n),i=rA.resolveRetryConfig(s),o=i$.resolveRegionConfig(i),a=eA.resolveHostHeaderConfig(o),d=Q.resolveEndpointConfig(a),l=nA.resolveHttpAuthSchemeConfig(d),f=m$(l,(t==null?void 0:t.extensions)||[]);this.config=f,this.middlewareStack.use(tA.getUserAgentPlugin(this.config)),this.middlewareStack.use(rA.getRetryPlugin(this.config)),this.middlewareStack.use(o$.getContentLengthPlugin(this.config)),this.middlewareStack.use(eA.getHostHeaderPlugin(this.config)),this.middlewareStack.use(n$.getLoggerPlugin(this.config)),this.middlewareStack.use(s$.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(jr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:nA.defaultSFNHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async p=>new jr.DefaultIdentityProviderConfig({"aws.auth#sigv4":p.credentials})})),this.middlewareStack.use(jr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Z=class e extends c.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Vc=class e extends Z{name="ActivityAlreadyExists";$fault="client";constructor(t){super({name:"ActivityAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gc=class e extends Z{name="ActivityDoesNotExist";$fault="client";constructor(t){super({name:"ActivityDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Wc=class e extends Z{name="ActivityLimitExceeded";$fault="client";constructor(t){super({name:"ActivityLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Kc=class e extends Z{name="ActivityWorkerLimitExceeded";$fault="client";constructor(t){super({name:"ActivityWorkerLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},f$={AWS_OWNED_KEY:"AWS_OWNED_KEY",CUSTOMER_MANAGED_KMS_KEY:"CUSTOMER_MANAGED_KMS_KEY"},Jc=class e extends Z{name="InvalidEncryptionConfiguration";$fault="client";constructor(t){super({name:"InvalidEncryptionConfiguration",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yc=class e extends Z{name="InvalidName";$fault="client";constructor(t){super({name:"InvalidName",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xc=class e extends Z{name="KmsAccessDeniedException";$fault="client";constructor(t){super({name:"KmsAccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Qc=class e extends Z{name="KmsThrottlingException";$fault="client";constructor(t){super({name:"KmsThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zc=class e extends Z{name="TooManyTags";$fault="client";resourceName;constructor(t){super({name:"TooManyTags",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.resourceName=t.resourceName}},ed=class e extends Z{name="ConflictException";$fault="client";constructor(t){super({name:"ConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},p$={ALL:"ALL",ERROR:"ERROR",FATAL:"FATAL",OFF:"OFF"},h$={EXPRESS:"EXPRESS",STANDARD:"STANDARD"},td=class e extends Z{name="InvalidArn";$fault="client";constructor(t){super({name:"InvalidArn",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rd=class e extends Z{name="InvalidDefinition";$fault="client";constructor(t){super({name:"InvalidDefinition",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},nd=class e extends Z{name="InvalidLoggingConfiguration";$fault="client";constructor(t){super({name:"InvalidLoggingConfiguration",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sd=class e extends Z{name="InvalidTracingConfiguration";$fault="client";constructor(t){super({name:"InvalidTracingConfiguration",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},id=class e extends Z{name="StateMachineAlreadyExists";$fault="client";constructor(t){super({name:"StateMachineAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},od=class e extends Z{name="StateMachineDeleting";$fault="client";constructor(t){super({name:"StateMachineDeleting",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ad=class e extends Z{name="StateMachineLimitExceeded";$fault="client";constructor(t){super({name:"StateMachineLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cd=class e extends Z{name="StateMachineTypeNotSupported";$fault="client";constructor(t){super({name:"StateMachineTypeNotSupported",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},g$={API_DOES_NOT_SUPPORT_LABELED_ARNS:"API_DOES_NOT_SUPPORT_LABELED_ARNS",CANNOT_UPDATE_COMPLETED_MAP_RUN:"CANNOT_UPDATE_COMPLETED_MAP_RUN",INVALID_ROUTING_CONFIGURATION:"INVALID_ROUTING_CONFIGURATION",MISSING_REQUIRED_PARAMETER:"MISSING_REQUIRED_PARAMETER"},dd=class e extends Z{name="ValidationException";$fault="client";reason;constructor(t){super({name:"ValidationException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.reason=t.reason}},ld=class e extends Z{name="ResourceNotFound";$fault="client";resourceName;constructor(t){super({name:"ResourceNotFound",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.resourceName=t.resourceName}},ud=class e extends Z{name="ServiceQuotaExceededException";$fault="client";constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},S$={ALL_DATA:"ALL_DATA",METADATA_ONLY:"METADATA_ONLY"},y$={NOT_REDRIVABLE:"NOT_REDRIVABLE",REDRIVABLE:"REDRIVABLE",REDRIVABLE_BY_MAP_RUN:"REDRIVABLE_BY_MAP_RUN"},E$={ABORTED:"ABORTED",FAILED:"FAILED",PENDING_REDRIVE:"PENDING_REDRIVE",RUNNING:"RUNNING",SUCCEEDED:"SUCCEEDED",TIMED_OUT:"TIMED_OUT"},md=class e extends Z{name="ExecutionDoesNotExist";$fault="client";constructor(t){super({name:"ExecutionDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_$={CREATING:"CREATING",DISABLED:"DISABLED",PENDING_DELETION:"PENDING_DELETION",PENDING_IMPORT:"PENDING_IMPORT",UNAVAILABLE:"UNAVAILABLE"},fd=class e extends Z{name="KmsInvalidStateException";$fault="client";kmsKeyState;constructor(t){super({name:"KmsInvalidStateException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.kmsKeyState=t.kmsKeyState}},w$={ABORTED:"ABORTED",FAILED:"FAILED",RUNNING:"RUNNING",SUCCEEDED:"SUCCEEDED"},b$={ACTIVE:"ACTIVE",DELETING:"DELETING"},pd=class e extends Z{name="StateMachineDoesNotExist";$fault="client";constructor(t){super({name:"StateMachineDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},x$={ActivityFailed:"ActivityFailed",ActivityScheduleFailed:"ActivityScheduleFailed",ActivityScheduled:"ActivityScheduled",ActivityStarted:"ActivityStarted",ActivitySucceeded:"ActivitySucceeded",ActivityTimedOut:"ActivityTimedOut",ChoiceStateEntered:"ChoiceStateEntered",ChoiceStateExited:"ChoiceStateExited",EvaluationFailed:"EvaluationFailed",ExecutionAborted:"ExecutionAborted",ExecutionFailed:"ExecutionFailed",ExecutionRedriven:"ExecutionRedriven",ExecutionStarted:"ExecutionStarted",ExecutionSucceeded:"ExecutionSucceeded",ExecutionTimedOut:"ExecutionTimedOut",FailStateEntered:"FailStateEntered",LambdaFunctionFailed:"LambdaFunctionFailed",LambdaFunctionScheduleFailed:"LambdaFunctionScheduleFailed",LambdaFunctionScheduled:"LambdaFunctionScheduled",LambdaFunctionStartFailed:"LambdaFunctionStartFailed",LambdaFunctionStarted:"LambdaFunctionStarted",LambdaFunctionSucceeded:"LambdaFunctionSucceeded",LambdaFunctionTimedOut:"LambdaFunctionTimedOut",MapIterationAborted:"MapIterationAborted",MapIterationFailed:"MapIterationFailed",MapIterationStarted:"MapIterationStarted",MapIterationSucceeded:"MapIterationSucceeded",MapRunAborted:"MapRunAborted",MapRunFailed:"MapRunFailed",MapRunRedriven:"MapRunRedriven",MapRunStarted:"MapRunStarted",MapRunSucceeded:"MapRunSucceeded",MapStateAborted:"MapStateAborted",MapStateEntered:"MapStateEntered",MapStateExited:"MapStateExited",MapStateFailed:"MapStateFailed",MapStateStarted:"MapStateStarted",MapStateSucceeded:"MapStateSucceeded",ParallelStateAborted:"ParallelStateAborted",ParallelStateEntered:"ParallelStateEntered",ParallelStateExited:"ParallelStateExited",ParallelStateFailed:"ParallelStateFailed",ParallelStateStarted:"ParallelStateStarted",ParallelStateSucceeded:"ParallelStateSucceeded",PassStateEntered:"PassStateEntered",PassStateExited:"PassStateExited",SucceedStateEntered:"SucceedStateEntered",SucceedStateExited:"SucceedStateExited",TaskFailed:"TaskFailed",TaskScheduled:"TaskScheduled",TaskStartFailed:"TaskStartFailed",TaskStarted:"TaskStarted",TaskStateAborted:"TaskStateAborted",TaskStateEntered:"TaskStateEntered",TaskStateExited:"TaskStateExited",TaskSubmitFailed:"TaskSubmitFailed",TaskSubmitted:"TaskSubmitted",TaskSucceeded:"TaskSucceeded",TaskTimedOut:"TaskTimedOut",WaitStateAborted:"WaitStateAborted",WaitStateEntered:"WaitStateEntered",WaitStateExited:"WaitStateExited"},hd=class e extends Z{name="InvalidToken";$fault="client";constructor(t){super({name:"InvalidToken",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},T$={NOT_REDRIVEN:"NOT_REDRIVEN",REDRIVEN:"REDRIVEN"},gd=class e extends Z{name="ExecutionLimitExceeded";$fault="client";constructor(t){super({name:"ExecutionLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Sd=class e extends Z{name="ExecutionNotRedrivable";$fault="client";constructor(t){super({name:"ExecutionNotRedrivable",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yd=class e extends Z{name="TaskDoesNotExist";$fault="client";constructor(t){super({name:"TaskDoesNotExist",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ed=class e extends Z{name="TaskTimedOut";$fault="client";constructor(t){super({name:"TaskTimedOut",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_d=class e extends Z{name="InvalidOutput";$fault="client";constructor(t){super({name:"InvalidOutput",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wd=class e extends Z{name="ExecutionAlreadyExists";$fault="client";constructor(t){super({name:"ExecutionAlreadyExists",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bd=class e extends Z{name="InvalidExecutionInput";$fault="client";constructor(t){super({name:"InvalidExecutionInput",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},v$={FAILED:"FAILED",SUCCEEDED:"SUCCEEDED",TIMED_OUT:"TIMED_OUT"},I$={DEBUG:"DEBUG",INFO:"INFO",TRACE:"TRACE"},A$={CAUGHT_ERROR:"CAUGHT_ERROR",FAILED:"FAILED",RETRIABLE:"RETRIABLE",SUCCEEDED:"SUCCEEDED"},xd=class e extends Z{name="MissingRequiredParameter";$fault="client";constructor(t){super({name:"MissingRequiredParameter",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},C$={ERROR:"ERROR",WARNING:"WARNING"},R$={FAIL:"FAIL",OK:"OK"},iA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),oA=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING}}),aA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),cA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING}}),dA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),lA=e=>({...e,...e.definition&&{definition:c.SENSITIVE_STRING},...e.versionDescription&&{versionDescription:c.SENSITIVE_STRING}}),uA=e=>({...e,...e.description&&{description:c.SENSITIVE_STRING}}),mA=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING},...e.output&&{output:c.SENSITIVE_STRING},...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING},...e.redriveStatusReason&&{redriveStatusReason:c.SENSITIVE_STRING}}),fA=e=>({...e,...e.definition&&{definition:c.SENSITIVE_STRING},...e.description&&{description:c.SENSITIVE_STRING},...e.variableReferences&&{variableReferences:c.SENSITIVE_STRING}}),pA=e=>({...e,...e.description&&{description:c.SENSITIVE_STRING}}),hA=e=>({...e,...e.definition&&{definition:c.SENSITIVE_STRING},...e.variableReferences&&{variableReferences:c.SENSITIVE_STRING}}),gA=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING}}),SA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING},...e.location&&{location:c.SENSITIVE_STRING}}),yA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),EA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),_A=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING}}),wA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING}}),bA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),xA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),TA=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING}}),vA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),IA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),AA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING}}),CA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),RA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),NA=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING}}),PA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING},...e.assignedVariables&&{assignedVariables:c.SENSITIVE_STRING}}),OA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),DA=e=>({...e,...e.parameters&&{parameters:c.SENSITIVE_STRING}}),MA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),kA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),FA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING}}),LA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING}}),$A=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),UA=e=>({...e,...e.activityFailedEventDetails&&{activityFailedEventDetails:iA(e.activityFailedEventDetails)},...e.activityScheduleFailedEventDetails&&{activityScheduleFailedEventDetails:aA(e.activityScheduleFailedEventDetails)},...e.activityScheduledEventDetails&&{activityScheduledEventDetails:oA(e.activityScheduledEventDetails)},...e.activitySucceededEventDetails&&{activitySucceededEventDetails:cA(e.activitySucceededEventDetails)},...e.activityTimedOutEventDetails&&{activityTimedOutEventDetails:dA(e.activityTimedOutEventDetails)},...e.taskFailedEventDetails&&{taskFailedEventDetails:OA(e.taskFailedEventDetails)},...e.taskScheduledEventDetails&&{taskScheduledEventDetails:DA(e.taskScheduledEventDetails)},...e.taskStartFailedEventDetails&&{taskStartFailedEventDetails:MA(e.taskStartFailedEventDetails)},...e.taskSubmitFailedEventDetails&&{taskSubmitFailedEventDetails:kA(e.taskSubmitFailedEventDetails)},...e.taskSubmittedEventDetails&&{taskSubmittedEventDetails:FA(e.taskSubmittedEventDetails)},...e.taskSucceededEventDetails&&{taskSucceededEventDetails:LA(e.taskSucceededEventDetails)},...e.taskTimedOutEventDetails&&{taskTimedOutEventDetails:$A(e.taskTimedOutEventDetails)},...e.executionFailedEventDetails&&{executionFailedEventDetails:EA(e.executionFailedEventDetails)},...e.executionStartedEventDetails&&{executionStartedEventDetails:_A(e.executionStartedEventDetails)},...e.executionSucceededEventDetails&&{executionSucceededEventDetails:wA(e.executionSucceededEventDetails)},...e.executionAbortedEventDetails&&{executionAbortedEventDetails:yA(e.executionAbortedEventDetails)},...e.executionTimedOutEventDetails&&{executionTimedOutEventDetails:bA(e.executionTimedOutEventDetails)},...e.lambdaFunctionFailedEventDetails&&{lambdaFunctionFailedEventDetails:xA(e.lambdaFunctionFailedEventDetails)},...e.lambdaFunctionScheduleFailedEventDetails&&{lambdaFunctionScheduleFailedEventDetails:vA(e.lambdaFunctionScheduleFailedEventDetails)},...e.lambdaFunctionScheduledEventDetails&&{lambdaFunctionScheduledEventDetails:TA(e.lambdaFunctionScheduledEventDetails)},...e.lambdaFunctionStartFailedEventDetails&&{lambdaFunctionStartFailedEventDetails:IA(e.lambdaFunctionStartFailedEventDetails)},...e.lambdaFunctionSucceededEventDetails&&{lambdaFunctionSucceededEventDetails:AA(e.lambdaFunctionSucceededEventDetails)},...e.lambdaFunctionTimedOutEventDetails&&{lambdaFunctionTimedOutEventDetails:CA(e.lambdaFunctionTimedOutEventDetails)},...e.stateEnteredEventDetails&&{stateEnteredEventDetails:NA(e.stateEnteredEventDetails)},...e.stateExitedEventDetails&&{stateExitedEventDetails:PA(e.stateExitedEventDetails)},...e.mapRunFailedEventDetails&&{mapRunFailedEventDetails:RA(e.mapRunFailedEventDetails)},...e.evaluationFailedEventDetails&&{evaluationFailedEventDetails:SA(e.evaluationFailedEventDetails)}}),zA=e=>({...e,...e.events&&{events:e.events.map(t=>UA(t))}}),HA=e=>({...e,...e.description&&{description:c.SENSITIVE_STRING}}),jA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),BA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING}}),qA=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING}}),VA=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING}}),GA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING},...e.input&&{input:c.SENSITIVE_STRING},...e.output&&{output:c.SENSITIVE_STRING}}),WA=e=>({...e,...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING}}),KA=e=>({...e,...e.definition&&{definition:c.SENSITIVE_STRING},...e.input&&{input:c.SENSITIVE_STRING},...e.variables&&{variables:c.SENSITIVE_STRING}}),N$=e=>({...e,...e.input&&{input:c.SENSITIVE_STRING},...e.afterArguments&&{afterArguments:c.SENSITIVE_STRING},...e.afterInputPath&&{afterInputPath:c.SENSITIVE_STRING},...e.afterParameters&&{afterParameters:c.SENSITIVE_STRING},...e.result&&{result:c.SENSITIVE_STRING},...e.afterResultSelector&&{afterResultSelector:c.SENSITIVE_STRING},...e.afterResultPath&&{afterResultPath:c.SENSITIVE_STRING},...e.variables&&{variables:c.SENSITIVE_STRING}}),JA=e=>({...e,...e.output&&{output:c.SENSITIVE_STRING},...e.error&&{error:c.SENSITIVE_STRING},...e.cause&&{cause:c.SENSITIVE_STRING},...e.inspectionData&&{inspectionData:c.SENSITIVE_STRING}}),YA=e=>({...e,...e.definition&&{definition:c.SENSITIVE_STRING},...e.versionDescription&&{versionDescription:c.SENSITIVE_STRING}}),XA=e=>({...e,...e.description&&{description:c.SENSITIVE_STRING}}),QA=e=>({...e,...e.definition&&{definition:c.SENSITIVE_STRING}}),ZA=e=>({...e,...e.code&&{code:c.SENSITIVE_STRING},...e.message&&{message:c.SENSITIVE_STRING},...e.location&&{location:c.SENSITIVE_STRING}}),eC=e=>({...e,...e.diagnostics&&{diagnostics:e.diagnostics.map(t=>ZA(t))}}),P$=async(e,t)=>{let r=se("CreateActivity"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},O$=async(e,t)=>{let r=se("CreateStateMachine"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},D$=async(e,t)=>{let r=se("CreateStateMachineAlias"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},M$=async(e,t)=>{let r=se("DeleteActivity"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},k$=async(e,t)=>{let r=se("DeleteStateMachine"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},F$=async(e,t)=>{let r=se("DeleteStateMachineAlias"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},L$=async(e,t)=>{let r=se("DeleteStateMachineVersion"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},$$=async(e,t)=>{let r=se("DescribeActivity"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},U$=async(e,t)=>{let r=se("DescribeExecution"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},z$=async(e,t)=>{let r=se("DescribeMapRun"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},H$=async(e,t)=>{let r=se("DescribeStateMachine"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},j$=async(e,t)=>{let r=se("DescribeStateMachineAlias"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},B$=async(e,t)=>{let r=se("DescribeStateMachineForExecution"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},q$=async(e,t)=>{let r=se("GetActivityTask"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},V$=async(e,t)=>{let r=se("GetExecutionHistory"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},G$=async(e,t)=>{let r=se("ListActivities"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},W$=async(e,t)=>{let r=se("ListExecutions"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},K$=async(e,t)=>{let r=se("ListMapRuns"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},J$=async(e,t)=>{let r=se("ListStateMachineAliases"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},Y$=async(e,t)=>{let r=se("ListStateMachines"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},X$=async(e,t)=>{let r=se("ListStateMachineVersions"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},Q$=async(e,t)=>{let r=se("ListTagsForResource"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},Z$=async(e,t)=>{let r=se("PublishStateMachineVersion"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},eU=async(e,t)=>{let r=se("RedriveExecution"),n;return n=JSON.stringify(Nz(e)),ne(t,r,"/",void 0,n)},tU=async(e,t)=>{let r=se("SendTaskFailure"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},rU=async(e,t)=>{let r=se("SendTaskHeartbeat"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},nU=async(e,t)=>{let r=se("SendTaskSuccess"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},sU=async(e,t)=>{let r=se("StartExecution"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},iU=async(e,t)=>{let r=se("StartSyncExecution"),n;n=JSON.stringify(c._json(e));let{hostname:s}=await t.endpoint();if(t.disableHostPrefix!==!0&&(s="sync-"+s,!Ki.isValidHostname(s)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return ne(t,r,"/",s,n)},oU=async(e,t)=>{let r=se("StopExecution"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},aU=async(e,t)=>{let r=se("TagResource"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},cU=async(e,t)=>{let r=se("TestState"),n;n=JSON.stringify(c._json(e));let{hostname:s}=await t.endpoint();if(t.disableHostPrefix!==!0&&(s="sync-"+s,!Ki.isValidHostname(s)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return ne(t,r,"/",s,n)},dU=async(e,t)=>{let r=se("UntagResource"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},lU=async(e,t)=>{let r=se("UpdateMapRun"),n;return n=JSON.stringify(Pz(e)),ne(t,r,"/",void 0,n)},uU=async(e,t)=>{let r=se("UpdateStateMachine"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},mU=async(e,t)=>{let r=se("UpdateStateMachineAlias"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},fU=async(e,t)=>{let r=se("ValidateStateMachineDefinition"),n;return n=JSON.stringify(c._json(e)),ne(t,r,"/",void 0,n)},pU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Mz(r),{$metadata:F(e),...n}},hU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Fz(r),{$metadata:F(e),...n}},gU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=kz(r),{$metadata:F(e),...n}},SU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},yU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},EU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},_U=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},wU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Lz(r),{$metadata:F(e),...n}},bU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=$z(r),{$metadata:F(e),...n}},xU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Uz(r),{$metadata:F(e),...n}},TU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=jz(r),{$metadata:F(e),...n}},vU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=zz(r),{$metadata:F(e),...n}},IU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Hz(r),{$metadata:F(e),...n}},AU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},CU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Vz(r),{$metadata:F(e),...n}},RU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Kz(r),{$metadata:F(e),...n}},NU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Jz(r),{$metadata:F(e),...n}},PU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Yz(r),{$metadata:F(e),...n}},OU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Xz(r),{$metadata:F(e),...n}},DU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Qz(r),{$metadata:F(e),...n}},MU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=Zz(r),{$metadata:F(e),...n}},kU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},FU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=rH(r),{$metadata:F(e),...n}},LU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=nH(r),{$metadata:F(e),...n}},$U=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},UU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},zU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},HU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=sH(r),{$metadata:F(e),...n}},jU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=iH(r),{$metadata:F(e),...n}},BU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=mH(r),{$metadata:F(e),...n}},qU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},VU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},GU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},WU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},KU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=pH(r),{$metadata:F(e),...n}},JU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=fH(r),{$metadata:F(e),...n}},YU=async(e,t)=>{if(e.statusCode>=300)return re(e,t);let r=await K.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:F(e),...n}},re=async(e,t)=>{let r={...e,body:await K.parseJsonErrorBody(e.body,t)},n=K.loadRestJsonErrorCode(e,r.body);switch(n){case"ActivityAlreadyExists":case"com.amazonaws.sfn#ActivityAlreadyExists":throw await XU(r);case"ActivityLimitExceeded":case"com.amazonaws.sfn#ActivityLimitExceeded":throw await ZU(r);case"InvalidEncryptionConfiguration":case"com.amazonaws.sfn#InvalidEncryptionConfiguration":throw await cz(r);case"InvalidName":case"com.amazonaws.sfn#InvalidName":throw await uz(r);case"KmsAccessDeniedException":case"com.amazonaws.sfn#KmsAccessDeniedException":throw await hz(r);case"KmsThrottlingException":case"com.amazonaws.sfn#KmsThrottlingException":throw await Sz(r);case"TooManyTags":case"com.amazonaws.sfn#TooManyTags":throw await Cz(r);case"ConflictException":case"com.amazonaws.sfn#ConflictException":throw await tz(r);case"InvalidArn":case"com.amazonaws.sfn#InvalidArn":throw await oz(r);case"InvalidDefinition":case"com.amazonaws.sfn#InvalidDefinition":throw await az(r);case"InvalidLoggingConfiguration":case"com.amazonaws.sfn#InvalidLoggingConfiguration":throw await lz(r);case"InvalidTracingConfiguration":case"com.amazonaws.sfn#InvalidTracingConfiguration":throw await pz(r);case"StateMachineAlreadyExists":case"com.amazonaws.sfn#StateMachineAlreadyExists":throw await wz(r);case"StateMachineDeleting":case"com.amazonaws.sfn#StateMachineDeleting":throw await bz(r);case"StateMachineLimitExceeded":case"com.amazonaws.sfn#StateMachineLimitExceeded":throw await Tz(r);case"StateMachineTypeNotSupported":case"com.amazonaws.sfn#StateMachineTypeNotSupported":throw await vz(r);case"ValidationException":case"com.amazonaws.sfn#ValidationException":throw await Rz(r);case"ResourceNotFound":case"com.amazonaws.sfn#ResourceNotFound":throw await Ez(r);case"ServiceQuotaExceededException":case"com.amazonaws.sfn#ServiceQuotaExceededException":throw await _z(r);case"ActivityDoesNotExist":case"com.amazonaws.sfn#ActivityDoesNotExist":throw await QU(r);case"ExecutionDoesNotExist":case"com.amazonaws.sfn#ExecutionDoesNotExist":throw await nz(r);case"KmsInvalidStateException":case"com.amazonaws.sfn#KmsInvalidStateException":throw await gz(r);case"StateMachineDoesNotExist":case"com.amazonaws.sfn#StateMachineDoesNotExist":throw await xz(r);case"ActivityWorkerLimitExceeded":case"com.amazonaws.sfn#ActivityWorkerLimitExceeded":throw await ez(r);case"InvalidToken":case"com.amazonaws.sfn#InvalidToken":throw await fz(r);case"ExecutionLimitExceeded":case"com.amazonaws.sfn#ExecutionLimitExceeded":throw await sz(r);case"ExecutionNotRedrivable":case"com.amazonaws.sfn#ExecutionNotRedrivable":throw await iz(r);case"TaskDoesNotExist":case"com.amazonaws.sfn#TaskDoesNotExist":throw await Iz(r);case"TaskTimedOut":case"com.amazonaws.sfn#TaskTimedOut":throw await Az(r);case"InvalidOutput":case"com.amazonaws.sfn#InvalidOutput":throw await mz(r);case"ExecutionAlreadyExists":case"com.amazonaws.sfn#ExecutionAlreadyExists":throw await rz(r);case"InvalidExecutionInput":case"com.amazonaws.sfn#InvalidExecutionInput":throw await dz(r);case"MissingRequiredParameter":case"com.amazonaws.sfn#MissingRequiredParameter":throw await yz(r);default:let s=r.body;return hH({output:e,parsedBody:s,errorCode:n})}},XU=async(e,t)=>{let r=e.body,n=c._json(r),s=new Vc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},QU=async(e,t)=>{let r=e.body,n=c._json(r),s=new Gc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},ZU=async(e,t)=>{let r=e.body,n=c._json(r),s=new Wc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},ez=async(e,t)=>{let r=e.body,n=c._json(r),s=new Kc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},tz=async(e,t)=>{let r=e.body,n=c._json(r),s=new ed({$metadata:F(e),...n});return c.decorateServiceException(s,r)},rz=async(e,t)=>{let r=e.body,n=c._json(r),s=new wd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},nz=async(e,t)=>{let r=e.body,n=c._json(r),s=new md({$metadata:F(e),...n});return c.decorateServiceException(s,r)},sz=async(e,t)=>{let r=e.body,n=c._json(r),s=new gd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},iz=async(e,t)=>{let r=e.body,n=c._json(r),s=new Sd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},oz=async(e,t)=>{let r=e.body,n=c._json(r),s=new td({$metadata:F(e),...n});return c.decorateServiceException(s,r)},az=async(e,t)=>{let r=e.body,n=c._json(r),s=new rd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},cz=async(e,t)=>{let r=e.body,n=c._json(r),s=new Jc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},dz=async(e,t)=>{let r=e.body,n=c._json(r),s=new bd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},lz=async(e,t)=>{let r=e.body,n=c._json(r),s=new nd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},uz=async(e,t)=>{let r=e.body,n=c._json(r),s=new Yc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},mz=async(e,t)=>{let r=e.body,n=c._json(r),s=new _d({$metadata:F(e),...n});return c.decorateServiceException(s,r)},fz=async(e,t)=>{let r=e.body,n=c._json(r),s=new hd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},pz=async(e,t)=>{let r=e.body,n=c._json(r),s=new sd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},hz=async(e,t)=>{let r=e.body,n=c._json(r),s=new Xc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},gz=async(e,t)=>{let r=e.body,n=c._json(r),s=new fd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Sz=async(e,t)=>{let r=e.body,n=c._json(r),s=new Qc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},yz=async(e,t)=>{let r=e.body,n=c._json(r),s=new xd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Ez=async(e,t)=>{let r=e.body,n=c._json(r),s=new ld({$metadata:F(e),...n});return c.decorateServiceException(s,r)},_z=async(e,t)=>{let r=e.body,n=c._json(r),s=new ud({$metadata:F(e),...n});return c.decorateServiceException(s,r)},wz=async(e,t)=>{let r=e.body,n=c._json(r),s=new id({$metadata:F(e),...n});return c.decorateServiceException(s,r)},bz=async(e,t)=>{let r=e.body,n=c._json(r),s=new od({$metadata:F(e),...n});return c.decorateServiceException(s,r)},xz=async(e,t)=>{let r=e.body,n=c._json(r),s=new pd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Tz=async(e,t)=>{let r=e.body,n=c._json(r),s=new ad({$metadata:F(e),...n});return c.decorateServiceException(s,r)},vz=async(e,t)=>{let r=e.body,n=c._json(r),s=new cd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Iz=async(e,t)=>{let r=e.body,n=c._json(r),s=new yd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Az=async(e,t)=>{let r=e.body,n=c._json(r),s=new Ed({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Cz=async(e,t)=>{let r=e.body,n=c._json(r),s=new Zc({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Rz=async(e,t)=>{let r=e.body,n=c._json(r),s=new dd({$metadata:F(e),...n});return c.decorateServiceException(s,r)},Nz=(e,t)=>c.take(e,{clientToken:[!0,r=>r??c$.v4()],executionArn:[]}),Pz=(e,t)=>c.take(e,{mapRunArn:[],maxConcurrency:[],toleratedFailureCount:[],toleratedFailurePercentage:c.serializeFloat}),Oz=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Dz(n)),Dz=(e,t)=>c.take(e,{activityArn:c.expectString,creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),name:c.expectString}),Mz=(e,t)=>c.take(e,{activityArn:c.expectString,creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),kz=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineAliasArn:c.expectString}),Fz=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineArn:c.expectString,stateMachineVersionArn:c.expectString}),Lz=(e,t)=>c.take(e,{activityArn:c.expectString,creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),encryptionConfiguration:c._json,name:c.expectString}),$z=(e,t)=>c.take(e,{cause:c.expectString,error:c.expectString,executionArn:c.expectString,input:c.expectString,inputDetails:c._json,mapRunArn:c.expectString,name:c.expectString,output:c.expectString,outputDetails:c._json,redriveCount:c.expectInt32,redriveDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),redriveStatus:c.expectString,redriveStatusReason:c.expectString,startDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineAliasArn:c.expectString,stateMachineArn:c.expectString,stateMachineVersionArn:c.expectString,status:c.expectString,stopDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),traceHeader:c.expectString}),Uz=(e,t)=>c.take(e,{executionArn:c.expectString,executionCounts:c._json,itemCounts:c._json,mapRunArn:c.expectString,maxConcurrency:c.expectInt32,redriveCount:c.expectInt32,redriveDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),startDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),status:c.expectString,stopDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),toleratedFailureCount:c.expectLong,toleratedFailurePercentage:c.limitedParseFloat32}),zz=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),description:c.expectString,name:c.expectString,routingConfiguration:c._json,stateMachineAliasArn:c.expectString,updateDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),Hz=(e,t)=>c.take(e,{definition:c.expectString,encryptionConfiguration:c._json,label:c.expectString,loggingConfiguration:c._json,mapRunArn:c.expectString,name:c.expectString,revisionId:c.expectString,roleArn:c.expectString,stateMachineArn:c.expectString,tracingConfiguration:c._json,updateDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),variableReferences:c._json}),jz=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),definition:c.expectString,description:c.expectString,encryptionConfiguration:c._json,label:c.expectString,loggingConfiguration:c._json,name:c.expectString,revisionId:c.expectString,roleArn:c.expectString,stateMachineArn:c.expectString,status:c.expectString,tracingConfiguration:c._json,type:c.expectString,variableReferences:c._json}),Bz=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>qz(n)),qz=(e,t)=>c.take(e,{executionArn:c.expectString,itemCount:c.expectInt32,mapRunArn:c.expectString,name:c.expectString,redriveCount:c.expectInt32,redriveDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),startDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineAliasArn:c.expectString,stateMachineArn:c.expectString,stateMachineVersionArn:c.expectString,status:c.expectString,stopDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),Vz=(e,t)=>c.take(e,{events:r=>Wz(r),nextToken:c.expectString}),Gz=(e,t)=>c.take(e,{activityFailedEventDetails:c._json,activityScheduleFailedEventDetails:c._json,activityScheduledEventDetails:c._json,activityStartedEventDetails:c._json,activitySucceededEventDetails:c._json,activityTimedOutEventDetails:c._json,evaluationFailedEventDetails:c._json,executionAbortedEventDetails:c._json,executionFailedEventDetails:c._json,executionRedrivenEventDetails:c._json,executionStartedEventDetails:c._json,executionSucceededEventDetails:c._json,executionTimedOutEventDetails:c._json,id:c.expectLong,lambdaFunctionFailedEventDetails:c._json,lambdaFunctionScheduleFailedEventDetails:c._json,lambdaFunctionScheduledEventDetails:c._json,lambdaFunctionStartFailedEventDetails:c._json,lambdaFunctionSucceededEventDetails:c._json,lambdaFunctionTimedOutEventDetails:c._json,mapIterationAbortedEventDetails:c._json,mapIterationFailedEventDetails:c._json,mapIterationStartedEventDetails:c._json,mapIterationSucceededEventDetails:c._json,mapRunFailedEventDetails:c._json,mapRunRedrivenEventDetails:c._json,mapRunStartedEventDetails:c._json,mapStateStartedEventDetails:c._json,previousEventId:c.expectLong,stateEnteredEventDetails:c._json,stateExitedEventDetails:c._json,taskFailedEventDetails:c._json,taskScheduledEventDetails:c._json,taskStartFailedEventDetails:c._json,taskStartedEventDetails:c._json,taskSubmitFailedEventDetails:c._json,taskSubmittedEventDetails:c._json,taskSucceededEventDetails:c._json,taskTimedOutEventDetails:c._json,timestamp:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),type:c.expectString}),Wz=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Gz(n)),Kz=(e,t)=>c.take(e,{activities:r=>Oz(r),nextToken:c.expectString}),Jz=(e,t)=>c.take(e,{executions:r=>Bz(r),nextToken:c.expectString}),Yz=(e,t)=>c.take(e,{mapRuns:r=>eH(r),nextToken:c.expectString}),Xz=(e,t)=>c.take(e,{nextToken:c.expectString,stateMachineAliases:r=>oH(r)}),Qz=(e,t)=>c.take(e,{nextToken:c.expectString,stateMachines:r=>cH(r)}),Zz=(e,t)=>c.take(e,{nextToken:c.expectString,stateMachineVersions:r=>lH(r)}),eH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>tH(n)),tH=(e,t)=>c.take(e,{executionArn:c.expectString,mapRunArn:c.expectString,startDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineArn:c.expectString,stopDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),rH=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineVersionArn:c.expectString}),nH=(e,t)=>c.take(e,{redriveDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),sH=(e,t)=>c.take(e,{executionArn:c.expectString,startDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),iH=(e,t)=>c.take(e,{billingDetails:c._json,cause:c.expectString,error:c.expectString,executionArn:c.expectString,input:c.expectString,inputDetails:c._json,name:c.expectString,output:c.expectString,outputDetails:c._json,startDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineArn:c.expectString,status:c.expectString,stopDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),traceHeader:c.expectString}),oH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>aH(n)),aH=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineAliasArn:c.expectString}),cH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>dH(n)),dH=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),name:c.expectString,stateMachineArn:c.expectString,type:c.expectString}),lH=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>uH(n)),uH=(e,t)=>c.take(e,{creationDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),stateMachineVersionArn:c.expectString}),mH=(e,t)=>c.take(e,{stopDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),fH=(e,t)=>c.take(e,{updateDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),pH=(e,t)=>c.take(e,{revisionId:c.expectString,stateMachineVersionArn:c.expectString,updateDate:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),hH=c.withBaseException(Z),ne=async(e,t,r,n,s)=>{let{hostname:i,protocol:o="https",port:a,path:d}=await e.endpoint(),l={protocol:o,hostname:i,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new Ki.HttpRequest(l)};function se(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`AWSStepFunctions.${e}`}}var Td=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","CreateActivity",{}).n("SFNClient","CreateActivityCommand").f(void 0,void 0).ser(P$).de(pU).build(){},vd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","CreateStateMachineAlias",{}).n("SFNClient","CreateStateMachineAliasCommand").f(uA,void 0).ser(D$).de(gU).build(){},Id=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","CreateStateMachine",{}).n("SFNClient","CreateStateMachineCommand").f(lA,void 0).ser(O$).de(hU).build(){},Ad=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteActivity",{}).n("SFNClient","DeleteActivityCommand").f(void 0,void 0).ser(M$).de(SU).build(){},Cd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteStateMachineAlias",{}).n("SFNClient","DeleteStateMachineAliasCommand").f(void 0,void 0).ser(F$).de(EU).build(){},Rd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteStateMachine",{}).n("SFNClient","DeleteStateMachineCommand").f(void 0,void 0).ser(k$).de(yU).build(){},Nd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DeleteStateMachineVersion",{}).n("SFNClient","DeleteStateMachineVersionCommand").f(void 0,void 0).ser(L$).de(_U).build(){},Pd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeActivity",{}).n("SFNClient","DescribeActivityCommand").f(void 0,void 0).ser($$).de(wU).build(){},Od=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeExecution",{}).n("SFNClient","DescribeExecutionCommand").f(void 0,mA).ser(U$).de(bU).build(){},Dd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeMapRun",{}).n("SFNClient","DescribeMapRunCommand").f(void 0,void 0).ser(z$).de(xU).build(){},Md=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeStateMachineAlias",{}).n("SFNClient","DescribeStateMachineAliasCommand").f(void 0,pA).ser(j$).de(vU).build(){},kd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeStateMachine",{}).n("SFNClient","DescribeStateMachineCommand").f(void 0,fA).ser(H$).de(TU).build(){},Fd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","DescribeStateMachineForExecution",{}).n("SFNClient","DescribeStateMachineForExecutionCommand").f(void 0,hA).ser(B$).de(IU).build(){},Ld=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","GetActivityTask",{}).n("SFNClient","GetActivityTaskCommand").f(void 0,gA).ser(q$).de(AU).build(){},Ji=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","GetExecutionHistory",{}).n("SFNClient","GetExecutionHistoryCommand").f(void 0,zA).ser(V$).de(CU).build(){},Yi=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListActivities",{}).n("SFNClient","ListActivitiesCommand").f(void 0,void 0).ser(G$).de(RU).build(){},Xi=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListExecutions",{}).n("SFNClient","ListExecutionsCommand").f(void 0,void 0).ser(W$).de(NU).build(){},Qi=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListMapRuns",{}).n("SFNClient","ListMapRunsCommand").f(void 0,void 0).ser(K$).de(PU).build(){},$d=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListStateMachineAliases",{}).n("SFNClient","ListStateMachineAliasesCommand").f(void 0,void 0).ser(J$).de(OU).build(){},Zi=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListStateMachines",{}).n("SFNClient","ListStateMachinesCommand").f(void 0,void 0).ser(Y$).de(DU).build(){},Ud=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListStateMachineVersions",{}).n("SFNClient","ListStateMachineVersionsCommand").f(void 0,void 0).ser(X$).de(MU).build(){},zd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ListTagsForResource",{}).n("SFNClient","ListTagsForResourceCommand").f(void 0,void 0).ser(Q$).de(kU).build(){},Hd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","PublishStateMachineVersion",{}).n("SFNClient","PublishStateMachineVersionCommand").f(HA,void 0).ser(Z$).de(FU).build(){},jd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","RedriveExecution",{}).n("SFNClient","RedriveExecutionCommand").f(void 0,void 0).ser(eU).de(LU).build(){},Bd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","SendTaskFailure",{}).n("SFNClient","SendTaskFailureCommand").f(jA,void 0).ser(tU).de($U).build(){},qd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","SendTaskHeartbeat",{}).n("SFNClient","SendTaskHeartbeatCommand").f(void 0,void 0).ser(rU).de(UU).build(){},Vd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","SendTaskSuccess",{}).n("SFNClient","SendTaskSuccessCommand").f(BA,void 0).ser(nU).de(zU).build(){},Gd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","StartExecution",{}).n("SFNClient","StartExecutionCommand").f(qA,void 0).ser(sU).de(HU).build(){},Wd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","StartSyncExecution",{}).n("SFNClient","StartSyncExecutionCommand").f(VA,GA).ser(iU).de(jU).build(){},Kd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","StopExecution",{}).n("SFNClient","StopExecutionCommand").f(WA,void 0).ser(oU).de(BU).build(){},Jd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","TagResource",{}).n("SFNClient","TagResourceCommand").f(void 0,void 0).ser(aU).de(qU).build(){},Yd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","TestState",{}).n("SFNClient","TestStateCommand").f(KA,JA).ser(cU).de(VU).build(){},Xd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UntagResource",{}).n("SFNClient","UntagResourceCommand").f(void 0,void 0).ser(dU).de(GU).build(){},Qd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UpdateMapRun",{}).n("SFNClient","UpdateMapRunCommand").f(void 0,void 0).ser(lU).de(WU).build(){},Zd=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UpdateStateMachineAlias",{}).n("SFNClient","UpdateStateMachineAliasCommand").f(XA,void 0).ser(mU).de(JU).build(){},el=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","UpdateStateMachine",{}).n("SFNClient","UpdateStateMachineCommand").f(YA,void 0).ser(uU).de(KU).build(){},tl=class extends c.Command.classBuilder().ep(te).m(function(t,r,n,s){return[ee.getSerdePlugin(n,this.serialize,this.deserialize),Q.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("AWSStepFunctions","ValidateStateMachineDefinition",{}).n("SFNClient","ValidateStateMachineDefinitionCommand").f(QA,eC).ser(fU).de(YU).build(){},gH={CreateActivityCommand:Td,CreateStateMachineCommand:Id,CreateStateMachineAliasCommand:vd,DeleteActivityCommand:Ad,DeleteStateMachineCommand:Rd,DeleteStateMachineAliasCommand:Cd,DeleteStateMachineVersionCommand:Nd,DescribeActivityCommand:Pd,DescribeExecutionCommand:Od,DescribeMapRunCommand:Dd,DescribeStateMachineCommand:kd,DescribeStateMachineAliasCommand:Md,DescribeStateMachineForExecutionCommand:Fd,GetActivityTaskCommand:Ld,GetExecutionHistoryCommand:Ji,ListActivitiesCommand:Yi,ListExecutionsCommand:Xi,ListMapRunsCommand:Qi,ListStateMachineAliasesCommand:$d,ListStateMachinesCommand:Zi,ListStateMachineVersionsCommand:Ud,ListTagsForResourceCommand:zd,PublishStateMachineVersionCommand:Hd,RedriveExecutionCommand:jd,SendTaskFailureCommand:Bd,SendTaskHeartbeatCommand:qd,SendTaskSuccessCommand:Vd,StartExecutionCommand:Gd,StartSyncExecutionCommand:Wd,StopExecutionCommand:Kd,TagResourceCommand:Jd,TestStateCommand:Yd,UntagResourceCommand:Xd,UpdateMapRunCommand:Qd,UpdateStateMachineCommand:el,UpdateStateMachineAliasCommand:Zd,ValidateStateMachineDefinitionCommand:tl},rl=class extends tr{};c.createAggregatedClient(gH,rl);var SH=jr.createPaginator(tr,Ji,"nextToken","nextToken","maxResults"),yH=jr.createPaginator(tr,Yi,"nextToken","nextToken","maxResults"),EH=jr.createPaginator(tr,Xi,"nextToken","nextToken","maxResults"),_H=jr.createPaginator(tr,Qi,"nextToken","nextToken","maxResults"),wH=jr.createPaginator(tr,Zi,"nextToken","nextToken","maxResults");Object.defineProperty(T,"$Command",{enumerable:!0,get:function(){return c.Command}});Object.defineProperty(T,"__Client",{enumerable:!0,get:function(){return c.Client}});T.ActivityAlreadyExists=Vc;T.ActivityDoesNotExist=Gc;T.ActivityFailedEventDetailsFilterSensitiveLog=iA;T.ActivityLimitExceeded=Wc;T.ActivityScheduleFailedEventDetailsFilterSensitiveLog=aA;T.ActivityScheduledEventDetailsFilterSensitiveLog=oA;T.ActivitySucceededEventDetailsFilterSensitiveLog=cA;T.ActivityTimedOutEventDetailsFilterSensitiveLog=dA;T.ActivityWorkerLimitExceeded=Kc;T.ConflictException=ed;T.CreateActivityCommand=Td;T.CreateStateMachineAliasCommand=vd;T.CreateStateMachineAliasInputFilterSensitiveLog=uA;T.CreateStateMachineCommand=Id;T.CreateStateMachineInputFilterSensitiveLog=lA;T.DeleteActivityCommand=Ad;T.DeleteStateMachineAliasCommand=Cd;T.DeleteStateMachineCommand=Rd;T.DeleteStateMachineVersionCommand=Nd;T.DescribeActivityCommand=Pd;T.DescribeExecutionCommand=Od;T.DescribeExecutionOutputFilterSensitiveLog=mA;T.DescribeMapRunCommand=Dd;T.DescribeStateMachineAliasCommand=Md;T.DescribeStateMachineAliasOutputFilterSensitiveLog=pA;T.DescribeStateMachineCommand=kd;T.DescribeStateMachineForExecutionCommand=Fd;T.DescribeStateMachineForExecutionOutputFilterSensitiveLog=hA;T.DescribeStateMachineOutputFilterSensitiveLog=fA;T.EncryptionType=f$;T.EvaluationFailedEventDetailsFilterSensitiveLog=SA;T.ExecutionAbortedEventDetailsFilterSensitiveLog=yA;T.ExecutionAlreadyExists=wd;T.ExecutionDoesNotExist=md;T.ExecutionFailedEventDetailsFilterSensitiveLog=EA;T.ExecutionLimitExceeded=gd;T.ExecutionNotRedrivable=Sd;T.ExecutionRedriveFilter=T$;T.ExecutionRedriveStatus=y$;T.ExecutionStartedEventDetailsFilterSensitiveLog=_A;T.ExecutionStatus=E$;T.ExecutionSucceededEventDetailsFilterSensitiveLog=wA;T.ExecutionTimedOutEventDetailsFilterSensitiveLog=bA;T.GetActivityTaskCommand=Ld;T.GetActivityTaskOutputFilterSensitiveLog=gA;T.GetExecutionHistoryCommand=Ji;T.GetExecutionHistoryOutputFilterSensitiveLog=zA;T.HistoryEventFilterSensitiveLog=UA;T.HistoryEventType=x$;T.IncludedData=S$;T.InspectionDataFilterSensitiveLog=N$;T.InspectionLevel=I$;T.InvalidArn=td;T.InvalidDefinition=rd;T.InvalidEncryptionConfiguration=Jc;T.InvalidExecutionInput=bd;T.InvalidLoggingConfiguration=nd;T.InvalidName=Yc;T.InvalidOutput=_d;T.InvalidToken=hd;T.InvalidTracingConfiguration=sd;T.KmsAccessDeniedException=Xc;T.KmsInvalidStateException=fd;T.KmsKeyState=_$;T.KmsThrottlingException=Qc;T.LambdaFunctionFailedEventDetailsFilterSensitiveLog=xA;T.LambdaFunctionScheduleFailedEventDetailsFilterSensitiveLog=vA;T.LambdaFunctionScheduledEventDetailsFilterSensitiveLog=TA;T.LambdaFunctionStartFailedEventDetailsFilterSensitiveLog=IA;T.LambdaFunctionSucceededEventDetailsFilterSensitiveLog=AA;T.LambdaFunctionTimedOutEventDetailsFilterSensitiveLog=CA;T.ListActivitiesCommand=Yi;T.ListExecutionsCommand=Xi;T.ListMapRunsCommand=Qi;T.ListStateMachineAliasesCommand=$d;T.ListStateMachineVersionsCommand=Ud;T.ListStateMachinesCommand=Zi;T.ListTagsForResourceCommand=zd;T.LogLevel=p$;T.MapRunFailedEventDetailsFilterSensitiveLog=RA;T.MapRunStatus=w$;T.MissingRequiredParameter=xd;T.PublishStateMachineVersionCommand=Hd;T.PublishStateMachineVersionInputFilterSensitiveLog=HA;T.RedriveExecutionCommand=jd;T.ResourceNotFound=ld;T.SFN=rl;T.SFNClient=tr;T.SFNServiceException=Z;T.SendTaskFailureCommand=Bd;T.SendTaskFailureInputFilterSensitiveLog=jA;T.SendTaskHeartbeatCommand=qd;T.SendTaskSuccessCommand=Vd;T.SendTaskSuccessInputFilterSensitiveLog=BA;T.ServiceQuotaExceededException=ud;T.StartExecutionCommand=Gd;T.StartExecutionInputFilterSensitiveLog=qA;T.StartSyncExecutionCommand=Wd;T.StartSyncExecutionInputFilterSensitiveLog=VA;T.StartSyncExecutionOutputFilterSensitiveLog=GA;T.StateEnteredEventDetailsFilterSensitiveLog=NA;T.StateExitedEventDetailsFilterSensitiveLog=PA;T.StateMachineAlreadyExists=id;T.StateMachineDeleting=od;T.StateMachineDoesNotExist=pd;T.StateMachineLimitExceeded=ad;T.StateMachineStatus=b$;T.StateMachineType=h$;T.StateMachineTypeNotSupported=cd;T.StopExecutionCommand=Kd;T.StopExecutionInputFilterSensitiveLog=WA;T.SyncExecutionStatus=v$;T.TagResourceCommand=Jd;T.TaskDoesNotExist=yd;T.TaskFailedEventDetailsFilterSensitiveLog=OA;T.TaskScheduledEventDetailsFilterSensitiveLog=DA;T.TaskStartFailedEventDetailsFilterSensitiveLog=MA;T.TaskSubmitFailedEventDetailsFilterSensitiveLog=kA;T.TaskSubmittedEventDetailsFilterSensitiveLog=FA;T.TaskSucceededEventDetailsFilterSensitiveLog=LA;T.TaskTimedOut=Ed;T.TaskTimedOutEventDetailsFilterSensitiveLog=$A;T.TestExecutionStatus=A$;T.TestStateCommand=Yd;T.TestStateInputFilterSensitiveLog=KA;T.TestStateOutputFilterSensitiveLog=JA;T.TooManyTags=Zc;T.UntagResourceCommand=Xd;T.UpdateMapRunCommand=Qd;T.UpdateStateMachineAliasCommand=Zd;T.UpdateStateMachineAliasInputFilterSensitiveLog=XA;T.UpdateStateMachineCommand=el;T.UpdateStateMachineInputFilterSensitiveLog=YA;T.ValidateStateMachineDefinitionCommand=tl;T.ValidateStateMachineDefinitionDiagnosticFilterSensitiveLog=ZA;T.ValidateStateMachineDefinitionInputFilterSensitiveLog=QA;T.ValidateStateMachineDefinitionOutputFilterSensitiveLog=eC;T.ValidateStateMachineDefinitionResultCode=R$;T.ValidateStateMachineDefinitionSeverity=C$;T.ValidationException=dd;T.ValidationExceptionReason=g$;T.paginateGetExecutionHistory=SH;T.paginateListActivities=yH;T.paginateListExecutions=EH;T.paginateListMapRuns=_H;T.paginateListStateMachines=wH});var IH={};it(IH,{handler:()=>vH});module.exports=le(IH);var nl=I(tC()),bH=new nl.SFNClient({}),rC=process.env.THUMB_SM_ARN||"",xH=e=>/^users\//i.test(e)&&/\.(?:jpe?g|png|webp)$/i.test(e);function TH(e){var s,i,o,a,d,l,f,p;let t=[],r;try{r=JSON.parse(e)}catch{return console.warn("Skipping record; non-JSON body:",e.slice(0,256)),t}let n=Array.isArray(r==null?void 0:r.Records)?r.Records:r!=null&&r.s3?[r]:(i=(s=r==null?void 0:r.detail)==null?void 0:s.bucket)!=null&&i.name&&((a=(o=r==null?void 0:r.detail)==null?void 0:o.object)!=null&&a.key)?[{s3:{bucket:{name:r.detail.bucket.name||r.detail.bucket},object:{key:r.detail.object.key}}}]:[];if(n.length===0)return console.warn("Skipping record; unrecognized body:",e.slice(0,512)),t;for(let g of n){let h=(l=(d=g==null?void 0:g.s3)==null?void 0:d.bucket)==null?void 0:l.name,y=(p=(f=g==null?void 0:g.s3)==null?void 0:f.object)==null?void 0:p.key;if(!(!h||!y)){if(y=decodeURIComponent(String(y).replace(/\+/g," ")),!xH(y)){console.info("Ignored (filter)",{key:y});continue}t.push({bucket:h,key:y})}}return t}var vH=async e=>{if(!rC)throw new Error("Missing env THUMB_SM_ARN");console.info("SQS batch size:",e.Records.length);let t=[];for(let r of e.Records)t.push(...TH(r.body??""));for(let r of t){let n=JSON.stringify(r);await bH.send(new nl.StartExecutionCommand({stateMachineArn:rC,input:n})),console.info("Started execution",r)}return console.info("Dispatched",t.length,"execution(s)."),{ok:!0,count:t.length}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
