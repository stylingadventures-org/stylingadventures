"use strict";var s=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var c=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var R=(e,r)=>{for(var i in r)s(e,i,{get:r[i],enumerable:!0})},d=(e,r,i,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of c(r))!E.call(e,t)&&t!==i&&s(e,t,{get:()=>r[t],enumerable:!(n=o(r,t))||n.enumerable});return e};var p=e=>d(s({},"__esModule",{value:!0}),e);var w={};R(w,{handler:()=>a});module.exports=p(w);function I(e){switch(e){case"REQUEST_REVIEW":return"PENDING_REVIEW";case"APPROVE":return"APPROVED";case"REVISE":return"REVISION_REQUESTED";case"REJECT":return"REJECTED";default:return"PENDING_REVIEW"}}var a=async e=>{let r=new Date().toISOString();if(!e.episodeId)throw new Error("Missing required field: episodeId");let i=e.versionId??`v-${Math.random().toString(36).slice(2,10)}`,n=I(e.action),t={episodeId:e.episodeId,versionId:i,status:n,scriptText:e.scriptText,scriptJson:e.scriptJson,reviewer:e.reviewer,note:e.note,createdAt:r,updatedAt:r};return console.log("ScriptReview event:",JSON.stringify(e,null,2)),console.log("ScriptReview record:",JSON.stringify(t,null,2)),t};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
