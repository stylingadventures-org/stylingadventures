"use strict";var s=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var E=(e,r)=>{for(var i in r)s(e,i,{get:r[i],enumerable:!0})},d=(e,r,i,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of a(r))!c.call(e,t)&&t!==i&&s(e,t,{get:()=>r[t],enumerable:!(n=u(r,t))||n.enumerable});return e};var f=e=>d(s({},"__esModule",{value:!0}),e);var g={};E(g,{handler:()=>R});module.exports=f(g);var y=process.env.STORY_SCHEDULER_ARN||"";function l(e){let r=e?.claims||{},i=r["custom:tier"]||r.tier,n=r["cognito:groups"],t=Array.isArray(n)?n:String(n||"").split(",").map(o=>o.trim()).filter(Boolean);return t.includes("ADMIN")?"ADMIN":t.includes("COLLAB")?"COLLAB":t.includes("PRIME")?"PRIME":t.includes("CREATOR")?"CREATOR":t.includes("BESTIE")?"BESTIE":i&&["FREE","BESTIE","CREATOR","COLLAB","ADMIN","PRIME"].includes(i)?i:"FREE"}function A(e){let r=l(e);if(!["CREATOR","COLLAB","ADMIN","PRIME"].includes(r))throw new Error("Creator tier required");return r}var R=async e=>{console.log("CreatorAiFn event",JSON.stringify(e));let r=e.info?.fieldName,i=e.identity;switch(A(i),r){case"creatorAiSuggest":{let{text:n,kind:t}=e.arguments||{};return t==="CAPTION"?{suggestions:[`\u2728 ${n||"New look"} \u2014 styled by you.`,`Outfit check: ${n||"today's fit"} \u2728`]}:t==="HASHTAGS"?{suggestions:["#stylelala","#outfitoftheday","#creatorbestie"]}:{suggestions:["Try a short, punchy hook + 3 strong hashtags."]}}default:throw new Error(`Unsupported field in CreatorAiFn: ${r}`)}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
