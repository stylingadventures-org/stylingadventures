"use strict";var iH=Object.create;var Lu=Object.defineProperty;var aH=Object.getOwnPropertyDescriptor;var cH=Object.getOwnPropertyNames;var lH=Object.getPrototypeOf,dH=Object.prototype.hasOwnProperty;var P=(e,r)=>()=>(e&&(r=e(e=0)),r);var B=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),ln=(e,r)=>{for(var t in r)Lu(e,t,{get:r[t],enumerable:!0})},JA=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of cH(r))!dH.call(e,s)&&s!==t&&Lu(e,s,{get:()=>r[s],enumerable:!(n=aH(r,s))||n.enumerable});return e};var k=(e,r,t)=>(t=e!=null?iH(lH(e)):{},JA(r||!e||!e.__esModule?Lu(t,"default",{value:e,enumerable:!0}):t,e)),Re=e=>JA(Lu({},"__esModule",{value:!0}),e);var ys=B(it=>{"use strict";it.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(it.HttpAuthLocation||(it.HttpAuthLocation={}));it.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(it.HttpApiKeyAuthLocation||(it.HttpApiKeyAuthLocation={}));it.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(it.EndpointURLScheme||(it.EndpointURLScheme={}));it.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(it.AlgorithmId||(it.AlgorithmId={}));var uH=e=>{let r=[];return e.sha256!==void 0&&r.push({algorithmId:()=>it.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&r.push({algorithmId:()=>it.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},mH=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},fH=e=>uH(e),gH=e=>mH(e);it.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(it.FieldPosition||(it.FieldPosition={}));var hH="__smithy_context";it.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(it.IniSectionType||(it.IniSectionType={}));it.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(it.RequestHandlerProtocol||(it.RequestHandlerProtocol={}));it.SMITHY_CONTEXT_KEY=hH;it.getDefaultClientConfiguration=fH;it.resolveDefaultRuntimeConfig=gH});var We=B(Xs=>{"use strict";var pH=ys(),yH=e=>({setHttpHandler(r){e.httpHandler=r},httpHandler(){return e.httpHandler},updateHttpClientConfig(r,t){e.httpHandler?.updateHttpClientConfig(r,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),SH=e=>({httpHandler:e.httpHandler()}),qS=class{name;kind;values;constructor({name:r,kind:t=pH.FieldPosition.HEADER,values:n=[]}){this.name=r,this.kind=t,this.values=n}add(r){this.values.push(r)}set(r){this.values=r}remove(r){this.values=this.values.filter(t=>t!==r)}toString(){return this.values.map(r=>r.includes(",")||r.includes(" ")?`"${r}"`:r).join(", ")}get(){return this.values}},HS=class{entries={};encoding;constructor({fields:r=[],encoding:t="utf-8"}){r.forEach(this.setField.bind(this)),this.encoding=t}setField(r){this.entries[r.name.toLowerCase()]=r}getField(r){return this.entries[r.toLowerCase()]}removeField(r){delete this.entries[r.toLowerCase()]}getByType(r){return Object.values(this.entries).filter(t=>t.kind===r)}},jS=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(r){this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}static clone(r){let t=new e({...r,headers:{...r.headers}});return t.query&&(t.query=EH(t.query)),t}static isInstance(r){if(!r)return!1;let t=r;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return e.clone(this)}};function EH(e){return Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})}var $S=class{statusCode;reason;headers;body;constructor(r){this.statusCode=r.statusCode,this.reason=r.reason,this.headers=r.headers||{},this.body=r.body}static isInstance(r){if(!r)return!1;let t=r;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function bH(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Xs.Field=qS;Xs.Fields=HS;Xs.HttpRequest=jS;Xs.HttpResponse=$S;Xs.getHttpHandlerExtensionConfiguration=yH;Xs.isValidHostname=bH;Xs.resolveHttpHandlerRuntimeConfig=SH});var tP=B((kfe,eP)=>{"use strict";var Fu=Object.defineProperty,_H=Object.getOwnPropertyDescriptor,CH=Object.getOwnPropertyNames,xH=Object.prototype.hasOwnProperty,VS=(e,r)=>Fu(e,"name",{value:r,configurable:!0}),wH=(e,r)=>{for(var t in r)Fu(e,t,{get:r[t],enumerable:!0})},AH=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of CH(r))!xH.call(e,s)&&s!==t&&Fu(e,s,{get:()=>r[s],enumerable:!(n=_H(r,s))||n.enumerable});return e},PH=e=>AH(Fu({},"__esModule",{value:!0}),e),QA={};wH(QA,{addExpectContinueMiddleware:()=>GS,addExpectContinueMiddlewareOptions:()=>ZA,getAddExpectContinuePlugin:()=>TH});eP.exports=PH(QA);var vH=We();function GS(e){return r=>async t=>{let{request:n}=t;return vH.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),r({...t,request:n})}}VS(GS,"addExpectContinueMiddleware");var ZA={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},TH=VS(e=>({applyToStack:VS(r=>{r.add(GS(e),ZA)},"applyToStack")}),"getAddExpectContinuePlugin")});var zu,xa,rP=P(()=>{zu={warningEmitted:!1},xa=e=>{e&&!zu.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(zu.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Ys(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var nP=P(()=>{});function sP(e,r,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[r]=t}var oP=P(()=>{});function iP(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var aP=P(()=>{});var Js={};ln(Js,{emitWarningIfUnsupportedVersion:()=>xa,setCredentialFeature:()=>Ys,setFeature:()=>sP,setTokenFeature:()=>iP,state:()=>zu});var Nn=P(()=>{rP();nP();oP();aP()});var cP,KS,lP=P(()=>{cP=k(We()),KS=e=>cP.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var wa,WS=P(()=>{wa=e=>new Date(Date.now()+e)});var dP,uP=P(()=>{WS();dP=(e,r)=>Math.abs(wa(r).getTime()-e)>=3e5});var XS,mP=P(()=>{uP();XS=(e,r)=>{let t=Date.parse(e);return dP(t,r)?t-Date.now():r}});var YS=P(()=>{lP();WS();mP()});var fP,Il,Aa,Hr,JS,QS=P(()=>{fP=k(We());YS();Il=(e,r)=>{if(!r)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return r},Aa=async e=>{let r=Il("context",e.context),t=Il("config",e.config),n=r.endpointV2?.properties?.authSchemes?.[0],o=await Il("signer",t.signer)(n),a=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:t,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}},Hr=class{async sign(r,t,n){if(!fP.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Aa(n),{config:o,signer:a}=s,{signingRegion:c,signingName:l}=s,d=n.context;if(d?.authSchemes?.length??!1){let[g,y]=d.authSchemes;g?.name==="sigv4a"&&y?.name==="sigv4"&&(c=y?.signingRegion??c,l=y?.signingName??l)}return await a.sign(r,{signingDate:wa(o.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(r){return t=>{let n=t.ServerTime??KS(t.$response);if(n){let s=Il("config",r.config),o=s.systemClockOffset;s.systemClockOffset=XS(n,s.systemClockOffset),s.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(r,t){let n=KS(r);if(n){let s=Il("config",t.config);s.systemClockOffset=XS(n,s.systemClockOffset)}}},JS=Hr});var gP,kl,hP=P(()=>{gP=k(We());YS();QS();kl=class extends Hr{async sign(r,t,n){if(!gP.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}=await Aa(n),f=(await s.sigv4aSigningRegionSet?.()??c??[a]).join(",");return await o.sign(r,{signingDate:wa(s.systemClockOffset),signingRegion:f,signingService:l})}}});var ZS,pP=P(()=>{ZS=e=>typeof e=="string"&&e.length>0?e.split(",").map(r=>r.trim()):[]});var Uu,eE=P(()=>{Uu=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var yP,SP,Pa,EP=P(()=>{pP();eE();yP="AWS_AUTH_SCHEME_PREFERENCE",SP="auth_scheme_preference",Pa={environmentVariableSelector:(e,r)=>{if(r?.signingName&&Uu(r.signingName)in e)return["httpBearerAuth"];if(yP in e)return ZS(e[yP])},configFileSelector:e=>{if(SP in e)return ZS(e[SP])},default:[]}});var tE,RH,bP=P(()=>{tE=k(ys()),RH=e=>e[tE.SMITHY_CONTEXT_KEY]||(e[tE.SMITHY_CONTEXT_KEY]={})});var Er=B(rE=>{"use strict";var _P=ys(),IH=e=>e[_P.SMITHY_CONTEXT_KEY]||(e[_P.SMITHY_CONTEXT_KEY]={}),kH=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r};rE.getSmithyContext=IH;rE.normalizeProvider=kH});var CP,xP=P(()=>{CP=(e,r)=>{if(!r||r.length===0)return e;let t=[];for(let n of r)for(let s of e)s.schemeId.split("#")[1]===n&&t.push(s);for(let n of e)t.find(({schemeId:s})=>s===n.schemeId)||t.push(n);return t}});function OH(e){let r=new Map;for(let t of e)r.set(t.schemeId,t);return r}var wP,Ol,qu=P(()=>{wP=k(Er());xP();Ol=(e,r)=>(t,n)=>async s=>{let o=e.httpAuthSchemeProvider(await r.httpAuthSchemeParametersProvider(e,n,s.input)),a=e.authSchemePreference?await e.authSchemePreference():[],c=CP(o,a),l=OH(e.httpAuthSchemes),d=(0,wP.getSmithyContext)(n),f=[];for(let g of c){let y=l.get(g.schemeId);if(!y){f.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}let h=y.identityProvider(await r.identityProviderConfigProvider(e));if(!h){f.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:R={}}=g.propertiesExtractor?.(e,n)||{};g.identityProperties=Object.assign(g.identityProperties||{},_),g.signingProperties=Object.assign(g.signingProperties||{},R),d.selectedHttpAuthScheme={httpAuthOption:g,identity:await h(g.identityProperties),signer:y.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(f.join(`
`));return t(s)}});var AP,Nl,PP=P(()=>{qu();AP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Nl=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(Ol(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),AP)}})});var Qs=B(va=>{"use strict";var NH=We(),vP=(e,r)=>(t,n)=>async s=>{let{response:o}=await t(s);try{let a=await r(o,e);return{response:o,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:o}),!("$metadata"in a)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(NH.HttpResponse.isInstance(o)){let{headers:l={}}=o,d=Object.entries(l);a.$metadata={httpStatusCode:o.statusCode,requestId:nE(/^x-[\w-]+-request-?id$/,d),extendedRequestId:nE(/^x-[\w-]+-id-2$/,d),cfId:nE(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw a}},nE=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1],TP=(e,r)=>(t,n)=>async s=>{let o=e,a=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let c=await r(s.input,{...e,endpoint:a});return t({...s,request:c})},RP={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},IP={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function BH(e,r,t){return{applyToStack:n=>{n.add(vP(e,t),RP),n.add(TP(e,r),IP)}}}va.deserializerMiddleware=vP;va.deserializerMiddlewareOption=RP;va.getSerdePlugin=BH;va.serializerMiddleware=TP;va.serializerMiddlewareOption=IP});var kP,OP,DH,NP=P(()=>{kP=k(Qs());qu();OP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:kP.serializerMiddlewareOption.name},DH=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(Ol(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),OP)}})});var BP=P(()=>{qu();PP();NP()});var DP,MP,MH,LH,sE,oE=P(()=>{DP=k(We()),MP=k(Er()),MH=e=>r=>{throw r},LH=(e,r)=>{},sE=e=>(r,t)=>async n=>{if(!DP.HttpRequest.isInstance(n.request))return r(n);let o=(0,MP.getSmithyContext)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d=await r({...n,request:await l.sign(n.request,c,a)}).catch((l.errorHandler||MH)(a));return(l.successHandler||LH)(d.response,a),d}});var LP,Bl,FP=P(()=>{oE();LP={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Bl=e=>({applyToStack:r=>{r.addRelativeTo(sE(e),LP)}})});var zP=P(()=>{oE();FP()});var Zs,UP=P(()=>{Zs=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r}});function qP(e,r,t,n,s){return async function*(a,c,...l){let d=c,f=a.startingToken??d[t],g=!0,y;for(;g;){if(d[t]=f,s&&(d[s]=d[s]??a.pageSize),a.client instanceof e)y=await FH(r,a.client,c,a.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let h=f;f=zH(y,n),g=!!(f&&(!a.stopOnSameToken||f!==h))}return void 0}}var FH,zH,HP=P(()=>{FH=async(e,r,t,n=o=>o,...s)=>{let o=new e(t);return o=n(o)??o,await r.send(o,...s)};zH=(e,r)=>{let t=e,n=r.split(".");for(let s of n){if(!t||typeof t!="object")return;t=t[s]}return t}});var Hu=B(jP=>{"use strict";var UH=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";jP.isArrayBuffer=UH});var Ta=B(aE=>{"use strict";var qH=Hu(),iE=require("buffer"),HH=(e,r=0,t=e.byteLength-r)=>{if(!qH.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return iE.Buffer.from(e,r,t)},jH=(e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?iE.Buffer.from(e,r):iE.Buffer.from(e)};aE.fromArrayBuffer=HH;aE.fromString=jH});var $P=B(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.fromBase64=void 0;var $H=Ta(),VH=/^[A-Za-z0-9+/]*={0,2}$/,GH=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!VH.exec(e))throw new TypeError("Invalid base64 string.");let r=(0,$H.fromString)(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)};ju.fromBase64=GH});var Wt=B($u=>{"use strict";var VP=Ta(),GP=e=>{let r=VP.fromString(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},KH=e=>typeof e=="string"?GP(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),WH=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return VP.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};$u.fromUtf8=GP;$u.toUint8Array=KH;$u.toUtf8=WH});var KP=B(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.toBase64=void 0;var XH=Ta(),YH=Wt(),JH=e=>{let r;if(typeof e=="string"?r=(0,YH.fromUtf8)(e):r=e,typeof r!="object"||typeof r.byteOffset!="number"||typeof r.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,XH.fromArrayBuffer)(r.buffer,r.byteOffset,r.byteLength).toString("base64")};Vu.toBase64=JH});var fr=B(Dl=>{"use strict";var WP=$P(),XP=KP();Object.keys(WP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Dl,e)&&Object.defineProperty(Dl,e,{enumerable:!0,get:function(){return WP[e]}})});Object.keys(XP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Dl,e)&&Object.defineProperty(Dl,e,{enumerable:!0,get:function(){return XP[e]}})})});var lE=B(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.ChecksumStream=void 0;var QH=fr(),ZH=require("stream"),cE=class extends ZH.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:r,checksum:t,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??QH.toBase64,this.expectedChecksum=r,this.checksum=t,this.checksumSourceLocation=s,this.source.pipe(this)}_read(r){}_write(r,t,n){try{this.checksum.update(r),this.push(r)}catch(s){return n(s)}return n()}async _final(r){try{let t=await this.checksum.digest(),n=this.base64Encoder(t);if(this.expectedChecksum!==n)return r(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(t){return r(t)}return this.push(null),r()}};Gu.ChecksumStream=cE});var eo=B(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.isBlob=Ra.isReadableStream=void 0;var ej=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Ra.isReadableStream=ej;var tj=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Ra.isBlob=tj});var YP=B(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.ChecksumStream=void 0;var rj=typeof ReadableStream=="function"?ReadableStream:function(){},dE=class extends rj{};Ku.ChecksumStream=dE});var JP=B(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.createChecksumStream=void 0;var nj=fr(),sj=eo(),oj=YP(),ij=({expectedChecksum:e,checksum:r,source:t,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,sj.isReadableStream)(t))throw new Error(`@smithy/util-stream: unsupported source type ${t?.constructor?.name??t} in ChecksumStream.`);let o=s??nj.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let a=new TransformStream({start(){},async transform(l,d){r.update(l),d.enqueue(l)},async flush(l){let d=await r.digest(),f=o(d);if(e!==f){let g=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);l.error(g)}else l.terminate()}});t.pipeThrough(a);let c=a.readable;return Object.setPrototypeOf(c,oj.ChecksumStream.prototype),c};Wu.createChecksumStream=ij});var QP=B(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.createChecksumStream=dj;var aj=eo(),cj=lE(),lj=JP();function dj(e){return typeof ReadableStream=="function"&&(0,aj.isReadableStream)(e.source)?(0,lj.createChecksumStream)(e):new cj.ChecksumStream(e)}});var fE=B(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.ByteArrayCollector=void 0;var mE=class{allocByteArray;byteLength=0;byteArrays=[];constructor(r){this.allocByteArray=r}push(r){this.byteArrays.push(r),this.byteLength+=r.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let r=this.allocByteArray(this.byteLength),t=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];r.set(s,t),t+=s.byteLength}return this.reset(),r}reset(){this.byteArrays=[],this.byteLength=0}};Xu.ByteArrayCollector=mE});var rv=B(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.createBufferedReadable=void 0;Ss.createBufferedReadableStream=ZP;Ss.merge=ev;Ss.flush=Yu;Ss.sizeOf=Ia;Ss.modeOf=tv;var uj=fE();function ZP(e,r,t){let n=e.getReader(),s=!1,o=0,a=["",new uj.ByteArrayCollector(d=>new Uint8Array(d))],c=-1,l=async d=>{let{value:f,done:g}=await n.read(),y=f;if(g){if(c!==-1){let h=Yu(a,c);Ia(h)>0&&d.enqueue(h)}d.close()}else{let h=tv(y,!1);if(c!==h&&(c>=0&&d.enqueue(Yu(a,c)),c=h),c===-1){d.enqueue(y);return}let _=Ia(y);o+=_;let R=Ia(a[c]);if(_>=r&&R===0)d.enqueue(y);else{let I=ev(a,c,y);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${r}, automatically buffering.`)),I>=r?d.enqueue(Yu(a,c)):await l(d)}}};return new ReadableStream({pull:l})}Ss.createBufferedReadable=ZP;function ev(e,r,t){switch(r){case 0:return e[0]+=t,Ia(e[0]);case 1:case 2:return e[r].push(t),Ia(e[r])}}function Yu(e,r){switch(r){case 0:let t=e[0];return e[0]="",t;case 1:case 2:return e[r].flush()}throw new Error(`@smithy/util-stream - invalid index ${r} given to flush()`)}function Ia(e){return e?.byteLength??e?.length??0}function tv(e,r=!0){return r&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var sv=B(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.createBufferedReadable=gj;var mj=require("node:stream"),nv=fE(),Es=rv(),fj=eo();function gj(e,r,t){if((0,fj.isReadableStream)(e))return(0,Es.createBufferedReadableStream)(e,r,t);let n=new mj.Readable({read(){}}),s=!1,o=0,a=["",new nv.ByteArrayCollector(l=>new Uint8Array(l)),new nv.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let d=(0,Es.modeOf)(l,!0);if(c!==d&&(c>=0&&n.push((0,Es.flush)(a,c)),c=d),c===-1){n.push(l);return}let f=(0,Es.sizeOf)(l);o+=f;let g=(0,Es.sizeOf)(a[c]);if(f>=r&&g===0)n.push(l);else{let y=(0,Es.merge)(a,c,l);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${r}, automatically buffering.`)),y>=r&&n.push((0,Es.flush)(a,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,Es.flush)(a,c);(0,Es.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var ov=B(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.getAwsChunkedEncodingStream=void 0;var hj=require("stream"),pj=(e,r)=>{let{base64Encoder:t,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:a}=r,c=t!==void 0&&s!==void 0&&o!==void 0&&a!==void 0,l=c?a(s,e):void 0,d=new hj.Readable({read:()=>{}});return e.on("data",f=>{let g=n(f)||0;d.push(`${g.toString(16)}\r
`),d.push(f),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),c){let f=t(await l);d.push(`${o}:${f}\r
`),d.push(`\r
`)}d.push(null)}),d};Ju.getAwsChunkedEncodingStream=pj});var iv=B(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.headStream=yj;async function yj(e,r){let t=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await s.read();if(d&&(n.push(d),t+=d?.byteLength??0),t>=r)break;o=l}s.releaseLock();let a=new Uint8Array(Math.min(r,t)),c=0;for(let l of n){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var av=B(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.headStream=void 0;var Sj=require("stream"),Ej=iv(),bj=eo(),_j=(e,r)=>(0,bj.isReadableStream)(e)?(0,Ej.headStream)(e,r):new Promise((t,n)=>{let s=new pE;s.limit=r,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));t(o)})});Qu.headStream=_j;var pE=class extends Sj.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(r,t,n){if(this.buffers.push(r),this.bytesBuffered+=r.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var SE=B(yE=>{"use strict";var cv=e=>encodeURIComponent(e).replace(/[!'()*]/g,Cj),Cj=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,xj=e=>e.split("/").map(cv).join("/");yE.escapeUri=cv;yE.escapeUriPath=xj});var bE=B(lv=>{"use strict";var EE=SE();function wj(e){let r=[];for(let t of Object.keys(e).sort()){let n=e[t];if(t=EE.escapeUri(t),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)r.push(`${t}=${EE.escapeUri(n[s])}`);else{let s=t;(n||typeof n=="string")&&(s+=`=${EE.escapeUri(n)}`),r.push(s)}}return r.join("&")}lv.buildQueryString=wj});var Xo=B(Ml=>{"use strict";var fv=We(),gv=bE(),Zu=require("http"),em=require("https"),hv=require("stream"),_E=require("http2"),Aj=["ECONNRESET","EPIPE","ETIMEDOUT"],pv=e=>{let r={};for(let t of Object.keys(e)){let n=e[t];r[t]=Array.isArray(n)?n.join(","):n}return r},Or={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e)},dv=1e3,Pj=(e,r,t=0)=>{if(!t)return-1;let n=s=>{let o=Or.setTimeout(()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${t} ms.`),{name:"TimeoutError"}))},t-s),a=c=>{c?.connecting?c.on("connect",()=>{Or.clearTimeout(o)}):Or.clearTimeout(o)};e.socket?a(e.socket):e.on("socket",a)};return t<2e3?(n(0),0):Or.setTimeout(n.bind(null,dv),dv)},vj=(e,r,t=0,n,s)=>t?Or.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${t} ms requestTimeout.`;if(n){let a=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(a),r(a)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},t):-1,Tj=3e3,Rj=(e,{keepAlive:r,keepAliveMsecs:t},n=Tj)=>{if(r!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(r,t||0):e.on("socket",o=>{o.setKeepAlive(r,t||0)})};return n===0?(s(),0):Or.setTimeout(s,n)},uv=3e3,Ij=(e,r,t=0)=>{let n=s=>{let o=t-s,a=()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${t} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,a),e.on("close",()=>e.socket?.removeListener("timeout",a))):e.setTimeout(o,a)};return 0<t&&t<6e3?(n(0),0):Or.setTimeout(n.bind(null,t===0?0:uv),uv)},mv=6e3;async function yv(e,r,t=mv,n=!1){let s=r.headers??{},o=s.Expect||s.expect,a=-1,c=!0;!n&&o==="100-continue"&&(c=await Promise.race([new Promise(l=>{a=Number(Or.setTimeout(()=>l(!0),Math.max(mv,t)))}),new Promise(l=>{e.on("continue",()=>{Or.clearTimeout(a),l(!0)}),e.on("response",()=>{Or.clearTimeout(a),l(!1)}),e.on("error",()=>{Or.clearTimeout(a),l(!1)})})])),c&&kj(e,r.body)}function kj(e,r){if(r instanceof hv.Readable){r.pipe(e);return}if(r){if(Buffer.isBuffer(r)||typeof r=="string"){e.end(r);return}let t=r;if(typeof t=="object"&&t.buffer&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number"){e.end(Buffer.from(t.buffer,t.byteOffset,t.byteLength));return}e.end(Buffer.from(r));return}e.end()}var Oj=0,CE=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(r){return typeof r?.handle=="function"?r:new e(r)}static checkSocketUsage(r,t,n=console){let{sockets:s,requests:o,maxSockets:a}=r;if(typeof a!="number"||a===1/0||Date.now()-15e3<t)return t;if(s&&o)for(let l in s){let d=s[l]?.length??0,f=o[l]?.length??0;if(d>=a&&f>=2*a)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(this.resolveDefaultConfig(s))}).catch(n):t(this.resolveDefaultConfig(r))})}resolveDefaultConfig(r){let{requestTimeout:t,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:a,httpsAgent:c,throwOnRequestTimeout:l}=r||{},d=!0,f=50;return{connectionTimeout:n,requestTimeout:t,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:l,httpAgent:a instanceof Zu.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Zu.Agent({keepAlive:d,maxSockets:f,...a}),httpsAgent:c instanceof em.Agent||typeof c?.destroy=="function"?(this.externalAgent=!0,c):new em.Agent({keepAlive:d,maxSockets:f,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let a=this.config,c,l=[],d=async Ne=>{await c,l.forEach(Or.clearTimeout),s(Ne)},f=async Ne=>{await c,l.forEach(Or.clearTimeout),o(Ne)};if(t?.aborted){let Ne=new Error("Request aborted");Ne.name="AbortError",f(Ne);return}let g=r.protocol==="https:",y=r.headers??{},h=(y.Expect??y.expect)==="100-continue",_=g?a.httpsAgent:a.httpAgent;h&&!this.externalAgent&&(_=new(g?em.Agent:Zu.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(Or.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(_,this.socketWarningTimestamp,a.logger)},a.socketAcquisitionWarningTimeout??(a.requestTimeout??2e3)+(a.connectionTimeout??1e3)));let R=gv.buildQueryString(r.query||{}),I;if(r.username!=null||r.password!=null){let Ne=r.username??"",ze=r.password??"";I=`${Ne}:${ze}`}let N=r.path;R&&(N+=`?${R}`),r.fragment&&(N+=`#${r.fragment}`);let W=r.hostname??"";W[0]==="["&&W.endsWith("]")?W=r.hostname.slice(1,-1):W=r.hostname;let ce={headers:r.headers,host:W,method:r.method,path:N,port:r.port,agent:_,auth:I},_e=(g?em.request:Zu.request)(ce,Ne=>{let ze=new fv.HttpResponse({statusCode:Ne.statusCode||-1,reason:Ne.statusMessage,headers:pv(Ne.headers),body:Ne});d({response:ze})});if(_e.on("error",Ne=>{Aj.includes(Ne.code)?f(Object.assign(Ne,{name:"TimeoutError"})):f(Ne)}),t){let Ne=()=>{_e.destroy();let ze=new Error("Request aborted");ze.name="AbortError",f(ze)};if(typeof t.addEventListener=="function"){let ze=t;ze.addEventListener("abort",Ne,{once:!0}),_e.once("close",()=>ze.removeEventListener("abort",Ne))}else t.onabort=Ne}let Ke=n??a.requestTimeout;l.push(Pj(_e,f,a.connectionTimeout)),l.push(vj(_e,f,Ke,a.throwOnRequestTimeout,a.logger??console)),l.push(Ij(_e,f,a.socketTimeout));let wt=ce.agent;typeof wt=="object"&&"keepAlive"in wt&&l.push(Rj(_e,{keepAlive:wt.keepAlive,keepAliveMsecs:wt.keepAliveMsecs})),c=yv(_e,r,Ke,this.externalAgent).catch(Ne=>(l.forEach(Or.clearTimeout),o(Ne)))})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}},xE=class{sessions=[];constructor(r){this.sessions=r??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(r){this.sessions.push(r)}contains(r){return this.sessions.includes(r)}remove(r){this.sessions=this.sessions.filter(t=>t!==r)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(r){for(let t of this.sessions)t===r&&(t.destroyed||t.destroy())}},wE=class{constructor(r){if(this.config=r,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(r,t){let n=this.getUrlString(r),s=this.sessionCache.get(n);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let o=_E.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+r.destination.toString())}),o.unref();let a=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",a),o.on("error",a),o.on("frameError",a),o.on("close",()=>this.deleteSession(n,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,a);let c=this.sessionCache.get(n)||new xE;return c.offerLast(o),this.sessionCache.set(n,c),o}deleteSession(r,t){let n=this.sessionCache.get(r);n&&n.contains(t)&&(n.remove(t),this.sessionCache.set(r,n))}release(r,t){let n=this.getUrlString(r);this.sessionCache.get(n)?.offerLast(t)}destroy(){for(let[r,t]of this.sessionCache){for(let n of t)n.destroyed||n.destroy(),t.remove(n);this.sessionCache.delete(r)}}setMaxConcurrentStreams(r){if(r&&r<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=r}setDisableConcurrentStreams(r){this.config.disableConcurrency=r}getUrlString(r){return r.destination.toString()}},AE=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new wE({});static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(s||{})}).catch(n):t(r||{})})}destroy(){this.connectionManager.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,a=n??s;return new Promise((c,l)=>{let d=!1,f,g=async rt=>{await f,c(rt)},y=async rt=>{await f,l(rt)};if(t?.aborted){d=!0;let rt=new Error("Request aborted");rt.name="AbortError",y(rt);return}let{hostname:h,method:_,port:R,protocol:I,query:N}=r,W="";if(r.username!=null||r.password!=null){let rt=r.username??"",Lt=r.password??"";W=`${rt}:${Lt}@`}let ce=`${I}//${W}${h}${R?`:${R}`:""}`,me={destination:new URL(ce)},_e=this.connectionManager.lease(me,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),Ke=rt=>{o&&this.destroySession(_e),d=!0,y(rt)},wt=gv.buildQueryString(N||{}),Ne=r.path;wt&&(Ne+=`?${wt}`),r.fragment&&(Ne+=`#${r.fragment}`);let ze=_e.request({...r.headers,[_E.constants.HTTP2_HEADER_PATH]:Ne,[_E.constants.HTTP2_HEADER_METHOD]:_});if(_e.ref(),ze.on("response",rt=>{let Lt=new fv.HttpResponse({statusCode:rt[":status"]||-1,headers:pv(rt),body:ze});d=!0,g({response:Lt}),o&&(_e.close(),this.connectionManager.deleteSession(ce,_e))}),a&&ze.setTimeout(a,()=>{ze.close();let rt=new Error(`Stream timed out because of no activity for ${a} ms`);rt.name="TimeoutError",Ke(rt)}),t){let rt=()=>{ze.close();let Lt=new Error("Request aborted");Lt.name="AbortError",Ke(Lt)};if(typeof t.addEventListener=="function"){let Lt=t;Lt.addEventListener("abort",rt,{once:!0}),ze.once("close",()=>Lt.removeEventListener("abort",rt))}else t.onabort=rt}ze.on("frameError",(rt,Lt,Ca)=>{Ke(new Error(`Frame type id ${rt} in stream id ${Ca} has failed with code ${Lt}.`))}),ze.on("error",Ke),ze.on("aborted",()=>{Ke(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ze.rstCode}.`))}),ze.on("close",()=>{_e.unref(),o&&_e.destroy(),d||Ke(new Error("Unexpected error: http2 request did not get a response"))}),f=yv(ze,r,a)})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(r){r.destroyed||r.destroy()}},PE=class extends hv.Writable{bufferedBytes=[];_write(r,t,n){this.bufferedBytes.push(r),n()}},Nj=e=>Bj(e)?Dj(e):new Promise((r,t)=>{let n=new PE;e.pipe(n),e.on("error",s=>{n.end(),t(s)}),n.on("error",t),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));r(s)})}),Bj=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Dj(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),a=0;for(let c of r)o.set(c,a),a+=c.length;return o}Ml.DEFAULT_REQUEST_TIMEOUT=Oj;Ml.NodeHttp2Handler=AE;Ml.NodeHttpHandler=CE;Ml.streamCollector=Nj});var bv=B(rm=>{"use strict";var Sv=We(),Mj=bE(),Lj=fr();function Ev(e,r){return new Request(e,r)}function Fj(e=0){return new Promise((r,t)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",t(n)},e)})}var tm={supported:void 0},vE=class e{config;configProvider;static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){typeof r=="function"?this.configProvider=r().then(t=>t||{}):(this.config=r??{},this.configProvider=Promise.resolve(this.config)),tm.supported===void 0&&(tm.supported=typeof Request<"u"&&"keepalive"in Ev("https://[::1]"))}destroy(){}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,a=this.config.credentials;if(t?.aborted){let W=new Error("Request aborted");return W.name="AbortError",Promise.reject(W)}let c=r.path,l=Mj.buildQueryString(r.query||{});l&&(c+=`?${l}`),r.fragment&&(c+=`#${r.fragment}`);let d="";if(r.username!=null||r.password!=null){let W=r.username??"",ce=r.password??"";d=`${W}:${ce}@`}let{port:f,method:g}=r,y=`${r.protocol}//${d}${r.hostname}${f?`:${f}`:""}${c}`,h=g==="GET"||g==="HEAD"?void 0:r.body,_={body:h,headers:new Headers(r.headers),method:g,credentials:a};this.config?.cache&&(_.cache=this.config.cache),h&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=t),tm.supported&&(_.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(r));let R=()=>{},I=Ev(y,_),N=[fetch(I).then(W=>{let ce=W.headers,me={};for(let Ke of ce.entries())me[Ke[0]]=Ke[1];return W.body!=null?{response:new Sv.HttpResponse({headers:me,reason:W.statusText,statusCode:W.status,body:W.body})}:W.blob().then(Ke=>({response:new Sv.HttpResponse({headers:me,reason:W.statusText,statusCode:W.status,body:Ke})}))}),Fj(s)];return t&&N.push(new Promise((W,ce)=>{let me=()=>{let _e=new Error("Request aborted");_e.name="AbortError",ce(_e)};if(typeof t.addEventListener=="function"){let _e=t;_e.addEventListener("abort",me,{once:!0}),R=()=>_e.removeEventListener("abort",me)}else t.onabort=me})),Promise.race(N).finally(R)}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[r]=t,n))}httpHandlerConfigs(){return this.config??{}}},zj=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Uj(e):qj(e);async function Uj(e){let r=await Hj(e),t=Lj.fromBase64(r);return new Uint8Array(t)}async function qj(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),a=0;for(let c of r)o.set(c,a),a+=c.length;return o}function Hj(e){return new Promise((r,t)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return t(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),a=o>-1?o+1:s.length;r(s.substring(a))},n.onabort=()=>t(new Error("Read aborted")),n.onerror=()=>t(n.error),n.readAsDataURL(e)})}rm.FetchHttpHandler=vE;rm.keepAliveSupport=tm;rm.streamCollector=zj});var nm=B(RE=>{"use strict";var _v={},TE={};for(let e=0;e<256;e++){let r=e.toString(16).toLowerCase();r.length===1&&(r=`0${r}`),_v[e]=r,TE[r]=e}function jj(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let n=e.slice(t,t+2).toLowerCase();if(n in TE)r[t/2]=TE[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return r}function $j(e){let r="";for(let t=0;t<e.byteLength;t++)r+=_v[e[t]];return r}RE.fromHex=jj;RE.toHex=$j});var Av=B(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.sdkStreamMixin=void 0;var Vj=bv(),Gj=fr(),Kj=nm(),Wj=Wt(),Cv=eo(),xv="The stream has already been transformed.",Xj=e=>{if(!wv(e)&&!(0,Cv.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(xv);return r=!0,await(0,Vj.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async s=>{let o=await t();if(s==="base64")return(0,Gj.toBase64)(o);if(s==="hex")return(0,Kj.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,Wj.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw new Error(xv);if(r=!0,wv(e))return n(e);if((0,Cv.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};sm.sdkStreamMixin=Xj;var wv=e=>typeof Blob=="function"&&e instanceof Blob});var vv=B(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.sdkStreamMixin=void 0;var Yj=Xo(),Jj=Ta(),IE=require("stream"),Qj=Av(),Pv="The stream has already been transformed.",Zj=e=>{if(!(e instanceof IE.Readable))try{return(0,Qj.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(Pv);return r=!0,await(0,Yj.streamCollector)(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async n=>{let s=await t();return n===void 0||Buffer.isEncoding(n)?(0,Jj.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(r)throw new Error(Pv);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof IE.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return r=!0,IE.Readable.toWeb(e)}})};om.sdkStreamMixin=Zj});var Tv=B(kE=>{"use strict";Object.defineProperty(kE,"__esModule",{value:!0});kE.splitStream=e$;async function e$(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var kv=B(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});OE.splitStream=r$;var Rv=require("stream"),t$=Tv(),Iv=eo();async function r$(e){if((0,Iv.isReadableStream)(e)||(0,Iv.isBlob)(e))return(0,t$.splitStream)(e);let r=new Rv.PassThrough,t=new Rv.PassThrough;return e.pipe(r),e.pipe(t),[r,t]}});var Yo=B(rr=>{"use strict";var Ov=fr(),Nv=Wt(),Bv=lE(),Dv=QP(),Mv=sv(),Lv=ov(),Fv=av(),zv=vv(),Uv=kv(),qv=eo(),NE=class e extends Uint8Array{static fromString(r,t="utf-8"){if(typeof r=="string")return t==="base64"?e.mutate(Ov.fromBase64(r)):e.mutate(Nv.fromUtf8(r));throw new Error(`Unsupported conversion from ${typeof r} to Uint8ArrayBlobAdapter.`)}static mutate(r){return Object.setPrototypeOf(r,e.prototype),r}transformToString(r="utf-8"){return r==="base64"?Ov.toBase64(this):Nv.toUtf8(this)}};rr.Uint8ArrayBlobAdapter=NE;Object.keys(Bv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Bv[e]}})});Object.keys(Dv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Dv[e]}})});Object.keys(Mv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Mv[e]}})});Object.keys(Lv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Lv[e]}})});Object.keys(Fv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Fv[e]}})});Object.keys(zv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return zv[e]}})});Object.keys(Uv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return Uv[e]}})});Object.keys(qv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(rr,e)&&Object.defineProperty(rr,e,{enumerable:!0,get:function(){return qv[e]}})})});var im,Bn,am=P(()=>{im=k(Yo()),Bn=async(e=new Uint8Array,r)=>{if(e instanceof Uint8Array)return im.Uint8ArrayBlobAdapter.mutate(e);if(!e)return im.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let t=r.streamCollector(e);return im.Uint8ArrayBlobAdapter.mutate(await t)}});function Vn(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}var cm=P(()=>{});var Dn,BE=P(()=>{Dn=e=>typeof e=="function"?e():e});var Ll,lm=P(()=>{Ll=(e,r,t,n,s)=>({name:r,namespace:e,traits:t,input:n,output:s})});var Hv,jv,$v,DE,Vv=P(()=>{Hv=k(We()),jv=k(Er());lm();$v=e=>(r,t)=>async n=>{let{response:s}=await r(n),{operationSchema:o}=(0,jv.getSmithyContext)(t),[,a,c,l,d,f]=o??[];try{let g=await e.protocol.deserializeResponse(Ll(a,c,l,d,f),{...e,...t},s);return{response:s,output:g}}catch(g){if(Object.defineProperty(g,"$response",{value:s}),!("$metadata"in g)){let y="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{g.message+=`
  `+y}catch{!t.logger||t.logger?.constructor?.name==="NoOpLogger"?console.warn(y):t.logger?.warn?.(y)}typeof g.$responseBodyText<"u"&&g.$response&&(g.$response.body=g.$responseBodyText);try{if(Hv.HttpResponse.isInstance(s)){let{headers:h={}}=s,_=Object.entries(h);g.$metadata={httpStatusCode:s.statusCode,requestId:DE(/^x-[\w-]+-request-?id$/,_),extendedRequestId:DE(/^x-[\w-]+-id-2$/,_),cfId:DE(/^x-[\w-]+-cf-id$/,_)}}}catch{}}throw g}},DE=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1]});var Gv,Kv,Wv=P(()=>{Gv=k(Er());lm();Kv=e=>(r,t)=>async n=>{let{operationSchema:s}=(0,Gv.getSmithyContext)(t),[,o,a,c,l,d]=s??[],f=t.endpointV2?.url&&e.urlParser?async()=>e.urlParser(t.endpointV2.url):e.endpoint,g=await e.protocol.serializeRequest(Ll(o,a,c,l,d),n.input,{...e,...t,endpoint:f});return r({...n,request:g})}});function n$(e){return{applyToStack:r=>{r.add(Kv(e),Yv),r.add($v(e),Xv),e.protocol.setSerdeContext(e)}}}var Xv,Yv,Jv=P(()=>{Vv();Wv();Xv={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Yv={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ft,to=P(()=>{Ft=class{name;namespace;traits;static assign(r,t){return Object.assign(r,t)}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}getName(){return this.namespace+"#"+this.name}}});var dm,s$,Qv=P(()=>{to();dm=class e extends Ft{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},s$=(e,r,t,n)=>Ft.assign(new dm,{name:r,namespace:e,traits:t,valueSchema:n})});var um,o$,Zv=P(()=>{to();um=class e extends Ft{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},o$=(e,r,t,n,s)=>Ft.assign(new um,{name:r,namespace:e,traits:t,keySchema:n,valueSchema:s})});var mm,i$,eT=P(()=>{to();mm=class e extends Ft{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},i$=(e,r,t,n,s)=>Ft.assign(new mm,{name:r,namespace:e,traits:t,input:n,output:s})});var ka,a$,ME=P(()=>{to();ka=class e extends Ft{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},a$=(e,r,t,n,s)=>Ft.assign(new ka,{name:r,namespace:e,traits:t,memberNames:n,memberList:s})});var fm,c$,tT=P(()=>{to();ME();fm=class e extends ka{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},c$=(e,r,t,n,s,o)=>Ft.assign(new fm,{name:r,namespace:e,traits:t,memberNames:n,memberList:s,ctor:null})});function Gn(e){if(typeof e=="object")return e;e=e|0;let r={},t=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>t++&1)===1&&(r[n]=1);return r}var LE=P(()=>{});function Fl(e,r){if(e instanceof ie)return Object.assign(e,{memberName:r,_isMemberSchema:!0});let t=ie;return new t(e,r)}var ie,FE,rT,nT=P(()=>{BE();LE();ie=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(r,t){this.ref=r,this.memberName=t;let n=[],s=r,o=r;for(this._isMemberSchema=!1;FE(s);)n.push(s[1]),s=s[0],o=Dn(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let a=n.length-1;a>=0;--a){let c=n[a];Object.assign(this.memberTraits,Gn(c))}}else this.memberTraits=0;if(o instanceof e){let a=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},a,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??o.memberName;return}if(this.schema=Dn(o),rT(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!t)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}static of(r){let t=Dn(r);if(t instanceof e)return t;if(FE(t)){let[n,s]=t;if(n instanceof e)return Object.assign(n.getMergedTraits(),Gn(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(r,null,2)}.`)}return new e(t)}getSchema(){let r=this.schema;return r[0]===0?r[4]:r}getName(r=!1){let{name:t}=this;return!r&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let r=this.getSchema();return typeof r=="number"?r>=64&&r<128:r[0]===1}isMapSchema(){let r=this.getSchema();return typeof r=="number"?r>=128&&r<=255:r[0]===2}isStructSchema(){let r=this.getSchema();return r[0]===3||r[0]===-3}isBlobSchema(){let r=this.getSchema();return r===21||r===42}isTimestampSchema(){let r=this.getSchema();return typeof r=="number"&&r>=4&&r<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:r}=this.getMergedTraits();return!!r||this.getSchema()===42}isIdempotencyToken(){let r=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:t,traits:n,memberTraits:s}=this;return r(t)||r(n)||r(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Gn(this.memberTraits)}getOwnTraits(){return Gn(this.traits)}getKeySchema(){let[r,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!r&&!t)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=r?15:n[4]??0;return Fl([s,0],"key")}getValueSchema(){let r=this.getSchema(),[t,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof r=="number"?63&r:r&&typeof r=="object"&&(n||s)?r[3+r[0]]:t?15:void 0;if(o!=null)return Fl([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(r){let t=this.getSchema();if(this.isStructSchema()&&t[4].includes(r)){let n=t[4].indexOf(r),s=t[5][n];return Fl(FE(s)?s:[s,0],r)}if(this.isDocumentSchema())return Fl([15,0],r);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${r}.`)}getMemberSchemas(){let r={};try{for(let[t,n]of this.structIterator())r[t]=n}catch{}return r}getEventStreamMember(){if(this.isStructSchema()){for(let[r,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return r}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let r=this.getSchema();for(let t=0;t<r[4].length;++t)yield[r[4][t],Fl([r[5][t],0],r[4][t])]}};FE=e=>Array.isArray(e)&&e.length===2,rT=e=>Array.isArray(e)&&e.length>=5});var zl,l$,d$,sT=P(()=>{to();zl=class e extends Ft{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},l$=(e,r,t,n)=>Ft.assign(new zl,{name:r,namespace:e,traits:n,schemaRef:t}),d$=(e,r,t,n)=>Ft.assign(new zl,{name:r,namespace:e,traits:t,schemaRef:n})});var u$,oT=P(()=>{u$={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Xt,iT=P(()=>{Xt=class e{namespace;schemas;exceptions;static registries=new Map;constructor(r,t=new Map,n=new Map){this.namespace=r,this.schemas=t,this.exceptions=n}static for(r){return e.registries.has(r)||e.registries.set(r,new e(r)),e.registries.get(r)}register(r,t){let n=this.normalizeShapeId(r);e.for(n.split("#")[0]).schemas.set(n,t)}getSchema(r){let t=this.normalizeShapeId(r);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(r,t){let n=r,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,t)}getErrorCtor(r){let t=r;return e.for(t[1]).exceptions.get(t)}getBaseException(){for(let r of this.exceptions.keys())if(Array.isArray(r)){let[,t,n]=r,s=t+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return r}}find(r){return[...this.schemas.values()].find(r)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(r){return r.includes("#")?r:this.namespace+"#"+r}}});var aT={};ln(aT,{ErrorSchema:()=>fm,ListSchema:()=>dm,MapSchema:()=>um,NormalizedSchema:()=>ie,OperationSchema:()=>mm,SCHEMA:()=>u$,Schema:()=>Ft,SimpleSchema:()=>zl,StructureSchema:()=>ka,TypeRegistry:()=>Xt,deref:()=>Dn,deserializerMiddlewareOption:()=>Xv,error:()=>c$,getSchemaSerdePlugin:()=>n$,isStaticSchema:()=>rT,list:()=>s$,map:()=>o$,op:()=>i$,operation:()=>Ll,serializerMiddlewareOption:()=>Yv,sim:()=>l$,simAdapter:()=>d$,struct:()=>a$,translateTraits:()=>Gn});var Ot=P(()=>{BE();Jv();Qv();Zv();eT();lm();tT();nT();to();sT();ME();oT();LE();iT()});var m$,cT=P(()=>{m$=(e,r,t=n=>n)=>e});var f$,g$,Ul,h$,gm,ql,p$,zE,UE,qE,HE,y$,S$,lT,E$,b$,pm,_$,jE,C$,Oa,$E,x$,w$,A$,dT,uT,P$,v$,Jo,VE,hm,Hl,GE=P(()=>{f$=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},g$=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Hl.warn(hm(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let r=e.toLowerCase();if((r==="false"||r==="true")&&Hl.warn(hm(`Expected boolean, got ${typeof e}: ${e}`)),r==="false")return!1;if(r==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Ul=e=>{if(e!=null){if(typeof e=="string"){let r=parseFloat(e);if(!Number.isNaN(r))return String(r)!==String(e)&&Hl.warn(hm(`Expected number but observed string: ${e}`)),r}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},h$=Math.ceil(34028234663852886e22),gm=e=>{let r=Ul(e);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>h$)throw new TypeError(`Expected 32-bit float, got ${e}`);return r},ql=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},p$=ql,zE=e=>HE(e,32),UE=e=>HE(e,16),qE=e=>HE(e,8),HE=(e,r)=>{let t=ql(e);if(t!==void 0&&y$(t,r)!==t)throw new TypeError(`Expected ${r}-bit integer, got ${e}`);return t},y$=(e,r)=>{switch(r){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},S$=(e,r)=>{if(e==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return e},lT=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let r=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${r}: ${e}`)},E$=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Hl.warn(hm(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},b$=e=>{if(e==null)return;let r=lT(e),t=Object.entries(r).filter(([,n])=>n!=null).map(([n])=>n);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return r},pm=e=>Ul(typeof e=="string"?Oa(e):e),_$=pm,jE=e=>gm(typeof e=="string"?Oa(e):e),C$=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Oa=e=>{let r=e.match(C$);if(r===null||r[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},$E=e=>typeof e=="string"?dT(e):Ul(e),x$=$E,w$=$E,A$=e=>typeof e=="string"?dT(e):gm(e),dT=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},uT=e=>ql(typeof e=="string"?Oa(e):e),P$=uT,v$=e=>zE(typeof e=="string"?Oa(e):e),Jo=e=>UE(typeof e=="string"?Oa(e):e),VE=e=>qE(typeof e=="string"?Oa(e):e),hm=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),Hl={warn:console.warn}});function $l(e){let r=e.getUTCFullYear(),t=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`,g=c<10?`0${c}`:`${c}`;return`${T$[n]}, ${l} ${WE[t]} ${r} ${d}:${f}:${g} GMT`}var T$,WE,R$,I$,k$,XE,O$,N$,B$,YE,JE,jl,D$,M$,L$,KE,F$,z$,U$,Kn,q$,H$,Na,mT=P(()=>{GE();T$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],WE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];R$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),I$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=R$.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,a,c,l,d]=r,f=Jo(Na(n)),g=Kn(s,"month",1,12),y=Kn(o,"day",1,31);return jl(f,g,y,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})},k$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),XE=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=k$.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,a,c,l,d,f]=r,g=Jo(Na(n)),y=Kn(s,"month",1,12),h=Kn(o,"day",1,31),_=jl(g,y,h,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d});return f.toUpperCase()!="Z"&&_.setTime(_.getTime()-H$(f)),_},O$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),N$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),B$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),YE=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let r=O$.exec(e);if(r){let[t,n,s,o,a,c,l,d]=r;return jl(Jo(Na(o)),KE(s),Kn(n,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})}if(r=N$.exec(e),r){let[t,n,s,o,a,c,l,d]=r;return L$(jl(D$(o),KE(s),Kn(n,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d}))}if(r=B$.exec(e),r){let[t,n,s,o,a,c,l,d]=r;return jl(Jo(Na(d)),KE(n),Kn(s.trimLeft(),"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},JE=e=>{if(e==null)return;let r;if(typeof e=="number")r=e;else if(typeof e=="string")r=pm(e);else if(typeof e=="object"&&e.tag===1)r=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(r*1e3))},jl=(e,r,t,n)=>{let s=r-1;return z$(e,s,t),new Date(Date.UTC(e,s,t,Kn(n.hours,"hour",0,23),Kn(n.minutes,"minute",0,59),Kn(n.seconds,"seconds",0,60),q$(n.fractionalMilliseconds)))},D$=e=>{let r=new Date().getUTCFullYear(),t=Math.floor(r/100)*100+Jo(Na(e));return t<r?t+100:t},M$=50*365*24*60*60*1e3,L$=e=>e.getTime()-new Date().getTime()>M$?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,KE=e=>{let r=WE.indexOf(e);if(r<0)throw new TypeError(`Invalid month: ${e}`);return r+1},F$=[31,28,31,30,31,30,31,31,30,31,30,31],z$=(e,r,t)=>{let n=F$[r];if(r===1&&U$(e)&&(n=29),t>n)throw new TypeError(`Invalid day for ${WE[r]} in ${e}: ${t}`)},U$=e=>e%4===0&&(e%100!==0||e%400===0),Kn=(e,r,t,n)=>{let s=VE(Na(e));if(s<t||s>n)throw new TypeError(`${r} must be between ${t} and ${n}, inclusive`);return s},q$=e=>e==null?0:jE("0."+e)*1e3,H$=e=>{let r=e[0],t=1;if(r=="+")t=1;else if(r=="-")t=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(n*60+s)*60*1e3},Na=e=>{let r=0;for(;r<e.length-1&&e.charAt(r)==="0";)r++;return r===0?e:e.slice(r)}});var Wn={};ln(Wn,{__addDisposableResource:()=>LT,__assign:()=>ym,__asyncDelegator:()=>RT,__asyncGenerator:()=>TT,__asyncValues:()=>IT,__await:()=>Ba,__awaiter:()=>CT,__classPrivateFieldGet:()=>BT,__classPrivateFieldIn:()=>MT,__classPrivateFieldSet:()=>DT,__createBinding:()=>Em,__decorate:()=>hT,__disposeResources:()=>FT,__esDecorate:()=>yT,__exportStar:()=>wT,__extends:()=>fT,__generator:()=>xT,__importDefault:()=>NT,__importStar:()=>OT,__makeTemplateObject:()=>kT,__metadata:()=>_T,__param:()=>pT,__propKey:()=>ET,__read:()=>eb,__rest:()=>gT,__rewriteRelativeImportExtension:()=>zT,__runInitializers:()=>ST,__setFunctionName:()=>bT,__spread:()=>AT,__spreadArray:()=>vT,__spreadArrays:()=>PT,__values:()=>Sm,default:()=>V$});function fT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");QE(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function gT(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t}function hT(e,r,t,n){var s=arguments.length,o=s<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(s<3?a(o):s>3?a(r,t,o):a(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o}function pT(e,r){return function(t,n){r(t,n,e)}}function yT(e,r,t,n,s,o){function a(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?n.static?e:e.prototype:null,f=r||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),g,y=!1,h=t.length-1;h>=0;h--){var _={};for(var R in n)_[R]=R==="access"?{}:n[R];for(var R in n.access)_.access[R]=n.access[R];_.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(N||null))};var I=(0,t[h])(c==="accessor"?{get:f.get,set:f.set}:f[l],_);if(c==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(g=a(I.get))&&(f.get=g),(g=a(I.set))&&(f.set=g),(g=a(I.init))&&s.unshift(g)}else(g=a(I))&&(c==="field"?s.unshift(g):f[l]=g)}d&&Object.defineProperty(d,n.name,f),y=!0}function ST(e,r,t){for(var n=arguments.length>2,s=0;s<r.length;s++)t=n?r[s].call(e,t):r[s].call(e);return n?t:void 0}function ET(e){return typeof e=="symbol"?e:"".concat(e)}function bT(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function _T(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function CT(e,r,t,n){function s(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(f){try{d(n.next(f))}catch(g){a(g)}}function l(f){try{d(n.throw(f))}catch(g){a(g)}}function d(f){f.done?o(f.value):s(f.value).then(c,l)}d((n=n.apply(e,r||[])).next())})}function xT(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(f){return l([d,f])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(t=0)),t;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function wT(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Em(r,e,t)}function Sm(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function eb(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),s,o=[],a;try{for(;(r===void 0||r-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function AT(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(eb(arguments[r]));return e}function PT(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),s=0,r=0;r<t;r++)for(var o=arguments[r],a=0,c=o.length;a<c;a++,s++)n[s]=o[a];return n}function vT(e,r,t){if(t||arguments.length===2)for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function Ba(e){return this instanceof Ba?(this.v=e,this):new Ba(e)}function TT(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(h){return function(_){return Promise.resolve(_).then(h,g)}}function c(h,_){n[h]&&(s[h]=function(R){return new Promise(function(I,N){o.push([h,R,I,N])>1||l(h,R)})},_&&(s[h]=_(s[h])))}function l(h,_){try{d(n[h](_))}catch(R){y(o[0][3],R)}}function d(h){h.value instanceof Ba?Promise.resolve(h.value.v).then(f,g):y(o[0][2],h)}function f(h){l("next",h)}function g(h){l("throw",h)}function y(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function RT(e){var r,t;return r={},n("next"),n("throw",function(s){throw s}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(s,o){r[s]=e[s]?function(a){return(t=!t)?{value:Ba(e[s](a)),done:!1}:o?o(a):a}:o}}function IT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Sm=="function"?Sm(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(a){return new Promise(function(c,l){a=e[o](a),s(c,l,a.done,a.value)})}}function s(o,a,c,l){Promise.resolve(l).then(function(d){o({value:d,done:c})},a)}}function kT(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function OT(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t=ZE(e),n=0;n<t.length;n++)t[n]!=="default"&&Em(r,e,t[n]);return j$(r,e),r}function NT(e){return e&&e.__esModule?e:{default:e}}function BT(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)}function DT(e,r,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,t):s?s.value=t:r.set(e,t),t}function MT(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function LT(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var n,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=r[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=r[Symbol.dispose],t&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:n,async:t})}else t&&e.stack.push({async:!0});return r}function FT(e){function r(o){e.error=e.hasError?new $$(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,n=0;function s(){for(;t=e.stack.pop();)try{if(!t.async&&n===1)return n=0,e.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(o).then(s,function(a){return r(a),s()})}else n|=1}catch(a){r(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function zT(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,s,o,a){return n?r?".jsx":".js":s&&(!o||!a)?t:s+o+"."+a.toLowerCase()+"js"}):e}var QE,ym,Em,j$,ZE,$$,V$,Xn=P(()=>{QE=function(e,r){return QE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},QE(e,r)};ym=function(){return ym=Object.assign||function(r){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},ym.apply(this,arguments)};Em=Object.create?(function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]});j$=Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r},ZE=function(e){return ZE=Object.getOwnPropertyNames||function(r){var t=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[t.length]=n);return t},ZE(e)};$$=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var n=new Error(t);return n.name="SuppressedError",n.error=e,n.suppressed=r,n};V$={__extends:fT,__assign:ym,__rest:gT,__decorate:hT,__param:pT,__esDecorate:yT,__runInitializers:ST,__propKey:ET,__setFunctionName:bT,__metadata:_T,__awaiter:CT,__generator:xT,__createBinding:Em,__exportStar:wT,__values:Sm,__read:eb,__spread:AT,__spreadArrays:PT,__spreadArray:vT,__await:Ba,__asyncGenerator:TT,__asyncDelegator:RT,__asyncValues:IT,__makeTemplateObject:kT,__importStar:OT,__importDefault:NT,__classPrivateFieldGet:BT,__classPrivateFieldSet:DT,__classPrivateFieldIn:MT,__addDisposableResource:LT,__disposeResources:FT,__rewriteRelativeImportExtension:zT}});var qT=B(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.randomUUID=void 0;var G$=(Xn(),Re(Wn)),UT=G$.__importDefault(require("crypto"));bm.randomUUID=UT.default.randomUUID.bind(UT.default)});var _m=B(jT=>{"use strict";var HT=qT(),br=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0")),K$=()=>{if(HT.randomUUID)return HT.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,br[e[0]]+br[e[1]]+br[e[2]]+br[e[3]]+"-"+br[e[4]]+br[e[5]]+"-"+br[e[6]]+br[e[7]]+"-"+br[e[8]]+br[e[9]]+"-"+br[e[10]]+br[e[11]]+br[e[12]]+br[e[13]]+br[e[14]]+br[e[15]]};jT.v4=K$});var Yn,$T=P(()=>{Yn=k(_m())});var Nr,VT=P(()=>{Nr=function(r){return Object.assign(new String(r),{deserializeJSON(){return JSON.parse(String(r))},toString(){return String(r)},toJSON(){return String(r)}})};Nr.from=e=>e&&typeof e=="object"&&(e instanceof Nr||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Nr(String(e)):Nr(JSON.stringify(e));Nr.fromObject=Nr.from});function tb(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var GT=P(()=>{});function bs(e,r,t){let n=Number(e);if(n<r||n>t)throw new Error(`Value ${n} out of range [${r}, ${t}]`)}var rb,nb,sb,KT,WT,W$,X$,Y$,J$,Q$,Vl,ob,ib,XT=P(()=>{rb="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",nb="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",sb="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",KT="(\\d?\\d)",WT="(\\d{4})",W$=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),X$=new RegExp(`^${rb}, ${KT} ${nb} ${WT} ${sb} GMT$`),Y$=new RegExp(`^${rb}, ${KT}-${nb}-(\\d\\d) ${sb} GMT$`),J$=new RegExp(`^${rb} ${nb} ( [1-9]|\\d\\d) ${sb} ${WT}$`),Q$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Vl=e=>{if(e==null)return;let r=NaN;if(typeof e=="number")r=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");r=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(r=e.value);if(isNaN(r)||Math.abs(r)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(r*1e3))},ob=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let r=W$.exec(e);if(!r)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,t,n,s,o,a,c,,l,d]=r;bs(n,1,12),bs(s,1,31),bs(o,0,23),bs(a,0,59),bs(c,0,60);let f=new Date(Date.UTC(Number(t),Number(n)-1,Number(s),Number(o),Number(a),Number(c),Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0));if(f.setUTCFullYear(Number(t)),d.toUpperCase()!="Z"){let[,g,y,h]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],_=g==="-"?1:-1;f.setTime(f.getTime()+_*(Number(y)*60*60*1e3+Number(h)*60*1e3))}return f},ib=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let r,t,n,s,o,a,c,l;if((l=X$.exec(e))?[,r,t,n,s,o,a,c]=l:(l=Y$.exec(e))?([,r,t,n,s,o,a,c]=l,n=(Number(n)+1900).toString()):(l=J$.exec(e))&&([,t,r,s,o,a,c,n]=l),n&&a){let d=Date.UTC(Number(n),Q$.indexOf(t),Number(r),Number(s),Number(o),Number(a),c?Math.round(parseFloat(`0.${c}`)*1e3):0);bs(r,1,31),bs(s,0,23),bs(o,0,59),bs(a,0,60);let f=new Date(d);return f.setUTCFullYear(Number(n)),f}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function ab(e,r,t){if(t<=0||!Number.isInteger(t))throw new Error("Invalid number of delimiters ("+t+") for splitEvery.");let n=e.split(r);if(t===1)return n;let s=[],o="";for(let a=0;a<n.length;a++)o===""?o=n[a]:o+=r+n[a],(a+1)%t===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var YT=P(()=>{});var Gl,JT=P(()=>{Gl=e=>{let r=e.length,t=[],n=!1,s,o=0;for(let a=0;a<r;++a){let c=e[a];switch(c){case'"':s!=="\\"&&(n=!n);break;case",":n||(t.push(e.slice(o,a)),o=a+1);break;default:}s=c}return t.push(e.slice(o)),t.map(a=>{a=a.trim();let c=a.length;return c<2?a:(a[0]==='"'&&a[c-1]==='"'&&(a=a.slice(1,c-1)),a.replace(/\\"/g,'"'))})}});function cb(e){return new At(String(e),"bigDecimal")}var QT,At,ZT=P(()=>{QT=/^-?\d*(\.\d+)?$/,At=class e{string;type;constructor(r,t){if(this.string=r,this.type=t,!QT.test(r))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](r){if(!r||typeof r!="object")return!1;let t=r;return e.prototype.isPrototypeOf(r)||t.type==="bigDecimal"&&QT.test(t.string)}}});var eR={};ln(eR,{LazyJsonString:()=>Nr,NumericValue:()=>At,_parseEpochTimestamp:()=>Vl,_parseRfc3339DateTimeWithOffset:()=>ob,_parseRfc7231DateTime:()=>ib,copyDocumentWithTransform:()=>m$,dateToUtcString:()=>$l,expectBoolean:()=>g$,expectByte:()=>qE,expectFloat32:()=>gm,expectInt:()=>p$,expectInt32:()=>zE,expectLong:()=>ql,expectNonNull:()=>S$,expectNumber:()=>Ul,expectObject:()=>lT,expectShort:()=>UE,expectString:()=>E$,expectUnion:()=>b$,generateIdempotencyToken:()=>Yn.v4,handleFloat:()=>x$,limitedParseDouble:()=>$E,limitedParseFloat:()=>w$,limitedParseFloat32:()=>A$,logger:()=>Hl,nv:()=>cb,parseBoolean:()=>f$,parseEpochTimestamp:()=>JE,parseRfc3339DateTime:()=>I$,parseRfc3339DateTimeWithOffset:()=>XE,parseRfc7231DateTime:()=>YE,quoteHeader:()=>tb,splitEvery:()=>ab,splitHeader:()=>Gl,strictParseByte:()=>VE,strictParseDouble:()=>pm,strictParseFloat:()=>_$,strictParseFloat32:()=>jE,strictParseInt:()=>P$,strictParseInt32:()=>v$,strictParseLong:()=>uT,strictParseShort:()=>Jo});var jr=P(()=>{cT();mT();$T();VT();GE();GT();XT();YT();JT();ZT()});var Br,Da=P(()=>{Br=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});var tR,lb,rR=P(()=>{tR=k(Wt()),lb=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:r,serializer:t,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=r,this.serializer=t,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){let s=this.marshaller,o=t.getEventStreamMember(),a=t.getMemberSchema(o),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(n){let g={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(t,n);let y=c.flush();yield{[d]:!0,headers:g,body:y}}for await(let g of r)yield g}};return s.serialize(f,g=>{if(g[d])return{headers:g.headers,body:g.body};let y=Object.keys(g).find(W=>W!=="__type")??"",{additionalHeaders:h,body:_,eventType:R,explicitPayloadContentType:I}=this.writeEventBody(y,a,g);return{headers:{":event-type":{type:"string",value:R},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:I??l},...h},body:_}})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){let s=this.marshaller,o=t.getEventStreamMember(),c=t.getMemberSchema(o).getMemberSchemas(),l=Symbol("initialResponseMarker"),d=s.deserialize(r.body,async y=>{let h=Object.keys(y).find(_=>_!=="__type")??"";if(h==="initial-response"){let _=await this.deserializer.read(t,y[h].body);return delete _[o],{[l]:!0,..._}}else if(h in c){let _=c[h];return{[h]:await this.deserializer.read(_,y[h].body)}}else return{$unknown:y}}),f=d[Symbol.asyncIterator](),g=await f.next();if(g.done)return d;if(g.value?.[l]){if(!t)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,h]of Object.entries(g.value))n[y]=h}return{async*[Symbol.asyncIterator](){for(g?.value?.[l]||(yield g.value);;){let{done:y,value:h}=await f.next();if(y)break;yield h}}}}writeEventBody(r,t,n){let s=this.serializer,o=r,a=null,c,l=t.getSchema()[4].includes(r),d={};if(l){let y=t.getMemberSchema(r);if(y.isStructSchema()){for(let[h,_]of y.structIterator()){let{eventHeader:R,eventPayload:I}=_.getMergedTraits();if(I){a=h;break}else if(R){let N=n[r][h],W="binary";_.isNumericSchema()?(-2)**31<=N&&N<=2**31-1?W="integer":W="long":_.isTimestampSchema()?W="timestamp":_.isStringSchema()?W="string":_.isBooleanSchema()&&(W="boolean"),N!=null&&(d[h]={type:W,value:N},delete n[r][h])}}if(a!==null){let h=y.getMemberSchema(a);h.isBlobSchema()?c="application/octet-stream":h.isStringSchema()&&(c="text/plain"),s.write(h,n[r][a])}else s.write(y,n[r])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,h]=n[r];o=y,s.write(15,h)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??tR.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:c,additionalHeaders:d}}}});var nR={};ln(nR,{EventStreamSerde:()=>lb});var sR=P(()=>{rR()});var Cm,Qo,xm=P(()=>{Ot();Cm=k(We());Da();Qo=class extends Br{options;constructor(r){super(),this.options=r}getRequestType(){return Cm.HttpRequest}getResponseType(){return Cm.HttpResponse}setSerdeContext(r){this.serdeContext=r,this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(r)}updateServiceEndpoint(r,t){if("url"in t){r.protocol=t.url.protocol,r.hostname=t.url.hostname,r.port=t.url.port?Number(t.url.port):void 0,r.path=t.url.pathname,r.fragment=t.url.hash||void 0,r.username=t.url.username||void 0,r.password=t.url.password||void 0,r.query||(r.query={});for(let[n,s]of t.url.searchParams.entries())r.query[n]=s;return r}else return r.protocol=t.protocol,r.hostname=t.hostname,r.port=t.port?Number(t.port):void 0,r.path=t.path,r.query={...t.query},r}setHostPrefix(r,t,n){let s=ie.of(t.input),o=Gn(t.traits??{});if(o.endpoint){let a=o.endpoint?.[0];if(typeof a=="string"){let c=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let d=n[l];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);a=a.replace(`{${l}}`,d)}r.hostname=a+r.hostname}}}deserializeMetadata(r){return{httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:r}=await Promise.resolve().then(()=>(sR(),nR));return new r({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(r,t,n,s,o){return[]}getEventStreamMarshaller(){let r=this.serdeContext;if(!r.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return r.eventStreamMarshaller}}});var oR,iR,Zo,aR=P(()=>{Ot();jr();oR=k(We()),iR=k(Yo());am();cm();xm();Zo=class extends Qo{async serializeRequest(r,t,n){let s={...t??{}},o=this.serializer,a={},c={},l=await n.endpoint(),d=ie.of(r?.input),f=d.getSchema(),g=!1,y,h=new oR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:a,headers:c,body:void 0});if(l){this.updateServiceEndpoint(h,l),this.setHostPrefix(h,r,s);let _=Gn(r.traits);if(_.http){h.method=_.http[0];let[R,I]=_.http[1].split("?");h.path=="/"?h.path=R:h.path+=R;let N=new URLSearchParams(I??"");Object.assign(a,Object.fromEntries(N))}}for(let[_,R]of d.structIterator()){let I=R.getMergedTraits()??{},N=s[_];if(N!=null)if(I.httpPayload)R.isStreaming()?R.isStructSchema()?s[_]&&(y=await this.serializeEventStream({eventStream:s[_],requestSchema:d})):y=N:(o.write(R,N),y=o.flush()),delete s[_];else if(I.httpLabel){o.write(R,N);let W=o.flush();h.path.includes(`{${_}+}`)?h.path=h.path.replace(`{${_}+}`,W.split("/").map(Vn).join("/")):h.path.includes(`{${_}}`)&&(h.path=h.path.replace(`{${_}}`,Vn(W))),delete s[_]}else if(I.httpHeader)o.write(R,N),c[I.httpHeader.toLowerCase()]=String(o.flush()),delete s[_];else if(typeof I.httpPrefixHeaders=="string"){for(let[W,ce]of Object.entries(N)){let me=I.httpPrefixHeaders+W;o.write([R.getValueSchema(),{httpHeader:me}],ce),c[me.toLowerCase()]=o.flush()}delete s[_]}else I.httpQuery||I.httpQueryParams?(this.serializeQuery(R,N,a),delete s[_]):g=!0}return g&&s&&(o.write(f,s),y=o.flush()),h.headers=c,h.query=a,h.body=y,h}serializeQuery(r,t,n){let s=this.serializer,o=r.getMergedTraits();if(o.httpQueryParams){for(let[a,c]of Object.entries(t))if(!(a in n)){let l=r.getValueSchema();Object.assign(l.getMergedTraits(),{...o,httpQuery:a,httpQueryParams:void 0}),this.serializeQuery(l,c,n)}return}if(r.isListSchema()){let a=!!r.getMergedTraits().sparse,c=[];for(let l of t){s.write([r.getValueSchema(),o],l);let d=s.flush();(a||d!==void 0)&&c.push(d)}n[o.httpQuery]=c}else s.write([r,o],t),n[o.httpQuery]=s.flush()}async deserializeResponse(r,t,n){let s=this.deserializer,o=ie.of(r.output),a={};if(n.statusCode>=300){let l=await Bn(n.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(r,t,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=await this.deserializeHttpMessage(o,t,n,a);if(c.length){let l=await Bn(n.body,t);if(l.byteLength>0){let d=await s.read(o,l);for(let f of c)a[f]=d[f]}}return a.$metadata=this.deserializeMetadata(n),a}async deserializeHttpMessage(r,t,n,s,o){let a;s instanceof Set?a=o:a=s;let c=this.deserializer,l=ie.of(r),d=[];for(let[f,g]of l.structIterator()){let y=g.getMemberTraits();if(y.httpPayload){if(g.isStreaming())g.isStructSchema()?a[f]=await this.deserializeEventStream({response:n,responseSchema:l}):a[f]=(0,iR.sdkStreamMixin)(n.body);else if(n.body){let _=await Bn(n.body,t);_.byteLength>0&&(a[f]=await c.read(g,_))}}else if(y.httpHeader){let h=String(y.httpHeader).toLowerCase(),_=n.headers[h];if(_!=null)if(g.isListSchema()){let R=g.getValueSchema();R.getMergedTraits().httpHeader=h;let I;R.isTimestampSchema()&&R.getSchema()===4?I=ab(_,",",2):I=Gl(_);let N=[];for(let W of I)N.push(await c.read(R,W.trim()));a[f]=N}else a[f]=await c.read(g,_)}else if(y.httpPrefixHeaders!==void 0){a[f]={};for(let[h,_]of Object.entries(n.headers))if(h.startsWith(y.httpPrefixHeaders)){let R=g.getValueSchema();R.getMergedTraits().httpHeader=h,a[f][h.slice(y.httpPrefixHeaders.length)]=await c.read(R,_)}}else y.httpResponseCode?a[f]=n.statusCode:d.push(f)}return d}}});var cR,_s,lR=P(()=>{Ot();cR=k(We());am();xm();_s=class extends Qo{async serializeRequest(r,t,n){let s=this.serializer,o={},a={},c=await n.endpoint(),l=ie.of(r?.input),d=l.getSchema(),f,g=new cR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:a,body:void 0});c&&(this.updateServiceEndpoint(g,c),this.setHostPrefix(g,r,t));let y={...t};if(t){let h=l.getEventStreamMember();if(h){if(y[h]){let _={};for(let[R,I]of l.structIterator())R!==h&&y[R]&&(s.write(I,y[R]),_[R]=s.flush());f=await this.serializeEventStream({eventStream:y[h],requestSchema:l,initialRequest:_})}}else s.write(d,y),f=s.flush()}return g.headers=a,g.query=o,g.body=f,g.method="POST",g}async deserializeResponse(r,t,n){let s=this.deserializer,o=ie.of(r.output),a={};if(n.statusCode>=300){let l=await Bn(n.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(r,t,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=o.getEventStreamMember();if(c)a[c]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:a});else{let l=await Bn(n.body,t);l.byteLength>0&&Object.assign(a,await s.read(o,l))}return a.$metadata=this.deserializeMetadata(n),a}}});var db,ub=P(()=>{cm();db=(e,r,t,n,s,o)=>{if(r!=null&&r[t]!==void 0){let a=n();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?a.split("/").map(c=>Vn(c)).join("/"):Vn(a))}else throw new Error("No value provided for input HTTP label: "+t+".");return e}});function Kl(e,r){return new wm(e,r)}var dR,wm,uR=P(()=>{dR=k(We());ub();wm=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(r,t){this.input=r,this.context=t}async build(){let{hostname:r,protocol:t="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new dR.HttpRequest({protocol:t,hostname:this.hostname||r,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(r){return this.hostname=r,this}bp(r){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+r}),this}p(r,t,n,s){return this.resolvePathStack.push(o=>{this.path=db(o,this.input,r,t,n,s)}),this}h(r){return this.headers=r,this}q(r){return this.query=r,this}b(r){return this.body=r,this}m(r){return this.method=r,this}}});function Zr(e,r){if(r.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:t,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(r.httpBindings?typeof n=="string"||s?6:o||t?5:void 0:void 0)??r.timestampFormat.default}var Am=P(()=>{});var mb,mR,ei,fb=P(()=>{Ot();jr();mb=k(fr()),mR=k(Wt());Da();Am();ei=class extends Br{settings;constructor(r){super(),this.settings=r}read(r,t){let n=ie.of(r);if(n.isListSchema())return Gl(t).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??mb.fromBase64)(t);if(n.isTimestampSchema())switch(Zr(n,this.settings)){case 5:return ob(t);case 6:return ib(t);case 7:return Vl(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=t;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=Nr.from(o)),o}return n.isNumericSchema()?Number(t):n.isBigIntegerSchema()?BigInt(t):n.isBigDecimalSchema()?new At(t,"bigDecimal"):n.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(r){return(this.serdeContext?.utf8Encoder??mR.toUtf8)((this.serdeContext?.base64Decoder??mb.fromBase64)(r))}}});var Pm,ti,fR=P(()=>{Ot();Pm=k(Wt());Da();fb();ti=class extends Br{codecDeserializer;stringDeserializer;constructor(r,t){super(),this.codecDeserializer=r,this.stringDeserializer=new ei(t)}setSerdeContext(r){this.stringDeserializer.setSerdeContext(r),this.codecDeserializer.setSerdeContext(r),this.serdeContext=r}read(r,t){let n=ie.of(r),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Pm.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(t));if(s.httpPayload){if(n.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??Pm.fromUtf8;return typeof t=="string"?a(t):t}else if(n.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(n,t)}}});var gb,Wl,hb=P(()=>{Ot();jr();gb=k(fr());Da();Am();Wl=class extends Br{settings;stringBuffer="";constructor(r){super(),this.settings=r}write(r,t){let n=ie.of(r);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${n.getName(!0)}`);switch(Zr(n,this.settings)){case 5:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=$l(t);break;case 7:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??gb.toBase64)(t);return}if(n.isListSchema()&&Array.isArray(t)){let a="";for(let c of t){this.write([n.getValueSchema(),n.getMergedTraits()],c);let l=this.flush(),d=n.getValueSchema().isTimestampSchema()?l:tb(l);a!==""&&(a+=", "),a+=d}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=t;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=Nr.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??gb.toBase64)(o.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let r=this.stringBuffer;return this.stringBuffer="",r}}});var ri,gR=P(()=>{Ot();hb();ri=class{codecSerializer;stringSerializer;buffer;constructor(r,t,n=new Wl(t)){this.codecSerializer=r,this.stringSerializer=n}setSerdeContext(r){this.codecSerializer.setSerdeContext(r),this.stringSerializer.setSerdeContext(r)}write(r,t){let n=ie.of(r),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,t)}flush(){if(this.buffer!==void 0){let r=this.buffer;return this.buffer=void 0,r}return this.codecSerializer.flush()}}});var hR={};ln(hR,{FromStringShapeDeserializer:()=>ei,HttpBindingProtocol:()=>Zo,HttpInterceptingShapeDeserializer:()=>ti,HttpInterceptingShapeSerializer:()=>ri,HttpProtocol:()=>Qo,RequestBuilder:()=>wm,RpcProtocol:()=>_s,SerdeContext:()=>Br,ToStringShapeSerializer:()=>Wl,collectBody:()=>Bn,determineTimestampFormat:()=>Zr,extendedEncodeURIComponent:()=>Vn,requestBuilder:()=>Kl,resolvedPath:()=>db});var $r=P(()=>{am();cm();aR();xm();lR();uR();ub();fb();fR();gR();hb();Am();Da()});var pR=P(()=>{$r()});function Z$(e,r,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[r]=t}var yR=P(()=>{});var ni,SR=P(()=>{ni=class{authSchemes=new Map;constructor(r){for(let[t,n]of Object.entries(r))n!==void 0&&this.authSchemes.set(t,n)}getIdentityProvider(r){return this.authSchemes.get(r)}}});var ER,pb,yb,bR=P(()=>{ER=k(We()),pb=k(ys()),yb=class{async sign(r,t,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=ER.HttpRequest.clone(r);if(n.in===pb.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=t.apiKey;else if(n.in===pb.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${t.apiKey}`:t.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var _R,Sb,CR=P(()=>{_R=k(We()),Sb=class{async sign(r,t,n){let s=_R.HttpRequest.clone(r);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${t.token}`,s}}});var Cs,xR=P(()=>{Cs=class{async sign(r,t,n){return r}}});var wR=P(()=>{bR();CR();xR()});var AR,eV,Eb,vm,bb,PR=P(()=>{AR=e=>function(t){return vm(t)&&t.expiration.getTime()-Date.now()<e},eV=3e5,Eb=AR(3e5),vm=e=>e.expiration!==void 0,bb=(e,r,t)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,a,c=!1,l=async d=>{o||(o=n(d));try{s=await o,a=!0,c=!1}finally{o=void 0}return s};return r===void 0?async d=>((!a||d?.forceRefresh)&&(s=await l(d)),s):async d=>((!a||d?.forceRefresh)&&(s=await l(d)),c?s:t(s)?(r(s)&&await l(d),s):(c=!0,s))}});var vR=P(()=>{SR();wR();PR()});var si={};ln(si,{DefaultIdentityProviderConfig:()=>ni,EXPIRATION_MS:()=>eV,HttpApiKeyAuthSigner:()=>yb,HttpBearerAuthSigner:()=>Sb,NoAuthSigner:()=>Cs,createIsIdentityExpiredFunction:()=>AR,createPaginator:()=>qP,doesIdentityRequireRefresh:()=>vm,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Nl,getHttpAuthSchemePlugin:()=>DH,getHttpSigningPlugin:()=>Bl,getSmithyContext:()=>RH,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>AP,httpAuthSchemeMiddleware:()=>Ol,httpAuthSchemeMiddlewareOptions:()=>OP,httpSigningMiddleware:()=>sE,httpSigningMiddlewareOptions:()=>LP,isIdentityExpired:()=>Eb,memoizeIdentityProvider:()=>bb,normalizeProvider:()=>Zs,requestBuilder:()=>Kl,setFeature:()=>Z$});var Dr=P(()=>{bP();BP();zP();UP();HP();pR();yR();vR()});var Mr=B(oi=>{"use strict";var Ma=class e extends Error{name="ProviderError";tryNextLink;constructor(r,t=!0){let n,s=!0;typeof t=="boolean"?(n=void 0,s=t):t!=null&&typeof t=="object"&&(n=t.logger,s=t.tryNextLink??!0),super(r),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${r}`)}static from(r,t=!0){return Object.assign(new this(r.message,t),r)}},_b=class e extends Ma{name="CredentialsProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},Cb=class e extends Ma{name="TokenProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},tV=(...e)=>async()=>{if(e.length===0)throw new Ma("No providers in chain");let r;for(let t of e)try{return await t()}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r},rV=e=>()=>Promise.resolve(e),nV=(e,r,t)=>{let n,s,o,a=!1,c=async()=>{s||(s=e());try{n=await s,o=!0,a=!1}finally{s=void 0}return n};return r===void 0?async l=>((!o||l?.forceRefresh)&&(n=await c()),n):async l=>((!o||l?.forceRefresh)&&(n=await c()),a?n:t&&!t(n)?(a=!0,n):(r(n)&&await c(),n))};oi.CredentialsProviderError=_b;oi.ProviderError=Ma;oi.TokenProviderError=Cb;oi.chain=tV;oi.fromStatic=rV;oi.memoize=nV});var xb,TR,RR,IR=P(()=>{Dr();xb=k(Mr()),TR=e=>(e.sigv4aSigningRegionSet=Zs(e.sigv4aSigningRegionSet),e),RR={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(r=>r.trim());throw new xb.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(r=>r.trim());throw new xb.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Dm=B(Pe=>{"use strict";var ro=nm(),ii=Wt(),sV=Hu(),BR=We(),kR=Er(),Tm=SE(),DR="X-Amz-Algorithm",MR="X-Amz-Credential",Rb="X-Amz-Date",LR="X-Amz-SignedHeaders",FR="X-Amz-Expires",Ib="X-Amz-Signature",kb="X-Amz-Security-Token",oV="X-Amz-Region-Set",Ob="authorization",Nb=Rb.toLowerCase(),zR="date",UR=[Ob,Nb,zR],qR=Ib.toLowerCase(),Nm="x-amz-content-sha256",HR=kb.toLowerCase(),iV="host",jR={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},$R=/^proxy-/,VR=/^sec-/,aV=[/^proxy-/i,/^sec-/i],Rm="AWS4-HMAC-SHA256",cV="AWS4-ECDSA-P256-SHA256",GR="AWS4-HMAC-SHA256-PAYLOAD",KR="UNSIGNED-PAYLOAD",WR=50,Bb="aws4_request",XR=3600*24*7,La={},Im=[],km=(e,r,t)=>`${e}/${r}/${t}/${Bb}`,YR=async(e,r,t,n,s)=>{let o=await OR(e,r.secretAccessKey,r.accessKeyId),a=`${t}:${n}:${s}:${ro.toHex(o)}:${r.sessionToken}`;if(a in La)return La[a];for(Im.push(a);Im.length>WR;)delete La[Im.shift()];let c=`AWS4${r.secretAccessKey}`;for(let l of[t,n,s,Bb])c=await OR(e,c,l);return La[a]=c},lV=()=>{Im.length=0,Object.keys(La).forEach(e=>{delete La[e]})},OR=(e,r,t)=>{let n=new e(r);return n.update(ii.toUint8Array(t)),n.digest()},wb=({headers:e},r,t)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in jR||r?.has(o)||$R.test(o)||VR.test(o))&&(!t||t&&!t.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},Om=async({headers:e,body:r},t)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Nm)return e[n];if(r==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof r=="string"||ArrayBuffer.isView(r)||sV.isArrayBuffer(r)){let n=new t;return n.update(ii.toUint8Array(r)),ro.toHex(await n.digest())}return KR},Ab=class{format(r){let t=[];for(let o of Object.keys(r)){let a=ii.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(r.value,3),a;case"string":let c=ii.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Pb.fromNumber(r.value.valueOf()).bytes,1),f;case"uuid":if(!dV.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(ro.fromHex(r.value.replace(/\-/g,"")),1),g}}},dV=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Pb=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&NR(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&NR(r),parseInt(ro.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function NR(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var JR=(e,r)=>{e=e.toLowerCase();for(let t of Object.keys(r))if(e===t.toLowerCase())return!0;return!1},QR=(e,r={})=>{let{headers:t,query:n={}}=BR.HttpRequest.clone(e);for(let s of Object.keys(t)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!r.unhoistableHeaders?.has(o)||r.hoistableHeaders?.has(o))&&(n[s]=t[s],delete t[s])}return{...e,headers:t,query:n}},vb=e=>{e=BR.HttpRequest.clone(e);for(let r of Object.keys(e.headers))UR.indexOf(r.toLowerCase())>-1&&delete e.headers[r];return e},ZR=({query:e={}})=>{let r=[],t={};for(let n of Object.keys(e)){if(n.toLowerCase()===qR)continue;let s=Tm.escapeUri(n);r.push(s);let o=e[n];typeof o=="string"?t[s]=`${s}=${Tm.escapeUri(o)}`:Array.isArray(o)&&(t[s]=o.slice(0).reduce((a,c)=>a.concat([`${s}=${Tm.escapeUri(c)}`]),[]).sort().join("&"))}return r.sort().map(n=>t[n]).filter(n=>n).join("&")},uV=e=>mV(e).toISOString().replace(/\.\d{3}Z$/,"Z"),mV=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Bm=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a=!0}){this.service=s,this.sha256=o,this.uriEscapePath=a,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=kR.normalizeProvider(n),this.credentialProvider=kR.normalizeProvider(t)}createCanonicalRequest(r,t,n){let s=Object.keys(t).sort();return`${r.method}
${this.getCanonicalPath(r)}
${ZR(r)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(r,t,n,s){let o=new this.sha256;o.update(ii.toUint8Array(n));let a=await o.digest();return`${s}
${r}
${t}
${ro.toHex(a)}`}getCanonicalPath({path:r}){if(this.uriEscapePath){let t=[];for(let o of r.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let n=`${r?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&r?.endsWith("/")?"/":""}`;return Tm.escapeUri(n).replace(/%2F/g,"/")}return r}validateResolvedCredentials(r){if(typeof r!="object"||typeof r.accessKeyId!="string"||typeof r.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(r){let t=uV(r).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(r){return Object.keys(r).sort().join(";")}},Tb=class extends Bm{headerFormatter=new Ab;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a=!0}){super({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a})}async presign(r,t={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:l,signingRegion:d,signingService:f}=t,g=await this.credentialProvider();this.validateResolvedCredentials(g);let y=d??await this.regionProvider(),{longDate:h,shortDate:_}=this.formatDate(n);if(s>XR)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let R=km(_,y,f??this.service),I=QR(vb(r),{unhoistableHeaders:a,hoistableHeaders:l});g.sessionToken&&(I.query[kb]=g.sessionToken),I.query[DR]=Rm,I.query[MR]=`${g.accessKeyId}/${R}`,I.query[Rb]=h,I.query[FR]=s.toString(10);let N=wb(I,o,c);return I.query[LR]=this.getCanonicalHeaderList(N),I.query[Ib]=await this.getSignature(h,R,this.getSigningKey(g,y,_,f),this.createCanonicalRequest(I,N,await Om(r,this.sha256))),I}async sign(r,t){return typeof r=="string"?this.signString(r,t):r.headers&&r.payload?this.signEvent(r,t):r.message?this.signMessage(r,t):this.signRequest(r,t)}async signEvent({headers:r,payload:t},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:a}){let c=o??await this.regionProvider(),{shortDate:l,longDate:d}=this.formatDate(n),f=km(l,c,a??this.service),g=await Om({headers:{},body:t},this.sha256),y=new this.sha256;y.update(r);let h=ro.toHex(await y.digest()),_=[GR,d,f,s,h,g].join(`
`);return this.signString(_,{signingDate:n,signingRegion:c,signingService:a})}async signMessage(r,{signingDate:t=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(r.message.headers),payload:r.message.body},{signingDate:t,signingRegion:n,signingService:s,priorSignature:r.priorSignature}).then(a=>({message:r.message,signature:a}))}async signString(r,{signingDate:t=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=n??await this.regionProvider(),{shortDate:c}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,a,c,s));return l.update(ii.toUint8Array(r)),ro.toHex(await l.digest())}async signRequest(r,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:a}={}){let c=await this.credentialProvider();this.validateResolvedCredentials(c);let l=o??await this.regionProvider(),d=vb(r),{longDate:f,shortDate:g}=this.formatDate(t),y=km(g,l,a??this.service);d.headers[Nb]=f,c.sessionToken&&(d.headers[HR]=c.sessionToken);let h=await Om(d,this.sha256);!JR(Nm,d.headers)&&this.applyChecksum&&(d.headers[Nm]=h);let _=wb(d,s,n),R=await this.getSignature(f,y,this.getSigningKey(c,l,g,a),this.createCanonicalRequest(d,_,h));return d.headers[Ob]=`${Rm} Credential=${c.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(_)}, Signature=${R}`,d}async getSignature(r,t,n,s){let o=await this.createStringToSign(r,t,s,Rm),a=new this.sha256(await n);return a.update(ii.toUint8Array(o)),ro.toHex(await a.digest())}getSigningKey(r,t,n,s){return YR(this.sha256,r,n,t,s||this.service)}},fV={SignatureV4a:null};Pe.ALGORITHM_IDENTIFIER=Rm;Pe.ALGORITHM_IDENTIFIER_V4A=cV;Pe.ALGORITHM_QUERY_PARAM=DR;Pe.ALWAYS_UNSIGNABLE_HEADERS=jR;Pe.AMZ_DATE_HEADER=Nb;Pe.AMZ_DATE_QUERY_PARAM=Rb;Pe.AUTH_HEADER=Ob;Pe.CREDENTIAL_QUERY_PARAM=MR;Pe.DATE_HEADER=zR;Pe.EVENT_ALGORITHM_IDENTIFIER=GR;Pe.EXPIRES_QUERY_PARAM=FR;Pe.GENERATED_HEADERS=UR;Pe.HOST_HEADER=iV;Pe.KEY_TYPE_IDENTIFIER=Bb;Pe.MAX_CACHE_SIZE=WR;Pe.MAX_PRESIGNED_TTL=XR;Pe.PROXY_HEADER_PATTERN=$R;Pe.REGION_SET_PARAM=oV;Pe.SEC_HEADER_PATTERN=VR;Pe.SHA256_HEADER=Nm;Pe.SIGNATURE_HEADER=qR;Pe.SIGNATURE_QUERY_PARAM=Ib;Pe.SIGNED_HEADERS_QUERY_PARAM=LR;Pe.SignatureV4=Tb;Pe.SignatureV4Base=Bm;Pe.TOKEN_HEADER=HR;Pe.TOKEN_QUERY_PARAM=kb;Pe.UNSIGNABLE_PATTERNS=aV;Pe.UNSIGNED_PAYLOAD=KR;Pe.clearCredentialCache=lV;Pe.createScope=km;Pe.getCanonicalHeaders=wb;Pe.getCanonicalQuery=ZR;Pe.getPayloadHash=Om;Pe.getSigningKey=YR;Pe.hasHeader=JR;Pe.moveHeadersToQuery=QR;Pe.prepareRequest=vb;Pe.signatureV4aContainer=fV});function gV(e,{credentials:r,credentialDefaultProvider:t}){let n;return r?r?.memoized?n=r:n=bb(r,Eb,vm):t?n=Zs(t(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function hV(e,r){if(r.configBound)return r;let t=async n=>r({...n,callerClientConfig:e});return t.memoized=r.memoized,t.configBound=!0,t}var Db,ai,eI,tI=P(()=>{Nn();Dr();Db=k(Dm()),ai=e=>{let r=e.credentials,t=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(d){d&&d!==r&&d!==n&&(t=!0),r=d;let f=gV(e,{credentials:r,credentialDefaultProvider:e.credentialDefaultProvider}),g=hV(e,f);t&&!g.attributed?(n=async y=>g(y).then(h=>Ys(h,"CREDENTIALS_CODE","e")),n.memoized=g.memoized,n.configBound=g.configBound,n.attributed=!0):n=g},get(){return n},enumerable:!0,configurable:!0}),e.credentials=r;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:a}=e,c;return e.signer?c=Zs(e.signer):e.regionInfoProvider?c=()=>Zs(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,f])=>{let{signingRegion:g,signingService:y}=d;e.signingRegion=e.signingRegion||g||f,e.signingName=e.signingName||y||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},_=e.signerConstructor||Db.SignatureV4;return new _(h)}):c=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Zs(e.region)(),properties:{}},d);let f=d.signingRegion,g=d.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||g||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},h=e.signerConstructor||Db.SignatureV4;return new h(y)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:c})},eI=ai});var rI=P(()=>{QS();hP();EP();IR();tI()});var nI={};ln(nI,{AWSSDKSigV4Signer:()=>JS,AwsSdkSigV4ASigner:()=>kl,AwsSdkSigV4Signer:()=>Hr,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Pa,NODE_SIGV4A_CONFIG_OPTIONS:()=>RR,getBearerTokenEnvKey:()=>Uu,resolveAWSSDKSigV4Config:()=>eI,resolveAwsSdkSigV4AConfig:()=>TR,resolveAwsSdkSigV4Config:()=>ai,validateSigningProperties:()=>Aa});var Mb=P(()=>{rI();eE()});function no(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Mm(e){return e[Lb]=!0,e}var Lb,Lm=P(()=>{Lb=Symbol("@smithy/core/cbor::tagSymbol")});function iI(e){nt=e,ws=new DataView(nt.buffer,nt.byteOffset,nt.byteLength)}function Jn(e,r){if(e>=r)throw new Error("unexpected end of (decode) payload.");let t=(nt[e]&224)>>5,n=nt[e]&31;switch(t){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let a=cI[n],c=a+1;if(o=c,r-e<c)throw new Error(`countLength ${a} greater than remaining buf len.`);let l=e+1;a===1?s=nt[l]:a===2?s=ws.getUint16(l):a===4?s=ws.getUint32(l):s=ws.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(t===0)return Be=o,Fb(s);if(t===1){let a;return typeof s=="bigint"?a=BigInt(-1)-s:a=-1-s,Be=o,Fb(a)}else if(n===2||n===3){let a=Ql(e+o,r),c=BigInt(0),l=e+o+Be;for(let d=l;d<l+a;++d)c=c<<BigInt(8)|BigInt(nt[d]);return Be=o+Be+a,n===3?-c-BigInt(1):c}else if(n===4){let a=Jn(e+o,r),[c,l]=a,d=l<0?-1:1,f="0".repeat(Math.abs(c)+1)+String(BigInt(d)*BigInt(l)),g,y=l<0?"-":"";return g=c===0?f:f.slice(0,f.length+c)+"."+f.slice(c),g=g.replace(/^0+/g,""),g===""&&(g="0"),g[0]==="."&&(g="0"+g),g=y+g,Be=o+Be,cb(g)}else{let a=Jn(e+o,r);return Be=o+Be,Mm({tag:Fb(s),value:a})}case 3:case 5:case 4:case 2:if(n===31)switch(t){case 3:return CV(e,r);case 5:return vV(e,r);case 4:return AV(e,r);case 2:return xV(e,r)}else switch(t){case 3:return _V(e,r);case 5:return PV(e,r);case 4:return wV(e,r);case 2:return $b(e,r)}default:return TV(e,r)}}function aI(e,r,t){return SV&&e.constructor?.name==="Buffer"?e.toString("utf-8",r,t):sI?sI.decode(e.subarray(r,t)):(0,oI.toUtf8)(e.subarray(r,t))}function EV(e){let r=Number(e);return(r<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<r)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${r} with loss of precision.`)),r}function bV(e,r){let t=e>>7,n=(e&124)>>2,s=(e&3)<<8|r,o=t===0?1:-1,a,c;if(n===0){if(s===0)return 0;a=Math.pow(2,-14),c=0}else{if(n===31)return s===0?o*(1/0):NaN;a=Math.pow(2,n-15),c=1}return c+=s/1024,o*(a*c)}function Ql(e,r){let t=nt[e]&31;if(t<24)return Be=1,t;if(t===24||t===25||t===26||t===27){let n=cI[t];if(Be=n+1,r-e<Be)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?nt[s]:n===2?ws.getUint16(s):n===4?ws.getUint32(s):EV(ws.getBigUint64(s))}throw new Error(`unexpected minor value ${t}.`)}function _V(e,r){let t=Ql(e,r),n=Be;if(e+=n,r-e<t)throw new Error(`string len ${t} greater than remaining buf len.`);let s=aI(nt,e,e+t);return Be=n+t,s}function CV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(nt[e]===255){let l=no(t.length);return l.set(t,0),Be=e-n+2,aI(l,0,l.length)}let s=(nt[e]&224)>>5,o=nt[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=$b(e,r);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function $b(e,r){let t=Ql(e,r),n=Be;if(e+=n,r-e<t)throw new Error(`unstructured byte string len ${t} greater than remaining buf len.`);let s=nt.subarray(e,e+t);return Be=n+t,s}function xV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(nt[e]===255){let l=no(t.length);return l.set(t,0),Be=e-n+2,l}let s=(nt[e]&224)>>5,o=nt[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=$b(e,r);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function wV(e,r){let t=Ql(e,r),n=Be;e+=n;let s=e,o=Array(t);for(let a=0;a<t;++a){let c=Jn(e,r),l=Be;o[a]=c,e+=l}return Be=n+(e-s),o}function AV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(nt[e]===255)return Be=e-n+2,t;let s=Jn(e,r);e+=Be,t.push(s)}throw new Error("expected break marker.")}function PV(e,r){let t=Ql(e,r),n=Be;e+=n;let s=e,o={};for(let a=0;a<t;++a){if(e>=r)throw new Error("unexpected end of map payload.");let c=(nt[e]&224)>>5;if(c!==3)throw new Error(`unexpected major type ${c} for map key at index ${e}.`);let l=Jn(e,r);e+=Be;let d=Jn(e,r);e+=Be,o[l]=d}return Be=n+(e-s),o}function vV(e,r){e+=1;let t=e,n={};for(;e<r;){if(e>=r)throw new Error("unexpected end of map payload.");if(nt[e]===255)return Be=e-t+2,n;let s=(nt[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Jn(e,r);e+=Be;let a=Jn(e,r);e+=Be,n[o]=a}throw new Error("expected break marker.")}function TV(e,r){let t=nt[e]&31;switch(t){case 21:case 20:return Be=1,t===21;case 22:return Be=1,null;case 23:return Be=1,null;case 25:if(r-e<3)throw new Error("incomplete float16 at end of buf.");return Be=3,bV(nt[e+1],nt[e+2]);case 26:if(r-e<5)throw new Error("incomplete float32 at end of buf.");return Be=5,ws.getFloat32(e+1);case 27:if(r-e<9)throw new Error("incomplete float64 at end of buf.");return Be=9,ws.getFloat64(e+1);default:throw new Error(`unexpected minor value ${t}.`)}}function Fb(e){if(typeof e=="number")return e;let r=Number(e);return Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:e}var oI,yV,SV,nt,ws,sI,Be,cI,lI=P(()=>{jr();oI=k(Wt());Lm();yV=typeof TextDecoder<"u",SV=typeof Buffer<"u",nt=no(0),ws=new DataView(nt.buffer,nt.byteOffset,nt.byteLength),sI=yV?new TextDecoder:null,Be=0;cI={24:1,25:2,26:4,27:8}});function Gb(e){he.byteLength-ae<e&&(ae<16e6?zm(Math.max(he.byteLength*4,he.byteLength+e)):zm(he.byteLength+e+16e6))}function Kb(){let e=no(ae);return e.set(he.subarray(0,ae),0),ae=0,e}function zm(e){let r=he;he=no(e),r&&(r.copy?r.copy(he,0,0,r.byteLength):he.set(r,0)),vs=new DataView(he.buffer,he.byteOffset,he.byteLength)}function Ps(e,r){r<24?he[ae++]=e<<5|r:r<256?(he[ae++]=e<<5|24,he[ae++]=r):r<65536?(he[ae++]=e<<5|25,vs.setUint16(ae,r),ae+=2):r<2**32?(he[ae++]=e<<5|26,vs.setUint32(ae,r),ae+=4):(he[ae++]=e<<5|27,vs.setBigUint64(ae,typeof r=="bigint"?r:BigInt(r)),ae+=8)}function mI(e){let r=[e];for(;r.length;){let t=r.pop();if(Gb(typeof t=="string"?t.length*4:64),typeof t=="string"){if(dI)Ps(3,Buffer.byteLength(t)),ae+=he.write(t,ae);else{let n=(0,uI.fromUtf8)(t);Ps(3,n.byteLength),he.set(n,ae),ae+=n.byteLength}continue}else if(typeof t=="number"){if(Number.isInteger(t)){let n=t>=0,s=n?0:1,o=n?t:-t-1;o<24?he[ae++]=s<<5|o:o<256?(he[ae++]=s<<5|24,he[ae++]=o):o<65536?(he[ae++]=s<<5|25,he[ae++]=o>>8,he[ae++]=o):o<4294967296?(he[ae++]=s<<5|26,vs.setUint32(ae,o),ae+=4):(he[ae++]=s<<5|27,vs.setBigUint64(ae,BigInt(o)),ae+=8);continue}he[ae++]=251,vs.setFloat64(ae,t),ae+=8;continue}else if(typeof t=="bigint"){let n=t>=0,s=n?0:1,o=n?t:-t-BigInt(1),a=Number(o);if(a<24)he[ae++]=s<<5|a;else if(a<256)he[ae++]=s<<5|24,he[ae++]=a;else if(a<65536)he[ae++]=s<<5|25,he[ae++]=a>>8,he[ae++]=a&255;else if(a<4294967296)he[ae++]=s<<5|26,vs.setUint32(ae,a),ae+=4;else if(o<BigInt("18446744073709551616"))he[ae++]=s<<5|27,vs.setBigUint64(ae,o),ae+=8;else{let c=o.toString(2),l=new Uint8Array(Math.ceil(c.length/8)),d=o,f=0;for(;l.byteLength-++f>=0;)l[l.byteLength-f]=Number(d&BigInt(255)),d>>=BigInt(8);Gb(l.byteLength*2),he[ae++]=n?194:195,dI?Ps(2,Buffer.byteLength(l)):Ps(2,l.byteLength),he.set(l,ae),ae+=l.byteLength}continue}else if(t===null){he[ae++]=246;continue}else if(typeof t=="boolean"){he[ae++]=224|(t?21:20);continue}else{if(typeof t>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)r.push(t[n]);Ps(4,t.length);continue}else if(typeof t.byteLength=="number"){Gb(t.length*2),Ps(2,t.length),he.set(t,ae),ae+=t.byteLength;continue}else if(typeof t=="object"){if(t instanceof At){let s=t.string.indexOf("."),o=s===-1?0:s-t.string.length+1,a=BigInt(t.string.replace(".",""));he[ae++]=196,r.push(a),r.push(o),Ps(4,2);continue}if(t[Lb])if("tag"in t&&"value"in t){r.push(t.value),Ps(6,t.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(t));let n=Object.keys(t);for(let s=n.length-1;s>=0;--s){let o=n[s];r.push(t[o]),r.push(o)}Ps(5,n.length);continue}}throw new Error(`data type ${t?.constructor?.name??typeof t} not compatible for encoding.`)}}var uI,dI,RV,he,vs,ae,fI=P(()=>{jr();uI=k(Wt());Lm();dI=typeof Buffer<"u",RV=2048,he=no(RV),vs=new DataView(he.buffer,he.byteOffset,he.byteLength),ae=0});var Wb,gI=P(()=>{lI();fI();Wb={deserialize(e){return iI(e),Jn(0,e.length)},serialize(e){try{return mI(e),Kb()}catch(r){throw Kb(),r}},resizeEncodingBuffer(e){zm(e)}}});var Um,qm,Hm=P(()=>{Lm();Um=e=>Mm({tag:1,value:e.getTime()/1e3}),qm=(e,r)=>{let t=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(r.__type!==void 0)return t(r.__type);let n=Object.keys(r).find(s=>s.toLowerCase()==="code");if(n&&r[n]!==void 0)return t(r[n])}});var Jb,jm,Xb,Yb,Qb=P(()=>{$r();Ot();jr();Jb=k(fr());gI();Hm();jm=class extends Br{createSerializer(){let r=new Xb;return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new Yb;return r.setSerdeContext(this.serdeContext),r}},Xb=class extends Br{value;write(r,t){this.value=this.serialize(r,t)}serialize(r,t){let n=ie.of(r);if(t==null)return n.isIdempotencyToken()?(0,Yn.v4)():t;if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??Jb.fromBase64)(t):t;if(n.isTimestampSchema())return typeof t=="number"||typeof t=="bigint"?Um(new Date(Number(t)/1e3|0)):Um(t);if(typeof t=="function"||typeof t=="object"){let s=t;if(n.isListSchema()&&Array.isArray(s)){let a=!!n.getMergedTraits().sparse,c=[],l=0;for(let d of s){let f=this.serialize(n.getValueSchema(),d);(f!=null||a)&&(c[l++]=f)}return c}if(s instanceof Date)return Um(s);let o={};if(n.isMapSchema()){let a=!!n.getMergedTraits().sparse;for(let c of Object.keys(s)){let l=this.serialize(n.getValueSchema(),s[c]);(l!=null||a)&&(o[c]=l)}}else if(n.isStructSchema())for(let[a,c]of n.structIterator()){let l=this.serialize(c,s[a]);l!=null&&(o[a]=l)}else if(n.isDocumentSchema())for(let a of Object.keys(s))o[a]=this.serialize(n.getValueSchema(),s[a]);return o}return t}flush(){let r=Wb.serialize(this.value);return this.value=void 0,r}},Yb=class extends Br{read(r,t){let n=Wb.deserialize(t);return this.readValue(r,n)}readValue(r,t){let n=ie.of(r);if(n.isTimestampSchema()&&typeof t=="number")return Vl(t);if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??Jb.fromBase64)(t):t;if(typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="bigint"||typeof t=="symbol")return t;if(typeof t=="function"||typeof t=="object"){if(t===null)return null;if("byteLength"in t||t instanceof Date||n.isDocumentSchema())return t;if(n.isListSchema()){let o=[],a=n.getValueSchema(),c=!!n.getMergedTraits().sparse;for(let l of t){let d=this.readValue(a,l);(d!=null||c)&&o.push(d)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,a=n.getValueSchema();for(let c of Object.keys(t)){let l=this.readValue(a,t[c]);(l!=null||o)&&(s[c]=l)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator())s[o]=this.readValue(a,t[o]);return s}else return t}}});var hI,$m,pI=P(()=>{$r();Ot();hI=k(Er());Qb();Hm();$m=class extends _s{codec=new jm;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:r}){super({defaultNamespace:r})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Dn(r.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:a}=(0,hI.getSmithyContext)(n),c=`/service/${o}/operation/${a}`;return s.path.endsWith("/")?s.path+=c.slice(1):s.path+=c,s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let a=qm(n,s)??"Unknown",c=this.options.defaultNamespace;a.includes("#")&&([c]=a.split("#"));let l={$metadata:o,$response:n,$fault:n.statusCode<=500?"client":"server"},d=Xt.for(c),f;try{f=d.getSchema(a)}catch{s.Message&&(s.message=s.Message);let N=Xt.for("smithy.ts.sdk.synthetic."+c),W=N.getBaseException();if(W){let ce=N.getErrorCtor(W);throw Object.assign(new ce({name:a}),l,s)}throw Object.assign(new Error(a),l,s)}let g=ie.of(f),y=d.getErrorCtor(f),h=s.message??s.Message??"Unknown",_=new y(h),R={};for(let[I,N]of g.structIterator())R[I]=this.deserializer.readValue(N,s[I]);throw Object.assign(_,l,{$fault:g.getMergedTraits().error,message:h},R)}getDefaultContentType(){return"application/cbor"}}});var yI=P(()=>{Hm();pI();Qb()});var dn,za=P(()=>{Ot();dn=class{resolveRestContentType(r,t){let n=t.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":r)}else if(!t.isUnitSchema()&&Object.values(n).find(a=>{let{httpQuery:c,httpQueryParams:l,httpHeader:d,httpLabel:f,httpPrefixHeaders:g}=a.getMergedTraits();return!c&&!l&&!d&&!f&&g===void 0}))return r}async getErrorSchemaOrThrowBaseException(r,t,n,s,o,a){let c=t,l=r;r.includes("#")&&([c,l]=r.split("#"));let d={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},f=Xt.for(c);try{return{errorSchema:a?.(f,l)??f.getSchema(r),errorMetadata:d}}catch{s.message=s.message??s.Message??"UnknownError";let y=Xt.for("smithy.ts.sdk.synthetic."+c),h=y.getBaseException();if(h){let _=y.getErrorCtor(h)??Error;throw Object.assign(new _({name:l}),d,s)}throw Object.assign(new Error(l),d,s)}}setQueryCompatError(r,t){let n=t.headers?.["x-amzn-query-error"];if(r!==void 0&&n!=null){let[s,o]=n.split(";"),a=Object.entries(r),c={Code:s,Type:o};Object.assign(r,c);for(let[l,d]of a)c[l]=d;delete c.__type,r.Error=c}}queryCompatOutput(r,t){r.Error&&(t.Error=r.Error),r.Type&&(t.Type=r.Type),r.Code&&(t.Code=r.Code)}}});var Zb,SI=P(()=>{yI();Ot();za();Zb=class extends $m{awsQueryCompatible;mixin=new dn;constructor({defaultNamespace:r,awsQueryCompatible:t}){super({defaultNamespace:r}),this.awsQueryCompatible=!!t}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let a=qm(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Xt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f),h={};for(let[_,R]of d.structIterator())h[_]=this.deserializer.readValue(R,s[_]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var IV,kV,OV,EI=P(()=>{IV=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let r=new Error(`Received number ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}if(typeof e=="boolean"){let r=new Error(`Received boolean ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}return e},kV=e=>{if(e==null)return e;if(typeof e=="string"){let r=e.toLowerCase();if(e!==""&&r!=="false"&&r!=="true"){let t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return e!==""&&r!=="false"}return e},OV=e=>{if(e==null)return e;if(typeof e=="string"){let r=Number(e);if(r.toString()!==e){let t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return r}return e}});var _r,ao=P(()=>{_r=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});function bI(e,r,t){if(t?.source){let n=t.source;if(typeof r=="number"&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||n!==String(r)))return n.includes(".")?new At(n,"bigDecimal"):BigInt(n)}return r}var _I=P(()=>{jr()});var AI=B(wI=>{"use strict";var ci=(e,r)=>{let t=[];if(e&&t.push(e),r)for(let n of r)t.push(n);return t},co=(e,r)=>`${e||"anonymous"}${r&&r.length>0?` (a.k.a. ${r.join(",")})`:""}`,e_=()=>{let e=[],r=[],t=!1,n=new Set,s=g=>g.sort((y,h)=>CI[h.step]-CI[y.step]||xI[h.priority||"normal"]-xI[y.priority||"normal"]),o=g=>{let y=!1,h=_=>{let R=ci(_.name,_.aliases);if(R.includes(g)){y=!0;for(let I of R)n.delete(I);return!1}return!0};return e=e.filter(h),r=r.filter(h),y},a=g=>{let y=!1,h=_=>{if(_.middleware===g){y=!0;for(let R of ci(_.name,_.aliases))n.delete(R);return!1}return!0};return e=e.filter(h),r=r.filter(h),y},c=g=>(e.forEach(y=>{g.add(y.middleware,{...y})}),r.forEach(y=>{g.addRelativeTo(y.middleware,{...y})}),g.identifyOnResolve?.(f.identifyOnResolve()),g),l=g=>{let y=[];return g.before.forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...l(h))}),y.push(g),g.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...l(h))}),y},d=(g=!1)=>{let y=[],h=[],_={};return e.forEach(I=>{let N={...I,before:[],after:[]};for(let W of ci(N.name,N.aliases))_[W]=N;y.push(N)}),r.forEach(I=>{let N={...I,before:[],after:[]};for(let W of ci(N.name,N.aliases))_[W]=N;h.push(N)}),h.forEach(I=>{if(I.toMiddleware){let N=_[I.toMiddleware];if(N===void 0){if(g)return;throw new Error(`${I.toMiddleware} is not found when adding ${co(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&N.after.push(I),I.relation==="before"&&N.before.push(I)}}),s(y).map(l).reduce((I,N)=>(I.push(...N),I),[])},f={add:(g,y={})=>{let{name:h,override:_,aliases:R}=y,I={step:"initialize",priority:"normal",middleware:g,...y},N=ci(h,R);if(N.length>0){if(N.some(W=>n.has(W))){if(!_)throw new Error(`Duplicate middleware name '${co(h,R)}'`);for(let W of N){let ce=e.findIndex(_e=>_e.name===W||_e.aliases?.some(Ke=>Ke===W));if(ce===-1)continue;let me=e[ce];if(me.step!==I.step||I.priority!==me.priority)throw new Error(`"${co(me.name,me.aliases)}" middleware with ${me.priority} priority in ${me.step} step cannot be overridden by "${co(h,R)}" middleware with ${I.priority} priority in ${I.step} step.`);e.splice(ce,1)}}for(let W of N)n.add(W)}e.push(I)},addRelativeTo:(g,y)=>{let{name:h,override:_,aliases:R}=y,I={middleware:g,...y},N=ci(h,R);if(N.length>0){if(N.some(W=>n.has(W))){if(!_)throw new Error(`Duplicate middleware name '${co(h,R)}'`);for(let W of N){let ce=r.findIndex(_e=>_e.name===W||_e.aliases?.some(Ke=>Ke===W));if(ce===-1)continue;let me=r[ce];if(me.toMiddleware!==I.toMiddleware||me.relation!==I.relation)throw new Error(`"${co(me.name,me.aliases)}" middleware ${me.relation} "${me.toMiddleware}" middleware cannot be overridden by "${co(h,R)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);r.splice(ce,1)}}for(let W of N)n.add(W)}r.push(I)},clone:()=>c(e_()),use:g=>{g.applyToStack(f)},remove:g=>typeof g=="string"?o(g):a(g),removeByTag:g=>{let y=!1,h=_=>{let{tags:R,name:I,aliases:N}=_;if(R&&R.includes(g)){let W=ci(I,N);for(let ce of W)n.delete(ce);return y=!0,!1}return!0};return e=e.filter(h),r=r.filter(h),y},concat:g=>{let y=c(e_());return y.use(g),y.identifyOnResolve(t||y.identifyOnResolve()||(g.identifyOnResolve?.()??!1)),y},applyToStack:c,identify:()=>d(!0).map(g=>{let y=g.step??g.relation+" "+g.toMiddleware;return co(g.name,g.aliases)+" - "+y}),identifyOnResolve(g){return typeof g=="boolean"&&(t=g),t},resolve:(g,y)=>{for(let h of d().map(_=>_.middleware).reverse())g=h(g,y);return t&&console.log(f.identify()),g}};return f},CI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},xI={high:3,normal:2,low:1};wI.constructStack=e_});var Ie=B(Qe=>{"use strict";var TI=AI(),l_=($r(),Re(hR)),r_=ys(),NV=(Ot(),Re(aT)),PI=(jr(),Re(eR)),n_=class{config;middlewareStack=TI.constructStack();initConfig;handlers;constructor(r){this.config=r}send(r,t,n){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:n,a=s===void 0&&this.config.cacheMiddleware===!0,c;if(a){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(r.constructor)?c=l.get(r.constructor):(c=r.resolveMiddleware(this.middlewareStack,this.config,s),l.set(r.constructor,c))}else delete this.handlers,c=r.resolveMiddleware(this.middlewareStack,this.config,s);if(o)c(r).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return c(r).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},t_="***SensitiveInformation***";function s_(e,r){if(r==null)return r;let t=NV.NormalizedSchema.of(e);if(t.getMergedTraits().sensitive)return t_;if(t.isListSchema()){if(!!t.getValueSchema().getMergedTraits().sensitive)return t_}else if(t.isMapSchema()){if(!!t.getKeySchema().getMergedTraits().sensitive||!!t.getValueSchema().getMergedTraits().sensitive)return t_}else if(t.isStructSchema()&&typeof r=="object"){let n=r,s={};for(let[o,a]of t.structIterator())n[o]!=null&&(s[o]=s_(a,n[o]));return s}return r}var Vm=class{middlewareStack=TI.constructStack();schema;static classBuilder(){return new o_}resolveMiddlewareWithContext(r,t,n,{middlewareFn:s,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,smithyContext:d,additionalContext:f,CommandCtor:g}){for(let I of s.bind(this)(g,r,t,n))this.middlewareStack.use(I);let y=r.concat(this.middlewareStack),{logger:h}=t,_={logger:h,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,[r_.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...f},{requestHandler:R}=t;return y.resolve(I=>R.handle(I.request,n||{}),_)}},o_=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(r){this._init=r}ep(r){return this._ep=r,this}m(r){return this._middlewareFn=r,this}s(r,t,n={}){return this._smithyContext={service:r,operation:t,...n},this}c(r={}){return this._additionalContext=r,this}n(r,t){return this._clientName=r,this._commandName=t,this}f(r=n=>n,t=n=>n){return this._inputFilterSensitiveLog=r,this._outputFilterSensitiveLog=t,this}ser(r){return this._serializer=r,this}de(r){return this._deserializer=r,this}sc(r){return this._operationSchema=r,this._smithyContext.operationSchema=r,this}build(){let r=this,t;return t=class extends Vm{input;static getEndpointParameterInstructions(){return r._ep}constructor(...[n]){super(),this.input=n??{},r._init(this),this.schema=r._operationSchema}resolveMiddleware(n,s,o){let a=r._operationSchema,c=a?.[4]??a?.input,l=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:t,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog??(a?s_.bind(null,c):d=>d),outputFilterSensitiveLog:r._outputFilterSensitiveLog??(a?s_.bind(null,l):d=>d),smithyContext:r._smithyContext,additionalContext:r._additionalContext})}serialize=r._serializer;deserialize=r._deserializer}}},BV="***SensitiveInformation***",DV=(e,r)=>{for(let t of Object.keys(e)){let n=e[t],s=async function(a,c,l){let d=new n(a);if(typeof c=="function")this.send(d,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(d,c||{},l)}else return this.send(d,c)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");r.prototype[o]=s}},i_=class e extends Error{$fault;$response;$retryable;$metadata;constructor(r){super(r.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}static isInstance(r){if(!r)return!1;let t=r;return e.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](r){if(!r)return!1;let t=r;return this===e?e.isInstance(r):e.isInstance(r)?t.name&&this.name?this.prototype.isPrototypeOf(r)||t.name===this.name:this.prototype.isPrototypeOf(r):!1}},RI=(e,r={})=>{Object.entries(r).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},II=({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})=>{let s=LV(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new t({name:r?.code||r?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw RI(a,r)},MV=e=>({output:r,parsedBody:t,errorCode:n})=>{II({output:r,parsedBody:t,exceptionCtor:e,errorCode:n})},LV=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),FV=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},vI=!1,zV=e=>{e&&!vI&&parseInt(e.substring(1,e.indexOf(".")))<16&&(vI=!0)},UV=e=>{let r=[];for(let t in r_.AlgorithmId){let n=r_.AlgorithmId[t];e[n]!==void 0&&r.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},qV=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},HV=e=>({setRetryStrategy(r){e.retryStrategy=r},retryStrategy(){return e.retryStrategy}}),jV=e=>{let r={};return r.retryStrategy=e.retryStrategy(),r},kI=e=>Object.assign(UV(e),HV(e)),$V=kI,VV=e=>Object.assign(qV(e),jV(e)),GV=e=>Array.isArray(e)?e:[e],OI=e=>{let r="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][r]!==void 0?e[t]=e[t][r]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=OI(e[t]));return e},KV=e=>e!=null,a_=class{trace(){}debug(){}info(){}warn(){}error(){}};function NI(e,r,t){let n,s,o;if(typeof r>"u"&&typeof t>"u")n={},o=e;else{if(n=e,typeof r=="function")return s=r,o=t,YV(n,s,o);o=r}for(let a of Object.keys(o)){if(!Array.isArray(o[a])){n[a]=o[a];continue}BI(n,null,o,a)}return n}var WV=e=>{let r={};for(let[t,n]of Object.entries(e||{}))r[t]=[,n];return r},XV=(e,r)=>{let t={};for(let n in r)BI(t,e,r,n);return t},YV=(e,r,t)=>NI(e,Object.entries(t).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[r,o()]:n[s]=[r,o],n),{})),BI=(e,r,t,n)=>{if(r!==null){let a=t[n];typeof a=="function"&&(a=[,a]);let[c=JV,l=QV,d=n]=a;(typeof c=="function"&&c(r[d])||typeof c!="function"&&c)&&(e[n]=l(r[d]));return}let[s,o]=t[n];if(typeof o=="function"){let a,c=s===void 0&&(a=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;c?e[n]=a:l&&(e[n]=o())}else{let a=s===void 0&&o!=null,c=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(a||c)&&(e[n]=o)}},JV=e=>e!=null,QV=e=>e,ZV=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},e4=e=>e.toISOString().replace(".000Z","Z"),c_=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(r=>r!=null).map(c_);if(typeof e=="object"){let r={};for(let t of Object.keys(e))e[t]!=null&&(r[t]=c_(e[t]));return r}return e};Object.defineProperty(Qe,"collectBody",{enumerable:!0,get:function(){return l_.collectBody}});Object.defineProperty(Qe,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return l_.extendedEncodeURIComponent}});Object.defineProperty(Qe,"resolvedPath",{enumerable:!0,get:function(){return l_.resolvedPath}});Qe.Client=n_;Qe.Command=Vm;Qe.NoOpLogger=a_;Qe.SENSITIVE_STRING=BV;Qe.ServiceException=i_;Qe._json=c_;Qe.convertMap=WV;Qe.createAggregatedClient=DV;Qe.decorateServiceException=RI;Qe.emitWarningIfUnsupportedVersion=zV;Qe.getArrayIfSingleItem=GV;Qe.getDefaultClientConfiguration=$V;Qe.getDefaultExtensionConfiguration=kI;Qe.getValueFromTextNode=OI;Qe.isSerializableHeaderValue=KV;Qe.loadConfigsForDefaultMode=FV;Qe.map=NI;Qe.resolveDefaultRuntimeConfig=VV;Qe.serializeDateTime=e4;Qe.serializeFloat=ZV;Qe.take=XV;Qe.throwDefaultError=II;Qe.withBaseException=MV;Object.keys(PI).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Qe,e)&&Object.defineProperty(Qe,e,{enumerable:!0,get:function(){return PI[e]}})})});var DI,MI,Gm,d_=P(()=>{DI=k(Ie()),MI=k(Wt()),Gm=(e,r)=>(0,DI.collectBody)(e,r).then(t=>(r?.utf8Encoder??MI.toUtf8)(t))});var Ua,u_,li,Zl=P(()=>{d_();Ua=(e,r)=>Gm(e,r).then(t=>{if(t.length)try{return JSON.parse(t)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:t}),n}return{}}),u_=async(e,r)=>{let t=await Ua(e,r);return t.message=t.message??t.Message,t},li=(e,r)=>{let t=(o,a)=>Object.keys(o).find(c=>c.toLowerCase()===a.toLowerCase()),n=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(r&&typeof r=="object"){let o=t(r,"code");if(o&&r[o]!==void 0)return n(r[o]);if(r.__type!==void 0)return n(r.__type)}}});var LI,ed,m_=P(()=>{$r();Ot();jr();LI=k(fr());ao();_I();Zl();ed=class extends _r{settings;constructor(r){super(),this.settings=r}async read(r,t){return this._read(r,typeof t=="string"?JSON.parse(t,bI):await Ua(t,this.serdeContext))}readObject(r,t){return this._read(r,t)}_read(r,t){let n=t!==null&&typeof t=="object",s=ie.of(r);if(s.isListSchema()&&Array.isArray(t)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._read(a,d));return c}else if(s.isMapSchema()&&n){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._read(a,f));return c}else if(s.isStructSchema()&&n){let a={};for(let[c,l]of s.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._read(l,t[d]);f!=null&&(a[c]=f)}return a}if(s.isBlobSchema()&&typeof t=="string")return(0,LI.fromBase64)(t);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof t=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return Nr.from(t);if(s.isTimestampSchema()&&t!=null)switch(Zr(s,this.settings)){case 5:return XE(t);case 6:return YE(t);case 7:return JE(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(s.isBigIntegerSchema()&&(typeof t=="number"||typeof t=="string"))return BigInt(t);if(s.isBigDecimalSchema()&&t!=null){if(t instanceof At)return t;let a=t;return a.type==="bigDecimal"&&"string"in a?new At(a.string,a.type):new At(String(t),"bigDecimal")}if(s.isNumericSchema()&&typeof t=="string")switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof At?a[c]=l:a[c]=this._read(s,l);return a}else return structuredClone(t);return t}}});var FI,Km,zI=P(()=>{jr();FI="\u039D",Km=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(r,t)=>{if(t instanceof At){let n=`${FI+"nv"+this.counter++}_`+t.string;return this.values.set(`"${n}"`,t.string),n}if(typeof t=="bigint"){let n=t.toString(),s=`${FI+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return t}}replaceInJson(r){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return r;for(let[t,n]of this.values)r=r.replace(t,n);return r}}});var UI,td,f_=P(()=>{$r();Ot();jr();UI=k(fr());ao();zI();td=class extends _r{settings;buffer;rootSchema;constructor(r){super(),this.settings=r}write(r,t){this.rootSchema=ie.of(r),this.buffer=this._write(this.rootSchema,t)}writeDiscriminatedDocument(r,t){this.write(r,t),typeof this.buffer=="object"&&(this.buffer.__type=ie.of(r).getName(!0))}flush(){let{rootSchema:r}=this;if(this.rootSchema=void 0,r?.isStructSchema()||r?.isDocumentSchema()){let t=new Km;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(r,t,n){let s=t!==null&&typeof t=="object",o=ie.of(r);if(o.isListSchema()&&Array.isArray(t)){let a=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._write(a,d));return c}else if(o.isMapSchema()&&s){let a=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._write(a,f));return c}else if(o.isStructSchema()&&s){let a={};for(let[c,l]of o.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,t[c],o);f!==void 0&&(a[d]=f)}return a}if(!(t===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(t instanceof Uint8Array||typeof t=="string")||o.isDocumentSchema()&&t instanceof Uint8Array)return o===this.rootSchema?t:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(t):(0,UI.toBase64)(t);if((o.isTimestampSchema()||o.isDocumentSchema())&&t instanceof Date)switch(Zr(o,this.settings)){case 5:return t.toISOString().replace(".000Z","Z");case 6:return $l(t);case 7:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}if(o.isNumericSchema()&&typeof t=="number"&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(o.isStringSchema()){if(typeof t>"u"&&o.isIdempotencyToken())return(0,Yn.v4)();let a=o.getMergedTraits().mediaType;if(t!=null&&a&&(a==="application/json"||a.endsWith("+json")))return Nr.from(t)}if(o.isDocumentSchema())if(s){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof At?a[c]=l:a[c]=this._write(o,l);return a}else return structuredClone(t);return t}}}});var di,Wm=P(()=>{ao();m_();f_();di=class extends _r{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new td(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new ed(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var ui,Xm=P(()=>{$r();Ot();za();Wm();Zl();ui=class extends _s{serializer;deserializer;serviceTarget;codec;mixin=new dn;awsQueryCompatible;constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r}),this.serviceTarget=t,this.codec=new di({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${ie.of(r).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(Dn(r.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let a=li(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Xt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f),h={};for(let[_,R]of d.structIterator()){let I=R.getMergedTraits().jsonName??_;h[_]=this.codec.createDeserializer().readObject(R,s[I])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var g_,qI=P(()=>{Xm();g_=class extends ui{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var h_,HI=P(()=>{Xm();h_=class extends ui{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var p_,jI=P(()=>{$r();Ot();za();Wm();Zl();p_=class extends Zo{serializer;deserializer;codec;mixin=new dn;constructor({defaultNamespace:r}){super({defaultNamespace:r});let t={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new di(t),this.serializer=new ri(this.codec.createSerializer(),t),this.deserializer=new ti(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(r){this.codec.setSerdeContext(r),super.setSerdeContext(r)}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ie.of(r.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(r,t,n,s,o){let a=li(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Xt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f);await this.deserializeHttpMessage(c,t,n,s);let h={};for(let[_,R]of d.structIterator()){let I=R.getMergedTraits().jsonName??_;h[_]=this.codec.createDeserializer().readObject(R,s[I])}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/json"}}});var $I,t4,VI=P(()=>{$I=k(Ie()),t4=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,$I.expectUnion)(e)}});var KI=B((CEe,GI)=>{(()=>{"use strict";var e={d:(u,m)=>{for(var b in m)e.o(m,b)&&!e.o(u,b)&&Object.defineProperty(u,b,{enumerable:!0,get:m[b]})},o:(u,m)=>Object.prototype.hasOwnProperty.call(u,m),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{XMLBuilder:()=>Ks,XMLParser:()=>J2,XMLValidator:()=>oH});let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,m){let b=[],A=m.exec(u);for(;A;){let x=[];x.startIndex=m.lastIndex-A[0].length;let w=A.length;for(let L=0;L<w;L++)x.push(A[L]);b.push(x),A=m.exec(u)}return b}let o=function(u){return n.exec(u)!=null},a={allowBooleanAttributes:!1,unpairedTags:[]};function c(u,m){m=Object.assign({},a,m);let b=[],A=!1,x=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let w=0;w<u.length;w++)if(u[w]==="<"&&u[w+1]==="?"){if(w+=2,w=d(u,w),w.err)return w}else{if(u[w]!=="<"){if(l(u[w]))continue;return N("InvalidChar","char '"+u[w]+"' is not expected.",ce(u,w))}{let L=w;if(w++,u[w]==="!"){w=f(u,w);continue}{let O=!1;u[w]==="/"&&(O=!0,w++);let U="";for(;w<u.length&&u[w]!==">"&&u[w]!==" "&&u[w]!=="	"&&u[w]!==`
`&&u[w]!=="\r";w++)U+=u[w];if(U=U.trim(),U[U.length-1]==="/"&&(U=U.substring(0,U.length-1),w--),!o(U)){let le;return le=U.trim().length===0?"Invalid space after '<'.":"Tag '"+U+"' is an invalid name.",N("InvalidTag",le,ce(u,w))}let J=h(u,w);if(J===!1)return N("InvalidAttr","Attributes for '"+U+"' have open quote.",ce(u,w));let pe=J.value;if(w=J.index,pe[pe.length-1]==="/"){let le=w-pe.length;pe=pe.substring(0,pe.length-1);let Ue=R(pe,m);if(Ue!==!0)return N(Ue.err.code,Ue.err.msg,ce(u,le+Ue.err.line));A=!0}else if(O){if(!J.tagClosed)return N("InvalidTag","Closing tag '"+U+"' doesn't have proper closing.",ce(u,w));if(pe.trim().length>0)return N("InvalidTag","Closing tag '"+U+"' can't have attributes or invalid starting.",ce(u,L));if(b.length===0)return N("InvalidTag","Closing tag '"+U+"' has not been opened.",ce(u,L));{let le=b.pop();if(U!==le.tagName){let Ue=ce(u,le.tagStartPos);return N("InvalidTag","Expected closing tag '"+le.tagName+"' (opened in line "+Ue.line+", col "+Ue.col+") instead of closing tag '"+U+"'.",ce(u,L))}b.length==0&&(x=!0)}}else{let le=R(pe,m);if(le!==!0)return N(le.err.code,le.err.msg,ce(u,w-pe.length+le.err.line));if(x===!0)return N("InvalidXml","Multiple possible root nodes found.",ce(u,w));m.unpairedTags.indexOf(U)!==-1||b.push({tagName:U,tagStartPos:L}),A=!0}for(w++;w<u.length;w++)if(u[w]==="<"){if(u[w+1]==="!"){w++,w=f(u,w);continue}if(u[w+1]!=="?")break;if(w=d(u,++w),w.err)return w}else if(u[w]==="&"){let le=I(u,w);if(le==-1)return N("InvalidChar","char '&' is not expected.",ce(u,w));w=le}else if(x===!0&&!l(u[w]))return N("InvalidXml","Extra text at the end",ce(u,w));u[w]==="<"&&w--}}}return A?b.length==1?N("InvalidTag","Unclosed tag '"+b[0].tagName+"'.",ce(u,b[0].tagStartPos)):!(b.length>0)||N("InvalidXml","Invalid '"+JSON.stringify(b.map((w=>w.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):N("InvalidXml","Start tag expected.",1)}function l(u){return u===" "||u==="	"||u===`
`||u==="\r"}function d(u,m){let b=m;for(;m<u.length;m++)if(!(u[m]!="?"&&u[m]!=" ")){let A=u.substr(b,m-b);if(m>5&&A==="xml")return N("InvalidXml","XML declaration allowed only at the start of the document.",ce(u,m));if(u[m]=="?"&&u[m+1]==">"){m++;break}}return m}function f(u,m){if(u.length>m+5&&u[m+1]==="-"&&u[m+2]==="-"){for(m+=3;m<u.length;m++)if(u[m]==="-"&&u[m+1]==="-"&&u[m+2]===">"){m+=2;break}}else if(u.length>m+8&&u[m+1]==="D"&&u[m+2]==="O"&&u[m+3]==="C"&&u[m+4]==="T"&&u[m+5]==="Y"&&u[m+6]==="P"&&u[m+7]==="E"){let b=1;for(m+=8;m<u.length;m++)if(u[m]==="<")b++;else if(u[m]===">"&&(b--,b===0))break}else if(u.length>m+9&&u[m+1]==="["&&u[m+2]==="C"&&u[m+3]==="D"&&u[m+4]==="A"&&u[m+5]==="T"&&u[m+6]==="A"&&u[m+7]==="["){for(m+=8;m<u.length;m++)if(u[m]==="]"&&u[m+1]==="]"&&u[m+2]===">"){m+=2;break}}return m}let g='"',y="'";function h(u,m){let b="",A="",x=!1;for(;m<u.length;m++){if(u[m]===g||u[m]===y)A===""?A=u[m]:A!==u[m]||(A="");else if(u[m]===">"&&A===""){x=!0;break}b+=u[m]}return A===""&&{value:b,index:m,tagClosed:x}}let _=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function R(u,m){let b=s(u,_),A={};for(let x=0;x<b.length;x++){if(b[x][1].length===0)return N("InvalidAttr","Attribute '"+b[x][2]+"' has no space in starting.",me(b[x]));if(b[x][3]!==void 0&&b[x][4]===void 0)return N("InvalidAttr","Attribute '"+b[x][2]+"' is without value.",me(b[x]));if(b[x][3]===void 0&&!m.allowBooleanAttributes)return N("InvalidAttr","boolean attribute '"+b[x][2]+"' is not allowed.",me(b[x]));let w=b[x][2];if(!W(w))return N("InvalidAttr","Attribute '"+w+"' is an invalid name.",me(b[x]));if(A.hasOwnProperty(w))return N("InvalidAttr","Attribute '"+w+"' is repeated.",me(b[x]));A[w]=1}return!0}function I(u,m){if(u[++m]===";")return-1;if(u[m]==="#")return(function(A,x){let w=/\d/;for(A[x]==="x"&&(x++,w=/[\da-fA-F]/);x<A.length;x++){if(A[x]===";")return x;if(!A[x].match(w))break}return-1})(u,++m);let b=0;for(;m<u.length;m++,b++)if(!(u[m].match(/\w/)&&b<20)){if(u[m]===";")break;return-1}return m}function N(u,m,b){return{err:{code:u,msg:m,line:b.line||b,col:b.col}}}function W(u){return o(u)}function ce(u,m){let b=u.substring(0,m).split(/\r?\n/);return{line:b.length,col:b[b.length-1].length+1}}function me(u){return u.startIndex+u[1].length}let _e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,m,b){return u},captureMetaData:!1},Ke;Ke=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class wt{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,b){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:b})}addChild(m,b){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),b!==void 0&&(this.child[this.child.length-1][Ke]={startIndex:b})}static getMetaDataSymbol(){return Ke}}function Ne(u,m){let b={};if(u[m+3]!=="O"||u[m+4]!=="C"||u[m+5]!=="T"||u[m+6]!=="Y"||u[m+7]!=="P"||u[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let A=1,x=!1,w=!1,L="";for(;m<u.length;m++)if(u[m]!=="<"||w)if(u[m]===">"){if(w?u[m-1]==="-"&&u[m-2]==="-"&&(w=!1,A--):A--,A===0)break}else u[m]==="["?x=!0:L+=u[m];else{if(x&&Ko(u,"!ENTITY",m)){let O,U;m+=7,[O,U,m]=rt(u,m+1),U.indexOf("&")===-1&&(b[O]={regx:RegExp(`&${O};`,"g"),val:U})}else if(x&&Ko(u,"!ELEMENT",m)){m+=8;let{index:O}=I2(u,m+1);m=O}else if(x&&Ko(u,"!ATTLIST",m))m+=8;else if(x&&Ko(u,"!NOTATION",m)){m+=9;let{index:O}=Lt(u,m+1);m=O}else{if(!Ko(u,"!--",m))throw new Error("Invalid DOCTYPE");w=!0}A++,L=""}if(A!==0)throw new Error("Unclosed DOCTYPE")}return{entities:b,i:m}}let ze=(u,m)=>{for(;m<u.length&&/\s/.test(u[m]);)m++;return m};function rt(u,m){m=ze(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m])&&u[m]!=='"'&&u[m]!=="'";)b+=u[m],m++;if(FS(b),m=ze(u,m),u.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[m]==="%")throw new Error("Parameter entities are not supported");let A="";return[m,A]=Ca(u,m,"entity"),[b,A,--m]}function Lt(u,m){m=ze(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m]);)b+=u[m],m++;FS(b),m=ze(u,m);let A=u.substring(m,m+6).toUpperCase();if(A!=="SYSTEM"&&A!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${A}"`);m+=A.length,m=ze(u,m);let x=null,w=null;if(A==="PUBLIC")[m,x]=Ca(u,m,"publicIdentifier"),u[m=ze(u,m)]!=='"'&&u[m]!=="'"||([m,w]=Ca(u,m,"systemIdentifier"));else if(A==="SYSTEM"&&([m,w]=Ca(u,m,"systemIdentifier"),!w))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:b,publicIdentifier:x,systemIdentifier:w,index:--m}}function Ca(u,m,b){let A="",x=u[m];if(x!=='"'&&x!=="'")throw new Error(`Expected quoted string, found "${x}"`);for(m++;m<u.length&&u[m]!==x;)A+=u[m],m++;if(u[m]!==x)throw new Error(`Unterminated ${b} value`);return[++m,A]}function I2(u,m){m=ze(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m]);)b+=u[m],m++;if(!FS(b))throw new Error(`Invalid element name: "${b}"`);let A="";if(u[m=ze(u,m)]==="E"&&Ko(u,"MPTY",m))m+=4;else if(u[m]==="A"&&Ko(u,"NY",m))m+=2;else{if(u[m]!=="(")throw new Error(`Invalid Element Expression, found "${u[m]}"`);for(m++;m<u.length&&u[m]!==")";)A+=u[m],m++;if(u[m]!==")")throw new Error("Unterminated content model")}return{elementName:b,contentModel:A.trim(),index:m}}function Ko(u,m,b){for(let A=0;A<m.length;A++)if(m[A]!==u[b+A+1])return!1;return!0}function FS(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let k2=/^[-+]?0x[a-fA-F0-9]+$/,O2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,N2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},B2=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function VA(u){return typeof u=="function"?u:Array.isArray(u)?m=>{for(let b of u)if(typeof b=="string"&&m===b||b instanceof RegExp&&b.test(m))return!0}:()=>!1}class D2{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(b,A)=>String.fromCodePoint(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(b,A)=>String.fromCodePoint(Number.parseInt(A,16))}},this.addExternalEntities=M2,this.parseXml=q2,this.parseTextData=L2,this.resolveNameSpace=F2,this.buildAttributesMap=U2,this.isItStopNode=V2,this.replaceEntitiesValue=j2,this.readStopNodeData=G2,this.saveTextToParentTag=$2,this.addChild=H2,this.ignoreAttributesFn=VA(this.options.ignoreAttributes)}}function M2(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:u[A]}}}function L2(u,m,b,A,x,w,L){if(u!==void 0&&(this.options.trimValues&&!A&&(u=u.trim()),u.length>0)){L||(u=this.replaceEntitiesValue(u));let O=this.options.tagValueProcessor(m,u,b,x,w);return O==null?u:typeof O!=typeof u||O!==u?O:this.options.trimValues||u.trim()===u?GA(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function F2(u){if(this.options.removeNSPrefix){let m=u.split(":"),b=u.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(u=b+m[1])}return u}let z2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function U2(u,m,b){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let A=s(u,z2),x=A.length,w={};for(let L=0;L<x;L++){let O=this.resolveNameSpace(A[L][1]);if(this.ignoreAttributesFn(O,m))continue;let U=A[L][4],J=this.options.attributeNamePrefix+O;if(O.length)if(this.options.transformAttributeName&&(J=this.options.transformAttributeName(J)),J==="__proto__"&&(J="#__proto__"),U!==void 0){this.options.trimValues&&(U=U.trim()),U=this.replaceEntitiesValue(U);let pe=this.options.attributeValueProcessor(O,U,m);w[J]=pe==null?U:typeof pe!=typeof U||pe!==U?pe:GA(U,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(w[J]=!0)}if(!Object.keys(w).length)return;if(this.options.attributesGroupName){let L={};return L[this.options.attributesGroupName]=w,L}return w}}let q2=function(u){u=u.replace(/\r\n?/g,`
`);let m=new wt("!xml"),b=m,A="",x="";for(let w=0;w<u.length;w++)if(u[w]==="<")if(u[w+1]==="/"){let L=Wo(u,">",w,"Closing Tag is not closed."),O=u.substring(w+2,L).trim();if(this.options.removeNSPrefix){let pe=O.indexOf(":");pe!==-1&&(O=O.substr(pe+1))}this.options.transformTagName&&(O=this.options.transformTagName(O)),b&&(A=this.saveTextToParentTag(A,b,x));let U=x.substring(x.lastIndexOf(".")+1);if(O&&this.options.unpairedTags.indexOf(O)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${O}>`);let J=0;U&&this.options.unpairedTags.indexOf(U)!==-1?(J=x.lastIndexOf(".",x.lastIndexOf(".")-1),this.tagsNodeStack.pop()):J=x.lastIndexOf("."),x=x.substring(0,J),b=this.tagsNodeStack.pop(),A="",w=L}else if(u[w+1]==="?"){let L=zS(u,w,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,b,x),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){let O=new wt(L.tagName);O.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(O[":@"]=this.buildAttributesMap(L.tagExp,x,L.tagName)),this.addChild(b,O,x,w)}w=L.closeIndex+1}else if(u.substr(w+1,3)==="!--"){let L=Wo(u,"-->",w+4,"Comment is not closed.");if(this.options.commentPropName){let O=u.substring(w+4,L-2);A=this.saveTextToParentTag(A,b,x),b.add(this.options.commentPropName,[{[this.options.textNodeName]:O}])}w=L}else if(u.substr(w+1,2)==="!D"){let L=Ne(u,w);this.docTypeEntities=L.entities,w=L.i}else if(u.substr(w+1,2)==="!["){let L=Wo(u,"]]>",w,"CDATA is not closed.")-2,O=u.substring(w+9,L);A=this.saveTextToParentTag(A,b,x);let U=this.parseTextData(O,b.tagname,x,!0,!1,!0,!0);U==null&&(U=""),this.options.cdataPropName?b.add(this.options.cdataPropName,[{[this.options.textNodeName]:O}]):b.add(this.options.textNodeName,U),w=L+2}else{let L=zS(u,w,this.options.removeNSPrefix),O=L.tagName,U=L.rawTagName,J=L.tagExp,pe=L.attrExpPresent,le=L.closeIndex;this.options.transformTagName&&(O=this.options.transformTagName(O)),b&&A&&b.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,b,x,!1));let Ue=b;Ue&&this.options.unpairedTags.indexOf(Ue.tagname)!==-1&&(b=this.tagsNodeStack.pop(),x=x.substring(0,x.lastIndexOf("."))),O!==m.tagname&&(x+=x?"."+O:O);let Je=w;if(this.isItStopNode(this.options.stopNodes,x,O)){let $e="";if(J.length>0&&J.lastIndexOf("/")===J.length-1)O[O.length-1]==="/"?(O=O.substr(0,O.length-1),x=x.substr(0,x.length-1),J=O):J=J.substr(0,J.length-1),w=L.closeIndex;else if(this.options.unpairedTags.indexOf(O)!==-1)w=L.closeIndex;else{let $n=this.readStopNodeData(u,U,le+1);if(!$n)throw new Error(`Unexpected end of ${U}`);w=$n.i,$e=$n.tagContent}let $t=new wt(O);O!==J&&pe&&($t[":@"]=this.buildAttributesMap(J,x,O)),$e&&($e=this.parseTextData($e,O,x,!0,pe,!0,!0)),x=x.substr(0,x.lastIndexOf(".")),$t.add(this.options.textNodeName,$e),this.addChild(b,$t,x,Je)}else{if(J.length>0&&J.lastIndexOf("/")===J.length-1){O[O.length-1]==="/"?(O=O.substr(0,O.length-1),x=x.substr(0,x.length-1),J=O):J=J.substr(0,J.length-1),this.options.transformTagName&&(O=this.options.transformTagName(O));let $e=new wt(O);O!==J&&pe&&($e[":@"]=this.buildAttributesMap(J,x,O)),this.addChild(b,$e,x,Je),x=x.substr(0,x.lastIndexOf("."))}else{let $e=new wt(O);this.tagsNodeStack.push(b),O!==J&&pe&&($e[":@"]=this.buildAttributesMap(J,x,O)),this.addChild(b,$e,x,Je),b=$e}A="",w=le}}else A+=u[w];return m.child};function H2(u,m,b,A){this.options.captureMetaData||(A=void 0);let x=this.options.updateTag(m.tagname,b,m[":@"]);x===!1||(typeof x=="string"&&(m.tagname=x),u.addChild(m,A))}let j2=function(u){if(this.options.processEntities){for(let m in this.docTypeEntities){let b=this.docTypeEntities[m];u=u.replace(b.regx,b.val)}for(let m in this.lastEntities){let b=this.lastEntities[m];u=u.replace(b.regex,b.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let b=this.htmlEntities[m];u=u.replace(b.regex,b.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function $2(u,m,b,A){return u&&(A===void 0&&(A=m.child.length===0),(u=this.parseTextData(u,m.tagname,b,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,A))!==void 0&&u!==""&&m.add(this.options.textNodeName,u),u=""),u}function V2(u,m,b){let A="*."+b;for(let x in u){let w=u[x];if(A===w||m===w)return!0}return!1}function Wo(u,m,b,A){let x=u.indexOf(m,b);if(x===-1)throw new Error(A);return x+m.length-1}function zS(u,m,b,A=">"){let x=(function(le,Ue,Je=">"){let $e,$t="";for(let $n=Ue;$n<le.length;$n++){let Ws=le[$n];if($e)Ws===$e&&($e="");else if(Ws==='"'||Ws==="'")$e=Ws;else if(Ws===Je[0]){if(!Je[1])return{data:$t,index:$n};if(le[$n+1]===Je[1])return{data:$t,index:$n}}else Ws==="	"&&(Ws=" ");$t+=Ws}})(u,m+1,A);if(!x)return;let w=x.data,L=x.index,O=w.search(/\s/),U=w,J=!0;O!==-1&&(U=w.substring(0,O),w=w.substring(O+1).trimStart());let pe=U;if(b){let le=U.indexOf(":");le!==-1&&(U=U.substr(le+1),J=U!==x.data.substr(le+1))}return{tagName:U,tagExp:w,closeIndex:L,attrExpPresent:J,rawTagName:pe}}function G2(u,m,b){let A=b,x=1;for(;b<u.length;b++)if(u[b]==="<")if(u[b+1]==="/"){let w=Wo(u,">",b,`${m} is not closed`);if(u.substring(b+2,w).trim()===m&&(x--,x===0))return{tagContent:u.substring(A,b),i:w};b=w}else if(u[b+1]==="?")b=Wo(u,"?>",b+1,"StopNode is not closed.");else if(u.substr(b+1,3)==="!--")b=Wo(u,"-->",b+3,"StopNode is not closed.");else if(u.substr(b+1,2)==="![")b=Wo(u,"]]>",b,"StopNode is not closed.")-2;else{let w=zS(u,b,">");w&&((w&&w.tagName)===m&&w.tagExp[w.tagExp.length-1]!=="/"&&x++,b=w.closeIndex)}}function GA(u,m,b){if(m&&typeof u=="string"){let A=u.trim();return A==="true"||A!=="false"&&(function(x,w={}){if(w=Object.assign({},N2,w),!x||typeof x!="string")return x;let L=x.trim();if(w.skipLike!==void 0&&w.skipLike.test(L))return x;if(x==="0")return 0;if(w.hex&&k2.test(L))return(function(U){if(parseInt)return parseInt(U,16);if(Number.parseInt)return Number.parseInt(U,16);if(window&&window.parseInt)return window.parseInt(U,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(L);if(L.search(/.+[eE].+/)!==-1)return(function(U,J,pe){if(!pe.eNotation)return U;let le=J.match(B2);if(le){let Ue=le[1]||"",Je=le[3].indexOf("e")===-1?"E":"e",$e=le[2],$t=Ue?U[$e.length+1]===Je:U[$e.length]===Je;return $e.length>1&&$t?U:$e.length!==1||!le[3].startsWith(`.${Je}`)&&le[3][0]!==Je?pe.leadingZeros&&!$t?(J=(le[1]||"")+le[3],Number(J)):U:Number(J)}return U})(x,L,w);{let U=O2.exec(L);if(U){let J=U[1]||"",pe=U[2],le=((O=U[3])&&O.indexOf(".")!==-1&&((O=O.replace(/0+$/,""))==="."?O="0":O[0]==="."?O="0"+O:O[O.length-1]==="."&&(O=O.substring(0,O.length-1))),O),Ue=J?x[pe.length+1]===".":x[pe.length]===".";if(!w.leadingZeros&&(pe.length>1||pe.length===1&&!Ue))return x;{let Je=Number(L),$e=String(Je);if(Je===0||Je===-0)return Je;if($e.search(/[eE]/)!==-1)return w.eNotation?Je:x;if(L.indexOf(".")!==-1)return $e==="0"||$e===le||$e===`${J}${le}`?Je:x;let $t=pe?le:L;return pe?$t===$e||J+$t===$e?Je:x:$t===$e||$t===J+$e?Je:x}}return x}var O})(u,b)}return u!==void 0?u:""}let US=wt.getMetaDataSymbol();function K2(u,m){return KA(u,m)}function KA(u,m,b){let A,x={};for(let w=0;w<u.length;w++){let L=u[w],O=W2(L),U="";if(U=b===void 0?O:b+"."+O,O===m.textNodeName)A===void 0?A=L[O]:A+=""+L[O];else{if(O===void 0)continue;if(L[O]){let J=KA(L[O],m,U),pe=Y2(J,m);L[US]!==void 0&&(J[US]=L[US]),L[":@"]?X2(J,L[":@"],U,m):Object.keys(J).length!==1||J[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(J).length===0&&(m.alwaysCreateTextNode?J[m.textNodeName]="":J=""):J=J[m.textNodeName],x[O]!==void 0&&x.hasOwnProperty(O)?(Array.isArray(x[O])||(x[O]=[x[O]]),x[O].push(J)):m.isArray(O,U,pe)?x[O]=[J]:x[O]=J}}}return typeof A=="string"?A.length>0&&(x[m.textNodeName]=A):A!==void 0&&(x[m.textNodeName]=A),x}function W2(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];if(A!==":@")return A}}function X2(u,m,b,A){if(m){let x=Object.keys(m),w=x.length;for(let L=0;L<w;L++){let O=x[L];A.isArray(O,b+"."+O,!0,!0)?u[O]=[m[O]]:u[O]=m[O]}}}function Y2(u,m){let{textNodeName:b}=m,A=Object.keys(u).length;return A===0||!(A!==1||!u[b]&&typeof u[b]!="boolean"&&u[b]!==0)}class J2{constructor(m){this.externalEntities={},this.options=(function(b){return Object.assign({},_e,b)})(m)}parse(m,b){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(b){b===!0&&(b={});let w=c(m,b);if(w!==!0)throw Error(`${w.err.msg}:${w.err.line}:${w.err.col}`)}let A=new D2(this.options);A.addExternalEntities(this.externalEntities);let x=A.parseXml(m);return this.options.preserveOrder||x===void 0?x:K2(x,this.options)}addEntity(m,b){if(b.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(b==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=b}static getMetaDataSymbol(){return wt.getMetaDataSymbol()}}function Q2(u,m){let b="";return m.format&&m.indentBy.length>0&&(b=`
`),WA(u,m,"",b)}function WA(u,m,b,A){let x="",w=!1;for(let L=0;L<u.length;L++){let O=u[L],U=Z2(O);if(U===void 0)continue;let J="";if(J=b.length===0?U:`${b}.${U}`,U===m.textNodeName){let Je=O[U];eH(J,m)||(Je=m.tagValueProcessor(U,Je),Je=YA(Je,m)),w&&(x+=A),x+=Je,w=!1;continue}if(U===m.cdataPropName){w&&(x+=A),x+=`<![CDATA[${O[U][0][m.textNodeName]}]]>`,w=!1;continue}if(U===m.commentPropName){x+=A+`<!--${O[U][0][m.textNodeName]}-->`,w=!0;continue}if(U[0]==="?"){let Je=XA(O[":@"],m),$e=U==="?xml"?"":A,$t=O[U][0][m.textNodeName];$t=$t.length!==0?" "+$t:"",x+=$e+`<${U}${$t}${Je}?>`,w=!0;continue}let pe=A;pe!==""&&(pe+=m.indentBy);let le=A+`<${U}${XA(O[":@"],m)}`,Ue=WA(O[U],m,J,pe);m.unpairedTags.indexOf(U)!==-1?m.suppressUnpairedNode?x+=le+">":x+=le+"/>":Ue&&Ue.length!==0||!m.suppressEmptyNode?Ue&&Ue.endsWith(">")?x+=le+`>${Ue}${A}</${U}>`:(x+=le+">",Ue&&A!==""&&(Ue.includes("/>")||Ue.includes("</"))?x+=A+m.indentBy+Ue+A:x+=Ue,x+=`</${U}>`):x+=le+"/>",w=!0}return x}function Z2(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];if(u.hasOwnProperty(A)&&A!==":@")return A}}function XA(u,m){let b="";if(u&&!m.ignoreAttributes)for(let A in u){if(!u.hasOwnProperty(A))continue;let x=m.attributeValueProcessor(A,u[A]);x=YA(x,m),x===!0&&m.suppressBooleanAttributes?b+=` ${A.substr(m.attributeNamePrefix.length)}`:b+=` ${A.substr(m.attributeNamePrefix.length)}="${x}"`}return b}function eH(u,m){let b=(u=u.substr(0,u.length-m.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let A in m.stopNodes)if(m.stopNodes[A]===u||m.stopNodes[A]==="*."+b)return!0;return!1}function YA(u,m){if(u&&u.length>0&&m.processEntities)for(let b=0;b<m.entities.length;b++){let A=m.entities[b];u=u.replace(A.regex,A.val)}return u}let tH={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ks(u){this.options=Object.assign({},tH,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=VA(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=sH),this.processTextOrObjNode=rH,this.options.format?(this.indentate=nH,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function rH(u,m,b,A){let x=this.j2x(u,b+1,A.concat(m));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],m,x.attrStr,b):this.buildObjectNode(x.val,m,x.attrStr,b)}function nH(u){return this.options.indentBy.repeat(u)}function sH(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}Ks.prototype.build=function(u){return this.options.preserveOrder?Q2(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},Ks.prototype.j2x=function(u,m,b){let A="",x="",w=b.join(".");for(let L in u)if(Object.prototype.hasOwnProperty.call(u,L))if(u[L]===void 0)this.isAttribute(L)&&(x+="");else if(u[L]===null)this.isAttribute(L)||L===this.options.cdataPropName?x+="":L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(u[L]instanceof Date)x+=this.buildTextValNode(u[L],L,"",m);else if(typeof u[L]!="object"){let O=this.isAttribute(L);if(O&&!this.ignoreAttributesFn(O,w))A+=this.buildAttrPairStr(O,""+u[L]);else if(!O)if(L===this.options.textNodeName){let U=this.options.tagValueProcessor(L,""+u[L]);x+=this.replaceEntitiesValue(U)}else x+=this.buildTextValNode(u[L],L,"",m)}else if(Array.isArray(u[L])){let O=u[L].length,U="",J="";for(let pe=0;pe<O;pe++){let le=u[L][pe];if(le!==void 0)if(le===null)L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(typeof le=="object")if(this.options.oneListGroup){let Ue=this.j2x(le,m+1,b.concat(L));U+=Ue.val,this.options.attributesGroupName&&le.hasOwnProperty(this.options.attributesGroupName)&&(J+=Ue.attrStr)}else U+=this.processTextOrObjNode(le,L,m,b);else if(this.options.oneListGroup){let Ue=this.options.tagValueProcessor(L,le);Ue=this.replaceEntitiesValue(Ue),U+=Ue}else U+=this.buildTextValNode(le,L,"",m)}this.options.oneListGroup&&(U=this.buildObjectNode(U,L,J,m)),x+=U}else if(this.options.attributesGroupName&&L===this.options.attributesGroupName){let O=Object.keys(u[L]),U=O.length;for(let J=0;J<U;J++)A+=this.buildAttrPairStr(O[J],""+u[L][O[J]])}else x+=this.processTextOrObjNode(u[L],L,m,b);return{attrStr:A,val:x}},Ks.prototype.buildAttrPairStr=function(u,m){return m=this.options.attributeValueProcessor(u,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+u:" "+u+'="'+m+'"'},Ks.prototype.buildObjectNode=function(u,m,b,A){if(u==="")return m[0]==="?"?this.indentate(A)+"<"+m+b+"?"+this.tagEndChar:this.indentate(A)+"<"+m+b+this.closeTag(m)+this.tagEndChar;{let x="</"+m+this.tagEndChar,w="";return m[0]==="?"&&(w="?",x=""),!b&&b!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&w.length===0?this.indentate(A)+`<!--${u}-->`+this.newLine:this.indentate(A)+"<"+m+b+w+this.tagEndChar+u+this.indentate(A)+x:this.indentate(A)+"<"+m+b+w+">"+u+x}},Ks.prototype.closeTag=function(u){let m="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${u}`,m},Ks.prototype.buildTextValNode=function(u,m,b,A){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(A)+`<!--${u}-->`+this.newLine;if(m[0]==="?")return this.indentate(A)+"<"+m+b+"?"+this.tagEndChar;{let x=this.options.tagValueProcessor(m,u);return x=this.replaceEntitiesValue(x),x===""?this.indentate(A)+"<"+m+b+this.closeTag(m)+this.tagEndChar:this.indentate(A)+"<"+m+b+">"+x+"</"+m+this.tagEndChar}},Ks.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let b=this.options.entities[m];u=u.replace(b.regex,b.val)}return u};let oH={validate:c};GI.exports=r})()});var WI=B(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.parseXML=n4;var r4=KI(),y_=new r4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,r)=>r.trim()===""&&r.includes(`
`)?"":void 0});y_.addEntity("#xD","\r");y_.addEntity("#10",`
`);function n4(e){return y_.parse(e,!0)}});var rd=B((wEe,ZI)=>{"use strict";var Jm=Object.defineProperty,s4=Object.getOwnPropertyDescriptor,o4=Object.getOwnPropertyNames,i4=Object.prototype.hasOwnProperty,Qm=(e,r)=>Jm(e,"name",{value:r,configurable:!0}),a4=(e,r)=>{for(var t in r)Jm(e,t,{get:r[t],enumerable:!0})},c4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of o4(r))!i4.call(e,s)&&s!==t&&Jm(e,s,{get:()=>r[s],enumerable:!(n=s4(r,s))||n.enumerable});return e},l4=e=>c4(Jm({},"__esModule",{value:!0}),e),XI={};a4(XI,{XmlNode:()=>d4,XmlText:()=>QI,parseXML:()=>u4.parseXML});ZI.exports=l4(XI);function YI(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}Qm(YI,"escapeAttribute");function JI(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}Qm(JI,"escapeElement");var QI=class{constructor(e){this.value=e}static{Qm(this,"XmlText")}toString(){return JI(""+this.value)}},d4=class Ym{constructor(r,t=[]){this.name=r,this.children=t}static{Qm(this,"XmlNode")}attributes={};static of(r,t,n){let s=new Ym(r);return t!==void 0&&s.addChildNode(new QI(t)),n!==void 0&&s.withName(n),s}withName(r){return this.name=r,this}addAttribute(r,t){return this.attributes[r]=t,this}addChildNode(r){return this.children.push(r),this}removeAttribute(r){return delete this.attributes[r],this}n(r){return this.name=r,this}c(r){return this.children.push(r),this}a(r,t){return t!=null&&(this.attributes[r]=t),this}cc(r,t,n=t){if(r[t]!=null){let s=Ym.of(t,r[t]).withName(n);this.c(s)}}l(r,t,n,s){r[t]!=null&&s().map(a=>{a.withName(n),this.c(a)})}lc(r,t,n,s){if(r[t]!=null){let o=s(),a=new Ym(n);o.map(c=>{a.c(c)}),this.c(a)}}toString(){let r=!!this.children.length,t=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(t+=` ${s}="${YI(""+o)}"`)}return t+=r?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}},u4=WI()});var ek,tk,rk,mi,Zm=P(()=>{ek=k(rd());$r();Ot();tk=k(Ie()),rk=k(Wt());ao();mi=class extends _r{settings;stringDeserializer;constructor(r){super(),this.settings=r,this.stringDeserializer=new ei(r)}setSerdeContext(r){this.serdeContext=r,this.stringDeserializer.setSerdeContext(r)}read(r,t,n){let s=ie.of(r),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(d=>!!d.getMemberTraits().eventPayload)){let d={},f=Object.keys(o)[0];return o[f].isBlobSchema()?d[f]=t:d[f]=this.read(o[f],t),d}let c=(this.serdeContext?.utf8Encoder??rk.toUtf8)(t),l=this.parseXml(c);return this.readSchema(r,n?l[n]:l)}readSchema(r,t){let n=ie.of(r);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(t))return this.readSchema(n,[t]);if(t==null)return t;if(typeof t=="object"){let o=!!s.sparse,a=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),d=[],f=l.getMergedTraits().xmlName??"member",g=a?t:(t[0]??t)[f],y=Array.isArray(g)?g:[g];for(let h of y)(h!=null||o)&&d.push(this.readSchema(l,h));return d}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),d=n.getValueSchema(),f;a?f=Array.isArray(t)?t:[t]:f=Array.isArray(t.entry)?t.entry:[t.entry];let g=l.getMergedTraits().xmlName??"key",y=d.getMergedTraits().xmlName??"value";for(let h of f){let _=h[g],R=h[y];(R!=null||o)&&(c[_]=this.readSchema(d,R))}return c}if(n.isStructSchema()){for(let[l,d]of n.structIterator()){let f=d.getMergedTraits(),g=f.httpPayload?f.xmlName??d.getName():d.getMemberTraits().xmlName??l;t[g]!=null&&(c[l]=this.readSchema(d,t[g]))}return c}if(n.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,t)}parseXml(r){if(r.length){let t;try{t=(0,ek.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let n="#text",s=Object.keys(t)[0],o=t[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,tk.getValueFromTextNode)(o)}return{}}}});var nk,sk,ef,ok=P(()=>{$r();Ot();jr();nk=k(Ie()),sk=k(fr());ao();ef=class extends _r{settings;buffer;constructor(r){super(),this.settings=r}write(r,t,n=""){this.buffer===void 0&&(this.buffer="");let s=ie.of(r);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??sk.toBase64)(t)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())t!=null?(this.writeKey(n),this.writeValue(String(t))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Yn.v4)()));else if(s.isBigIntegerSchema())t!=null&&(this.writeKey(n),this.writeValue(String(t)));else if(s.isBigDecimalSchema())t!=null&&(this.writeKey(n),this.writeValue(t instanceof At?t.string:String(t)));else if(s.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(n),Zr(s,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,nk.dateToUtcString)(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let l of t){if(l==null)continue;let d=this.getKey("member",o.getMergedTraits().xmlName),f=a?`${n}${c}`:`${n}${d}.${c}`;this.write(o,l,f),++c}}}else if(s.isMapSchema()){if(t&&typeof t=="object"){let o=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,l=1;for(let[d,f]of Object.entries(t)){if(f==null)continue;let g=this.getKey("key",o.getMergedTraits().xmlName),y=c?`${n}${l}.${g}`:`${n}entry.${l}.${g}`,h=this.getKey("value",a.getMergedTraits().xmlName),_=c?`${n}${l}.${h}`:`${n}entry.${l}.${h}`;this.write(o,d,y),this.write(a,f,_),++l}}}else if(s.isStructSchema()){if(t&&typeof t=="object")for(let[o,a]of s.structIterator()){if(t[o]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(o,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,t[o],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let r=this.buffer;return delete this.buffer,r}getKey(r,t){let n=t??r;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(r){r.endsWith(".")&&(r=r.slice(0,r.length-1)),this.buffer+=`&${Vn(r)}=`}writeValue(r){this.buffer+=Vn(r)}}});var nd,E_=P(()=>{$r();Ot();za();Zm();ok();nd=class extends _s{options;serializer;deserializer;mixin=new dn;constructor(r){super({defaultNamespace:r.defaultNamespace}),this.options=r;let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace,serializeEmptyLists:!0};this.serializer=new ef(t),this.deserializer=new mi(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(r){this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Dn(r.input)==="unit"||!s.body)&&(s.body="");let o=r.name.split("#")[1]??r.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(r,t,n){let s=this.deserializer,o=ie.of(r.output),a={};if(n.statusCode>=300){let g=await Bn(n.body,t);g.byteLength>0&&Object.assign(a,await s.read(15,g)),await this.handleError(r,t,n,a,this.deserializeMetadata(n))}for(let g in n.headers){let y=n.headers[g];delete n.headers[g],n.headers[g.toLowerCase()]=y}let c=r.name.split("#")[1]??r.name,l=o.isStructSchema()&&this.useNestedResult()?c+"Result":void 0,d=await Bn(n.body,t);return d.byteLength>0&&Object.assign(a,await s.read(o,d,l)),{$metadata:this.deserializeMetadata(n),...a}}useNestedResult(){return!0}async handleError(r,t,n,s,o){let a=this.loadQueryErrorCode(n,s)??"Unknown",c=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);c.message=l,c.Error={Type:c.Type,Code:c.Code,Message:l};let{errorSchema:d,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,c,o,(R,I)=>R.find(N=>ie.of(N).getMergedTraits().awsQueryError?.[0]===I)),g=ie.of(d),y=Xt.for(d.namespace).getErrorCtor(d)??Error,h=new y(l),_={Error:c.Error};for(let[R,I]of g.structIterator()){let N=I.getMergedTraits().xmlName??R,W=c[N]??s[N];_[R]=this.deserializer.readSchema(I,W)}throw Object.assign(h,f,{$fault:g.getMergedTraits().error,message:l},_)}loadQueryErrorCode(r,t){let n=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(n!==void 0)return n;if(r.statusCode==404)return"NotFound"}loadQueryError(r){return r.Errors?.[0]?.Error??r.Errors?.Error??r.Error}loadQueryErrorMessage(r){let t=this.loadQueryError(r);return t?.message??t?.Message??r.message??r.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var b_,ik=P(()=>{E_();b_=class extends nd{options;constructor(r){super(r),this.options=r;let t={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,t)}useNestedResult(){return!1}}});var ak,ck,sd,__,C_,x_=P(()=>{ak=k(rd()),ck=k(Ie());d_();sd=(e,r)=>Gm(e,r).then(t=>{if(t.length){let n;try{n=(0,ak.parseXML)(t)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let s="#text",o=Object.keys(n)[0],a=n[o];return a[s]&&(a[o]=a[s],delete a[s]),(0,ck.getValueFromTextNode)(a)}return{}}),__=async(e,r)=>{let t=await sd(e,r);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},C_=(e,r)=>{if(r?.Error?.Code!==void 0)return r.Error.Code;if(r?.Code!==void 0)return r.Code;if(e.statusCode==404)return"NotFound"}});var un,w_,tf,od,A_=P(()=>{un=k(rd());$r();Ot();jr();w_=k(Ie()),tf=k(fr());ao();od=class extends _r{settings;stringBuffer;byteBuffer;buffer;constructor(r){super(),this.settings=r}write(r,t){let n=ie.of(r);if(n.isStringSchema()&&typeof t=="string")this.stringBuffer=t;else if(n.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??tf.fromBase64)(t);else{this.buffer=this.writeStruct(n,t,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let t=this.byteBuffer;return delete this.byteBuffer,t}if(this.stringBuffer!==void 0){let t=this.stringBuffer;return delete this.stringBuffer,t}let r=this.buffer;return this.settings.xmlNamespace&&(r?.attributes?.xmlns||r.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,r.toString()}writeStruct(r,t,n){let s=r.getMergedTraits(),o=r.isMemberSchema()&&!s.httpPayload?r.getMemberTraits().xmlName??r.getMemberName():s.xmlName??r.getName();if(!o||!r.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${r.getName(!0)}.`);let a=un.XmlNode.of(o),[c,l]=this.getXmlnsAttribute(r,n);for(let[d,f]of r.structIterator()){let g=t[d];if(g!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){a.addAttribute(f.getMergedTraits().xmlName??d,this.writeSimple(f,g));continue}if(f.isListSchema())this.writeList(f,g,a,l);else if(f.isMapSchema())this.writeMap(f,g,a,l);else if(f.isStructSchema())a.addChildNode(this.writeStruct(f,g,l));else{let y=un.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,g,y,l),a.addChildNode(y)}}}return l&&a.addAttribute(c,l),a}writeList(r,t,n,s){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${r.getName(!0)}`);let o=r.getMergedTraits(),a=r.getValueSchema(),c=a.getMergedTraits(),l=!!c.sparse,d=!!o.xmlFlattened,[f,g]=this.getXmlnsAttribute(r,s),y=(h,_)=>{if(a.isListSchema())this.writeList(a,Array.isArray(_)?_:[_],h,g);else if(a.isMapSchema())this.writeMap(a,_,h,g);else if(a.isStructSchema()){let R=this.writeStruct(a,_,g);h.addChildNode(R.withName(d?o.xmlName??r.getMemberName():c.xmlName??"member"))}else{let R=un.XmlNode.of(d?o.xmlName??r.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,_,R,g),h.addChildNode(R)}};if(d)for(let h of t)(l||h!=null)&&y(n,h);else{let h=un.XmlNode.of(o.xmlName??r.getMemberName());g&&h.addAttribute(f,g);for(let _ of t)(l||_!=null)&&y(h,_);n.addChildNode(h)}}writeMap(r,t,n,s,o=!1){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${r.getName(!0)}`);let a=r.getMergedTraits(),c=r.getKeySchema(),d=c.getMergedTraits().xmlName??"key",f=r.getValueSchema(),g=f.getMergedTraits(),y=g.xmlName??"value",h=!!g.sparse,_=!!a.xmlFlattened,[R,I]=this.getXmlnsAttribute(r,s),N=(W,ce,me)=>{let _e=un.XmlNode.of(d,ce),[Ke,wt]=this.getXmlnsAttribute(c,I);wt&&_e.addAttribute(Ke,wt),W.addChildNode(_e);let Ne=un.XmlNode.of(y);f.isListSchema()?this.writeList(f,me,Ne,I):f.isMapSchema()?this.writeMap(f,me,Ne,I,!0):f.isStructSchema()?Ne=this.writeStruct(f,me,I):this.writeSimpleInto(f,me,Ne,I),W.addChildNode(Ne)};if(_){for(let[W,ce]of Object.entries(t))if(h||ce!=null){let me=un.XmlNode.of(a.xmlName??r.getMemberName());N(me,W,ce),n.addChildNode(me)}}else{let W;o||(W=un.XmlNode.of(a.xmlName??r.getMemberName()),I&&W.addAttribute(R,I),n.addChildNode(W));for(let[ce,me]of Object.entries(t))if(h||me!=null){let _e=un.XmlNode.of("entry");N(_e,ce,me),(o?n:W).addChildNode(_e)}}}writeSimple(r,t){if(t===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=ie.of(r),s=null;if(t&&typeof t=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??tf.toBase64)(t);else if(n.isTimestampSchema()&&t instanceof Date)switch(Zr(n,this.settings)){case 5:s=t.toISOString().replace(".000Z","Z");break;case 6:s=(0,w_.dateToUtcString)(t);break;case 7:s=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),s=(0,w_.dateToUtcString)(t);break}else{if(n.isBigDecimalSchema()&&t)return t instanceof At?t.string:String(t);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(t)),n.isStringSchema()&&(t===void 0&&n.isIdempotencyToken()?s=(0,Yn.v4)():s=String(t)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${t}`);return s}writeSimpleInto(r,t,n,s){let o=this.writeSimple(r,t),a=ie.of(r),c=new un.XmlText(o),[l,d]=this.getXmlnsAttribute(a,s);d&&n.addAttribute(l,d),n.addChildNode(c)}getXmlnsAttribute(r,t){let n=r.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==t?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var id,P_=P(()=>{ao();Zm();A_();id=class extends _r{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new od(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new mi(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var v_,lk=P(()=>{$r();Ot();za();x_();P_();v_=class extends Zo{codec;serializer;deserializer;mixin=new dn;constructor(r){super(r);let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace};this.codec=new id(t),this.serializer=new ri(this.codec.createSerializer(),t),this.deserializer=new ti(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ie.of(r.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let a=C_(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",g=Xt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f);await this.deserializeHttpMessage(c,t,n,s);let h={};for(let[_,R]of d.structIterator()){let I=R.getMergedTraits().xmlName??_,N=s.Error?.[I]??s[I];h[_]=this.codec.createDeserializer().readSchema(R,N)}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/xml"}}});var dk=P(()=>{SI();EI();qI();HI();Xm();jI();Wm();m_();f_();VI();Zl();ik();E_();lk();P_();Zm();A_();x_()});var mn={};ln(mn,{AWSSDKSigV4Signer:()=>JS,AwsEc2QueryProtocol:()=>b_,AwsJson1_0Protocol:()=>g_,AwsJson1_1Protocol:()=>h_,AwsJsonRpcProtocol:()=>ui,AwsQueryProtocol:()=>nd,AwsRestJsonProtocol:()=>p_,AwsRestXmlProtocol:()=>v_,AwsSdkSigV4ASigner:()=>kl,AwsSdkSigV4Signer:()=>Hr,AwsSmithyRpcV2CborProtocol:()=>Zb,JsonCodec:()=>di,JsonShapeDeserializer:()=>ed,JsonShapeSerializer:()=>td,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Pa,NODE_SIGV4A_CONFIG_OPTIONS:()=>RR,XmlCodec:()=>id,XmlShapeDeserializer:()=>mi,XmlShapeSerializer:()=>od,_toBool:()=>kV,_toNum:()=>OV,_toStr:()=>IV,awsExpectUnion:()=>t4,emitWarningIfUnsupportedVersion:()=>xa,getBearerTokenEnvKey:()=>Uu,loadRestJsonErrorCode:()=>li,loadRestXmlErrorCode:()=>C_,parseJsonBody:()=>Ua,parseJsonErrorBody:()=>u_,parseXmlBody:()=>sd,parseXmlErrorBody:()=>__,resolveAWSSDKSigV4Config:()=>eI,resolveAwsSdkSigV4AConfig:()=>TR,resolveAwsSdkSigV4Config:()=>ai,setCredentialFeature:()=>Ys,setFeature:()=>sP,setTokenFeature:()=>iP,state:()=>zu,validateSigningProperties:()=>Aa});var Vt=P(()=>{Nn();Mb();dk()});var fk=B((Tbe,mk)=>{var rf=Object.defineProperty,m4=Object.getOwnPropertyDescriptor,f4=Object.getOwnPropertyNames,g4=Object.prototype.hasOwnProperty,h4=(e,r)=>rf(e,"name",{value:r,configurable:!0}),p4=(e,r)=>{for(var t in r)rf(e,t,{get:r[t],enumerable:!0})},y4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of f4(r))!g4.call(e,s)&&s!==t&&rf(e,s,{get:()=>r[s],enumerable:!(n=m4(r,s))||n.enumerable});return e},S4=e=>y4(rf({},"__esModule",{value:!0}),e),uk={};p4(uk,{isArrayBuffer:()=>E4});mk.exports=S4(uk);var E4=h4(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var yk=B((Rbe,pk)=>{var nf=Object.defineProperty,b4=Object.getOwnPropertyDescriptor,_4=Object.getOwnPropertyNames,C4=Object.prototype.hasOwnProperty,gk=(e,r)=>nf(e,"name",{value:r,configurable:!0}),x4=(e,r)=>{for(var t in r)nf(e,t,{get:r[t],enumerable:!0})},w4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of _4(r))!C4.call(e,s)&&s!==t&&nf(e,s,{get:()=>r[s],enumerable:!(n=b4(r,s))||n.enumerable});return e},A4=e=>w4(nf({},"__esModule",{value:!0}),e),hk={};x4(hk,{fromArrayBuffer:()=>v4,fromString:()=>T4});pk.exports=A4(hk);var P4=fk(),T_=require("buffer"),v4=gk((e,r=0,t=e.byteLength-r)=>{if(!(0,P4.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return T_.Buffer.from(e,r,t)},"fromArrayBuffer"),T4=gk((e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?T_.Buffer.from(e,r):T_.Buffer.from(e)},"fromString")});var Ck=B((Ibe,_k)=>{var sf=Object.defineProperty,R4=Object.getOwnPropertyDescriptor,I4=Object.getOwnPropertyNames,k4=Object.prototype.hasOwnProperty,R_=(e,r)=>sf(e,"name",{value:r,configurable:!0}),O4=(e,r)=>{for(var t in r)sf(e,t,{get:r[t],enumerable:!0})},N4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of I4(r))!k4.call(e,s)&&s!==t&&sf(e,s,{get:()=>r[s],enumerable:!(n=R4(r,s))||n.enumerable});return e},B4=e=>N4(sf({},"__esModule",{value:!0}),e),Sk={};O4(Sk,{fromUtf8:()=>bk,toUint8Array:()=>D4,toUtf8:()=>M4});_k.exports=B4(Sk);var Ek=yk(),bk=R_(e=>{let r=(0,Ek.fromString)(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),D4=R_(e=>typeof e=="string"?bk(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),M4=R_(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,Ek.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var xk=B(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.convertToBuffer=void 0;var L4=Ck(),F4=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:L4.fromUtf8;function z4(e){return e instanceof Uint8Array?e:typeof e=="string"?F4(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}of.convertToBuffer=z4});var wk=B(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.isEmptyData=void 0;function U4(e){return typeof e=="string"?e.length===0:e.byteLength===0}af.isEmptyData=U4});var Ak=B(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.numToUint8=void 0;function q4(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}cf.numToUint8=q4});var Pk=B(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.uint32ArrayFrom=void 0;function H4(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),t=0;t<e.length;)r[t]=e[t],t+=1;return r}return Uint32Array.from(e)}lf.uint32ArrayFrom=H4});var qa=B(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.uint32ArrayFrom=Qn.numToUint8=Qn.isEmptyData=Qn.convertToBuffer=void 0;var j4=xk();Object.defineProperty(Qn,"convertToBuffer",{enumerable:!0,get:function(){return j4.convertToBuffer}});var $4=wk();Object.defineProperty(Qn,"isEmptyData",{enumerable:!0,get:function(){return $4.isEmptyData}});var V4=Ak();Object.defineProperty(Qn,"numToUint8",{enumerable:!0,get:function(){return V4.numToUint8}});var G4=Pk();Object.defineProperty(Qn,"uint32ArrayFrom",{enumerable:!0,get:function(){return G4.uint32ArrayFrom}})});var Rk=B(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.AwsCrc32c=void 0;var vk=(Xn(),Re(Wn)),I_=qa(),Tk=k_(),K4=(function(){function e(){this.crc32c=new Tk.Crc32c}return e.prototype.update=function(r){(0,I_.isEmptyData)(r)||this.crc32c.update((0,I_.convertToBuffer)(r))},e.prototype.digest=function(){return vk.__awaiter(this,void 0,void 0,function(){return vk.__generator(this,function(r){return[2,(0,I_.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Tk.Crc32c},e})();df.AwsCrc32c=K4});var k_=B(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.AwsCrc32c=lo.Crc32c=lo.crc32c=void 0;var W4=(Xn(),Re(Wn)),X4=qa();function Y4(e){return new Ik().update(e).digest()}lo.crc32c=Y4;var Ik=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=W4.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^Q4[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();lo.Crc32c=Ik;var J4=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Q4=(0,X4.uint32ArrayFrom)(J4),Z4=Rk();Object.defineProperty(lo,"AwsCrc32c",{enumerable:!0,get:function(){return Z4.AwsCrc32c}})});var Nk=B(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.AwsCrc32=void 0;var kk=(Xn(),Re(Wn)),O_=qa(),Ok=mf(),e6=(function(){function e(){this.crc32=new Ok.Crc32}return e.prototype.update=function(r){(0,O_.isEmptyData)(r)||this.crc32.update((0,O_.convertToBuffer)(r))},e.prototype.digest=function(){return kk.__awaiter(this,void 0,void 0,function(){return kk.__generator(this,function(r){return[2,(0,O_.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Ok.Crc32},e})();uf.AwsCrc32=e6});var mf=B(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.AwsCrc32=uo.Crc32=uo.crc32=void 0;var t6=(Xn(),Re(Wn)),r6=qa();function n6(e){return new Bk().update(e).digest()}uo.crc32=n6;var Bk=(function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=t6.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^o6[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e})();uo.Crc32=Bk;var s6=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o6=(0,r6.uint32ArrayFrom)(s6),i6=Nk();Object.defineProperty(uo,"AwsCrc32",{enumerable:!0,get:function(){return i6.AwsCrc32}})});var Mk=B(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.getCrc32ChecksumAlgorithmFunction=void 0;var a6=(Xn(),Re(Wn)),c6=mf(),l6=qa(),Dk=a6.__importStar(require("zlib")),N_=class{checksum=0;update(r){this.checksum=Dk.crc32(r,this.checksum)}async digest(){return(0,l6.numToUint8)(this.checksum)}reset(){this.checksum=0}},d6=()=>typeof Dk.crc32>"u"?c6.AwsCrc32:N_;ff.getCrc32ChecksumAlgorithmFunction=d6});var z_=B(ge=>{"use strict";var Ts=(Vt(),Re(mn)),Fk=We(),zk=Yo(),u6=Hu(),m6=k_(),f6=Mk(),g6=Wt(),Lk=Er(),Rs={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},M_=Rs.WHEN_SUPPORTED,Ha={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},L_=Rs.WHEN_SUPPORTED;ge.ChecksumAlgorithm=void 0;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(ge.ChecksumAlgorithm||(ge.ChecksumAlgorithm={}));ge.ChecksumLocation=void 0;(function(e){e.HEADER="header",e.TRAILER="trailer"})(ge.ChecksumLocation||(ge.ChecksumLocation={}));var gf=ge.ChecksumAlgorithm.CRC32,ja;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(ja||(ja={}));var hf=(e,r,t,n)=>{if(!(r in e))return;let s=e[r].toUpperCase();if(!Object.values(t).includes(s))throw new TypeError(`Cannot load ${n} '${r}'. Expected one of ${Object.values(t)}, got '${e[r]}'.`);return s},Uk="AWS_REQUEST_CHECKSUM_CALCULATION",qk="request_checksum_calculation",h6={environmentVariableSelector:e=>hf(e,Uk,Rs,ja.ENV),configFileSelector:e=>hf(e,qk,Rs,ja.CONFIG),default:M_},Hk="AWS_RESPONSE_CHECKSUM_VALIDATION",jk="response_checksum_validation",p6={environmentVariableSelector:e=>hf(e,Hk,Ha,ja.ENV),configFileSelector:e=>hf(e,jk,Ha,ja.CONFIG),default:L_},B_={CrtCrc64Nvme:null},D_=[ge.ChecksumAlgorithm.CRC32,ge.ChecksumAlgorithm.CRC32C,ge.ChecksumAlgorithm.CRC64NVME,ge.ChecksumAlgorithm.SHA1,ge.ChecksumAlgorithm.SHA256],y6=[ge.ChecksumAlgorithm.SHA256,ge.ChecksumAlgorithm.SHA1,ge.ChecksumAlgorithm.CRC32,ge.ChecksumAlgorithm.CRC32C,ge.ChecksumAlgorithm.CRC64NVME],S6=(e,{requestChecksumRequired:r,requestAlgorithmMember:t,requestChecksumCalculation:n})=>{if(!t)return n===Rs.WHEN_SUPPORTED||r?gf:void 0;if(!e[t])return;let s=e[t];if(!D_.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${D_}.`);return s},F_=e=>e===ge.ChecksumAlgorithm.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,E6=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(t===n.toLowerCase())return!0;return!1},b6=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(n.toLowerCase().startsWith(t))return!0;return!1},$k=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!u6.isArrayBuffer(e),Vk=(e,r)=>{switch(e){case ge.ChecksumAlgorithm.MD5:return r.md5;case ge.ChecksumAlgorithm.CRC32:return f6.getCrc32ChecksumAlgorithmFunction();case ge.ChecksumAlgorithm.CRC32C:return m6.AwsCrc32c;case ge.ChecksumAlgorithm.CRC64NVME:if(typeof B_.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return B_.CrtCrc64Nvme;case ge.ChecksumAlgorithm.SHA1:return r.sha1;case ge.ChecksumAlgorithm.SHA256:return r.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},Gk=(e,r)=>{let t=new e;return t.update(g6.toUint8Array(r||"")),t.digest()},Kk={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Wk=(e,r)=>(t,n)=>async s=>{if(!Fk.HttpRequest.isInstance(s.request)||b6("x-amz-checksum-",s.request.headers))return t(s);let{request:o,input:a}=s,{body:c,headers:l}=o,{base64Encoder:d,streamHasher:f}=e,{requestChecksumRequired:g,requestAlgorithmMember:y}=r,h=await e.requestChecksumCalculation(),_=y?.name,R=y?.httpHeader;_&&!a[_]&&(h===Rs.WHEN_SUPPORTED||g)&&(a[_]=gf,R&&(l[R]=gf));let I=S6(a,{requestChecksumRequired:g,requestAlgorithmMember:y?.name,requestChecksumCalculation:h}),N=c,W=l;if(I){switch(I){case ge.ChecksumAlgorithm.CRC32:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ge.ChecksumAlgorithm.CRC32C:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ge.ChecksumAlgorithm.CRC64NVME:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case ge.ChecksumAlgorithm.SHA1:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ge.ChecksumAlgorithm.SHA256:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let me=F_(I),_e=Vk(I,e);if($k(c)){let{getAwsChunkedEncodingStream:Ke,bodyLengthChecker:wt}=e;N=Ke(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?zk.createBufferedReadable(c,e.requestStreamBufferSize,n.logger):c,{base64Encoder:d,bodyLengthChecker:wt,checksumLocationName:me,checksumAlgorithmFn:_e,streamHasher:f}),W={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":me},delete W["content-length"]}else if(!E6(me,l)){let Ke=await Gk(_e,c);W={...l,[me]:d(Ke)}}}return await t({...s,request:{...o,headers:W,body:N}})},_6={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},C6=(e,r)=>(t,n)=>async s=>{let o=s.input,{requestValidationModeMember:a}=r,c=await e.requestChecksumCalculation(),l=await e.responseChecksumValidation();switch(c){case Rs.WHEN_REQUIRED:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Rs.WHEN_SUPPORTED:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case Ha.WHEN_REQUIRED:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Ha.WHEN_SUPPORTED:Ts.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return a&&!o[a]&&l===Ha.WHEN_SUPPORTED&&(o[a]="ENABLED"),t(s)},Xk=(e=[])=>{let r=[];for(let t of y6)!e.includes(t)||!D_.includes(t)||r.push(t);return r},x6=e=>{let r=e.lastIndexOf("-");if(r!==-1){let t=e.slice(r+1);if(!t.startsWith("0")){let n=parseInt(t,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},w6=async(e,{checksumAlgorithmFn:r,base64Encoder:t})=>t(await Gk(r,e)),A6=async(e,{config:r,responseAlgorithms:t,logger:n})=>{let s=Xk(t),{body:o,headers:a}=e;for(let c of s){let l=F_(c),d=a[l];if(d){let f;try{f=Vk(c,r)}catch(h){if(c===ge.ChecksumAlgorithm.CRC64NVME){n?.warn(`Skipping ${ge.ChecksumAlgorithm.CRC64NVME} checksum validation: ${h.message}`);continue}throw h}let{base64Encoder:g}=r;if($k(o)){e.body=zk.createChecksumStream({expectedChecksum:d,checksumSourceLocation:l,checksum:new f,source:o,base64Encoder:g});return}let y=await w6(o,{checksumAlgorithmFn:f,base64Encoder:g});if(y===d)break;throw new Error(`Checksum mismatch: expected "${y}" but received "${d}" in response header "${l}".`)}}},P6={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},v6=(e,r)=>(t,n)=>async s=>{if(!Fk.HttpRequest.isInstance(s.request))return t(s);let o=s.input,a=await t(s),c=a.response,{requestValidationModeMember:l,responseAlgorithms:d}=r;if(l&&o[l]==="ENABLED"){let{clientName:f,commandName:g}=n;if(f==="S3Client"&&g==="GetObjectCommand"&&Xk(d).every(h=>{let _=F_(h),R=c.headers[_];return!R||x6(R)}))return a;await A6(c,{config:e,responseAlgorithms:d,logger:n.logger})}return a},T6=(e,r)=>({applyToStack:t=>{t.add(Wk(e,r),Kk),t.addRelativeTo(C6(e,r),_6),t.addRelativeTo(v6(e,r),P6)}}),R6=e=>{let{requestChecksumCalculation:r,responseChecksumValidation:t,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:Lk.normalizeProvider(r??M_),responseChecksumValidation:Lk.normalizeProvider(t??L_),requestStreamBufferSize:Number(n??0)})};ge.CONFIG_REQUEST_CHECKSUM_CALCULATION=qk;ge.CONFIG_RESPONSE_CHECKSUM_VALIDATION=jk;ge.DEFAULT_CHECKSUM_ALGORITHM=gf;ge.DEFAULT_REQUEST_CHECKSUM_CALCULATION=M_;ge.DEFAULT_RESPONSE_CHECKSUM_VALIDATION=L_;ge.ENV_REQUEST_CHECKSUM_CALCULATION=Uk;ge.ENV_RESPONSE_CHECKSUM_VALIDATION=Hk;ge.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS=h6;ge.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS=p6;ge.RequestChecksumCalculation=Rs;ge.ResponseChecksumValidation=Ha;ge.crc64NvmeCrtContainer=B_;ge.flexibleChecksumsMiddleware=Wk;ge.flexibleChecksumsMiddlewareOptions=Kk;ge.getFlexibleChecksumsPlugin=T6;ge.resolveFlexibleChecksumsConfig=R6});var ad=B((Hbe,eO)=>{"use strict";var yf=Object.defineProperty,I6=Object.getOwnPropertyDescriptor,k6=Object.getOwnPropertyNames,O6=Object.prototype.hasOwnProperty,pf=(e,r)=>yf(e,"name",{value:r,configurable:!0}),N6=(e,r)=>{for(var t in r)yf(e,t,{get:r[t],enumerable:!0})},B6=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of k6(r))!O6.call(e,s)&&s!==t&&yf(e,s,{get:()=>r[s],enumerable:!(n=I6(r,s))||n.enumerable});return e},D6=e=>B6(yf({},"__esModule",{value:!0}),e),Yk={};N6(Yk,{getHostHeaderPlugin:()=>L6,hostHeaderMiddleware:()=>Qk,hostHeaderMiddlewareOptions:()=>Zk,resolveHostHeaderConfig:()=>Jk});eO.exports=D6(Yk);var M6=We();function Jk(e){return e}pf(Jk,"resolveHostHeaderConfig");var Qk=pf(e=>r=>async t=>{if(!M6.HttpRequest.isInstance(t.request))return r(t);let{request:n}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return r(t)},"hostHeaderMiddleware"),Zk={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},L6=pf(e=>({applyToStack:pf(r=>{r.add(Qk(e),Zk)},"applyToStack")}),"getHostHeaderPlugin")});var cd=B((jbe,sO)=>{"use strict";var Sf=Object.defineProperty,F6=Object.getOwnPropertyDescriptor,z6=Object.getOwnPropertyNames,U6=Object.prototype.hasOwnProperty,U_=(e,r)=>Sf(e,"name",{value:r,configurable:!0}),q6=(e,r)=>{for(var t in r)Sf(e,t,{get:r[t],enumerable:!0})},H6=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of z6(r))!U6.call(e,s)&&s!==t&&Sf(e,s,{get:()=>r[s],enumerable:!(n=F6(r,s))||n.enumerable});return e},j6=e=>H6(Sf({},"__esModule",{value:!0}),e),tO={};q6(tO,{getLoggerPlugin:()=>$6,loggerMiddleware:()=>rO,loggerMiddlewareOptions:()=>nO});sO.exports=j6(tO);var rO=U_(()=>(e,r)=>async t=>{try{let n=await e(t),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=c,f=l??r.inputFilterSensitiveLog,g=d??r.outputFilterSensitiveLog,{$metadata:y,...h}=n.output;return a?.info?.({clientName:s,commandName:o,input:f(t.input),output:g(h),metadata:y}),n}catch(n){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l}=c,d=l??r.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:d(t.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),nO={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},$6=U_(e=>({applyToStack:U_(r=>{r.add(rO(),nO)},"applyToStack")}),"getLoggerPlugin")});var oO=B(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.InvokeStore=void 0;var V6=require("async_hooks"),q_=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";q_||(globalThis.awslambda=globalThis.awslambda||{});var G6={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},H_=class{static storage=new V6.AsyncLocalStorage;static PROTECTED_KEYS=G6;static run(r,t){return this.storage.run({...r},t)}static getContext(){return this.storage.getStore()}static get(r){return this.storage.getStore()?.[r]}static set(r,t){if(this.isProtectedKey(r))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[r]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(r){return r===this.PROTECTED_KEYS.REQUEST_ID||r===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},Ef;!q_&&globalThis.awslambda?.InvokeStore?Ef=globalThis.awslambda.InvokeStore:(Ef=H_,!q_&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Ef));bf.InvokeStore=Ef});var $_=B(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.recursionDetectionMiddleware=void 0;var K6=oO(),W6=We(),j_="X-Amzn-Trace-Id",X6="AWS_LAMBDA_FUNCTION_NAME",Y6="_X_AMZN_TRACE_ID",J6=()=>e=>async r=>{let{request:t}=r;if(!W6.HttpRequest.isInstance(t))return e(r);let n=Object.keys(t.headers??{}).find(d=>d.toLowerCase()===j_.toLowerCase())??j_;if(t.headers.hasOwnProperty(n))return e(r);let s=process.env[X6],o=process.env[Y6],c=K6.InvokeStore.getXRayTraceId()??o,l=d=>typeof d=="string"&&d.length>0;return l(s)&&l(c)&&(t.headers[j_]=c),e({...r,request:t})};_f.recursionDetectionMiddleware=J6});var ld=B((Gbe,K_)=>{"use strict";var Cf=Object.defineProperty,Q6=Object.getOwnPropertyDescriptor,Z6=Object.getOwnPropertyNames,eG=Object.prototype.hasOwnProperty,iO=(e,r)=>Cf(e,"name",{value:r,configurable:!0}),tG=(e,r)=>{for(var t in r)Cf(e,t,{get:r[t],enumerable:!0})},V_=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Z6(r))!eG.call(e,s)&&s!==t&&Cf(e,s,{get:()=>r[s],enumerable:!(n=Q6(r,s))||n.enumerable});return e},rG=(e,r,t)=>(V_(e,r,"default"),t&&V_(t,r,"default")),nG=e=>V_(Cf({},"__esModule",{value:!0}),e),G_={};tG(G_,{getRecursionDetectionPlugin:()=>iG});K_.exports=nG(G_);var sG={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},oG=$_(),iG=iO(e=>({applyToStack:iO(r=>{r.add((0,oG.recursionDetectionMiddleware)(),sG)},"applyToStack")}),"getRecursionDetectionPlugin");rG(G_,$_(),K_.exports)});var xf=B($a=>{"use strict";var aG=(e,r,t)=>{if(r in e){if(e[r]==="true")return!0;if(e[r]==="false")return!1;throw new Error(`Cannot load ${t} "${r}". Expected "true" or "false", got ${e[r]}.`)}},cG=(e,r,t)=>{if(!(r in e))return;let n=parseInt(e[r],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${t} '${r}'. Expected number, got '${e[r]}'.`);return n};$a.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})($a.SelectorType||($a.SelectorType={}));$a.booleanSelector=aG;$a.numberSelector=cG});var X_=B((Wbe,cO)=>{"use strict";var wf=Object.defineProperty,lG=Object.getOwnPropertyDescriptor,dG=Object.getOwnPropertyNames,uG=Object.prototype.hasOwnProperty,W_=(e,r)=>wf(e,"name",{value:r,configurable:!0}),mG=(e,r)=>{for(var t in r)wf(e,t,{get:r[t],enumerable:!0})},fG=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of dG(r))!uG.call(e,s)&&s!==t&&wf(e,s,{get:()=>r[s],enumerable:!(n=lG(r,s))||n.enumerable});return e},gG=e=>fG(wf({},"__esModule",{value:!0}),e),aO={};mG(aO,{build:()=>yG,parse:()=>pG,validate:()=>hG});cO.exports=gG(aO);var hG=W_(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),pG=W_(e=>{let r=e.split(":");if(r.length<6||r[0]!=="arn")throw new Error("Malformed ARN");let[,t,n,s,o,...a]=r;return{partition:t,service:n,region:s,accountId:o,resource:a.join(":")}},"parse"),yG=W_(e=>{let{partition:r="aws",service:t,region:n,accountId:s,resource:o}=e;if([t,n,s,o].some(a=>typeof a!="string"))throw new Error("Input ARN object is invalid");return`arn:${r}:${t}:${n}:${s}:${o}`},"build")});var Tf=B(Xe=>{"use strict";var dd=We(),mO=Ie(),SG=Dm(),Af=xf(),EG=(Vt(),Re(mn)),fO=(Dr(),Re(si));ys();var bG=Er(),lO=Yo(),_G=X_(),CG="content-length",xG="x-amz-decoded-content-length";function gO(){return(e,r)=>async t=>{let{request:n}=t;if(dd.HttpRequest.isInstance(n)&&!(CG in n.headers)&&!(xG in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof r?.logger?.warn=="function"&&!(r.logger instanceof mO.NoOpLogger)?r.logger.warn(s):console.warn(s)}return e({...t})}}var hO={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},wG=e=>({applyToStack:r=>{r.add(gO(),hO)}}),pO=e=>(r,t)=>async n=>{let s=await e.region(),o=e.region,a=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),a=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{let c=await r(n);if(t.__s3RegionRedirect){a();let l=await e.region();if(s!==l)throw new Error("Region was not restored following S3 region redirect.")}return c}catch(c){throw a(),c}},yO={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function SO(e){return(r,t)=>async n=>{try{return await r(n)}catch(s){if(e.followRegionRedirects){let o=s?.$metadata?.httpStatusCode,a=t.commandName==="HeadBucketCommand",c=s?.$response?.headers?.["x-amz-bucket-region"];if(c&&(o===301||o===400&&(s?.name==="IllegalLocationConstraintException"||a))){try{let l=c;t.logger?.debug(`Redirecting from ${await e.region()} to ${l}`),t.__s3RegionRedirect=l}catch(l){throw new Error("Region redirect failed: "+l)}return r(n)}}throw s}}}var EO={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},AG=e=>({applyToStack:r=>{r.add(SO(e),EO),r.addRelativeTo(pO(e),yO)}}),bO=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(dd.HttpResponse.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{mO.parseRfc7231DateTime(o.headers.expires)}catch(a){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${a}`),delete o.headers.expires}}return s},_O={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},PG=e=>({applyToStack:r=>{r.addRelativeTo(bO(),_O)}}),Pf=class e{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(r={}){this.data=r}get(r){let t=this.data[r];if(t)return t}set(r,t){return this.data[r]=t,t}delete(r){delete this.data[r]}async purgeExpired(){let r=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>r))for(let t in this.data){let n=this.data[t];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<r&&delete this.data[t]}}}},Va=class{_identity;isRefreshing;accessed;constructor(r,t=!1,n=Date.now()){this._identity=r,this.isRefreshing=t,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}},vf=class e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(r,t=new Pf){this.createSessionFn=r,this.cache=t}async getS3ExpressIdentity(r,t){let n=t.Bucket,{cache:s}=this,o=s.get(n);return o?o.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(n,new Va(this.getIdentity(n))).identity:((a.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(n).then(d=>{s.set(n,new Va(Promise.resolve(d)))})),a)):s.set(n,new Va(this.getIdentity(n))).identity}async getIdentity(r){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let t=await this.createSessionFn(r);if(!t.Credentials?.AccessKeyId||!t.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}},vG="Directory",TG="S3Express",RG="sigv4-s3express",Y_="X-Amz-S3session-Token",J_=Y_.toLowerCase(),IG="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",kG="s3_disable_express_session_auth",OG={environmentVariableSelector:e=>Af.booleanSelector(e,IG,Af.SelectorType.ENV),configFileSelector:e=>Af.booleanSelector(e,kG,Af.SelectorType.CONFIG),default:!1},Q_=class extends SG.SignatureV4{async signWithCredentials(r,t,n){let s=dO(t);r.headers[J_]=t.sessionToken;let o=this;return uO(o,s),o.signRequest(r,n??{})}async presignWithCredentials(r,t,n){let s=dO(t);return delete r.headers[J_],r.headers[Y_]=t.sessionToken,r.query=r.query??{},r.query[Y_]=t.sessionToken,uO(this,s),this.presign(r,n)}};function dO(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function uO(e,r){let t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=()=>(clearTimeout(t),e.credentialProvider=n,Promise.resolve(r));e.credentialProvider=s}var CO=e=>(r,t)=>async n=>{if(t.endpointV2){let s=t.endpointV2,o=s.properties?.authSchemes?.[0]?.name===RG;if((s.properties?.backend===TG||s.properties?.bucketType===vG)&&(EG.setFeature(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),o){let c=n.input.Bucket;if(c){let l=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:c});t.s3ExpressIdentity=l,dd.HttpRequest.isInstance(n.request)&&l.sessionToken&&(n.request.headers[J_]=l.sessionToken)}}}return r(n)},xO={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},NG=e=>({applyToStack:r=>{r.add(CO(e),xO)}}),BG=async(e,r,t,n)=>{let s=await n.signWithCredentials(t,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},DG=e=>r=>{throw r},MG=(e,r)=>{},LG=fO.httpSigningMiddlewareOptions,wO=e=>(r,t)=>async n=>{if(!dd.HttpRequest.isInstance(n.request))return r(n);let o=bG.getSmithyContext(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d;t.s3ExpressIdentity?d=await BG(t.s3ExpressIdentity,a,n.request,await e.signer()):d=await l.sign(n.request,c,a);let f=await r({...n,request:d}).catch((l.errorHandler||DG)(a));return(l.successHandler||MG)(f.response,a),f},FG=e=>({applyToStack:r=>{r.addRelativeTo(wO(e),fO.httpSigningMiddlewareOptions)}}),zG=(e,{session:r})=>{let[t,n]=r,{forcePathStyle:s,useAccelerateEndpoint:o,disableMultiregionAccessPoints:a,followRegionRedirects:c,s3ExpressIdentityProvider:l,bucketEndpoint:d}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:c??!1,s3ExpressIdentityProvider:l??new vf(async f=>t().send(new n({Bucket:f}))),bucketEndpoint:d??!1})},UG={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},qG=3e3,AO=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(!dd.HttpResponse.isInstance(o))return s;let{statusCode:a,body:c}=o;if(a<200||a>=300||!(typeof c?.stream=="function"||typeof c?.pipe=="function"||typeof c?.tee=="function"))return s;let d=c,f=c;c&&typeof c=="object"&&!(c instanceof Uint8Array)&&([d,f]=await lO.splitStream(c)),o.body=f;let g=await HG(d,{streamCollector:async h=>lO.headStream(h,qG)});typeof d?.destroy=="function"&&d.destroy();let y=e.utf8Encoder(g.subarray(g.length-16));if(g.length===0&&UG[t.commandName]){let h=new Error("S3 aborted request");throw h.name="InternalError",h}return y&&y.endsWith("</Error>")&&(o.statusCode=400),s},HG=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),PO={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},jG=e=>({applyToStack:r=>{r.addRelativeTo(AO(e),PO)}});function $G(e){return(r,t)=>async n=>{if(e.bucketEndpoint){let s=t.endpointV2;if(s){let o=n.input.Bucket;if(typeof o=="string")try{let a=new URL(o);t.endpointV2={...s,url:a}}catch(a){let c=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw t.logger?.constructor?.name==="NoOpLogger"?console.warn(c):t.logger?.warn?.(c),a}}}return r(n)}}var VG={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function vO({bucketEndpoint:e}){return r=>async t=>{let{input:{Bucket:n}}=t;if(!e&&typeof n=="string"&&!_G.validate(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return r({...t})}}var TO={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},GG=e=>({applyToStack:r=>{r.add(vO(e),TO),r.addRelativeTo($G(e),VG)}});Xe.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS=OG;Xe.S3ExpressIdentityCache=Pf;Xe.S3ExpressIdentityCacheEntry=Va;Xe.S3ExpressIdentityProviderImpl=vf;Xe.SignatureV4S3Express=Q_;Xe.checkContentLengthHeader=gO;Xe.checkContentLengthHeaderMiddlewareOptions=hO;Xe.getCheckContentLengthHeaderPlugin=wG;Xe.getRegionRedirectMiddlewarePlugin=AG;Xe.getS3ExpiresMiddlewarePlugin=PG;Xe.getS3ExpressHttpSigningPlugin=FG;Xe.getS3ExpressPlugin=NG;Xe.getThrow200ExceptionsPlugin=jG;Xe.getValidateBucketNamePlugin=GG;Xe.regionRedirectEndpointMiddleware=pO;Xe.regionRedirectEndpointMiddlewareOptions=yO;Xe.regionRedirectMiddleware=SO;Xe.regionRedirectMiddlewareOptions=EO;Xe.resolveS3Config=zG;Xe.s3ExpiresMiddleware=bO;Xe.s3ExpiresMiddlewareOptions=_O;Xe.s3ExpressHttpSigningMiddleware=wO;Xe.s3ExpressHttpSigningMiddlewareOptions=LG;Xe.s3ExpressMiddleware=CO;Xe.s3ExpressMiddlewareOptions=xO;Xe.throw200ExceptionsMiddleware=AO;Xe.throw200ExceptionsMiddlewareOptions=PO;Xe.validateBucketNameMiddleware=vO;Xe.validateBucketNameMiddlewareOptions=TO});var gi=B(fi=>{"use strict";var eC=ys(),tC=class{capacity;data=new Map;parameters=[];constructor({size:r,params:t}){this.capacity=r??50,t&&(this.parameters=t)}get(r,t){let n=this.hash(r);if(n===!1)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:a,done:c}=s.next();if(this.data.delete(a),c||++o>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(r){let t="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(r[s]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},KG=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),RO=e=>KG.test(e)||e.startsWith("[")&&e.endsWith("]"),WG=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),nC=(e,r=!1)=>{if(!r)return WG.test(e);let t=e.split(".");for(let n of t)if(!nC(n))return!1;return!0},rC={},ud="endpoints";function mo(e){return typeof e!="object"||e==null?e:"ref"in e?`$${mo(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(mo).join(", ")})`:JSON.stringify(e,null,2)}var Cr=class extends Error{constructor(r){super(r),this.name="EndpointError"}},XG=(e,r)=>e===r,YG=e=>{let r=e.split("."),t=[];for(let n of r){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Cr(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Cr(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(n.slice(0,s)),t.push(o)}else t.push(n)}return t},IO=(e,r)=>YG(r).reduce((t,n)=>{if(typeof t!="object")throw new Cr(`Index '${n}' in '${r}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(n)]:t[n]},e),JG=e=>e!=null,QG=e=>!e,Z_={[eC.EndpointURLScheme.HTTP]:80,[eC.EndpointURLScheme.HTTPS]:443},ZG=e=>{let r=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:h,protocol:_="",path:R="",query:I={}}=e,N=new URL(`${_}//${y}${h?`:${h}`:""}${R}`);return N.search=Object.entries(I).map(([W,ce])=>`${W}=${ce}`).join("&"),N}return new URL(e)}catch{return null}})();if(!r)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=r.href,{host:n,hostname:s,pathname:o,protocol:a,search:c}=r;if(c)return null;let l=a.slice(0,-1);if(!Object.values(eC.EndpointURLScheme).includes(l))return null;let d=RO(s),f=t.includes(`${n}:${Z_[l]}`)||typeof e=="string"&&e.includes(`${n}:${Z_[l]}`),g=`${n}${f?`:${Z_[l]}`:""}`;return{scheme:l,authority:g,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}},eK=(e,r)=>e===r,tK=(e,r,t,n)=>r>=t||e.length<t?null:n?e.substring(e.length-t,e.length-r):e.substring(r,t),rK=e=>encodeURIComponent(e).replace(/[!*'()]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),nK={booleanEquals:XG,getAttr:IO,isSet:JG,isValidHostLabel:nC,not:QG,parseURL:ZG,stringEquals:eK,substring:tK,uriEncode:rK},kO=(e,r)=>{let t=[],n={...r.endpointParams,...r.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let a=e.indexOf("}",o);if(a===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[a+1]==="}"&&(t.push(e.slice(o+1,a)),s=a+2);let c=e.substring(o+1,a);if(c.includes("#")){let[l,d]=c.split("#");t.push(IO(n[l],d))}else t.push(n[c]);s=a+1}return t.join("")},sK=({ref:e},r)=>({...r.endpointParams,...r.referenceRecord})[e],Rf=(e,r,t)=>{if(typeof e=="string")return kO(e,t);if(e.fn)return NO.callFunction(e,t);if(e.ref)return sK(e,t);throw new Cr(`'${r}': ${String(e)} is not a string, function or reference.`)},OO=({fn:e,argv:r},t)=>{let n=r.map(o=>["boolean","number"].includes(typeof o)?o:NO.evaluateExpression(o,"arg",t)),s=e.split(".");return s[0]in rC&&s[1]!=null?rC[s[0]][s[1]](...n):nK[e](...n)},NO={evaluateExpression:Rf,callFunction:OO},oK=({assign:e,...r},t)=>{if(e&&e in t.referenceRecord)throw new Cr(`'${e}' is already defined in Reference Record.`);let n=OO(r,t);return t.logger?.debug?.(`${ud} evaluateCondition: ${mo(r)} = ${mo(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},sC=(e=[],r)=>{let t={};for(let n of e){let{result:s,toAssign:o}=oK(n,{...r,referenceRecord:{...r.referenceRecord,...t}});if(!s)return{result:s};o&&(t[o.name]=o.value,r.logger?.debug?.(`${ud} assign: ${o.name} := ${mo(o.value)}`))}return{result:!0,referenceRecord:t}},iK=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:s.map(o=>{let a=Rf(o,"Header value entry",r);if(typeof a!="string")throw new Cr(`Header '${n}' value '${a}' is not a string`);return a})}),{}),BO=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:MO.getEndpointProperty(s,r)}),{}),DO=(e,r)=>{if(Array.isArray(e))return e.map(t=>DO(t,r));switch(typeof e){case"string":return kO(e,r);case"object":if(e===null)throw new Cr(`Unexpected endpoint property: ${e}`);return MO.getEndpointProperties(e,r);case"boolean":return e;default:throw new Cr(`Unexpected endpoint property type: ${typeof e}`)}},MO={getEndpointProperty:DO,getEndpointProperties:BO},aK=(e,r)=>{let t=Rf(e,"Endpoint URL",r);if(typeof t=="string")try{return new URL(t)}catch(n){throw console.error(`Failed to construct URL with ${t}`,n),n}throw new Cr(`Endpoint URL must be a string, got ${typeof t}`)},cK=(e,r)=>{let{conditions:t,endpoint:n}=e,{result:s,referenceRecord:o}=sC(t,r);if(!s)return;let a={...r,referenceRecord:{...r.referenceRecord,...o}},{url:c,properties:l,headers:d}=n;return r.logger?.debug?.(`${ud} Resolving endpoint from template: ${mo(n)}`),{...d!=null&&{headers:iK(d,a)},...l!=null&&{properties:BO(l,a)},url:aK(c,a)}},lK=(e,r)=>{let{conditions:t,error:n}=e,{result:s,referenceRecord:o}=sC(t,r);if(s)throw new Cr(Rf(n,"Error",{...r,referenceRecord:{...r.referenceRecord,...o}}))},LO=(e,r)=>{for(let t of e)if(t.type==="endpoint"){let n=cK(t,r);if(n)return n}else if(t.type==="error")lK(t,r);else if(t.type==="tree"){let n=FO.evaluateTreeRule(t,r);if(n)return n}else throw new Cr(`Unknown endpoint rule: ${t}`);throw new Cr("Rules evaluation failed")},dK=(e,r)=>{let{conditions:t,rules:n}=e,{result:s,referenceRecord:o}=sC(t,r);if(s)return FO.evaluateRules(n,{...r,referenceRecord:{...r.referenceRecord,...o}})},FO={evaluateRules:LO,evaluateTreeRule:dK},uK=(e,r)=>{let{endpointParams:t,logger:n}=r,{parameters:s,rules:o}=e;r.logger?.debug?.(`${ud} Initial EndpointParams: ${mo(t)}`);let a=Object.entries(s).filter(([,d])=>d.default!=null).map(([d,f])=>[d,f.default]);if(a.length>0)for(let[d,f]of a)t[d]=t[d]??f;let c=Object.entries(s).filter(([,d])=>d.required).map(([d])=>d);for(let d of c)if(t[d]==null)throw new Cr(`Missing required parameter: '${d}'`);let l=LO(o,{endpointParams:t,logger:n,referenceRecord:{}});return r.logger?.debug?.(`${ud} Resolved endpoint: ${mo(l)}`),l};fi.EndpointCache=tC;fi.EndpointError=Cr;fi.customEndpointFunctions=rC;fi.isIpAddress=RO;fi.isValidHostLabel=nC;fi.resolveEndpoint=uK});var UO=B(zO=>{"use strict";function mK(e){let r={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[n,s=null]=t.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in r?Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]:r[n]=s}return r}zO.parseQueryString=mK});var fo=B(HO=>{"use strict";var fK=UO(),qO=e=>{if(typeof e=="string")return qO(new URL(e));let{hostname:r,pathname:t,port:n,protocol:s,search:o}=e,a;return o&&(a=fK.parseQueryString(o)),{hostname:r,port:n?parseInt(n):void 0,protocol:s,path:t,query:a}};HO.parseUrl=qO});var Ga=B((Zbe,ZO)=>{"use strict";var If=Object.defineProperty,gK=Object.getOwnPropertyDescriptor,hK=Object.getOwnPropertyNames,pK=Object.prototype.hasOwnProperty,go=(e,r)=>If(e,"name",{value:r,configurable:!0}),yK=(e,r)=>{for(var t in r)If(e,t,{get:r[t],enumerable:!0})},SK=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of hK(r))!pK.call(e,s)&&s!==t&&If(e,s,{get:()=>r[s],enumerable:!(n=gK(r,s))||n.enumerable});return e},EK=e=>SK(If({},"__esModule",{value:!0}),e),$O={};yK($O,{ConditionObject:()=>pt.ConditionObject,DeprecatedObject:()=>pt.DeprecatedObject,EndpointError:()=>pt.EndpointError,EndpointObject:()=>pt.EndpointObject,EndpointObjectHeaders:()=>pt.EndpointObjectHeaders,EndpointObjectProperties:()=>pt.EndpointObjectProperties,EndpointParams:()=>pt.EndpointParams,EndpointResolverOptions:()=>pt.EndpointResolverOptions,EndpointRuleObject:()=>pt.EndpointRuleObject,ErrorRuleObject:()=>pt.ErrorRuleObject,EvaluateOptions:()=>pt.EvaluateOptions,Expression:()=>pt.Expression,FunctionArgv:()=>pt.FunctionArgv,FunctionObject:()=>pt.FunctionObject,FunctionReturn:()=>pt.FunctionReturn,ParameterObject:()=>pt.ParameterObject,ReferenceObject:()=>pt.ReferenceObject,ReferenceRecord:()=>pt.ReferenceRecord,RuleSetObject:()=>pt.RuleSetObject,RuleSetRules:()=>pt.RuleSetRules,TreeRuleObject:()=>pt.TreeRuleObject,awsEndpointFunctions:()=>JO,getUserAgentPrefix:()=>xK,isIpAddress:()=>pt.isIpAddress,partition:()=>XO,resolveDefaultAwsRegionalEndpointsConfig:()=>AK,resolveEndpoint:()=>pt.resolveEndpoint,setPartitionInfo:()=>YO,toEndpointV1:()=>QO,useDefaultPartitionInfo:()=>CK});ZO.exports=EK($O);var pt=gi(),VO=go((e,r=!1)=>{if(r){for(let t of e.split("."))if(!VO(t))return!1;return!0}return!(!(0,pt.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,pt.isIpAddress)(e))},"isVirtualHostableS3Bucket"),jO=":",bK="/",_K=go(e=>{let r=e.split(jO);if(r.length<6)return null;let[t,n,s,o,a,...c]=r;if(t!=="arn"||n===""||s===""||c.join(jO)==="")return null;let l=c.map(d=>d.split(bK)).flat();return{partition:n,service:s,region:o,accountId:a,resourceId:l}},"parseArn"),GO={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},KO=GO,WO="",XO=go(e=>{let{partitions:r}=KO;for(let n of r){let{regions:s,outputs:o}=n;for(let[a,c]of Object.entries(s))if(a===e)return{...o,...c}}for(let n of r){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let t=r.find(n=>n.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},"partition"),YO=go((e,r="")=>{KO=e,WO=r},"setPartitionInfo"),CK=go(()=>{YO(GO,"")},"useDefaultPartitionInfo"),xK=go(()=>WO,"getUserAgentPrefix"),JO={isVirtualHostableS3Bucket:VO,parseArn:_K,partition:XO};pt.customEndpointFunctions.aws=JO;var wK=fo(),AK=go(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>QO(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),QO=go(e=>(0,wK.parseUrl)(e.url),"toEndpointV1")});var Wa=B(Ka=>{"use strict";var PK=(Dr(),Re(si)),vK=Ga(),TK=We(),Zn=(Vt(),Re(mn)),nN=void 0;function RK(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function IK(e){let r=PK.normalizeProvider(e.userAgentAppId??nN),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{let n=await r();if(!RK(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var kK=/\d{12}\.ddb/;async function OK(e,r,t){if(t.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Zn.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){let o=await r.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Zn.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Zn.setFeature(e,"RETRY_MODE_STANDARD","E"):Zn.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(kK)&&Zn.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await r.accountIdEndpointMode?.()){case"disabled":Zn.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Zn.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Zn.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&Zn.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[a,c]of Object.entries(o.$source??{}))Zn.setFeature(e,a,c)}}var eN="user-agent",oC="x-amz-user-agent",tN=" ",iC="/",NK=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,BK=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,rN="-",DK=1024;function MK(e){let r="";for(let t in e){let n=e[t];if(r.length+n.length+1<=DK){r.length?r+=","+n:r+=n;continue}break}return r}var sN=e=>(r,t)=>async n=>{let{request:s}=n;if(!TK.HttpRequest.isInstance(s))return r(n);let{headers:o}=s,a=t?.userAgent?.map(kf)||[],c=(await e.defaultUserAgentProvider()).map(kf);await OK(t,e,n);let l=t;c.push(`m/${MK(Object.assign({},t.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(kf)||[],f=await e.userAgentAppId();f&&c.push(kf([`app/${f}`]));let g=vK.getUserAgentPrefix(),y=(g?[g]:[]).concat([...c,...a,...d]).join(tN),h=[...c.filter(_=>_.startsWith("aws-sdk-")),...d].join(tN);return e.runtime!=="browser"?(h&&(o[oC]=o[oC]?`${o[eN]} ${h}`:h),o[eN]=y):o[oC]=y,r({...n,request:s})},kf=e=>{let r=e[0].split(iC).map(a=>a.replace(NK,rN)).join(iC),t=e[1]?.replace(BK,rN),n=r.indexOf(iC),s=r.substring(0,n),o=r.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,t].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},oN={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},LK=e=>({applyToStack:r=>{r.add(sN(e),oN)}});Ka.DEFAULT_UA_APP_ID=nN;Ka.getUserAgentMiddlewareOptions=oN;Ka.getUserAgentPlugin=LK;Ka.resolveUserAgentConfig=IK;Ka.userAgentMiddleware=sN});var es=B(gr=>{"use strict";var ho=xf(),Of=Er(),FK=gi(),cN="AWS_USE_DUALSTACK_ENDPOINT",lN="use_dualstack_endpoint",zK=!1,UK={environmentVariableSelector:e=>ho.booleanSelector(e,cN,ho.SelectorType.ENV),configFileSelector:e=>ho.booleanSelector(e,lN,ho.SelectorType.CONFIG),default:!1},dN="AWS_USE_FIPS_ENDPOINT",uN="use_fips_endpoint",qK=!1,HK={environmentVariableSelector:e=>ho.booleanSelector(e,dN,ho.SelectorType.ENV),configFileSelector:e=>ho.booleanSelector(e,uN,ho.SelectorType.CONFIG),default:!1},jK=e=>{let{tls:r,endpoint:t,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:r??!0,endpoint:Of.normalizeProvider(typeof t=="string"?n(t):t),isCustomEndpoint:!0,useDualstackEndpoint:Of.normalizeProvider(s??!1)})},$K=async e=>{let{tls:r=!0}=e,t=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(t))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=await e.regionInfoProvider(t,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${a}`)},VK=e=>{let r=Of.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:t,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:t?Of.normalizeProvider(typeof t=="string"?s(t):t):()=>$K({...e,useDualstackEndpoint:r,useFipsEndpoint:n}),isCustomEndpoint:!!t,useDualstackEndpoint:r})},mN="AWS_REGION",fN="region",GK={environmentVariableSelector:e=>e[mN],configFileSelector:e=>e[fN],default:()=>{throw new Error("Region is missing")}},KK={preferredFile:"credentials"},iN=new Set,WK=(e,r=FK.isValidHostLabel)=>{if(!iN.has(e)&&!r(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else iN.add(e)},gN=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),XK=e=>gN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,YK=e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof r=="function"?await r():r,s=XK(n);return WK(s),s},useFipsEndpoint:async()=>{let n=typeof r=="string"?r:await r();return gN(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},aN=(e=[],{useFipsEndpoint:r,useDualstackEndpoint:t})=>e.find(({tags:n})=>r===n.includes("fips")&&t===n.includes("dualstack"))?.hostname,JK=(e,{regionHostname:r,partitionHostname:t})=>r||(t?t.replace("{region}",e):void 0),QK=(e,{partitionHash:r})=>Object.keys(r||{}).find(t=>r[t].regions.includes(e))??"aws",ZK=(e,{signingRegion:r,regionRegex:t,useFipsEndpoint:n})=>{if(r)return r;if(n){let s=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},e8=(e,{useFipsEndpoint:r=!1,useDualstackEndpoint:t=!1,signingService:n,regionHash:s,partitionHash:o})=>{let a=QK(e,{partitionHash:o}),c=e in s?e:o[a]?.endpoint??e,l={useFipsEndpoint:r,useDualstackEndpoint:t},d=aN(s[c]?.variants,l),f=aN(o[a]?.variants,l),g=JK(c,{regionHostname:d,partitionHostname:f});if(g===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:r,useDualstackEndpoint:t}}`);let y=ZK(g,{signingRegion:s[c]?.signingRegion,regionRegex:o[a].regionRegex,useFipsEndpoint:r});return{partition:a,signingService:n,hostname:g,...y&&{signingRegion:y},...s[c]?.signingService&&{signingService:s[c].signingService}}};gr.CONFIG_USE_DUALSTACK_ENDPOINT=lN;gr.CONFIG_USE_FIPS_ENDPOINT=uN;gr.DEFAULT_USE_DUALSTACK_ENDPOINT=zK;gr.DEFAULT_USE_FIPS_ENDPOINT=qK;gr.ENV_USE_DUALSTACK_ENDPOINT=cN;gr.ENV_USE_FIPS_ENDPOINT=dN;gr.NODE_REGION_CONFIG_FILE_OPTIONS=KK;gr.NODE_REGION_CONFIG_OPTIONS=GK;gr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=UK;gr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=HK;gr.REGION_ENV_NAME=mN;gr.REGION_INI_NAME=fN;gr.getRegionInfo=e8;gr.resolveCustomEndpointsConfig=jK;gr.resolveEndpointsConfig=VK;gr.resolveRegionConfig=YK});var pN=B(hN=>{"use strict";var t8=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)});hN.resolveEventStreamSerdeConfig=t8});var md=B(Nf=>{"use strict";var r8=We(),yN="content-length";function SN(e){return r=>async t=>{let n=t.request;if(r8.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(a=>a.toLowerCase()).indexOf(yN)===-1)try{let a=e(s);n.headers={...n.headers,[yN]:String(a)}}catch{}}return r({...t,request:n})}}var EN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},n8=e=>({applyToStack:r=>{r.add(SN(e.bodyLengthChecker),EN)}});Nf.contentLengthMiddleware=SN;Nf.contentLengthMiddlewareOptions=EN;Nf.getContentLengthPlugin=n8});var cC=B(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getHomeDir=void 0;var s8=require("os"),o8=require("path"),aC={},i8=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",a8=()=>{let{HOME:e,USERPROFILE:r,HOMEPATH:t,HOMEDRIVE:n=`C:${o8.sep}`}=process.env;if(e)return e;if(r)return r;if(t)return`${n}${t}`;let s=i8();return aC[s]||(aC[s]=(0,s8.homedir)()),aC[s]};Bf.getHomeDir=a8});var lC=B(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.getSSOTokenFilepath=void 0;var c8=require("crypto"),l8=require("path"),d8=cC(),u8=e=>{let t=(0,c8.createHash)("sha1").update(e).digest("hex");return(0,l8.join)((0,d8.getHomeDir)(),".aws","sso","cache",`${t}.json`)};Df.getSSOTokenFilepath=u8});var bN=B(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.getSSOTokenFromFile=po.tokenIntercept=void 0;var m8=require("fs"),f8=lC(),{readFile:g8}=m8.promises;po.tokenIntercept={};var h8=async e=>{if(po.tokenIntercept[e])return po.tokenIntercept[e];let r=(0,f8.getSSOTokenFilepath)(e),t=await g8(r,"utf8");return JSON.parse(t)};po.getSSOTokenFromFile=h8});var _N=B(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.slurpFile=en.fileIntercept=en.filePromisesHash=void 0;var p8=require("fs"),{readFile:y8}=p8.promises;en.filePromisesHash={};en.fileIntercept={};var S8=(e,r)=>en.fileIntercept[e]!==void 0?en.fileIntercept[e]:((!en.filePromisesHash[e]||r?.ignoreCache)&&(en.filePromisesHash[e]=y8(e,"utf8")),en.filePromisesHash[e]);en.slurpFile=S8});var Is=B(Vr=>{"use strict";var fd=cC(),CN=lC(),dC=bN(),Mf=require("path"),Lf=ys(),gd=_N(),wN="AWS_PROFILE",AN="default",E8=e=>e.profile||process.env[wN]||AN,hi=".",b8=e=>Object.entries(e).filter(([r])=>{let t=r.indexOf(hi);return t===-1?!1:Object.values(Lf.IniSectionType).includes(r.substring(0,t))}).reduce((r,[t,n])=>{let s=t.indexOf(hi),o=t.substring(0,s)===Lf.IniSectionType.PROFILE?t.substring(s+1):t;return r[o]=n,r},{...e.default&&{default:e.default}}),_8="AWS_CONFIG_FILE",PN=()=>process.env[_8]||Mf.join(fd.getHomeDir(),".aws","config"),C8="AWS_SHARED_CREDENTIALS_FILE",x8=()=>process.env[C8]||Mf.join(fd.getHomeDir(),".aws","credentials"),w8=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,A8=["__proto__","profile __proto__"],uC=e=>{let r={},t,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){t=void 0,n=void 0;let c=o.substring(1,o.length-1),l=w8.exec(c);if(l){let[,d,,f]=l;Object.values(Lf.IniSectionType).includes(d)&&(t=[d,f].join(hi))}else t=c;if(A8.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(t){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,d]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(d==="")n=l;else{n&&s.trimStart()===s&&(n=void 0),r[t]=r[t]||{};let f=n?[n,l].join(hi):l;r[t][f]=d}}}}return r},xN=()=>({}),vN=async(e={})=>{let{filepath:r=x8(),configFilepath:t=PN()}=e,n=fd.getHomeDir(),s="~/",o=r;r.startsWith(s)&&(o=Mf.join(n,r.slice(2)));let a=t;t.startsWith(s)&&(a=Mf.join(n,t.slice(2)));let c=await Promise.all([gd.slurpFile(a,{ignoreCache:e.ignoreCache}).then(uC).then(b8).catch(xN),gd.slurpFile(o,{ignoreCache:e.ignoreCache}).then(uC).catch(xN)]);return{configFile:c[0],credentialsFile:c[1]}},P8=e=>Object.entries(e).filter(([r])=>r.startsWith(Lf.IniSectionType.SSO_SESSION+hi)).reduce((r,[t,n])=>({...r,[t.substring(t.indexOf(hi)+1)]:n}),{}),v8=()=>({}),T8=async(e={})=>gd.slurpFile(e.configFilepath??PN()).then(uC).then(P8).catch(v8),R8=(...e)=>{let r={};for(let t of e)for(let[n,s]of Object.entries(t))r[n]!==void 0?Object.assign(r[n],s):r[n]=s;return r},I8=async e=>{let r=await vN(e);return R8(r.configFile,r.credentialsFile)},k8={getFileRecord(){return gd.fileIntercept},interceptFile(e,r){gd.fileIntercept[e]=Promise.resolve(r)},getTokenRecord(){return dC.tokenIntercept},interceptToken(e,r){dC.tokenIntercept[e]=r}};Object.defineProperty(Vr,"getSSOTokenFromFile",{enumerable:!0,get:function(){return dC.getSSOTokenFromFile}});Vr.CONFIG_PREFIX_SEPARATOR=hi;Vr.DEFAULT_PROFILE=AN;Vr.ENV_PROFILE=wN;Vr.externalDataInterceptor=k8;Vr.getProfileName=E8;Vr.loadSharedConfigFiles=vN;Vr.loadSsoSessionData=T8;Vr.parseKnownFiles=I8;Object.keys(fd).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vr,e)&&Object.defineProperty(Vr,e,{enumerable:!0,get:function(){return fd[e]}})});Object.keys(CN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Vr,e)&&Object.defineProperty(Vr,e,{enumerable:!0,get:function(){return CN[e]}})})});var yo=B(IN=>{"use strict";var hd=Mr(),TN=Is();function RN(e){try{let r=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return r.delete("CONFIG"),r.delete("CONFIG_PREFIX_SEPARATOR"),r.delete("ENV"),[...r].join(", ")}catch{return e}}var O8=(e,r)=>async()=>{try{let t=e(process.env,r);if(t===void 0)throw new Error;return t}catch(t){throw new hd.CredentialsProviderError(t.message||`Not found in ENV: ${RN(e.toString())}`,{logger:r?.logger})}},N8=(e,{preferredFile:r="config",...t}={})=>async()=>{let n=TN.getProfileName(t),{configFile:s,credentialsFile:o}=await TN.loadSharedConfigFiles(t),a=o[n]||{},c=s[n]||{},l=r==="config"?{...a,...c}:{...c,...a};try{let f=e(l,r==="config"?s:o);if(f===void 0)throw new Error;return f}catch(d){throw new hd.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${RN(e.toString())}`,{logger:t.logger})}},B8=e=>typeof e=="function",D8=e=>B8(e)?async()=>await e():hd.fromStatic(e),M8=({environmentVariableSelector:e,configFileSelector:r,default:t},n={})=>{let{signingName:s,logger:o}=n,a={signingName:s,logger:o};return hd.memoize(hd.chain(O8(e,a),N8(r,n),D8(t)))};IN.loadConfig=M8});var BN=B(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.getEndpointUrlConfig=void 0;var kN=Is(),ON="AWS_ENDPOINT_URL",NN="endpoint_url",L8=e=>({environmentVariableSelector:r=>{let t=e.split(" ").map(o=>o.toUpperCase()),n=r[[ON,...t].join("_")];if(n)return n;let s=r[ON];if(s)return s},configFileSelector:(r,t)=>{if(t&&r.services){let s=t[["services",r.services].join(kN.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(c=>c.toLowerCase()),a=s[[o.join("_"),NN].join(kN.CONFIG_PREFIX_SEPARATOR)];if(a)return a}}let n=r[NN];if(n)return n},default:void 0});Ff.getEndpointUrlConfig=L8});var DN=B(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.getEndpointFromConfig=void 0;var F8=yo(),z8=BN(),U8=async e=>(0,F8.loadConfig)((0,z8.getEndpointUrlConfig)(e??""))();zf.getEndpointFromConfig=U8});var Os=B(ks=>{"use strict";var LN=DN(),MN=fo(),q8=(Dr(),Re(si)),Uf=Er(),H8=Qs(),j8=async e=>{let r=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=r.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),W8(r)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!K8(r)||r.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||r.toLowerCase()!==r||r.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},$8=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,V8=/(\d+\.){3}\d+/,G8=/\.\./,K8=e=>$8.test(e)&&!V8.test(e)&&!G8.test(e),W8=e=>{let[r,t,n,,,s]=e.split(":"),o=r==="arn"&&e.split(":").length>=6,a=!!(o&&t&&n&&s);if(o&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},X8=(e,r,t)=>{let n=async()=>{let s=t[e]??t[r];return typeof s=="function"?s():s};return e==="credentialScope"||r==="CredentialScope"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||r==="AccountId"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||r==="endpoint"?async()=>{if(t.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:c,path:l}=s;return`${o}//${a}${c?":"+c:""}${l}`}}return s}:n},mC=e=>typeof e=="object"?"url"in e?MN.parseUrl(e.url):e:MN.parseUrl(e),FN=async(e,r,t,n)=>{if(!t.isCustomEndpoint){let a;t.serviceConfiguredEndpoint?a=await t.serviceConfiguredEndpoint():a=await LN.getEndpointFromConfig(t.serviceId),a&&(t.endpoint=()=>Promise.resolve(mC(a)),t.isCustomEndpoint=!0)}let s=await zN(e,r,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,n)},zN=async(e,r,t)=>{let n={},s=r?.getEndpointParameterInstructions?.()||{};for(let[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await X8(a.name,o,t)();break;case"operationContextParams":n[o]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,t),String(t.serviceId).toLowerCase()==="s3"&&await j8(n),n},UN=({config:e,instructions:r})=>(t,n)=>async s=>{e.isCustomEndpoint&&q8.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await FN(s.input,{getEndpointParameterInstructions(){return r}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;let l=Uf.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return t({...s})},qN={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:H8.serializerMiddlewareOption.name},Y8=(e,r)=>({applyToStack:t=>{t.addRelativeTo(UN({config:e,instructions:r}),qN)}}),J8=e=>{let r=e.tls??!0,{endpoint:t,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=t!=null?async()=>mC(await Uf.normalizeProvider(t)()):void 0,c=Object.assign(e,{endpoint:o,tls:r,isCustomEndpoint:!!t,useDualstackEndpoint:Uf.normalizeProvider(n??!1),useFipsEndpoint:Uf.normalizeProvider(s??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=LN.getEndpointFromConfig(e.serviceId)),l),c},Q8=e=>{let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};ks.endpointMiddleware=UN;ks.endpointMiddlewareOptions=qN;ks.getEndpointFromInstructions=FN;ks.getEndpointPlugin=Y8;ks.resolveEndpointConfig=J8;ks.resolveEndpointRequiredConfig=Q8;ks.resolveParams=zN;ks.toEndpointV1=mC});var gC=B(So=>{"use strict";var Z8=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],e5=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],t5=["TimeoutError","RequestTimeout","RequestTimeoutException"],r5=[500,502,503,504],n5=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],s5=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],HN=e=>e?.$retryable!==void 0,o5=e=>Z8.includes(e.name),jN=e=>e.$metadata?.clockSkewCorrected,$N=e=>{let r=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?r.has(e.message):!1},i5=e=>e.$metadata?.httpStatusCode===429||e5.includes(e.name)||e.$retryable?.throttling==!0,fC=(e,r=0)=>HN(e)||jN(e)||t5.includes(e.name)||n5.includes(e?.code||"")||s5.includes(e?.code||"")||r5.includes(e.$metadata?.httpStatusCode||0)||$N(e)||e.cause!==void 0&&r<=10&&fC(e.cause,r+1),a5=e=>{if(e.$metadata?.httpStatusCode!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!fC(e)}return!1};So.isBrowserNetworkError=$N;So.isClockSkewCorrectedError=jN;So.isClockSkewError=o5;So.isRetryableByTrait=HN;So.isServerError=a5;So.isThrottlingError=i5;So.isTransientError=fC});var Xa=B(Nt=>{"use strict";var c5=gC();Nt.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Nt.RETRY_MODES||(Nt.RETRY_MODES={}));var hC=3,l5=Nt.RETRY_MODES.STANDARD,qf=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(r){this.beta=r?.beta??.7,this.minCapacity=r?.minCapacity??1,this.minFillRate=r?.minFillRate??.5,this.scaleConstant=r?.scaleConstant??.4,this.smooth=r?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(r){if(this.enabled){if(this.refillTokenBucket(),r>this.currentCapacity){let t=(r-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,t))}this.currentCapacity=this.currentCapacity-r}}refillTokenBucket(){let r=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=r;return}let t=(r-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=r}updateClientSendingRate(r){let t;if(this.updateMeasuredRate(),c5.isThrottlingError(r)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(r){return this.getPrecise(r*this.beta)}cubicSuccess(r){return this.getPrecise(this.scaleConstant*Math.pow(r-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(r){this.refillTokenBucket(),this.fillRate=Math.max(r,this.minFillRate),this.maxCapacity=Math.max(r,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let r=this.getCurrentTimeInSeconds(),t=Math.floor(r*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(r){return parseFloat(r.toFixed(8))}},pd=100,EC=20*1e3,GN=500,pC=500,KN=5,WN=10,XN=1,d5="amz-sdk-invocation-id",u5="amz-sdk-request",m5=()=>{let e=pd;return{computeNextBackoffDelay:n=>Math.floor(Math.min(EC,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},VN=({retryDelay:e,retryCount:r,retryCost:t})=>({getRetryCount:()=>r,getRetryDelay:()=>Math.min(EC,e),getRetryCost:()=>t}),yd=class{maxAttempts;mode=Nt.RETRY_MODES.STANDARD;capacity=pC;retryBackoffStrategy=m5();maxAttemptsProvider;constructor(r){this.maxAttempts=r,this.maxAttemptsProvider=typeof r=="function"?r:async()=>r}async acquireInitialRetryToken(r){return VN({retryDelay:pd,retryCount:0})}async refreshRetryTokenForRetry(r,t){let n=await this.getMaxAttempts();if(this.shouldRetry(r,t,n)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?GN:pd);let o=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,c=this.getCapacityCost(s);return this.capacity-=c,VN({retryDelay:a,retryCount:r.getRetryCount()+1,retryCost:c})}throw new Error("No retry token available")}recordSuccess(r){this.capacity=Math.max(pC,this.capacity+(r.getRetryCost()??XN))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${hC}`),hC}}shouldRetry(r,t,n){return r.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(r){return r==="TRANSIENT"?WN:KN}isRetryableError(r){return r==="THROTTLING"||r==="TRANSIENT"}},yC=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Nt.RETRY_MODES.ADAPTIVE;constructor(r,t){this.maxAttemptsProvider=r;let{rateLimiter:n}=t??{};this.rateLimiter=n??new qf,this.standardRetryStrategy=new yd(r)}async acquireInitialRetryToken(r){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(r)}async refreshRetryTokenForRetry(r,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(r,t)}recordSuccess(r){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(r)}},SC=class extends yd{computeNextBackoffDelay;constructor(r,t=pd){super(typeof r=="function"?r:async()=>r),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(r,t){let n=await super.refreshRetryTokenForRetry(r,t);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Nt.AdaptiveRetryStrategy=yC;Nt.ConfiguredRetryStrategy=SC;Nt.DEFAULT_MAX_ATTEMPTS=hC;Nt.DEFAULT_RETRY_DELAY_BASE=pd;Nt.DEFAULT_RETRY_MODE=l5;Nt.DefaultRateLimiter=qf;Nt.INITIAL_RETRY_TOKENS=pC;Nt.INVOCATION_ID_HEADER=d5;Nt.MAXIMUM_RETRY_DELAY=EC;Nt.NO_RETRY_INCREMENT=XN;Nt.REQUEST_HEADER=u5;Nt.RETRY_COST=KN;Nt.StandardRetryStrategy=yd;Nt.THROTTLING_RETRY_DELAY_BASE=GN;Nt.TIMEOUT_RETRY_COST=WN});var YN=B(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.isStreamingPayload=void 0;var f5=require("stream"),g5=e=>e?.body instanceof f5.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Hf.isStreamingPayload=g5});var Ns=B(Yt=>{"use strict";var Pt=Xa(),Ya=We(),Eo=gC(),QN=_m(),JN=Er(),h5=Ie(),p5=YN(),y5=(e,r)=>{let t=e,n=Pt.NO_RETRY_INCREMENT,s=Pt.RETRY_COST,o=Pt.TIMEOUT_RETRY_COST,a=e,c=g=>g.name==="TimeoutError"?o:s,l=g=>c(g)<=a;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:g=>{if(!l(g))throw new Error("No retry token available");let y=c(g);return a-=y,y},releaseRetryTokens:g=>{a+=g??n,a=Math.min(a,t)}})},ZN=(e,r)=>Math.floor(Math.min(Pt.MAXIMUM_RETRY_DELAY,Math.random()*2**r*e)),eB=e=>e?Eo.isRetryableByTrait(e)||Eo.isClockSkewError(e)||Eo.isThrottlingError(e)||Eo.isTransientError(e):!1,tB=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),jf=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Pt.RETRY_MODES.STANDARD;constructor(r,t){this.maxAttemptsProvider=r,this.retryDecider=t?.retryDecider??eB,this.delayDecider=t?.delayDecider??ZN,this.retryQuota=t?.retryQuota??y5(Pt.INITIAL_RETRY_TOKENS)}shouldRetry(r,t,n){return t<n&&this.retryDecider(r)&&this.retryQuota.hasRetryTokens(r)}async getMaxAttempts(){let r;try{r=await this.maxAttemptsProvider()}catch{r=Pt.DEFAULT_MAX_ATTEMPTS}return r}async retry(r,t,n){let s,o=0,a=0,c=await this.getMaxAttempts(),{request:l}=t;for(Ya.HttpRequest.isInstance(l)&&(l.headers[Pt.INVOCATION_ID_HEADER]=QN.v4());;)try{Ya.HttpRequest.isInstance(l)&&(l.headers[Pt.REQUEST_HEADER]=`attempt=${o+1}; max=${c}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:f}=await r(t);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=a,{response:d,output:f}}catch(d){let f=tB(d);if(o++,this.shouldRetry(f,o,c)){s=this.retryQuota.retrieveRetryTokens(f);let g=this.delayDecider(Eo.isThrottlingError(f)?Pt.THROTTLING_RETRY_DELAY_BASE:Pt.DEFAULT_RETRY_DELAY_BASE,o),y=S5(f.$response),h=Math.max(y||0,g);a+=h,await new Promise(_=>setTimeout(_,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=a,f}}},S5=e=>{if(!Ya.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t).getTime()-Date.now():n*1e3},bC=class extends jf{rateLimiter;constructor(r,t){let{rateLimiter:n,...s}=t??{};super(r,s),this.rateLimiter=n??new Pt.DefaultRateLimiter,this.mode=Pt.RETRY_MODES.ADAPTIVE}async retry(r,t){return super.retry(r,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},_C="AWS_MAX_ATTEMPTS",CC="max_attempts",E5={environmentVariableSelector:e=>{let r=e[_C];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Environment variable ${_C} mast be a number, got "${r}"`);return t},configFileSelector:e=>{let r=e[CC];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Shared config file entry ${CC} mast be a number, got "${r}"`);return t},default:Pt.DEFAULT_MAX_ATTEMPTS},b5=e=>{let{retryStrategy:r,retryMode:t,maxAttempts:n}=e,s=JN.normalizeProvider(n??Pt.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>r||(await JN.normalizeProvider(t)()===Pt.RETRY_MODES.ADAPTIVE?new Pt.AdaptiveRetryStrategy(s):new Pt.StandardRetryStrategy(s))})},rB="AWS_RETRY_MODE",nB="retry_mode",_5={environmentVariableSelector:e=>e[rB],configFileSelector:e=>e[nB],default:Pt.DEFAULT_RETRY_MODE},sB=()=>e=>async r=>{let{request:t}=r;return Ya.HttpRequest.isInstance(t)&&(delete t.headers[Pt.INVOCATION_ID_HEADER],delete t.headers[Pt.REQUEST_HEADER]),e(r)},oB={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},C5=e=>({applyToStack:r=>{r.addRelativeTo(sB(),oB)}}),iB=e=>(r,t)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(x5(s)){s=s;let a=await s.acquireInitialRetryToken(t.partition_id),c=new Error,l=0,d=0,{request:f}=n,g=Ya.HttpRequest.isInstance(f);for(g&&(f.headers[Pt.INVOCATION_ID_HEADER]=QN.v4());;)try{g&&(f.headers[Pt.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:y,output:h}=await r(n);return s.recordSuccess(a),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=d,{response:y,output:h}}catch(y){let h=w5(y);if(c=tB(y),g&&p5.isStreamingPayload(f))throw(t.logger instanceof h5.NoOpLogger?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=a.getRetryCount();let _=a.getRetryDelay();d+=_,await new Promise(R=>setTimeout(R,_))}}else return s=s,s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(r,n)},x5=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",w5=e=>{let r={error:e,errorType:A5(e)},t=cB(e.$response);return t&&(r.retryAfterHint=t),r},A5=e=>Eo.isThrottlingError(e)?"THROTTLING":Eo.isTransientError(e)?"TRANSIENT":Eo.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",aB={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},P5=e=>({applyToStack:r=>{r.add(iB(e),aB)}}),cB=e=>{if(!Ya.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t):new Date(n*1e3)};Yt.AdaptiveRetryStrategy=bC;Yt.CONFIG_MAX_ATTEMPTS=CC;Yt.CONFIG_RETRY_MODE=nB;Yt.ENV_MAX_ATTEMPTS=_C;Yt.ENV_RETRY_MODE=rB;Yt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=E5;Yt.NODE_RETRY_MODE_CONFIG_OPTIONS=_5;Yt.StandardRetryStrategy=jf;Yt.defaultDelayDecider=ZN;Yt.defaultRetryDecider=eB;Yt.getOmitRetryHeadersPlugin=C5;Yt.getRetryAfterHint=cB;Yt.getRetryPlugin=P5;Yt.omitRetryHeadersMiddleware=sB;Yt.omitRetryHeadersMiddlewareOptions=oB;Yt.resolveRetryConfig=b5;Yt.retryMiddleware=iB;Yt.retryMiddlewareOptions=aB});var AC=B(wC=>{"use strict";var v5=Tf(),lB=Dm(),Sd={CrtSignerV4:null},xC=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof Sd.CrtSignerV4=="function"?"crt":typeof lB.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(r){this.sigv4Signer=new v5.SignatureV4S3Express(r),this.signerOptions=r}async sign(r,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(r,t):this.sigv4Signer.sign(r,t)}async signWithCredentials(r,t,n={}){if(n.signingRegion==="*"){let s=this.getSigv4aSigner(),o=Sd.CrtSignerV4;if(o&&s instanceof o)return s.signWithCredentials(r,t,n);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(r,t,n)}async presign(r,t={}){if(t.signingRegion==="*"){let n=this.getSigv4aSigner(),s=Sd.CrtSignerV4;if(s&&n instanceof s)return n.presign(r,t);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(r,t)}async presignWithCredentials(r,t,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(r,t,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let r=Sd.CrtSignerV4,t=lB.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!r&&!t)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions,signingAlgorithm:1});else if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||typeof t!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}};wC.SignatureV4MultiRegion=xC;wC.signatureV4CrtContainer=Sd});var LD=B(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.ruleSet=void 0;var XC="required",p="type",D="rules",C="conditions",v="fn",T="argv",oe="ref",Ce="assign",te="url",re="properties",yi="backend",xr="authSchemes",ir="disableDoubleEncoding",ar="signingName",Fr="signingRegion",ne="headers",YC="signingRegionSet",T5=6,R5=!1,ts=!0,tn="isSet",qt="booleanEquals",Z="error",Wf="aws.partition",qe="stringEquals",vt="getAttr",Ut="name",ct="substring",dB="bucketSuffix",JC="parseURL",V="endpoint",M="tree",Xf="aws.isVirtualHostableS3Bucket",Yf="{url#scheme}://{Bucket}.{url#authority}{url#path}",ss="not",uB="accessPointSuffix",Kf="{url#scheme}://{url#authority}{url#path}",_D="hardwareType",CD="regionPrefix",mB="bucketAliasSuffix",KC="outpostId",Si="isValidHostLabel",QC="sigv4a",Cd="s3-outposts",tc="s3",xD="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",wD="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",fB="https://{Bucket}.s3.{partitionResult#dnsSuffix}",AD="aws.parseArn",PD="bucketArn",vD="arnType",Jf="",ZC="s3-object-lambda",TD="accesspoint",ex="accessPointName",gB="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",hB="mrapPartition",pB="outpostType",yB="arnPrefix",RD="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",SB="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",EB="https://s3.{partitionResult#dnsSuffix}",Ja={[XC]:!1,[p]:"String"},Qa={[XC]:!0,default:!1,[p]:"Boolean"},Ed={[XC]:!1,[p]:"Boolean"},gn={[v]:qt,[T]:[{[oe]:"Accelerate"},!0]},yt={[v]:qt,[T]:[{[oe]:"UseFIPS"},!0]},at={[v]:qt,[T]:[{[oe]:"UseDualStack"},!0]},zt={[v]:tn,[T]:[{[oe]:"Endpoint"}]},ID={[v]:Wf,[T]:[{[oe]:"Region"}],[Ce]:"partitionResult"},bB={[v]:qe,[T]:[{[v]:vt,[T]:[{[oe]:"partitionResult"},Ut]},"aws-cn"]},_d={[v]:tn,[T]:[{[oe]:"Bucket"}]},Fe={[oe]:"Bucket"},_B={[C]:[at],[Z]:"S3Express does not support Dual-stack.",[p]:Z},CB={[C]:[gn],[Z]:"S3Express does not support S3 Accelerate.",[p]:Z},xB={[C]:[zt,{[v]:JC,[T]:[{[oe]:"Endpoint"}],[Ce]:"url"}],[D]:[{[C]:[{[v]:tn,[T]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[v]:qt,[T]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],[D]:[{[C]:[{[v]:qt,[T]:[{[v]:vt,[T]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[C]:[{[v]:"uriEncode",[T]:[Fe],[Ce]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[yi]:"S3Express",[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M}],[p]:M},{[C]:[{[v]:Xf,[T]:[Fe,!1]}],[D]:[{[V]:{[te]:Yf,[re]:{[yi]:"S3Express",[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z}],[p]:M},{[C]:[{[v]:qt,[T]:[{[v]:vt,[T]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[C]:[{[v]:"uriEncode",[T]:[Fe],[Ce]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[yi]:"S3Express",[xr]:[{[ir]:!0,[Ut]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M}],[p]:M},{[C]:[{[v]:Xf,[T]:[Fe,!1]}],[D]:[{[V]:{[te]:Yf,[re]:{[yi]:"S3Express",[xr]:[{[ir]:!0,[Ut]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z}],[p]:M},Lr={[v]:JC,[T]:[{[oe]:"Endpoint"}],[Ce]:"url"},PC={[v]:qt,[T]:[{[v]:vt,[T]:[{[oe]:"url"},"isIp"]},!0]},kD={[oe]:"url"},OD={[v]:"uriEncode",[T]:[Fe],[Ce]:"uri_encoded_bucket"},pi={[yi]:"S3Express",[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:"s3express",[Fr]:"{Region}"}]},Se={},ND={[v]:Xf,[T]:[Fe,!1]},wB={[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z},AB={[v]:tn,[T]:[{[oe]:"UseS3ExpressControlEndpoint"}]},PB={[v]:qt,[T]:[{[oe]:"UseS3ExpressControlEndpoint"},!0]},Ee={[v]:ss,[T]:[zt]},$f={[Z]:"Unrecognized S3Express bucket name format.",[p]:Z},vB={[v]:ss,[T]:[_d]},TB={[oe]:_D},RB={[C]:[Ee],[Z]:"Expected a endpoint to be specified but no endpoint was found",[p]:Z},Vf={[xr]:[{[ir]:!0,[Ut]:QC,[ar]:Cd,[YC]:["*"]},{[ir]:!0,[Ut]:"sigv4",[ar]:Cd,[Fr]:"{Region}"}]},vC={[v]:qt,[T]:[{[oe]:"ForcePathStyle"},!1]},I5={[oe]:"ForcePathStyle"},Gt={[v]:qt,[T]:[{[oe]:"Accelerate"},!1]},Jt={[v]:qe,[T]:[{[oe]:"Region"},"aws-global"]},nr={[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:tc,[Fr]:"us-east-1"}]},Le={[v]:ss,[T]:[Jt]},sr={[v]:qt,[T]:[{[oe]:"UseGlobalEndpoint"},!0]},IB={[te]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:{[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:tc,[Fr]:"{Region}"}]},[ne]:{}},Kt={[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:tc,[Fr]:"{Region}"}]},or={[v]:qt,[T]:[{[oe]:"UseGlobalEndpoint"},!1]},De={[v]:qt,[T]:[{[oe]:"UseDualStack"},!1]},kB={[te]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},ve={[v]:qt,[T]:[{[oe]:"UseFIPS"},!1]},OB={[te]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},NB={[te]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},TC={[v]:qt,[T]:[{[v]:vt,[T]:[kD,"isIp"]},!1]},RC={[te]:xD,[re]:Kt,[ne]:{}},WC={[te]:Yf,[re]:Kt,[ne]:{}},BB={[V]:WC,[p]:V},IC={[te]:wD,[re]:Kt,[ne]:{}},DB={[te]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},Gf={[Z]:"Invalid region: region was not a valid DNS name.",[p]:Z},Gr={[oe]:PD},BD={[oe]:vD},kC={[v]:vt,[T]:[Gr,"service"]},tx={[oe]:ex},MB={[C]:[at],[Z]:"S3 Object Lambda does not support Dual-stack",[p]:Z},LB={[C]:[gn],[Z]:"S3 Object Lambda does not support S3 Accelerate",[p]:Z},FB={[C]:[{[v]:tn,[T]:[{[oe]:"DisableAccessPoints"}]},{[v]:qt,[T]:[{[oe]:"DisableAccessPoints"},!0]}],[Z]:"Access points are not supported for this operation",[p]:Z},OC={[C]:[{[v]:tn,[T]:[{[oe]:"UseArnRegion"}]},{[v]:qt,[T]:[{[oe]:"UseArnRegion"},!1]},{[v]:ss,[T]:[{[v]:qe,[T]:[{[v]:vt,[T]:[Gr,"region"]},"{Region}"]}]}],[Z]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[p]:Z},DD={[v]:vt,[T]:[{[oe]:"bucketPartition"},Ut]},MD={[v]:vt,[T]:[Gr,"accountId"]},NC={[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:ZC,[Fr]:"{bucketArn#region}"}]},zB={[Z]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[p]:Z},BC={[Z]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[p]:Z},DC={[Z]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[p]:Z},MC={[Z]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[p]:Z},UB={[Z]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[p]:Z},qB={[Z]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[p]:Z},bd={[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:tc,[Fr]:"{bucketArn#region}"}]},HB={[xr]:[{[ir]:!0,[Ut]:QC,[ar]:Cd,[YC]:["*"]},{[ir]:!0,[Ut]:"sigv4",[ar]:Cd,[Fr]:"{bucketArn#region}"}]},jB={[v]:AD,[T]:[Fe]},$B={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Kt,[ne]:{}},VB={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Kt,[ne]:{}},GB={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Kt,[ne]:{}},LC={[te]:RD,[re]:Kt,[ne]:{}},KB={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Kt,[ne]:{}},WB={[oe]:"UseObjectLambdaEndpoint"},FC={[xr]:[{[ir]:!0,[Ut]:"sigv4",[ar]:ZC,[Fr]:"{Region}"}]},XB={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},YB={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},JB={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},zC={[te]:Kf,[re]:Kt,[ne]:{}},QB={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[re]:Kt,[ne]:{}},UC=[{[oe]:"Region"}],k5=[{[oe]:"Endpoint"}],O5=[Fe],ZB=[at],qC=[gn],Za=[zt,Lr],eD=[{[v]:tn,[T]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[v]:qt,[T]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],N5=[OD],tD=[ND],fn=[ID],ec=[yt],rD=[{[v]:ct,[T]:[Fe,6,14,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,14,16,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],rs=[{[C]:[yt],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:pi,[ne]:{}},[p]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:pi,[ne]:{}},[p]:V}],nD=[{[v]:ct,[T]:[Fe,6,15,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,15,17,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],sD=[{[v]:ct,[T]:[Fe,6,19,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,19,21,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],oD=[{[v]:ct,[T]:[Fe,6,20,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,20,22,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],iD=[{[v]:ct,[T]:[Fe,6,26,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,26,28,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ns=[{[C]:[yt],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[yi]:"S3Express",[xr]:[{[ir]:!0,[Ut]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[yi]:"S3Express",[xr]:[{[ir]:!0,[Ut]:"sigv4-s3express",[ar]:"s3express",[Fr]:"{Region}"}]},[ne]:{}},[p]:V}],aD=[Fe,0,7,!0],cD=[{[v]:ct,[T]:[Fe,7,15,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,15,17,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],lD=[{[v]:ct,[T]:[Fe,7,16,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,16,18,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],dD=[{[v]:ct,[T]:[Fe,7,20,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,20,22,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],uD=[{[v]:ct,[T]:[Fe,7,21,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,21,23,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],mD=[{[v]:ct,[T]:[Fe,7,27,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:ct,[T]:[Fe,27,29,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],B5=[_d],fD=[{[v]:Si,[T]:[{[oe]:KC},!1]}],gD=[{[v]:qe,[T]:[{[oe]:CD},"beta"]}],D5=["*"],hD=[{[v]:Si,[T]:[{[oe]:"Region"},!1]}],bo=[{[v]:qe,[T]:[{[oe]:"Region"},"us-east-1"]}],HC=[{[v]:qe,[T]:[BD,TD]}],pD=[{[v]:vt,[T]:[Gr,"resourceId[1]"],[Ce]:ex},{[v]:ss,[T]:[{[v]:qe,[T]:[tx,Jf]}]}],M5=[Gr,"resourceId[1]"],jC=[{[v]:ss,[T]:[{[v]:qe,[T]:[{[v]:vt,[T]:[Gr,"region"]},Jf]}]}],yD=[{[v]:ss,[T]:[{[v]:tn,[T]:[{[v]:vt,[T]:[Gr,"resourceId[2]"]}]}]}],L5=[Gr,"resourceId[2]"],$C=[{[v]:Wf,[T]:[{[v]:vt,[T]:[Gr,"region"]}],[Ce]:"bucketPartition"}],SD=[{[v]:qe,[T]:[DD,{[v]:vt,[T]:[{[oe]:"partitionResult"},Ut]}]}],VC=[{[v]:Si,[T]:[{[v]:vt,[T]:[Gr,"region"]},!0]}],GC=[{[v]:Si,[T]:[MD,!1]}],ED=[{[v]:Si,[T]:[tx,!1]}],bD=[{[v]:Si,[T]:[{[oe]:"Region"},!0]}],F5={version:"1.0",parameters:{Bucket:Ja,Region:Ja,UseFIPS:Qa,UseDualStack:Qa,Endpoint:Ja,ForcePathStyle:Qa,Accelerate:Qa,UseGlobalEndpoint:Qa,UseObjectLambdaEndpoint:Ed,Key:Ja,Prefix:Ja,CopySource:Ja,DisableAccessPoints:Ed,DisableMultiRegionAccessPoints:Qa,UseArnRegion:Ed,UseS3ExpressControlEndpoint:Ed,DisableS3ExpressSessionAuth:Ed},[D]:[{[C]:[{[v]:tn,[T]:UC}],[D]:[{[C]:[gn,yt],error:"Accelerate cannot be used with FIPS",[p]:Z},{[C]:[at,zt],error:"Cannot set dual-stack in combination with a custom endpoint.",[p]:Z},{[C]:[zt,yt],error:"A custom endpoint cannot be combined with FIPS",[p]:Z},{[C]:[zt,gn],error:"A custom endpoint cannot be combined with S3 Accelerate",[p]:Z},{[C]:[yt,ID,bB],error:"Partition does not support FIPS",[p]:Z},{[C]:[_d,{[v]:ct,[T]:[Fe,0,T5,ts],[Ce]:dB},{[v]:qe,[T]:[{[oe]:dB},"--x-s3"]}],[D]:[_B,CB,xB,{[C]:[AB,PB],[D]:[{[C]:fn,[D]:[{[C]:[OD,Ee],[D]:[{[C]:ec,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:pi,[ne]:Se},[p]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:pi,[ne]:Se},[p]:V}],[p]:M}],[p]:M}],[p]:M},{[C]:tD,[D]:[{[C]:fn,[D]:[{[C]:eD,[D]:[{[C]:rD,[D]:rs,[p]:M},{[C]:nD,[D]:rs,[p]:M},{[C]:sD,[D]:rs,[p]:M},{[C]:oD,[D]:rs,[p]:M},{[C]:iD,[D]:rs,[p]:M},$f],[p]:M},{[C]:rD,[D]:ns,[p]:M},{[C]:nD,[D]:ns,[p]:M},{[C]:sD,[D]:ns,[p]:M},{[C]:oD,[D]:ns,[p]:M},{[C]:iD,[D]:ns,[p]:M},$f],[p]:M}],[p]:M},wB],[p]:M},{[C]:[_d,{[v]:ct,[T]:aD,[Ce]:uB},{[v]:qe,[T]:[{[oe]:uB},"--xa-s3"]}],[D]:[_B,CB,xB,{[C]:tD,[D]:[{[C]:fn,[D]:[{[C]:eD,[D]:[{[C]:cD,[D]:rs,[p]:M},{[C]:lD,[D]:rs,[p]:M},{[C]:dD,[D]:rs,[p]:M},{[C]:uD,[D]:rs,[p]:M},{[C]:mD,[D]:rs,[p]:M},$f],[p]:M},{[C]:cD,[D]:ns,[p]:M},{[C]:lD,[D]:ns,[p]:M},{[C]:dD,[D]:ns,[p]:M},{[C]:uD,[D]:ns,[p]:M},{[C]:mD,[D]:ns,[p]:M},$f],[p]:M}],[p]:M},wB],[p]:M},{[C]:[vB,AB,PB],[D]:[{[C]:fn,[D]:[{[C]:Za,endpoint:{[te]:Kf,[re]:pi,[ne]:Se},[p]:V},{[C]:ec,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[re]:pi,[ne]:Se},[p]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[re]:pi,[ne]:Se},[p]:V}],[p]:M}],[p]:M},{[C]:[_d,{[v]:ct,[T]:[Fe,49,50,ts],[Ce]:_D},{[v]:ct,[T]:[Fe,8,12,ts],[Ce]:CD},{[v]:ct,[T]:aD,[Ce]:mB},{[v]:ct,[T]:[Fe,32,49,ts],[Ce]:KC},{[v]:Wf,[T]:UC,[Ce]:"regionPartition"},{[v]:qe,[T]:[{[oe]:mB},"--op-s3"]}],[D]:[{[C]:fD,[D]:[{[C]:[{[v]:qe,[T]:[TB,"e"]}],[D]:[{[C]:gD,[D]:[RB,{[C]:Za,endpoint:{[te]:"https://{Bucket}.ec2.{url#authority}",[re]:Vf,[ne]:Se},[p]:V}],[p]:M},{endpoint:{[te]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Vf,[ne]:Se},[p]:V}],[p]:M},{[C]:[{[v]:qe,[T]:[TB,"o"]}],[D]:[{[C]:gD,[D]:[RB,{[C]:Za,endpoint:{[te]:"https://{Bucket}.op-{outpostId}.{url#authority}",[re]:Vf,[ne]:Se},[p]:V}],[p]:M},{endpoint:{[te]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Vf,[ne]:Se},[p]:V}],[p]:M},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[p]:Z}],[p]:M},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[p]:Z}],[p]:M},{[C]:B5,[D]:[{[C]:[zt,{[v]:ss,[T]:[{[v]:tn,[T]:[{[v]:JC,[T]:k5}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[p]:Z},{[C]:[vC,ND],[D]:[{[C]:fn,[D]:[{[C]:hD,[D]:[{[C]:[gn,bB],error:"S3 Accelerate cannot be used in this region",[p]:Z},{[C]:[at,yt,Gt,Ee,Jt],endpoint:{[te]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Se},[p]:V},{[C]:[at,yt,Gt,Ee,Le,sr],[D]:[{endpoint:IB,[p]:V}],[p]:M},{[C]:[at,yt,Gt,Ee,Le,or],endpoint:IB,[p]:V},{[C]:[De,yt,Gt,Ee,Jt],endpoint:{[te]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Se},[p]:V},{[C]:[De,yt,Gt,Ee,Le,sr],[D]:[{endpoint:kB,[p]:V}],[p]:M},{[C]:[De,yt,Gt,Ee,Le,or],endpoint:kB,[p]:V},{[C]:[at,ve,gn,Ee,Jt],endpoint:{[te]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Se},[p]:V},{[C]:[at,ve,gn,Ee,Le,sr],[D]:[{endpoint:OB,[p]:V}],[p]:M},{[C]:[at,ve,gn,Ee,Le,or],endpoint:OB,[p]:V},{[C]:[at,ve,Gt,Ee,Jt],endpoint:{[te]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Se},[p]:V},{[C]:[at,ve,Gt,Ee,Le,sr],[D]:[{endpoint:NB,[p]:V}],[p]:M},{[C]:[at,ve,Gt,Ee,Le,or],endpoint:NB,[p]:V},{[C]:[De,ve,Gt,zt,Lr,PC,Jt],endpoint:{[te]:xD,[re]:nr,[ne]:Se},[p]:V},{[C]:[De,ve,Gt,zt,Lr,TC,Jt],endpoint:{[te]:Yf,[re]:nr,[ne]:Se},[p]:V},{[C]:[De,ve,Gt,zt,Lr,PC,Le,sr],[D]:[{[C]:bo,endpoint:RC,[p]:V},{endpoint:RC,[p]:V}],[p]:M},{[C]:[De,ve,Gt,zt,Lr,TC,Le,sr],[D]:[{[C]:bo,endpoint:WC,[p]:V},BB],[p]:M},{[C]:[De,ve,Gt,zt,Lr,PC,Le,or],endpoint:RC,[p]:V},{[C]:[De,ve,Gt,zt,Lr,TC,Le,or],endpoint:WC,[p]:V},{[C]:[De,ve,gn,Ee,Jt],endpoint:{[te]:wD,[re]:nr,[ne]:Se},[p]:V},{[C]:[De,ve,gn,Ee,Le,sr],[D]:[{[C]:bo,endpoint:IC,[p]:V},{endpoint:IC,[p]:V}],[p]:M},{[C]:[De,ve,gn,Ee,Le,or],endpoint:IC,[p]:V},{[C]:[De,ve,Gt,Ee,Jt],endpoint:{[te]:fB,[re]:nr,[ne]:Se},[p]:V},{[C]:[De,ve,Gt,Ee,Le,sr],[D]:[{[C]:bo,endpoint:{[te]:fB,[re]:Kt,[ne]:Se},[p]:V},{endpoint:DB,[p]:V}],[p]:M},{[C]:[De,ve,Gt,Ee,Le,or],endpoint:DB,[p]:V}],[p]:M},Gf],[p]:M}],[p]:M},{[C]:[zt,Lr,{[v]:qe,[T]:[{[v]:vt,[T]:[kD,"scheme"]},"http"]},{[v]:Xf,[T]:[Fe,ts]},vC,ve,De,Gt],[D]:[{[C]:fn,[D]:[{[C]:hD,[D]:[BB],[p]:M},Gf],[p]:M}],[p]:M},{[C]:[vC,{[v]:AD,[T]:O5,[Ce]:PD}],[D]:[{[C]:[{[v]:vt,[T]:[Gr,"resourceId[0]"],[Ce]:vD},{[v]:ss,[T]:[{[v]:qe,[T]:[BD,Jf]}]}],[D]:[{[C]:[{[v]:qe,[T]:[kC,ZC]}],[D]:[{[C]:HC,[D]:[{[C]:pD,[D]:[MB,LB,{[C]:jC,[D]:[FB,{[C]:yD,[D]:[OC,{[C]:$C,[D]:[{[C]:fn,[D]:[{[C]:SD,[D]:[{[C]:VC,[D]:[{[C]:[{[v]:qe,[T]:[MD,Jf]}],error:"Invalid ARN: Missing account id",[p]:Z},{[C]:GC,[D]:[{[C]:ED,[D]:[{[C]:Za,endpoint:{[te]:gB,[re]:NC,[ne]:Se},[p]:V},{[C]:ec,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:NC,[ne]:Se},[p]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:NC,[ne]:Se},[p]:V}],[p]:M},zB],[p]:M},BC],[p]:M},DC],[p]:M},MC],[p]:M}],[p]:M}],[p]:M},UB],[p]:M},{error:"Invalid ARN: bucket ARN is missing a region",[p]:Z}],[p]:M},qB],[p]:M},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[p]:Z}],[p]:M},{[C]:HC,[D]:[{[C]:pD,[D]:[{[C]:jC,[D]:[{[C]:HC,[D]:[{[C]:jC,[D]:[FB,{[C]:yD,[D]:[OC,{[C]:$C,[D]:[{[C]:fn,[D]:[{[C]:[{[v]:qe,[T]:[DD,"{partitionResult#name}"]}],[D]:[{[C]:VC,[D]:[{[C]:[{[v]:qe,[T]:[kC,tc]}],[D]:[{[C]:GC,[D]:[{[C]:ED,[D]:[{[C]:qC,error:"Access Points do not support S3 Accelerate",[p]:Z},{[C]:[yt,at],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:bd,[ne]:Se},[p]:V},{[C]:[yt,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:bd,[ne]:Se},[p]:V},{[C]:[ve,at],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:bd,[ne]:Se},[p]:V},{[C]:[ve,De,zt,Lr],endpoint:{[te]:gB,[re]:bd,[ne]:Se},[p]:V},{[C]:[ve,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:bd,[ne]:Se},[p]:V}],[p]:M},zB],[p]:M},BC],[p]:M},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[p]:Z}],[p]:M},DC],[p]:M},MC],[p]:M}],[p]:M}],[p]:M},UB],[p]:M}],[p]:M}],[p]:M},{[C]:[{[v]:Si,[T]:[tx,ts]}],[D]:[{[C]:ZB,error:"S3 MRAP does not support dual-stack",[p]:Z},{[C]:ec,error:"S3 MRAP does not support FIPS",[p]:Z},{[C]:qC,error:"S3 MRAP does not support S3 Accelerate",[p]:Z},{[C]:[{[v]:qt,[T]:[{[oe]:"DisableMultiRegionAccessPoints"},ts]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[p]:Z},{[C]:[{[v]:Wf,[T]:UC,[Ce]:hB}],[D]:[{[C]:[{[v]:qe,[T]:[{[v]:vt,[T]:[{[oe]:hB},Ut]},{[v]:vt,[T]:[Gr,"partition"]}]}],[D]:[{endpoint:{[te]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[re]:{[xr]:[{[ir]:ts,name:QC,[ar]:tc,[YC]:D5}]},[ne]:Se},[p]:V}],[p]:M},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[p]:Z}],[p]:M}],[p]:M},{error:"Invalid Access Point Name",[p]:Z}],[p]:M},qB],[p]:M},{[C]:[{[v]:qe,[T]:[kC,Cd]}],[D]:[{[C]:ZB,error:"S3 Outposts does not support Dual-stack",[p]:Z},{[C]:ec,error:"S3 Outposts does not support FIPS",[p]:Z},{[C]:qC,error:"S3 Outposts does not support S3 Accelerate",[p]:Z},{[C]:[{[v]:tn,[T]:[{[v]:vt,[T]:[Gr,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[p]:Z},{[C]:[{[v]:vt,[T]:M5,[Ce]:KC}],[D]:[{[C]:fD,[D]:[OC,{[C]:$C,[D]:[{[C]:fn,[D]:[{[C]:SD,[D]:[{[C]:VC,[D]:[{[C]:GC,[D]:[{[C]:[{[v]:vt,[T]:L5,[Ce]:pB}],[D]:[{[C]:[{[v]:vt,[T]:[Gr,"resourceId[3]"],[Ce]:ex}],[D]:[{[C]:[{[v]:qe,[T]:[{[oe]:pB},TD]}],[D]:[{[C]:Za,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[re]:HB,[ne]:Se},[p]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:HB,[ne]:Se},[p]:V}],[p]:M},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[p]:Z}],[p]:M},{error:"Invalid ARN: expected an access point name",[p]:Z}],[p]:M},{error:"Invalid ARN: Expected a 4-component resource",[p]:Z}],[p]:M},BC],[p]:M},DC],[p]:M},MC],[p]:M}],[p]:M}],[p]:M},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[p]:Z}],[p]:M},{error:"Invalid ARN: The Outpost Id was not set",[p]:Z}],[p]:M},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[p]:Z}],[p]:M},{error:"Invalid ARN: No ARN type specified",[p]:Z}],[p]:M},{[C]:[{[v]:ct,[T]:[Fe,0,4,R5],[Ce]:yB},{[v]:qe,[T]:[{[oe]:yB},"arn:"]},{[v]:ss,[T]:[{[v]:tn,[T]:[jB]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[p]:Z},{[C]:[{[v]:qt,[T]:[I5,ts]},jB],error:"Path-style addressing cannot be used with ARN buckets",[p]:Z},{[C]:N5,[D]:[{[C]:fn,[D]:[{[C]:[Gt],[D]:[{[C]:[at,Ee,yt,Jt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:nr,[ne]:Se},[p]:V},{[C]:[at,Ee,yt,Le,sr],[D]:[{endpoint:$B,[p]:V}],[p]:M},{[C]:[at,Ee,yt,Le,or],endpoint:$B,[p]:V},{[C]:[De,Ee,yt,Jt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:nr,[ne]:Se},[p]:V},{[C]:[De,Ee,yt,Le,sr],[D]:[{endpoint:VB,[p]:V}],[p]:M},{[C]:[De,Ee,yt,Le,or],endpoint:VB,[p]:V},{[C]:[at,Ee,ve,Jt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:nr,[ne]:Se},[p]:V},{[C]:[at,Ee,ve,Le,sr],[D]:[{endpoint:GB,[p]:V}],[p]:M},{[C]:[at,Ee,ve,Le,or],endpoint:GB,[p]:V},{[C]:[De,zt,Lr,ve,Jt],endpoint:{[te]:RD,[re]:nr,[ne]:Se},[p]:V},{[C]:[De,zt,Lr,ve,Le,sr],[D]:[{[C]:bo,endpoint:LC,[p]:V},{endpoint:LC,[p]:V}],[p]:M},{[C]:[De,zt,Lr,ve,Le,or],endpoint:LC,[p]:V},{[C]:[De,Ee,ve,Jt],endpoint:{[te]:SB,[re]:nr,[ne]:Se},[p]:V},{[C]:[De,Ee,ve,Le,sr],[D]:[{[C]:bo,endpoint:{[te]:SB,[re]:Kt,[ne]:Se},[p]:V},{endpoint:KB,[p]:V}],[p]:M},{[C]:[De,Ee,ve,Le,or],endpoint:KB,[p]:V}],[p]:M},{error:"Path-style addressing cannot be used with S3 Accelerate",[p]:Z}],[p]:M}],[p]:M}],[p]:M},{[C]:[{[v]:tn,[T]:[WB]},{[v]:qt,[T]:[WB,ts]}],[D]:[{[C]:fn,[D]:[{[C]:bD,[D]:[MB,LB,{[C]:Za,endpoint:{[te]:Kf,[re]:FC,[ne]:Se},[p]:V},{[C]:ec,endpoint:{[te]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[re]:FC,[ne]:Se},[p]:V},{endpoint:{[te]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[re]:FC,[ne]:Se},[p]:V}],[p]:M},Gf],[p]:M}],[p]:M},{[C]:[vB],[D]:[{[C]:fn,[D]:[{[C]:bD,[D]:[{[C]:[yt,at,Ee,Jt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Se},[p]:V},{[C]:[yt,at,Ee,Le,sr],[D]:[{endpoint:XB,[p]:V}],[p]:M},{[C]:[yt,at,Ee,Le,or],endpoint:XB,[p]:V},{[C]:[yt,De,Ee,Jt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Se},[p]:V},{[C]:[yt,De,Ee,Le,sr],[D]:[{endpoint:YB,[p]:V}],[p]:M},{[C]:[yt,De,Ee,Le,or],endpoint:YB,[p]:V},{[C]:[ve,at,Ee,Jt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:nr,[ne]:Se},[p]:V},{[C]:[ve,at,Ee,Le,sr],[D]:[{endpoint:JB,[p]:V}],[p]:M},{[C]:[ve,at,Ee,Le,or],endpoint:JB,[p]:V},{[C]:[ve,De,zt,Lr,Jt],endpoint:{[te]:Kf,[re]:nr,[ne]:Se},[p]:V},{[C]:[ve,De,zt,Lr,Le,sr],[D]:[{[C]:bo,endpoint:zC,[p]:V},{endpoint:zC,[p]:V}],[p]:M},{[C]:[ve,De,zt,Lr,Le,or],endpoint:zC,[p]:V},{[C]:[ve,De,Ee,Jt],endpoint:{[te]:EB,[re]:nr,[ne]:Se},[p]:V},{[C]:[ve,De,Ee,Le,sr],[D]:[{[C]:bo,endpoint:{[te]:EB,[re]:Kt,[ne]:Se},[p]:V},{endpoint:QB,[p]:V}],[p]:M},{[C]:[ve,De,Ee,Le,or],endpoint:QB,[p]:V}],[p]:M},Gf],[p]:M}],[p]:M}],[p]:M},{error:"A region must be set when sending requests to S3.",[p]:Z}]};Qf.ruleSet=F5});var nx=B(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.defaultEndpointResolver=void 0;var z5=Ga(),rx=gi(),U5=LD(),q5=new rx.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),H5=(e,r={})=>q5.get(e,()=>(0,rx.resolveEndpoint)(U5.ruleSet,{endpointParams:e,logger:r.logger}));Zf.defaultEndpointResolver=H5;rx.customEndpointFunctions.aws=z5.awsEndpointFunctions});var sx=B(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.resolveHttpAuthSchemeConfig=_o.defaultS3HttpAuthSchemeProvider=_o.defaultS3HttpAuthSchemeParametersProvider=void 0;var FD=(Vt(),Re(mn)),j5=AC(),$5=Os(),eg=Er(),V5=nx(),G5=e=>async(r,t,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(r,t,n),o=(0,eg.getSmithyContext)(t)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);let a=await(0,$5.resolveParams)(n,{getEndpointParameterInstructions:o},r);return Object.assign(s,a)},K5=async(e,r,t)=>({operation:(0,eg.getSmithyContext)(r).operation,region:await(0,eg.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});_o.defaultS3HttpAuthSchemeParametersProvider=G5(K5);function zD(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function UD(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}var W5=(e,r,t)=>s=>{let a=e(s).properties?.authSchemes;if(!a)return r(s);let c=[];for(let l of a){let{name:d,properties:f={},...g}=l,y=d.toLowerCase();d!==y&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${y}\``);let h;if(y==="sigv4a"){h="aws.auth#sigv4a";let I=a.find(N=>{let W=N.name.toLowerCase();return W!=="sigv4a"&&W.startsWith("sigv4")});if(j5.SignatureV4MultiRegion.sigv4aDependency()==="none"&&I)continue}else if(y.startsWith("sigv4"))h="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${y}\``);let _=t[h];if(!_)throw new Error(`Could not find HttpAuthOption create function for \`${h}\``);let R=_(s);R.schemeId=h,R.signingProperties={...R.signingProperties||{},...g,...f},c.push(R)}return c},X5=e=>{let r=[];switch(e.operation){default:r.push(zD(e)),r.push(UD(e))}return r};_o.defaultS3HttpAuthSchemeProvider=W5(V5.defaultEndpointResolver,X5,{"aws.auth#sigv4":zD,"aws.auth#sigv4a":UD});var Y5=e=>{let r=(0,FD.resolveAwsSdkSigV4Config)(e),t=(0,FD.resolveAwsSdkSigV4AConfig)(r);return Object.assign(t,{authSchemePreference:(0,eg.normalizeProvider)(e.authSchemePreference??[])})};_o.resolveHttpAuthSchemeConfig=Y5});var qD=B((__e,J5)=>{J5.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.906.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/credential-provider-node":"3.906.0","@aws-sdk/middleware-bucket-endpoint":"3.901.0","@aws-sdk/middleware-expect-continue":"3.901.0","@aws-sdk/middleware-flexible-checksums":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-location-constraint":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-sdk-s3":"3.906.0","@aws-sdk/middleware-ssec":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/signature-v4-multi-region":"3.906.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@aws-sdk/xml-builder":"3.901.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/eventstream-serde-browser":"^4.2.0","@smithy/eventstream-serde-config-resolver":"^4.3.0","@smithy/eventstream-serde-node":"^4.2.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-blob-browser":"^4.2.0","@smithy/hash-node":"^4.2.0","@smithy/hash-stream-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/md5-js":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-stream":"^4.4.0","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.0","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.906.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var ox=B(Co=>{"use strict";var Q5=(Nn(),Re(Js)),Z5=Mr(),HD="AWS_ACCESS_KEY_ID",jD="AWS_SECRET_ACCESS_KEY",$D="AWS_SESSION_TOKEN",VD="AWS_CREDENTIAL_EXPIRATION",GD="AWS_CREDENTIAL_SCOPE",KD="AWS_ACCOUNT_ID",eW=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[HD],t=process.env[jD],n=process.env[$D],s=process.env[VD],o=process.env[GD],a=process.env[KD];if(r&&t){let c={accessKeyId:r,secretAccessKey:t,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...a&&{accountId:a}};return Q5.setCredentialFeature(c,"CREDENTIALS_ENV_VARS","g"),c}throw new Z5.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};Co.ENV_ACCOUNT_ID=KD;Co.ENV_CREDENTIAL_SCOPE=GD;Co.ENV_EXPIRATION=VD;Co.ENV_KEY=HD;Co.ENV_SECRET=jD;Co.ENV_SESSION=$D;Co.fromEnv=eW});var wd=B(wr=>{"use strict";var os=Mr(),tW=require("url"),rW=require("buffer"),nW=require("http"),dx=yo(),sW=fo();function xd(e){return new Promise((r,t)=>{let n=nW.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{t(Object.assign(new os.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{t(new os.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(t(Object.assign(new os.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{r(rW.Buffer.concat(a)),n.destroy()})}),n.end()})}var JD=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",QD=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),ZD=1e3,eM=0,ux=({maxRetries:e=eM,timeout:r=ZD})=>({maxRetries:e,timeout:r}),ax=(e,r)=>{let t=e();for(let n=0;n<r;n++)t=t.catch(e);return t},tg="AWS_CONTAINER_CREDENTIALS_FULL_URI",rg="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",cx="AWS_CONTAINER_AUTHORIZATION_TOKEN",oW=(e={})=>{let{timeout:r,maxRetries:t}=ux(e);return()=>ax(async()=>{let n=await dW({logger:e.logger}),s=JSON.parse(await iW(r,n));if(!JD(s))throw new os.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return QD(s)},t)},iW=async(e,r)=>(process.env[cx]&&(r.headers={...r.headers,Authorization:process.env[cx]}),(await xd({...r,timeout:e})).toString()),aW="169.254.170.2",cW={localhost:!0,"127.0.0.1":!0},lW={"http:":!0,"https:":!0},dW=async({logger:e})=>{if(process.env[rg])return{hostname:aW,path:process.env[rg]};if(process.env[tg]){let r=tW.parse(process.env[tg]);if(!r.hostname||!(r.hostname in cW))throw new os.CredentialsProviderError(`${r.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!r.protocol||!(r.protocol in lW))throw new os.CredentialsProviderError(`${r.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...r,port:r.port?parseInt(r.port,10):void 0}}throw new os.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${rg} or ${tg} environment variable is set`,{tryNextLink:!1,logger:e})},lx=class e extends os.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(r,t=!0){super(r,t),this.tryNextLink=t,Object.setPrototypeOf(this,e.prototype)}};wr.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(wr.Endpoint||(wr.Endpoint={}));var uW="AWS_EC2_METADATA_SERVICE_ENDPOINT",mW="ec2_metadata_service_endpoint",fW={environmentVariableSelector:e=>e[uW],configFileSelector:e=>e[mW],default:void 0},rc;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(rc||(rc={}));var gW="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",hW="ec2_metadata_service_endpoint_mode",pW={environmentVariableSelector:e=>e[gW],configFileSelector:e=>e[hW],default:rc.IPv4},tM=async()=>sW.parseUrl(await yW()||await SW()),yW=async()=>dx.loadConfig(fW)(),SW=async()=>{let e=await dx.loadConfig(pW)();switch(e){case rc.IPv4:return wr.Endpoint.IPv4;case rc.IPv6:return wr.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(rc)}`)}},EW=300,bW=300,_W="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",WD=(e,r)=>{let t=EW+Math.floor(Math.random()*bW),n=new Date(Date.now()+t*1e3);r.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+_W);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},CW=(e,r={})=>{let t=r?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=WD(s,t))}catch(o){if(n)t.warn("Credential renew failed: ",o),s=WD(n,t);else throw o}return n=s,s}},rM="/latest/meta-data/iam/security-credentials/",xW="/latest/api/token",ix="AWS_EC2_METADATA_V1_DISABLED",XD="ec2_metadata_v1_disabled",YD="x-aws-ec2-metadata-token",wW=(e={})=>CW(AW(e),{logger:e.logger}),AW=(e={})=>{let r=!1,{logger:t,profile:n}=e,{timeout:s,maxRetries:o}=ux(e),a=async(c,l)=>{if(r||l.headers?.[YD]==null){let g=!1,y=!1,h=await dx.loadConfig({environmentVariableSelector:_=>{let R=_[ix];if(y=!!R&&R!=="false",R===void 0)throw new os.CredentialsProviderError(`${ix} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:_=>{let R=_[XD];return g=!!R&&R!=="false",g},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),g&&_.push(`config file profile (${XD})`),y&&_.push(`process environment variable (${ix})`),new lx(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let f=(await ax(async()=>{let g;try{g=await vW(l)}catch(y){throw y.statusCode===401&&(r=!1),y}return g},c)).trim();return ax(async()=>{let g;try{g=await TW(f,l,e)}catch(y){throw y.statusCode===401&&(r=!1),y}return g},c)};return async()=>{let c=await tM();if(r)return t?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),a(o,{...c,timeout:s});{let l;try{l=(await PW({...c,timeout:s})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(r=!0),t?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),a(o,{...c,timeout:s})}return a(o,{...c,headers:{[YD]:l},timeout:s})}}},PW=async e=>xd({...e,path:xW,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),vW=async e=>(await xd({...e,path:rM})).toString(),TW=async(e,r,t)=>{let n=JSON.parse((await xd({...r,path:rM+e})).toString());if(!JD(n))throw new os.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return QD(n)};wr.DEFAULT_MAX_RETRIES=eM;wr.DEFAULT_TIMEOUT=ZD;wr.ENV_CMDS_AUTH_TOKEN=cx;wr.ENV_CMDS_FULL_URI=tg;wr.ENV_CMDS_RELATIVE_URI=rg;wr.fromContainerMetadata=oW;wr.fromInstanceMetadata=wW;wr.getInstanceMetadataEndpoint=tM;wr.httpRequest=xd;wr.providerConfigFromInit=ux});var nM=B(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.checkUrl=void 0;var RW=Mr(),IW="169.254.170.2",kW="169.254.170.23",OW="[fd00:ec2::23]",NW=(e,r)=>{if(e.protocol!=="https:"&&!(e.hostname===IW||e.hostname===kW||e.hostname===OW)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(t[0]==="127"&&n(t[1])&&n(t[2])&&n(t[3])&&t.length===4)return}throw new RW.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:r})}};ng.checkUrl=NW});var sM=B(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.createGetRequest=LW;sg.getCredentials=FW;var mx=Mr(),BW=We(),DW=Ie(),MW=Yo();function LW(e){return new BW.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((r,[t,n])=>(r[t]=n,r),{}),fragment:e.hash})}async function FW(e,r){let n=await(0,MW.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new mx.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:r});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,DW.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new mx.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r}),{Code:s.Code,Message:s.Message})}throw new mx.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r})}});var oM=B(og=>{"use strict";Object.defineProperty(og,"__esModule",{value:!0});og.retryWrapper=void 0;var zW=(e,r,t)=>async()=>{for(let n=0;n<r;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,t))}return await e()};og.retryWrapper=zW});var cM=B(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.fromHttp=void 0;var UW=(Xn(),Re(Wn)),qW=(Nn(),Re(Js)),HW=Xo(),iM=Mr(),jW=UW.__importDefault(require("fs/promises")),$W=nM(),aM=sM(),VW=oM(),GW="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",KW="http://169.254.170.2",WW="AWS_CONTAINER_CREDENTIALS_FULL_URI",XW="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",YW="AWS_CONTAINER_AUTHORIZATION_TOKEN",JW=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let r,t=e.awsContainerCredentialsRelativeUri??process.env[GW],n=e.awsContainerCredentialsFullUri??process.env[WW],s=e.awsContainerAuthorizationToken??process.env[YW],o=e.awsContainerAuthorizationTokenFile??process.env[XW],a=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(t&&n&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),a("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),a("awsContainerAuthorizationToken will take precedence.")),n)r=n;else if(t)r=`${KW}${t}`;else throw new iM.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(r);(0,$W.checkUrl)(c,e.logger);let l=HW.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,VW.retryWrapper)(async()=>{let d=(0,aM.createGetRequest)(c);s?d.headers.Authorization=s:o&&(d.headers.Authorization=(await jW.default.readFile(o)).toString());try{let f=await l.handle(d);return(0,aM.getCredentials)(f.response).then(g=>(0,qW.setCredentialFeature)(g,"CREDENTIALS_HTTP","z"))}catch(f){throw new iM.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};ig.fromHttp=JW});var fx=B(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.fromHttp=void 0;var QW=cM();Object.defineProperty(ag,"fromHttp",{enumerable:!0,get:function(){return QW.fromHttp}})});function ZW(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function eX(e){return{schemeId:"smithy.api#noAuth"}}var Ad,lM,dM,uM,gx=P(()=>{Vt();Ad=k(Er()),lM=async(e,r,t)=>({operation:(0,Ad.getSmithyContext)(r).operation,region:await(0,Ad.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});dM=e=>{let r=[];switch(e.operation){case"CreateToken":{r.push(eX(e));break}default:r.push(ZW(e))}return r},uM=e=>{let r=ai(e);return Object.assign(r,{authSchemePreference:(0,Ad.normalizeProvider)(e.authSchemePreference??[])})}});var mM,fM,hx=P(()=>{mM=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),fM={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var cg,px=P(()=>{cg={name:"@aws-sdk/nested-clients",version:"3.906.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Pd=B(Ei=>{"use strict";var gM=require("os"),yx=require("process"),rX=Wa(),hM={isCrtAvailable:!1},nX=()=>hM.isCrtAvailable?["md/crt-avail"]:null,pM=({serviceId:e,clientVersion:r})=>async t=>{let n=[["aws-sdk-js",r],["ua","2.1"],[`os/${gM.platform()}`,gM.release()],["lang/js"],["md/nodejs",`${yx.versions.node}`]],s=nX();s&&n.push(s),e&&n.push([`api/${e}`,r]),yx.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${yx.env.AWS_EXECUTION_ENV}`]);let o=await t?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},sX=pM,yM="AWS_SDK_UA_APP_ID",SM="sdk_ua_app_id",oX="sdk-ua-app-id",iX={environmentVariableSelector:e=>e[yM],configFileSelector:e=>e[SM]??e[oX],default:rX.DEFAULT_UA_APP_ID};Ei.NODE_APP_ID_CONFIG_OPTIONS=iX;Ei.UA_APP_ID_ENV_NAME=yM;Ei.UA_APP_ID_INI_NAME=SM;Ei.createDefaultUserAgentProvider=pM;Ei.crtAvailability=hM;Ei.defaultUserAgent=sX});var vd=B(_M=>{"use strict";var Sx=Ta(),aX=Wt(),cX=require("buffer"),EM=require("crypto"),Ex=class{algorithmIdentifier;secret;hash;constructor(r,t){this.algorithmIdentifier=r,this.secret=t,this.reset()}update(r,t){this.hash.update(aX.toUint8Array(bM(r,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?EM.createHmac(this.algorithmIdentifier,bM(this.secret)):EM.createHash(this.algorithmIdentifier)}};function bM(e,r){return cX.Buffer.isBuffer(e)?e:typeof e=="string"?Sx.fromString(e,r):ArrayBuffer.isView(e)?Sx.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Sx.fromArrayBuffer(e)}_M.Hash=Ex});var Td=B(CM=>{"use strict";var bx=require("node:fs"),lX=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof bx.ReadStream){if(e.path!=null)return bx.lstatSync(e.path).size;if(typeof e.fd=="number")return bx.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};CM.calculateBodyLength=lX});var OM,pn,xM,Rd,nc,sc,Bs,_x,Cx,wM,AM,PM,NM,BM,hn,vM,DM,TM,RM,IM,kM,dX,MM,LM=P(()=>{OM="required",pn="argv",xM="isSet",Rd="booleanEquals",nc="error",sc="endpoint",Bs="tree",_x="PartitionResult",Cx="getAttr",wM={[OM]:!1,type:"String"},AM={[OM]:!0,default:!1,type:"Boolean"},PM={ref:"Endpoint"},NM={fn:Rd,[pn]:[{ref:"UseFIPS"},!0]},BM={fn:Rd,[pn]:[{ref:"UseDualStack"},!0]},hn={},vM={fn:Cx,[pn]:[{ref:_x},"supportsFIPS"]},DM={ref:_x},TM={fn:Rd,[pn]:[!0,{fn:Cx,[pn]:[DM,"supportsDualStack"]}]},RM=[NM],IM=[BM],kM=[{ref:"Region"}],dX={version:"1.0",parameters:{Region:wM,UseDualStack:AM,UseFIPS:AM,Endpoint:wM},rules:[{conditions:[{fn:xM,[pn]:[PM]}],rules:[{conditions:RM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:nc},{conditions:IM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:nc},{endpoint:{url:PM,properties:hn,headers:hn},type:sc}],type:Bs},{conditions:[{fn:xM,[pn]:kM}],rules:[{conditions:[{fn:"aws.partition",[pn]:kM,assign:_x}],rules:[{conditions:[NM,BM],rules:[{conditions:[{fn:Rd,[pn]:[!0,vM]},TM],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hn,headers:hn},type:sc}],type:Bs},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:nc}],type:Bs},{conditions:RM,rules:[{conditions:[{fn:Rd,[pn]:[vM,!0]}],rules:[{conditions:[{fn:"stringEquals",[pn]:[{fn:Cx,[pn]:[DM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:hn,headers:hn},type:sc},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:hn,headers:hn},type:sc}],type:Bs},{error:"FIPS is enabled but this partition does not support FIPS",type:nc}],type:Bs},{conditions:IM,rules:[{conditions:[TM],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:hn,headers:hn},type:sc}],type:Bs},{error:"DualStack is enabled but this partition does not support DualStack",type:nc}],type:Bs},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:hn,headers:hn},type:sc}],type:Bs}],type:Bs},{error:"Invalid Configuration: Missing Region",type:nc}]},MM=dX});var FM,oc,uX,zM,UM=P(()=>{FM=k(Ga()),oc=k(gi());LM();uX=new oc.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),zM=(e,r={})=>uX.get(e,()=>(0,oc.resolveEndpoint)(MM,{endpointParams:e,logger:r.logger}));oc.customEndpointFunctions.aws=FM.awsEndpointFunctions});var qM,HM,lg,dg,jM,$M=P(()=>{Vt();Dr();qM=k(Ie()),HM=k(fo()),lg=k(fr()),dg=k(Wt());gx();UM();jM=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??lg.fromBase64,base64Encoder:e?.base64Encoder??lg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??zM,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dM,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new Hr},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cs}],logger:e?.logger??new qM.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??HM.parseUrl,utf8Decoder:e?.utf8Decoder??dg.fromUtf8,utf8Encoder:e?.utf8Encoder??dg.toUtf8})});var Id=B(WM=>{"use strict";var mX=es(),VM=yo(),fX=Mr(),gX="AWS_EXECUTION_ENV",GM="AWS_REGION",KM="AWS_DEFAULT_REGION",hX="AWS_EC2_METADATA_DISABLED",pX=["in-region","cross-region","mobile","standard","legacy"],yX="/latest/meta-data/placement/region",SX="AWS_DEFAULTS_MODE",EX="defaults_mode",bX={environmentVariableSelector:e=>e[SX],configFileSelector:e=>e[EX],default:"legacy"},_X=({region:e=VM.loadConfig(mX.NODE_REGION_CONFIG_OPTIONS),defaultsMode:r=VM.loadConfig(bX)}={})=>fX.memoize(async()=>{let t=typeof r=="function"?await r():r;switch(t?.toLowerCase()){case"auto":return CX(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${pX.join(", ")}, got ${t}`)}}),CX=async e=>{if(e){let r=typeof e=="function"?await e():e,t=await xX();return t?r===t?"in-region":"cross-region":"standard"}return"standard"},xX=async()=>{if(process.env[gX]&&(process.env[GM]||process.env[KM]))return process.env[GM]??process.env[KM];if(!process.env[hX])try{let{getInstanceMetadataEndpoint:e,httpRequest:r}=await Promise.resolve().then(()=>k(wd())),t=await e();return(await r({...t,path:yX})).toString()}catch{}};WM.resolveDefaultsModeConfig=_X});var ug,wo,XM,mg,xo,fg,YM,JM,QM,ZM,e3,t3,r3=P(()=>{px();Vt();ug=k(Pd()),wo=k(es()),XM=k(vd()),mg=k(Ns()),xo=k(yo()),fg=k(Xo()),YM=k(Td()),JM=k(Xa());$M();QM=k(Ie()),ZM=k(Id()),e3=k(Ie()),t3=e=>{(0,e3.emitWarningIfUnsupportedVersion)(process.version);let r=(0,ZM.resolveDefaultsModeConfig)(e),t=()=>r().then(QM.loadConfigsForDefaultMode),n=jM(e);xa(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,xo.loadConfig)(Pa,s),bodyLengthChecker:e?.bodyLengthChecker??YM.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ug.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:cg.version}),maxAttempts:e?.maxAttempts??(0,xo.loadConfig)(mg.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xo.loadConfig)(wo.NODE_REGION_CONFIG_OPTIONS,{...wo.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:fg.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,xo.loadConfig)({...mg.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||JM.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??XM.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??fg.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xo.loadConfig)(wo.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,xo.loadConfig)(wo.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,xo.loadConfig)(ug.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var kd=B((X_e,c3)=>{"use strict";var gg=Object.defineProperty,wX=Object.getOwnPropertyDescriptor,AX=Object.getOwnPropertyNames,PX=Object.prototype.hasOwnProperty,is=(e,r)=>gg(e,"name",{value:r,configurable:!0}),vX=(e,r)=>{for(var t in r)gg(e,t,{get:r[t],enumerable:!0})},TX=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of AX(r))!PX.call(e,s)&&s!==t&&gg(e,s,{get:()=>r[s],enumerable:!(n=wX(r,s))||n.enumerable});return e},RX=e=>TX(gg({},"__esModule",{value:!0}),e),s3={};vX(s3,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>NX,NODE_REGION_CONFIG_OPTIONS:()=>OX,REGION_ENV_NAME:()=>o3,REGION_INI_NAME:()=>i3,getAwsRegionExtensionConfiguration:()=>IX,resolveAwsRegionExtensionConfiguration:()=>kX,resolveRegionConfig:()=>BX});c3.exports=RX(s3);var IX=is(e=>({setRegion(r){e.region=r},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),kX=is(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),o3="AWS_REGION",i3="region",OX={environmentVariableSelector:is(e=>e[o3],"environmentVariableSelector"),configFileSelector:is(e=>e[i3],"configFileSelector"),default:is(()=>{throw new Error("Region is missing")},"default")},NX={preferredFile:"credentials"},a3=is(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),n3=is(e=>a3(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),BX=is(e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:is(async()=>{if(typeof r=="string")return n3(r);let n=await r();return n3(n)},"region"),useFipsEndpoint:is(async()=>{let n=typeof r=="string"?r:await r();return a3(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()},"useFipsEndpoint")})},"resolveRegionConfig")});var l3,d3,u3=P(()=>{l3=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},d3=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var hg,pg,yg,m3,f3=P(()=>{hg=k(kd()),pg=k(We()),yg=k(Ie());u3();m3=(e,r)=>{let t=Object.assign((0,hg.getAwsRegionExtensionConfiguration)(e),(0,yg.getDefaultExtensionConfiguration)(e),(0,pg.getHttpHandlerExtensionConfiguration)(e),l3(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,hg.resolveAwsRegionExtensionConfiguration)(t),(0,yg.resolveDefaultRuntimeConfig)(t),(0,pg.resolveHttpHandlerRuntimeConfig)(t),d3(t))}});var Sg,g3,h3,Eg,p3,y3,S3,bg,xx,Od,wx=P(()=>{Sg=k(ad()),g3=k(cd()),h3=k(ld()),Eg=k(Wa()),p3=k(es());Dr();y3=k(md()),S3=k(Os()),bg=k(Ns()),xx=k(Ie());gx();hx();r3();f3();Od=class extends xx.Client{config;constructor(...[r]){let t=t3(r||{});super(t),this.initConfig=t;let n=mM(t),s=(0,Eg.resolveUserAgentConfig)(n),o=(0,bg.resolveRetryConfig)(s),a=(0,p3.resolveRegionConfig)(o),c=(0,Sg.resolveHostHeaderConfig)(a),l=(0,S3.resolveEndpointConfig)(c),d=uM(l),f=m3(d,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,Eg.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,bg.getRetryPlugin)(this.config)),this.middlewareStack.use((0,y3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Sg.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,g3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,h3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Nl(this.config,{httpAuthSchemeParametersProvider:lM,identityProviderConfigProvider:async g=>new ni({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Bl(this.config))}destroy(){super.destroy()}}});var E3,cr,_g=P(()=>{E3=k(Ie()),cr=class e extends E3.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var bi,DX,Nd,Bd,Ax,Px,Dd,Md,Ld,Fd,MX,zd,Ud,qd,Hd,jd,Cg=P(()=>{bi=k(Ie());_g();DX={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Nd=class e extends cr{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(r){super({name:"AccessDeniedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},Bd=class e extends cr{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(r){super({name:"AuthorizationPendingException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Ax=e=>({...e,...e.clientSecret&&{clientSecret:bi.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:bi.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:bi.SENSITIVE_STRING}}),Px=e=>({...e,...e.accessToken&&{accessToken:bi.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:bi.SENSITIVE_STRING},...e.idToken&&{idToken:bi.SENSITIVE_STRING}}),Dd=class e extends cr{name="ExpiredTokenException";$fault="client";error;error_description;constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Md=class e extends cr{name="InternalServerException";$fault="server";error;error_description;constructor(r){super({name:"InternalServerException",$fault:"server",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Ld=class e extends cr{name="InvalidClientException";$fault="client";error;error_description;constructor(r){super({name:"InvalidClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Fd=class e extends cr{name="InvalidGrantException";$fault="client";error;error_description;constructor(r){super({name:"InvalidGrantException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},MX={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},zd=class e extends cr{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},Ud=class e extends cr{name="InvalidScopeException";$fault="client";error;error_description;constructor(r){super({name:"InvalidScopeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},qd=class e extends cr{name="SlowDownException";$fault="client";error;error_description;constructor(r){super({name:"SlowDownException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Hd=class e extends cr{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(r){super({name:"UnauthorizedClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},jd=class e extends cr{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(r){super({name:"UnsupportedGrantTypeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}}});var Y,b3,_3,LX,FX,zX,UX,qX,HX,jX,$X,VX,GX,KX,WX,XX,yn,C3=P(()=>{Vt();Dr();Y=k(Ie());Cg();_g();b3=async(e,r)=>{let t=Kl(e,r),n={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,Y.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,Y._json)(o)})),t.m("POST").h(n).b(s),t.build()},_3=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return LX(e,r);let t=(0,Y.map)({$metadata:yn(e)}),n=(0,Y.expectNonNull)((0,Y.expectObject)(await Ua(e.body,r)),"body"),s=(0,Y.take)(n,{accessToken:Y.expectString,expiresIn:Y.expectInt32,idToken:Y.expectString,refreshToken:Y.expectString,tokenType:Y.expectString});return Object.assign(t,s),t},LX=async(e,r)=>{let t={...e,body:await u_(e.body,r)},n=li(e,t.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await zX(t,r);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await UX(t,r);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await qX(t,r);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await HX(t,r);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await jX(t,r);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await $X(t,r);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await VX(t,r);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await GX(t,r);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await KX(t,r);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await WX(t,r);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await XX(t,r);default:let s=t.body;return FX({output:e,parsedBody:s,errorCode:n})}},FX=(0,Y.withBaseException)(cr),zX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new Nd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},UX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Bd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},qX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Dd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},HX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Md({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},jX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Ld({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},$X=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Fd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},VX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new zd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},GX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Ud({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},KX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new qd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},WX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Hd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},XX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new jd({$metadata:yn(e),...t});return(0,Y.decorateServiceException)(o,e.body)},yn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var x3,w3,vx,$d,Tx=P(()=>{x3=k(Os()),w3=k(Qs()),vx=k(Ie());hx();Cg();C3();$d=class extends vx.Command.classBuilder().ep(fM).m(function(r,t,n,s){return[(0,w3.getSerdePlugin)(n,this.serialize,this.deserialize),(0,x3.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Ax,Px).ser(b3).de(_3).build(){}});var A3,YX,xg,P3=P(()=>{A3=k(Ie());Tx();wx();YX={CreateTokenCommand:$d},xg=class extends Od{};(0,A3.createAggregatedClient)(YX,xg)});var v3=P(()=>{Tx()});var T3=P(()=>{Cg()});var Rx={};ln(Rx,{$Command:()=>vx.Command,AccessDeniedException:()=>Nd,AccessDeniedExceptionReason:()=>DX,AuthorizationPendingException:()=>Bd,CreateTokenCommand:()=>$d,CreateTokenRequestFilterSensitiveLog:()=>Ax,CreateTokenResponseFilterSensitiveLog:()=>Px,ExpiredTokenException:()=>Dd,InternalServerException:()=>Md,InvalidClientException:()=>Ld,InvalidGrantException:()=>Fd,InvalidRequestException:()=>zd,InvalidRequestExceptionReason:()=>MX,InvalidScopeException:()=>Ud,SSOOIDC:()=>xg,SSOOIDCClient:()=>Od,SSOOIDCServiceException:()=>cr,SlowDownException:()=>qd,UnauthorizedClientException:()=>Hd,UnsupportedGrantTypeException:()=>jd,__Client:()=>xx.Client});var Ix=P(()=>{wx();P3();v3();T3();_g()});var O3=B(Gd=>{"use strict";var JX=(Nn(),Re(Js)),QX=(Mb(),Re(nI)),rn=Mr(),Vd=Is(),ZX=require("fs"),e9=({logger:e,signingName:r}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!r)throw new rn.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let t=QX.getBearerTokenEnvKey(r);if(!(t in process.env))throw new rn.TokenProviderError(`Token not present in '${t}' environment variable`,{logger:e});let n={token:process.env[t]};return JX.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},t9=300*1e3,kx="To refresh this SSO session run 'aws sso login' with the corresponding profile.",r9=async(e,r={})=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(Ix(),Rx));return new t(Object.assign({},r.clientConfig??{},{region:e??r.clientConfig?.region,logger:r.clientConfig?.logger??r.parentClientConfig?.logger}))},n9=async(e,r,t={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Ix(),Rx));return(await r9(r,t)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},R3=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new rn.TokenProviderError(`Token is expired. ${kx}`,!1)},_i=(e,r,t=!1)=>{if(typeof r>"u")throw new rn.TokenProviderError(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${kx}`,!1)},{writeFile:s9}=ZX.promises,o9=(e,r)=>{let t=Vd.getSSOTokenFilepath(e),n=JSON.stringify(r,null,2);return s9(t,n)},I3=new Date(0),k3=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Vd.parseKnownFiles(t),s=Vd.getProfileName({profile:t.profile??r?.profile}),o=n[s];if(o){if(!o.sso_session)throw new rn.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new rn.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let a=o.sso_session,l=(await Vd.loadSsoSessionData(t))[a];if(!l)throw new rn.TokenProviderError(`Sso session '${a}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!l[_])throw new rn.TokenProviderError(`Sso session '${a}' is missing required property '${_}'.`,!1);l.sso_start_url;let d=l.sso_region,f;try{f=await Vd.getSSOTokenFromFile(a)}catch{throw new rn.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${kx}`,!1)}_i("accessToken",f.accessToken),_i("expiresAt",f.expiresAt);let{accessToken:g,expiresAt:y}=f,h={token:g,expiration:new Date(y)};if(h.expiration.getTime()-Date.now()>t9)return h;if(Date.now()-I3.getTime()<30*1e3)return R3(h),h;_i("clientId",f.clientId,!0),_i("clientSecret",f.clientSecret,!0),_i("refreshToken",f.refreshToken,!0);try{I3.setTime(Date.now());let _=await n9(f,d,t);_i("accessToken",_.accessToken),_i("expiresIn",_.expiresIn);let R=new Date(Date.now()+_.expiresIn*1e3);try{await o9(a,{...f,accessToken:_.accessToken,expiresAt:R.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:R}}catch{return R3(h),h}},i9=({token:e,logger:r})=>async()=>{if(r?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new rn.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},a9=(e={})=>rn.memoize(rn.chain(k3(e),async()=>{throw new rn.TokenProviderError("Could not load token from any providers",!1)}),r=>r.expiration!==void 0&&r.expiration.getTime()-Date.now()<3e5,r=>r.expiration!==void 0);Gd.fromEnvSigningName=e9;Gd.fromSso=k3;Gd.fromStatic=i9;Gd.nodeProvider=a9});var Nx=B(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.resolveHttpAuthSchemeConfig=Ao.defaultSSOHttpAuthSchemeProvider=Ao.defaultSSOHttpAuthSchemeParametersProvider=void 0;var c9=(Vt(),Re(mn)),Ox=Er(),l9=async(e,r,t)=>({operation:(0,Ox.getSmithyContext)(r).operation,region:await(0,Ox.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ao.defaultSSOHttpAuthSchemeParametersProvider=l9;function d9(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function wg(e){return{schemeId:"smithy.api#noAuth"}}var u9=e=>{let r=[];switch(e.operation){case"GetRoleCredentials":{r.push(wg(e));break}case"ListAccountRoles":{r.push(wg(e));break}case"ListAccounts":{r.push(wg(e));break}case"Logout":{r.push(wg(e));break}default:r.push(d9(e))}return r};Ao.defaultSSOHttpAuthSchemeProvider=u9;var m9=e=>{let r=(0,c9.resolveAwsSdkSigV4Config)(e);return Object.assign(r,{authSchemePreference:(0,Ox.normalizeProvider)(e.authSchemePreference??[])})};Ao.resolveHttpAuthSchemeConfig=m9});var N3=B((kCe,f9)=>{f9.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.906.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var W3=B(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.ruleSet=void 0;var $3="required",En="fn",bn="argv",cc="ref",B3=!0,D3="isSet",Kd="booleanEquals",ic="error",ac="endpoint",Ds="tree",Bx="PartitionResult",Dx="getAttr",M3={[$3]:!1,type:"String"},L3={[$3]:!0,default:!1,type:"Boolean"},F3={[cc]:"Endpoint"},V3={[En]:Kd,[bn]:[{[cc]:"UseFIPS"},!0]},G3={[En]:Kd,[bn]:[{[cc]:"UseDualStack"},!0]},Sn={},z3={[En]:Dx,[bn]:[{[cc]:Bx},"supportsFIPS"]},K3={[cc]:Bx},U3={[En]:Kd,[bn]:[!0,{[En]:Dx,[bn]:[K3,"supportsDualStack"]}]},q3=[V3],H3=[G3],j3=[{[cc]:"Region"}],g9={version:"1.0",parameters:{Region:M3,UseDualStack:L3,UseFIPS:L3,Endpoint:M3},rules:[{conditions:[{[En]:D3,[bn]:[F3]}],rules:[{conditions:q3,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ic},{conditions:H3,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ic},{endpoint:{url:F3,properties:Sn,headers:Sn},type:ac}],type:Ds},{conditions:[{[En]:D3,[bn]:j3}],rules:[{conditions:[{[En]:"aws.partition",[bn]:j3,assign:Bx}],rules:[{conditions:[V3,G3],rules:[{conditions:[{[En]:Kd,[bn]:[B3,z3]},U3],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sn,headers:Sn},type:ac}],type:Ds},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ic}],type:Ds},{conditions:q3,rules:[{conditions:[{[En]:Kd,[bn]:[z3,B3]}],rules:[{conditions:[{[En]:"stringEquals",[bn]:[{[En]:Dx,[bn]:[K3,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Sn,headers:Sn},type:ac},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Sn,headers:Sn},type:ac}],type:Ds},{error:"FIPS is enabled but this partition does not support FIPS",type:ic}],type:Ds},{conditions:H3,rules:[{conditions:[U3],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Sn,headers:Sn},type:ac}],type:Ds},{error:"DualStack is enabled but this partition does not support DualStack",type:ic}],type:Ds},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Sn,headers:Sn},type:ac}],type:Ds}],type:Ds},{error:"Invalid Configuration: Missing Region",type:ic}]};Ag.ruleSet=g9});var X3=B(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.defaultEndpointResolver=void 0;var h9=Ga(),Mx=gi(),p9=W3(),y9=new Mx.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),S9=(e,r={})=>y9.get(e,()=>(0,Mx.resolveEndpoint)(p9.ruleSet,{endpointParams:e,logger:r.logger}));Pg.defaultEndpointResolver=S9;Mx.customEndpointFunctions.aws=h9.awsEndpointFunctions});var Q3=B(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});vg.getRuntimeConfig=void 0;var E9=(Vt(),Re(mn)),b9=(Dr(),Re(si)),_9=Ie(),C9=fo(),Y3=fr(),J3=Wt(),x9=Nx(),w9=X3(),A9=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Y3.fromBase64,base64Encoder:e?.base64Encoder??Y3.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??w9.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??x9.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new E9.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new b9.NoAuthSigner}],logger:e?.logger??new _9.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??C9.parseUrl,utf8Decoder:e?.utf8Decoder??J3.fromUtf8,utf8Encoder:e?.utf8Encoder??J3.toUtf8});vg.getRuntimeConfig=A9});var n1=B(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.getRuntimeConfig=void 0;var P9=(Xn(),Re(Wn)),v9=P9.__importDefault(N3()),Z3=(Vt(),Re(mn)),e1=Pd(),Tg=es(),T9=vd(),t1=Ns(),Ci=yo(),r1=Xo(),R9=Td(),I9=Xa(),k9=Q3(),O9=Ie(),N9=Id(),B9=Ie(),D9=e=>{(0,B9.emitWarningIfUnsupportedVersion)(process.version);let r=(0,N9.resolveDefaultsModeConfig)(e),t=()=>r().then(O9.loadConfigsForDefaultMode),n=(0,k9.getRuntimeConfig)(e);(0,Z3.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Ci.loadConfig)(Z3.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??R9.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,e1.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:v9.default.version}),maxAttempts:e?.maxAttempts??(0,Ci.loadConfig)(t1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ci.loadConfig)(Tg.NODE_REGION_CONFIG_OPTIONS,{...Tg.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:r1.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ci.loadConfig)({...t1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||I9.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??T9.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??r1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ci.loadConfig)(Tg.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ci.loadConfig)(Tg.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ci.loadConfig)(e1.NODE_APP_ID_CONFIG_OPTIONS,s)}};Rg.getRuntimeConfig=D9});var C1=B(Bt=>{"use strict";var s1=ad(),M9=cd(),L9=ld(),o1=Wa(),F9=es(),Ms=(Dr(),Re(si)),z9=md(),Jd=Os(),i1=Ns(),se=Ie(),a1=Nx(),U9=n1(),c1=kd(),l1=We(),Lg=Qs(),Wd=(Vt(),Re(mn)),q9=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Fg={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},H9=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},j9=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),$9=(e,r)=>{let t=Object.assign(c1.getAwsRegionExtensionConfiguration(e),se.getDefaultExtensionConfiguration(e),l1.getHttpHandlerExtensionConfiguration(e),H9(e));return r.forEach(n=>n.configure(t)),Object.assign(e,c1.resolveAwsRegionExtensionConfiguration(t),se.resolveDefaultRuntimeConfig(t),l1.resolveHttpHandlerRuntimeConfig(t),j9(t))},lc=class extends se.Client{config;constructor(...[r]){let t=U9.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=q9(t),s=o1.resolveUserAgentConfig(n),o=i1.resolveRetryConfig(s),a=F9.resolveRegionConfig(o),c=s1.resolveHostHeaderConfig(a),l=Jd.resolveEndpointConfig(c),d=a1.resolveHttpAuthSchemeConfig(l),f=$9(d,r?.extensions||[]);this.config=f,this.middlewareStack.use(o1.getUserAgentPlugin(this.config)),this.middlewareStack.use(i1.getRetryPlugin(this.config)),this.middlewareStack.use(z9.getContentLengthPlugin(this.config)),this.middlewareStack.use(s1.getHostHeaderPlugin(this.config)),this.middlewareStack.use(M9.getLoggerPlugin(this.config)),this.middlewareStack.use(L9.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ms.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:a1.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new Ms.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Ms.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Po=class e extends se.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},Ig=class e extends Po{name="InvalidRequestException";$fault="client";constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},kg=class e extends Po{name="ResourceNotFoundException";$fault="client";constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Og=class e extends Po{name="TooManyRequestsException";$fault="client";constructor(r){super({name:"TooManyRequestsException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Ng=class e extends Po{name="UnauthorizedException";$fault="client";constructor(r){super({name:"UnauthorizedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},d1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),u1=e=>({...e,...e.secretAccessKey&&{secretAccessKey:se.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:se.SENSITIVE_STRING}}),m1=e=>({...e,...e.roleCredentials&&{roleCredentials:u1(e.roleCredentials)}}),f1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),g1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),h1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),V9=async(e,r)=>{let t=Ms.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[qg]:e[Ug]});t.bp("/federation/credentials");let s=se.map({[o7]:[,se.expectNonNull(e[s7],"roleName")],[y1]:[,se.expectNonNull(e[p1],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},G9=async(e,r)=>{let t=Ms.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[qg]:e[Ug]});t.bp("/assignment/roles");let s=se.map({[_1]:[,e[b1]],[E1]:[()=>e.maxResults!==void 0,()=>e[S1].toString()],[y1]:[,se.expectNonNull(e[p1],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},K9=async(e,r)=>{let t=Ms.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[qg]:e[Ug]});t.bp("/assignment/accounts");let s=se.map({[_1]:[,e[b1]],[E1]:[()=>e.maxResults!==void 0,()=>e[S1].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},W9=async(e,r)=>{let t=Ms.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[qg]:e[Ug]});return t.bp("/logout"),t.m("POST").h(n).b(void 0),t.build()},X9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return zg(e,r);let t=se.map({$metadata:vo(e)}),n=se.expectNonNull(se.expectObject(await Wd.parseJsonBody(e.body,r)),"body"),s=se.take(n,{roleCredentials:se._json});return Object.assign(t,s),t},Y9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return zg(e,r);let t=se.map({$metadata:vo(e)}),n=se.expectNonNull(se.expectObject(await Wd.parseJsonBody(e.body,r)),"body"),s=se.take(n,{nextToken:se.expectString,roleList:se._json});return Object.assign(t,s),t},J9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return zg(e,r);let t=se.map({$metadata:vo(e)}),n=se.expectNonNull(se.expectObject(await Wd.parseJsonBody(e.body,r)),"body"),s=se.take(n,{accountList:se._json,nextToken:se.expectString});return Object.assign(t,s),t},Q9=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return zg(e,r);let t=se.map({$metadata:vo(e)});return await se.collectBody(e.body,r),t},zg=async(e,r)=>{let t={...e,body:await Wd.parseJsonErrorBody(e.body,r)},n=Wd.loadRestJsonErrorCode(e,t.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await e7(t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await t7(t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await r7(t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await n7(t);default:let s=t.body;return Z9({output:e,parsedBody:s,errorCode:n})}},Z9=se.withBaseException(Po),e7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Ig({$metadata:vo(e),...t});return se.decorateServiceException(o,e.body)},t7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new kg({$metadata:vo(e),...t});return se.decorateServiceException(o,e.body)},r7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Og({$metadata:vo(e),...t});return se.decorateServiceException(o,e.body)},n7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Ng({$metadata:vo(e),...t});return se.decorateServiceException(o,e.body)},vo=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),p1="accountId",Ug="accessToken",y1="account_id",S1="maxResults",E1="max_result",b1="nextToken",_1="next_token",s7="roleName",o7="role_name",qg="x-amz-sso_bearer_token",Bg=class extends se.Command.classBuilder().ep(Fg).m(function(r,t,n,s){return[Lg.getSerdePlugin(n,this.serialize,this.deserialize),Jd.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(d1,m1).ser(V9).de(X9).build(){},Xd=class extends se.Command.classBuilder().ep(Fg).m(function(r,t,n,s){return[Lg.getSerdePlugin(n,this.serialize,this.deserialize),Jd.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(f1,void 0).ser(G9).de(Y9).build(){},Yd=class extends se.Command.classBuilder().ep(Fg).m(function(r,t,n,s){return[Lg.getSerdePlugin(n,this.serialize,this.deserialize),Jd.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(g1,void 0).ser(K9).de(J9).build(){},Dg=class extends se.Command.classBuilder().ep(Fg).m(function(r,t,n,s){return[Lg.getSerdePlugin(n,this.serialize,this.deserialize),Jd.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(h1,void 0).ser(W9).de(Q9).build(){},i7={GetRoleCredentialsCommand:Bg,ListAccountRolesCommand:Xd,ListAccountsCommand:Yd,LogoutCommand:Dg},Mg=class extends lc{};se.createAggregatedClient(i7,Mg);var a7=Ms.createPaginator(lc,Xd,"nextToken","nextToken","maxResults"),c7=Ms.createPaginator(lc,Yd,"nextToken","nextToken","maxResults");Object.defineProperty(Bt,"$Command",{enumerable:!0,get:function(){return se.Command}});Object.defineProperty(Bt,"__Client",{enumerable:!0,get:function(){return se.Client}});Bt.GetRoleCredentialsCommand=Bg;Bt.GetRoleCredentialsRequestFilterSensitiveLog=d1;Bt.GetRoleCredentialsResponseFilterSensitiveLog=m1;Bt.InvalidRequestException=Ig;Bt.ListAccountRolesCommand=Xd;Bt.ListAccountRolesRequestFilterSensitiveLog=f1;Bt.ListAccountsCommand=Yd;Bt.ListAccountsRequestFilterSensitiveLog=g1;Bt.LogoutCommand=Dg;Bt.LogoutRequestFilterSensitiveLog=h1;Bt.ResourceNotFoundException=kg;Bt.RoleCredentialsFilterSensitiveLog=u1;Bt.SSO=Mg;Bt.SSOClient=lc;Bt.SSOServiceException=Po;Bt.TooManyRequestsException=Og;Bt.UnauthorizedException=Ng;Bt.paginateListAccountRoles=a7;Bt.paginateListAccounts=c7});var w1=B(Lx=>{"use strict";var x1=C1();Object.defineProperty(Lx,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return x1.GetRoleCredentialsCommand}});Object.defineProperty(Lx,"SSOClient",{enumerable:!0,get:function(){return x1.SSOClient}})});var Fx=B(jg=>{"use strict";var Mn=Mr(),Hg=Is(),A1=(Nn(),Re(Js)),l7=O3(),v1=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),Qd=!1,P1=async({ssoStartUrl:e,ssoSession:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:a,parentClientConfig:c,profile:l,filepath:d,configFilepath:f,ignoreCache:g,logger:y})=>{let h,_="To refresh this SSO session run aws sso login with the corresponding profile.";if(r)try{let Lt=await l7.fromSso({profile:l,filepath:d,configFilepath:f,ignoreCache:g})();h={accessToken:Lt.token,expiresAt:new Date(Lt.expiration).toISOString()}}catch(Lt){throw new Mn.CredentialsProviderError(Lt.message,{tryNextLink:Qd,logger:y})}else try{h=await Hg.getSSOTokenFromFile(e)}catch{throw new Mn.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${_}`,{tryNextLink:Qd,logger:y})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Mn.CredentialsProviderError(`The SSO session associated with this profile has expired. ${_}`,{tryNextLink:Qd,logger:y});let{accessToken:R}=h,{SSOClient:I,GetRoleCredentialsCommand:N}=await Promise.resolve().then(function(){return w1()}),W=o||new I(Object.assign({},a??{},{logger:a?.logger??c?.logger,region:a?.region??n})),ce;try{ce=await W.send(new N({accountId:t,roleName:s,accessToken:R}))}catch(Lt){throw new Mn.CredentialsProviderError(Lt,{tryNextLink:Qd,logger:y})}let{roleCredentials:{accessKeyId:me,secretAccessKey:_e,sessionToken:Ke,expiration:wt,credentialScope:Ne,accountId:ze}={}}=ce;if(!me||!_e||!Ke||!wt)throw new Mn.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Qd,logger:y});let rt={accessKeyId:me,secretAccessKey:_e,sessionToken:Ke,expiration:new Date(wt),...Ne&&{credentialScope:Ne},...ze&&{accountId:ze}};return r?A1.setCredentialFeature(rt,"CREDENTIALS_SSO","s"):A1.setCredentialFeature(rt,"CREDENTIALS_SSO_LEGACY","u"),rt},T1=(e,r)=>{let{sso_start_url:t,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!t||!n||!s||!o)throw new Mn.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:r});return e},d7=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:a}=e,{ssoClient:c}=e,l=Hg.getProfileName({profile:e.profile??r?.profile});if(!t&&!n&&!s&&!o&&!a){let f=(await Hg.parseKnownFiles(e))[l];if(!f)throw new Mn.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!v1(f))throw new Mn.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let N=(await Hg.loadSsoSessionData(e))[f.sso_session],W=` configurations in profile ${l} and sso-session ${f.sso_session}`;if(s&&s!==N.sso_region)throw new Mn.CredentialsProviderError("Conflicting SSO region"+W,{tryNextLink:!1,logger:e.logger});if(t&&t!==N.sso_start_url)throw new Mn.CredentialsProviderError("Conflicting SSO start_url"+W,{tryNextLink:!1,logger:e.logger});f.sso_region=N.sso_region,f.sso_start_url=N.sso_start_url}let{sso_start_url:g,sso_account_id:y,sso_region:h,sso_role_name:_,sso_session:R}=T1(f,e.logger);return P1({ssoStartUrl:g,ssoSession:R,ssoAccountId:y,ssoRegion:h,ssoRoleName:_,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!t||!n||!s||!o)throw new Mn.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return P1({ssoStartUrl:t,ssoSession:a,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};jg.fromSSO=d7;jg.isSsoProfile=v1;jg.validateSsoProfile=T1});function u7(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function m7(e){return{schemeId:"smithy.api#noAuth"}}var Zd,R1,I1,f7,k1,zx=P(()=>{Vt();Zd=k(Er());eu();R1=async(e,r,t)=>({operation:(0,Zd.getSmithyContext)(r).operation,region:await(0,Zd.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});I1=e=>{let r=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{r.push(m7(e));break}default:r.push(u7(e))}return r},f7=e=>Object.assign(e,{stsClientCtor:as}),k1=e=>{let r=f7(e),t=ai(r);return Object.assign(t,{authSchemePreference:(0,Zd.normalizeProvider)(e.authSchemePreference??[])})}});var O1,$g,Vg=P(()=>{O1=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),$g={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var j1,we,Ve,To,hr,$1,V1,Ct,N1,cs,dc,qx,B1,Ux,G1,D1,pr,M1,K1,W1,Ar,nn,L1,X1,Y1,F1,J1,z1,U1,q1,H1,g7,Q1,Z1=P(()=>{j1="required",we="type",Ve="argv",To="booleanEquals",hr="stringEquals",$1="sigv4",V1="us-east-1",Ct="endpoint",N1="https://sts.{Region}.{PartitionResult#dnsSuffix}",cs="tree",dc="error",qx="getAttr",B1={[j1]:!1,[we]:"String"},Ux={[j1]:!0,default:!1,[we]:"Boolean"},G1={ref:"Endpoint"},D1={fn:"isSet",[Ve]:[{ref:"Region"}]},pr={ref:"Region"},M1={fn:"aws.partition",[Ve]:[pr],assign:"PartitionResult"},K1={ref:"UseFIPS"},W1={ref:"UseDualStack"},Ar={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:$1,signingName:"sts",signingRegion:V1}]},headers:{}},nn={},L1={conditions:[{fn:hr,[Ve]:[pr,"aws-global"]}],[Ct]:Ar,[we]:Ct},X1={fn:To,[Ve]:[K1,!0]},Y1={fn:To,[Ve]:[W1,!0]},F1={fn:qx,[Ve]:[{ref:"PartitionResult"},"supportsFIPS"]},J1={ref:"PartitionResult"},z1={fn:To,[Ve]:[!0,{fn:qx,[Ve]:[J1,"supportsDualStack"]}]},U1=[{fn:"isSet",[Ve]:[G1]}],q1=[X1],H1=[Y1],g7={version:"1.0",parameters:{Region:B1,UseDualStack:Ux,UseFIPS:Ux,Endpoint:B1,UseGlobalEndpoint:Ux},rules:[{conditions:[{fn:To,[Ve]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[Ve]:U1},D1,M1,{fn:To,[Ve]:[K1,!1]},{fn:To,[Ve]:[W1,!1]}],rules:[{conditions:[{fn:hr,[Ve]:[pr,"ap-northeast-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"ap-south-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"ap-southeast-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"ap-southeast-2"]}],endpoint:Ar,[we]:Ct},L1,{conditions:[{fn:hr,[Ve]:[pr,"ca-central-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"eu-central-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"eu-north-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"eu-west-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"eu-west-2"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"eu-west-3"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"sa-east-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,V1]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"us-east-2"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"us-west-1"]}],endpoint:Ar,[we]:Ct},{conditions:[{fn:hr,[Ve]:[pr,"us-west-2"]}],endpoint:Ar,[we]:Ct},{endpoint:{url:N1,properties:{authSchemes:[{name:$1,signingName:"sts",signingRegion:"{Region}"}]},headers:nn},[we]:Ct}],[we]:cs},{conditions:U1,rules:[{conditions:q1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[we]:dc},{conditions:H1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[we]:dc},{endpoint:{url:G1,properties:nn,headers:nn},[we]:Ct}],[we]:cs},{conditions:[D1],rules:[{conditions:[M1],rules:[{conditions:[X1,Y1],rules:[{conditions:[{fn:To,[Ve]:[!0,F1]},z1],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nn,headers:nn},[we]:Ct}],[we]:cs},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[we]:dc}],[we]:cs},{conditions:q1,rules:[{conditions:[{fn:To,[Ve]:[F1,!0]}],rules:[{conditions:[{fn:hr,[Ve]:[{fn:qx,[Ve]:[J1,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:nn,headers:nn},[we]:Ct},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nn,headers:nn},[we]:Ct}],[we]:cs},{error:"FIPS is enabled but this partition does not support FIPS",[we]:dc}],[we]:cs},{conditions:H1,rules:[{conditions:[z1],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nn,headers:nn},[we]:Ct}],[we]:cs},{error:"DualStack is enabled but this partition does not support DualStack",[we]:dc}],[we]:cs},L1,{endpoint:{url:N1,properties:nn,headers:nn},[we]:Ct}],[we]:cs}],[we]:cs},{error:"Invalid Configuration: Missing Region",[we]:dc}]},Q1=g7});var eL,uc,h7,tL,rL=P(()=>{eL=k(Ga()),uc=k(gi());Z1();h7=new uc.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),tL=(e,r={})=>h7.get(e,()=>(0,uc.resolveEndpoint)(Q1,{endpointParams:e,logger:r.logger}));uc.customEndpointFunctions.aws=eL.awsEndpointFunctions});var nL,sL,Gg,Kg,oL,iL=P(()=>{Vt();Dr();nL=k(Ie()),sL=k(fo()),Gg=k(fr()),Kg=k(Wt());zx();rL();oL=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Gg.fromBase64,base64Encoder:e?.base64Encoder??Gg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tL,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??I1,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new Hr},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cs}],logger:e?.logger??new nL.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??sL.parseUrl,utf8Decoder:e?.utf8Decoder??Kg.fromUtf8,utf8Encoder:e?.utf8Encoder??Kg.toUtf8})});var Wg,Io,aL,Xg,Ro,Yg,cL,lL,dL,uL,mL,fL,gL=P(()=>{px();Vt();Wg=k(Pd()),Io=k(es());Dr();aL=k(vd()),Xg=k(Ns()),Ro=k(yo()),Yg=k(Xo()),cL=k(Td()),lL=k(Xa());iL();dL=k(Ie()),uL=k(Id()),mL=k(Ie()),fL=e=>{(0,mL.emitWarningIfUnsupportedVersion)(process.version);let r=(0,uL.resolveDefaultsModeConfig)(e),t=()=>r().then(dL.loadConfigsForDefaultMode),n=oL(e);xa(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Ro.loadConfig)(Pa,s),bodyLengthChecker:e?.bodyLengthChecker??cL.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Wg.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:cg.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async a=>await e.credentialDefaultProvider(a?.__config||{})()),signer:new Hr},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cs}],maxAttempts:e?.maxAttempts??(0,Ro.loadConfig)(Xg.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ro.loadConfig)(Io.NODE_REGION_CONFIG_OPTIONS,{...Io.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Yg.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ro.loadConfig)({...Xg.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||lL.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??aL.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Yg.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ro.loadConfig)(Io.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ro.loadConfig)(Io.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ro.loadConfig)(Wg.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var hL,pL,yL=P(()=>{hL=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},pL=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Jg,Qg,Zg,SL,EL=P(()=>{Jg=k(kd()),Qg=k(We()),Zg=k(Ie());yL();SL=(e,r)=>{let t=Object.assign((0,Jg.getAwsRegionExtensionConfiguration)(e),(0,Zg.getDefaultExtensionConfiguration)(e),(0,Qg.getHttpHandlerExtensionConfiguration)(e),hL(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,Jg.resolveAwsRegionExtensionConfiguration)(t),(0,Zg.resolveDefaultRuntimeConfig)(t),(0,Qg.resolveHttpHandlerRuntimeConfig)(t),pL(t))}});var eh,bL,_L,th,CL,xL,wL,rh,Hx,as,eu=P(()=>{eh=k(ad()),bL=k(cd()),_L=k(ld()),th=k(Wa()),CL=k(es());Dr();xL=k(md()),wL=k(Os()),rh=k(Ns()),Hx=k(Ie());zx();Vg();gL();EL();as=class extends Hx.Client{config;constructor(...[r]){let t=fL(r||{});super(t),this.initConfig=t;let n=O1(t),s=(0,th.resolveUserAgentConfig)(n),o=(0,rh.resolveRetryConfig)(s),a=(0,CL.resolveRegionConfig)(o),c=(0,eh.resolveHostHeaderConfig)(a),l=(0,wL.resolveEndpointConfig)(c),d=k1(l),f=SL(d,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,th.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,rh.getRetryPlugin)(this.config)),this.middlewareStack.use((0,xL.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,eh.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,bL.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,_L.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Nl(this.config,{httpAuthSchemeParametersProvider:R1,identityProviderConfigProvider:async g=>new ni({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Bl(this.config))}destroy(){super.destroy()}}});var AL,Kr,nh=P(()=>{AL=k(Ie()),Kr=class e extends AL.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var jx,$x,Vx,tu,ru,nu,su,ou,iu,Gx,Kx,au,cu=P(()=>{jx=k(Ie());nh();$x=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:jx.SENSITIVE_STRING}}),Vx=e=>({...e,...e.Credentials&&{Credentials:$x(e.Credentials)}}),tu=class e extends Kr{name="ExpiredTokenException";$fault="client";constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},ru=class e extends Kr{name="MalformedPolicyDocumentException";$fault="client";constructor(r){super({name:"MalformedPolicyDocumentException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},nu=class e extends Kr{name="PackedPolicyTooLargeException";$fault="client";constructor(r){super({name:"PackedPolicyTooLargeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},su=class e extends Kr{name="RegionDisabledException";$fault="client";constructor(r){super({name:"RegionDisabledException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},ou=class e extends Kr{name="IDPRejectedClaimException";$fault="client";constructor(r){super({name:"IDPRejectedClaimException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},iu=class e extends Kr{name="InvalidIdentityTokenException";$fault="client";constructor(r){super({name:"InvalidIdentityTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Gx=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:jx.SENSITIVE_STRING}}),Kx=e=>({...e,...e.Credentials&&{Credentials:$x(e.Credentials)}}),au=class e extends Kr{name="IDPCommunicationErrorException";$fault="client";constructor(r){super({name:"IDPCommunicationErrorException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}}});var PL,ke,vL,TL,RL,IL,kL,p7,y7,S7,E7,b7,_7,C7,x7,w7,OL,A7,P7,v7,T7,R7,I7,NL,k7,O7,BL,N7,B7,D7,M7,L7,F7,z7,Fs,U7,DL,ML,LL,FL,Wx,q7,Xx,mc,H7,Yx,Jx,fc,Qx,gc,Zx,ew,tw,hc,pc,rw,nw,sw,yc,ow,Sc,Ec,iw,aw,Ls,cw,lw,dw,uw,mw,zL,fw,gw,hw,Ht,UL,j7,pw=P(()=>{Vt();PL=k(We()),ke=k(Ie());cu();nh();vL=async(e,r)=>{let t=ML,n;return n=UL({...x7(e,r),[FL]:q7,[zL]:LL}),DL(r,t,"/",void 0,n)},TL=async(e,r)=>{let t=ML,n;return n=UL({...w7(e,r),[FL]:H7,[zL]:LL}),DL(r,t,"/",void 0,n)},RL=async(e,r)=>{if(e.statusCode>=300)return kL(e,r);let t=await sd(e.body,r),n={};return n=k7(t.AssumeRoleResult,r),{$metadata:Fs(e),...n}},IL=async(e,r)=>{if(e.statusCode>=300)return kL(e,r);let t=await sd(e.body,r),n={};return n=O7(t.AssumeRoleWithWebIdentityResult,r),{$metadata:Fs(e),...n}},kL=async(e,r)=>{let t={...e,body:await __(e.body,r)},n=j7(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await p7(t,r);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await b7(t,r);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await _7(t,r);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await C7(t,r);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await y7(t,r);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await S7(t,r);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await E7(t,r);default:let s=t.body;return U7({output:e,parsedBody:s.Error,errorCode:n})}},p7=async(e,r)=>{let t=e.body,n=N7(t.Error,r),s=new tu({$metadata:Fs(e),...n});return(0,ke.decorateServiceException)(s,t)},y7=async(e,r)=>{let t=e.body,n=B7(t.Error,r),s=new au({$metadata:Fs(e),...n});return(0,ke.decorateServiceException)(s,t)},S7=async(e,r)=>{let t=e.body,n=D7(t.Error,r),s=new ou({$metadata:Fs(e),...n});return(0,ke.decorateServiceException)(s,t)},E7=async(e,r)=>{let t=e.body,n=M7(t.Error,r),s=new iu({$metadata:Fs(e),...n});return(0,ke.decorateServiceException)(s,t)},b7=async(e,r)=>{let t=e.body,n=L7(t.Error,r),s=new ru({$metadata:Fs(e),...n});return(0,ke.decorateServiceException)(s,t)},_7=async(e,r)=>{let t=e.body,n=F7(t.Error,r),s=new nu({$metadata:Fs(e),...n});return(0,ke.decorateServiceException)(s,t)},C7=async(e,r)=>{let t=e.body,n=z7(t.Error,r),s=new su({$metadata:Fs(e),...n});return(0,ke.decorateServiceException)(s,t)},x7=(e,r)=>{let t={};if(e[Sc]!=null&&(t[Sc]=e[Sc]),e[Ec]!=null&&(t[Ec]=e[Ec]),e[pc]!=null){let n=OL(e[pc],r);e[pc]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}if(e[hc]!=null&&(t[hc]=e[hc]),e[gc]!=null&&(t[gc]=e[gc]),e[dw]!=null){let n=I7(e[dw],r);e[dw]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([s,o])=>{let a=`Tags.${s}`;t[a]=o})}if(e[mw]!=null){let n=R7(e[mw],r);e[mw]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let a=`TransitiveTagKeys.${s}`;t[a]=o})}if(e[ew]!=null&&(t[ew]=e[ew]),e[cw]!=null&&(t[cw]=e[cw]),e[uw]!=null&&(t[uw]=e[uw]),e[Ls]!=null&&(t[Ls]=e[Ls]),e[nw]!=null){let n=v7(e[nw],r);e[nw]?.length===0&&(t.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let a=`ProvidedContexts.${s}`;t[a]=o})}return t},w7=(e,r)=>{let t={};if(e[Sc]!=null&&(t[Sc]=e[Sc]),e[Ec]!=null&&(t[Ec]=e[Ec]),e[gw]!=null&&(t[gw]=e[gw]),e[sw]!=null&&(t[sw]=e[sw]),e[pc]!=null){let n=OL(e[pc],r);e[pc]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}return e[hc]!=null&&(t[hc]=e[hc]),e[gc]!=null&&(t[gc]=e[gc]),t},OL=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=A7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},A7=(e,r)=>{let t={};return e[hw]!=null&&(t[hw]=e[hw]),t},P7=(e,r)=>{let t={};return e[rw]!=null&&(t[rw]=e[rw]),e[Qx]!=null&&(t[Qx]=e[Qx]),t},v7=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=P7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},T7=(e,r)=>{let t={};return e[tw]!=null&&(t[tw]=e[tw]),e[fw]!=null&&(t[fw]=e[fw]),t},R7=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},I7=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=T7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},NL=(e,r)=>{let t={};return e[Xx]!=null&&(t[Xx]=(0,ke.expectString)(e[Xx])),e[Yx]!=null&&(t[Yx]=(0,ke.expectString)(e[Yx])),t},k7=(e,r)=>{let t={};return e[fc]!=null&&(t[fc]=BL(e[fc],r)),e[mc]!=null&&(t[mc]=NL(e[mc],r)),e[yc]!=null&&(t[yc]=(0,ke.strictParseInt32)(e[yc])),e[Ls]!=null&&(t[Ls]=(0,ke.expectString)(e[Ls])),t},O7=(e,r)=>{let t={};return e[fc]!=null&&(t[fc]=BL(e[fc],r)),e[aw]!=null&&(t[aw]=(0,ke.expectString)(e[aw])),e[mc]!=null&&(t[mc]=NL(e[mc],r)),e[yc]!=null&&(t[yc]=(0,ke.strictParseInt32)(e[yc])),e[ow]!=null&&(t[ow]=(0,ke.expectString)(e[ow])),e[Jx]!=null&&(t[Jx]=(0,ke.expectString)(e[Jx])),e[Ls]!=null&&(t[Ls]=(0,ke.expectString)(e[Ls])),t},BL=(e,r)=>{let t={};return e[Wx]!=null&&(t[Wx]=(0,ke.expectString)(e[Wx])),e[iw]!=null&&(t[iw]=(0,ke.expectString)(e[iw])),e[lw]!=null&&(t[lw]=(0,ke.expectString)(e[lw])),e[Zx]!=null&&(t[Zx]=(0,ke.expectNonNull)((0,ke.parseRfc3339DateTimeWithOffset)(e[Zx]))),t},N7=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=(0,ke.expectString)(e[Ht])),t},B7=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=(0,ke.expectString)(e[Ht])),t},D7=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=(0,ke.expectString)(e[Ht])),t},M7=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=(0,ke.expectString)(e[Ht])),t},L7=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=(0,ke.expectString)(e[Ht])),t},F7=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=(0,ke.expectString)(e[Ht])),t},z7=(e,r)=>{let t={};return e[Ht]!=null&&(t[Ht]=(0,ke.expectString)(e[Ht])),t},Fs=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),U7=(0,ke.withBaseException)(Kr),DL=async(e,r,t,n,s)=>{let{hostname:o,protocol:a="https",port:c,path:l}=await e.endpoint(),d={protocol:a,hostname:o,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:r};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new PL.HttpRequest(d)},ML={"content-type":"application/x-www-form-urlencoded"},LL="2011-06-15",FL="Action",Wx="AccessKeyId",q7="AssumeRole",Xx="AssumedRoleId",mc="AssumedRoleUser",H7="AssumeRoleWithWebIdentity",Yx="Arn",Jx="Audience",fc="Credentials",Qx="ContextAssertion",gc="DurationSeconds",Zx="Expiration",ew="ExternalId",tw="Key",hc="Policy",pc="PolicyArns",rw="ProviderArn",nw="ProvidedContexts",sw="ProviderId",yc="PackedPolicySize",ow="Provider",Sc="RoleArn",Ec="RoleSessionName",iw="SecretAccessKey",aw="SubjectFromWebIdentityToken",Ls="SourceIdentity",cw="SerialNumber",lw="SessionToken",dw="Tags",uw="TokenCode",mw="TransitiveTagKeys",zL="Version",fw="Value",gw="WebIdentityToken",hw="arn",Ht="message",UL=e=>Object.entries(e).map(([r,t])=>(0,ke.extendedEncodeURIComponent)(r)+"="+(0,ke.extendedEncodeURIComponent)(t)).join("&"),j7=(e,r)=>{if(r.Error?.Code!==void 0)return r.Error.Code;if(e.statusCode==404)return"NotFound"}});var qL,HL,jL,xi,sh=P(()=>{qL=k(Os()),HL=k(Qs()),jL=k(Ie());Vg();cu();pw();xi=class extends jL.Command.classBuilder().ep($g).m(function(r,t,n,s){return[(0,HL.getSerdePlugin)(n,this.serialize,this.deserialize),(0,qL.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Vx).ser(vL).de(RL).build(){}});var $L,VL,GL,wi,oh=P(()=>{$L=k(Os()),VL=k(Qs()),GL=k(Ie());Vg();cu();pw();wi=class extends GL.Command.classBuilder().ep($g).m(function(r,t,n,s){return[(0,VL.getSerdePlugin)(n,this.serialize,this.deserialize),(0,$L.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Gx,Kx).ser(TL).de(IL).build(){}});var KL,$7,ih,WL=P(()=>{KL=k(Ie());sh();oh();eu();$7={AssumeRoleCommand:xi,AssumeRoleWithWebIdentityCommand:wi},ih=class extends as{};(0,KL.createAggregatedClient)($7,ih)});var XL=P(()=>{sh();oh()});var YL=P(()=>{cu()});var JL,QL,ZL,eF,tF,rF,nF=P(()=>{Nn();sh();oh();JL="us-east-1",QL=e=>{if(typeof e?.Arn=="string"){let r=e.Arn.split(":");if(r.length>4&&r[4]!=="")return r[4]}},ZL=async(e,r,t)=>{let n=typeof e=="function"?await e():e,s=typeof r=="function"?await r():r;return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${JL} (STS default)`),n??s??JL},eF=(e,r)=>{let t,n;return async(s,o)=>{if(n=s,!t){let{logger:f=e?.parentClientConfig?.logger,region:g,requestHandler:y=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,_=await ZL(g,e?.parentClientConfig?.region,h),R=!rF(y);t=new r({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:_,requestHandler:R?y:void 0,logger:f})}let{Credentials:a,AssumedRoleUser:c}=await t.send(new xi(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=QL(c),d={accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...l&&{accountId:l}};return Ys(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},tF=(e,r)=>{let t;return async n=>{if(!t){let{logger:l=e?.parentClientConfig?.logger,region:d,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,y=await ZL(d,e?.parentClientConfig?.region,g),h=!rF(f);t=new r({profile:e?.parentClientConfig?.profile,region:y,requestHandler:h?f:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:o}=await t.send(new wi(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let a=QL(o),c={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...a&&{accountId:a}};return a&&Ys(c,"RESOLVED_ACCOUNT_ID","T"),Ys(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},rF=e=>e?.metadata?.handlerProtocol==="h2"});var sF,oF,iF,V7,aF=P(()=>{nF();eu();sF=(e,r)=>r?class extends e{constructor(n){super(n);for(let s of r)this.middlewareStack.use(s)}}:e,oF=(e={},r)=>eF(e,sF(as,r)),iF=(e={},r)=>tF(e,sF(as,r)),V7=e=>r=>e({roleAssumer:oF(r),roleAssumerWithWebIdentity:iF(r),...r})});var yw={};ln(yw,{AssumeRoleCommand:()=>xi,AssumeRoleResponseFilterSensitiveLog:()=>Vx,AssumeRoleWithWebIdentityCommand:()=>wi,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Gx,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Kx,CredentialsFilterSensitiveLog:()=>$x,ExpiredTokenException:()=>tu,IDPCommunicationErrorException:()=>au,IDPRejectedClaimException:()=>ou,InvalidIdentityTokenException:()=>iu,MalformedPolicyDocumentException:()=>ru,PackedPolicyTooLargeException:()=>nu,RegionDisabledException:()=>su,STS:()=>ih,STSClient:()=>as,STSServiceException:()=>Kr,__Client:()=>Hx.Client,decorateDefaultCredentialProvider:()=>V7,getDefaultRoleAssumer:()=>oF,getDefaultRoleAssumerWithWebIdentity:()=>iF});var Sw=P(()=>{eu();WL();XL();YL();aF();nh()});var _w=B(cF=>{"use strict";var bw=Is(),Ew=Mr(),G7=require("child_process"),K7=require("util"),W7=(Nn(),Re(Js)),X7=(e,r,t)=>{if(r.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(r.AccessKeyId===void 0||r.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(r.Expiration){let o=new Date;if(new Date(r.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=r.AccountId;!n&&t?.[e]?.aws_account_id&&(n=t[e].aws_account_id);let s={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,...r.SessionToken&&{sessionToken:r.SessionToken},...r.Expiration&&{expiration:new Date(r.Expiration)},...r.CredentialScope&&{credentialScope:r.CredentialScope},...n&&{accountId:n}};return W7.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},Y7=async(e,r,t)=>{let n=r[e];if(r[e]){let s=n.credential_process;if(s!==void 0){let o=K7.promisify(bw.externalDataInterceptor?.getTokenRecord?.().exec??G7.exec);try{let{stdout:a}=await o(s),c;try{c=JSON.parse(a.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return X7(e,c,r)}catch(a){throw new Ew.CredentialsProviderError(a.message,{logger:t})}}else throw new Ew.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}else throw new Ew.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},J7=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let t=await bw.parseKnownFiles(e);return Y7(bw.getProfileName({profile:e.profile??r?.profile}),t,e.logger)};cF.fromProcess=J7});var Cw=B(ls=>{"use strict";var Q7=ls&&ls.__createBinding||(Object.create?(function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}):(function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]})),Z7=ls&&ls.__setModuleDefault||(Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r}),eY=ls&&ls.__importStar||(function(){var e=function(r){return e=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},e(r)};return function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n=e(r),s=0;s<n.length;s++)n[s]!=="default"&&Q7(t,r,n[s]);return Z7(t,r),t}})();Object.defineProperty(ls,"__esModule",{value:!0});ls.fromWebToken=void 0;var tY=e=>async r=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:a,policy:c,durationSeconds:l}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>eY((Sw(),Re(yw))));d=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...r?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:a,Policy:c,DurationSeconds:l})};ls.fromWebToken=tY});var dF=B(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.fromTokenFile=void 0;var rY=(Nn(),Re(Js)),nY=Mr(),sY=Is(),oY=require("fs"),iY=Cw(),lF="AWS_WEB_IDENTITY_TOKEN_FILE",aY="AWS_ROLE_ARN",cY="AWS_ROLE_SESSION_NAME",lY=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[lF],t=e?.roleArn??process.env[aY],n=e?.roleSessionName??process.env[cY];if(!r||!t)throw new nY.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,iY.fromWebToken)({...e,webIdentityToken:sY.externalDataInterceptor?.getTokenRecord?.()[r]??(0,oY.readFileSync)(r,{encoding:"ascii"}),roleArn:t,roleSessionName:n})();return r===process.env[lF]&&(0,rY.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};ah.fromTokenFile=lY});var xw=B(lu=>{"use strict";var uF=dF(),mF=Cw();Object.keys(uF).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(lu,e)&&Object.defineProperty(lu,e,{enumerable:!0,get:function(){return uF[e]}})});Object.keys(mF).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(lu,e)&&Object.defineProperty(lu,e,{enumerable:!0,get:function(){return mF[e]}})})});var SF=B(yF=>{"use strict";var Aw=Is(),du=Mr(),ko=(Nn(),Re(Js)),dY=(e,r,t)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>k(fx())),{fromContainerMetadata:a}=await Promise.resolve().then(()=>k(wd()));return t?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>du.chain(o(s??{}),a(s))().then(ww)},Ec2InstanceMetadata:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>k(wd()));return async()=>o(s)().then(ww)},Environment:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>k(ox()));return async()=>o(s)().then(ww)}};if(e in n)return n[e];throw new du.CredentialsProviderError(`Unsupported credential source in profile ${r}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:t})},ww=e=>ko.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),uY=(e,{profile:r="default",logger:t}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(mY(e,{profile:r,logger:t})||fY(e,{profile:r,logger:t})),mY=(e,{profile:r,logger:t})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&t?.debug?.(`    ${r} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},fY=(e,{profile:r,logger:t})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&t?.debug?.(`    ${r} isCredentialSourceProfile credential_source=${e.credential_source}`),n},gY=async(e,r,t,n={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=r[e],{source_profile:o,region:a}=s;if(!t.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>(Sw(),yw));t.roleAssumer=l({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...t?.parentClientConfig,region:a??t?.parentClientConfig?.region}},t.clientPlugins)}if(o&&o in n)throw new du.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${Aw.getProfileName(t)}. Profiles visited: `+Object.keys(n).join(", "),{logger:t.logger});t.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let c=o?pF(o,r,t,{...n,[o]:!0},fF(r[o]??{})):(await dY(s.credential_source,e,t.logger)(t))();if(fF(s))return c.then(l=>ko.setCredentialFeature(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!t.mfaCodeProvider)throw new du.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:t.logger,tryNextLink:!1});l.SerialNumber=d,l.TokenCode=await t.mfaCodeProvider(d)}let f=await c;return t.roleAssumer(f,l).then(g=>ko.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},fF=e=>!e.role_arn&&!!e.credential_source,hY=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",pY=async(e,r)=>Promise.resolve().then(()=>k(_w())).then(({fromProcess:t})=>t({...e,profile:r})().then(n=>ko.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),yY=async(e,r,t={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>k(Fx()));return n({profile:e,logger:t.logger,parentClientConfig:t.parentClientConfig,clientConfig:t.clientConfig})().then(s=>r.sso_session?ko.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):ko.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},SY=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),gF=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,hF=async(e,r)=>{r?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let t={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return ko.setCredentialFeature(t,"CREDENTIALS_PROFILE","n")},EY=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,bY=async(e,r)=>Promise.resolve().then(()=>k(xw())).then(({fromTokenFile:t})=>t({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:r.roleAssumerWithWebIdentity,logger:r.logger,parentClientConfig:r.parentClientConfig})().then(n=>ko.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),pF=async(e,r,t,n={},s=!1)=>{let o=r[e];if(Object.keys(n).length>0&&gF(o))return hF(o,t);if(s||uY(o,{profile:e,logger:t.logger}))return gY(e,r,t,n);if(gF(o))return hF(o,t);if(EY(o))return bY(o,t);if(hY(o))return pY(t,e);if(SY(o))return await yY(e,o,t);throw new du.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:t.logger})},_Y=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await Aw.parseKnownFiles(t);return pF(Aw.getProfileName({profile:e.profile??r?.profile}),n,t)};yF.fromIni=_Y});var xF=B(ch=>{"use strict";var Pw=ox(),Ai=Mr(),CY=Is(),EF="AWS_EC2_METADATA_DISABLED",xY=async e=>{let{ENV_CMDS_FULL_URI:r,ENV_CMDS_RELATIVE_URI:t,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>k(wd()));if(process.env[t]||process.env[r]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>k(fx()));return Ai.chain(o(e),n(e))}return process.env[EF]&&process.env[EF]!=="false"?async()=>{throw new Ai.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},bF=!1,wY=(e={})=>Ai.memoize(Ai.chain(async()=>{if(e.profile??process.env[CY.ENV_PROFILE])throw process.env[Pw.ENV_KEY]&&process.env[Pw.ENV_SECRET]&&(bF||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),bF=!0)),new Ai.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),Pw.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!r&&!t&&!n&&!s&&!o)throw new Ai.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>k(Fx()));return a(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>k(SF()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>k(_w()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>k(xw()));return r(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await xY(e))()),async()=>{throw new Ai.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),CF,_F),_F=e=>e?.expiration!==void 0,CF=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;ch.credentialsTreatedAsExpired=CF;ch.credentialsWillNeedRefresh=_F;ch.defaultProvider=wY});var jF=B((twe,HF)=>{"use strict";var lh=Object.defineProperty,AY=Object.getOwnPropertyDescriptor,PY=Object.getOwnPropertyNames,vY=Object.prototype.hasOwnProperty,He=(e,r)=>lh(e,"name",{value:r,configurable:!0}),TY=(e,r)=>{for(var t in r)lh(e,t,{get:r[t],enumerable:!0})},RY=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of PY(r))!vY.call(e,s)&&s!==t&&lh(e,s,{get:()=>r[s],enumerable:!(n=AY(r,s))||n.enumerable});return e},IY=e=>RY(lh({},"__esModule",{value:!0}),e),AF={};TY(AF,{NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS:()=>kY,NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME:()=>PF,NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME:()=>vF,NODE_USE_ARN_REGION_CONFIG_OPTIONS:()=>OY,NODE_USE_ARN_REGION_ENV_NAME:()=>TF,NODE_USE_ARN_REGION_INI_NAME:()=>RF,bucketEndpointMiddleware:()=>zF,bucketEndpointMiddlewareOptions:()=>UF,bucketHostname:()=>Tw,getArnResources:()=>LF,getBucketEndpointPlugin:()=>eJ,getSuffixForArnEndpoint:()=>NF,resolveBucketEndpointConfig:()=>qF,validateAccountId:()=>MF,validateDNSHostLabel:()=>bc,validateNoDualstack:()=>GY,validateNoFIPS:()=>FF,validateOutpostService:()=>BF,validatePartition:()=>DF,validateRegion:()=>$Y});HF.exports=IY(AF);var Oo=xf(),PF="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",vF="s3_disable_multiregion_access_points",kY={environmentVariableSelector:He(e=>(0,Oo.booleanSelector)(e,PF,Oo.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:He(e=>(0,Oo.booleanSelector)(e,vF,Oo.SelectorType.CONFIG),"configFileSelector"),default:!1},TF="AWS_S3_USE_ARN_REGION",RF="s3_use_arn_region",OY={environmentVariableSelector:He(e=>(0,Oo.booleanSelector)(e,TF,Oo.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:He(e=>(0,Oo.booleanSelector)(e,RF,Oo.SelectorType.CONFIG),"configFileSelector"),default:void 0},wF=X_(),NY=We(),BY=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,DY=/(\d+\.){3}\d+/,MY=/\.\./,IF=/\./,LY=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,kF=/^s3(-external-1)?\.amazonaws\.com$/,vw="amazonaws.com",FY=He(e=>typeof e.bucketName=="string","isBucketNameOptions"),zY=He(e=>BY.test(e)&&!DY.test(e)&&!MY.test(e),"isDnsCompatibleBucketName"),OF=He(e=>{let r=e.match(LY);return[r[4],e.replace(new RegExp(`^${r[0]}`),"")]},"getRegionalSuffix"),UY=He(e=>kF.test(e)?["us-east-1",vw]:OF(e),"getSuffix"),NF=He(e=>kF.test(e)?[e.replace(`.${vw}`,""),vw]:OF(e),"getSuffixForArnEndpoint"),qY=He(e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},"validateArnEndpointOptions"),HY=He(e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},"validateService"),jY=He(e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},"validateS3Service"),BF=He(e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},"validateOutpostService"),DF=He((e,r)=>{if(e!==r.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${r.clientPartition}"`)},"validatePartition"),$Y=He((e,r)=>{},"validateRegion"),Rw=He(e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},"validateRegionalClient"),MF=He(e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},"validateAccountId"),bc=He((e,r={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||r?.tlsCompatible&&IF.test(e))throw new Error(`Invalid DNS label ${e}`)},"validateDNSHostLabel"),VY=He(e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},"validateCustomEndpoint"),LF=He(e=>{let r=e.includes(":")?":":"/",[t,...n]=e.split(r);if(t==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${r}{accesspointname}`);return{accesspointName:n[0]}}else if(t==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${r}{outpostId}${r}accesspoint${r}{accesspointName}`);let[s,o,a]=n;return{outpostId:s,accesspointName:a}}else throw new Error(`ARN resource should begin with 'accesspoint${r}' or 'outpost${r}'`)},"getArnResources"),GY=He(e=>{},"validateNoDualstack"),FF=He(e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},"validateNoFIPS"),KY=He(e=>{try{e.split(".").forEach(r=>{bc(r)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},"validateMrapAlias"),Tw=He(e=>(VY(e),FY(e)?WY(e):XY(e)),"bucketHostname"),WY=He(({accelerateEndpoint:e=!1,clientRegion:r,baseHostname:t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,pathStyleEndpoint:a=!1,tlsCompatible:c=!0,isCustomEndpoint:l=!1})=>{let[d,f]=l?[r,t]:UY(t);return a||!zY(n)||c&&IF.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${d}.${f}`:t}:(e?t=`s3-accelerate${s?".dualstack":""}.${f}`:s&&(t=`s3.dualstack.${d}.${f}`),{bucketEndpoint:!0,hostname:`${n}.${t}`})},"getEndpointFromBucketName"),XY=He(e=>{let{isCustomEndpoint:r,baseHostname:t,clientRegion:n}=e,s=r?t:NF(t)[1],{pathStyleEndpoint:o,accelerateEndpoint:a=!1,fipsEndpoint:c=!1,tlsCompatible:l=!0,bucketName:d,clientPartition:f="aws"}=e;qY({pathStyleEndpoint:o,accelerateEndpoint:a,tlsCompatible:l});let{service:g,partition:y,accountId:h,region:_,resource:R}=d;HY(g),DF(y,{clientPartition:f}),MF(h);let{accesspointName:I,outpostId:N}=LF(R);return g==="s3-object-lambda"?YY({...e,tlsCompatible:l,bucketName:d,accesspointName:I,hostnameSuffix:s}):_===""?JY({...e,clientRegion:n,mrapAlias:I,hostnameSuffix:s}):N?QY({...e,clientRegion:n,outpostId:N,accesspointName:I,hostnameSuffix:s}):ZY({...e,clientRegion:n,accesspointName:I,hostnameSuffix:s})},"getEndpointFromArn"),YY=He(({dualstackEndpoint:e=!1,fipsEndpoint:r=!1,tlsCompatible:t=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:o=s,accesspointName:a,bucketName:c,hostnameSuffix:l})=>{let{accountId:d,region:f,service:g}=c;Rw(s);let y=`${a}-${d}`;bc(y,{tlsCompatible:t});let h=n?f:s,_=n?f:o;return{bucketEndpoint:!0,hostname:`${y}.${g}${r?"-fips":""}.${h}.${l}`,signingRegion:_,signingService:g}},"getEndpointFromObjectLambdaArn"),JY=He(({disableMultiregionAccessPoints:e,dualstackEndpoint:r=!1,isCustomEndpoint:t,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return KY(n),{bucketEndpoint:!0,hostname:`${n}${t?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},"getEndpointFromMRAPArn"),QY=He(({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,outpostId:s,dualstackEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,accesspointName:l,isCustomEndpoint:d,hostnameSuffix:f})=>{Rw(r);let g=`${l}-${n.accountId}`;bc(g,{tlsCompatible:c});let y=e?n.region:r,h=e?n.region:t;return BF(n.service),bc(s,{tlsCompatible:c}),FF(a),{bucketEndpoint:!0,hostname:`${`${g}.${s}`}${d?"":`.s3-outposts.${y}`}.${f}`,signingRegion:h,signingService:"s3-outposts"}},"getEndpointFromOutpostArn"),ZY=He(({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:d})=>{Rw(r);let f=`${c}-${n.accountId}`;bc(f,{tlsCompatible:a});let g=e?n.region:r,y=e?n.region:t;return jY(n.service),{bucketEndpoint:!0,hostname:`${f}${l?"":`.s3-accesspoint${o?"-fips":""}${s?".dualstack":""}.${g}`}.${d}`,signingRegion:y}},"getEndpointFromAccessPointArn"),zF=He(e=>(r,t)=>async n=>{let{Bucket:s}=n.input,o=e.bucketEndpoint,a=n.request;if(NY.HttpRequest.isInstance(a)){if(e.bucketEndpoint)a.hostname=s;else if((0,wF.validate)(s)){let c=(0,wF.parse)(s),l=await e.region(),d=await e.useDualstackEndpoint(),f=await e.useFipsEndpoint(),{partition:g,signingRegion:y=l}=await e.regionInfoProvider(l,{useDualstackEndpoint:d,useFipsEndpoint:f})||{},h=await e.useArnRegion(),{hostname:_,bucketEndpoint:R,signingRegion:I,signingService:N}=Tw({bucketName:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:d,fipsEndpoint:f,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",useArnRegion:h,clientPartition:g,clientSigningRegion:y,clientRegion:l,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});I&&I!==y&&(t.signing_region=I),N&&N!=="s3"&&(t.signing_service=N),a.hostname=_,o=R}else{let c=await e.region(),l=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{hostname:f,bucketEndpoint:g}=Tw({bucketName:s,clientRegion:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});a.hostname=f,o=g}o&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),a.path===""&&(a.path="/"))}return r({...n,request:a})},"bucketEndpointMiddleware"),UF={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},eJ=He(e=>({applyToStack:He(r=>{r.addRelativeTo(zF(e),UF)},"applyToStack")}),"getBucketEndpointPlugin");function qF(e){let{bucketEndpoint:r=!1,forcePathStyle:t=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:o=!1}=e;return Object.assign(e,{bucketEndpoint:r,forcePathStyle:t,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof o=="function"?o:()=>Promise.resolve(o)})}He(qF,"resolveBucketEndpointConfig")});var WF=B(Bo=>{"use strict";var GF=mf(),Pi=nm(),_c=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&$F(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&$F(r),parseInt(Pi.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function $F(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var dh=class{toUtf8;fromUtf8;constructor(r,t){this.toUtf8=r,this.fromUtf8=t}format(r){let t=[];for(let o of Object.keys(r)){let a=this.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(r.value,3),a;case"string":let c=this.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(_c.fromNumber(r.value.valueOf()).bytes,1),f;case"uuid":if(!lJ.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(Pi.fromHex(r.value.replace(/\-/g,"")),1),g}}parse(r){let t={},n=0;for(;n<r.byteLength;){let s=r.getUint8(n++),o=this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,s));switch(n+=s,r.getUint8(n++)){case 0:t[o]={type:VF,value:!0};break;case 1:t[o]={type:VF,value:!1};break;case 2:t[o]={type:tJ,value:r.getInt8(n++)};break;case 3:t[o]={type:rJ,value:r.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:nJ,value:r.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:sJ,value:new _c(new Uint8Array(r.buffer,r.byteOffset+n,8))},n+=8;break;case 6:let a=r.getUint16(n,!1);n+=2,t[o]={type:oJ,value:new Uint8Array(r.buffer,r.byteOffset+n,a)},n+=a;break;case 7:let c=r.getUint16(n,!1);n+=2,t[o]={type:iJ,value:this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,c))},n+=c;break;case 8:t[o]={type:aJ,value:new Date(new _c(new Uint8Array(r.buffer,r.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let l=new Uint8Array(r.buffer,r.byteOffset+n,16);n+=16,t[o]={type:cJ,value:`${Pi.toHex(l.subarray(0,4))}-${Pi.toHex(l.subarray(4,6))}-${Pi.toHex(l.subarray(6,8))}-${Pi.toHex(l.subarray(8,10))}-${Pi.toHex(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},VF="boolean",tJ="byte",rJ="short",nJ="integer",sJ="long",oJ="binary",iJ="string",aJ="timestamp",cJ="uuid",lJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,KF=4,No=KF*2,vi=4,dJ=No+vi*2;function uJ({byteLength:e,byteOffset:r,buffer:t}){if(e<dJ)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(t,r,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(KF,!1),a=n.getUint32(No,!1),c=n.getUint32(e-vi,!1),l=new GF.Crc32().update(new Uint8Array(t,r,No));if(a!==l.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(t,r+No,e-(No+vi))),c!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(t,r+No+vi,o),body:new Uint8Array(t,r+No+vi+o,s-o-(No+vi+vi))}}var Iw=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(r,t){this.headerMarshaller=new dh(r,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(r){this.messageBuffer.push(this.decode(r))}endOfStream(){this.isEndOfStream=!0}getMessage(){let r=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return r},isEndOfStream(){return t}}}getAvailableMessages(){let r=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return r},isEndOfStream(){return t}}}encode({headers:r,body:t}){let n=this.headerMarshaller.format(r),s=n.byteLength+t.byteLength+16,o=new Uint8Array(s),a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=new GF.Crc32;return a.setUint32(0,s,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,c.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(t,n.byteLength+12),a.setUint32(s-4,c.update(o.subarray(8,s-4)).digest(),!1),o}decode(r){let{headers:t,body:n}=uJ(r);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(r){return this.headerMarshaller.format(r)}},kw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.decoder.decode(r)}},Ow=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream)yield this.options.encoder.encode(r);this.options.includeEndFrame&&(yield new Uint8Array(0))}},Nw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream){let t=await this.options.deserializer(r);t!==void 0&&(yield t)}}},Bw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.serializer(r)}};Bo.EventStreamCodec=Iw;Bo.HeaderMarshaller=dh;Bo.Int64=_c;Bo.MessageDecoderStream=kw;Bo.MessageEncoderStream=Ow;Bo.SmithyMessageDecoderStream=Nw;Bo.SmithyMessageEncoderStream=Bw});var XF=B(Dw=>{"use strict";var uu=WF();function mJ(e){let r=0,t=0,n=null,s=null,o=c=>{if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,t=4,n=new Uint8Array(c),new DataView(n.buffer).setUint32(0,c,!1)},a=async function*(){let c=e[Symbol.asyncIterator]();for(;;){let{value:l,done:d}=await c.next();if(d){if(r)if(r===t)yield n;else throw new Error("Truncated event message received.");else return;return}let f=l.length,g=0;for(;g<f;){if(!n){let h=f-g;s||(s=new Uint8Array(4));let _=Math.min(4-t,h);if(s.set(l.slice(g,g+_),t),t+=_,g+=_,t<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let y=Math.min(r-t,f-g);n.set(l.slice(g,g+y),t),t+=y,g+=y,r&&r===t&&(yield n,n=null,r=0,t=0)}}};return{[Symbol.asyncIterator]:a}}function fJ(e,r){return async function(t){let{value:n}=t.headers[":message-type"];if(n==="error"){let s=new Error(t.headers[":error-message"].value||"UnknownError");throw s.name=t.headers[":error-code"].value,s}else if(n==="exception"){let s=t.headers[":exception-type"].value,o={[s]:t},a=await e(o);if(a.$unknown){let c=new Error(r(t.body));throw c.name=s,c}throw a[s]}else if(n==="event"){let s={[t.headers[":event-type"].value]:t},o=await e(s);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}var uh=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:r,utf8Decoder:t}){this.eventStreamCodec=new uu.EventStreamCodec(r,t),this.utfEncoder=r}deserialize(r,t){let n=mJ(r);return new uu.SmithyMessageDecoderStream({messageStream:new uu.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:fJ(t,this.utfEncoder)})}serialize(r,t){return new uu.MessageEncoderStream({messageStream:new uu.SmithyMessageEncoderStream({inputStream:r,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},gJ=e=>new uh(e);Dw.EventStreamMarshaller=uh;Dw.eventStreamSerdeProvider=gJ});var YF=B(Mw=>{"use strict";var hJ=XF(),pJ=require("stream");async function*yJ(e){let r=!1,t=!1,n=new Array;for(e.on("error",s=>{if(r||(r=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{r=!0});!t;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),t=r&&n.length===0}}var mh=class{universalMarshaller;constructor({utf8Encoder:r,utf8Decoder:t}){this.universalMarshaller=new hJ.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:r})}deserialize(r,t){let n=typeof r[Symbol.asyncIterator]=="function"?r:yJ(r);return this.universalMarshaller.deserialize(n,t)}serialize(r,t){return pJ.Readable.from(this.universalMarshaller.serialize(r,t))}},SJ=e=>new mh(e);Mw.EventStreamMarshaller=mh;Mw.eventStreamSerdeProvider=SJ});var JF=B(Lw=>{"use strict";var EJ=require("fs"),bJ=Wt(),_J=require("stream"),fh=class extends _J.Writable{hash;constructor(r,t){super(t),this.hash=r}_write(r,t,n){try{this.hash.update(bJ.toUint8Array(r))}catch(s){return n(s)}n()}},CJ=(e,r)=>new Promise((t,n)=>{if(!xJ(r)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=EJ.createReadStream(r.path,{start:r.start,end:r.end}),o=new e,a=new fh(o);s.pipe(a),s.on("error",c=>{a.end(),n(c)}),a.on("error",n),a.on("finish",function(){o.digest().then(t).catch(n)})}),xJ=e=>typeof e.path=="string",wJ=(e,r)=>{if(r.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let t=new e,n=new fh(t);return r.pipe(n),new Promise((s,o)=>{r.on("error",a=>{n.end(),o(a)}),n.on("error",o),n.on("finish",()=>{t.digest().then(s).catch(o)})})};Lw.fileStreamHasher=CJ;Lw.readableStreamHasher=wJ});var rz=B(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.getRuntimeConfig=void 0;var QF=(Vt(),Re(mn)),AJ=AC(),PJ=Ie(),vJ=fo(),ZF=fr(),ez=Yo(),tz=Wt(),TJ=sx(),RJ=nx(),IJ=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??ZF.fromBase64,base64Encoder:e?.base64Encoder??ZF.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??RJ.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??ez.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??TJ.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new QF.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4a"),signer:new QF.AwsSdkSigV4ASigner}],logger:e?.logger??new PJ.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??ez.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??AJ.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??vJ.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??tz.fromUtf8,utf8Encoder:e?.utf8Encoder??tz.toUtf8});gh.getRuntimeConfig=IJ});var az=B(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.getRuntimeConfig=void 0;var kJ=(Xn(),Re(Wn)),OJ=kJ.__importDefault(qD()),Fw=(Vt(),Re(mn)),NJ=xF(),BJ=jF(),nz=z_(),DJ=Tf(),sz=Pd(),hh=es(),MJ=YF(),zw=vd(),LJ=JF(),oz=Ns(),_n=yo(),iz=Xo(),FJ=Td(),zJ=Xa(),UJ=rz(),qJ=Ie(),HJ=Id(),jJ=Ie(),$J=e=>{(0,jJ.emitWarningIfUnsupportedVersion)(process.version);let r=(0,HJ.resolveDefaultsModeConfig)(e),t=()=>r().then(qJ.loadConfigsForDefaultMode),n=(0,UJ.getRuntimeConfig)(e);(0,Fw.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,_n.loadConfig)(Fw.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??FJ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??NJ.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,sz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:OJ.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,_n.loadConfig)(DJ.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??MJ.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,_n.loadConfig)(oz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??zw.Hash.bind(null,"md5"),region:e?.region??(0,_n.loadConfig)(hh.NODE_REGION_CONFIG_OPTIONS,{...hh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,_n.loadConfig)(nz.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:iz.NodeHttpHandler.create(e?.requestHandler??t),responseChecksumValidation:e?.responseChecksumValidation??(0,_n.loadConfig)(nz.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,_n.loadConfig)({...oz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||zJ.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??zw.Hash.bind(null,"sha1"),sha256:e?.sha256??zw.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,_n.loadConfig)(Fw.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??iz.streamCollector,streamHasher:e?.streamHasher??LJ.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,_n.loadConfig)(BJ.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,_n.loadConfig)(hh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,_n.loadConfig)(hh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,_n.loadConfig)(sz.NODE_APP_ID_CONFIG_OPTIONS,s)}};ph.getRuntimeConfig=$J});var uz=B((cwe,dz)=>{"use strict";var Sh=Object.defineProperty,VJ=Object.getOwnPropertyDescriptor,GJ=Object.getOwnPropertyNames,KJ=Object.prototype.hasOwnProperty,yh=(e,r)=>Sh(e,"name",{value:r,configurable:!0}),WJ=(e,r)=>{for(var t in r)Sh(e,t,{get:r[t],enumerable:!0})},XJ=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of GJ(r))!KJ.call(e,s)&&s!==t&&Sh(e,s,{get:()=>r[s],enumerable:!(n=VJ(r,s))||n.enumerable});return e},YJ=e=>XJ(Sh({},"__esModule",{value:!0}),e),cz={};WJ(cz,{getSsecPlugin:()=>JJ,isValidBase64EncodedSSECustomerKey:()=>qw,ssecMiddleware:()=>Uw,ssecMiddlewareOptions:()=>lz});dz.exports=YJ(cz);function Uw(e){return r=>async t=>{let n={...t.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let a=n[o.target];if(a){let c;typeof a=="string"?qw(a,e)?c=e.base64Decoder(a):(c=e.utf8Decoder(a),n[o.target]=e.base64Encoder(c)):(c=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a),n[o.target]=e.base64Encoder(c));let l=new e.md5;l.update(c),n[o.hash]=e.base64Encoder(await l.digest())}}return r({...t,input:n})}}yh(Uw,"ssecMiddleware");var lz={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},JJ=yh(e=>({applyToStack:yh(r=>{r.add(Uw(e),lz)},"applyToStack")}),"getSsecPlugin");function qw(e,r){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return r.base64Decoder(e).length===32}catch{return!1}}yh(qw,"isValidBase64EncodedSSECustomerKey")});var hz=B((lwe,gz)=>{"use strict";var Eh=Object.defineProperty,QJ=Object.getOwnPropertyDescriptor,ZJ=Object.getOwnPropertyNames,eQ=Object.prototype.hasOwnProperty,Hw=(e,r)=>Eh(e,"name",{value:r,configurable:!0}),tQ=(e,r)=>{for(var t in r)Eh(e,t,{get:r[t],enumerable:!0})},rQ=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of ZJ(r))!eQ.call(e,s)&&s!==t&&Eh(e,s,{get:()=>r[s],enumerable:!(n=QJ(r,s))||n.enumerable});return e},nQ=e=>rQ(Eh({},"__esModule",{value:!0}),e),mz={};tQ(mz,{getLocationConstraintPlugin:()=>sQ,locationConstraintMiddleware:()=>jw,locationConstraintMiddlewareOptions:()=>fz});gz.exports=nQ(mz);function jw(e){return r=>async t=>{let{CreateBucketConfiguration:n}=t.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&(t={...t,input:{...t.input,CreateBucketConfiguration:s==="us-east-1"?void 0:{LocationConstraint:s}}}),r(t)}}Hw(jw,"locationConstraintMiddleware");var fz={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},sQ=Hw(e=>({applyToStack:Hw(r=>{r.add(jw(e),fz)},"applyToStack")}),"getLocationConstraintPlugin")});var Ez=B(zr=>{"use strict";var oQ=e=>new Promise(r=>setTimeout(r,e*1e3)),Sz={minDelay:2,maxDelay:120};zr.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(zr.WaiterState||(zr.WaiterState={}));var iQ=e=>{if(e.state===zr.WaiterState.ABORTED){let r=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw r.name="AbortError",r}else if(e.state===zr.WaiterState.TIMEOUT){let r=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw r.name="TimeoutError",r}else if(e.state!==zr.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},aQ=(e,r,t,n)=>{if(n>t)return r;let s=e*2**(n-1);return cQ(e,s)},cQ=(e,r)=>e+Math.random()*(r-e),lQ=async({minDelay:e,maxDelay:r,maxWaitTime:t,abortController:n,client:s,abortSignal:o},a,c)=>{let l={},{state:d,reason:f}=await c(s,a);if(f){let _=pz(f);l[_]|=0,l[_]+=1}if(d!==zr.WaiterState.RETRY)return{state:d,reason:f,observedResponses:l};let g=1,y=Date.now()+t*1e3,h=Math.log(r/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let N="AbortController signal aborted.";return l[N]|=0,l[N]+=1,{state:zr.WaiterState.ABORTED,observedResponses:l}}let _=aQ(e,r,h,g);if(Date.now()+_*1e3>y)return{state:zr.WaiterState.TIMEOUT,observedResponses:l};await oQ(_);let{state:R,reason:I}=await c(s,a);if(I){let N=pz(I);l[N]|=0,l[N]+=1}if(R!==zr.WaiterState.RETRY)return{state:R,reason:I,observedResponses:l};g+=1}},pz=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),dQ=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},yz=e=>{let r,t=new Promise(n=>{r=()=>n({state:zr.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",r):e.onabort=r});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",r)},aborted:t}},uQ=async(e,r,t)=>{let n={...Sz,...e};dQ(n);let s=[lQ(n,r,t)],o=[];if(e.abortSignal){let{aborted:a,clearListener:c}=yz(e.abortSignal);o.push(c),s.push(a)}if(e.abortController?.signal){let{aborted:a,clearListener:c}=yz(e.abortController.signal);o.push(c),s.push(a)}return Promise.race(s).then(a=>{for(let c of o)c();return a})};zr.checkExceptions=iQ;zr.createWaiter=uQ;zr.waiterServiceDefaults=Sz});var A2=B(S=>{"use strict";var mQ=tP(),Ze=z_(),bz=ad(),fQ=cd(),gQ=ld(),ee=Tf(),_z=Wa(),hQ=es(),z=(Dr(),Re(si)),pQ=pN(),yQ=md(),q=Os(),Cz=Ns(),i=Ie(),xz=sx(),H=Qs(),fe=(Vt(),Re(mn)),E=rd(),x0=We(),SQ=_m(),EQ=az(),wz=kd(),qn=uz(),bQ=hz(),Dt=Ez(),_Q=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),j={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},lr=class e extends i.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},CQ={requester:"requester"},xQ={requester:"requester"},ap=class e extends lr{name="NoSuchUpload";$fault="client";constructor(r){super({name:"NoSuchUpload",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},wQ={Enabled:"Enabled",Suspended:"Suspended"},AQ={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},PQ={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},vQ={Destination:"Destination"},TQ={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},RQ={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},IQ={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},kQ={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},OQ={COPY:"COPY",REPLACE:"REPLACE"},NQ={OFF:"OFF",ON:"ON"},BQ={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},DQ={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},MQ={COPY:"COPY",REPLACE:"REPLACE"},cp=class e extends lr{name="ObjectNotInActiveTierError";$fault="client";constructor(r){super({name:"ObjectNotInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},lp=class e extends lr{name="BucketAlreadyExists";$fault="client";constructor(r){super({name:"BucketAlreadyExists",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},dp=class e extends lr{name="BucketAlreadyOwnedByYou";$fault="client";constructor(r){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},LQ={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},FQ={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},zQ={Directory:"Directory"},UQ={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},qQ={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},HQ={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},jQ={DISABLED:"DISABLED",ENABLED:"ENABLED"},$Q={AES256:"AES256",aws_kms:"aws:kms"},VQ={DISABLED:"DISABLED",ENABLED:"ENABLED"},GQ={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},up=class e extends lr{name="NoSuchBucket";$fault="client";constructor(r){super({name:"NoSuchBucket",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}};S.AnalyticsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(S.AnalyticsFilter||(S.AnalyticsFilter={}));var KQ={CSV:"CSV"},WQ={V_1:"V_1"},XQ={Disabled:"Disabled",Enabled:"Enabled"},YQ={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},JQ={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},QQ={All:"All",Current:"Current"},ZQ={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},eZ={Daily:"Daily",Weekly:"Weekly"},tZ={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},rZ={Disabled:"Disabled",Enabled:"Enabled"},nZ={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},sZ={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},oZ={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},iZ={aws:"aws",customer:"customer"};S.MetricsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.AccessPointArn!==void 0?t.AccessPointArn(r.AccessPointArn):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(S.MetricsFilter||(S.MetricsFilter={}));var aZ={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},cZ={prefix:"prefix",suffix:"suffix"},lZ={Disabled:"Disabled",Enabled:"Enabled"},dZ={Disabled:"Disabled",Enabled:"Enabled"},uZ={Disabled:"Disabled",Enabled:"Enabled"},mZ={Disabled:"Disabled",Enabled:"Enabled"},fZ={Disabled:"Disabled",Enabled:"Enabled"},gZ={Disabled:"Disabled",Enabled:"Enabled"},hZ={Disabled:"Disabled",Enabled:"Enabled"},pZ={BucketOwner:"BucketOwner",Requester:"Requester"},yZ={Disabled:"Disabled",Enabled:"Enabled"},SZ={Enabled:"Enabled",Suspended:"Suspended"},EZ={http:"http",https:"https"},bZ={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},_Z={ENABLED:"ENABLED"},mp=class e extends lr{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(r){super({name:"InvalidObjectState",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=r.StorageClass,this.AccessTier=r.AccessTier}},fp=class e extends lr{name="NoSuchKey";$fault="client";constructor(r){super({name:"NoSuchKey",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},CZ={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},xZ={Enabled:"Enabled"},wZ={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},gp=class e extends lr{name="NotFound";$fault="client";constructor(r){super({name:"NotFound",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},AZ={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},PZ={url:"url"},Zz=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),eU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),tU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),rU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),nU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),sU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),oU=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:i.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:i.SENSITIVE_STRING}}),iU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.Credentials&&{Credentials:oU(e.Credentials)}}),aU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),cU=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:i.SENSITIVE_STRING}}),lU=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:cU(e.ApplyServerSideEncryptionByDefault)}}),oA=e=>({...e,...e.Rules&&{Rules:e.Rules.map(r=>lU(r))}}),dU=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:oA(e.ServerSideEncryptionConfiguration)}}),uU=e=>({...e,...e.KeyId&&{KeyId:i.SENSITIVE_STRING}}),mU=e=>({...e,...e.SSEKMS&&{SSEKMS:uU(e.SSEKMS)}}),fU=e=>({...e,...e.Encryption&&{Encryption:mU(e.Encryption)}}),gU=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:fU(e.S3BucketDestination)}}),AS=e=>({...e,...e.Destination&&{Destination:gU(e.Destination)}}),hU=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:AS(e.InventoryConfiguration)}}),pU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),yU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),SU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),EU=e=>({...e}),bU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),_U=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),CU=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(r=>AS(r))}}),vZ={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},TZ={RESTORE_STATUS:"RestoreStatus"},RZ={STANDARD:"STANDARD"},IZ={Disabled:"Disabled",Enabled:"Enabled"},hp=class e extends lr{name="EncryptionTypeMismatch";$fault="client";constructor(r){super({name:"EncryptionTypeMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},pp=class e extends lr{name="InvalidRequest";$fault="client";constructor(r){super({name:"InvalidRequest",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},yp=class e extends lr{name="InvalidWriteOffset";$fault="client";constructor(r){super({name:"InvalidWriteOffset",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Sp=class e extends lr{name="TooManyParts";$fault="client";constructor(r){super({name:"TooManyParts",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Ep=class e extends lr{name="IdempotencyParameterMismatch";$fault="client";constructor(r){super({name:"IdempotencyParameterMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},bp=class e extends lr{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(r){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},kZ={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},OZ={SQL:"SQL"},NZ={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},BZ={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},DZ={DOCUMENT:"DOCUMENT",LINES:"LINES"},MZ={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},LZ={SELECT:"SELECT"};S.SelectObjectContentEventStream=void 0;(function(e){e.visit=(r,t)=>r.Records!==void 0?t.Records(r.Records):r.Stats!==void 0?t.Stats(r.Stats):r.Progress!==void 0?t.Progress(r.Progress):r.Cont!==void 0?t.Cont(r.Cont):r.End!==void 0?t.End(r.End):t._(r.$unknown[0],r.$unknown[1])})(S.SelectObjectContentEventStream||(S.SelectObjectContentEventStream={}));var xU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),wU=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:oA(e.ServerSideEncryptionConfiguration)}}),AU=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:AS(e.InventoryConfiguration)}}),PU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),vU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),TU=e=>({...e,...e.KMSKeyId&&{KMSKeyId:i.SENSITIVE_STRING}}),RU=e=>({...e,...e.Encryption&&{Encryption:TU(e.Encryption)}}),IU=e=>({...e,...e.S3&&{S3:RU(e.S3)}}),kU=e=>({...e,...e.OutputLocation&&{OutputLocation:IU(e.OutputLocation)}}),OU=e=>({...e,...e.RestoreRequest&&{RestoreRequest:kU(e.RestoreRequest)}}),FZ=e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},NU=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),BU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),DU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),MU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),LU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),FU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),zU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),zZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G],[zme]:[()=>i.isSerializableHeaderValue(e[Nz]),()=>i.dateToUtcString(e[Nz]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"AbortMultipartUpload"],[ku]:[,i.expectNonNull(e[Jr],"UploadId")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},UZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[pa]:e[lt],[ya]:e[dt],[Sa]:e[ut],[Ea]:e[mt],[ba]:e[ft],[Al]:e[gt],[jme]:[()=>i.isSerializableHeaderValue(e[Fz]),()=>e[Fz].toString()],[tt]:e[et],[K]:e[G],[Cl]:e[Cu],[Ru]:e[TS],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[ku]:[,i.expectNonNull(e[Jr],"UploadId")]}),o,a;return e.MultipartUpload!==void 0&&(a=mse(e.MultipartUpload),a=a.n("CompleteMultipartUpload"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},qZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[wl]:e[ul],[wu]:e[ml],[LA]:e[be],[Au]:e[fl],[Pu]:e[gl],[vu]:e[hl],[Tu]:e[pl],[l2]:e[cq],[d2]:e[lq],[u2]:[()=>i.isSerializableHeaderValue(e[_p]),()=>i.dateToUtcString(e[_p]).toString()],[m2]:e[dq],[f2]:[()=>i.isSerializableHeaderValue(e[Cp]),()=>i.dateToUtcString(e[Cp]).toString()],[da]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[Pl]:e[yl],[vl]:e[Sl],[Tl]:e[El],[Rl]:e[bl],[Hme]:e[pde],[nfe]:e[yue],[an]:e[kr],[Du]:e[Ae],[Mu]:e[xu],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[cn]:e[Sr],[Vo]:e[$o],[Mt]:[()=>i.isSerializableHeaderValue(e[St]),()=>e[St].toString()],[g2]:e[uq],[h2]:e[mq],[p2]:e[fq],[tt]:e[et],[qA]:e[ia],[Bu]:e[_l],[ua]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[Nu]:e[ga],[K]:e[G],[b2]:e[pq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"CopyObject"]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},HZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[wl]:e[ul],[Pl]:e[yl],[vl]:e[Sl],[Tl]:e[El],[FA]:e[hA],[Rl]:e[bl],[Jue]:[()=>i.isSerializableHeaderValue(e[Uz]),()=>e[Uz].toString()],[Gme]:e[gu]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,o;return e.CreateBucketConfiguration!==void 0&&(o=Ese(e.CreateBucketConfiguration),s=Ge,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),t.m("PUT").h(n).b(s),t.build()},jZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[TA]:[,""]}),o,a;return e.MetadataConfiguration!==void 0&&(a=coe(e.MetadataConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},$Z=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[RA]:[,""]}),o,a;return e.MetadataTableConfiguration!==void 0&&(a=doe(e.MetadataTableConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},VZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[wl]:e[ul],[wu]:e[ml],[Au]:e[fl],[Pu]:e[gl],[vu]:e[hl],[Tu]:e[pl],[da]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[Pl]:e[yl],[vl]:e[Sl],[Tl]:e[El],[Rl]:e[bl],[an]:e[kr],[Du]:e[Ae],[Mu]:e[xu],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[cn]:e[Sr],[Vo]:e[$o],[Mt]:[()=>i.isSerializableHeaderValue(e[St]),()=>e[St].toString()],[tt]:e[et],[qA]:e[ia],[Bu]:e[_l],[ua]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[Nu]:e[ga],[K]:e[G],[LA]:e[be],[Al]:e[gt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[n2]:[,""]});return t.m("POST").h(n).q(s).b(void 0),t.build()},GZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[eme]:e[due],[an]:e[kr],[cn]:e[Sr],[Vo]:e[$o],[Mt]:[()=>i.isSerializableHeaderValue(e[St]),()=>e[St].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Uue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},KZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(n).b(void 0),t.build()},WZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[RS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},XZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[xA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},YZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[wA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},JZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},QZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},ZZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},eee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[TA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},tee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[RA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},ree=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},nee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},see=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[OA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},oee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},iee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[xl]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},aee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},cee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[zA]:e[pA],[tt]:e[et],[MA]:[()=>i.isSerializableHeaderValue(e[nl]),()=>e[nl].toString()],[K]:e[G],[Cl]:e[Cu],[Ume]:[()=>i.isSerializableHeaderValue(e[Bz]),()=>i.dateToUtcString(e[Bz]).toString()],[qme]:[()=>i.isSerializableHeaderValue(e[Dz]),()=>e[Dz].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"DeleteObject"],[Qr]:[,e[Te]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},lee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[zA]:e[pA],[tt]:e[et],[MA]:[()=>i.isSerializableHeaderValue(e[nl]),()=>e[nl].toString()],[K]:e[G],[ht]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Pue]:[,""]}),o,a;return e.Delete!==void 0&&(a=xse(e.Delete),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},dee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[xl]:[,""],[Qr]:[,e[Te]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},uee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},mee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[tt]:e[et]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Fq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},fee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[IS]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},gee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[RS]:[,""],[mr]:[,"GetBucketAnalyticsConfiguration"],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},hee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[xA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},pee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[wA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},yee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DS]:[,""],[mr]:[,"GetBucketIntelligentTieringConfiguration"],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},See=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[mr]:[,"GetBucketInventoryConfiguration"],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Eee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},bee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[$q]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},_ee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Vq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Cee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[TA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},xee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[RA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},wee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MS]:[,""],[mr]:[,"GetBucketMetricsConfiguration"],[On]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Aee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Gq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Pee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},vee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[OA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Tee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Mue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Ree=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Iee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Wq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},kee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[xl]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Oee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[s2]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Nee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Bee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Cl]:e[Cu],[AA]:[()=>i.isSerializableHeaderValue(e[xp]),()=>i.dateToUtcString(e[xp]).toString()],[Ru]:e[TS],[PA]:[()=>i.isSerializableHeaderValue(e[wp]),()=>i.dateToUtcString(e[wp]).toString()],[Xq]:e[vq],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[tt]:e[et],[K]:e[G],[c2]:e[aq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"GetObject"],[Yq]:[,e[Tq]],[Jq]:[,e[Rq]],[Qq]:[,e[Iq]],[Zq]:[,e[kq]],[e2]:[,e[Oq]],[t2]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[Nq]).toString()],[Qr]:[,e[Te]],[LS]:[()=>e.PartNumber!==void 0,()=>e[Wr].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Dee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[IS]:[,""],[Qr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Mee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[$me]:[()=>i.isSerializableHeaderValue(e[Hs]),()=>e[Hs].toString()],[Kme]:e[Fo],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[tt]:e[et],[K]:e[G],[Vme]:[()=>i.isSerializableHeaderValue(e[zz]),()=>(e[zz]||[]).map(i.quoteHeader).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[wue]:[,""],[Qr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Lee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[jq]:[,""],[Qr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Fee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Kq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},zee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[r2]:[,""],[Qr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Uee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[tt]:e[et]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[xl]:[,""],[Qr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},qee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[$ue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Hee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},jee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(n).b(void 0),t.build()},$ee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Cl]:e[Cu],[AA]:[()=>i.isSerializableHeaderValue(e[xp]),()=>i.dateToUtcString(e[xp]).toString()],[Ru]:e[TS],[PA]:[()=>i.isSerializableHeaderValue(e[wp]),()=>i.dateToUtcString(e[wp]).toString()],[Xq]:e[vq],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[tt]:e[et],[K]:e[G],[c2]:e[aq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Yq]:[,e[Tq]],[Jq]:[,e[Rq]],[Qq]:[,e[Iq]],[Zq]:[,e[kq]],[e2]:[,e[Oq]],[t2]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[Nq]).toString()],[Qr]:[,e[Te]],[LS]:[()=>e.PartNumber!==void 0,()=>e[Wr].toString()]});return t.m("HEAD").h(n).q(s).b(void 0),t.build()},Vee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[RS]:[,""],[mr]:[,"ListBucketAnalyticsConfigurations"],[ha]:[,e[st]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Gee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DS]:[,""],[mr]:[,"ListBucketIntelligentTieringConfigurations"],[ha]:[,e[st]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Kee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[mr]:[,"ListBucketInventoryConfigurations"],[ha]:[,e[st]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Wee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MS]:[,""],[mr]:[,"ListBucketMetricsConfigurations"],[ha]:[,e[st]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Xee=async(e,r)=>{let t=z.requestBuilder(e,r),n={};t.bp("/");let s=i.map({[mr]:[,"ListBuckets"],[Oue]:[()=>e.MaxBuckets!==void 0,()=>e[gde].toString()],[ha]:[,e[st]],[Iu]:[,e[X]],[Aue]:[,e[fu]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Yee=async(e,r)=>{let t=z.requestBuilder(e,r),n={};t.bp("/");let s=i.map({[mr]:[,"ListDirectoryBuckets"],[ha]:[,e[st]],[Nue]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[yde].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Jee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[tt]:e[et]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[n2]:[,""],[kS]:[,e[vr]],[OS]:[,e[Rr]],[Hq]:[,e[Lo]],[Due]:[()=>e.MaxUploads!==void 0,()=>e[zh].toString()],[Iu]:[,e[X]],[Vue]:[,e[sp]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Qee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G],[UA]:[()=>i.isSerializableHeaderValue(e[sl]),()=>(e[sl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kS]:[,e[vr]],[OS]:[,e[Rr]],[kue]:[,e[Lh]],[IA]:[()=>e.MaxKeys!==void 0,()=>e[xn].toString()],[Iu]:[,e[X]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Zee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G],[UA]:[()=>i.isSerializableHeaderValue(e[sl]),()=>(e[sl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Tue]:[,"2"],[kS]:[,e[vr]],[OS]:[,e[Rr]],[IA]:[()=>e.MaxKeys!==void 0,()=>e[xn].toString()],[Iu]:[,e[X]],[ha]:[,e[st]],[vue]:[()=>e.FetchOwner!==void 0,()=>e[Ole].toString()],[que]:[,e[Yh]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ete=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[tt]:e[et],[UA]:[()=>i.isSerializableHeaderValue(e[sl]),()=>(e[sl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Gue]:[,""],[kS]:[,e[vr]],[OS]:[,e[Rr]],[Hq]:[,e[Lo]],[IA]:[()=>e.MaxKeys!==void 0,()=>e[xn].toString()],[Iu]:[,e[X]],[Kue]:[,e[ip]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},tte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tt]:e[et],[K]:e[G],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"ListParts"],[Bue]:[()=>e.MaxParts!==void 0,()=>e[Hs].toString()],[Lue]:[,e[Fo]],[ku]:[,i.expectNonNull(e[Jr],"UploadId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},rte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[ht]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Fq]:[,""]}),o,a;return e.AccelerateConfiguration!==void 0&&(a=Zne(e.AccelerateConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},nte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[wl]:e[ul],[kt]:e[It],[ht]:e[be],[Pl]:e[yl],[vl]:e[Sl],[Tl]:e[El],[FA]:e[hA],[Rl]:e[bl],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[IS]:[,""]}),o,a;return e.AccessControlPolicy!==void 0&&(a=UU(e.AccessControlPolicy),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ste=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[RS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.AnalyticsConfiguration!==void 0&&(a=ose(e.AnalyticsConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ote=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[xA]:[,""]}),o,a;return e.CORSConfiguration!==void 0&&(a=pse(e.CORSConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ite=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[wA]:[,""]}),o,a;return e.ServerSideEncryptionConfiguration!==void 0&&(a=tie(e.ServerSideEncryptionConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ate=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.IntelligentTieringConfiguration!==void 0&&(a=Fse(e.IntelligentTieringConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},cte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.InventoryConfiguration!==void 0&&(a=Use(e.InventoryConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},lte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[ht]:e[be],[K]:e[G],[HA]:e[CA]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vA]:[,""]}),o,a;return e.LifecycleConfiguration!==void 0&&(a=dse(e.LifecycleConfiguration),a=a.n("LifecycleConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},dte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Vq]:[,""]}),o,a;return e.BucketLoggingStatus!==void 0&&(a=use(e.BucketLoggingStatus),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ute=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MS]:[,""],[On]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.MetricsConfiguration!==void 0&&(a=foe(e.MetricsConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},mte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[rfe]:[()=>i.isSerializableHeaderValue(e[Hz]),()=>e[Hz].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Gq]:[,""]}),o,a;return e.NotificationConfiguration!==void 0&&(a=Soe(e.NotificationConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},fte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[K]:e[G],[ht]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kA]:[,""]}),o,a;return e.OwnershipControls!==void 0&&(a=voe(e.OwnershipControls),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},gte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"text/plain",[kt]:e[It],[ht]:e[be],[Zue]:[()=>i.isSerializableHeaderValue(e[vz]),()=>e[vz].toString()],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[OA]:[,""]}),o,a;return e.Policy!==void 0&&(a=e.Policy,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},hte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[a2]:e[Mq],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BA]:[,""]}),o,a;return e.ReplicationConfiguration!==void 0&&(a=Foe(e.ReplicationConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},pte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Wq]:[,""]}),o,a;return e.RequestPaymentConfiguration!==void 0&&(a=$oe(e.RequestPaymentConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},yte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[xl]:[,""]}),o,a;return e.Tagging!==void 0&&(a=lA(e.Tagging),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ste=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[zA]:e[pA],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[s2]:[,""]}),o,a;return e.VersioningConfiguration!==void 0&&(a=_ie(e.VersioningConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ete=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DA]:[,""]}),o,a;return e.WebsiteConfiguration!==void 0&&(a=Cie(e.WebsiteConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},bte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),[Tu]:e[pl]||"application/octet-stream",[wl]:e[ul],[wu]:e[ml],[Au]:e[fl],[Pu]:e[gl],[vu]:e[hl],[la]:[()=>i.isSerializableHeaderValue(e[Uo]),()=>e[Uo].toString()],[kt]:e[It],[ht]:e[be],[pa]:e[lt],[ya]:e[dt],[Sa]:e[ut],[Ea]:e[mt],[ba]:e[ft],[da]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[Cl]:e[Cu],[Ru]:e[TS],[Pl]:e[yl],[vl]:e[Sl],[Tl]:e[El],[Rl]:e[bl],[sfe]:[()=>i.isSerializableHeaderValue(e[Xz]),()=>e[Xz].toString()],[an]:e[kr],[Du]:e[Ae],[Mu]:e[xu],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[cn]:e[Sr],[Vo]:e[$o],[Mt]:[()=>i.isSerializableHeaderValue(e[St]),()=>e[St].toString()],[tt]:e[et],[qA]:e[ia],[Bu]:e[_l],[ua]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[Nu]:e[ga],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"PutObject"]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},_te=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[wl]:e[ul],[kt]:e[It],[ht]:e[be],[Pl]:e[yl],[vl]:e[Sl],[Tl]:e[El],[FA]:e[hA],[Rl]:e[bl],[tt]:e[et],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[IS]:[,""],[Qr]:[,e[Te]]}),o,a;return e.AccessControlPolicy!==void 0&&(a=UU(e.AccessControlPolicy),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Cte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[tt]:e[et],[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[jq]:[,""],[Qr]:[,e[Te]]}),o,a;return e.LegalHold!==void 0&&(a=Coe(e.LegalHold),a=a.n("LegalHold"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},xte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[tt]:e[et],[a2]:e[Mq],[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Kq]:[,""]}),o,a;return e.ObjectLockConfiguration!==void 0&&(a=_oe(e.ObjectLockConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},wte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[tt]:e[et],[MA]:[()=>i.isSerializableHeaderValue(e[nl]),()=>e[nl].toString()],[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[r2]:[,""],[Qr]:[,e[Te]]}),o,a;return e.Retention!==void 0&&(a=xoe(e.Retention),a=a.n("Retention"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ate=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G],[tt]:e[et]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[xl]:[,""],[Qr]:[,e[Te]]}),o,a;return e.Tagging!==void 0&&(a=lA(e.Tagging),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Pte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NA]:[,""]}),o,a;return e.PublicAccessBlockConfiguration!==void 0&&(a=Ooe(e.PublicAccessBlockConfiguration),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},vte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Yme]:e[Zde],[Cl]:e[_le],[Ru]:e[Cle],[AA]:[()=>i.isSerializableHeaderValue(e[Tz]),()=>i.dateToUtcString(e[Tz]).toString()],[PA]:[()=>i.isSerializableHeaderValue(e[Rz]),()=>i.dateToUtcString(e[Rz]).toString()],[Jme]:e[oue],[Zme]:e[iue],[Qme]:[()=>i.isSerializableHeaderValue(e[jz]),()=>i.dateToUtcString(e[jz]).toString()],[efe]:[()=>i.isSerializableHeaderValue(e[$z]),()=>i.dateToUtcString(e[$z]).toString()],[rme]:e[Sle]??SQ.v4()});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Fue]:[,""]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},Tte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[tt]:e[et],[ht]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[zue]:[,""],[Qr]:[,e[Te]]}),o,a;return e.RestoreRequest!==void 0&&(a=Goe(e.RestoreRequest),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},Rte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Hue]:[,""],[jue]:[,"2"]}),o;o=Ge;let a=new E.XmlNode(uue);return a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a.cc(e,Sq),a.cc(e,yq),e[Vi]!=null&&a.c(jU(e[Vi]).n(Vi)),e[Yi]!=null&&a.c($U(e[Yi]).n(Yi)),e[Wh]!=null&&a.c(Voe(e[Wh]).n(Wh)),e[Qh]!=null&&a.c(Qoe(e[Qh]).n(Qh)),o+=a.toString(),t.m("POST").h(n).q(s).b(o),t.build()},Ite=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Rue]:[,""]}),o,a;return e.InventoryTableConfiguration!==void 0&&(a=Wse(e.InventoryTableConfiguration),a=a.n("InventoryTableConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},kte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[kt]:e[It],[ht]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Iue]:[,""]}),o,a;return e.JournalTableConfiguration!==void 0&&(a=Yse(e.JournalTableConfiguration),a=a.n("JournalTableConfiguration"),o=Ge,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ote=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/octet-stream",[la]:[()=>i.isSerializableHeaderValue(e[Uo]),()=>e[Uo].toString()],[kt]:e[It],[ht]:e[be],[pa]:e[lt],[ya]:e[dt],[Sa]:e[ut],[Ea]:e[mt],[ba]:e[ft],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[tt]:e[et],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"UploadPart"],[LS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Wr].toString()],[ku]:[,i.expectNonNull(e[Jr],"UploadId")]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},Nte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[l2]:e[cq],[d2]:e[lq],[u2]:[()=>i.isSerializableHeaderValue(e[_p]),()=>i.dateToUtcString(e[_p]).toString()],[m2]:e[dq],[f2]:[()=>i.isSerializableHeaderValue(e[Cp]),()=>i.dateToUtcString(e[Cp]).toString()],[tme]:e[hle],[dr]:e[Zt],[jn]:e[Hn],[ur]:e[er],[g2]:e[uq],[h2]:e[mq],[p2]:e[fq],[tt]:e[et],[K]:e[G],[b2]:e[pq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[mr]:[,"UploadPartCopy"],[LS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Wr].toString()],[ku]:[,i.expectNonNull(e[Jr],"UploadId")]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},Bte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),"content-type":"application/octet-stream",[Xme]:e[Gde],[tfe]:e[eue],[Fme]:[()=>i.isSerializableHeaderValue(e[qz]),()=>e[qz].toString()],[nme]:e[Th],[sme]:e[Rh],[ome]:e[fA],[ime]:e[ml],[ame]:e[fl],[cme]:e[gl],[lme]:e[hl],[la]:[()=>i.isSerializableHeaderValue(e[Uo]),()=>e[Uo].toString()],[dme]:e[gA],[ume]:e[pl],[hme]:e[lt],[pme]:e[dt],[yme]:e[ut],[Sme]:e[mt],[Eme]:e[ft],[bme]:[()=>i.isSerializableHeaderValue(e[Fn]),()=>e[Fn].toString()],[mme]:e[ot],[fme]:[()=>i.isSerializableHeaderValue(e[gs]),()=>i.dateToUtcString(e[gs]).toString()],[_me]:e[jt],[gme]:[()=>i.isSerializableHeaderValue(e[Rt]),()=>i.dateToUtcString(e[Rt]).toString()],[Cme]:[()=>i.isSerializableHeaderValue(e[Ap]),()=>e[Ap].toString()],[Ame]:e[_l],[wme]:e[ga],[Pme]:[()=>i.isSerializableHeaderValue(e[hs]),()=>i.serializeDateTime(e[hs]).toString()],[xme]:[()=>i.isSerializableHeaderValue(e[ol]),()=>e[ol].toString()],[Rme]:e[bA],[Tme]:e[bt],[vme]:e[_A],[kme]:e[kr],[Bme]:e[Zt],[Ome]:e[Sr],[Dme]:e[er],[Ime]:e[Ae],[Mme]:[()=>i.isSerializableHeaderValue(e[Ip]),()=>e[Ip].toString()],[Lme]:e[Te],[Nme]:[()=>i.isSerializableHeaderValue(e[St]),()=>e[St].toString()]});t.bp("/WriteGetObjectResponse");let s,o;e.Body!==void 0&&(o=e.Body,s=o);let{hostname:a}=await r.endpoint();if(r.disableHostPrefix!==!0){if(a="{RequestRoute}."+a,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(a=a.replace("{RequestRoute}",e.RequestRoute),!x0.isValidHostname(a))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(a),t.m("POST").h(n).b(s),t.build()},Dte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},Mte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[jt]:[,e.headers[Ou]],[kr]:[,e.headers[an]],[Te]:[,e.headers[ps]],[Sr]:[,e.headers[cn]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[lt]!=null&&(t[lt]=i.expectString(n[lt])),n[dt]!=null&&(t[dt]=i.expectString(n[dt])),n[ut]!=null&&(t[ut]=i.expectString(n[ut])),n[mt]!=null&&(t[mt]=i.expectString(n[mt])),n[ft]!=null&&(t[ft]=i.expectString(n[ft])),n[gt]!=null&&(t[gt]=i.expectString(n[gt])),n[ot]!=null&&(t[ot]=i.expectString(n[ot])),n[ye]!=null&&(t[ye]=i.expectString(n[ye])),n[Gi]!=null&&(t[Gi]=i.expectString(n[Gi])),t},Lte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[jt]:[,e.headers[Ou]],[gq]:[,e.headers[y2]],[Te]:[,e.headers[ps]],[kr]:[,e.headers[an]],[Zt]:[,e.headers[dr]],[er]:[,e.headers[ur]],[Sr]:[,e.headers[cn]],[$o]:[,e.headers[Vo]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[bt]:[,e.headers[_t]]}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.CopyObjectResult=Fie(n),t},Fte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Gi]:[,e.headers[$q]],[mu]:[,e.headers[i2]]});return await i.collectBody(e.body,r),t},zte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Ute=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},qte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[oq]:[()=>e.headers[kp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[kp]))],[iq]:[,e.headers[o2]],[kr]:[,e.headers[an]],[Zt]:[,e.headers[dr]],[er]:[,e.headers[ur]],[Sr]:[,e.headers[cn]],[$o]:[,e.headers[Vo]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[bt]:[,e.headers[_t]],[be]:[,e.headers[LA]],[gt]:[,e.headers[Al]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[ye]!=null&&(t[ye]=i.expectString(n[ye])),n[Jr]!=null&&(t[Jr]=i.expectString(n[Jr])),t},Hte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[kr]:[,e.headers[an]],[Sr]:[,e.headers[cn]],[$o]:[,e.headers[Vo]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Vw]!=null&&(t[Vw]=Pce(n[Vw])),t},jte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},$te=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Vte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Gte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Kte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Wte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Xte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Yte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Jte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Qte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Zte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ere=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},tre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},rre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},nre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},sre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Fn]:[()=>e.headers[qo]!==void 0,()=>i.parseBoolean(e.headers[qo])],[Te]:[,e.headers[ps]],[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},ore=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Deleted).trim()===""?t[_h]=[]:n[_h]!=null&&(t[_h]=$ie(i.getArrayIfSingleItem(n[_h]))),String(n.Error).trim()===""?t[kz]=[]:n[Un]!=null&&(t[kz]=eae(i.getArrayIfSingleItem(n[Un]))),t},ire=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[ps]]});return await i.collectBody(e.body,r),t},are=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},cre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Q]!=null&&(t[Q]=i.expectString(n[Q])),t},lre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[hu]=[]:n[Di]!=null&&n[Di][Gs]!=null&&(t[hu]=JU(i.getArrayIfSingleItem(n[Di][Gs]))),n[je]!=null&&(t[je]=jo(n[je])),t},dre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.AnalyticsConfiguration=KU(n),t},ure=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CORSRule).trim()===""?t[N0]=[]:n[O0]!=null&&(t[N0]=qie(i.getArrayIfSingleItem(n[O0]))),t},mre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.ServerSideEncryptionConfiguration=xce(n),t},fre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.IntelligentTieringConfiguration=ZU(n),t},gre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.InventoryConfiguration=eq(n),t},hre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[CA]:[,e.headers[HA]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Rule).trim()===""?t[kn]=[]:n[Xr]!=null&&(t[kn]=Rae(i.getArrayIfSingleItem(n[Xr]))),t},pre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Vc]!=null&&(t[Vc]=i.expectString(n[Vc])),t},yre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Ki]!=null&&(t[Ki]=Iae(n[Ki])),t},Sre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.GetBucketMetadataConfigurationResult=iae(n),t},Ere=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.GetBucketMetadataTableConfigurationResult=aae(n),t},bre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.MetricsConfiguration=tq(n),t},_re=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[qi]!=null&&(t[qi]=tae(n[qi])),String(n.CloudFunctionConfiguration).trim()===""?t[q0]=[]:n[Pz]!=null&&(t[q0]=wae(i.getArrayIfSingleItem(n[Pz]))),String(n.QueueConfiguration).trim()===""?t[K0]=[]:n[G0]!=null&&(t[K0]=ace(i.getArrayIfSingleItem(n[G0]))),String(n.TopicConfiguration).trim()===""?t[Z0]=[]:n[Q0]!=null&&(t[Z0]=qce(i.getArrayIfSingleItem(n[Q0]))),t},Cre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.OwnershipControls=Yae(n),t},xre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=await $ce(e.body,r);return t.Policy=i.expectString(n),t},wre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.PolicyStatus=nce(n),t},Are=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.ReplicationConfiguration=mce(n),t},Pre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[jh]!=null&&(t[jh]=i.expectString(n[jh])),t},vre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[Ln]=[]:n[Ln]!=null&&n[Ln][xe]!=null&&(t[Ln]=fa(i.getArrayIfSingleItem(n[Ln][xe]))),t},Tre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[j0]!=null&&(t[Fh]=i.expectString(n[j0])),n[Q]!=null&&(t[Q]=i.expectString(n[Q])),t},Rre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Hi]!=null&&(t[Hi]=Zie(n[Hi])),n[$i]!=null&&(t[$i]=dae(n[$i])),n[Qi]!=null&&(t[Qi]=dce(n[Qi])),String(n.RoutingRules).trim()===""?t[xc]=[]:n[xc]!=null&&n[xc][vp]!=null&&(t[xc]=Ece(i.getArrayIfSingleItem(n[xc][vp]))),t},Ire=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Fn]:[()=>e.headers[qo]!==void 0,()=>i.parseBoolean(e.headers[qo])],[fA]:[,e.headers[zq]],[jt]:[,e.headers[Ou]],[_A]:[,e.headers[S2]],[Rt]:[()=>e.headers[il]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[il]))],[Uo]:[()=>e.headers[la]!==void 0,()=>i.strictParseLong(e.headers[la])],[ot]:[,e.headers[NS]],[lt]:[,e.headers[pa]],[dt]:[,e.headers[ya]],[ut]:[,e.headers[Sa]],[mt]:[,e.headers[Ea]],[ft]:[,e.headers[ba]],[gt]:[,e.headers[Al]],[Ap]:[()=>e.headers[Op]!==void 0,()=>i.strictParseInt32(e.headers[Op])],[Te]:[,e.headers[ps]],[ml]:[,e.headers[wu]],[fl]:[,e.headers[Au]],[gl]:[,e.headers[Pu]],[hl]:[,e.headers[vu]],[gA]:[,e.headers[Uq]],[pl]:[,e.headers[Tu]],[gs]:[()=>e.headers[da]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[da]))],[hq]:[,e.headers[qq]],[xu]:[,e.headers[Mu]],[kr]:[,e.headers[an]],[Zt]:[,e.headers[dr]],[er]:[,e.headers[ur]],[Sr]:[,e.headers[cn]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Ae]:[,e.headers[Du]],[bt]:[,e.headers[_t]],[bA]:[,e.headers[E2]],[ol]:[()=>e.headers[Np]!==void 0,()=>i.strictParseInt32(e.headers[Np])],[Ip]:[()=>e.headers[Bp]!==void 0,()=>i.strictParseInt32(e.headers[Bp])],[_l]:[,e.headers[Bu]],[hs]:[()=>e.headers[ua]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[ua]))],[ga]:[,e.headers[Nu]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,o)=>(s[o.substring(11)]=e.headers[o],s),{})]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},kre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[hu]=[]:n[Di]!=null&&n[Di][Gs]!=null&&(t[hu]=JU(i.getArrayIfSingleItem(n[Di][Gs]))),n[je]!=null&&(t[je]=jo(n[je])),t},Ore=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Fn]:[()=>e.headers[qo]!==void 0,()=>i.parseBoolean(e.headers[qo])],[Rt]:[()=>e.headers[il]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[il]))],[Te]:[,e.headers[ps]],[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Ww]!=null&&(t[Ww]=Bie(n[Ww])),n[ot]!=null&&(t[ot]=i.expectString(n[ot])),n[f0]!=null&&(t[f0]=cae(n[f0])),n[g0]!=null&&(t[g0]=i.strictParseLong(n[g0])),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae])),t},Nre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.LegalHold=$ae(n),t},Bre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.ObjectLockConfiguration=jae(n),t},Dre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.Retention=Vae(n),t},Mre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[ps]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[Ln]=[]:n[Ln]!=null&&n[Ln][xe]!=null&&(t[Ln]=fa(i.getArrayIfSingleItem(n[Ln][xe]))),t},Lre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},Fre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.PublicAccessBlockConfiguration=oce(n),t},zre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[mu]:[,e.headers[i2]],[cle]:[,e.headers[Yue]],[ole]:[,e.headers[Xue]],[fu]:[,e.headers[Que]],[Jce]:[()=>e.headers[Jz]!==void 0,()=>i.parseBoolean(e.headers[Jz])]});return await i.collectBody(e.body,r),t},Ure=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Fn]:[()=>e.headers[qo]!==void 0,()=>i.parseBoolean(e.headers[qo])],[fA]:[,e.headers[zq]],[jt]:[,e.headers[Ou]],[_A]:[,e.headers[S2]],[Qce]:[,e.headers[Wue]],[Rt]:[()=>e.headers[il]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[il]))],[Uo]:[()=>e.headers[la]!==void 0,()=>i.strictParseLong(e.headers[la])],[lt]:[,e.headers[pa]],[dt]:[,e.headers[ya]],[ut]:[,e.headers[Sa]],[mt]:[,e.headers[Ea]],[ft]:[,e.headers[ba]],[gt]:[,e.headers[Al]],[ot]:[,e.headers[NS]],[Ap]:[()=>e.headers[Op]!==void 0,()=>i.strictParseInt32(e.headers[Op])],[Te]:[,e.headers[ps]],[ml]:[,e.headers[wu]],[fl]:[,e.headers[Au]],[gl]:[,e.headers[Pu]],[hl]:[,e.headers[vu]],[pl]:[,e.headers[Tu]],[gA]:[,e.headers[Uq]],[gs]:[()=>e.headers[da]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[da]))],[hq]:[,e.headers[qq]],[xu]:[,e.headers[Mu]],[kr]:[,e.headers[an]],[Zt]:[,e.headers[dr]],[er]:[,e.headers[ur]],[Sr]:[,e.headers[cn]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[Ae]:[,e.headers[Du]],[bt]:[,e.headers[_t]],[bA]:[,e.headers[E2]],[ol]:[()=>e.headers[Np]!==void 0,()=>i.strictParseInt32(e.headers[Np])],[Ip]:[()=>e.headers[Bp]!==void 0,()=>i.strictParseInt32(e.headers[Bp])],[_l]:[,e.headers[Bu]],[hs]:[()=>e.headers[ua]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[ua]))],[ga]:[,e.headers[Nu]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await i.collectBody(e.body,r),t},qre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.AnalyticsConfiguration).trim()===""?t[Az]=[]:n[w0]!=null&&(t[Az]=Rie(i.getArrayIfSingleItem(n[w0]))),n[st]!=null&&(t[st]=i.expectString(n[st])),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},Hre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[st]!=null&&(t[st]=i.expectString(n[st])),String(n.IntelligentTieringConfiguration).trim()===""?t[Mz]=[]:n[U0]!=null&&(t[Mz]=mae(i.getArrayIfSingleItem(n[U0]))),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},jre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[st]!=null&&(t[st]=i.expectString(n[st])),String(n.InventoryConfiguration).trim()===""?t[Oz]=[]:n[z0]!=null&&(t[Oz]=gae(i.getArrayIfSingleItem(n[z0]))),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},$re=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[st]!=null&&(t[st]=i.expectString(n[st])),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),String(n.MetricsConfiguration).trim()===""?t[Lz]=[]:n[H0]!=null&&(t[Lz]=Dae(i.getArrayIfSingleItem(n[H0]))),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),t},Vre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[ds]=[]:n[ds]!=null&&n[ds][Me]!=null&&(t[ds]=WU(i.getArrayIfSingleItem(n[ds][Me]))),n[st]!=null&&(t[st]=i.expectString(n[st])),n[je]!=null&&(t[je]=jo(n[je])),n[X]!=null&&(t[X]=i.expectString(n[X])),t},Gre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[ds]=[]:n[ds]!=null&&n[ds][Me]!=null&&(t[ds]=WU(i.getArrayIfSingleItem(n[ds][Me]))),n[st]!=null&&(t[st]=i.expectString(n[st])),t},Kre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=PS(i.getArrayIfSingleItem(n[Pr]))),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[Lo]!=null&&(t[Lo]=i.expectString(n[Lo])),n[zh]!=null&&(t[zh]=i.strictParseInt32(n[zh])),n[Gc]!=null&&(t[Gc]=i.expectString(n[Gc])),n[u0]!=null&&(t[u0]=i.expectString(n[u0])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[sp]!=null&&(t[sp]=i.expectString(n[sp])),String(n.Upload).trim()===""?t[Gz]=[]:n[Vz]!=null&&(t[Gz]=Fae(i.getArrayIfSingleItem(n[Vz]))),t},Wre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=PS(i.getArrayIfSingleItem(n[Pr]))),String(n.Contents).trim()===""?t[Do]=[]:n[Do]!=null&&(t[Do]=rq(i.getArrayIfSingleItem(n[Do]))),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[Lh]!=null&&(t[Lh]=i.expectString(n[Lh])),n[xn]!=null&&(t[xn]=i.strictParseInt32(n[xn])),n[xt]!=null&&(t[xt]=i.expectString(n[xt])),n[d0]!=null&&(t[d0]=i.expectString(n[d0])),n[X]!=null&&(t[X]=i.expectString(n[X])),t},Xre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=PS(i.getArrayIfSingleItem(n[Pr]))),String(n.Contents).trim()===""?t[Do]=[]:n[Do]!=null&&(t[Do]=rq(i.getArrayIfSingleItem(n[Do]))),n[st]!=null&&(t[st]=i.expectString(n[st])),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[o0]!=null&&(t[o0]=i.strictParseInt32(n[o0])),n[xn]!=null&&(t[xn]=i.strictParseInt32(n[xn])),n[xt]!=null&&(t[xt]=i.expectString(n[xt])),n[qr]!=null&&(t[qr]=i.expectString(n[qr])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[Yh]!=null&&(t[Yh]=i.expectString(n[Yh])),t},Yre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[Pr]=[]:n[Pr]!=null&&(t[Pr]=PS(i.getArrayIfSingleItem(n[Pr]))),String(n.DeleteMarker).trim()===""?t[Iz]=[]:n[Fn]!=null&&(t[Iz]=Kie(i.getArrayIfSingleItem(n[Fn]))),n[vr]!=null&&(t[vr]=i.expectString(n[vr])),n[Rr]!=null&&(t[Rr]=i.expectString(n[Rr])),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[Lo]!=null&&(t[Lo]=i.expectString(n[Lo])),n[xn]!=null&&(t[xn]=i.strictParseInt32(n[xn])),n[xt]!=null&&(t[xt]=i.expectString(n[xt])),n[Gc]!=null&&(t[Gc]=i.expectString(n[Gc])),n[m0]!=null&&(t[m0]=i.expectString(n[m0])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[ip]!=null&&(t[ip]=i.expectString(n[ip])),String(n.Version).trim()===""?t[Wz]=[]:n[Kz]!=null&&(t[Wz]=Xae(i.getArrayIfSingleItem(n[Kz]))),t},Jre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[oq]:[()=>e.headers[kp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[kp]))],[iq]:[,e.headers[o2]],[bt]:[,e.headers[_t]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[be]!=null&&(t[be]=i.expectString(n[be])),n[gt]!=null&&(t[gt]=i.expectString(n[gt])),n[qc]!=null&&(t[qc]=QU(n[qc])),n[Ye]!=null&&(t[Ye]=i.parseBoolean(n[Ye])),n[ye]!=null&&(t[ye]=i.expectString(n[ye])),n[Hs]!=null&&(t[Hs]=i.strictParseInt32(n[Hs])),n[Kc]!=null&&(t[Kc]=i.expectString(n[Kc])),n[je]!=null&&(t[je]=jo(n[je])),n[Fo]!=null&&(t[Fo]=i.expectString(n[Fo])),String(n.Part).trim()===""?t[pu]=[]:n[Pp]!=null&&(t[pu]=tce(i.getArrayIfSingleItem(n[Pp]))),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae])),n[Jr]!=null&&(t[Jr]=i.expectString(n[Jr])),t},Qre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Zre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ene=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},tne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},rne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},nne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},sne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},one=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[CA]:[,e.headers[HA]]});return await i.collectBody(e.body,r),t},ine=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ane=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},cne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},lne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},dne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},une=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},mne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},fne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},gne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},hne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},pne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[jt]:[,e.headers[Ou]],[ot]:[,e.headers[NS]],[lt]:[,e.headers[pa]],[dt]:[,e.headers[ya]],[ut]:[,e.headers[Sa]],[mt]:[,e.headers[Ea]],[ft]:[,e.headers[ba]],[gt]:[,e.headers[Al]],[kr]:[,e.headers[an]],[Te]:[,e.headers[ps]],[Zt]:[,e.headers[dr]],[er]:[,e.headers[ur]],[Sr]:[,e.headers[cn]],[$o]:[,e.headers[Vo]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[yr]:[()=>e.headers[Qz]!==void 0,()=>i.strictParseLong(e.headers[Qz])],[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},yne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},Sne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},Ene=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},bne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},_ne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[ps]]});return await i.collectBody(e.body,r),t},Cne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},xne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},wne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[bt]:[,e.headers[_t]],[$de]:[,e.headers[Wme]]});return await i.collectBody(e.body,r),t},Ane=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=e.body;return t.Payload=Gne(n,r),t},Pne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},vne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Tne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[kr]:[,e.headers[an]],[ot]:[,e.headers[NS]],[lt]:[,e.headers[pa]],[dt]:[,e.headers[ya]],[ut]:[,e.headers[Sa]],[mt]:[,e.headers[Ea]],[ft]:[,e.headers[ba]],[Zt]:[,e.headers[dr]],[er]:[,e.headers[ur]],[Sr]:[,e.headers[cn]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[bt]:[,e.headers[_t]]});return await i.collectBody(e.body,r),t},Rne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[gq]:[,e.headers[y2]],[kr]:[,e.headers[an]],[Zt]:[,e.headers[dr]],[er]:[,e.headers[ur]],[Sr]:[,e.headers[cn]],[St]:[()=>e.headers[Mt]!==void 0,()=>i.parseBoolean(e.headers[Mt])],[bt]:[,e.headers[_t]]}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.CopyPartResult=zie(n),t},Ine=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},$=async(e,r)=>{let t={...e,body:await fe.parseXmlErrorBody(e.body,r)},n=fe.loadRestXmlErrorCode(e,t.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await qne(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await $ne(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await One(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Nne(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await zne(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Mne(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Une(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Hne(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Bne(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await Lne(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await Fne(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Vne(t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await Dne(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await jne(t);default:let s=t.body;return kne({output:e,parsedBody:s,errorCode:n})}},kne=i.withBaseException(lr),One=async(e,r)=>{let t=i.map({});e.body;let n=new lp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Nne=async(e,r)=>{let t=i.map({});e.body;let n=new dp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Bne=async(e,r)=>{let t=i.map({});e.body;let n=new hp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Dne=async(e,r)=>{let t=i.map({});e.body;let n=new Ep({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Mne=async(e,r)=>{let t=i.map({}),n=e.body;n[Us]!=null&&(t[Us]=i.expectString(n[Us])),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae]));let s=new mp({$metadata:F(e),...t});return i.decorateServiceException(s,e.body)},Lne=async(e,r)=>{let t=i.map({});e.body;let n=new pp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Fne=async(e,r)=>{let t=i.map({});e.body;let n=new yp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},zne=async(e,r)=>{let t=i.map({});e.body;let n=new up({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Une=async(e,r)=>{let t=i.map({});e.body;let n=new fp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},qne=async(e,r)=>{let t=i.map({});e.body;let n=new ap({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Hne=async(e,r)=>{let t=i.map({});e.body;let n=new gp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},jne=async(e,r)=>{let t=i.map({});e.body;let n=new bp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},$ne=async(e,r)=>{let t=i.map({});e.body;let n=new cp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Vne=async(e,r)=>{let t=i.map({});e.body;let n=new Sp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Gne=(e,r)=>r.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await Yne(t.Records)}:t.Stats!=null?{Stats:await Jne(t.Stats,r)}:t.Progress!=null?{Progress:await Xne(t.Progress,r)}:t.Cont!=null?{Cont:await Kne(t.Cont,r)}:t.End!=null?{End:await Wne(t.End,r)}:{$unknown:t}),Kne=async(e,r)=>{let t={};return await fe.parseXmlBody(e.body,r),Object.assign(t,Lie()),t},Wne=async(e,r)=>{let t={};return await fe.parseXmlBody(e.body,r),Object.assign(t,Jie()),t},Xne=async(e,r)=>{let t={},n=await fe.parseXmlBody(e.body,r);return t.Details=sce(n),t},Yne=async(e,r)=>{let t={};return t.Payload=e.body,t},Jne=async(e,r)=>{let t={},n=await fe.parseXmlBody(e.body,r);return t.Details=Oce(n),t},Qne=(e,r)=>{let t=new E.XmlNode(Li);return e[Ti]!=null&&t.c(E.XmlNode.of(Ti,String(e[Ti])).n(Ti)),t},Zne=(e,r)=>{let t=new E.XmlNode(Kce);return e[Q]!=null&&t.c(E.XmlNode.of(tle,e[Q]).n(Q)),t},UU=(e,r)=>{let t=new E.XmlNode(Gce);return t.lc(e,"Grants","AccessControlList",()=>HU(e[hu])),e[je]!=null&&t.c(Poe(e[je]).n(je)),t},ese=(e,r)=>{let t=new E.XmlNode(Mi);return e[je]!=null&&t.c(E.XmlNode.of(Dde,e[je]).n(je)),t},tse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(A0,t).n(tr)),rse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(v0,t).n(tr)),nse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(R0,t).n(tr)),sse=(e,r)=>{let t=new E.XmlNode(Vce);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ma(e[Ir])),t},ose=(e,r)=>{let t=new E.XmlNode(w0);return e[ue]!=null&&t.c(E.XmlNode.of(Yce,e[ue]).n(ue)),e[de]!=null&&t.c(ase(e[de]).n(de)),e[ra]!=null&&t.c(lie(e[ra]).n(ra)),t},ise=(e,r)=>{let t=new E.XmlNode(Wce);return e[Rn]!=null&&t.c(cse(e[Rn]).n(Rn)),t},ase=(e,r)=>{let t=new E.XmlNode(Xce);return S.AnalyticsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[xe]!=null&&t.c(ll(n).n(xe))},And:n=>{e[Et]!=null&&t.c(sse(n).n(Et))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},cse=(e,r)=>{let t=new E.XmlNode(Zce);return e[Cn]!=null&&t.c(E.XmlNode.of(ele,e[Cn]).n(Cn)),e[Tc]!=null&&t.c(E.XmlNode.of(Ac,e[Tc]).n(Tc)),e[Me]!=null&&t.c(E.XmlNode.of(vS,e[Me]).n(Me)),t.cc(e,X),t},lse=(e,r)=>{let t=new E.XmlNode(rle);return t.cc(e,wle),e[Yr]!=null&&t.c(E.XmlNode.of(lle,e[Yr]).n(Yr)),t},dse=(e,r)=>{let t=new E.XmlNode(nle);return t.l(e,"Rules","Rule",()=>ooe(e[kn])),t},use=(e,r)=>{let t=new E.XmlNode(ale);return e[Ki]!=null&&t.c(aoe(e[Ki]).n(Ki)),t},mse=(e,r)=>{let t=new E.XmlNode(mle);return t.l(e,"Parts","Part",()=>gse(e[pu])),t},fse=(e,r)=>{let t=new E.XmlNode(gle);return t.cc(e,ot),t.cc(e,lt),t.cc(e,dt),t.cc(e,ut),t.cc(e,mt),t.cc(e,ft),e[Wr]!=null&&t.c(E.XmlNode.of(Wr,String(e[Wr])).n(Wr)),t},gse=(e,r)=>e.filter(t=>t!=null).map(t=>fse(t).n(tr)),hse=(e,r)=>{let t=new E.XmlNode(Fi);return t.cc(e,kh),t.cc(e,Dh),t},pse=(e,r)=>{let t=new E.XmlNode(fle);return t.l(e,"CORSRules","CORSRule",()=>Sse(e[N0])),t},yse=(e,r)=>{let t=new E.XmlNode(O0);return t.cc(e,Tt),t.l(e,"AllowedHeaders","AllowedHeader",()=>tse(e[P0])),t.l(e,"AllowedMethods","AllowedMethod",()=>rse(e[T0])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>nse(e[I0])),t.l(e,"ExposeHeaders","ExposeHeader",()=>kse(e[B0])),e[ki]!=null&&t.c(E.XmlNode.of(ki,String(e[ki])).n(ki)),t},Sse=(e,r)=>e.filter(t=>t!=null).map(t=>yse(t).n(tr)),Ese=(e,r)=>{let t=new E.XmlNode(ule);return e[Vc]!=null&&t.c(E.XmlNode.of(sle,e[Vc]).n(Vc)),e[Gi]!=null&&t.c(ioe(e[Gi]).n(Gi)),e[Me]!=null&&t.c(lse(e[Me]).n(Me)),t.lc(e,"Tags","Tags",()=>ma(e[Ir])),t},bse=(e,r)=>{let t=new E.XmlNode(ple);return t.cc(e,kle),t.cc(e,ble),t.cc(e,Pq),t.cc(e,EA),t.cc(e,Eq),t.cc(e,Aq),e[bh]!=null&&t.c(E.XmlNode.of(bh,String(e[bh])).n(bh)),t},_se=(e,r)=>{let t=new E.XmlNode(yle);return t.cc(e,Ude),t.cc(e,Pq),t.cc(e,EA),t.cc(e,Eq),t.cc(e,Aq),t},Cse=(e,r)=>{let t=new E.XmlNode(Ui);return e[wn]!=null&&t.c(E.XmlNode.of(Cq,e[wn]).n(wn)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Bi]!=null&&t.c(E.XmlNode.of(Bi,String(e[Bi])).n(Bi)),t},xse=(e,r)=>{let t=new E.XmlNode(Ale);return t.l(e,"Objects","Object",()=>boe(e[Lde])),e[wh]!=null&&t.c(E.XmlNode.of(wh,String(e[wh])).n(wh)),t},wse=(e,r)=>{let t=new E.XmlNode(zi);return e[Q]!=null&&t.c(E.XmlNode.of(xle,e[Q]).n(Q)),t},Ase=(e,r)=>{let t=new E.XmlNode(Qt);return e[Me]!=null&&t.c(E.XmlNode.of(vS,e[Me]).n(Me)),e[vc]!=null&&t.c(E.XmlNode.of(Ac,e[vc]).n(vc)),t.cc(e,Ae),e[Mi]!=null&&t.c(ese(e[Mi]).n(Mi)),e[Tr]!=null&&t.c(vse(e[Tr]).n(Tr)),e[ea]!=null&&t.c(joe(e[ea]).n(ea)),e[Wi]!=null&&t.c(uoe(e[Wi]).n(Wi)),t},Pse=(e,r)=>{let t=new E.XmlNode(us);return e[Qw]!=null&&t.c(E.XmlNode.of(kr,e[Qw]).n(Qw)),e[i0]!=null&&t.c(E.XmlNode.of(Sr,e[i0]).n(i0)),t.cc(e,nde),t},vse=(e,r)=>{let t=new E.XmlNode(Tr);return t.cc(e,Vh),t},Tse=(e,r)=>{let t=new E.XmlNode(Hi);return e[ye]!=null&&t.c(E.XmlNode.of(SA,e[ye]).n(ye)),t},Rse=(e,r)=>new E.XmlNode(qi),iA=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(ca,t).n(tr)),Ise=(e,r)=>{let t=new E.XmlNode(ji);return e[Q]!=null&&t.c(E.XmlNode.of(vle,e[Q]).n(Q)),t},kse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(D0,t).n(tr)),Ose=(e,r)=>{let t=new E.XmlNode(M0);return e[xt]!=null&&t.c(E.XmlNode.of(Nle,e[xt]).n(xt)),e[on]!=null&&t.c(E.XmlNode.of(Ble,e[on]).n(on)),t},Nse=(e,r)=>e.filter(t=>t!=null).map(t=>Ose(t).n(tr)),Bse=(e,r)=>{let t=new E.XmlNode(Ih);return t.cc(e,Dq),t},Dse=(e,r)=>{let t=new E.XmlNode(Gs);if(e[sn]!=null){let n=qU(e[sn]).n(sn);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return t.cc(e,ms),t},qU=(e,r)=>{let t=new E.XmlNode(sn);return t.cc(e,zn),t.cc(e,vh),t.cc(e,Tt),t.cc(e,op),t.a("xsi:type",e[Yr]),t},HU=(e,r)=>e.filter(t=>t!=null).map(t=>Dse(t).n(Gs)),Mse=(e,r)=>{let t=new E.XmlNode($i);return t.cc(e,ep),t},jU=(e,r)=>{let t=new E.XmlNode(Vi);return e[Bc]!=null&&t.c(bse(e[Bc]).n(Bc)),t.cc(e,Ele),e[Hc]!=null&&t.c(Jse(e[Hc]).n(Hc)),e[h0]!=null&&t.c(Ioe(e[h0]).n(h0)),t},Lse=(e,r)=>{let t=new E.XmlNode(Vle);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ma(e[Ir])),t},Fse=(e,r)=>{let t=new E.XmlNode(U0);return e[ue]!=null&&t.c(E.XmlNode.of(Yle,e[ue]).n(ue)),e[de]!=null&&t.c(zse(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(Jle,e[Q]).n(Q)),t.l(e,"Tierings","Tiering",()=>hie(e[eA])),t},zse=(e,r)=>{let t=new E.XmlNode(Xle);return t.cc(e,X),e[xe]!=null&&t.c(ll(e[xe]).n(xe)),e[Et]!=null&&t.c(Lse(e[Et]).n(Et)),t},Use=(e,r)=>{let t=new E.XmlNode(z0);return e[Qt]!=null&&t.c(qse(e[Qt]).n(Qt)),e[Ii]!=null&&t.c(E.XmlNode.of(Ii,String(e[Ii])).n(Ii)),e[de]!=null&&t.c(jse(e[de]).n(de)),e[ue]!=null&&t.c(E.XmlNode.of(Ule,e[ue]).n(ue)),e[zc]!=null&&t.c(E.XmlNode.of(qle,e[zc]).n(zc)),t.lc(e,"OptionalFields","OptionalFields",()=>$se(e[Cc])),e[Zc]!=null&&t.c(Gse(e[Zc]).n(Zc)),t},qse=(e,r)=>{let t=new E.XmlNode(Dle);return e[Rn]!=null&&t.c(Vse(e[Rn]).n(Rn)),t},Hse=(e,r)=>{let t=new E.XmlNode(Mle);return e[J0]!=null&&t.c(cie(e[J0]).n(Rp)),e[Y0]!=null&&t.c(iie(e[Y0]).n(Tp)),t},jse=(e,r)=>{let t=new E.XmlNode(Lle);return t.cc(e,X),t},$se=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(Hle,t).n(F0)),Vse=(e,r)=>{let t=new E.XmlNode(jle);return t.cc(e,Ac),e[Me]!=null&&t.c(E.XmlNode.of(vS,e[Me]).n(Me)),e[Cn]!=null&&t.c(E.XmlNode.of(Fle,e[Cn]).n(Cn)),t.cc(e,X),e[us]!=null&&t.c(Hse(e[us]).n(us)),t},Gse=(e,r)=>{let t=new E.XmlNode($le);return e[Lc]!=null&&t.c(E.XmlNode.of(zle,e[Lc]).n(Lc)),t},Kse=(e,r)=>{let t=new E.XmlNode(Nh);return e[qs]!=null&&t.c(E.XmlNode.of(bq,e[qs]).n(qs)),e[Tr]!=null&&t.c(aA(e[Tr]).n(Tr)),t},Wse=(e,r)=>{let t=new E.XmlNode(Kle);return e[qs]!=null&&t.c(E.XmlNode.of(bq,e[qs]).n(qs)),e[Tr]!=null&&t.c(aA(e[Tr]).n(Tr)),t},Xse=(e,r)=>{let t=new E.XmlNode(Bh);return e[fs]!=null&&t.c(VU(e[fs]).n(fs)),e[Tr]!=null&&t.c(aA(e[Tr]).n(Tr)),t},Yse=(e,r)=>{let t=new E.XmlNode(tde);return e[fs]!=null&&t.c(VU(e[fs]).n(fs)),t},Jse=(e,r)=>{let t=new E.XmlNode(Qle);return e[Yr]!=null&&t.c(E.XmlNode.of(ede,e[Yr]).n(Yr)),t},Qse=(e,r)=>{let t=new E.XmlNode(Zle);return t.cc(e,EA),t},Zse=(e,r)=>{let t=new E.XmlNode(ode);return e[ue]!=null&&t.c(E.XmlNode.of(yA,e[ue]).n(ue)),e[Mh]!=null&&t.c(E.XmlNode.of(Mh,e[Mh]).n(k0)),t.l(e,"Events","Event",()=>iA(e[Vs])),e[de]!=null&&t.c(cA(e[de]).n(de)),t},eoe=(e,r)=>e.filter(t=>t!=null).map(t=>Zse(t).n(tr)),toe=(e,r)=>{let t=new E.XmlNode(sde);return e[Ur]!=null&&t.c(E.XmlNode.of(Ur,i.serializeDateTime(e[Ur]).toString()).n(Ur)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Ri]!=null&&t.c(E.XmlNode.of(Ri,String(e[Ri])).n(Ri)),t},roe=(e,r)=>{let t=new E.XmlNode(lde);return e[jt]!=null&&t.c(toe(e[jt]).n(jt)),t.cc(e,Tt),t.cc(e,X),e[de]!=null&&t.c(soe(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(Rle,e[Q]).n(Q)),t.l(e,"Transitions","Transition",()=>Eie(e[nA])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>yoe(e[$0])),e[Xi]!=null&&t.c(hoe(e[Xi]).n(Xi)),e[Li]!=null&&t.c(Qne(e[Li]).n(Li)),t},noe=(e,r)=>{let t=new E.XmlNode(dde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ma(e[Ir])),e[vn]!=null&&t.c(E.XmlNode.of(xq,String(e[vn])).n(vn)),e[Tn]!=null&&t.c(E.XmlNode.of(wq,String(e[Tn])).n(Tn)),t},soe=(e,r)=>{let t=new E.XmlNode(ude);return t.cc(e,X),e[xe]!=null&&t.c(ll(e[xe]).n(xe)),e[vn]!=null&&t.c(E.XmlNode.of(xq,String(e[vn])).n(vn)),e[Tn]!=null&&t.c(E.XmlNode.of(wq,String(e[Tn])).n(Tn)),e[Et]!=null&&t.c(noe(e[Et]).n(Et)),t},ooe=(e,r)=>e.filter(t=>t!=null).map(t=>roe(t).n(tr)),ioe=(e,r)=>{let t=new E.XmlNode(ide);return e[Yr]!=null&&t.c(E.XmlNode.of(mde,e[Yr]).n(Yr)),e[xt]!=null&&t.c(E.XmlNode.of(ade,e[xt]).n(xt)),t},aoe=(e,r)=>{let t=new E.XmlNode(Ki);return t.cc(e,rp),t.lc(e,"TargetGrants","TargetGrants",()=>mie(e[wc])),t.cc(e,np),e[aa]!=null&&t.c(fie(e[aa]).n(aa)),t},coe=(e,r)=>{let t=new E.XmlNode(hde);return e[Bh]!=null&&t.c(Xse(e[Bh]).n(Bh)),e[Nh]!=null&&t.c(Kse(e[Nh]).n(Nh)),t},loe=(e,r)=>{let t=new E.XmlNode(_q);return e[xt]!=null&&t.c(E.XmlNode.of(bde,e[xt]).n(xt)),e[on]!=null&&t.c(E.XmlNode.of(wde,e[on]).n(on)),t},doe=(e,r)=>{let t=new E.XmlNode(Cde);return e[Zh]!=null&&t.c(Joe(e[Zh]).n(Zh)),t},aA=(e,r)=>{let t=new E.XmlNode(xde);return e[S0]!=null&&t.c(E.XmlNode.of(bue,e[S0]).n(S0)),t.cc(e,rde),t},uoe=(e,r)=>{let t=new E.XmlNode(Wi);return e[Q]!=null&&t.c(E.XmlNode.of(_de,e[Q]).n(Q)),e[Mc]!=null&&t.c(GU(e[Mc]).n(Mc)),t},moe=(e,r)=>{let t=new E.XmlNode(fde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ma(e[Ir])),t.cc(e,zs),t},foe=(e,r)=>{let t=new E.XmlNode(H0);return e[ue]!=null&&t.c(E.XmlNode.of(Ede,e[ue]).n(ue)),e[de]!=null&&t.c(goe(e[de]).n(de)),t},goe=(e,r)=>{let t=new E.XmlNode(Sde);return S.MetricsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[xe]!=null&&t.c(ll(n).n(xe))},AccessPointArn:n=>{e[zs]!=null&&t.c(E.XmlNode.of(zs,n).n(zs))},And:n=>{e[Et]!=null&&t.c(moe(n).n(Et))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},hoe=(e,r)=>{let t=new E.XmlNode(Xi);return e[An]!=null&&t.c(E.XmlNode.of(Oe,String(e[An])).n(An)),e[Pn]!=null&&t.c(E.XmlNode.of(Lq,String(e[Pn])).n(Pn)),t},poe=(e,r)=>{let t=new E.XmlNode(V0);return e[An]!=null&&t.c(E.XmlNode.of(Oe,String(e[An])).n(An)),e[Ae]!=null&&t.c(E.XmlNode.of(Bq,e[Ae]).n(Ae)),e[Pn]!=null&&t.c(E.XmlNode.of(Lq,String(e[Pn])).n(Pn)),t},yoe=(e,r)=>e.filter(t=>t!=null).map(t=>poe(t).n(tr)),Soe=(e,r)=>{let t=new E.XmlNode(Ade);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>yie(e[Z0])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>Boe(e[K0])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>eoe(e[q0])),e[qi]!=null&&t.c(Rse(e[qi]).n(qi)),t},cA=(e,r)=>{let t=new E.XmlNode(Pde);return e[ye]!=null&&t.c(Xoe(e[ye]).n(X0)),t},Eoe=(e,r)=>{let t=new E.XmlNode(Ide);return e[ye]!=null&&t.c(E.XmlNode.of(SA,e[ye]).n(ye)),e[Te]!=null&&t.c(E.XmlNode.of(Mde,e[Te]).n(Te)),t.cc(e,ot),e[xh]!=null&&t.c(E.XmlNode.of(xh,i.dateToUtcString(e[xh]).toString()).n(xh)),e[yr]!=null&&t.c(E.XmlNode.of(yr,String(e[yr])).n(yr)),t},boe=(e,r)=>e.filter(t=>t!=null).map(t=>Eoe(t).n(tr)),_oe=(e,r)=>{let t=new E.XmlNode(kde);return t.cc(e,qh),e[Xr]!=null&&t.c(woe(e[Xr]).n(Xr)),t},Coe=(e,r)=>{let t=new E.XmlNode(Ode);return e[Q]!=null&&t.c(E.XmlNode.of(ga,e[Q]).n(Q)),t},xoe=(e,r)=>{let t=new E.XmlNode(Nde);return e[wn]!=null&&t.c(E.XmlNode.of(Cq,e[wn]).n(wn)),e[Jc]!=null&&t.c(E.XmlNode.of(Ur,i.serializeDateTime(e[Jc]).toString()).n(Jc)),t},woe=(e,r)=>{let t=new E.XmlNode(Bde);return e[Ui]!=null&&t.c(Cse(e[Ui]).n(Ui)),t},Aoe=(e,r)=>{let t=new E.XmlNode(Uh);return e[_0]!=null&&t.c(Yoe(e[_0]).n(_0)),t},$U=(e,r)=>{let t=new E.XmlNode(Yi);return e[Bc]!=null&&t.c(_se(e[Bc]).n(Bc)),e[Hc]!=null&&t.c(Qse(e[Hc]).n(Hc)),t},Poe=(e,r)=>{let t=new E.XmlNode(je);return t.cc(e,zn),t.cc(e,Tt),t},voe=(e,r)=>{let t=new E.XmlNode(vde);return t.l(e,"Rules","Rule",()=>Roe(e[kn])),t},Toe=(e,r)=>{let t=new E.XmlNode(Rde);return t.cc(e,gu),t},Roe=(e,r)=>e.filter(t=>t!=null).map(t=>Toe(t).n(tr)),Ioe=(e,r)=>new E.XmlNode(zde),koe=(e,r)=>{let t=new E.XmlNode(Ji);return t.cc(e,Hh),t},Ooe=(e,r)=>{let t=new E.XmlNode(Fde);return e[Ic]!=null&&t.c(E.XmlNode.of(Ah,String(e[Ic])).n(Ic)),e[Uc]!=null&&t.c(E.XmlNode.of(Ah,String(e[Uc])).n(Uc)),e[kc]!=null&&t.c(E.XmlNode.of(Ah,String(e[kc])).n(kc)),e[Xc]!=null&&t.c(E.XmlNode.of(Ah,String(e[Xc])).n(Xc)),t},Noe=(e,r)=>{let t=new E.XmlNode(G0);return e[ue]!=null&&t.c(E.XmlNode.of(yA,e[ue]).n(ue)),e[$h]!=null&&t.c(E.XmlNode.of($h,e[$h]).n(W0)),t.l(e,"Events","Event",()=>iA(e[Vs])),e[de]!=null&&t.c(cA(e[de]).n(de)),t},Boe=(e,r)=>e.filter(t=>t!=null).map(t=>Noe(t).n(tr)),VU=(e,r)=>{let t=new E.XmlNode(fs);return e[jt]!=null&&t.c(E.XmlNode.of(Ile,e[jt]).n(jt)),e[Oe]!=null&&t.c(E.XmlNode.of(Hde,String(e[Oe])).n(Oe)),t},Doe=(e,r)=>{let t=new E.XmlNode(ta);return t.cc(e,Mo),t.cc(e,Oh),t.cc(e,zo),t.cc(e,Gh),t.cc(e,Kh),t},Moe=(e,r)=>{let t=new E.XmlNode(Qi);return t.cc(e,Mo),t.cc(e,zo),t},Loe=(e,r)=>{let t=new E.XmlNode(Zi);return e[Q]!=null&&t.c(E.XmlNode.of(jde,e[Q]).n(Q)),t},Foe=(e,r)=>{let t=new E.XmlNode(qde);return t.cc(e,Xh),t.l(e,"Rules","Rule",()=>Hoe(e[kn])),t},zoe=(e,r)=>{let t=new E.XmlNode(Jde);return t.cc(e,Tt),e[Ni]!=null&&t.c(E.XmlNode.of(Ni,String(e[Ni])).n(Ni)),t.cc(e,X),e[de]!=null&&t.c(qoe(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(Xde,e[Q]).n(Q)),e[oa]!=null&&t.c(oie(e[oa]).n(oa)),e[ji]!=null&&t.c(Ise(e[ji]).n(ji)),e[Qt]!=null&&t.c(Ase(e[Qt]).n(Qt)),e[zi]!=null&&t.c(wse(e[zi]).n(zi)),t},Uoe=(e,r)=>{let t=new E.XmlNode(Kde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ma(e[Ir])),t},qoe=(e,r)=>{let t=new E.XmlNode(Wde);return t.cc(e,X),e[xe]!=null&&t.c(ll(e[xe]).n(xe)),e[Et]!=null&&t.c(Uoe(e[Et]).n(Et)),t},Hoe=(e,r)=>e.filter(t=>t!=null).map(t=>zoe(t).n(tr)),joe=(e,r)=>{let t=new E.XmlNode(ea);return e[Q]!=null&&t.c(E.XmlNode.of(tue,e[Q]).n(Q)),e[rl]!=null&&t.c(GU(e[rl]).n(rl)),t},GU=(e,r)=>{let t=new E.XmlNode(rue);return e[Oi]!=null&&t.c(E.XmlNode.of(Oi,String(e[Oi])).n(Oi)),t},$oe=(e,r)=>{let t=new E.XmlNode(Vde);return t.cc(e,jh),t},Voe=(e,r)=>{let t=new E.XmlNode(Wh);return e[Zw]!=null&&t.c(E.XmlNode.of(Tle,String(e[Zw])).n(Zw)),t},Goe=(e,r)=>{let t=new E.XmlNode(Qde);return e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Ih]!=null&&t.c(Bse(e[Ih]).n(Ih)),e[Yr]!=null&&t.c(E.XmlNode.of(Yde,e[Yr]).n(Yr)),t.cc(e,Dq),t.cc(e,Ple),e[Jh]!=null&&t.c(Zoe(e[Jh]).n(Jh)),e[Uh]!=null&&t.c(Aoe(e[Uh]).n(Uh)),t},Koe=(e,r)=>{let t=new E.XmlNode(vp);return e[Fi]!=null&&t.c(hse(e[Fi]).n(Fi)),e[ta]!=null&&t.c(Doe(e[ta]).n(ta)),t},Woe=(e,r)=>e.filter(t=>t!=null).map(t=>Koe(t).n(vp)),Xoe=(e,r)=>{let t=new E.XmlNode(cue);return t.l(e,"FilterRules","FilterRule",()=>Nse(e[L0])),t},Yoe=(e,r)=>{let t=new E.XmlNode(lue);return t.cc(e,vS),e[X]!=null&&t.c(E.XmlNode.of(cde,e[X]).n(X)),e[us]!=null&&t.c(Pse(e[us]).n(us)),e[Gw]!=null&&t.c(E.XmlNode.of(Tde,e[Gw]).n(Gw)),t.lc(e,"AccessControlList","AccessControlList",()=>HU(e[Di])),e[ia]!=null&&t.c(lA(e[ia]).n(ia)),t.lc(e,"UserMetadata","UserMetadata",()=>bie(e[_ue])),t.cc(e,Ae),t},Joe=(e,r)=>{let t=new E.XmlNode(Zh);return e[$s]!=null&&t.c(E.XmlNode.of(hue,e[$s]).n($s)),e[In]!=null&&t.c(E.XmlNode.of(pue,e[In]).n(In)),t},Qoe=(e,r)=>{let t=new E.XmlNode(Qh);return e[Ph]!=null&&t.c(E.XmlNode.of(Ph,String(e[Ph])).n(Ph)),e[Ch]!=null&&t.c(E.XmlNode.of(Ch,String(e[Ch])).n(Ch)),t},Zoe=(e,r)=>{let t=new E.XmlNode(Jh);return e[Vi]!=null&&t.c(jU(e[Vi]).n(Vi)),t.cc(e,yq),t.cc(e,Sq),e[Yi]!=null&&t.c($U(e[Yi]).n(Yi)),t},eie=(e,r)=>{let t=new E.XmlNode(mue);return e[Qc]!=null&&t.c(E.XmlNode.of(kr,e[Qc]).n(Qc)),e[$c]!=null&&t.c(E.XmlNode.of(Sr,e[$c]).n($c)),t},tie=(e,r)=>{let t=new E.XmlNode(fue);return t.l(e,"Rules","Rule",()=>nie(e[kn])),t},rie=(e,r)=>{let t=new E.XmlNode(gue);return e[Pc]!=null&&t.c(eie(e[Pc]).n(Pc)),e[St]!=null&&t.c(E.XmlNode.of(St,String(e[St])).n(St)),t},nie=(e,r)=>e.filter(t=>t!=null).map(t=>rie(t).n(tr)),sie=(e,r)=>new E.XmlNode(sa),oie=(e,r)=>{let t=new E.XmlNode(oa);return e[na]!=null&&t.c(aie(e[na]).n(na)),e[Zi]!=null&&t.c(Loe(e[Zi]).n(Zi)),t},iie=(e,r)=>{let t=new E.XmlNode(Tp);return e[jc]!=null&&t.c(E.XmlNode.of(Sr,e[jc]).n(jc)),t},aie=(e,r)=>{let t=new E.XmlNode(na);return e[Q]!=null&&t.c(E.XmlNode.of(aue,e[Q]).n(Q)),t},cie=(e,r)=>new E.XmlNode(Rp),lie=(e,r)=>{let t=new E.XmlNode(ra);return e[Dc]!=null&&t.c(die(e[Dc]).n(Dc)),t},die=(e,r)=>{let t=new E.XmlNode(nue);return e[Wc]!=null&&t.c(E.XmlNode.of(sue,e[Wc]).n(Wc)),e[Qt]!=null&&t.c(ise(e[Qt]).n(Qt)),t},ll=(e,r)=>{let t=new E.XmlNode(xe);return e[ye]!=null&&t.c(E.XmlNode.of(SA,e[ye]).n(ye)),t.cc(e,on),t},lA=(e,r)=>{let t=new E.XmlNode(ia);return t.lc(e,"TagSet","TagSet",()=>ma(e[Ln])),t},ma=(e,r)=>e.filter(t=>t!=null).map(t=>ll(t).n(xe)),uie=(e,r)=>{let t=new E.XmlNode(Sue);if(e[sn]!=null){let n=qU(e[sn]).n(sn);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return e[ms]!=null&&t.c(E.XmlNode.of(ile,e[ms]).n(ms)),t},mie=(e,r)=>e.filter(t=>t!=null).map(t=>uie(t).n(Gs)),fie=(e,r)=>{let t=new E.XmlNode(aa);return e[sa]!=null&&t.c(sie(e[sa]).n(sa)),e[Ji]!=null&&t.c(koe(e[Ji]).n(Ji)),t},gie=(e,r)=>{let t=new E.XmlNode(tA);return e[Oe]!=null&&t.c(E.XmlNode.of(Wle,String(e[Oe])).n(Oe)),e[Us]!=null&&t.c(E.XmlNode.of(Gle,e[Us]).n(Us)),t},hie=(e,r)=>e.filter(t=>t!=null).map(t=>gie(t).n(tr)),pie=(e,r)=>{let t=new E.XmlNode(Q0);return e[ue]!=null&&t.c(E.XmlNode.of(yA,e[ue]).n(ue)),e[tp]!=null&&t.c(E.XmlNode.of(tp,e[tp]).n(rA)),t.l(e,"Events","Event",()=>iA(e[Vs])),e[de]!=null&&t.c(cA(e[de]).n(de)),t},yie=(e,r)=>e.filter(t=>t!=null).map(t=>pie(t).n(tr)),Sie=(e,r)=>{let t=new E.XmlNode(sA);return e[Ur]!=null&&t.c(E.XmlNode.of(Ur,i.serializeDateTime(e[Ur]).toString()).n(Ur)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Ae]!=null&&t.c(E.XmlNode.of(Bq,e[Ae]).n(Ae)),t},Eie=(e,r)=>e.filter(t=>t!=null).map(t=>Sie(t).n(tr)),bie=(e,r)=>e.filter(t=>t!=null).map(t=>loe(t).n(_q)),_ie=(e,r)=>{let t=new E.XmlNode(Cue);return e[Fh]!=null&&t.c(E.XmlNode.of(Fh,e[Fh]).n(j0)),e[Q]!=null&&t.c(E.XmlNode.of(dle,e[Q]).n(Q)),t},Cie=(e,r)=>{let t=new E.XmlNode(xue);return e[Hi]!=null&&t.c(Tse(e[Hi]).n(Hi)),e[$i]!=null&&t.c(Mse(e[$i]).n($i)),e[Qi]!=null&&t.c(Moe(e[Qi]).n(Qi)),t.lc(e,"RoutingRules","RoutingRules",()=>Woe(e[xc])),t},xie=(e,r)=>{let t={};return e[Ti]!=null&&(t[Ti]=i.strictParseInt32(e[Ti])),t},wie=(e,r)=>{let t={};return e[je]!=null&&(t[je]=i.expectString(e[je])),t},Aie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Pie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),vie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Tie=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=fa(i.getArrayIfSingleItem(e[xe]))),t},KU=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),String(e.Filter).trim()===""||e[de]!=null&&(t[de]=kie(i.expectUnion(e[de]))),e[ra]!=null&&(t[ra]=Nce(e[ra])),t},Rie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>KU(t)),Iie=(e,r)=>{let t={};return e[Rn]!=null&&(t[Rn]=Oie(e[Rn])),t},kie=(e,r)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:dl(e[xe])}:e[Et]!=null?{And:Tie(e[Et])}:{$unknown:Object.entries(e)[0]},Oie=(e,r)=>{let t={};return e[Cn]!=null&&(t[Cn]=i.expectString(e[Cn])),e[Tc]!=null&&(t[Tc]=i.expectString(e[Tc])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[X]!=null&&(t[X]=i.expectString(e[X])),t},Nie=(e,r)=>{let t={};return e[xt]!=null&&(t[xt]=i.expectString(e[xt])),e[Kw]!=null&&(t[Kw]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Kw]))),e[fu]!=null&&(t[fu]=i.expectString(e[fu])),e[mu]!=null&&(t[mu]=i.expectString(e[mu])),t},WU=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Nie(t)),Bie=(e,r)=>{let t={};return e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),t},XU=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Die=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},PS=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Die(t)),Mie=(e,r)=>{let t={};return e[kh]!=null&&(t[kh]=i.expectString(e[kh])),e[Dh]!=null&&(t[Dh]=i.expectString(e[Dh])),t},Lie=(e,r)=>({}),Fie=(e,r)=>{let t={};return e[ot]!=null&&(t[ot]=i.expectString(e[ot])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},zie=(e,r)=>{let t={};return e[ot]!=null&&(t[ot]=i.expectString(e[ot])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},Uie=(e,r)=>{let t={};return e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),String(e.AllowedHeader).trim()===""?t[P0]=[]:e[A0]!=null&&(t[P0]=Aie(i.getArrayIfSingleItem(e[A0]))),String(e.AllowedMethod).trim()===""?t[T0]=[]:e[v0]!=null&&(t[T0]=Pie(i.getArrayIfSingleItem(e[v0]))),String(e.AllowedOrigin).trim()===""?t[I0]=[]:e[R0]!=null&&(t[I0]=vie(i.getArrayIfSingleItem(e[R0]))),String(e.ExposeHeader).trim()===""?t[B0]=[]:e[D0]!=null&&(t[B0]=nae(i.getArrayIfSingleItem(e[D0]))),e[ki]!=null&&(t[ki]=i.strictParseInt32(e[ki])),t},qie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uie(t)),Hie=(e,r)=>{let t={};return e[wn]!=null&&(t[wn]=i.expectString(e[wn])),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Bi]!=null&&(t[Bi]=i.strictParseInt32(e[Bi])),t},jie=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Fn]!=null&&(t[Fn]=i.parseBoolean(e[Fn])),e[Yw]!=null&&(t[Yw]=i.expectString(e[Yw])),t},$ie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>jie(t)),Vie=(e,r)=>{let t={};return e[je]!=null&&(t[je]=jo(e[je])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Fc]!=null&&(t[Fc]=i.parseBoolean(e[Fc])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),t},Gie=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Kie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Vie(t)),Wie=(e,r)=>{let t={};return e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[vc]!=null&&(t[vc]=i.expectString(e[vc])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[Mi]!=null&&(t[Mi]=wie(e[Mi])),e[Tr]!=null&&(t[Tr]=Yie(e[Tr])),e[ea]!=null&&(t[ea]=yce(e[ea])),e[Wi]!=null&&(t[Wi]=Nae(e[Wi])),t},Xie=(e,r)=>{let t={};return e[C0]!=null&&(t[C0]=i.expectString(e[C0])),e[$s]!=null&&(t[$s]=i.expectString(e[$s])),e[el]!=null&&(t[el]=i.expectString(e[el])),t},Yie=(e,r)=>{let t={};return e[Vh]!=null&&(t[Vh]=i.expectString(e[Vh])),t},Jie=(e,r)=>({}),Qie=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Xw]!=null&&(t[Xw]=i.expectString(e[Xw])),e[l0]!=null&&(t[l0]=i.expectString(e[l0])),t},dA=(e,r)=>{let t={};return e[Th]!=null&&(t[Th]=i.expectString(e[Th])),e[Rh]!=null&&(t[Rh]=i.expectString(e[Rh])),t},Zie=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),t},eae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Qie(t)),tae=(e,r)=>({}),uA=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),rae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},nae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),sae=(e,r)=>{let t={};return e[xt]!=null&&(t[xt]=i.expectString(e[xt])),e[on]!=null&&(t[on]=i.expectString(e[on])),t},oae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>sae(t)),iae=(e,r)=>{let t={};return e[a0]!=null&&(t[a0]=kae(e[a0])),t},aae=(e,r)=>{let t={};return e[c0]!=null&&(t[c0]=Oae(e[c0])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[Un]!=null&&(t[Un]=dA(e[Un])),t},cae=(e,r)=>{let t={};return e[ol]!=null&&(t[Eue]=i.strictParseInt32(e[ol])),e[Fo]!=null&&(t[Fo]=i.expectString(e[Fo])),e[Kc]!=null&&(t[Kc]=i.expectString(e[Kc])),e[Hs]!=null&&(t[Hs]=i.strictParseInt32(e[Hs])),e[Ye]!=null&&(t[Ye]=i.parseBoolean(e[Ye])),String(e.Part).trim()===""?t[pu]=[]:e[Pp]!=null&&(t[pu]=rce(i.getArrayIfSingleItem(e[Pp]))),t},lae=(e,r)=>{let t={};return e[sn]!=null&&(t[sn]=YU(e[sn])),e[ms]!=null&&(t[ms]=i.expectString(e[ms])),t},YU=(e,r)=>{let t={};return e[zn]!=null&&(t[zn]=i.expectString(e[zn])),e[vh]!=null&&(t[vh]=i.expectString(e[vh])),e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[op]!=null&&(t[op]=i.expectString(e[op])),e[Yz]!=null&&(t[Yr]=i.expectString(e[Yz])),t},JU=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>lae(t)),dae=(e,r)=>{let t={};return e[ep]!=null&&(t[ep]=i.expectString(e[ep])),t},QU=(e,r)=>{let t={};return e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[zn]!=null&&(t[zn]=i.expectString(e[zn])),t},uae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=fa(i.getArrayIfSingleItem(e[xe]))),t},ZU=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[de]!=null&&(t[de]=fae(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Tiering).trim()===""?t[eA]=[]:e[tA]!=null&&(t[eA]=zce(i.getArrayIfSingleItem(e[tA]))),t},mae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>ZU(t)),fae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=dl(e[xe])),e[Et]!=null&&(t[Et]=uae(e[Et])),t},eq=(e,r)=>{let t={};return e[Qt]!=null&&(t[Qt]=hae(e[Qt])),e[Ii]!=null&&(t[Ii]=i.parseBoolean(e[Ii])),e[de]!=null&&(t[de]=yae(e[de])),e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[zc]!=null&&(t[zc]=i.expectString(e[zc])),String(e.OptionalFields).trim()===""?t[Cc]=[]:e[Cc]!=null&&e[Cc][F0]!=null&&(t[Cc]=Sae(i.getArrayIfSingleItem(e[Cc][F0]))),e[Zc]!=null&&(t[Zc]=bae(e[Zc])),t},gae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>eq(t)),hae=(e,r)=>{let t={};return e[Rn]!=null&&(t[Rn]=Eae(e[Rn])),t},pae=(e,r)=>{let t={};return e[Rp]!=null&&(t[J0]=kce(e[Rp])),e[Tp]!=null&&(t[Y0]=Rce(e[Tp])),t},yae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},Sae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Eae=(e,r)=>{let t={};return e[Ac]!=null&&(t[Ac]=i.expectString(e[Ac])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[Cn]!=null&&(t[Cn]=i.expectString(e[Cn])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[us]!=null&&(t[us]=pae(e[us])),t},bae=(e,r)=>{let t={};return e[Lc]!=null&&(t[Lc]=i.expectString(e[Lc])),t},_ae=(e,r)=>{let t={};return e[qs]!=null&&(t[qs]=i.expectString(e[qs])),e[tl]!=null&&(t[tl]=i.expectString(e[tl])),e[Un]!=null&&(t[Un]=dA(e[Un])),e[In]!=null&&(t[In]=i.expectString(e[In])),e[js]!=null&&(t[js]=i.expectString(e[js])),t},Cae=(e,r)=>{let t={};return e[tl]!=null&&(t[tl]=i.expectString(e[tl])),e[Un]!=null&&(t[Un]=dA(e[Un])),e[In]!=null&&(t[In]=i.expectString(e[In])),e[js]!=null&&(t[js]=i.expectString(e[js])),e[fs]!=null&&(t[fs]=cce(e[fs])),t},xae=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[k0]!=null&&(t[Mh]=i.expectString(e[k0])),String(e.Event).trim()===""?t[Vs]=[]:e[ca]!=null&&(t[Vs]=uA(i.getArrayIfSingleItem(e[ca]))),e[de]!=null&&(t[de]=mA(e[de])),t},wae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>xae(t)),Aae=(e,r)=>{let t={};return e[Ur]!=null&&(t[Ur]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Ur]))),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Ri]!=null&&(t[Ri]=i.parseBoolean(e[Ri])),t},Pae=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=Aae(e[jt])),e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[de]!=null&&(t[de]=Tae(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Transition).trim()===""?t[nA]=[]:e[sA]!=null&&(t[nA]=jce(i.getArrayIfSingleItem(e[sA]))),String(e.NoncurrentVersionTransition).trim()===""?t[$0]=[]:e[V0]!=null&&(t[$0]=qae(i.getArrayIfSingleItem(e[V0]))),e[Xi]!=null&&(t[Xi]=zae(e[Xi])),e[Li]!=null&&(t[Li]=xie(e[Li])),t},vae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=fa(i.getArrayIfSingleItem(e[xe]))),e[vn]!=null&&(t[vn]=i.strictParseLong(e[vn])),e[Tn]!=null&&(t[Tn]=i.strictParseLong(e[Tn])),t},Tae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=dl(e[xe])),e[vn]!=null&&(t[vn]=i.strictParseLong(e[vn])),e[Tn]!=null&&(t[Tn]=i.strictParseLong(e[Tn])),e[Et]!=null&&(t[Et]=vae(e[Et])),t},Rae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Pae(t)),Iae=(e,r)=>{let t={};return e[rp]!=null&&(t[rp]=i.expectString(e[rp])),String(e.TargetGrants).trim()===""?t[wc]=[]:e[wc]!=null&&e[wc][Gs]!=null&&(t[wc]=Mce(i.getArrayIfSingleItem(e[wc][Gs]))),e[np]!=null&&(t[np]=i.expectString(e[np])),e[aa]!=null&&(t[aa]=Lce(e[aa])),t},kae=(e,r)=>{let t={};return e[Jw]!=null&&(t[Jw]=Xie(e[Jw])),e[s0]!=null&&(t[s0]=Cae(e[s0])),e[r0]!=null&&(t[r0]=_ae(e[r0])),t},Oae=(e,r)=>{let t={};return e[b0]!=null&&(t[b0]=_ce(e[b0])),t},Nae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[Mc]!=null&&(t[Mc]=nq(e[Mc])),t},Bae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=fa(i.getArrayIfSingleItem(e[xe]))),e[zs]!=null&&(t[zs]=i.expectString(e[zs])),t},tq=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),String(e.Filter).trim()===""||e[de]!=null&&(t[de]=Mae(i.expectUnion(e[de]))),t},Dae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>tq(t)),Mae=(e,r)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:dl(e[xe])}:e[zs]!=null?{AccessPointArn:i.expectString(e[zs])}:e[Et]!=null?{And:Bae(e[Et])}:{$unknown:Object.entries(e)[0]},Lae=(e,r)=>{let t={};return e[Jr]!=null&&(t[Jr]=i.expectString(e[Jr])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[n0]!=null&&(t[n0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[n0]))),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[je]!=null&&(t[je]=jo(e[je])),e[qc]!=null&&(t[qc]=QU(e[qc])),e[be]!=null&&(t[be]=i.expectString(e[be])),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),t},Fae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Lae(t)),zae=(e,r)=>{let t={};return e[An]!=null&&(t[An]=i.strictParseInt32(e[An])),e[Pn]!=null&&(t[Pn]=i.strictParseInt32(e[Pn])),t},Uae=(e,r)=>{let t={};return e[An]!=null&&(t[An]=i.strictParseInt32(e[An])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[Pn]!=null&&(t[Pn]=i.strictParseInt32(e[Pn])),t},qae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uae(t)),mA=(e,r)=>{let t={};return e[X0]!=null&&(t[ye]=bce(e[X0])),t},Hae=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[ot]!=null&&(t[ot]=i.expectString(e[ot])),String(e.ChecksumAlgorithm).trim()===""?t[be]=[]:e[be]!=null&&(t[be]=XU(i.getArrayIfSingleItem(e[be]))),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[je]!=null&&(t[je]=jo(e[je])),e[Yc]!=null&&(t[Yc]=sq(e[Yc])),t},rq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Hae(t)),jae=(e,r)=>{let t={};return e[qh]!=null&&(t[qh]=i.expectString(e[qh])),e[Xr]!=null&&(t[Xr]=Gae(e[Xr])),t},$ae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Vae=(e,r)=>{let t={};return e[wn]!=null&&(t[wn]=i.expectString(e[wn])),e[Jc]!=null&&(t[Jc]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Jc]))),t},Gae=(e,r)=>{let t={};return e[Ui]!=null&&(t[Ui]=Hie(e[Ui])),t},Kae=(e,r)=>{let t={};return e[Wr]!=null&&(t[Wr]=i.strictParseInt32(e[Wr])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},Wae=(e,r)=>{let t={};return e[ot]!=null&&(t[ot]=i.expectString(e[ot])),String(e.ChecksumAlgorithm).trim()===""?t[be]=[]:e[be]!=null&&(t[be]=XU(i.getArrayIfSingleItem(e[be]))),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Fc]!=null&&(t[Fc]=i.parseBoolean(e[Fc])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[je]!=null&&(t[je]=jo(e[je])),e[Yc]!=null&&(t[Yc]=sq(e[Yc])),t},Xae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Wae(t)),jo=(e,r)=>{let t={};return e[zn]!=null&&(t[zn]=i.expectString(e[zn])),e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),t},Yae=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[kn]=[]:e[Xr]!=null&&(t[kn]=Qae(i.getArrayIfSingleItem(e[Xr]))),t},Jae=(e,r)=>{let t={};return e[gu]!=null&&(t[gu]=i.expectString(e[gu])),t},Qae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Jae(t)),Zae=(e,r)=>{let t={};return e[Wr]!=null&&(t[Wr]=i.strictParseInt32(e[Wr])),e[Rt]!=null&&(t[Rt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Rt]))),e[ot]!=null&&(t[ot]=i.expectString(e[ot])),e[yr]!=null&&(t[yr]=i.strictParseLong(e[yr])),e[lt]!=null&&(t[lt]=i.expectString(e[lt])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),t},ece=(e,r)=>{let t={};return e[Hh]!=null&&(t[Hh]=i.expectString(e[Hh])),t},tce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Zae(t)),rce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Kae(t)),nce=(e,r)=>{let t={};return e[e0]!=null&&(t[e0]=i.parseBoolean(e[e0])),t},sce=(e,r)=>{let t={};return e[Nc]!=null&&(t[Nc]=i.strictParseLong(e[Nc])),e[Rc]!=null&&(t[Rc]=i.strictParseLong(e[Rc])),e[Oc]!=null&&(t[Oc]=i.strictParseLong(e[Oc])),t},oce=(e,r)=>{let t={};return e[Ic]!=null&&(t[Ic]=i.parseBoolean(e[Ic])),e[Uc]!=null&&(t[Uc]=i.parseBoolean(e[Uc])),e[kc]!=null&&(t[kc]=i.parseBoolean(e[kc])),e[Xc]!=null&&(t[Xc]=i.parseBoolean(e[Xc])),t},ice=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[W0]!=null&&(t[$h]=i.expectString(e[W0])),String(e.Event).trim()===""?t[Vs]=[]:e[ca]!=null&&(t[Vs]=uA(i.getArrayIfSingleItem(e[ca]))),e[de]!=null&&(t[de]=mA(e[de])),t},ace=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>ice(t)),cce=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=i.expectString(e[jt])),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),t},lce=(e,r)=>{let t={};return e[Mo]!=null&&(t[Mo]=i.expectString(e[Mo])),e[Oh]!=null&&(t[Oh]=i.expectString(e[Oh])),e[zo]!=null&&(t[zo]=i.expectString(e[zo])),e[Gh]!=null&&(t[Gh]=i.expectString(e[Gh])),e[Kh]!=null&&(t[Kh]=i.expectString(e[Kh])),t},dce=(e,r)=>{let t={};return e[Mo]!=null&&(t[Mo]=i.expectString(e[Mo])),e[zo]!=null&&(t[zo]=i.expectString(e[zo])),t},uce=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},mce=(e,r)=>{let t={};return e[Xh]!=null&&(t[Xh]=i.expectString(e[Xh])),String(e.Rule).trim()===""?t[kn]=[]:e[Xr]!=null&&(t[kn]=pce(i.getArrayIfSingleItem(e[Xr]))),t},fce=(e,r)=>{let t={};return e[Tt]!=null&&(t[Tt]=i.expectString(e[Tt])),e[Ni]!=null&&(t[Ni]=i.strictParseInt32(e[Ni])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[de]!=null&&(t[de]=hce(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[oa]!=null&&(t[oa]=Tce(e[oa])),e[ji]!=null&&(t[ji]=rae(e[ji])),e[Qt]!=null&&(t[Qt]=Wie(e[Qt])),e[zi]!=null&&(t[zi]=Gie(e[zi])),t},gce=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[Ir]=[]:e[xe]!=null&&(t[Ir]=fa(i.getArrayIfSingleItem(e[xe]))),t},hce=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=dl(e[xe])),e[Et]!=null&&(t[Et]=gce(e[Et])),t},pce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>fce(t)),yce=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[rl]!=null&&(t[rl]=nq(e[rl])),t},nq=(e,r)=>{let t={};return e[Oi]!=null&&(t[Oi]=i.strictParseInt32(e[Oi])),t},sq=(e,r)=>{let t={};return e[t0]!=null&&(t[t0]=i.parseBoolean(e[t0])),e[p0]!=null&&(t[p0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[p0]))),t},Sce=(e,r)=>{let t={};return e[Fi]!=null&&(t[Fi]=Mie(e[Fi])),e[ta]!=null&&(t[ta]=lce(e[ta])),t},Ece=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Sce(t)),bce=(e,r)=>{let t={};return String(e.FilterRule).trim()===""?t[L0]=[]:e[M0]!=null&&(t[L0]=oae(i.getArrayIfSingleItem(e[M0]))),t},_ce=(e,r)=>{let t={};return e[$s]!=null&&(t[$s]=i.expectString(e[$s])),e[In]!=null&&(t[In]=i.expectString(e[In])),e[js]!=null&&(t[js]=i.expectString(e[js])),e[el]!=null&&(t[el]=i.expectString(e[el])),t},Cce=(e,r)=>{let t={};return e[Qc]!=null&&(t[Qc]=i.expectString(e[Qc])),e[$c]!=null&&(t[$c]=i.expectString(e[$c])),t},xce=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[kn]=[]:e[Xr]!=null&&(t[kn]=Ace(i.getArrayIfSingleItem(e[Xr]))),t},wce=(e,r)=>{let t={};return e[Pc]!=null&&(t[Pc]=Cce(e[Pc])),e[St]!=null&&(t[St]=i.parseBoolean(e[St])),t},Ace=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>wce(t)),Pce=(e,r)=>{let t={};return e[$w]!=null&&(t[$w]=i.expectString(e[$w])),e[y0]!=null&&(t[y0]=i.expectString(e[y0])),e[E0]!=null&&(t[E0]=i.expectString(e[E0])),e[jt]!=null&&(t[jt]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[jt]))),t},vce=(e,r)=>({}),Tce=(e,r)=>{let t={};return e[na]!=null&&(t[na]=Ice(e[na])),e[Zi]!=null&&(t[Zi]=uce(e[Zi])),t},Rce=(e,r)=>{let t={};return e[jc]!=null&&(t[jc]=i.expectString(e[jc])),t},Ice=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},kce=(e,r)=>({}),Oce=(e,r)=>{let t={};return e[Nc]!=null&&(t[Nc]=i.strictParseLong(e[Nc])),e[Rc]!=null&&(t[Rc]=i.strictParseLong(e[Rc])),e[Oc]!=null&&(t[Oc]=i.strictParseLong(e[Oc])),t},Nce=(e,r)=>{let t={};return e[Dc]!=null&&(t[Dc]=Bce(e[Dc])),t},Bce=(e,r)=>{let t={};return e[Wc]!=null&&(t[Wc]=i.expectString(e[Wc])),e[Qt]!=null&&(t[Qt]=Iie(e[Qt])),t},dl=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[on]!=null&&(t[on]=i.expectString(e[on])),t},fa=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>dl(t)),Dce=(e,r)=>{let t={};return e[sn]!=null&&(t[sn]=YU(e[sn])),e[ms]!=null&&(t[ms]=i.expectString(e[ms])),t},Mce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Dce(t)),Lce=(e,r)=>{let t={};return e[sa]!=null&&(t[sa]=vce(e[sa])),e[Ji]!=null&&(t[Ji]=ece(e[Ji])),t},Fce=(e,r)=>{let t={};return e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Us]!=null&&(t[Us]=i.expectString(e[Us])),t},zce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Fce(t)),Uce=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[rA]!=null&&(t[tp]=i.expectString(e[rA])),String(e.Event).trim()===""?t[Vs]=[]:e[ca]!=null&&(t[Vs]=uA(i.getArrayIfSingleItem(e[ca]))),e[de]!=null&&(t[de]=mA(e[de])),t},qce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uce(t)),Hce=(e,r)=>{let t={};return e[Ur]!=null&&(t[Ur]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Ur]))),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),t},jce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Hce(t)),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),$ce=(e,r)=>i.collectBody(e,r).then(t=>r.utf8Encoder(t)),Et="And",Vce="AnalyticsAndOperator",w0="AnalyticsConfiguration",ul="ACL",Di="AccessControlList",Az="AnalyticsConfigurationList",Gce="AccessControlPolicy",Mi="AccessControlTranslation",Kce="AccelerateConfiguration",oq="AbortDate",Wce="AnalyticsExportDestination",Xce="AnalyticsFilter",A0="AllowedHeader",P0="AllowedHeaders",Yce="AnalyticsId",Li="AbortIncompleteMultipartUpload",Ac="AccountId",$w="AccessKeyId",v0="AllowedMethod",T0="AllowedMethods",R0="AllowedOrigin",I0="AllowedOrigins",Jce="AccessPointAlias",zs="AccessPointArn",bh="AllowQuotedRecordDelimiter",fA="AcceptRanges",iq="AbortRuleId",Qce="ArchiveStatus",Zce="AnalyticsS3BucketDestination",ele="AnalyticsS3ExportFileFormat",Pc="ApplyServerSideEncryptionByDefault",Us="AccessTier",vc="Account",Me="Bucket",mu="BucketArn",Tc="BucketAccountId",tle="BucketAccelerateStatus",nl="BypassGovernanceRetention",rle="BucketInfo",St="BucketKeyEnabled",nle="BucketLifecycleConfiguration",sle="BucketLocationConstraint",ole="BucketLocationName",ile="BucketLogsPermission",ale="BucketLoggingStatus",cle="BucketLocationType",vS="BucketName",Rc="BytesProcessed",Ic="BlockPublicAcls",kc="BlockPublicPolicy",fu="BucketRegion",Oc="BytesReturned",Nc="BytesScanned",lle="BucketType",dle="BucketVersioningStatus",ds="Buckets",Vw="Credentials",be="ChecksumAlgorithm",Gw="CannedACL",ule="CreateBucketConfiguration",ml="CacheControl",lt="ChecksumCRC32",dt="ChecksumCRC32C",ut="ChecksumCRC64NVME",fl="ContentDisposition",Kw="CreationDate",gl="ContentEncoding",k0="CloudFunction",Pz="CloudFunctionConfiguration",hl="ContentLanguage",Uo="ContentLength",aq="ChecksumMode",It="ContentMD5",mle="CompletedMultipartUpload",fle="CORSConfiguration",O0="CORSRule",N0="CORSRules",Pr="CommonPrefixes",gle="CompletedPart",gA="ContentRange",vz="ConfirmRemoveSelfBucketAccess",cq="CopySource",mt="ChecksumSHA1",ft="ChecksumSHA256",lq="CopySourceIfMatch",_p="CopySourceIfModifiedSince",dq="CopySourceIfNoneMatch",Cp="CopySourceIfUnmodifiedSince",hle="CopySourceRange",uq="CopySourceSSECustomerAlgorithm",mq="CopySourceSSECustomerKey",fq="CopySourceSSECustomerKeyMD5",Bc="CSV",gq="CopySourceVersionId",ple="CSVInput",yle="CSVOutput",qs="ConfigurationState",gt="ChecksumType",Sle="ClientToken",pl="ContentType",Ele="CompressionType",st="ContinuationToken",Ww="Checksum",Do="Contents",Xw="Code",ble="Comments",Fi="Condition",vr="Delimiter",Ti="DaysAfterInitiation",Dc="DataExport",_le="DestinationIfMatch",Tz="DestinationIfModifiedSince",Cle="DestinationIfNoneMatch",Rz="DestinationIfUnmodifiedSince",Fn="DeleteMarker",zi="DeleteMarkerReplication",xle="DeleteMarkerReplicationStatus",Yw="DeleteMarkerVersionId",Iz="DeleteMarkers",zn="DisplayName",wle="DataRedundancy",Ui="DefaultRetention",Jw="DestinationResult",Oe="Days",Ur="Date",_h="Deleted",Ale="Delete",Qt="Destination",Ple="Description",gs="Expires",vh="EmailAddress",qi="EventBridgeConfiguration",G="ExpectedBucketOwner",Th="ErrorCode",Tr="EncryptionConfiguration",Hi="ErrorDocument",B0="ExposeHeaders",D0="ExposeHeader",Rh="ErrorMessage",Ri="ExpiredObjectDeleteMarker",ji="ExistingObjectReplication",vle="ExistingObjectReplicationStatus",Tle="EnableRequestProgress",hq="ExpiresString",pq="ExpectedSourceBucketOwner",Rle="ExpirationStatus",Ile="ExpirationState",Rr="EncodingType",ot="ETag",Qw="EncryptionType",Mc="EventThreshold",yq="ExpressionType",us="Encryption",Zw="Enabled",Ch="End",Un="Error",kz="Errors",ca="Event",Vs="Events",Sq="Expression",jt="Expiration",de="Filter",Eq="FieldDelimiter",kle="FileHeaderInfo",Ole="FetchOwner",M0="FilterRule",Nle="FilterRuleName",Ble="FilterRuleValue",L0="FilterRules",F0="Field",Cn="Format",Lc="Frequency",Gs="Grant",yl="GrantFullControl",Ih="GlacierJobParameters",Sl="GrantRead",El="GrantReadACP",hA="GrantWrite",bl="GrantWriteACP",hu="Grants",sn="Grantee",kh="HttpErrorCodeReturnedEquals",Mo="HostName",Oh="HttpRedirectCode",ue="Id",z0="InventoryConfiguration",Oz="InventoryConfigurationList",bq="InventoryConfigurationState",$i="IndexDocument",Tt="ID",Dle="InventoryDestination",Ii="IsEnabled",Mle="InventoryEncryption",Lle="InventoryFilter",Fle="InventoryFormat",zle="InventoryFrequency",Ule="InventoryId",qle="InventoryIncludedObjectVersions",Fc="IsLatest",Cu="IfMatch",Nz="IfMatchInitiatedTime",Bz="IfMatchLastModifiedTime",Dz="IfMatchSize",xp="IfModifiedSince",TS="IfNoneMatch",Hle="InventoryOptionalField",zc="IncludedObjectVersions",e0="IsPublic",Uc="IgnorePublicAcls",t0="IsRestoreInProgress",Vi="InputSerialization",jle="InventoryS3BucketDestination",$le="InventorySchedule",Ye="IsTruncated",Vle="IntelligentTieringAndOperator",Gle="IntelligentTieringAccessTier",U0="IntelligentTieringConfiguration",Mz="IntelligentTieringConfigurationList",r0="InventoryTableConfigurationResult",Kle="InventoryTableConfigurationUpdates",Nh="InventoryTableConfiguration",Wle="IntelligentTieringDays",Xle="IntelligentTieringFilter",Yle="IntelligentTieringId",Jle="IntelligentTieringStatus",wp="IfUnmodifiedSince",qc="Initiator",n0="Initiated",Hc="JSON",Qle="JSONInput",Zle="JSONOutput",ede="JSONType",Bh="JournalTableConfiguration",s0="JournalTableConfigurationResult",tde="JournalTableConfigurationUpdates",ye="Key",o0="KeyCount",jc="KeyId",rde="KmsKeyArn",Lo="KeyMarker",nde="KMSContext",i0="KMSKeyId",$c="KMSMasterKeyID",Dh="KeyPrefixEquals",Gi="Location",Vc="LocationConstraint",Ki="LoggingEnabled",sde="LifecycleExpiration",Mh="LambdaFunctionArn",q0="LambdaFunctionConfigurations",ode="LambdaFunctionConfiguration",ide="LocationInfo",Rt="LastModified",xh="LastModifiedTime",ade="LocationNameAsString",cde="LocationPrefix",lde="LifecycleRule",dde="LifecycleRuleAndOperator",ude="LifecycleRuleFilter",mde="LocationType",Lh="Marker",fde="MetricsAndOperator",ki="MaxAgeSeconds",gde="MaxBuckets",H0="MetricsConfiguration",Lz="MetricsConfigurationList",a0="MetadataConfigurationResult",hde="MetadataConfiguration",pde="MetadataDirective",yde="MaxDirectoryBuckets",j0="MfaDelete",_q="MetadataEntry",Sde="MetricsFilter",pA="MFA",Fh="MFADelete",Ede="MetricsId",xn="MaxKeys",bde="MetadataKey",Ap="MissingMeta",Fz="MpuObjectSize",Hs="MaxParts",_de="MetricsStatus",Cde="MetadataTableConfiguration",c0="MetadataTableConfigurationResult",xde="MetadataTableEncryptionConfiguration",zh="MaxUploads",wde="MetadataValue",Wi="Metrics",l0="Message",Oi="Minutes",wn="Mode",xt="Name",Ade="NotificationConfiguration",Pde="NotificationConfigurationFilter",qr="NextContinuationToken",An="NoncurrentDays",yA="NotificationId",Gc="NextKeyMarker",d0="NextMarker",Pn="NewerNoncurrentVersions",Kc="NextPartNumberMarker",u0="NextUploadIdMarker",Xi="NoncurrentVersionExpiration",m0="NextVersionIdMarker",$0="NoncurrentVersionTransitions",V0="NoncurrentVersionTransition",je="Owner",zz="ObjectAttributes",vde="OwnershipControls",Tde="ObjectCannedACL",Rde="OwnershipControlsRule",Cc="OptionalFields",Ide="ObjectIdentifier",SA="ObjectKey",Uh="OutputLocation",kde="ObjectLockConfiguration",qh="ObjectLockEnabled",Uz="ObjectLockEnabledForBucket",Ode="ObjectLockLegalHold",ga="ObjectLockLegalHoldStatus",_l="ObjectLockMode",Nde="ObjectLockRetention",Cq="ObjectLockRetentionMode",hs="ObjectLockRetainUntilDate",Bde="ObjectLockRule",gu="ObjectOwnership",sl="OptionalObjectAttributes",Dde="OwnerOverride",f0="ObjectParts",Yi="OutputSerialization",vn="ObjectSizeGreaterThan",xq="ObjectSizeGreaterThanBytes",Tn="ObjectSizeLessThan",wq="ObjectSizeLessThanBytes",Wc="OutputSchemaVersion",g0="ObjectSize",Mde="ObjectVersionId",Lde="Objects",X="Prefix",Fde="PublicAccessBlockConfiguration",ol="PartsCount",Hh="PartitionDateSource",zde="ParquetInput",Wr="PartNumber",Fo="PartNumberMarker",Ji="PartitionedPrefix",jh="Payer",Pp="Part",h0="Parquet",pu="Parts",ms="Permission",zo="Protocol",Ni="Priority",wh="Quiet",$h="QueueArn",G0="QueueConfiguration",K0="QueueConfigurations",Aq="QuoteCharacter",Pq="QuoteEscapeCharacter",Ude="QuoteFields",W0="Queue",vq="Range",Qi="RedirectAllRequestsTo",bt="RequestCharged",Tq="ResponseCacheControl",Rq="ResponseContentDisposition",Iq="ResponseContentEncoding",kq="ResponseContentLanguage",Oq="ResponseContentType",qde="ReplicationConfiguration",EA="RecordDelimiter",Nq="ResponseExpires",Hde="RecordExpirationDays",p0="RestoreExpiryDate",fs="RecordExpiration",Vh="ReplicaKmsKeyID",Gh="ReplaceKeyPrefixWith",Kh="ReplaceKeyWith",Zi="ReplicaModifications",jde="ReplicaModificationsStatus",$de="RestoreOutputPath",et="RequestPayer",Xc="RestrictPublicBuckets",Vde="RequestPaymentConfiguration",Wh="RequestProgress",Gde="RequestRoute",Kde="ReplicationRuleAndOperator",Wde="ReplicationRuleFilter",Xde="ReplicationRuleStatus",Yde="RestoreRequestType",Jde="ReplicationRule",Qde="RestoreRequest",xc="RoutingRules",vp="RoutingRule",Zde="RenameSource",bA="ReplicationStatus",Yc="RestoreStatus",eue="RequestToken",tue="ReplicationTimeStatus",rue="ReplicationTimeValue",ea="ReplicationTime",Jc="RetainUntilDate",_A="Restore",ta="Redirect",Xh="Role",Xr="Rule",kn="Rules",Q="Status",Yh="StartAfter",y0="SecretAccessKey",S0="SseAlgorithm",Rn="S3BucketDestination",Ae="StorageClass",ra="StorageClassAnalysis",nue="StorageClassAnalysisDataExport",sue="StorageClassAnalysisSchemaVersion",qz="StatusCode",Hz="SkipDestinationValidation",oue="SourceIfMatch",jz="SourceIfModifiedSince",iue="SourceIfNoneMatch",$z="SourceIfUnmodifiedSince",Tp="SSE-KMS",na="SseKmsEncryptedObjects",aue="SseKmsEncryptedObjectsStatus",cue="S3KeyFilter",X0="S3Key",lue="S3Location",due="SessionMode",uue="SelectObjectContentRequest",Jh="SelectParameters",sa="SimplePrefix",Qh="ScanRange",Rp="SSE-S3",oa="SourceSelectionCriteria",kr="ServerSideEncryption",Qc="SSEAlgorithm",mue="ServerSideEncryptionByDefault",fue="ServerSideEncryptionConfiguration",Zt="SSECustomerAlgorithm",Hn="SSECustomerKey",er="SSECustomerKeyMD5",Y0="SSEKMS",$o="SSEKMSEncryptionContext",Sr="SSEKMSKeyId",gue="ServerSideEncryptionRule",J0="SSES3",E0="SessionToken",hue="S3TablesBucketArn",Zh="S3TablesDestination",b0="S3TablesDestinationResult",pue="S3TablesName",_0="S3",Zc="Schedule",Ah="Setting",yr="Size",Ph="Start",ep="Suffix",ia="Tagging",tp="TopicArn",js="TableArn",rp="TargetBucket",$s="TableBucketArn",C0="TableBucketType",Ip="TagCount",Q0="TopicConfiguration",Z0="TopicConfigurations",yue="TaggingDirective",CA="TransitionDefaultMinimumObjectSize",wc="TargetGrants",Sue="TargetGrant",In="TableName",el="TableNamespace",aa="TargetObjectKeyFormat",np="TargetPrefix",Eue="TotalPartsCount",Ln="TagSet",bue="TableSseAlgorithm",Bq="TransitionStorageClass",tl="TableStatus",xe="Tag",Ir="Tags",Dq="Tier",eA="Tierings",tA="Tiering",rl="Time",Mq="Token",rA="Topic",nA="Transitions",sA="Transition",Yr="Type",Vz="Upload",Jr="UploadId",sp="UploadIdMarker",_ue="UserMetadata",op="URI",Gz="Uploads",Kz="Version",Lq="VersionCount",Cue="VersioningConfiguration",Te="VersionId",ip="VersionIdMarker",on="Value",Wz="Versions",xue="WebsiteConfiguration",Xz="WriteOffsetBytes",xu="WebsiteRedirectLocation",Bi="Years",RS="analytics",Fq="accelerate",IS="acl",zq="accept-ranges",wue="attributes",Aue="bucket-region",xA="cors",wu="cache-control",Au="content-disposition",Pu="content-encoding",vu="content-language",la="content-length",kt="content-md5",Uq="content-range",Tu="content-type",ha="continuation-token",Pue="delete",kS="delimiter",da="expires",wA="encryption",OS="encoding-type",NS="etag",qq="expiresstring",vue="fetch-owner",On="id",Cl="if-match",AA="if-modified-since",BS="inventory",Ru="if-none-match",DS="intelligent-tiering",PA="if-unmodified-since",Hq="key-marker",vA="lifecycle",jq="legal-hold",il="last-modified",$q="location",Vq="logging",Tue="list-type",MS="metrics",TA="metadataConfiguration",Rue="metadataInventoryTable",Iue="metadataJournalTable",RA="metadataTable",kue="marker",Oue="max-buckets",Nue="max-directory-buckets",tr="member",IA="max-keys",Bue="max-parts",Due="max-uploads",Gq="notification",kA="ownershipControls",Kq="object-lock",OA="policy",NA="publicAccessBlock",LS="partNumber",Mue="policyStatus",Lue="part-number-marker",Iu="prefix",BA="replication",Fue="renameObject",Wq="requestPayment",Xq="range",Yq="response-cache-control",Jq="response-content-disposition",Qq="response-content-encoding",Zq="response-content-language",e2="response-content-type",t2="response-expires",zue="restore",r2="retention",Uue="session",que="start-after",Hue="select",jue="select-type",xl="tagging",$ue="torrent",n2="uploads",ku="uploadId",Vue="upload-id-marker",s2="versioning",Qr="versionId",Ge='<?xml version="1.0" encoding="UTF-8"?>',Gue="versions",Kue="version-id-marker",DA="website",Yz="xsi:type",wl="x-amz-acl",kp="x-amz-abort-date",Jz="x-amz-access-point-alias",o2="x-amz-abort-rule-id",Wue="x-amz-archive-status",i2="x-amz-bucket-arn",MA="x-amz-bypass-governance-retention",Xue="x-amz-bucket-location-name",Yue="x-amz-bucket-location-type",Jue="x-amz-bucket-object-lock-enabled",a2="x-amz-bucket-object-lock-token",Que="x-amz-bucket-region",LA="x-amz-checksum-algorithm",pa="x-amz-checksum-crc32",ya="x-amz-checksum-crc32c",Sa="x-amz-checksum-crc64nvme",c2="x-amz-checksum-mode",Zue="x-amz-confirm-remove-self-bucket-access",Ea="x-amz-checksum-sha1",ba="x-amz-checksum-sha256",l2="x-amz-copy-source",d2="x-amz-copy-source-if-match",u2="x-amz-copy-source-if-modified-since",m2="x-amz-copy-source-if-none-match",f2="x-amz-copy-source-if-unmodified-since",eme="x-amz-create-session-mode",tme="x-amz-copy-source-range",g2="x-amz-copy-source-server-side-encryption-customer-algorithm",h2="x-amz-copy-source-server-side-encryption-customer-key",p2="x-amz-copy-source-server-side-encryption-customer-key-md5",y2="x-amz-copy-source-version-id",Al="x-amz-checksum-type",rme="x-amz-client-token",qo="x-amz-delete-marker",Ou="x-amz-expiration",K="x-amz-expected-bucket-owner",nme="x-amz-fwd-error-code",sme="x-amz-fwd-error-message",ome="x-amz-fwd-header-accept-ranges",ime="x-amz-fwd-header-cache-control",ame="x-amz-fwd-header-content-disposition",cme="x-amz-fwd-header-content-encoding",lme="x-amz-fwd-header-content-language",dme="x-amz-fwd-header-content-range",ume="x-amz-fwd-header-content-type",mme="x-amz-fwd-header-etag",fme="x-amz-fwd-header-expires",gme="x-amz-fwd-header-last-modified",hme="x-amz-fwd-header-x-amz-checksum-crc32",pme="x-amz-fwd-header-x-amz-checksum-crc32c",yme="x-amz-fwd-header-x-amz-checksum-crc64nvme",Sme="x-amz-fwd-header-x-amz-checksum-sha1",Eme="x-amz-fwd-header-x-amz-checksum-sha256",bme="x-amz-fwd-header-x-amz-delete-marker",_me="x-amz-fwd-header-x-amz-expiration",Cme="x-amz-fwd-header-x-amz-missing-meta",xme="x-amz-fwd-header-x-amz-mp-parts-count",wme="x-amz-fwd-header-x-amz-object-lock-legal-hold",Ame="x-amz-fwd-header-x-amz-object-lock-mode",Pme="x-amz-fwd-header-x-amz-object-lock-retain-until-date",vme="x-amz-fwd-header-x-amz-restore",Tme="x-amz-fwd-header-x-amz-request-charged",Rme="x-amz-fwd-header-x-amz-replication-status",Ime="x-amz-fwd-header-x-amz-storage-class",kme="x-amz-fwd-header-x-amz-server-side-encryption",Ome="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",Nme="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",Bme="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",Dme="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",Mme="x-amz-fwd-header-x-amz-tagging-count",Lme="x-amz-fwd-header-x-amz-version-id",Fme="x-amz-fwd-status",Pl="x-amz-grant-full-control",vl="x-amz-grant-read",Tl="x-amz-grant-read-acp",FA="x-amz-grant-write",Rl="x-amz-grant-write-acp",zme="x-amz-if-match-initiated-time",Ume="x-amz-if-match-last-modified-time",qme="x-amz-if-match-size",zA="x-amz-mfa",Hme="x-amz-metadata-directive",Op="x-amz-missing-meta",jme="x-amz-mp-object-size",$me="x-amz-max-parts",Np="x-amz-mp-parts-count",Vme="x-amz-object-attributes",Nu="x-amz-object-lock-legal-hold",Bu="x-amz-object-lock-mode",ua="x-amz-object-lock-retain-until-date",Gme="x-amz-object-ownership",UA="x-amz-optional-object-attributes",Qz="x-amz-object-size",Kme="x-amz-part-number-marker",S2="x-amz-restore",_t="x-amz-request-charged",Wme="x-amz-restore-output-path",tt="x-amz-request-payer",Xme="x-amz-request-route",Yme="x-amz-rename-source",E2="x-amz-replication-status",Jme="x-amz-rename-source-if-match",Qme="x-amz-rename-source-if-modified-since",Zme="x-amz-rename-source-if-none-match",efe="x-amz-rename-source-if-unmodified-since",tfe="x-amz-request-token",Du="x-amz-storage-class",ht="x-amz-sdk-checksum-algorithm",rfe="x-amz-skip-destination-validation",b2="x-amz-source-expected-bucket-owner",an="x-amz-server-side-encryption",cn="x-amz-server-side-encryption-aws-kms-key-id",Mt="x-amz-server-side-encryption-bucket-key-enabled",Vo="x-amz-server-side-encryption-context",dr="x-amz-server-side-encryption-customer-algorithm",jn="x-amz-server-side-encryption-customer-key",ur="x-amz-server-side-encryption-customer-key-md5",qA="x-amz-tagging",Bp="x-amz-tagging-count",nfe="x-amz-tagging-directive",HA="x-amz-transition-default-minimum-object-size",ps="x-amz-version-id",sfe="x-amz-write-offset-bytes",Mu="x-amz-website-redirect-location",mr="x-id",yu=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(aU,iU).ser(GZ).de(Hte).build(){},ofe=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},ife=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),afe=(e,r)=>{let t=Object.assign(wz.getAwsRegionExtensionConfiguration(e),i.getDefaultExtensionConfiguration(e),x0.getHttpHandlerExtensionConfiguration(e),ofe(e));return r.forEach(n=>n.configure(t)),Object.assign(e,wz.resolveAwsRegionExtensionConfiguration(t),i.resolveDefaultRuntimeConfig(t),x0.resolveHttpHandlerRuntimeConfig(t),ife(t))},Ho=class extends i.Client{config;constructor(...[r]){let t=EQ.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=_Q(t),s=_z.resolveUserAgentConfig(n),o=Ze.resolveFlexibleChecksumsConfig(s),a=Cz.resolveRetryConfig(o),c=hQ.resolveRegionConfig(a),l=bz.resolveHostHeaderConfig(c),d=q.resolveEndpointConfig(l),f=pQ.resolveEventStreamSerdeConfig(d),g=xz.resolveHttpAuthSchemeConfig(f),y=ee.resolveS3Config(g,{session:[()=>this,yu]}),h=afe(y,r?.extensions||[]);this.config=h,this.middlewareStack.use(_z.getUserAgentPlugin(this.config)),this.middlewareStack.use(Cz.getRetryPlugin(this.config)),this.middlewareStack.use(yQ.getContentLengthPlugin(this.config)),this.middlewareStack.use(bz.getHostHeaderPlugin(this.config)),this.middlewareStack.use(fQ.getLoggerPlugin(this.config)),this.middlewareStack.use(gQ.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(z.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:xz.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async _=>new z.DefaultIdentityProviderConfig({"aws.auth#sigv4":_.credentials,"aws.auth#sigv4a":_.credentials})})),this.middlewareStack.use(z.getHttpSigningPlugin(this.config)),this.middlewareStack.use(ee.getValidateBucketNamePlugin(this.config)),this.middlewareStack.use(mQ.getAddExpectContinuePlugin(this.config)),this.middlewareStack.use(ee.getRegionRedirectMiddlewarePlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressPlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Dp=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(zZ).de(Dte).build(){},Mp=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(eU,Zz).ser(UZ).de(Mte).build(){},Lp=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(rU,tU).ser(qZ).de(Lte).build(){},Fp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),bQ.getLocationConstraintPlugin(n)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(HZ).de(Fte).build(){},zp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(jZ).de(zte).build(){},Up=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser($Z).de(Ute).build(){},qp=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(sU,nU).ser(VZ).de(qte).build(){},Hp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(WZ).de($te).build(){},jp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(KZ).de(jte).build(){},$p=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(XZ).de(Vte).build(){},Vp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(YZ).de(Gte).build(){},Gp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(JZ).de(Kte).build(){},Kp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(QZ).de(Wte).build(){},Wp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(ZZ).de(Xte).build(){},Xp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(eee).de(Yte).build(){},Yp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(tee).de(Jte).build(){},Jp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(ree).de(Qte).build(){},Qp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(nee).de(Zte).build(){},Zp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(see).de(ere).build(){},ey=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(oee).de(tre).build(){},ty=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(iee).de(rre).build(){},ry=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(aee).de(nre).build(){},ny=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(cee).de(sre).build(){},sy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(lee).de(ore).build(){},oy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(dee).de(ire).build(){},iy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(uee).de(are).build(){},ay=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(mee).de(cre).build(){},cy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(fee).de(lre).build(){},ly=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(gee).de(dre).build(){},dy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(hee).de(ure).build(){},uy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,dU).ser(pee).de(mre).build(){},my=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(yee).de(fre).build(){},fy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,hU).ser(See).de(gre).build(){},gy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(Eee).de(hre).build(){},hy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(bee).de(pre).build(){},py=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(_ee).de(yre).build(){},yy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(Cee).de(Sre).build(){},Sy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(xee).de(Ere).build(){},Ey=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(wee).de(bre).build(){},by=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(Aee).de(_re).build(){},_y=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(Pee).de(Cre).build(){},Cy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(vee).de(xre).build(){},xy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(Tee).de(wre).build(){},wy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(Ree).de(Are).build(){},Ay=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(Iee).de(Pre).build(){},Py=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(kee).de(vre).build(){},vy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(Oee).de(Tre).build(){},Ty=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(Nee).de(Rre).build(){},Ry=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(Dee).de(kre).build(){},Iy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(SU,void 0).ser(Mee).de(Ore).build(){},ky=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),qn.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(yU,pU).ser(Bee).de(Ire).build(){},Oy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(Lee).de(Nre).build(){},Ny=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(Fee).de(Bre).build(){},By=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(zee).de(Dre).build(){},Dy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(Uee).de(Mre).build(){},My=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,EU).ser(qee).de(Lre).build(){},Ly=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(Hee).de(Fre).build(){},al=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(jee).de(zre).build(){},cl=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(_U,bU).ser($ee).de(Ure).build(){},Fy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(Vee).de(qre).build(){},zy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(Gee).de(Hre).build(){},Uy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,CU).ser(Kee).de(jre).build(){},qy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Wee).de($re).build(){},Su=class extends i.Command.classBuilder().ep(j).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(Xee).de(Vre).build(){},Eu=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(Yee).de(Gre).build(){},Hy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(Jee).de(Kre).build(){},jy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(Qee).de(Wre).build(){},bu=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(Zee).de(Xre).build(){},$y=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(ete).de(Yre).build(){},_u=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(xU,void 0).ser(tte).de(Jre).build(){},Vy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(rte).de(Qre).build(){},Gy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(nte).de(Zre).build(){},Ky=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(ste).de(ene).build(){},Wy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(ote).de(tne).build(){},Xy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(wU,void 0).ser(ite).de(rne).build(){},Yy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(ate).de(nne).build(){},Jy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(AU,void 0).ser(cte).de(sne).build(){},Qy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(lte).de(one).build(){},Zy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(dte).de(ine).build(){},eS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(ute).de(ane).build(){},tS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(mte).de(cne).build(){},rS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(fte).de(lne).build(){},nS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(gte).de(dne).build(){},sS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(hte).de(une).build(){},oS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(pte).de(mne).build(){},iS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(yte).de(fne).build(){},aS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(Ste).de(gne).build(){},cS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(Ete).de(hne).build(){},lS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(_te).de(yne).build(){},dS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getCheckContentLengthHeaderPlugin(n),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(vU,PU).ser(bte).de(pne).build(){},uS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(Cte).de(Sne).build(){},mS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(xte).de(Ene).build(){},fS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(wte).de(bne).build(){},gS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(Ate).de(_ne).build(){},hS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(Pte).de(Cne).build(){},pS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(vte).de(xne).build(){},yS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(OU,void 0).ser(Tte).de(wne).build(){},SS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(BU,NU).ser(Rte).de(Ane).build(){},ES=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(Ite).de(Pne).build(){},bS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(kte).de(vne).build(){},_S=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),Ze.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(MU,DU).ser(Ote).de(Tne).build(){},CS=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),qn.getSsecPlugin(n)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(FU,LU).ser(Nte).de(Rne).build(){},xS=class extends i.Command.classBuilder().ep({...j,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(zU,void 0).ser(Bte).de(Ine).build(){},cfe={AbortMultipartUploadCommand:Dp,CompleteMultipartUploadCommand:Mp,CopyObjectCommand:Lp,CreateBucketCommand:Fp,CreateBucketMetadataConfigurationCommand:zp,CreateBucketMetadataTableConfigurationCommand:Up,CreateMultipartUploadCommand:qp,CreateSessionCommand:yu,DeleteBucketCommand:jp,DeleteBucketAnalyticsConfigurationCommand:Hp,DeleteBucketCorsCommand:$p,DeleteBucketEncryptionCommand:Vp,DeleteBucketIntelligentTieringConfigurationCommand:Gp,DeleteBucketInventoryConfigurationCommand:Kp,DeleteBucketLifecycleCommand:Wp,DeleteBucketMetadataConfigurationCommand:Xp,DeleteBucketMetadataTableConfigurationCommand:Yp,DeleteBucketMetricsConfigurationCommand:Jp,DeleteBucketOwnershipControlsCommand:Qp,DeleteBucketPolicyCommand:Zp,DeleteBucketReplicationCommand:ey,DeleteBucketTaggingCommand:ty,DeleteBucketWebsiteCommand:ry,DeleteObjectCommand:ny,DeleteObjectsCommand:sy,DeleteObjectTaggingCommand:oy,DeletePublicAccessBlockCommand:iy,GetBucketAccelerateConfigurationCommand:ay,GetBucketAclCommand:cy,GetBucketAnalyticsConfigurationCommand:ly,GetBucketCorsCommand:dy,GetBucketEncryptionCommand:uy,GetBucketIntelligentTieringConfigurationCommand:my,GetBucketInventoryConfigurationCommand:fy,GetBucketLifecycleConfigurationCommand:gy,GetBucketLocationCommand:hy,GetBucketLoggingCommand:py,GetBucketMetadataConfigurationCommand:yy,GetBucketMetadataTableConfigurationCommand:Sy,GetBucketMetricsConfigurationCommand:Ey,GetBucketNotificationConfigurationCommand:by,GetBucketOwnershipControlsCommand:_y,GetBucketPolicyCommand:Cy,GetBucketPolicyStatusCommand:xy,GetBucketReplicationCommand:wy,GetBucketRequestPaymentCommand:Ay,GetBucketTaggingCommand:Py,GetBucketVersioningCommand:vy,GetBucketWebsiteCommand:Ty,GetObjectCommand:ky,GetObjectAclCommand:Ry,GetObjectAttributesCommand:Iy,GetObjectLegalHoldCommand:Oy,GetObjectLockConfigurationCommand:Ny,GetObjectRetentionCommand:By,GetObjectTaggingCommand:Dy,GetObjectTorrentCommand:My,GetPublicAccessBlockCommand:Ly,HeadBucketCommand:al,HeadObjectCommand:cl,ListBucketAnalyticsConfigurationsCommand:Fy,ListBucketIntelligentTieringConfigurationsCommand:zy,ListBucketInventoryConfigurationsCommand:Uy,ListBucketMetricsConfigurationsCommand:qy,ListBucketsCommand:Su,ListDirectoryBucketsCommand:Eu,ListMultipartUploadsCommand:Hy,ListObjectsCommand:jy,ListObjectsV2Command:bu,ListObjectVersionsCommand:$y,ListPartsCommand:_u,PutBucketAccelerateConfigurationCommand:Vy,PutBucketAclCommand:Gy,PutBucketAnalyticsConfigurationCommand:Ky,PutBucketCorsCommand:Wy,PutBucketEncryptionCommand:Xy,PutBucketIntelligentTieringConfigurationCommand:Yy,PutBucketInventoryConfigurationCommand:Jy,PutBucketLifecycleConfigurationCommand:Qy,PutBucketLoggingCommand:Zy,PutBucketMetricsConfigurationCommand:eS,PutBucketNotificationConfigurationCommand:tS,PutBucketOwnershipControlsCommand:rS,PutBucketPolicyCommand:nS,PutBucketReplicationCommand:sS,PutBucketRequestPaymentCommand:oS,PutBucketTaggingCommand:iS,PutBucketVersioningCommand:aS,PutBucketWebsiteCommand:cS,PutObjectCommand:dS,PutObjectAclCommand:lS,PutObjectLegalHoldCommand:uS,PutObjectLockConfigurationCommand:mS,PutObjectRetentionCommand:fS,PutObjectTaggingCommand:gS,PutPublicAccessBlockCommand:hS,RenameObjectCommand:pS,RestoreObjectCommand:yS,SelectObjectContentCommand:SS,UpdateBucketMetadataInventoryTableConfigurationCommand:ES,UpdateBucketMetadataJournalTableConfigurationCommand:bS,UploadPartCommand:_S,UploadPartCopyCommand:CS,WriteGetObjectResponseCommand:xS},wS=class extends Ho{};i.createAggregatedClient(cfe,wS);var lfe=z.createPaginator(Ho,Su,"ContinuationToken","ContinuationToken","MaxBuckets"),dfe=z.createPaginator(Ho,Eu,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),ufe=z.createPaginator(Ho,bu,"ContinuationToken","NextContinuationToken","MaxKeys"),mfe=z.createPaginator(Ho,_u,"PartNumberMarker","NextPartNumberMarker","MaxParts"),_2=async(e,r)=>{let t;try{return t=await e.send(new al(r)),{state:Dt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.RETRY,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},ffe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,_2)},gfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,_2);return Dt.checkExceptions(n)},C2=async(e,r)=>{let t;try{t=await e.send(new al(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.SUCCESS,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},hfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,C2)},pfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,C2);return Dt.checkExceptions(n)},x2=async(e,r)=>{let t;try{return t=await e.send(new cl(r)),{state:Dt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.RETRY,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},yfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,x2)},Sfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,x2);return Dt.checkExceptions(n)},w2=async(e,r)=>{let t;try{t=await e.send(new cl(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Dt.WaiterState.SUCCESS,reason:t}}return{state:Dt.WaiterState.RETRY,reason:t}},Efe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Dt.createWaiter({...t,...e},r,w2)},bfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Dt.createWaiter({...t,...e},r,w2);return Dt.checkExceptions(n)};Object.defineProperty(S,"$Command",{enumerable:!0,get:function(){return i.Command}});Object.defineProperty(S,"__Client",{enumerable:!0,get:function(){return i.Client}});S.AbortMultipartUploadCommand=Dp;S.AnalyticsS3ExportFileFormat=KQ;S.ArchiveStatus=AZ;S.BucketAccelerateStatus=wQ;S.BucketAlreadyExists=lp;S.BucketAlreadyOwnedByYou=dp;S.BucketCannedACL=LQ;S.BucketLocationConstraint=qQ;S.BucketLogsPermission=sZ;S.BucketType=zQ;S.BucketVersioningStatus=SZ;S.ChecksumAlgorithm=kQ;S.ChecksumMode=_Z;S.ChecksumType=TQ;S.CompleteMultipartUploadCommand=Mp;S.CompleteMultipartUploadOutputFilterSensitiveLog=Zz;S.CompleteMultipartUploadRequestFilterSensitiveLog=eU;S.CompressionType=NZ;S.CopyObjectCommand=Lp;S.CopyObjectOutputFilterSensitiveLog=tU;S.CopyObjectRequestFilterSensitiveLog=rU;S.CreateBucketCommand=Fp;S.CreateBucketMetadataConfigurationCommand=zp;S.CreateBucketMetadataTableConfigurationCommand=Up;S.CreateMultipartUploadCommand=qp;S.CreateMultipartUploadOutputFilterSensitiveLog=nU;S.CreateMultipartUploadRequestFilterSensitiveLog=sU;S.CreateSessionCommand=yu;S.CreateSessionOutputFilterSensitiveLog=iU;S.CreateSessionRequestFilterSensitiveLog=aU;S.DataRedundancy=FQ;S.DeleteBucketAnalyticsConfigurationCommand=Hp;S.DeleteBucketCommand=jp;S.DeleteBucketCorsCommand=$p;S.DeleteBucketEncryptionCommand=Vp;S.DeleteBucketIntelligentTieringConfigurationCommand=Gp;S.DeleteBucketInventoryConfigurationCommand=Kp;S.DeleteBucketLifecycleCommand=Wp;S.DeleteBucketMetadataConfigurationCommand=Xp;S.DeleteBucketMetadataTableConfigurationCommand=Yp;S.DeleteBucketMetricsConfigurationCommand=Jp;S.DeleteBucketOwnershipControlsCommand=Qp;S.DeleteBucketPolicyCommand=Zp;S.DeleteBucketReplicationCommand=ey;S.DeleteBucketTaggingCommand=ty;S.DeleteBucketWebsiteCommand=ry;S.DeleteMarkerReplicationStatus=lZ;S.DeleteObjectCommand=ny;S.DeleteObjectTaggingCommand=oy;S.DeleteObjectsCommand=sy;S.DeletePublicAccessBlockCommand=iy;S.EncodingType=PZ;S.EncryptionFilterSensitiveLog=TU;S.EncryptionTypeMismatch=hp;S.Event=aZ;S.ExistingObjectReplicationStatus=mZ;S.ExpirationState=VQ;S.ExpirationStatus=rZ;S.ExpressionType=OZ;S.FileHeaderInfo=BZ;S.FilterRuleName=cZ;S.GetBucketAccelerateConfigurationCommand=ay;S.GetBucketAclCommand=cy;S.GetBucketAnalyticsConfigurationCommand=ly;S.GetBucketCorsCommand=dy;S.GetBucketEncryptionCommand=uy;S.GetBucketEncryptionOutputFilterSensitiveLog=dU;S.GetBucketIntelligentTieringConfigurationCommand=my;S.GetBucketInventoryConfigurationCommand=fy;S.GetBucketInventoryConfigurationOutputFilterSensitiveLog=hU;S.GetBucketLifecycleConfigurationCommand=gy;S.GetBucketLocationCommand=hy;S.GetBucketLoggingCommand=py;S.GetBucketMetadataConfigurationCommand=yy;S.GetBucketMetadataTableConfigurationCommand=Sy;S.GetBucketMetricsConfigurationCommand=Ey;S.GetBucketNotificationConfigurationCommand=by;S.GetBucketOwnershipControlsCommand=_y;S.GetBucketPolicyCommand=Cy;S.GetBucketPolicyStatusCommand=xy;S.GetBucketReplicationCommand=wy;S.GetBucketRequestPaymentCommand=Ay;S.GetBucketTaggingCommand=Py;S.GetBucketVersioningCommand=vy;S.GetBucketWebsiteCommand=Ty;S.GetObjectAclCommand=Ry;S.GetObjectAttributesCommand=Iy;S.GetObjectAttributesRequestFilterSensitiveLog=SU;S.GetObjectCommand=ky;S.GetObjectLegalHoldCommand=Oy;S.GetObjectLockConfigurationCommand=Ny;S.GetObjectOutputFilterSensitiveLog=pU;S.GetObjectRequestFilterSensitiveLog=yU;S.GetObjectRetentionCommand=By;S.GetObjectTaggingCommand=Dy;S.GetObjectTorrentCommand=My;S.GetObjectTorrentOutputFilterSensitiveLog=EU;S.GetPublicAccessBlockCommand=Ly;S.HeadBucketCommand=al;S.HeadObjectCommand=cl;S.HeadObjectOutputFilterSensitiveLog=bU;S.HeadObjectRequestFilterSensitiveLog=_U;S.IdempotencyParameterMismatch=Ep;S.IntelligentTieringAccessTier=YQ;S.IntelligentTieringStatus=XQ;S.InvalidObjectState=mp;S.InvalidRequest=pp;S.InvalidWriteOffset=yp;S.InventoryConfigurationFilterSensitiveLog=AS;S.InventoryConfigurationState=jQ;S.InventoryDestinationFilterSensitiveLog=gU;S.InventoryEncryptionFilterSensitiveLog=mU;S.InventoryFormat=JQ;S.InventoryFrequency=eZ;S.InventoryIncludedObjectVersions=QQ;S.InventoryOptionalField=ZQ;S.InventoryS3BucketDestinationFilterSensitiveLog=fU;S.JSONType=DZ;S.ListBucketAnalyticsConfigurationsCommand=Fy;S.ListBucketIntelligentTieringConfigurationsCommand=zy;S.ListBucketInventoryConfigurationsCommand=Uy;S.ListBucketInventoryConfigurationsOutputFilterSensitiveLog=CU;S.ListBucketMetricsConfigurationsCommand=qy;S.ListBucketsCommand=Su;S.ListDirectoryBucketsCommand=Eu;S.ListMultipartUploadsCommand=Hy;S.ListObjectVersionsCommand=$y;S.ListObjectsCommand=jy;S.ListObjectsV2Command=bu;S.ListPartsCommand=_u;S.ListPartsRequestFilterSensitiveLog=xU;S.LocationType=UQ;S.MFADelete=IZ;S.MFADeleteStatus=yZ;S.MetadataDirective=OQ;S.MetricsStatus=dZ;S.NoSuchBucket=up;S.NoSuchKey=fp;S.NoSuchUpload=ap;S.NotFound=gp;S.ObjectAlreadyInActiveTierError=bp;S.ObjectAttributes=CZ;S.ObjectCannedACL=IQ;S.ObjectLockEnabled=xZ;S.ObjectLockLegalHoldStatus=NQ;S.ObjectLockMode=BQ;S.ObjectLockRetentionMode=wZ;S.ObjectNotInActiveTierError=cp;S.ObjectOwnership=HQ;S.ObjectStorageClass=vZ;S.ObjectVersionStorageClass=RZ;S.OptionalObjectAttributes=TZ;S.OutputLocationFilterSensitiveLog=IU;S.OwnerOverride=vQ;S.PartitionDateSource=oZ;S.Payer=pZ;S.Permission=PQ;S.Protocol=EZ;S.PutBucketAccelerateConfigurationCommand=Vy;S.PutBucketAclCommand=Gy;S.PutBucketAnalyticsConfigurationCommand=Ky;S.PutBucketCorsCommand=Wy;S.PutBucketEncryptionCommand=Xy;S.PutBucketEncryptionRequestFilterSensitiveLog=wU;S.PutBucketIntelligentTieringConfigurationCommand=Yy;S.PutBucketInventoryConfigurationCommand=Jy;S.PutBucketInventoryConfigurationRequestFilterSensitiveLog=AU;S.PutBucketLifecycleConfigurationCommand=Qy;S.PutBucketLoggingCommand=Zy;S.PutBucketMetricsConfigurationCommand=eS;S.PutBucketNotificationConfigurationCommand=tS;S.PutBucketOwnershipControlsCommand=rS;S.PutBucketPolicyCommand=nS;S.PutBucketReplicationCommand=sS;S.PutBucketRequestPaymentCommand=oS;S.PutBucketTaggingCommand=iS;S.PutBucketVersioningCommand=aS;S.PutBucketWebsiteCommand=cS;S.PutObjectAclCommand=lS;S.PutObjectCommand=dS;S.PutObjectLegalHoldCommand=uS;S.PutObjectLockConfigurationCommand=mS;S.PutObjectOutputFilterSensitiveLog=PU;S.PutObjectRequestFilterSensitiveLog=vU;S.PutObjectRetentionCommand=fS;S.PutObjectTaggingCommand=gS;S.PutPublicAccessBlockCommand=hS;S.QuoteFields=MZ;S.RenameObjectCommand=pS;S.ReplicaModificationsStatus=fZ;S.ReplicationRuleStatus=hZ;S.ReplicationStatus=bZ;S.ReplicationTimeStatus=uZ;S.RequestCharged=CQ;S.RequestPayer=xQ;S.RestoreObjectCommand=yS;S.RestoreObjectRequestFilterSensitiveLog=OU;S.RestoreRequestFilterSensitiveLog=kU;S.RestoreRequestType=LZ;S.S3=wS;S.S3Client=Ho;S.S3LocationFilterSensitiveLog=RU;S.S3ServiceException=lr;S.S3TablesBucketType=iZ;S.SSEKMSFilterSensitiveLog=uU;S.SelectObjectContentCommand=SS;S.SelectObjectContentEventStreamFilterSensitiveLog=FZ;S.SelectObjectContentOutputFilterSensitiveLog=NU;S.SelectObjectContentRequestFilterSensitiveLog=BU;S.ServerSideEncryption=RQ;S.ServerSideEncryptionByDefaultFilterSensitiveLog=cU;S.ServerSideEncryptionConfigurationFilterSensitiveLog=oA;S.ServerSideEncryptionRuleFilterSensitiveLog=lU;S.SessionCredentialsFilterSensitiveLog=oU;S.SessionMode=GQ;S.SseKmsEncryptedObjectsStatus=gZ;S.StorageClass=DQ;S.StorageClassAnalysisSchemaVersion=WQ;S.TableSseAlgorithm=$Q;S.TaggingDirective=MQ;S.Tier=kZ;S.TooManyParts=Sp;S.TransitionDefaultMinimumObjectSize=nZ;S.TransitionStorageClass=tZ;S.Type=AQ;S.UpdateBucketMetadataInventoryTableConfigurationCommand=ES;S.UpdateBucketMetadataJournalTableConfigurationCommand=bS;S.UploadPartCommand=_S;S.UploadPartCopyCommand=CS;S.UploadPartCopyOutputFilterSensitiveLog=LU;S.UploadPartCopyRequestFilterSensitiveLog=FU;S.UploadPartOutputFilterSensitiveLog=DU;S.UploadPartRequestFilterSensitiveLog=MU;S.WriteGetObjectResponseCommand=xS;S.WriteGetObjectResponseRequestFilterSensitiveLog=zU;S.paginateListBuckets=lfe;S.paginateListDirectoryBuckets=dfe;S.paginateListObjectsV2=ufe;S.paginateListParts=mfe;S.waitForBucketExists=ffe;S.waitForBucketNotExists=hfe;S.waitForObjectExists=yfe;S.waitForObjectNotExists=Efe;S.waitUntilBucketExists=gfe;S.waitUntilBucketNotExists=pfe;S.waitUntilObjectExists=Sfe;S.waitUntilObjectNotExists=bfe});var vfe={};ln(vfe,{handler:()=>Pfe});module.exports=Re(vfe);var Go=k(A2()),v2=k(require("sharp")),T2=process.env.UPLOADS_BUCKET||process.env.BUCKET,_a=process.env.DEST_BUCKET;if(!T2)throw new Error("Missing env UPLOADS_BUCKET (or BUCKET)");if(!_a)throw new Error("Missing env DEST_BUCKET");var _fe=process.env.DEST_PREFIX??process.env.THUMBS_PREFIX??"thumbs/",R2=String(_fe).replace(/^\/+|\/+$/g,"")+"/",P2=Math.max(1,parseInt(String(process.env.MAX_WIDTH??"360"),10)),Cfe=Math.min(100,Math.max(1,parseInt(String(process.env.JPEG_QUALITY??"80"),10))),jA=new Go.S3Client({});function xfe(e){return/\.(png|jpe?g|webp|gif|tiff|avif)$/i.test(e)}function $A(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/^\/*/,"")}function wfe(e){let r=$A(e);return(R2+r).replace(/\.[^.]+$/,".jpg")}function Afe(e,r){let t=$A(e);if(!/^users\//i.test(t))return!1;if(r===_a){let n=R2.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");if(new RegExp(`^${n}`,"i").test(t))return!1}return xfe(t)}var Pfe=async e=>{for(let r of e.Records??[]){let t=r.s3?.bucket?.name,n=r.s3?.object?.key;if(!t||!n)continue;if(t!==T2){console.log(`\u23ED\uFE0F  Ignoring event from bucket ${t}`);continue}let s=$A(n);if(!Afe(s,t)){console.log(`\u23ED\uFE0F  Skipping ${s}`);continue}let o=wfe(s);try{try{await jA.send(new Go.HeadObjectCommand({Bucket:_a,Key:o})),console.log(`\u2714\uFE0F  Thumb exists, skip: s3://${_a}/${o}`);continue}catch{}let c=await(await jA.send(new Go.GetObjectCommand({Bucket:t,Key:s}))).Body.transformToByteArray(),l=await(0,v2.default)(c).rotate().resize({width:P2,height:P2,fit:"inside",withoutEnlargement:!0}).jpeg({quality:Cfe,mozjpeg:!0}).toBuffer();await jA.send(new Go.PutObjectCommand({Bucket:_a,Key:o,Body:l,ContentType:"image/jpeg",CacheControl:"public, max-age=31536000, immutable",Metadata:{source:`${t}/${s}`}})),console.log(`\u2705 Generated: s3://${_a}/${o}`)}catch(a){console.error(`\u274C Failed for ${t}/${s} -> ${_a}/${o}:`,a)}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
