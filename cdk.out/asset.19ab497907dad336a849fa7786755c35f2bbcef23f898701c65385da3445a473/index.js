"use strict";var uH=Object.create;var qu=Object.defineProperty;var mH=Object.getOwnPropertyDescriptor;var fH=Object.getOwnPropertyNames;var gH=Object.getPrototypeOf,hH=Object.prototype.hasOwnProperty;var P=(e,r)=>()=>(e&&(r=e(e=0)),r);var B=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),dn=(e,r)=>{for(var t in r)qu(e,t,{get:r[t],enumerable:!0})},tP=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of fH(r))!hH.call(e,s)&&s!==t&&qu(e,s,{get:()=>r[s],enumerable:!(n=mH(r,s))||n.enumerable});return e};var k=(e,r,t)=>(t=e!=null?uH(gH(e)):{},tP(r||!e||!e.__esModule?qu(t,"default",{value:e,enumerable:!0}):t,e)),Re=e=>tP(qu({},"__esModule",{value:!0}),e);var Es=B(at=>{"use strict";at.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(at.HttpAuthLocation||(at.HttpAuthLocation={}));at.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(at.HttpApiKeyAuthLocation||(at.HttpApiKeyAuthLocation={}));at.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(at.EndpointURLScheme||(at.EndpointURLScheme={}));at.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(at.AlgorithmId||(at.AlgorithmId={}));var pH=e=>{let r=[];return e.sha256!==void 0&&r.push({algorithmId:()=>at.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&r.push({algorithmId:()=>at.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},yH=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},SH=e=>pH(e),EH=e=>yH(e);at.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(at.FieldPosition||(at.FieldPosition={}));var bH="__smithy_context";at.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(at.IniSectionType||(at.IniSectionType={}));at.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(at.RequestHandlerProtocol||(at.RequestHandlerProtocol={}));at.SMITHY_CONTEXT_KEY=bH;at.getDefaultClientConfiguration=SH;at.resolveDefaultRuntimeConfig=EH});var Xe=B(Js=>{"use strict";var _H=Es(),CH=e=>({setHttpHandler(r){e.httpHandler=r},httpHandler(){return e.httpHandler},updateHttpClientConfig(r,t){e.httpHandler?.updateHttpClientConfig(r,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),xH=e=>({httpHandler:e.httpHandler()}),VS=class{name;kind;values;constructor({name:r,kind:t=_H.FieldPosition.HEADER,values:n=[]}){this.name=r,this.kind=t,this.values=n}add(r){this.values.push(r)}set(r){this.values=r}remove(r){this.values=this.values.filter(t=>t!==r)}toString(){return this.values.map(r=>r.includes(",")||r.includes(" ")?`"${r}"`:r).join(", ")}get(){return this.values}},GS=class{entries={};encoding;constructor({fields:r=[],encoding:t="utf-8"}){r.forEach(this.setField.bind(this)),this.encoding=t}setField(r){this.entries[r.name.toLowerCase()]=r}getField(r){return this.entries[r.toLowerCase()]}removeField(r){delete this.entries[r.toLowerCase()]}getByType(r){return Object.values(this.entries).filter(t=>t.kind===r)}},KS=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(r){this.method=r.method||"GET",this.hostname=r.hostname||"localhost",this.port=r.port,this.query=r.query||{},this.headers=r.headers||{},this.body=r.body,this.protocol=r.protocol?r.protocol.slice(-1)!==":"?`${r.protocol}:`:r.protocol:"https:",this.path=r.path?r.path.charAt(0)!=="/"?`/${r.path}`:r.path:"/",this.username=r.username,this.password=r.password,this.fragment=r.fragment}static clone(r){let t=new e({...r,headers:{...r.headers}});return t.query&&(t.query=wH(t.query)),t}static isInstance(r){if(!r)return!1;let t=r;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return e.clone(this)}};function wH(e){return Object.keys(e).reduce((r,t)=>{let n=e[t];return{...r,[t]:Array.isArray(n)?[...n]:n}},{})}var WS=class{statusCode;reason;headers;body;constructor(r){this.statusCode=r.statusCode,this.reason=r.reason,this.headers=r.headers||{},this.body=r.body}static isInstance(r){if(!r)return!1;let t=r;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function AH(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Js.Field=VS;Js.Fields=GS;Js.HttpRequest=KS;Js.HttpResponse=WS;Js.getHttpHandlerExtensionConfiguration=CH;Js.isValidHostname=AH;Js.resolveHttpHandlerRuntimeConfig=xH});var oP=B((Mfe,sP)=>{"use strict";var Hu=Object.defineProperty,PH=Object.getOwnPropertyDescriptor,vH=Object.getOwnPropertyNames,TH=Object.prototype.hasOwnProperty,XS=(e,r)=>Hu(e,"name",{value:r,configurable:!0}),RH=(e,r)=>{for(var t in r)Hu(e,t,{get:r[t],enumerable:!0})},IH=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of vH(r))!TH.call(e,s)&&s!==t&&Hu(e,s,{get:()=>r[s],enumerable:!(n=PH(r,s))||n.enumerable});return e},kH=e=>IH(Hu({},"__esModule",{value:!0}),e),rP={};RH(rP,{addExpectContinueMiddleware:()=>YS,addExpectContinueMiddlewareOptions:()=>nP,getAddExpectContinuePlugin:()=>NH});sP.exports=kH(rP);var OH=Xe();function YS(e){return r=>async t=>{let{request:n}=t;return OH.HttpRequest.isInstance(n)&&n.body&&e.runtime==="node"&&e.requestHandler?.constructor?.name!=="FetchHttpHandler"&&(n.headers={...n.headers,Expect:"100-continue"}),r({...t,request:n})}}XS(YS,"addExpectContinueMiddleware");var nP={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},NH=XS(e=>({applyToStack:XS(r=>{r.add(YS(e),nP)},"applyToStack")}),"getAddExpectContinuePlugin")});var ju,Pa,iP=P(()=>{ju={warningEmitted:!1},Pa=e=>{e&&!ju.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(ju.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Qs(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var aP=P(()=>{});function cP(e,r,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[r]=t}var lP=P(()=>{});function dP(e,r,t){return e.$source||(e.$source={}),e.$source[r]=t,e}var uP=P(()=>{});var Zs={};dn(Zs,{emitWarningIfUnsupportedVersion:()=>Pa,setCredentialFeature:()=>Qs,setFeature:()=>cP,setTokenFeature:()=>dP,state:()=>ju});var Dn=P(()=>{iP();aP();lP();uP()});var mP,JS,fP=P(()=>{mP=k(Xe()),JS=e=>mP.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var va,QS=P(()=>{va=e=>new Date(Date.now()+e)});var gP,hP=P(()=>{QS();gP=(e,r)=>Math.abs(va(r).getTime()-e)>=3e5});var ZS,pP=P(()=>{hP();ZS=(e,r)=>{let t=Date.parse(e);return gP(t,r)?t-Date.now():r}});var eE=P(()=>{fP();QS();pP()});var yP,Bl,Ta,jr,tE,rE=P(()=>{yP=k(Xe());eE();Bl=(e,r)=>{if(!r)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return r},Ta=async e=>{let r=Bl("context",e.context),t=Bl("config",e.config),n=r.endpointV2?.properties?.authSchemes?.[0],o=await Bl("signer",t.signer)(n),a=e?.signingRegion,c=e?.signingRegionSet,l=e?.signingName;return{config:t,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}},jr=class{async sign(r,t,n){if(!yP.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Ta(n),{config:o,signer:a}=s,{signingRegion:c,signingName:l}=s,d=n.context;if(d?.authSchemes?.length??!1){let[g,y]=d.authSchemes;g?.name==="sigv4a"&&y?.name==="sigv4"&&(c=y?.signingRegion??c,l=y?.signingName??l)}return await a.sign(r,{signingDate:va(o.systemClockOffset),signingRegion:c,signingService:l})}errorHandler(r){return t=>{let n=t.ServerTime??JS(t.$response);if(n){let s=Bl("config",r.config),o=s.systemClockOffset;s.systemClockOffset=ZS(n,s.systemClockOffset),s.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(r,t){let n=JS(r);if(n){let s=Bl("config",t.config);s.systemClockOffset=ZS(n,s.systemClockOffset)}}},tE=jr});var SP,Dl,EP=P(()=>{SP=k(Xe());eE();rE();Dl=class extends jr{async sign(r,t,n){if(!SP.HttpRequest.isInstance(r))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:a,signingRegionSet:c,signingName:l}=await Ta(n),f=(await s.sigv4aSigningRegionSet?.()??c??[a]).join(",");return await o.sign(r,{signingDate:va(s.systemClockOffset),signingRegion:f,signingService:l})}}});var nE,bP=P(()=>{nE=e=>typeof e=="string"&&e.length>0?e.split(",").map(r=>r.trim()):[]});var $u,sE=P(()=>{$u=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var _P,CP,Ra,xP=P(()=>{bP();sE();_P="AWS_AUTH_SCHEME_PREFERENCE",CP="auth_scheme_preference",Ra={environmentVariableSelector:(e,r)=>{if(r?.signingName&&$u(r.signingName)in e)return["httpBearerAuth"];if(_P in e)return nE(e[_P])},configFileSelector:e=>{if(CP in e)return nE(e[CP])},default:[]}});var oE,BH,wP=P(()=>{oE=k(Es()),BH=e=>e[oE.SMITHY_CONTEXT_KEY]||(e[oE.SMITHY_CONTEXT_KEY]={})});var br=B(iE=>{"use strict";var AP=Es(),DH=e=>e[AP.SMITHY_CONTEXT_KEY]||(e[AP.SMITHY_CONTEXT_KEY]={}),MH=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r};iE.getSmithyContext=DH;iE.normalizeProvider=MH});var PP,vP=P(()=>{PP=(e,r)=>{if(!r||r.length===0)return e;let t=[];for(let n of r)for(let s of e)s.schemeId.split("#")[1]===n&&t.push(s);for(let n of e)t.find(({schemeId:s})=>s===n.schemeId)||t.push(n);return t}});function LH(e){let r=new Map;for(let t of e)r.set(t.schemeId,t);return r}var TP,Ml,Vu=P(()=>{TP=k(br());vP();Ml=(e,r)=>(t,n)=>async s=>{let o=e.httpAuthSchemeProvider(await r.httpAuthSchemeParametersProvider(e,n,s.input)),a=e.authSchemePreference?await e.authSchemePreference():[],c=PP(o,a),l=LH(e.httpAuthSchemes),d=(0,TP.getSmithyContext)(n),f=[];for(let g of c){let y=l.get(g.schemeId);if(!y){f.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}let h=y.identityProvider(await r.identityProviderConfigProvider(e));if(!h){f.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:_={},signingProperties:R={}}=g.propertiesExtractor?.(e,n)||{};g.identityProperties=Object.assign(g.identityProperties||{},_),g.signingProperties=Object.assign(g.signingProperties||{},R),d.selectedHttpAuthScheme={httpAuthOption:g,identity:await h(g.identityProperties),signer:y.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(f.join(`
`));return t(s)}});var RP,Ll,IP=P(()=>{Vu();RP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ll=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(Ml(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),RP)}})});var eo=B(Ia=>{"use strict";var FH=Xe(),kP=(e,r)=>(t,n)=>async s=>{let{response:o}=await t(s);try{let a=await r(o,e);return{response:o,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:o}),!("$metadata"in a)){let c="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{a.message+=`
  `+c}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(c):n.logger?.warn?.(c)}typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText);try{if(FH.HttpResponse.isInstance(o)){let{headers:l={}}=o,d=Object.entries(l);a.$metadata={httpStatusCode:o.statusCode,requestId:aE(/^x-[\w-]+-request-?id$/,d),extendedRequestId:aE(/^x-[\w-]+-id-2$/,d),cfId:aE(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw a}},aE=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1],OP=(e,r)=>(t,n)=>async s=>{let o=e,a=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!a)throw new Error("No valid endpoint provider available.");let c=await r(s.input,{...e,endpoint:a});return t({...s,request:c})},NP={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},BP={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function zH(e,r,t){return{applyToStack:n=>{n.add(kP(e,t),NP),n.add(OP(e,r),BP)}}}Ia.deserializerMiddleware=kP;Ia.deserializerMiddlewareOption=NP;Ia.getSerdePlugin=zH;Ia.serializerMiddleware=OP;Ia.serializerMiddlewareOption=BP});var DP,MP,UH,LP=P(()=>{DP=k(eo());Vu();MP={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:DP.serializerMiddlewareOption.name},UH=(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t})=>({applyToStack:n=>{n.addRelativeTo(Ml(e,{httpAuthSchemeParametersProvider:r,identityProviderConfigProvider:t}),MP)}})});var FP=P(()=>{Vu();IP();LP()});var zP,UP,qH,HH,cE,lE=P(()=>{zP=k(Xe()),UP=k(br()),qH=e=>r=>{throw r},HH=(e,r)=>{},cE=e=>(r,t)=>async n=>{if(!zP.HttpRequest.isInstance(n.request))return r(n);let o=(0,UP.getSmithyContext)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d=await r({...n,request:await l.sign(n.request,c,a)}).catch((l.errorHandler||qH)(a));return(l.successHandler||HH)(d.response,a),d}});var qP,Fl,HP=P(()=>{lE();qP={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Fl=e=>({applyToStack:r=>{r.addRelativeTo(cE(e),qP)}})});var jP=P(()=>{lE();HP()});var to,$P=P(()=>{to=e=>{if(typeof e=="function")return e;let r=Promise.resolve(e);return()=>r}});function VP(e,r,t,n,s){return async function*(a,c,...l){let d=c,f=a.startingToken??d[t],g=!0,y;for(;g;){if(d[t]=f,s&&(d[s]=d[s]??a.pageSize),a.client instanceof e)y=await jH(r,a.client,c,a.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let h=f;f=$H(y,n),g=!!(f&&(!a.stopOnSameToken||f!==h))}return void 0}}var jH,$H,GP=P(()=>{jH=async(e,r,t,n=o=>o,...s)=>{let o=new e(t);return o=n(o)??o,await r.send(o,...s)};$H=(e,r)=>{let t=e,n=r.split(".");for(let s of n){if(!t||typeof t!="object")return;t=t[s]}return t}});var Gu=B(KP=>{"use strict";var VH=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";KP.isArrayBuffer=VH});var ka=B(uE=>{"use strict";var GH=Gu(),dE=require("buffer"),KH=(e,r=0,t=e.byteLength-r)=>{if(!GH.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return dE.Buffer.from(e,r,t)},WH=(e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?dE.Buffer.from(e,r):dE.Buffer.from(e)};uE.fromArrayBuffer=KH;uE.fromString=WH});var WP=B(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.fromBase64=void 0;var XH=ka(),YH=/^[A-Za-z0-9+/]*={0,2}$/,JH=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!YH.exec(e))throw new TypeError("Invalid base64 string.");let r=(0,XH.fromString)(e,"base64");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)};Ku.fromBase64=JH});var Xt=B(Wu=>{"use strict";var XP=ka(),YP=e=>{let r=XP.fromString(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},QH=e=>typeof e=="string"?YP(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),ZH=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return XP.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Wu.fromUtf8=YP;Wu.toUint8Array=QH;Wu.toUtf8=ZH});var JP=B(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.toBase64=void 0;var ej=ka(),tj=Xt(),rj=e=>{let r;if(typeof e=="string"?r=(0,tj.fromUtf8)(e):r=e,typeof r!="object"||typeof r.byteOffset!="number"||typeof r.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,ej.fromArrayBuffer)(r.buffer,r.byteOffset,r.byteLength).toString("base64")};Xu.toBase64=rj});var gr=B(zl=>{"use strict";var QP=WP(),ZP=JP();Object.keys(QP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(zl,e)&&Object.defineProperty(zl,e,{enumerable:!0,get:function(){return QP[e]}})});Object.keys(ZP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(zl,e)&&Object.defineProperty(zl,e,{enumerable:!0,get:function(){return ZP[e]}})})});var fE=B(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.ChecksumStream=void 0;var nj=gr(),sj=require("stream"),mE=class extends sj.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:r,checksum:t,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??nj.toBase64,this.expectedChecksum=r,this.checksum=t,this.checksumSourceLocation=s,this.source.pipe(this)}_read(r){}_write(r,t,n){try{this.checksum.update(r),this.push(r)}catch(s){return n(s)}return n()}async _final(r){try{let t=await this.checksum.digest(),n=this.base64Encoder(t);if(this.expectedChecksum!==n)return r(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(t){return r(t)}return this.push(null),r()}};Yu.ChecksumStream=mE});var ro=B(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.isBlob=Oa.isReadableStream=void 0;var oj=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Oa.isReadableStream=oj;var ij=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Oa.isBlob=ij});var ev=B(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.ChecksumStream=void 0;var aj=typeof ReadableStream=="function"?ReadableStream:function(){},gE=class extends aj{};Ju.ChecksumStream=gE});var tv=B(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.createChecksumStream=void 0;var cj=gr(),lj=ro(),dj=ev(),uj=({expectedChecksum:e,checksum:r,source:t,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,lj.isReadableStream)(t))throw new Error(`@smithy/util-stream: unsupported source type ${t?.constructor?.name??t} in ChecksumStream.`);let o=s??cj.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let a=new TransformStream({start(){},async transform(l,d){r.update(l),d.enqueue(l)},async flush(l){let d=await r.digest(),f=o(d);if(e!==f){let g=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${n}".`);l.error(g)}else l.terminate()}});t.pipeThrough(a);let c=a.readable;return Object.setPrototypeOf(c,dj.ChecksumStream.prototype),c};Qu.createChecksumStream=uj});var rv=B(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.createChecksumStream=hj;var mj=ro(),fj=fE(),gj=tv();function hj(e){return typeof ReadableStream=="function"&&(0,mj.isReadableStream)(e.source)?(0,gj.createChecksumStream)(e):new fj.ChecksumStream(e)}});var yE=B(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.ByteArrayCollector=void 0;var pE=class{allocByteArray;byteLength=0;byteArrays=[];constructor(r){this.allocByteArray=r}push(r){this.byteArrays.push(r),this.byteLength+=r.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let r=this.allocByteArray(this.byteLength),t=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];r.set(s,t),t+=s.byteLength}return this.reset(),r}reset(){this.byteArrays=[],this.byteLength=0}};Zu.ByteArrayCollector=pE});var iv=B(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.createBufferedReadable=void 0;bs.createBufferedReadableStream=nv;bs.merge=sv;bs.flush=em;bs.sizeOf=Na;bs.modeOf=ov;var pj=yE();function nv(e,r,t){let n=e.getReader(),s=!1,o=0,a=["",new pj.ByteArrayCollector(d=>new Uint8Array(d))],c=-1,l=async d=>{let{value:f,done:g}=await n.read(),y=f;if(g){if(c!==-1){let h=em(a,c);Na(h)>0&&d.enqueue(h)}d.close()}else{let h=ov(y,!1);if(c!==h&&(c>=0&&d.enqueue(em(a,c)),c=h),c===-1){d.enqueue(y);return}let _=Na(y);o+=_;let R=Na(a[c]);if(_>=r&&R===0)d.enqueue(y);else{let I=sv(a,c,y);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${_} is below threshold of ${r}, automatically buffering.`)),I>=r?d.enqueue(em(a,c)):await l(d)}}};return new ReadableStream({pull:l})}bs.createBufferedReadable=nv;function sv(e,r,t){switch(r){case 0:return e[0]+=t,Na(e[0]);case 1:case 2:return e[r].push(t),Na(e[r])}}function em(e,r){switch(r){case 0:let t=e[0];return e[0]="",t;case 1:case 2:return e[r].flush()}throw new Error(`@smithy/util-stream - invalid index ${r} given to flush()`)}function Na(e){return e?.byteLength??e?.length??0}function ov(e,r=!0){return r&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var cv=B(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0});SE.createBufferedReadable=Ej;var yj=require("node:stream"),av=yE(),_s=iv(),Sj=ro();function Ej(e,r,t){if((0,Sj.isReadableStream)(e))return(0,_s.createBufferedReadableStream)(e,r,t);let n=new yj.Readable({read(){}}),s=!1,o=0,a=["",new av.ByteArrayCollector(l=>new Uint8Array(l)),new av.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],c=-1;return e.on("data",l=>{let d=(0,_s.modeOf)(l,!0);if(c!==d&&(c>=0&&n.push((0,_s.flush)(a,c)),c=d),c===-1){n.push(l);return}let f=(0,_s.sizeOf)(l);o+=f;let g=(0,_s.sizeOf)(a[c]);if(f>=r&&g===0)n.push(l);else{let y=(0,_s.merge)(a,c,l);!s&&o>r*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${r}, automatically buffering.`)),y>=r&&n.push((0,_s.flush)(a,c))}}),e.on("end",()=>{if(c!==-1){let l=(0,_s.flush)(a,c);(0,_s.sizeOf)(l)>0&&n.push(l)}n.push(null)}),n}});var lv=B(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.getAwsChunkedEncodingStream=void 0;var bj=require("stream"),_j=(e,r)=>{let{base64Encoder:t,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:a}=r,c=t!==void 0&&s!==void 0&&o!==void 0&&a!==void 0,l=c?a(s,e):void 0,d=new bj.Readable({read:()=>{}});return e.on("data",f=>{let g=n(f)||0;d.push(`${g.toString(16)}\r
`),d.push(f),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),c){let f=t(await l);d.push(`${o}:${f}\r
`),d.push(`\r
`)}d.push(null)}),d};tm.getAwsChunkedEncodingStream=_j});var dv=B(EE=>{"use strict";Object.defineProperty(EE,"__esModule",{value:!0});EE.headStream=Cj;async function Cj(e,r){let t=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await s.read();if(d&&(n.push(d),t+=d?.byteLength??0),t>=r)break;o=l}s.releaseLock();let a=new Uint8Array(Math.min(r,t)),c=0;for(let l of n){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}});var uv=B(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.headStream=void 0;var xj=require("stream"),wj=dv(),Aj=ro(),Pj=(e,r)=>(0,Aj.isReadableStream)(e)?(0,wj.headStream)(e,r):new Promise((t,n)=>{let s=new bE;s.limit=r,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));t(o)})});rm.headStream=Pj;var bE=class extends xj.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(r,t,n){if(this.buffers.push(r),this.bytesBuffered+=r.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var CE=B(_E=>{"use strict";var mv=e=>encodeURIComponent(e).replace(/[!'()*]/g,vj),vj=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,Tj=e=>e.split("/").map(mv).join("/");_E.escapeUri=mv;_E.escapeUriPath=Tj});var wE=B(fv=>{"use strict";var xE=CE();function Rj(e){let r=[];for(let t of Object.keys(e).sort()){let n=e[t];if(t=xE.escapeUri(t),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)r.push(`${t}=${xE.escapeUri(n[s])}`);else{let s=t;(n||typeof n=="string")&&(s+=`=${xE.escapeUri(n)}`),r.push(s)}}return r.join("&")}fv.buildQueryString=Rj});var Qo=B(Ul=>{"use strict";var yv=Xe(),Sv=wE(),nm=require("http"),sm=require("https"),Ev=require("stream"),AE=require("http2"),Ij=["ECONNRESET","EPIPE","ETIMEDOUT"],bv=e=>{let r={};for(let t of Object.keys(e)){let n=e[t];r[t]=Array.isArray(n)?n.join(","):n}return r},Nr={setTimeout:(e,r)=>setTimeout(e,r),clearTimeout:e=>clearTimeout(e)},gv=1e3,kj=(e,r,t=0)=>{if(!t)return-1;let n=s=>{let o=Nr.setTimeout(()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${t} ms.`),{name:"TimeoutError"}))},t-s),a=c=>{c?.connecting?c.on("connect",()=>{Nr.clearTimeout(o)}):Nr.clearTimeout(o)};e.socket?a(e.socket):e.on("socket",a)};return t<2e3?(n(0),0):Nr.setTimeout(n.bind(null,gv),gv)},Oj=(e,r,t=0,n,s)=>t?Nr.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${t} ms requestTimeout.`;if(n){let a=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(a),r(a)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},t):-1,Nj=3e3,Bj=(e,{keepAlive:r,keepAliveMsecs:t},n=Nj)=>{if(r!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(r,t||0):e.on("socket",o=>{o.setKeepAlive(r,t||0)})};return n===0?(s(),0):Nr.setTimeout(s,n)},hv=3e3,Dj=(e,r,t=0)=>{let n=s=>{let o=t-s,a=()=>{e.destroy(),r(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${t} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,a),e.on("close",()=>e.socket?.removeListener("timeout",a))):e.setTimeout(o,a)};return 0<t&&t<6e3?(n(0),0):Nr.setTimeout(n.bind(null,t===0?0:hv),hv)},pv=6e3;async function _v(e,r,t=pv,n=!1){let s=r.headers??{},o=s.Expect||s.expect,a=-1,c=!0;!n&&o==="100-continue"&&(c=await Promise.race([new Promise(l=>{a=Number(Nr.setTimeout(()=>l(!0),Math.max(pv,t)))}),new Promise(l=>{e.on("continue",()=>{Nr.clearTimeout(a),l(!0)}),e.on("response",()=>{Nr.clearTimeout(a),l(!1)}),e.on("error",()=>{Nr.clearTimeout(a),l(!1)})})])),c&&Mj(e,r.body)}function Mj(e,r){if(r instanceof Ev.Readable){r.pipe(e);return}if(r){if(Buffer.isBuffer(r)||typeof r=="string"){e.end(r);return}let t=r;if(typeof t=="object"&&t.buffer&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number"){e.end(Buffer.from(t.buffer,t.byteOffset,t.byteLength));return}e.end(Buffer.from(r));return}e.end()}var Lj=0,PE=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(r){return typeof r?.handle=="function"?r:new e(r)}static checkSocketUsage(r,t,n=console){let{sockets:s,requests:o,maxSockets:a}=r;if(typeof a!="number"||a===1/0||Date.now()-15e3<t)return t;if(s&&o)for(let l in s){let d=s[l]?.length??0,f=o[l]?.length??0;if(d>=a&&f>=2*a)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(this.resolveDefaultConfig(s))}).catch(n):t(this.resolveDefaultConfig(r))})}resolveDefaultConfig(r){let{requestTimeout:t,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:a,httpsAgent:c,throwOnRequestTimeout:l}=r||{},d=!0,f=50;return{connectionTimeout:n,requestTimeout:t,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:l,httpAgent:a instanceof nm.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new nm.Agent({keepAlive:d,maxSockets:f,...a}),httpsAgent:c instanceof sm.Agent||typeof c?.destroy=="function"?(this.externalAgent=!0,c):new sm.Agent({keepAlive:d,maxSockets:f,...c}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let a=this.config,c,l=[],d=async Ne=>{await c,l.forEach(Nr.clearTimeout),s(Ne)},f=async Ne=>{await c,l.forEach(Nr.clearTimeout),o(Ne)};if(t?.aborted){let Ne=new Error("Request aborted");Ne.name="AbortError",f(Ne);return}let g=r.protocol==="https:",y=r.headers??{},h=(y.Expect??y.expect)==="100-continue",_=g?a.httpsAgent:a.httpAgent;h&&!this.externalAgent&&(_=new(g?sm.Agent:nm.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(Nr.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(_,this.socketWarningTimestamp,a.logger)},a.socketAcquisitionWarningTimeout??(a.requestTimeout??2e3)+(a.connectionTimeout??1e3)));let R=Sv.buildQueryString(r.query||{}),I;if(r.username!=null||r.password!=null){let Ne=r.username??"",ze=r.password??"";I=`${Ne}:${ze}`}let N=r.path;R&&(N+=`?${R}`),r.fragment&&(N+=`#${r.fragment}`);let W=r.hostname??"";W[0]==="["&&W.endsWith("]")?W=r.hostname.slice(1,-1):W=r.hostname;let ce={headers:r.headers,host:W,method:r.method,path:N,port:r.port,agent:_,auth:I},_e=(g?sm.request:nm.request)(ce,Ne=>{let ze=new yv.HttpResponse({statusCode:Ne.statusCode||-1,reason:Ne.statusMessage,headers:bv(Ne.headers),body:Ne});d({response:ze})});if(_e.on("error",Ne=>{Ij.includes(Ne.code)?f(Object.assign(Ne,{name:"TimeoutError"})):f(Ne)}),t){let Ne=()=>{_e.destroy();let ze=new Error("Request aborted");ze.name="AbortError",f(ze)};if(typeof t.addEventListener=="function"){let ze=t;ze.addEventListener("abort",Ne,{once:!0}),_e.once("close",()=>ze.removeEventListener("abort",Ne))}else t.onabort=Ne}let We=n??a.requestTimeout;l.push(kj(_e,f,a.connectionTimeout)),l.push(Oj(_e,f,We,a.throwOnRequestTimeout,a.logger??console)),l.push(Dj(_e,f,a.socketTimeout));let At=ce.agent;typeof At=="object"&&"keepAlive"in At&&l.push(Bj(_e,{keepAlive:At.keepAlive,keepAliveMsecs:At.keepAliveMsecs})),c=_v(_e,r,We,this.externalAgent).catch(Ne=>(l.forEach(Nr.clearTimeout),o(Ne)))})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}},vE=class{sessions=[];constructor(r){this.sessions=r??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(r){this.sessions.push(r)}contains(r){return this.sessions.includes(r)}remove(r){this.sessions=this.sessions.filter(t=>t!==r)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(r){for(let t of this.sessions)t===r&&(t.destroyed||t.destroy())}},TE=class{constructor(r){if(this.config=r,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(r,t){let n=this.getUrlString(r),s=this.sessionCache.get(n);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let o=AE.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+r.destination.toString())}),o.unref();let a=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",a),o.on("error",a),o.on("frameError",a),o.on("close",()=>this.deleteSession(n,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,a);let c=this.sessionCache.get(n)||new vE;return c.offerLast(o),this.sessionCache.set(n,c),o}deleteSession(r,t){let n=this.sessionCache.get(r);n&&n.contains(t)&&(n.remove(t),this.sessionCache.set(r,n))}release(r,t){let n=this.getUrlString(r);this.sessionCache.get(n)?.offerLast(t)}destroy(){for(let[r,t]of this.sessionCache){for(let n of t)n.destroyed||n.destroy(),t.remove(n);this.sessionCache.delete(r)}}setMaxConcurrentStreams(r){if(r&&r<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=r}setDisableConcurrentStreams(r){this.config.disableConcurrency=r}getUrlString(r){return r.destination.toString()}},RE=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new TE({});static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){this.configProvider=new Promise((t,n)=>{typeof r=="function"?r().then(s=>{t(s||{})}).catch(n):t(r||{})})}destroy(){this.connectionManager.destroy()}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,a=n??s;return new Promise((c,l)=>{let d=!1,f,g=async nt=>{await f,c(nt)},y=async nt=>{await f,l(nt)};if(t?.aborted){d=!0;let nt=new Error("Request aborted");nt.name="AbortError",y(nt);return}let{hostname:h,method:_,port:R,protocol:I,query:N}=r,W="";if(r.username!=null||r.password!=null){let nt=r.username??"",Ft=r.password??"";W=`${nt}:${Ft}@`}let ce=`${I}//${W}${h}${R?`:${R}`:""}`,me={destination:new URL(ce)},_e=this.connectionManager.lease(me,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),We=nt=>{o&&this.destroySession(_e),d=!0,y(nt)},At=Sv.buildQueryString(N||{}),Ne=r.path;At&&(Ne+=`?${At}`),r.fragment&&(Ne+=`#${r.fragment}`);let ze=_e.request({...r.headers,[AE.constants.HTTP2_HEADER_PATH]:Ne,[AE.constants.HTTP2_HEADER_METHOD]:_});if(_e.ref(),ze.on("response",nt=>{let Ft=new yv.HttpResponse({statusCode:nt[":status"]||-1,headers:bv(nt),body:ze});d=!0,g({response:Ft}),o&&(_e.close(),this.connectionManager.deleteSession(ce,_e))}),a&&ze.setTimeout(a,()=>{ze.close();let nt=new Error(`Stream timed out because of no activity for ${a} ms`);nt.name="TimeoutError",We(nt)}),t){let nt=()=>{ze.close();let Ft=new Error("Request aborted");Ft.name="AbortError",We(Ft)};if(typeof t.addEventListener=="function"){let Ft=t;Ft.addEventListener("abort",nt,{once:!0}),ze.once("close",()=>Ft.removeEventListener("abort",nt))}else t.onabort=nt}ze.on("frameError",(nt,Ft,Aa)=>{We(new Error(`Frame type id ${nt} in stream id ${Aa} has failed with code ${Ft}.`))}),ze.on("error",We),ze.on("aborted",()=>{We(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ze.rstCode}.`))}),ze.on("close",()=>{_e.unref(),o&&_e.destroy(),d||We(new Error("Unexpected error: http2 request did not get a response"))}),f=_v(ze,r,a)})}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[r]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(r){r.destroyed||r.destroy()}},IE=class extends Ev.Writable{bufferedBytes=[];_write(r,t,n){this.bufferedBytes.push(r),n()}},Fj=e=>zj(e)?Uj(e):new Promise((r,t)=>{let n=new IE;e.pipe(n),e.on("error",s=>{n.end(),t(s)}),n.on("error",t),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));r(s)})}),zj=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function Uj(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),a=0;for(let c of r)o.set(c,a),a+=c.length;return o}Ul.DEFAULT_REQUEST_TIMEOUT=Lj;Ul.NodeHttp2Handler=RE;Ul.NodeHttpHandler=PE;Ul.streamCollector=Fj});var wv=B(im=>{"use strict";var Cv=Xe(),qj=wE(),Hj=gr();function xv(e,r){return new Request(e,r)}function jj(e=0){return new Promise((r,t)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",t(n)},e)})}var om={supported:void 0},kE=class e{config;configProvider;static create(r){return typeof r?.handle=="function"?r:new e(r)}constructor(r){typeof r=="function"?this.configProvider=r().then(t=>t||{}):(this.config=r??{},this.configProvider=Promise.resolve(this.config)),om.supported===void 0&&(om.supported=typeof Request<"u"&&"keepalive"in xv("https://[::1]"))}destroy(){}async handle(r,{abortSignal:t,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,a=this.config.credentials;if(t?.aborted){let W=new Error("Request aborted");return W.name="AbortError",Promise.reject(W)}let c=r.path,l=qj.buildQueryString(r.query||{});l&&(c+=`?${l}`),r.fragment&&(c+=`#${r.fragment}`);let d="";if(r.username!=null||r.password!=null){let W=r.username??"",ce=r.password??"";d=`${W}:${ce}@`}let{port:f,method:g}=r,y=`${r.protocol}//${d}${r.hostname}${f?`:${f}`:""}${c}`,h=g==="GET"||g==="HEAD"?void 0:r.body,_={body:h,headers:new Headers(r.headers),method:g,credentials:a};this.config?.cache&&(_.cache=this.config.cache),h&&(_.duplex="half"),typeof AbortController<"u"&&(_.signal=t),om.supported&&(_.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(_,this.config.requestInit(r));let R=()=>{},I=xv(y,_),N=[fetch(I).then(W=>{let ce=W.headers,me={};for(let We of ce.entries())me[We[0]]=We[1];return W.body!=null?{response:new Cv.HttpResponse({headers:me,reason:W.statusText,statusCode:W.status,body:W.body})}:W.blob().then(We=>({response:new Cv.HttpResponse({headers:me,reason:W.statusText,statusCode:W.status,body:We})}))}),jj(s)];return t&&N.push(new Promise((W,ce)=>{let me=()=>{let _e=new Error("Request aborted");_e.name="AbortError",ce(_e)};if(typeof t.addEventListener=="function"){let _e=t;_e.addEventListener("abort",me,{once:!0}),R=()=>_e.removeEventListener("abort",me)}else t.onabort=me})),Promise.race(N).finally(R)}updateHttpClientConfig(r,t){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[r]=t,n))}httpHandlerConfigs(){return this.config??{}}},$j=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Vj(e):Gj(e);async function Vj(e){let r=await Kj(e),t=Hj.fromBase64(r);return new Uint8Array(t)}async function Gj(e){let r=[],t=e.getReader(),n=!1,s=0;for(;!n;){let{done:c,value:l}=await t.read();l&&(r.push(l),s+=l.length),n=c}let o=new Uint8Array(s),a=0;for(let c of r)o.set(c,a),a+=c.length;return o}function Kj(e){return new Promise((r,t)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return t(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),a=o>-1?o+1:s.length;r(s.substring(a))},n.onabort=()=>t(new Error("Read aborted")),n.onerror=()=>t(n.error),n.readAsDataURL(e)})}im.FetchHttpHandler=kE;im.keepAliveSupport=om;im.streamCollector=$j});var am=B(NE=>{"use strict";var Av={},OE={};for(let e=0;e<256;e++){let r=e.toString(16).toLowerCase();r.length===1&&(r=`0${r}`),Av[e]=r,OE[r]=e}function Wj(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let r=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let n=e.slice(t,t+2).toLowerCase();if(n in OE)r[t/2]=OE[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return r}function Xj(e){let r="";for(let t=0;t<e.byteLength;t++)r+=Av[e[t]];return r}NE.fromHex=Wj;NE.toHex=Xj});var Rv=B(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.sdkStreamMixin=void 0;var Yj=wv(),Jj=gr(),Qj=am(),Zj=Xt(),Pv=ro(),vv="The stream has already been transformed.",e$=e=>{if(!Tv(e)&&!(0,Pv.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(vv);return r=!0,await(0,Yj.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async s=>{let o=await t();if(s==="base64")return(0,Jj.toBase64)(o);if(s==="hex")return(0,Qj.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,Zj.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(r)throw new Error(vv);if(r=!0,Tv(e))return n(e);if((0,Pv.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};cm.sdkStreamMixin=e$;var Tv=e=>typeof Blob=="function"&&e instanceof Blob});var kv=B(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.sdkStreamMixin=void 0;var t$=Qo(),r$=ka(),BE=require("stream"),n$=Rv(),Iv="The stream has already been transformed.",s$=e=>{if(!(e instanceof BE.Readable))try{return(0,n$.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let r=!1,t=async()=>{if(r)throw new Error(Iv);return r=!0,await(0,t$.streamCollector)(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async n=>{let s=await t();return n===void 0||Buffer.isEncoding(n)?(0,r$.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(r)throw new Error(Iv);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof BE.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return r=!0,BE.Readable.toWeb(e)}})};lm.sdkStreamMixin=s$});var Ov=B(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});DE.splitStream=o$;async function o$(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var Dv=B(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});ME.splitStream=a$;var Nv=require("stream"),i$=Ov(),Bv=ro();async function a$(e){if((0,Bv.isReadableStream)(e)||(0,Bv.isBlob)(e))return(0,i$.splitStream)(e);let r=new Nv.PassThrough,t=new Nv.PassThrough;return e.pipe(r),e.pipe(t),[r,t]}});var Zo=B(nr=>{"use strict";var Mv=gr(),Lv=Xt(),Fv=fE(),zv=rv(),Uv=cv(),qv=lv(),Hv=uv(),jv=kv(),$v=Dv(),Vv=ro(),LE=class e extends Uint8Array{static fromString(r,t="utf-8"){if(typeof r=="string")return t==="base64"?e.mutate(Mv.fromBase64(r)):e.mutate(Lv.fromUtf8(r));throw new Error(`Unsupported conversion from ${typeof r} to Uint8ArrayBlobAdapter.`)}static mutate(r){return Object.setPrototypeOf(r,e.prototype),r}transformToString(r="utf-8"){return r==="base64"?Mv.toBase64(this):Lv.toUtf8(this)}};nr.Uint8ArrayBlobAdapter=LE;Object.keys(Fv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return Fv[e]}})});Object.keys(zv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return zv[e]}})});Object.keys(Uv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return Uv[e]}})});Object.keys(qv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return qv[e]}})});Object.keys(Hv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return Hv[e]}})});Object.keys(jv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return jv[e]}})});Object.keys($v).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return $v[e]}})});Object.keys(Vv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(nr,e)&&Object.defineProperty(nr,e,{enumerable:!0,get:function(){return Vv[e]}})})});var dm,Mn,um=P(()=>{dm=k(Zo()),Mn=async(e=new Uint8Array,r)=>{if(e instanceof Uint8Array)return dm.Uint8ArrayBlobAdapter.mutate(e);if(!e)return dm.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let t=r.streamCollector(e);return dm.Uint8ArrayBlobAdapter.mutate(await t)}});function Kn(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}var mm=P(()=>{});var Ln,FE=P(()=>{Ln=e=>typeof e=="function"?e():e});var ql,fm=P(()=>{ql=(e,r,t,n,s)=>({name:r,namespace:e,traits:t,input:n,output:s})});var Gv,Kv,Wv,zE,Xv=P(()=>{Gv=k(Xe()),Kv=k(br());fm();Wv=e=>(r,t)=>async n=>{let{response:s}=await r(n),{operationSchema:o}=(0,Kv.getSmithyContext)(t),[,a,c,l,d,f]=o??[];try{let g=await e.protocol.deserializeResponse(ql(a,c,l,d,f),{...e,...t},s);return{response:s,output:g}}catch(g){if(Object.defineProperty(g,"$response",{value:s}),!("$metadata"in g)){let y="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{g.message+=`
  `+y}catch{!t.logger||t.logger?.constructor?.name==="NoOpLogger"?console.warn(y):t.logger?.warn?.(y)}typeof g.$responseBodyText<"u"&&g.$response&&(g.$response.body=g.$responseBodyText);try{if(Gv.HttpResponse.isInstance(s)){let{headers:h={}}=s,_=Object.entries(h);g.$metadata={httpStatusCode:s.statusCode,requestId:zE(/^x-[\w-]+-request-?id$/,_),extendedRequestId:zE(/^x-[\w-]+-id-2$/,_),cfId:zE(/^x-[\w-]+-cf-id$/,_)}}}catch{}}throw g}},zE=(e,r)=>(r.find(([t])=>t.match(e))||[void 0,void 0])[1]});var Yv,Jv,Qv=P(()=>{Yv=k(br());fm();Jv=e=>(r,t)=>async n=>{let{operationSchema:s}=(0,Yv.getSmithyContext)(t),[,o,a,c,l,d]=s??[],f=t.endpointV2?.url&&e.urlParser?async()=>e.urlParser(t.endpointV2.url):e.endpoint,g=await e.protocol.serializeRequest(ql(o,a,c,l,d),n.input,{...e,...t,endpoint:f});return r({...n,request:g})}});function c$(e){return{applyToStack:r=>{r.add(Jv(e),eT),r.add(Wv(e),Zv),e.protocol.setSerdeContext(e)}}}var Zv,eT,tT=P(()=>{Xv();Qv();Zv={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},eT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var zt,no=P(()=>{zt=class{name;namespace;traits;static assign(r,t){return Object.assign(r,t)}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}getName(){return this.namespace+"#"+this.name}}});var gm,l$,rT=P(()=>{no();gm=class e extends zt{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},l$=(e,r,t,n)=>zt.assign(new gm,{name:r,namespace:e,traits:t,valueSchema:n})});var hm,d$,nT=P(()=>{no();hm=class e extends zt{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},d$=(e,r,t,n,s)=>zt.assign(new hm,{name:r,namespace:e,traits:t,keySchema:n,valueSchema:s})});var pm,u$,sT=P(()=>{no();pm=class e extends zt{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},u$=(e,r,t,n,s)=>zt.assign(new pm,{name:r,namespace:e,traits:t,input:n,output:s})});var Ba,m$,UE=P(()=>{no();Ba=class e extends zt{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},m$=(e,r,t,n,s)=>zt.assign(new Ba,{name:r,namespace:e,traits:t,memberNames:n,memberList:s})});var ym,f$,oT=P(()=>{no();UE();ym=class e extends Ba{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},f$=(e,r,t,n,s,o)=>zt.assign(new ym,{name:r,namespace:e,traits:t,memberNames:n,memberList:s,ctor:null})});function Wn(e){if(typeof e=="object")return e;e=e|0;let r={},t=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>t++&1)===1&&(r[n]=1);return r}var qE=P(()=>{});function Hl(e,r){if(e instanceof ie)return Object.assign(e,{memberName:r,_isMemberSchema:!0});let t=ie;return new t(e,r)}var ie,HE,iT,aT=P(()=>{FE();qE();ie=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(r,t){this.ref=r,this.memberName=t;let n=[],s=r,o=r;for(this._isMemberSchema=!1;HE(s);)n.push(s[1]),s=s[0],o=Ln(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let a=n.length-1;a>=0;--a){let c=n[a];Object.assign(this.memberTraits,Wn(c))}}else this.memberTraits=0;if(o instanceof e){let a=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},a,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??o.memberName;return}if(this.schema=Ln(o),iT(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!t)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](r){let t=this.prototype.isPrototypeOf(r);return!t&&typeof r=="object"&&r!==null?r.symbol===this.symbol:t}static of(r){let t=Ln(r);if(t instanceof e)return t;if(HE(t)){let[n,s]=t;if(n instanceof e)return Object.assign(n.getMergedTraits(),Wn(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(r,null,2)}.`)}return new e(t)}getSchema(){let r=this.schema;return r[0]===0?r[4]:r}getName(r=!1){let{name:t}=this;return!r&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let r=this.getSchema();return typeof r=="number"?r>=64&&r<128:r[0]===1}isMapSchema(){let r=this.getSchema();return typeof r=="number"?r>=128&&r<=255:r[0]===2}isStructSchema(){let r=this.getSchema();return r[0]===3||r[0]===-3}isBlobSchema(){let r=this.getSchema();return r===21||r===42}isTimestampSchema(){let r=this.getSchema();return typeof r=="number"&&r>=4&&r<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:r}=this.getMergedTraits();return!!r||this.getSchema()===42}isIdempotencyToken(){let r=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:t,traits:n,memberTraits:s}=this;return r(t)||r(n)||r(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Wn(this.memberTraits)}getOwnTraits(){return Wn(this.traits)}getKeySchema(){let[r,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!r&&!t)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=r?15:n[4]??0;return Hl([s,0],"key")}getValueSchema(){let r=this.getSchema(),[t,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof r=="number"?63&r:r&&typeof r=="object"&&(n||s)?r[3+r[0]]:t?15:void 0;if(o!=null)return Hl([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(r){let t=this.getSchema();if(this.isStructSchema()&&t[4].includes(r)){let n=t[4].indexOf(r),s=t[5][n];return Hl(HE(s)?s:[s,0],r)}if(this.isDocumentSchema())return Hl([15,0],r);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${r}.`)}getMemberSchemas(){let r={};try{for(let[t,n]of this.structIterator())r[t]=n}catch{}return r}getEventStreamMember(){if(this.isStructSchema()){for(let[r,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return r}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let r=this.getSchema();for(let t=0;t<r[4].length;++t)yield[r[4][t],Hl([r[5][t],0],r[4][t])]}};HE=e=>Array.isArray(e)&&e.length===2,iT=e=>Array.isArray(e)&&e.length>=5});var jl,g$,h$,cT=P(()=>{no();jl=class e extends zt{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},g$=(e,r,t,n)=>zt.assign(new jl,{name:r,namespace:e,traits:n,schemaRef:t}),h$=(e,r,t,n)=>zt.assign(new jl,{name:r,namespace:e,traits:t,schemaRef:n})});var p$,lT=P(()=>{p$={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Yt,dT=P(()=>{Yt=class e{namespace;schemas;exceptions;static registries=new Map;constructor(r,t=new Map,n=new Map){this.namespace=r,this.schemas=t,this.exceptions=n}static for(r){return e.registries.has(r)||e.registries.set(r,new e(r)),e.registries.get(r)}register(r,t){let n=this.normalizeShapeId(r);e.for(n.split("#")[0]).schemas.set(n,t)}getSchema(r){let t=this.normalizeShapeId(r);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(r,t){let n=r,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,t)}getErrorCtor(r){let t=r;return e.for(t[1]).exceptions.get(t)}getBaseException(){for(let r of this.exceptions.keys())if(Array.isArray(r)){let[,t,n]=r,s=t+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return r}}find(r){return[...this.schemas.values()].find(r)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(r){return r.includes("#")?r:this.namespace+"#"+r}}});var uT={};dn(uT,{ErrorSchema:()=>ym,ListSchema:()=>gm,MapSchema:()=>hm,NormalizedSchema:()=>ie,OperationSchema:()=>pm,SCHEMA:()=>p$,Schema:()=>zt,SimpleSchema:()=>jl,StructureSchema:()=>Ba,TypeRegistry:()=>Yt,deref:()=>Ln,deserializerMiddlewareOption:()=>Zv,error:()=>f$,getSchemaSerdePlugin:()=>c$,isStaticSchema:()=>iT,list:()=>l$,map:()=>d$,op:()=>u$,operation:()=>ql,serializerMiddlewareOption:()=>eT,sim:()=>g$,simAdapter:()=>h$,struct:()=>m$,translateTraits:()=>Wn});var Nt=P(()=>{FE();tT();rT();nT();sT();fm();oT();aT();no();cT();UE();lT();qE();dT()});var y$,mT=P(()=>{y$=(e,r,t=n=>n)=>e});var S$,E$,$l,b$,Sm,Vl,_$,jE,$E,VE,GE,C$,x$,fT,w$,A$,bm,P$,KE,v$,Da,WE,T$,R$,I$,gT,hT,k$,O$,ei,XE,Em,Gl,YE=P(()=>{S$=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},E$=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&Gl.warn(Em(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let r=e.toLowerCase();if((r==="false"||r==="true")&&Gl.warn(Em(`Expected boolean, got ${typeof e}: ${e}`)),r==="false")return!1;if(r==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},$l=e=>{if(e!=null){if(typeof e=="string"){let r=parseFloat(e);if(!Number.isNaN(r))return String(r)!==String(e)&&Gl.warn(Em(`Expected number but observed string: ${e}`)),r}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},b$=Math.ceil(34028234663852886e22),Sm=e=>{let r=$l(e);if(r!==void 0&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0&&Math.abs(r)>b$)throw new TypeError(`Expected 32-bit float, got ${e}`);return r},Vl=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},_$=Vl,jE=e=>GE(e,32),$E=e=>GE(e,16),VE=e=>GE(e,8),GE=(e,r)=>{let t=Vl(e);if(t!==void 0&&C$(t,r)!==t)throw new TypeError(`Expected ${r}-bit integer, got ${e}`);return t},C$=(e,r)=>{switch(r){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},x$=(e,r)=>{if(e==null)throw r?new TypeError(`Expected a non-null value for ${r}`):new TypeError("Expected a non-null value");return e},fT=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let r=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${r}: ${e}`)},w$=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Gl.warn(Em(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},A$=e=>{if(e==null)return;let r=fT(e),t=Object.entries(r).filter(([,n])=>n!=null).map(([n])=>n);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return r},bm=e=>$l(typeof e=="string"?Da(e):e),P$=bm,KE=e=>Sm(typeof e=="string"?Da(e):e),v$=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Da=e=>{let r=e.match(v$);if(r===null||r[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},WE=e=>typeof e=="string"?gT(e):$l(e),T$=WE,R$=WE,I$=e=>typeof e=="string"?gT(e):Sm(e),gT=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},hT=e=>Vl(typeof e=="string"?Da(e):e),k$=hT,O$=e=>jE(typeof e=="string"?Da(e):e),ei=e=>$E(typeof e=="string"?Da(e):e),XE=e=>VE(typeof e=="string"?Da(e):e),Em=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(r=>!r.includes("stackTraceWarning")).join(`
`),Gl={warn:console.warn}});function Wl(e){let r=e.getUTCFullYear(),t=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,f=a<10?`0${a}`:`${a}`,g=c<10?`0${c}`:`${c}`;return`${N$[n]}, ${l} ${QE[t]} ${r} ${d}:${f}:${g} GMT`}var N$,QE,B$,D$,M$,ZE,L$,F$,z$,eb,tb,Kl,U$,q$,H$,JE,j$,$$,V$,Xn,G$,K$,Ma,pT=P(()=>{YE();N$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],QE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];B$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),D$=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=B$.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,a,c,l,d]=r,f=ei(Ma(n)),g=Xn(s,"month",1,12),y=Xn(o,"day",1,31);return Kl(f,g,y,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})},M$=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ZE=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let r=M$.exec(e);if(!r)throw new TypeError("Invalid RFC-3339 date-time value");let[t,n,s,o,a,c,l,d,f]=r,g=ei(Ma(n)),y=Xn(s,"month",1,12),h=Xn(o,"day",1,31),_=Kl(g,y,h,{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d});return f.toUpperCase()!="Z"&&_.setTime(_.getTime()-K$(f)),_},L$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),F$=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),z$=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),eb=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let r=L$.exec(e);if(r){let[t,n,s,o,a,c,l,d]=r;return Kl(ei(Ma(o)),JE(s),Xn(n,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d})}if(r=F$.exec(e),r){let[t,n,s,o,a,c,l,d]=r;return H$(Kl(U$(o),JE(s),Xn(n,"day",1,31),{hours:a,minutes:c,seconds:l,fractionalMilliseconds:d}))}if(r=z$.exec(e),r){let[t,n,s,o,a,c,l,d]=r;return Kl(ei(Ma(d)),JE(n),Xn(s.trimLeft(),"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},tb=e=>{if(e==null)return;let r;if(typeof e=="number")r=e;else if(typeof e=="string")r=bm(e);else if(typeof e=="object"&&e.tag===1)r=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(r*1e3))},Kl=(e,r,t,n)=>{let s=r-1;return $$(e,s,t),new Date(Date.UTC(e,s,t,Xn(n.hours,"hour",0,23),Xn(n.minutes,"minute",0,59),Xn(n.seconds,"seconds",0,60),G$(n.fractionalMilliseconds)))},U$=e=>{let r=new Date().getUTCFullYear(),t=Math.floor(r/100)*100+ei(Ma(e));return t<r?t+100:t},q$=50*365*24*60*60*1e3,H$=e=>e.getTime()-new Date().getTime()>q$?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,JE=e=>{let r=QE.indexOf(e);if(r<0)throw new TypeError(`Invalid month: ${e}`);return r+1},j$=[31,28,31,30,31,30,31,31,30,31,30,31],$$=(e,r,t)=>{let n=j$[r];if(r===1&&V$(e)&&(n=29),t>n)throw new TypeError(`Invalid day for ${QE[r]} in ${e}: ${t}`)},V$=e=>e%4===0&&(e%100!==0||e%400===0),Xn=(e,r,t,n)=>{let s=XE(Ma(e));if(s<t||s>n)throw new TypeError(`${r} must be between ${t} and ${n}, inclusive`);return s},G$=e=>e==null?0:KE("0."+e)*1e3,K$=e=>{let r=e[0],t=1;if(r=="+")t=1;else if(r=="-")t=-1;else throw new TypeError(`Offset direction, ${r}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(n*60+s)*60*1e3},Ma=e=>{let r=0;for(;r<e.length-1&&e.charAt(r)==="0";)r++;return r===0?e:e.slice(r)}});var Yn={};dn(Yn,{__addDisposableResource:()=>qT,__assign:()=>_m,__asyncDelegator:()=>NT,__asyncGenerator:()=>OT,__asyncValues:()=>BT,__await:()=>La,__awaiter:()=>PT,__classPrivateFieldGet:()=>FT,__classPrivateFieldIn:()=>UT,__classPrivateFieldSet:()=>zT,__createBinding:()=>xm,__decorate:()=>ET,__disposeResources:()=>HT,__esDecorate:()=>_T,__exportStar:()=>TT,__extends:()=>yT,__generator:()=>vT,__importDefault:()=>LT,__importStar:()=>MT,__makeTemplateObject:()=>DT,__metadata:()=>AT,__param:()=>bT,__propKey:()=>xT,__read:()=>sb,__rest:()=>ST,__rewriteRelativeImportExtension:()=>jT,__runInitializers:()=>CT,__setFunctionName:()=>wT,__spread:()=>RT,__spreadArray:()=>kT,__spreadArrays:()=>IT,__values:()=>Cm,default:()=>Y$});function yT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");rb(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function ST(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t}function ET(e,r,t,n){var s=arguments.length,o=s<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var c=e.length-1;c>=0;c--)(a=e[c])&&(o=(s<3?a(o):s>3?a(r,t,o):a(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o}function bT(e,r){return function(t,n){r(t,n,e)}}function _T(e,r,t,n,s,o){function a(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?n.static?e:e.prototype:null,f=r||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),g,y=!1,h=t.length-1;h>=0;h--){var _={};for(var R in n)_[R]=R==="access"?{}:n[R];for(var R in n.access)_.access[R]=n.access[R];_.addInitializer=function(N){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(N||null))};var I=(0,t[h])(c==="accessor"?{get:f.get,set:f.set}:f[l],_);if(c==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(g=a(I.get))&&(f.get=g),(g=a(I.set))&&(f.set=g),(g=a(I.init))&&s.unshift(g)}else(g=a(I))&&(c==="field"?s.unshift(g):f[l]=g)}d&&Object.defineProperty(d,n.name,f),y=!0}function CT(e,r,t){for(var n=arguments.length>2,s=0;s<r.length;s++)t=n?r[s].call(e,t):r[s].call(e);return n?t:void 0}function xT(e){return typeof e=="symbol"?e:"".concat(e)}function wT(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function AT(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function PT(e,r,t,n){function s(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function c(f){try{d(n.next(f))}catch(g){a(g)}}function l(f){try{d(n.throw(f))}catch(g){a(g)}}function d(f){f.done?o(f.value):s(f.value).then(c,l)}d((n=n.apply(e,r||[])).next())})}function vT(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(f){return l([d,f])}}function l(d){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(t=0)),t;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=r.call(e,t)}catch(f){d=[6,f],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function TT(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&xm(r,e,t)}function Cm(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function sb(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),s,o=[],a;try{for(;(r===void 0||r-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(c){a={error:c}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function RT(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(sb(arguments[r]));return e}function IT(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),s=0,r=0;r<t;r++)for(var o=arguments[r],a=0,c=o.length;a<c;a++,s++)n[s]=o[a];return n}function kT(e,r,t){if(t||arguments.length===2)for(var n=0,s=r.length,o;n<s;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function La(e){return this instanceof La?(this.v=e,this):new La(e)}function OT(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(h){return function(_){return Promise.resolve(_).then(h,g)}}function c(h,_){n[h]&&(s[h]=function(R){return new Promise(function(I,N){o.push([h,R,I,N])>1||l(h,R)})},_&&(s[h]=_(s[h])))}function l(h,_){try{d(n[h](_))}catch(R){y(o[0][3],R)}}function d(h){h.value instanceof La?Promise.resolve(h.value.v).then(f,g):y(o[0][2],h)}function f(h){l("next",h)}function g(h){l("throw",h)}function y(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function NT(e){var r,t;return r={},n("next"),n("throw",function(s){throw s}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(s,o){r[s]=e[s]?function(a){return(t=!t)?{value:La(e[s](a)),done:!1}:o?o(a):a}:o}}function BT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Cm=="function"?Cm(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(a){return new Promise(function(c,l){a=e[o](a),s(c,l,a.done,a.value)})}}function s(o,a,c,l){Promise.resolve(l).then(function(d){o({value:d,done:c})},a)}}function DT(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function MT(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t=nb(e),n=0;n<t.length;n++)t[n]!=="default"&&xm(r,e,t[n]);return W$(r,e),r}function LT(e){return e&&e.__esModule?e:{default:e}}function FT(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)}function zT(e,r,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,t):s?s.value=t:r.set(e,t),t}function UT(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function qT(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var n,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=r[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=r[Symbol.dispose],t&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:n,async:t})}else t&&e.stack.push({async:!0});return r}function HT(e){function r(o){e.error=e.hasError?new X$(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,n=0;function s(){for(;t=e.stack.pop();)try{if(!t.async&&n===1)return n=0,e.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(o).then(s,function(a){return r(a),s()})}else n|=1}catch(a){r(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function jT(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,s,o,a){return n?r?".jsx":".js":s&&(!o||!a)?t:s+o+"."+a.toLowerCase()+"js"}):e}var rb,_m,xm,W$,nb,X$,Y$,Jn=P(()=>{rb=function(e,r){return rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},rb(e,r)};_m=function(){return _m=Object.assign||function(r){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},_m.apply(this,arguments)};xm=Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]};W$=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r},nb=function(e){return nb=Object.getOwnPropertyNames||function(r){var t=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[t.length]=n);return t},nb(e)};X$=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var n=new Error(t);return n.name="SuppressedError",n.error=e,n.suppressed=r,n};Y$={__extends:yT,__assign:_m,__rest:ST,__decorate:ET,__param:bT,__esDecorate:_T,__runInitializers:CT,__propKey:xT,__setFunctionName:wT,__metadata:AT,__awaiter:PT,__generator:vT,__createBinding:xm,__exportStar:TT,__values:Cm,__read:sb,__spread:RT,__spreadArrays:IT,__spreadArray:kT,__await:La,__asyncGenerator:OT,__asyncDelegator:NT,__asyncValues:BT,__makeTemplateObject:DT,__importStar:MT,__importDefault:LT,__classPrivateFieldGet:FT,__classPrivateFieldSet:zT,__classPrivateFieldIn:UT,__addDisposableResource:qT,__disposeResources:HT,__rewriteRelativeImportExtension:jT}});var VT=B(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.randomUUID=void 0;var J$=(Jn(),Re(Yn)),$T=J$.__importDefault(require("crypto"));wm.randomUUID=$T.default.randomUUID.bind($T.default)});var Am=B(KT=>{"use strict";var GT=VT(),_r=Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0")),Q$=()=>{if(GT.randomUUID)return GT.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,_r[e[0]]+_r[e[1]]+_r[e[2]]+_r[e[3]]+"-"+_r[e[4]]+_r[e[5]]+"-"+_r[e[6]]+_r[e[7]]+"-"+_r[e[8]]+_r[e[9]]+"-"+_r[e[10]]+_r[e[11]]+_r[e[12]]+_r[e[13]]+_r[e[14]]+_r[e[15]]};KT.v4=Q$});var Qn,WT=P(()=>{Qn=k(Am())});var Br,XT=P(()=>{Br=function(r){return Object.assign(new String(r),{deserializeJSON(){return JSON.parse(String(r))},toString(){return String(r)},toJSON(){return String(r)}})};Br.from=e=>e&&typeof e=="object"&&(e instanceof Br||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?Br(String(e)):Br(JSON.stringify(e));Br.fromObject=Br.from});function ob(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var YT=P(()=>{});function Cs(e,r,t){let n=Number(e);if(n<r||n>t)throw new Error(`Value ${n} out of range [${r}, ${t}]`)}var ib,ab,cb,JT,QT,Z$,eV,tV,rV,nV,Xl,lb,db,ZT=P(()=>{ib="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",ab="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",cb="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",JT="(\\d?\\d)",QT="(\\d{4})",Z$=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),eV=new RegExp(`^${ib}, ${JT} ${ab} ${QT} ${cb} GMT$`),tV=new RegExp(`^${ib}, ${JT}-${ab}-(\\d\\d) ${cb} GMT$`),rV=new RegExp(`^${ib} ${ab} ( [1-9]|\\d\\d) ${cb} ${QT}$`),nV=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Xl=e=>{if(e==null)return;let r=NaN;if(typeof e=="number")r=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");r=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(r=e.value);if(isNaN(r)||Math.abs(r)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(r*1e3))},lb=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let r=Z$.exec(e);if(!r)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,t,n,s,o,a,c,,l,d]=r;Cs(n,1,12),Cs(s,1,31),Cs(o,0,23),Cs(a,0,59),Cs(c,0,60);let f=new Date(Date.UTC(Number(t),Number(n)-1,Number(s),Number(o),Number(a),Number(c),Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0));if(f.setUTCFullYear(Number(t)),d.toUpperCase()!="Z"){let[,g,y,h]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],_=g==="-"?1:-1;f.setTime(f.getTime()+_*(Number(y)*60*60*1e3+Number(h)*60*1e3))}return f},db=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let r,t,n,s,o,a,c,l;if((l=eV.exec(e))?[,r,t,n,s,o,a,c]=l:(l=tV.exec(e))?([,r,t,n,s,o,a,c]=l,n=(Number(n)+1900).toString()):(l=rV.exec(e))&&([,t,r,s,o,a,c,n]=l),n&&a){let d=Date.UTC(Number(n),nV.indexOf(t),Number(r),Number(s),Number(o),Number(a),c?Math.round(parseFloat(`0.${c}`)*1e3):0);Cs(r,1,31),Cs(s,0,23),Cs(o,0,59),Cs(a,0,60);let f=new Date(d);return f.setUTCFullYear(Number(n)),f}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function ub(e,r,t){if(t<=0||!Number.isInteger(t))throw new Error("Invalid number of delimiters ("+t+") for splitEvery.");let n=e.split(r);if(t===1)return n;let s=[],o="";for(let a=0;a<n.length;a++)o===""?o=n[a]:o+=r+n[a],(a+1)%t===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var eR=P(()=>{});var Yl,tR=P(()=>{Yl=e=>{let r=e.length,t=[],n=!1,s,o=0;for(let a=0;a<r;++a){let c=e[a];switch(c){case'"':s!=="\\"&&(n=!n);break;case",":n||(t.push(e.slice(o,a)),o=a+1);break;default:}s=c}return t.push(e.slice(o)),t.map(a=>{a=a.trim();let c=a.length;return c<2?a:(a[0]==='"'&&a[c-1]==='"'&&(a=a.slice(1,c-1)),a.replace(/\\"/g,'"'))})}});function mb(e){return new Pt(String(e),"bigDecimal")}var rR,Pt,nR=P(()=>{rR=/^-?\d*(\.\d+)?$/,Pt=class e{string;type;constructor(r,t){if(this.string=r,this.type=t,!rR.test(r))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](r){if(!r||typeof r!="object")return!1;let t=r;return e.prototype.isPrototypeOf(r)||t.type==="bigDecimal"&&rR.test(t.string)}}});var sR={};dn(sR,{LazyJsonString:()=>Br,NumericValue:()=>Pt,_parseEpochTimestamp:()=>Xl,_parseRfc3339DateTimeWithOffset:()=>lb,_parseRfc7231DateTime:()=>db,copyDocumentWithTransform:()=>y$,dateToUtcString:()=>Wl,expectBoolean:()=>E$,expectByte:()=>VE,expectFloat32:()=>Sm,expectInt:()=>_$,expectInt32:()=>jE,expectLong:()=>Vl,expectNonNull:()=>x$,expectNumber:()=>$l,expectObject:()=>fT,expectShort:()=>$E,expectString:()=>w$,expectUnion:()=>A$,generateIdempotencyToken:()=>Qn.v4,handleFloat:()=>T$,limitedParseDouble:()=>WE,limitedParseFloat:()=>R$,limitedParseFloat32:()=>I$,logger:()=>Gl,nv:()=>mb,parseBoolean:()=>S$,parseEpochTimestamp:()=>tb,parseRfc3339DateTime:()=>D$,parseRfc3339DateTimeWithOffset:()=>ZE,parseRfc7231DateTime:()=>eb,quoteHeader:()=>ob,splitEvery:()=>ub,splitHeader:()=>Yl,strictParseByte:()=>XE,strictParseDouble:()=>bm,strictParseFloat:()=>P$,strictParseFloat32:()=>KE,strictParseInt:()=>k$,strictParseInt32:()=>O$,strictParseLong:()=>hT,strictParseShort:()=>ei});var $r=P(()=>{mT();pT();WT();XT();YE();YT();ZT();eR();tR();nR()});var Dr,Fa=P(()=>{Dr=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});var oR,fb,iR=P(()=>{oR=k(Xt()),fb=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:r,serializer:t,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=r,this.serializer=t,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){let s=this.marshaller,o=t.getEventStreamMember(),a=t.getMemberSchema(o),c=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(n){let g={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};c.write(t,n);let y=c.flush();yield{[d]:!0,headers:g,body:y}}for await(let g of r)yield g}};return s.serialize(f,g=>{if(g[d])return{headers:g.headers,body:g.body};let y=Object.keys(g).find(W=>W!=="__type")??"",{additionalHeaders:h,body:_,eventType:R,explicitPayloadContentType:I}=this.writeEventBody(y,a,g);return{headers:{":event-type":{type:"string",value:R},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:I??l},...h},body:_}})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){let s=this.marshaller,o=t.getEventStreamMember(),c=t.getMemberSchema(o).getMemberSchemas(),l=Symbol("initialResponseMarker"),d=s.deserialize(r.body,async y=>{let h=Object.keys(y).find(_=>_!=="__type")??"";if(h==="initial-response"){let _=await this.deserializer.read(t,y[h].body);return delete _[o],{[l]:!0,..._}}else if(h in c){let _=c[h];return{[h]:await this.deserializer.read(_,y[h].body)}}else return{$unknown:y}}),f=d[Symbol.asyncIterator](),g=await f.next();if(g.done)return d;if(g.value?.[l]){if(!t)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,h]of Object.entries(g.value))n[y]=h}return{async*[Symbol.asyncIterator](){for(g?.value?.[l]||(yield g.value);;){let{done:y,value:h}=await f.next();if(y)break;yield h}}}}writeEventBody(r,t,n){let s=this.serializer,o=r,a=null,c,l=t.getSchema()[4].includes(r),d={};if(l){let y=t.getMemberSchema(r);if(y.isStructSchema()){for(let[h,_]of y.structIterator()){let{eventHeader:R,eventPayload:I}=_.getMergedTraits();if(I){a=h;break}else if(R){let N=n[r][h],W="binary";_.isNumericSchema()?(-2)**31<=N&&N<=2**31-1?W="integer":W="long":_.isTimestampSchema()?W="timestamp":_.isStringSchema()?W="string":_.isBooleanSchema()&&(W="boolean"),N!=null&&(d[h]={type:W,value:N},delete n[r][h])}}if(a!==null){let h=y.getMemberSchema(a);h.isBlobSchema()?c="application/octet-stream":h.isStringSchema()&&(c="text/plain"),s.write(h,n[r][a])}else s.write(y,n[r])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,h]=n[r];o=y,s.write(15,h)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??oR.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:c,additionalHeaders:d}}}});var aR={};dn(aR,{EventStreamSerde:()=>fb});var cR=P(()=>{iR()});var Pm,ti,vm=P(()=>{Nt();Pm=k(Xe());Fa();ti=class extends Dr{options;constructor(r){super(),this.options=r}getRequestType(){return Pm.HttpRequest}getResponseType(){return Pm.HttpResponse}setSerdeContext(r){this.serdeContext=r,this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(r)}updateServiceEndpoint(r,t){if("url"in t){r.protocol=t.url.protocol,r.hostname=t.url.hostname,r.port=t.url.port?Number(t.url.port):void 0,r.path=t.url.pathname,r.fragment=t.url.hash||void 0,r.username=t.url.username||void 0,r.password=t.url.password||void 0,r.query||(r.query={});for(let[n,s]of t.url.searchParams.entries())r.query[n]=s;return r}else return r.protocol=t.protocol,r.hostname=t.hostname,r.port=t.port?Number(t.port):void 0,r.path=t.path,r.query={...t.query},r}setHostPrefix(r,t,n){let s=ie.of(t.input),o=Wn(t.traits??{});if(o.endpoint){let a=o.endpoint?.[0];if(typeof a=="string"){let c=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of c){let d=n[l];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);a=a.replace(`{${l}}`,d)}r.hostname=a+r.hostname}}}deserializeMetadata(r){return{httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:r,requestSchema:t,initialRequest:n})}async deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:r,responseSchema:t,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:r}=await Promise.resolve().then(()=>(cR(),aR));return new r({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(r,t,n,s,o){return[]}getEventStreamMarshaller(){let r=this.serdeContext;if(!r.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return r.eventStreamMarshaller}}});var lR,dR,ri,uR=P(()=>{Nt();$r();lR=k(Xe()),dR=k(Zo());um();mm();vm();ri=class extends ti{async serializeRequest(r,t,n){let s={...t??{}},o=this.serializer,a={},c={},l=await n.endpoint(),d=ie.of(r?.input),f=d.getSchema(),g=!1,y,h=new lR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:a,headers:c,body:void 0});if(l){this.updateServiceEndpoint(h,l),this.setHostPrefix(h,r,s);let _=Wn(r.traits);if(_.http){h.method=_.http[0];let[R,I]=_.http[1].split("?");h.path=="/"?h.path=R:h.path+=R;let N=new URLSearchParams(I??"");Object.assign(a,Object.fromEntries(N))}}for(let[_,R]of d.structIterator()){let I=R.getMergedTraits()??{},N=s[_];if(N!=null)if(I.httpPayload)R.isStreaming()?R.isStructSchema()?s[_]&&(y=await this.serializeEventStream({eventStream:s[_],requestSchema:d})):y=N:(o.write(R,N),y=o.flush()),delete s[_];else if(I.httpLabel){o.write(R,N);let W=o.flush();h.path.includes(`{${_}+}`)?h.path=h.path.replace(`{${_}+}`,W.split("/").map(Kn).join("/")):h.path.includes(`{${_}}`)&&(h.path=h.path.replace(`{${_}}`,Kn(W))),delete s[_]}else if(I.httpHeader)o.write(R,N),c[I.httpHeader.toLowerCase()]=String(o.flush()),delete s[_];else if(typeof I.httpPrefixHeaders=="string"){for(let[W,ce]of Object.entries(N)){let me=I.httpPrefixHeaders+W;o.write([R.getValueSchema(),{httpHeader:me}],ce),c[me.toLowerCase()]=o.flush()}delete s[_]}else I.httpQuery||I.httpQueryParams?(this.serializeQuery(R,N,a),delete s[_]):g=!0}return g&&s&&(o.write(f,s),y=o.flush()),h.headers=c,h.query=a,h.body=y,h}serializeQuery(r,t,n){let s=this.serializer,o=r.getMergedTraits();if(o.httpQueryParams){for(let[a,c]of Object.entries(t))if(!(a in n)){let l=r.getValueSchema();Object.assign(l.getMergedTraits(),{...o,httpQuery:a,httpQueryParams:void 0}),this.serializeQuery(l,c,n)}return}if(r.isListSchema()){let a=!!r.getMergedTraits().sparse,c=[];for(let l of t){s.write([r.getValueSchema(),o],l);let d=s.flush();(a||d!==void 0)&&c.push(d)}n[o.httpQuery]=c}else s.write([r,o],t),n[o.httpQuery]=s.flush()}async deserializeResponse(r,t,n){let s=this.deserializer,o=ie.of(r.output),a={};if(n.statusCode>=300){let l=await Mn(n.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(r,t,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=await this.deserializeHttpMessage(o,t,n,a);if(c.length){let l=await Mn(n.body,t);if(l.byteLength>0){let d=await s.read(o,l);for(let f of c)a[f]=d[f]}}return a.$metadata=this.deserializeMetadata(n),a}async deserializeHttpMessage(r,t,n,s,o){let a;s instanceof Set?a=o:a=s;let c=this.deserializer,l=ie.of(r),d=[];for(let[f,g]of l.structIterator()){let y=g.getMemberTraits();if(y.httpPayload){if(g.isStreaming())g.isStructSchema()?a[f]=await this.deserializeEventStream({response:n,responseSchema:l}):a[f]=(0,dR.sdkStreamMixin)(n.body);else if(n.body){let _=await Mn(n.body,t);_.byteLength>0&&(a[f]=await c.read(g,_))}}else if(y.httpHeader){let h=String(y.httpHeader).toLowerCase(),_=n.headers[h];if(_!=null)if(g.isListSchema()){let R=g.getValueSchema();R.getMergedTraits().httpHeader=h;let I;R.isTimestampSchema()&&R.getSchema()===4?I=ub(_,",",2):I=Yl(_);let N=[];for(let W of I)N.push(await c.read(R,W.trim()));a[f]=N}else a[f]=await c.read(g,_)}else if(y.httpPrefixHeaders!==void 0){a[f]={};for(let[h,_]of Object.entries(n.headers))if(h.startsWith(y.httpPrefixHeaders)){let R=g.getValueSchema();R.getMergedTraits().httpHeader=h,a[f][h.slice(y.httpPrefixHeaders.length)]=await c.read(R,_)}}else y.httpResponseCode?a[f]=n.statusCode:d.push(f)}return d}}});var mR,xs,fR=P(()=>{Nt();mR=k(Xe());um();vm();xs=class extends ti{async serializeRequest(r,t,n){let s=this.serializer,o={},a={},c=await n.endpoint(),l=ie.of(r?.input),d=l.getSchema(),f,g=new mR.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:a,body:void 0});c&&(this.updateServiceEndpoint(g,c),this.setHostPrefix(g,r,t));let y={...t};if(t){let h=l.getEventStreamMember();if(h){if(y[h]){let _={};for(let[R,I]of l.structIterator())R!==h&&y[R]&&(s.write(I,y[R]),_[R]=s.flush());f=await this.serializeEventStream({eventStream:y[h],requestSchema:l,initialRequest:_})}}else s.write(d,y),f=s.flush()}return g.headers=a,g.query=o,g.body=f,g.method="POST",g}async deserializeResponse(r,t,n){let s=this.deserializer,o=ie.of(r.output),a={};if(n.statusCode>=300){let l=await Mn(n.body,t);throw l.byteLength>0&&Object.assign(a,await s.read(15,l)),await this.handleError(r,t,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in n.headers){let d=n.headers[l];delete n.headers[l],n.headers[l.toLowerCase()]=d}let c=o.getEventStreamMember();if(c)a[c]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:a});else{let l=await Mn(n.body,t);l.byteLength>0&&Object.assign(a,await s.read(o,l))}return a.$metadata=this.deserializeMetadata(n),a}}});var gb,hb=P(()=>{mm();gb=(e,r,t,n,s,o)=>{if(r!=null&&r[t]!==void 0){let a=n();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?a.split("/").map(c=>Kn(c)).join("/"):Kn(a))}else throw new Error("No value provided for input HTTP label: "+t+".");return e}});function Jl(e,r){return new Tm(e,r)}var gR,Tm,hR=P(()=>{gR=k(Xe());hb();Tm=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(r,t){this.input=r,this.context=t}async build(){let{hostname:r,protocol:t="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new gR.HttpRequest({protocol:t,hostname:this.hostname||r,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(r){return this.hostname=r,this}bp(r){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+r}),this}p(r,t,n,s){return this.resolvePathStack.push(o=>{this.path=gb(o,this.input,r,t,n,s)}),this}h(r){return this.headers=r,this}q(r){return this.query=r,this}b(r){return this.body=r,this}m(r){return this.method=r,this}}});function en(e,r){if(r.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:t,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(r.httpBindings?typeof n=="string"||s?6:o||t?5:void 0:void 0)??r.timestampFormat.default}var Rm=P(()=>{});var pb,pR,ni,yb=P(()=>{Nt();$r();pb=k(gr()),pR=k(Xt());Fa();Rm();ni=class extends Dr{settings;constructor(r){super(),this.settings=r}read(r,t){let n=ie.of(r);if(n.isListSchema())return Yl(t).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??pb.fromBase64)(t);if(n.isTimestampSchema())switch(en(n,this.settings)){case 5:return lb(t);case 6:return db(t);case 7:return Xl(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=t;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=Br.from(o)),o}return n.isNumericSchema()?Number(t):n.isBigIntegerSchema()?BigInt(t):n.isBigDecimalSchema()?new Pt(t,"bigDecimal"):n.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(r){return(this.serdeContext?.utf8Encoder??pR.toUtf8)((this.serdeContext?.base64Decoder??pb.fromBase64)(r))}}});var Im,si,yR=P(()=>{Nt();Im=k(Xt());Fa();yb();si=class extends Dr{codecDeserializer;stringDeserializer;constructor(r,t){super(),this.codecDeserializer=r,this.stringDeserializer=new ni(t)}setSerdeContext(r){this.stringDeserializer.setSerdeContext(r),this.codecDeserializer.setSerdeContext(r),this.serdeContext=r}read(r,t){let n=ie.of(r),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Im.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(t));if(s.httpPayload){if(n.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??Im.fromUtf8;return typeof t=="string"?a(t):t}else if(n.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(n,t)}}});var Sb,Ql,Eb=P(()=>{Nt();$r();Sb=k(gr());Fa();Rm();Ql=class extends Dr{settings;stringBuffer="";constructor(r){super(),this.settings=r}write(r,t){let n=ie.of(r);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${n.getName(!0)}`);switch(en(n,this.settings)){case 5:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Wl(t);break;case 7:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??Sb.toBase64)(t);return}if(n.isListSchema()&&Array.isArray(t)){let a="";for(let c of t){this.write([n.getValueSchema(),n.getMergedTraits()],c);let l=this.flush(),d=n.getValueSchema().isTimestampSchema()?l:ob(l);a!==""&&(a+=", "),a+=d}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=t;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=Br.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Sb.toBase64)(o.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let r=this.stringBuffer;return this.stringBuffer="",r}}});var oi,SR=P(()=>{Nt();Eb();oi=class{codecSerializer;stringSerializer;buffer;constructor(r,t,n=new Ql(t)){this.codecSerializer=r,this.stringSerializer=n}setSerdeContext(r){this.codecSerializer.setSerdeContext(r),this.stringSerializer.setSerdeContext(r)}write(r,t){let n=ie.of(r),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,t)}flush(){if(this.buffer!==void 0){let r=this.buffer;return this.buffer=void 0,r}return this.codecSerializer.flush()}}});var ER={};dn(ER,{FromStringShapeDeserializer:()=>ni,HttpBindingProtocol:()=>ri,HttpInterceptingShapeDeserializer:()=>si,HttpInterceptingShapeSerializer:()=>oi,HttpProtocol:()=>ti,RequestBuilder:()=>Tm,RpcProtocol:()=>xs,SerdeContext:()=>Dr,ToStringShapeSerializer:()=>Ql,collectBody:()=>Mn,determineTimestampFormat:()=>en,extendedEncodeURIComponent:()=>Kn,requestBuilder:()=>Jl,resolvedPath:()=>gb});var Vr=P(()=>{um();mm();uR();vm();fR();hR();hb();yb();yR();SR();Eb();Rm();Fa()});var bR=P(()=>{Vr()});function sV(e,r,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[r]=t}var _R=P(()=>{});var ii,CR=P(()=>{ii=class{authSchemes=new Map;constructor(r){for(let[t,n]of Object.entries(r))n!==void 0&&this.authSchemes.set(t,n)}getIdentityProvider(r){return this.authSchemes.get(r)}}});var xR,bb,_b,wR=P(()=>{xR=k(Xe()),bb=k(Es()),_b=class{async sign(r,t,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=xR.HttpRequest.clone(r);if(n.in===bb.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=t.apiKey;else if(n.in===bb.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${t.apiKey}`:t.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var AR,Cb,PR=P(()=>{AR=k(Xe()),Cb=class{async sign(r,t,n){let s=AR.HttpRequest.clone(r);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${t.token}`,s}}});var ws,vR=P(()=>{ws=class{async sign(r,t,n){return r}}});var TR=P(()=>{wR();PR();vR()});var RR,oV,xb,km,wb,IR=P(()=>{RR=e=>function(t){return km(t)&&t.expiration.getTime()-Date.now()<e},oV=3e5,xb=RR(3e5),km=e=>e.expiration!==void 0,wb=(e,r,t)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,a,c=!1,l=async d=>{o||(o=n(d));try{s=await o,a=!0,c=!1}finally{o=void 0}return s};return r===void 0?async d=>((!a||d?.forceRefresh)&&(s=await l(d)),s):async d=>((!a||d?.forceRefresh)&&(s=await l(d)),c?s:t(s)?(r(s)&&await l(d),s):(c=!0,s))}});var kR=P(()=>{CR();TR();IR()});var ai={};dn(ai,{DefaultIdentityProviderConfig:()=>ii,EXPIRATION_MS:()=>oV,HttpApiKeyAuthSigner:()=>_b,HttpBearerAuthSigner:()=>Cb,NoAuthSigner:()=>ws,createIsIdentityExpiredFunction:()=>RR,createPaginator:()=>VP,doesIdentityRequireRefresh:()=>km,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Ll,getHttpAuthSchemePlugin:()=>UH,getHttpSigningPlugin:()=>Fl,getSmithyContext:()=>BH,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>RP,httpAuthSchemeMiddleware:()=>Ml,httpAuthSchemeMiddlewareOptions:()=>MP,httpSigningMiddleware:()=>cE,httpSigningMiddlewareOptions:()=>qP,isIdentityExpired:()=>xb,memoizeIdentityProvider:()=>wb,normalizeProvider:()=>to,requestBuilder:()=>Jl,setFeature:()=>sV});var Mr=P(()=>{wP();FP();jP();$P();GP();bR();_R();kR()});var Lr=B(ci=>{"use strict";var za=class e extends Error{name="ProviderError";tryNextLink;constructor(r,t=!0){let n,s=!0;typeof t=="boolean"?(n=void 0,s=t):t!=null&&typeof t=="object"&&(n=t.logger,s=t.tryNextLink??!0),super(r),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${r}`)}static from(r,t=!0){return Object.assign(new this(r.message,t),r)}},Ab=class e extends za{name="CredentialsProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},Pb=class e extends za{name="TokenProviderError";constructor(r,t=!0){super(r,t),Object.setPrototypeOf(this,e.prototype)}},iV=(...e)=>async()=>{if(e.length===0)throw new za("No providers in chain");let r;for(let t of e)try{return await t()}catch(n){if(r=n,n?.tryNextLink)continue;throw n}throw r},aV=e=>()=>Promise.resolve(e),cV=(e,r,t)=>{let n,s,o,a=!1,c=async()=>{s||(s=e());try{n=await s,o=!0,a=!1}finally{s=void 0}return n};return r===void 0?async l=>((!o||l?.forceRefresh)&&(n=await c()),n):async l=>((!o||l?.forceRefresh)&&(n=await c()),a?n:t&&!t(n)?(a=!0,n):(r(n)&&await c(),n))};ci.CredentialsProviderError=Ab;ci.ProviderError=za;ci.TokenProviderError=Pb;ci.chain=iV;ci.fromStatic=aV;ci.memoize=cV});var vb,OR,NR,BR=P(()=>{Mr();vb=k(Lr()),OR=e=>(e.sigv4aSigningRegionSet=to(e.sigv4aSigningRegionSet),e),NR={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(r=>r.trim());throw new vb.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(r=>r.trim());throw new vb.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var zm=B(Pe=>{"use strict";var so=am(),li=Xt(),lV=Gu(),FR=Xe(),DR=br(),Om=CE(),zR="X-Amz-Algorithm",UR="X-Amz-Credential",Nb="X-Amz-Date",qR="X-Amz-SignedHeaders",HR="X-Amz-Expires",Bb="X-Amz-Signature",Db="X-Amz-Security-Token",dV="X-Amz-Region-Set",Mb="authorization",Lb=Nb.toLowerCase(),jR="date",$R=[Mb,Lb,jR],VR=Bb.toLowerCase(),Lm="x-amz-content-sha256",GR=Db.toLowerCase(),uV="host",KR={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},WR=/^proxy-/,XR=/^sec-/,mV=[/^proxy-/i,/^sec-/i],Nm="AWS4-HMAC-SHA256",fV="AWS4-ECDSA-P256-SHA256",YR="AWS4-HMAC-SHA256-PAYLOAD",JR="UNSIGNED-PAYLOAD",QR=50,Fb="aws4_request",ZR=60*60*24*7,Ua={},Bm=[],Dm=(e,r,t)=>`${e}/${r}/${t}/${Fb}`,eI=async(e,r,t,n,s)=>{let o=await MR(e,r.secretAccessKey,r.accessKeyId),a=`${t}:${n}:${s}:${so.toHex(o)}:${r.sessionToken}`;if(a in Ua)return Ua[a];for(Bm.push(a);Bm.length>QR;)delete Ua[Bm.shift()];let c=`AWS4${r.secretAccessKey}`;for(let l of[t,n,s,Fb])c=await MR(e,c,l);return Ua[a]=c},gV=()=>{Bm.length=0,Object.keys(Ua).forEach(e=>{delete Ua[e]})},MR=(e,r,t)=>{let n=new e(r);return n.update(li.toUint8Array(t)),n.digest()},Tb=({headers:e},r,t)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in KR||r?.has(o)||WR.test(o)||XR.test(o))&&(!t||t&&!t.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},Mm=async({headers:e,body:r},t)=>{for(let n of Object.keys(e))if(n.toLowerCase()===Lm)return e[n];if(r==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof r=="string"||ArrayBuffer.isView(r)||lV.isArrayBuffer(r)){let n=new t;return n.update(li.toUint8Array(r)),so.toHex(await n.digest())}return JR},Rb=class{format(r){let t=[];for(let o of Object.keys(r)){let a=li.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(r.value,3),a;case"string":let c=li.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Ib.fromNumber(r.value.valueOf()).bytes,1),f;case"uuid":if(!hV.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(so.fromHex(r.value.replace(/\-/g,"")),1),g}}},hV=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Ib=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&LR(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&LR(r),parseInt(so.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function LR(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var tI=(e,r)=>{e=e.toLowerCase();for(let t of Object.keys(r))if(e===t.toLowerCase())return!0;return!1},rI=(e,r={})=>{let{headers:t,query:n={}}=FR.HttpRequest.clone(e);for(let s of Object.keys(t)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!r.unhoistableHeaders?.has(o)||r.hoistableHeaders?.has(o))&&(n[s]=t[s],delete t[s])}return{...e,headers:t,query:n}},kb=e=>{e=FR.HttpRequest.clone(e);for(let r of Object.keys(e.headers))$R.indexOf(r.toLowerCase())>-1&&delete e.headers[r];return e},nI=({query:e={}})=>{let r=[],t={};for(let n of Object.keys(e)){if(n.toLowerCase()===VR)continue;let s=Om.escapeUri(n);r.push(s);let o=e[n];typeof o=="string"?t[s]=`${s}=${Om.escapeUri(o)}`:Array.isArray(o)&&(t[s]=o.slice(0).reduce((a,c)=>a.concat([`${s}=${Om.escapeUri(c)}`]),[]).sort().join("&"))}return r.sort().map(n=>t[n]).filter(n=>n).join("&")},pV=e=>yV(e).toISOString().replace(/\.\d{3}Z$/,"Z"),yV=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Fm=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a=!0}){this.service=s,this.sha256=o,this.uriEscapePath=a,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=DR.normalizeProvider(n),this.credentialProvider=DR.normalizeProvider(t)}createCanonicalRequest(r,t,n){let s=Object.keys(t).sort();return`${r.method}
${this.getCanonicalPath(r)}
${nI(r)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(r,t,n,s){let o=new this.sha256;o.update(li.toUint8Array(n));let a=await o.digest();return`${s}
${r}
${t}
${so.toHex(a)}`}getCanonicalPath({path:r}){if(this.uriEscapePath){let t=[];for(let o of r.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let n=`${r?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&r?.endsWith("/")?"/":""}`;return Om.escapeUri(n).replace(/%2F/g,"/")}return r}validateResolvedCredentials(r){if(typeof r!="object"||typeof r.accessKeyId!="string"||typeof r.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(r){let t=pV(r).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(r){return Object.keys(r).sort().join(";")}},Ob=class extends Fm{headerFormatter=new Rb;constructor({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a=!0}){super({applyChecksum:r,credentials:t,region:n,service:s,sha256:o,uriEscapePath:a})}async presign(r,t={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:a,signableHeaders:c,hoistableHeaders:l,signingRegion:d,signingService:f}=t,g=await this.credentialProvider();this.validateResolvedCredentials(g);let y=d??await this.regionProvider(),{longDate:h,shortDate:_}=this.formatDate(n);if(s>ZR)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let R=Dm(_,y,f??this.service),I=rI(kb(r),{unhoistableHeaders:a,hoistableHeaders:l});g.sessionToken&&(I.query[Db]=g.sessionToken),I.query[zR]=Nm,I.query[UR]=`${g.accessKeyId}/${R}`,I.query[Nb]=h,I.query[HR]=s.toString(10);let N=Tb(I,o,c);return I.query[qR]=this.getCanonicalHeaderList(N),I.query[Bb]=await this.getSignature(h,R,this.getSigningKey(g,y,_,f),this.createCanonicalRequest(I,N,await Mm(r,this.sha256))),I}async sign(r,t){return typeof r=="string"?this.signString(r,t):r.headers&&r.payload?this.signEvent(r,t):r.message?this.signMessage(r,t):this.signRequest(r,t)}async signEvent({headers:r,payload:t},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:a}){let c=o??await this.regionProvider(),{shortDate:l,longDate:d}=this.formatDate(n),f=Dm(l,c,a??this.service),g=await Mm({headers:{},body:t},this.sha256),y=new this.sha256;y.update(r);let h=so.toHex(await y.digest()),_=[YR,d,f,s,h,g].join(`
`);return this.signString(_,{signingDate:n,signingRegion:c,signingService:a})}async signMessage(r,{signingDate:t=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(r.message.headers),payload:r.message.body},{signingDate:t,signingRegion:n,signingService:s,priorSignature:r.priorSignature}).then(a=>({message:r.message,signature:a}))}async signString(r,{signingDate:t=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=n??await this.regionProvider(),{shortDate:c}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,a,c,s));return l.update(li.toUint8Array(r)),so.toHex(await l.digest())}async signRequest(r,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:a}={}){let c=await this.credentialProvider();this.validateResolvedCredentials(c);let l=o??await this.regionProvider(),d=kb(r),{longDate:f,shortDate:g}=this.formatDate(t),y=Dm(g,l,a??this.service);d.headers[Lb]=f,c.sessionToken&&(d.headers[GR]=c.sessionToken);let h=await Mm(d,this.sha256);!tI(Lm,d.headers)&&this.applyChecksum&&(d.headers[Lm]=h);let _=Tb(d,s,n),R=await this.getSignature(f,y,this.getSigningKey(c,l,g,a),this.createCanonicalRequest(d,_,h));return d.headers[Mb]=`${Nm} Credential=${c.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(_)}, Signature=${R}`,d}async getSignature(r,t,n,s){let o=await this.createStringToSign(r,t,s,Nm),a=new this.sha256(await n);return a.update(li.toUint8Array(o)),so.toHex(await a.digest())}getSigningKey(r,t,n,s){return eI(this.sha256,r,n,t,s||this.service)}},SV={SignatureV4a:null};Pe.ALGORITHM_IDENTIFIER=Nm;Pe.ALGORITHM_IDENTIFIER_V4A=fV;Pe.ALGORITHM_QUERY_PARAM=zR;Pe.ALWAYS_UNSIGNABLE_HEADERS=KR;Pe.AMZ_DATE_HEADER=Lb;Pe.AMZ_DATE_QUERY_PARAM=Nb;Pe.AUTH_HEADER=Mb;Pe.CREDENTIAL_QUERY_PARAM=UR;Pe.DATE_HEADER=jR;Pe.EVENT_ALGORITHM_IDENTIFIER=YR;Pe.EXPIRES_QUERY_PARAM=HR;Pe.GENERATED_HEADERS=$R;Pe.HOST_HEADER=uV;Pe.KEY_TYPE_IDENTIFIER=Fb;Pe.MAX_CACHE_SIZE=QR;Pe.MAX_PRESIGNED_TTL=ZR;Pe.PROXY_HEADER_PATTERN=WR;Pe.REGION_SET_PARAM=dV;Pe.SEC_HEADER_PATTERN=XR;Pe.SHA256_HEADER=Lm;Pe.SIGNATURE_HEADER=VR;Pe.SIGNATURE_QUERY_PARAM=Bb;Pe.SIGNED_HEADERS_QUERY_PARAM=qR;Pe.SignatureV4=Ob;Pe.SignatureV4Base=Fm;Pe.TOKEN_HEADER=GR;Pe.TOKEN_QUERY_PARAM=Db;Pe.UNSIGNABLE_PATTERNS=mV;Pe.UNSIGNED_PAYLOAD=JR;Pe.clearCredentialCache=gV;Pe.createScope=Dm;Pe.getCanonicalHeaders=Tb;Pe.getCanonicalQuery=nI;Pe.getPayloadHash=Mm;Pe.getSigningKey=eI;Pe.hasHeader=tI;Pe.moveHeadersToQuery=rI;Pe.prepareRequest=kb;Pe.signatureV4aContainer=SV});function EV(e,{credentials:r,credentialDefaultProvider:t}){let n;return r?r?.memoized?n=r:n=wb(r,xb,km):t?n=to(t(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function bV(e,r){if(r.configBound)return r;let t=async n=>r({...n,callerClientConfig:e});return t.memoized=r.memoized,t.configBound=!0,t}var zb,di,sI,oI=P(()=>{Dn();Mr();zb=k(zm()),di=e=>{let r=e.credentials,t=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(d){d&&d!==r&&d!==n&&(t=!0),r=d;let f=EV(e,{credentials:r,credentialDefaultProvider:e.credentialDefaultProvider}),g=bV(e,f);t&&!g.attributed?(n=async y=>g(y).then(h=>Qs(h,"CREDENTIALS_CODE","e")),n.memoized=g.memoized,n.configBound=g.configBound,n.attributed=!0):n=g},get(){return n},enumerable:!0,configurable:!0}),e.credentials=r;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:a}=e,c;return e.signer?c=to(e.signer):e.regionInfoProvider?c=()=>to(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,f])=>{let{signingRegion:g,signingService:y}=d;e.signingRegion=e.signingRegion||g||f,e.signingName=e.signingName||y||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},_=e.signerConstructor||zb.SignatureV4;return new _(h)}):c=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await to(e.region)(),properties:{}},d);let f=d.signingRegion,g=d.signingName;e.signingRegion=e.signingRegion||f,e.signingName=e.signingName||g||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:a,uriEscapePath:s},h=e.signerConstructor||zb.SignatureV4;return new h(y)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:c})},sI=di});var iI=P(()=>{rE();EP();xP();BR();oI()});var aI={};dn(aI,{AWSSDKSigV4Signer:()=>tE,AwsSdkSigV4ASigner:()=>Dl,AwsSdkSigV4Signer:()=>jr,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ra,NODE_SIGV4A_CONFIG_OPTIONS:()=>NR,getBearerTokenEnvKey:()=>$u,resolveAWSSDKSigV4Config:()=>sI,resolveAwsSdkSigV4AConfig:()=>OR,resolveAwsSdkSigV4Config:()=>di,validateSigningProperties:()=>Ta});var Ub=P(()=>{iI();sE()});function oo(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Um(e){return e[qb]=!0,e}var qb,qm=P(()=>{qb=Symbol("@smithy/core/cbor::tagSymbol")});function dI(e){st=e,Ps=new DataView(st.buffer,st.byteOffset,st.byteLength)}function Zn(e,r){if(e>=r)throw new Error("unexpected end of (decode) payload.");let t=(st[e]&224)>>5,n=st[e]&31;switch(t){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let a=mI[n],c=a+1;if(o=c,r-e<c)throw new Error(`countLength ${a} greater than remaining buf len.`);let l=e+1;a===1?s=st[l]:a===2?s=Ps.getUint16(l):a===4?s=Ps.getUint32(l):s=Ps.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${n}.`)}if(t===0)return Be=o,Hb(s);if(t===1){let a;return typeof s=="bigint"?a=BigInt(-1)-s:a=-1-s,Be=o,Hb(a)}else if(n===2||n===3){let a=rd(e+o,r),c=BigInt(0),l=e+o+Be;for(let d=l;d<l+a;++d)c=c<<BigInt(8)|BigInt(st[d]);return Be=o+Be+a,n===3?-c-BigInt(1):c}else if(n===4){let a=Zn(e+o,r),[c,l]=a,d=l<0?-1:1,f="0".repeat(Math.abs(c)+1)+String(BigInt(d)*BigInt(l)),g,y=l<0?"-":"";return g=c===0?f:f.slice(0,f.length+c)+"."+f.slice(c),g=g.replace(/^0+/g,""),g===""&&(g="0"),g[0]==="."&&(g="0"+g),g=y+g,Be=o+Be,mb(g)}else{let a=Zn(e+o,r);return Be=o+Be,Um({tag:Hb(s),value:a})}case 3:case 5:case 4:case 2:if(n===31)switch(t){case 3:return vV(e,r);case 5:return OV(e,r);case 4:return IV(e,r);case 2:return TV(e,r)}else switch(t){case 3:return PV(e,r);case 5:return kV(e,r);case 4:return RV(e,r);case 2:return Wb(e,r)}default:return NV(e,r)}}function uI(e,r,t){return xV&&e.constructor?.name==="Buffer"?e.toString("utf-8",r,t):cI?cI.decode(e.subarray(r,t)):(0,lI.toUtf8)(e.subarray(r,t))}function wV(e){let r=Number(e);return(r<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<r)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${r} with loss of precision.`)),r}function AV(e,r){let t=e>>7,n=(e&124)>>2,s=(e&3)<<8|r,o=t===0?1:-1,a,c;if(n===0){if(s===0)return 0;a=Math.pow(2,-14),c=0}else{if(n===31)return s===0?o*(1/0):NaN;a=Math.pow(2,n-15),c=1}return c+=s/1024,o*(a*c)}function rd(e,r){let t=st[e]&31;if(t<24)return Be=1,t;if(t===24||t===25||t===26||t===27){let n=mI[t];if(Be=n+1,r-e<Be)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?st[s]:n===2?Ps.getUint16(s):n===4?Ps.getUint32(s):wV(Ps.getBigUint64(s))}throw new Error(`unexpected minor value ${t}.`)}function PV(e,r){let t=rd(e,r),n=Be;if(e+=n,r-e<t)throw new Error(`string len ${t} greater than remaining buf len.`);let s=uI(st,e,e+t);return Be=n+t,s}function vV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(st[e]===255){let l=oo(t.length);return l.set(t,0),Be=e-n+2,uI(l,0,l.length)}let s=(st[e]&224)>>5,o=st[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=Wb(e,r);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function Wb(e,r){let t=rd(e,r),n=Be;if(e+=n,r-e<t)throw new Error(`unstructured byte string len ${t} greater than remaining buf len.`);let s=st.subarray(e,e+t);return Be=n+t,s}function TV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(st[e]===255){let l=oo(t.length);return l.set(t,0),Be=e-n+2,l}let s=(st[e]&224)>>5,o=st[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let a=Wb(e,r);e+=Be;for(let l=0;l<a.length;++l)t.push(a[l])}throw new Error("expected break marker.")}function RV(e,r){let t=rd(e,r),n=Be;e+=n;let s=e,o=Array(t);for(let a=0;a<t;++a){let c=Zn(e,r),l=Be;o[a]=c,e+=l}return Be=n+(e-s),o}function IV(e,r){e+=1;let t=[];for(let n=e;e<r;){if(st[e]===255)return Be=e-n+2,t;let s=Zn(e,r);e+=Be,t.push(s)}throw new Error("expected break marker.")}function kV(e,r){let t=rd(e,r),n=Be;e+=n;let s=e,o={};for(let a=0;a<t;++a){if(e>=r)throw new Error("unexpected end of map payload.");let c=(st[e]&224)>>5;if(c!==3)throw new Error(`unexpected major type ${c} for map key at index ${e}.`);let l=Zn(e,r);e+=Be;let d=Zn(e,r);e+=Be,o[l]=d}return Be=n+(e-s),o}function OV(e,r){e+=1;let t=e,n={};for(;e<r;){if(e>=r)throw new Error("unexpected end of map payload.");if(st[e]===255)return Be=e-t+2,n;let s=(st[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Zn(e,r);e+=Be;let a=Zn(e,r);e+=Be,n[o]=a}throw new Error("expected break marker.")}function NV(e,r){let t=st[e]&31;switch(t){case 21:case 20:return Be=1,t===21;case 22:return Be=1,null;case 23:return Be=1,null;case 25:if(r-e<3)throw new Error("incomplete float16 at end of buf.");return Be=3,AV(st[e+1],st[e+2]);case 26:if(r-e<5)throw new Error("incomplete float32 at end of buf.");return Be=5,Ps.getFloat32(e+1);case 27:if(r-e<9)throw new Error("incomplete float64 at end of buf.");return Be=9,Ps.getFloat64(e+1);default:throw new Error(`unexpected minor value ${t}.`)}}function Hb(e){if(typeof e=="number")return e;let r=Number(e);return Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:e}var lI,CV,xV,st,Ps,cI,Be,mI,fI=P(()=>{$r();lI=k(Xt());qm();CV=typeof TextDecoder<"u",xV=typeof Buffer<"u",st=oo(0),Ps=new DataView(st.buffer,st.byteOffset,st.byteLength),cI=CV?new TextDecoder:null,Be=0;mI={[24]:1,[25]:2,[26]:4,[27]:8}});function Yb(e){he.byteLength-ae<e&&(ae<16e6?jm(Math.max(he.byteLength*4,he.byteLength+e)):jm(he.byteLength+e+16e6))}function Jb(){let e=oo(ae);return e.set(he.subarray(0,ae),0),ae=0,e}function jm(e){let r=he;he=oo(e),r&&(r.copy?r.copy(he,0,0,r.byteLength):he.set(r,0)),Rs=new DataView(he.buffer,he.byteOffset,he.byteLength)}function Ts(e,r){r<24?he[ae++]=e<<5|r:r<256?(he[ae++]=e<<5|24,he[ae++]=r):r<65536?(he[ae++]=e<<5|25,Rs.setUint16(ae,r),ae+=2):r<2**32?(he[ae++]=e<<5|26,Rs.setUint32(ae,r),ae+=4):(he[ae++]=e<<5|27,Rs.setBigUint64(ae,typeof r=="bigint"?r:BigInt(r)),ae+=8)}function pI(e){let r=[e];for(;r.length;){let t=r.pop();if(Yb(typeof t=="string"?t.length*4:64),typeof t=="string"){if(gI)Ts(3,Buffer.byteLength(t)),ae+=he.write(t,ae);else{let n=(0,hI.fromUtf8)(t);Ts(3,n.byteLength),he.set(n,ae),ae+=n.byteLength}continue}else if(typeof t=="number"){if(Number.isInteger(t)){let n=t>=0,s=n?0:1,o=n?t:-t-1;o<24?he[ae++]=s<<5|o:o<256?(he[ae++]=s<<5|24,he[ae++]=o):o<65536?(he[ae++]=s<<5|25,he[ae++]=o>>8,he[ae++]=o):o<4294967296?(he[ae++]=s<<5|26,Rs.setUint32(ae,o),ae+=4):(he[ae++]=s<<5|27,Rs.setBigUint64(ae,BigInt(o)),ae+=8);continue}he[ae++]=251,Rs.setFloat64(ae,t),ae+=8;continue}else if(typeof t=="bigint"){let n=t>=0,s=n?0:1,o=n?t:-t-BigInt(1),a=Number(o);if(a<24)he[ae++]=s<<5|a;else if(a<256)he[ae++]=s<<5|24,he[ae++]=a;else if(a<65536)he[ae++]=s<<5|25,he[ae++]=a>>8,he[ae++]=a&255;else if(a<4294967296)he[ae++]=s<<5|26,Rs.setUint32(ae,a),ae+=4;else if(o<BigInt("18446744073709551616"))he[ae++]=s<<5|27,Rs.setBigUint64(ae,o),ae+=8;else{let c=o.toString(2),l=new Uint8Array(Math.ceil(c.length/8)),d=o,f=0;for(;l.byteLength-++f>=0;)l[l.byteLength-f]=Number(d&BigInt(255)),d>>=BigInt(8);Yb(l.byteLength*2),he[ae++]=n?194:195,gI?Ts(2,Buffer.byteLength(l)):Ts(2,l.byteLength),he.set(l,ae),ae+=l.byteLength}continue}else if(t===null){he[ae++]=246;continue}else if(typeof t=="boolean"){he[ae++]=224|(t?21:20);continue}else{if(typeof t>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)r.push(t[n]);Ts(4,t.length);continue}else if(typeof t.byteLength=="number"){Yb(t.length*2),Ts(2,t.length),he.set(t,ae),ae+=t.byteLength;continue}else if(typeof t=="object"){if(t instanceof Pt){let s=t.string.indexOf("."),o=s===-1?0:s-t.string.length+1,a=BigInt(t.string.replace(".",""));he[ae++]=196,r.push(a),r.push(o),Ts(4,2);continue}if(t[qb])if("tag"in t&&"value"in t){r.push(t.value),Ts(6,t.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(t));let n=Object.keys(t);for(let s=n.length-1;s>=0;--s){let o=n[s];r.push(t[o]),r.push(o)}Ts(5,n.length);continue}}throw new Error(`data type ${t?.constructor?.name??typeof t} not compatible for encoding.`)}}var hI,gI,BV,he,Rs,ae,yI=P(()=>{$r();hI=k(Xt());qm();gI=typeof Buffer<"u",BV=2048,he=oo(BV),Rs=new DataView(he.buffer,he.byteOffset,he.byteLength),ae=0});var Qb,SI=P(()=>{fI();yI();Qb={deserialize(e){return dI(e),Zn(0,e.length)},serialize(e){try{return pI(e),Jb()}catch(r){throw Jb(),r}},resizeEncodingBuffer(e){jm(e)}}});var $m,Vm,Gm=P(()=>{qm();$m=e=>Um({tag:1,value:e.getTime()/1e3}),Vm=(e,r)=>{let t=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(r.__type!==void 0)return t(r.__type);let n=Object.keys(r).find(s=>s.toLowerCase()==="code");if(n&&r[n]!==void 0)return t(r[n])}});var t_,Km,Zb,e_,r_=P(()=>{Vr();Nt();$r();t_=k(gr());SI();Gm();Km=class extends Dr{createSerializer(){let r=new Zb;return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new e_;return r.setSerdeContext(this.serdeContext),r}},Zb=class extends Dr{value;write(r,t){this.value=this.serialize(r,t)}serialize(r,t){let n=ie.of(r);if(t==null)return n.isIdempotencyToken()?(0,Qn.v4)():t;if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??t_.fromBase64)(t):t;if(n.isTimestampSchema())return typeof t=="number"||typeof t=="bigint"?$m(new Date(Number(t)/1e3|0)):$m(t);if(typeof t=="function"||typeof t=="object"){let s=t;if(n.isListSchema()&&Array.isArray(s)){let a=!!n.getMergedTraits().sparse,c=[],l=0;for(let d of s){let f=this.serialize(n.getValueSchema(),d);(f!=null||a)&&(c[l++]=f)}return c}if(s instanceof Date)return $m(s);let o={};if(n.isMapSchema()){let a=!!n.getMergedTraits().sparse;for(let c of Object.keys(s)){let l=this.serialize(n.getValueSchema(),s[c]);(l!=null||a)&&(o[c]=l)}}else if(n.isStructSchema())for(let[a,c]of n.structIterator()){let l=this.serialize(c,s[a]);l!=null&&(o[a]=l)}else if(n.isDocumentSchema())for(let a of Object.keys(s))o[a]=this.serialize(n.getValueSchema(),s[a]);return o}return t}flush(){let r=Qb.serialize(this.value);return this.value=void 0,r}},e_=class extends Dr{read(r,t){let n=Qb.deserialize(t);return this.readValue(r,n)}readValue(r,t){let n=ie.of(r);if(n.isTimestampSchema()&&typeof t=="number")return Xl(t);if(n.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??t_.fromBase64)(t):t;if(typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="bigint"||typeof t=="symbol")return t;if(typeof t=="function"||typeof t=="object"){if(t===null)return null;if("byteLength"in t||t instanceof Date||n.isDocumentSchema())return t;if(n.isListSchema()){let o=[],a=n.getValueSchema(),c=!!n.getMergedTraits().sparse;for(let l of t){let d=this.readValue(a,l);(d!=null||c)&&o.push(d)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,a=n.getValueSchema();for(let c of Object.keys(t)){let l=this.readValue(a,t[c]);(l!=null||o)&&(s[c]=l)}}else if(n.isStructSchema())for(let[o,a]of n.structIterator())s[o]=this.readValue(a,t[o]);return s}else return t}}});var EI,Wm,bI=P(()=>{Vr();Nt();EI=k(br());r_();Gm();Wm=class extends xs{codec=new Km;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:r}){super({defaultNamespace:r})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Ln(r.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:a}=(0,EI.getSmithyContext)(n),c=`/service/${o}/operation/${a}`;return s.path.endsWith("/")?s.path+=c.slice(1):s.path+=c,s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let a=Vm(n,s)??"Unknown",c=this.options.defaultNamespace;a.includes("#")&&([c]=a.split("#"));let l={$metadata:o,$response:n,$fault:n.statusCode<=500?"client":"server"},d=Yt.for(c),f;try{f=d.getSchema(a)}catch{s.Message&&(s.message=s.Message);let N=Yt.for("smithy.ts.sdk.synthetic."+c),W=N.getBaseException();if(W){let ce=N.getErrorCtor(W);throw Object.assign(new ce({name:a}),l,s)}throw Object.assign(new Error(a),l,s)}let g=ie.of(f),y=d.getErrorCtor(f),h=s.message??s.Message??"Unknown",_=new y(h),R={};for(let[I,N]of g.structIterator())R[I]=this.deserializer.readValue(N,s[I]);throw Object.assign(_,l,{$fault:g.getMergedTraits().error,message:h},R)}getDefaultContentType(){return"application/cbor"}}});var _I=P(()=>{Gm();bI();r_()});var un,Ha=P(()=>{Nt();un=class{resolveRestContentType(r,t){let n=t.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":r)}else if(!t.isUnitSchema()&&Object.values(n).find(a=>{let{httpQuery:c,httpQueryParams:l,httpHeader:d,httpLabel:f,httpPrefixHeaders:g}=a.getMergedTraits();return!c&&!l&&!d&&!f&&g===void 0}))return r}async getErrorSchemaOrThrowBaseException(r,t,n,s,o,a){let c=t,l=r;r.includes("#")&&([c,l]=r.split("#"));let d={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},f=Yt.for(c);try{return{errorSchema:a?.(f,l)??f.getSchema(r),errorMetadata:d}}catch{s.message=s.message??s.Message??"UnknownError";let y=Yt.for("smithy.ts.sdk.synthetic."+c),h=y.getBaseException();if(h){let _=y.getErrorCtor(h)??Error;throw Object.assign(new _({name:l}),d,s)}throw Object.assign(new Error(l),d,s)}}setQueryCompatError(r,t){let n=t.headers?.["x-amzn-query-error"];if(r!==void 0&&n!=null){let[s,o]=n.split(";"),a=Object.entries(r),c={Code:s,Type:o};Object.assign(r,c);for(let[l,d]of a)c[l]=d;delete c.__type,r.Error=c}}queryCompatOutput(r,t){r.Error&&(t.Error=r.Error),r.Type&&(t.Type=r.Type),r.Code&&(t.Code=r.Code)}}});var n_,CI=P(()=>{_I();Nt();Ha();n_=class extends Wm{awsQueryCompatible;mixin=new un;constructor({defaultNamespace:r,awsQueryCompatible:t}){super({defaultNamespace:r}),this.awsQueryCompatible=!!t}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let a=Vm(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Yt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f),h={};for(let[_,R]of d.structIterator())h[_]=this.deserializer.readValue(R,s[_]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var DV,MV,LV,xI=P(()=>{DV=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let r=new Error(`Received number ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}if(typeof e=="boolean"){let r=new Error(`Received boolean ${e} where a string was expected.`);return r.name="Warning",console.warn(r),String(e)}return e},MV=e=>{if(e==null)return e;if(typeof e=="string"){let r=e.toLowerCase();if(e!==""&&r!=="false"&&r!=="true"){let t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return e!==""&&r!=="false"}return e},LV=e=>{if(e==null)return e;if(typeof e=="string"){let r=Number(e);if(r.toString()!==e){let t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return r}return e}});var Cr,lo=P(()=>{Cr=class{serdeContext;setSerdeContext(r){this.serdeContext=r}}});function wI(e,r,t){if(t?.source){let n=t.source;if(typeof r=="number"&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||n!==String(r)))return n.includes(".")?new Pt(n,"bigDecimal"):BigInt(n)}return r}var AI=P(()=>{$r()});var RI=B(TI=>{"use strict";var ui=(e,r)=>{let t=[];if(e&&t.push(e),r)for(let n of r)t.push(n);return t},uo=(e,r)=>`${e||"anonymous"}${r&&r.length>0?` (a.k.a. ${r.join(",")})`:""}`,s_=()=>{let e=[],r=[],t=!1,n=new Set,s=g=>g.sort((y,h)=>PI[h.step]-PI[y.step]||vI[h.priority||"normal"]-vI[y.priority||"normal"]),o=g=>{let y=!1,h=_=>{let R=ui(_.name,_.aliases);if(R.includes(g)){y=!0;for(let I of R)n.delete(I);return!1}return!0};return e=e.filter(h),r=r.filter(h),y},a=g=>{let y=!1,h=_=>{if(_.middleware===g){y=!0;for(let R of ui(_.name,_.aliases))n.delete(R);return!1}return!0};return e=e.filter(h),r=r.filter(h),y},c=g=>(e.forEach(y=>{g.add(y.middleware,{...y})}),r.forEach(y=>{g.addRelativeTo(y.middleware,{...y})}),g.identifyOnResolve?.(f.identifyOnResolve()),g),l=g=>{let y=[];return g.before.forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...l(h))}),y.push(g),g.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?y.push(h):y.push(...l(h))}),y},d=(g=!1)=>{let y=[],h=[],_={};return e.forEach(I=>{let N={...I,before:[],after:[]};for(let W of ui(N.name,N.aliases))_[W]=N;y.push(N)}),r.forEach(I=>{let N={...I,before:[],after:[]};for(let W of ui(N.name,N.aliases))_[W]=N;h.push(N)}),h.forEach(I=>{if(I.toMiddleware){let N=_[I.toMiddleware];if(N===void 0){if(g)return;throw new Error(`${I.toMiddleware} is not found when adding ${uo(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&N.after.push(I),I.relation==="before"&&N.before.push(I)}}),s(y).map(l).reduce((I,N)=>(I.push(...N),I),[])},f={add:(g,y={})=>{let{name:h,override:_,aliases:R}=y,I={step:"initialize",priority:"normal",middleware:g,...y},N=ui(h,R);if(N.length>0){if(N.some(W=>n.has(W))){if(!_)throw new Error(`Duplicate middleware name '${uo(h,R)}'`);for(let W of N){let ce=e.findIndex(_e=>_e.name===W||_e.aliases?.some(We=>We===W));if(ce===-1)continue;let me=e[ce];if(me.step!==I.step||I.priority!==me.priority)throw new Error(`"${uo(me.name,me.aliases)}" middleware with ${me.priority} priority in ${me.step} step cannot be overridden by "${uo(h,R)}" middleware with ${I.priority} priority in ${I.step} step.`);e.splice(ce,1)}}for(let W of N)n.add(W)}e.push(I)},addRelativeTo:(g,y)=>{let{name:h,override:_,aliases:R}=y,I={middleware:g,...y},N=ui(h,R);if(N.length>0){if(N.some(W=>n.has(W))){if(!_)throw new Error(`Duplicate middleware name '${uo(h,R)}'`);for(let W of N){let ce=r.findIndex(_e=>_e.name===W||_e.aliases?.some(We=>We===W));if(ce===-1)continue;let me=r[ce];if(me.toMiddleware!==I.toMiddleware||me.relation!==I.relation)throw new Error(`"${uo(me.name,me.aliases)}" middleware ${me.relation} "${me.toMiddleware}" middleware cannot be overridden by "${uo(h,R)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);r.splice(ce,1)}}for(let W of N)n.add(W)}r.push(I)},clone:()=>c(s_()),use:g=>{g.applyToStack(f)},remove:g=>typeof g=="string"?o(g):a(g),removeByTag:g=>{let y=!1,h=_=>{let{tags:R,name:I,aliases:N}=_;if(R&&R.includes(g)){let W=ui(I,N);for(let ce of W)n.delete(ce);return y=!0,!1}return!0};return e=e.filter(h),r=r.filter(h),y},concat:g=>{let y=c(s_());return y.use(g),y.identifyOnResolve(t||y.identifyOnResolve()||(g.identifyOnResolve?.()??!1)),y},applyToStack:c,identify:()=>d(!0).map(g=>{let y=g.step??g.relation+" "+g.toMiddleware;return uo(g.name,g.aliases)+" - "+y}),identifyOnResolve(g){return typeof g=="boolean"&&(t=g),t},resolve:(g,y)=>{for(let h of d().map(_=>_.middleware).reverse())g=h(g,y);return t&&console.log(f.identify()),g}};return f},PI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},vI={high:3,normal:2,low:1};TI.constructStack=s_});var Ie=B(Ze=>{"use strict";var OI=RI(),f_=(Vr(),Re(ER)),i_=Es(),FV=(Nt(),Re(uT)),II=($r(),Re(sR)),a_=class{config;middlewareStack=OI.constructStack();initConfig;handlers;constructor(r){this.config=r}send(r,t,n){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:n,a=s===void 0&&this.config.cacheMiddleware===!0,c;if(a){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(r.constructor)?c=l.get(r.constructor):(c=r.resolveMiddleware(this.middlewareStack,this.config,s),l.set(r.constructor,c))}else delete this.handlers,c=r.resolveMiddleware(this.middlewareStack,this.config,s);if(o)c(r).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return c(r).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},o_="***SensitiveInformation***";function c_(e,r){if(r==null)return r;let t=FV.NormalizedSchema.of(e);if(t.getMergedTraits().sensitive)return o_;if(t.isListSchema()){if(!!t.getValueSchema().getMergedTraits().sensitive)return o_}else if(t.isMapSchema()){if(!!t.getKeySchema().getMergedTraits().sensitive||!!t.getValueSchema().getMergedTraits().sensitive)return o_}else if(t.isStructSchema()&&typeof r=="object"){let n=r,s={};for(let[o,a]of t.structIterator())n[o]!=null&&(s[o]=c_(a,n[o]));return s}return r}var Xm=class{middlewareStack=OI.constructStack();schema;static classBuilder(){return new l_}resolveMiddlewareWithContext(r,t,n,{middlewareFn:s,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,smithyContext:d,additionalContext:f,CommandCtor:g}){for(let I of s.bind(this)(g,r,t,n))this.middlewareStack.use(I);let y=r.concat(this.middlewareStack),{logger:h}=t,_={logger:h,clientName:o,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:l,[i_.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...f},{requestHandler:R}=t;return y.resolve(I=>R.handle(I.request,n||{}),_)}},l_=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(r){this._init=r}ep(r){return this._ep=r,this}m(r){return this._middlewareFn=r,this}s(r,t,n={}){return this._smithyContext={service:r,operation:t,...n},this}c(r={}){return this._additionalContext=r,this}n(r,t){return this._clientName=r,this._commandName=t,this}f(r=n=>n,t=n=>n){return this._inputFilterSensitiveLog=r,this._outputFilterSensitiveLog=t,this}ser(r){return this._serializer=r,this}de(r){return this._deserializer=r,this}sc(r){return this._operationSchema=r,this._smithyContext.operationSchema=r,this}build(){let r=this,t;return t=class extends Xm{input;static getEndpointParameterInstructions(){return r._ep}constructor(...[n]){super(),this.input=n??{},r._init(this),this.schema=r._operationSchema}resolveMiddleware(n,s,o){let a=r._operationSchema,c=a?.[4]??a?.input,l=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:t,middlewareFn:r._middlewareFn,clientName:r._clientName,commandName:r._commandName,inputFilterSensitiveLog:r._inputFilterSensitiveLog??(a?c_.bind(null,c):d=>d),outputFilterSensitiveLog:r._outputFilterSensitiveLog??(a?c_.bind(null,l):d=>d),smithyContext:r._smithyContext,additionalContext:r._additionalContext})}serialize=r._serializer;deserialize=r._deserializer}}},zV="***SensitiveInformation***",UV=(e,r)=>{for(let t of Object.keys(e)){let n=e[t],s=async function(a,c,l){let d=new n(a);if(typeof c=="function")this.send(d,c);else if(typeof l=="function"){if(typeof c!="object")throw new Error(`Expected http options but got ${typeof c}`);this.send(d,c||{},l)}else return this.send(d,c)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");r.prototype[o]=s}},d_=class e extends Error{$fault;$response;$retryable;$metadata;constructor(r){super(r.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=r.name,this.$fault=r.$fault,this.$metadata=r.$metadata}static isInstance(r){if(!r)return!1;let t=r;return e.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](r){if(!r)return!1;let t=r;return this===e?e.isInstance(r):e.isInstance(r)?t.name&&this.name?this.prototype.isPrototypeOf(r)||t.name===this.name:this.prototype.isPrototypeOf(r):!1}},NI=(e,r={})=>{Object.entries(r).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},BI=({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})=>{let s=HV(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,a=new t({name:r?.code||r?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw NI(a,r)},qV=e=>({output:r,parsedBody:t,errorCode:n})=>{BI({output:r,parsedBody:t,exceptionCtor:e,errorCode:n})},HV=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),jV=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},kI=!1,$V=e=>{e&&!kI&&parseInt(e.substring(1,e.indexOf(".")))<16&&(kI=!0)},VV=e=>{let r=[];for(let t in i_.AlgorithmId){let n=i_.AlgorithmId[t];e[n]!==void 0&&r.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(t){r.push(t)},checksumAlgorithms(){return r}}},GV=e=>{let r={};return e.checksumAlgorithms().forEach(t=>{r[t.algorithmId()]=t.checksumConstructor()}),r},KV=e=>({setRetryStrategy(r){e.retryStrategy=r},retryStrategy(){return e.retryStrategy}}),WV=e=>{let r={};return r.retryStrategy=e.retryStrategy(),r},DI=e=>Object.assign(VV(e),KV(e)),XV=DI,YV=e=>Object.assign(GV(e),WV(e)),JV=e=>Array.isArray(e)?e:[e],MI=e=>{let r="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][r]!==void 0?e[t]=e[t][r]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=MI(e[t]));return e},QV=e=>e!=null,u_=class{trace(){}debug(){}info(){}warn(){}error(){}};function LI(e,r,t){let n,s,o;if(typeof r>"u"&&typeof t>"u")n={},o=e;else{if(n=e,typeof r=="function")return s=r,o=t,t4(n,s,o);o=r}for(let a of Object.keys(o)){if(!Array.isArray(o[a])){n[a]=o[a];continue}FI(n,null,o,a)}return n}var ZV=e=>{let r={};for(let[t,n]of Object.entries(e||{}))r[t]=[,n];return r},e4=(e,r)=>{let t={};for(let n in r)FI(t,e,r,n);return t},t4=(e,r,t)=>LI(e,Object.entries(t).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[r,o()]:n[s]=[r,o],n),{})),FI=(e,r,t,n)=>{if(r!==null){let a=t[n];typeof a=="function"&&(a=[,a]);let[c=r4,l=n4,d=n]=a;(typeof c=="function"&&c(r[d])||typeof c!="function"&&c)&&(e[n]=l(r[d]));return}let[s,o]=t[n];if(typeof o=="function"){let a,c=s===void 0&&(a=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;c?e[n]=a:l&&(e[n]=o())}else{let a=s===void 0&&o!=null,c=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(a||c)&&(e[n]=o)}},r4=e=>e!=null,n4=e=>e,s4=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},o4=e=>e.toISOString().replace(".000Z","Z"),m_=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(r=>r!=null).map(m_);if(typeof e=="object"){let r={};for(let t of Object.keys(e))e[t]!=null&&(r[t]=m_(e[t]));return r}return e};Object.defineProperty(Ze,"collectBody",{enumerable:!0,get:function(){return f_.collectBody}});Object.defineProperty(Ze,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return f_.extendedEncodeURIComponent}});Object.defineProperty(Ze,"resolvedPath",{enumerable:!0,get:function(){return f_.resolvedPath}});Ze.Client=a_;Ze.Command=Xm;Ze.NoOpLogger=u_;Ze.SENSITIVE_STRING=zV;Ze.ServiceException=d_;Ze._json=m_;Ze.convertMap=ZV;Ze.createAggregatedClient=UV;Ze.decorateServiceException=NI;Ze.emitWarningIfUnsupportedVersion=$V;Ze.getArrayIfSingleItem=JV;Ze.getDefaultClientConfiguration=XV;Ze.getDefaultExtensionConfiguration=DI;Ze.getValueFromTextNode=MI;Ze.isSerializableHeaderValue=QV;Ze.loadConfigsForDefaultMode=jV;Ze.map=LI;Ze.resolveDefaultRuntimeConfig=YV;Ze.serializeDateTime=o4;Ze.serializeFloat=s4;Ze.take=e4;Ze.throwDefaultError=BI;Ze.withBaseException=qV;Object.keys(II).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ze,e)&&Object.defineProperty(Ze,e,{enumerable:!0,get:function(){return II[e]}})})});var zI,UI,Ym,g_=P(()=>{zI=k(Ie()),UI=k(Xt()),Ym=(e,r)=>(0,zI.collectBody)(e,r).then(t=>(r?.utf8Encoder??UI.toUtf8)(t))});var ja,h_,mi,nd=P(()=>{g_();ja=(e,r)=>Ym(e,r).then(t=>{if(t.length)try{return JSON.parse(t)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:t}),n}return{}}),h_=async(e,r)=>{let t=await ja(e,r);return t.message=t.message??t.Message,t},mi=(e,r)=>{let t=(o,a)=>Object.keys(o).find(c=>c.toLowerCase()===a.toLowerCase()),n=o=>{let a=o;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(r&&typeof r=="object"){let o=t(r,"code");if(o&&r[o]!==void 0)return n(r[o]);if(r.__type!==void 0)return n(r.__type)}}});var qI,sd,p_=P(()=>{Vr();Nt();$r();qI=k(gr());lo();AI();nd();sd=class extends Cr{settings;constructor(r){super(),this.settings=r}async read(r,t){return this._read(r,typeof t=="string"?JSON.parse(t,wI):await ja(t,this.serdeContext))}readObject(r,t){return this._read(r,t)}_read(r,t){let n=t!==null&&typeof t=="object",s=ie.of(r);if(s.isListSchema()&&Array.isArray(t)){let a=s.getValueSchema(),c=[],l=!!s.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._read(a,d));return c}else if(s.isMapSchema()&&n){let a=s.getValueSchema(),c={},l=!!s.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._read(a,f));return c}else if(s.isStructSchema()&&n){let a={};for(let[c,l]of s.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._read(l,t[d]);f!=null&&(a[c]=f)}return a}if(s.isBlobSchema()&&typeof t=="string")return(0,qI.fromBase64)(t);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof t=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return Br.from(t);if(s.isTimestampSchema()&&t!=null)switch(en(s,this.settings)){case 5:return ZE(t);case 6:return eb(t);case 7:return tb(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(s.isBigIntegerSchema()&&(typeof t=="number"||typeof t=="string"))return BigInt(t);if(s.isBigDecimalSchema()&&t!=null){if(t instanceof Pt)return t;let a=t;return a.type==="bigDecimal"&&"string"in a?new Pt(a.string,a.type):new Pt(String(t),"bigDecimal")}if(s.isNumericSchema()&&typeof t=="string")switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof Pt?a[c]=l:a[c]=this._read(s,l);return a}else return structuredClone(t);return t}}});var HI,Jm,jI=P(()=>{$r();HI="\u039D",Jm=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(r,t)=>{if(t instanceof Pt){let n=`${HI+"nv"+this.counter++}_`+t.string;return this.values.set(`"${n}"`,t.string),n}if(typeof t=="bigint"){let n=t.toString(),s=`${HI+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return t}}replaceInJson(r){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return r;for(let[t,n]of this.values)r=r.replace(t,n);return r}}});var $I,od,y_=P(()=>{Vr();Nt();$r();$I=k(gr());lo();jI();od=class extends Cr{settings;buffer;rootSchema;constructor(r){super(),this.settings=r}write(r,t){this.rootSchema=ie.of(r),this.buffer=this._write(this.rootSchema,t)}writeDiscriminatedDocument(r,t){this.write(r,t),typeof this.buffer=="object"&&(this.buffer.__type=ie.of(r).getName(!0))}flush(){let{rootSchema:r}=this;if(this.rootSchema=void 0,r?.isStructSchema()||r?.isDocumentSchema()){let t=new Jm;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(r,t,n){let s=t!==null&&typeof t=="object",o=ie.of(r);if(o.isListSchema()&&Array.isArray(t)){let a=o.getValueSchema(),c=[],l=!!o.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&c.push(this._write(a,d));return c}else if(o.isMapSchema()&&s){let a=o.getValueSchema(),c={},l=!!o.getMergedTraits().sparse;for(let[d,f]of Object.entries(t))(l||f!=null)&&(c[d]=this._write(a,f));return c}else if(o.isStructSchema()&&s){let a={};for(let[c,l]of o.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??c:c,f=this._write(l,t[c],o);f!==void 0&&(a[d]=f)}return a}if(!(t===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(t instanceof Uint8Array||typeof t=="string")||o.isDocumentSchema()&&t instanceof Uint8Array)return o===this.rootSchema?t:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(t):(0,$I.toBase64)(t);if((o.isTimestampSchema()||o.isDocumentSchema())&&t instanceof Date)switch(en(o,this.settings)){case 5:return t.toISOString().replace(".000Z","Z");case 6:return Wl(t);case 7:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}if(o.isNumericSchema()&&typeof t=="number"&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(o.isStringSchema()){if(typeof t>"u"&&o.isIdempotencyToken())return(0,Qn.v4)();let a=o.getMergedTraits().mediaType;if(t!=null&&a&&(a==="application/json"||a.endsWith("+json")))return Br.from(t)}if(o.isDocumentSchema())if(s){let a=Array.isArray(t)?[]:{};for(let[c,l]of Object.entries(t))l instanceof Pt?a[c]=l:a[c]=this._write(o,l);return a}else return structuredClone(t);return t}}}});var fi,Qm=P(()=>{lo();p_();y_();fi=class extends Cr{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new od(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new sd(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var gi,Zm=P(()=>{Vr();Nt();Ha();Qm();nd();gi=class extends xs{serializer;deserializer;serviceTarget;codec;mixin=new un;awsQueryCompatible;constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r}),this.serviceTarget=t,this.codec=new fi({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${ie.of(r).getName()}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(Ln(r.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(r,t,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let a=mi(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Yt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f),h={};for(let[_,R]of d.structIterator()){let I=R.getMergedTraits().jsonName??_;h[_]=this.codec.createDeserializer().readObject(R,s[I])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}}});var S_,VI=P(()=>{Zm();S_=class extends gi{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var E_,GI=P(()=>{Zm();E_=class extends gi{constructor({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n}){super({defaultNamespace:r,serviceTarget:t,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var b_,KI=P(()=>{Vr();Nt();Ha();Qm();nd();b_=class extends ri{serializer;deserializer;codec;mixin=new un;constructor({defaultNamespace:r}){super({defaultNamespace:r});let t={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new fi(t),this.serializer=new oi(this.codec.createSerializer(),t),this.deserializer=new si(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(r){this.codec.setSerdeContext(r),super.setSerdeContext(r)}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ie.of(r.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(r,t,n,s,o){let a=mi(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.message??s.Message??"Unknown",g=Yt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f);await this.deserializeHttpMessage(c,t,n,s);let h={};for(let[_,R]of d.structIterator()){let I=R.getMergedTraits().jsonName??_;h[_]=this.codec.createDeserializer().readObject(R,s[I])}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/json"}}});var WI,i4,XI=P(()=>{WI=k(Ie()),i4=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,WI.expectUnion)(e)}});var JI=B((vEe,YI)=>{(()=>{"use strict";var e={d:(u,m)=>{for(var b in m)e.o(m,b)&&!e.o(u,b)&&Object.defineProperty(u,b,{enumerable:!0,get:m[b]})},o:(u,m)=>Object.prototype.hasOwnProperty.call(u,m),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{XMLBuilder:()=>Xs,XMLParser:()=>rH,XMLValidator:()=>dH});let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,m){let b=[],A=m.exec(u);for(;A;){let x=[];x.startIndex=m.lastIndex-A[0].length;let w=A.length;for(let L=0;L<w;L++)x.push(A[L]);b.push(x),A=m.exec(u)}return b}let o=function(u){return n.exec(u)!=null},a={allowBooleanAttributes:!1,unpairedTags:[]};function c(u,m){m=Object.assign({},a,m);let b=[],A=!1,x=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let w=0;w<u.length;w++)if(u[w]==="<"&&u[w+1]==="?"){if(w+=2,w=d(u,w),w.err)return w}else{if(u[w]!=="<"){if(l(u[w]))continue;return N("InvalidChar","char '"+u[w]+"' is not expected.",ce(u,w))}{let L=w;if(w++,u[w]==="!"){w=f(u,w);continue}{let O=!1;u[w]==="/"&&(O=!0,w++);let U="";for(;w<u.length&&u[w]!==">"&&u[w]!==" "&&u[w]!=="	"&&u[w]!==`
`&&u[w]!=="\r";w++)U+=u[w];if(U=U.trim(),U[U.length-1]==="/"&&(U=U.substring(0,U.length-1),w--),!o(U)){let le;return le=U.trim().length===0?"Invalid space after '<'.":"Tag '"+U+"' is an invalid name.",N("InvalidTag",le,ce(u,w))}let J=h(u,w);if(J===!1)return N("InvalidAttr","Attributes for '"+U+"' have open quote.",ce(u,w));let pe=J.value;if(w=J.index,pe[pe.length-1]==="/"){let le=w-pe.length;pe=pe.substring(0,pe.length-1);let Ue=R(pe,m);if(Ue!==!0)return N(Ue.err.code,Ue.err.msg,ce(u,le+Ue.err.line));A=!0}else if(O){if(!J.tagClosed)return N("InvalidTag","Closing tag '"+U+"' doesn't have proper closing.",ce(u,w));if(pe.trim().length>0)return N("InvalidTag","Closing tag '"+U+"' can't have attributes or invalid starting.",ce(u,L));if(b.length===0)return N("InvalidTag","Closing tag '"+U+"' has not been opened.",ce(u,L));{let le=b.pop();if(U!==le.tagName){let Ue=ce(u,le.tagStartPos);return N("InvalidTag","Expected closing tag '"+le.tagName+"' (opened in line "+Ue.line+", col "+Ue.col+") instead of closing tag '"+U+"'.",ce(u,L))}b.length==0&&(x=!0)}}else{let le=R(pe,m);if(le!==!0)return N(le.err.code,le.err.msg,ce(u,w-pe.length+le.err.line));if(x===!0)return N("InvalidXml","Multiple possible root nodes found.",ce(u,w));m.unpairedTags.indexOf(U)!==-1||b.push({tagName:U,tagStartPos:L}),A=!0}for(w++;w<u.length;w++)if(u[w]==="<"){if(u[w+1]==="!"){w++,w=f(u,w);continue}if(u[w+1]!=="?")break;if(w=d(u,++w),w.err)return w}else if(u[w]==="&"){let le=I(u,w);if(le==-1)return N("InvalidChar","char '&' is not expected.",ce(u,w));w=le}else if(x===!0&&!l(u[w]))return N("InvalidXml","Extra text at the end",ce(u,w));u[w]==="<"&&w--}}}return A?b.length==1?N("InvalidTag","Unclosed tag '"+b[0].tagName+"'.",ce(u,b[0].tagStartPos)):!(b.length>0)||N("InvalidXml","Invalid '"+JSON.stringify(b.map(w=>w.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):N("InvalidXml","Start tag expected.",1)}function l(u){return u===" "||u==="	"||u===`
`||u==="\r"}function d(u,m){let b=m;for(;m<u.length;m++)if(!(u[m]!="?"&&u[m]!=" ")){let A=u.substr(b,m-b);if(m>5&&A==="xml")return N("InvalidXml","XML declaration allowed only at the start of the document.",ce(u,m));if(u[m]=="?"&&u[m+1]==">"){m++;break}}return m}function f(u,m){if(u.length>m+5&&u[m+1]==="-"&&u[m+2]==="-"){for(m+=3;m<u.length;m++)if(u[m]==="-"&&u[m+1]==="-"&&u[m+2]===">"){m+=2;break}}else if(u.length>m+8&&u[m+1]==="D"&&u[m+2]==="O"&&u[m+3]==="C"&&u[m+4]==="T"&&u[m+5]==="Y"&&u[m+6]==="P"&&u[m+7]==="E"){let b=1;for(m+=8;m<u.length;m++)if(u[m]==="<")b++;else if(u[m]===">"&&(b--,b===0))break}else if(u.length>m+9&&u[m+1]==="["&&u[m+2]==="C"&&u[m+3]==="D"&&u[m+4]==="A"&&u[m+5]==="T"&&u[m+6]==="A"&&u[m+7]==="["){for(m+=8;m<u.length;m++)if(u[m]==="]"&&u[m+1]==="]"&&u[m+2]===">"){m+=2;break}}return m}let g='"',y="'";function h(u,m){let b="",A="",x=!1;for(;m<u.length;m++){if(u[m]===g||u[m]===y)A===""?A=u[m]:A!==u[m]||(A="");else if(u[m]===">"&&A===""){x=!0;break}b+=u[m]}return A===""&&{value:b,index:m,tagClosed:x}}let _=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function R(u,m){let b=s(u,_),A={};for(let x=0;x<b.length;x++){if(b[x][1].length===0)return N("InvalidAttr","Attribute '"+b[x][2]+"' has no space in starting.",me(b[x]));if(b[x][3]!==void 0&&b[x][4]===void 0)return N("InvalidAttr","Attribute '"+b[x][2]+"' is without value.",me(b[x]));if(b[x][3]===void 0&&!m.allowBooleanAttributes)return N("InvalidAttr","boolean attribute '"+b[x][2]+"' is not allowed.",me(b[x]));let w=b[x][2];if(!W(w))return N("InvalidAttr","Attribute '"+w+"' is an invalid name.",me(b[x]));if(A.hasOwnProperty(w))return N("InvalidAttr","Attribute '"+w+"' is repeated.",me(b[x]));A[w]=1}return!0}function I(u,m){if(u[++m]===";")return-1;if(u[m]==="#")return function(A,x){let w=/\d/;for(A[x]==="x"&&(x++,w=/[\da-fA-F]/);x<A.length;x++){if(A[x]===";")return x;if(!A[x].match(w))break}return-1}(u,++m);let b=0;for(;m<u.length;m++,b++)if(!(u[m].match(/\w/)&&b<20)){if(u[m]===";")break;return-1}return m}function N(u,m,b){return{err:{code:u,msg:m,line:b.line||b,col:b.col}}}function W(u){return o(u)}function ce(u,m){let b=u.substring(0,m).split(/\r?\n/);return{line:b.length,col:b[b.length-1].length+1}}function me(u){return u.startIndex+u[1].length}let _e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,m,b){return u},captureMetaData:!1},We;We=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class At{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,b){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:b})}addChild(m,b){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),b!==void 0&&(this.child[this.child.length-1][We]={startIndex:b})}static getMetaDataSymbol(){return We}}function Ne(u,m){let b={};if(u[m+3]!=="O"||u[m+4]!=="C"||u[m+5]!=="T"||u[m+6]!=="Y"||u[m+7]!=="P"||u[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let A=1,x=!1,w=!1,L="";for(;m<u.length;m++)if(u[m]!=="<"||w)if(u[m]===">"){if(w?u[m-1]==="-"&&u[m-2]==="-"&&(w=!1,A--):A--,A===0)break}else u[m]==="["?x=!0:L+=u[m];else{if(x&&Yo(u,"!ENTITY",m)){let O,U;m+=7,[O,U,m]=nt(u,m+1),U.indexOf("&")===-1&&(b[O]={regx:RegExp(`&${O};`,"g"),val:U})}else if(x&&Yo(u,"!ELEMENT",m)){m+=8;let{index:O}=D2(u,m+1);m=O}else if(x&&Yo(u,"!ATTLIST",m))m+=8;else if(x&&Yo(u,"!NOTATION",m)){m+=9;let{index:O}=Ft(u,m+1);m=O}else{if(!Yo(u,"!--",m))throw new Error("Invalid DOCTYPE");w=!0}A++,L=""}if(A!==0)throw new Error("Unclosed DOCTYPE")}return{entities:b,i:m}}let ze=(u,m)=>{for(;m<u.length&&/\s/.test(u[m]);)m++;return m};function nt(u,m){m=ze(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m])&&u[m]!=='"'&&u[m]!=="'";)b+=u[m],m++;if(HS(b),m=ze(u,m),u.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[m]==="%")throw new Error("Parameter entities are not supported");let A="";return[m,A]=Aa(u,m,"entity"),[b,A,--m]}function Ft(u,m){m=ze(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m]);)b+=u[m],m++;HS(b),m=ze(u,m);let A=u.substring(m,m+6).toUpperCase();if(A!=="SYSTEM"&&A!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${A}"`);m+=A.length,m=ze(u,m);let x=null,w=null;if(A==="PUBLIC")[m,x]=Aa(u,m,"publicIdentifier"),u[m=ze(u,m)]!=='"'&&u[m]!=="'"||([m,w]=Aa(u,m,"systemIdentifier"));else if(A==="SYSTEM"&&([m,w]=Aa(u,m,"systemIdentifier"),!w))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:b,publicIdentifier:x,systemIdentifier:w,index:--m}}function Aa(u,m,b){let A="",x=u[m];if(x!=='"'&&x!=="'")throw new Error(`Expected quoted string, found "${x}"`);for(m++;m<u.length&&u[m]!==x;)A+=u[m],m++;if(u[m]!==x)throw new Error(`Unterminated ${b} value`);return[++m,A]}function D2(u,m){m=ze(u,m);let b="";for(;m<u.length&&!/\s/.test(u[m]);)b+=u[m],m++;if(!HS(b))throw new Error(`Invalid element name: "${b}"`);let A="";if(u[m=ze(u,m)]==="E"&&Yo(u,"MPTY",m))m+=4;else if(u[m]==="A"&&Yo(u,"NY",m))m+=2;else{if(u[m]!=="(")throw new Error(`Invalid Element Expression, found "${u[m]}"`);for(m++;m<u.length&&u[m]!==")";)A+=u[m],m++;if(u[m]!==")")throw new Error("Unterminated content model")}return{elementName:b,contentModel:A.trim(),index:m}}function Yo(u,m,b){for(let A=0;A<m.length;A++)if(m[A]!==u[b+A+1])return!1;return!0}function HS(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let M2=/^[-+]?0x[a-fA-F0-9]+$/,L2=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,F2={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},z2=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function XA(u){return typeof u=="function"?u:Array.isArray(u)?m=>{for(let b of u)if(typeof b=="string"&&m===b||b instanceof RegExp&&b.test(m))return!0}:()=>!1}class U2{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(b,A)=>String.fromCodePoint(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(b,A)=>String.fromCodePoint(Number.parseInt(A,16))}},this.addExternalEntities=q2,this.parseXml=G2,this.parseTextData=H2,this.resolveNameSpace=j2,this.buildAttributesMap=V2,this.isItStopNode=Y2,this.replaceEntitiesValue=W2,this.readStopNodeData=J2,this.saveTextToParentTag=X2,this.addChild=K2,this.ignoreAttributesFn=XA(this.options.ignoreAttributes)}}function q2(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];this.lastEntities[A]={regex:new RegExp("&"+A+";","g"),val:u[A]}}}function H2(u,m,b,A,x,w,L){if(u!==void 0&&(this.options.trimValues&&!A&&(u=u.trim()),u.length>0)){L||(u=this.replaceEntitiesValue(u));let O=this.options.tagValueProcessor(m,u,b,x,w);return O==null?u:typeof O!=typeof u||O!==u?O:this.options.trimValues||u.trim()===u?YA(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function j2(u){if(this.options.removeNSPrefix){let m=u.split(":"),b=u.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(u=b+m[1])}return u}let $2=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function V2(u,m,b){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let A=s(u,$2),x=A.length,w={};for(let L=0;L<x;L++){let O=this.resolveNameSpace(A[L][1]);if(this.ignoreAttributesFn(O,m))continue;let U=A[L][4],J=this.options.attributeNamePrefix+O;if(O.length)if(this.options.transformAttributeName&&(J=this.options.transformAttributeName(J)),J==="__proto__"&&(J="#__proto__"),U!==void 0){this.options.trimValues&&(U=U.trim()),U=this.replaceEntitiesValue(U);let pe=this.options.attributeValueProcessor(O,U,m);w[J]=pe==null?U:typeof pe!=typeof U||pe!==U?pe:YA(U,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(w[J]=!0)}if(!Object.keys(w).length)return;if(this.options.attributesGroupName){let L={};return L[this.options.attributesGroupName]=w,L}return w}}let G2=function(u){u=u.replace(/\r\n?/g,`
`);let m=new At("!xml"),b=m,A="",x="";for(let w=0;w<u.length;w++)if(u[w]==="<")if(u[w+1]==="/"){let L=Jo(u,">",w,"Closing Tag is not closed."),O=u.substring(w+2,L).trim();if(this.options.removeNSPrefix){let pe=O.indexOf(":");pe!==-1&&(O=O.substr(pe+1))}this.options.transformTagName&&(O=this.options.transformTagName(O)),b&&(A=this.saveTextToParentTag(A,b,x));let U=x.substring(x.lastIndexOf(".")+1);if(O&&this.options.unpairedTags.indexOf(O)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${O}>`);let J=0;U&&this.options.unpairedTags.indexOf(U)!==-1?(J=x.lastIndexOf(".",x.lastIndexOf(".")-1),this.tagsNodeStack.pop()):J=x.lastIndexOf("."),x=x.substring(0,J),b=this.tagsNodeStack.pop(),A="",w=L}else if(u[w+1]==="?"){let L=jS(u,w,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(A=this.saveTextToParentTag(A,b,x),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){let O=new At(L.tagName);O.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(O[":@"]=this.buildAttributesMap(L.tagExp,x,L.tagName)),this.addChild(b,O,x,w)}w=L.closeIndex+1}else if(u.substr(w+1,3)==="!--"){let L=Jo(u,"-->",w+4,"Comment is not closed.");if(this.options.commentPropName){let O=u.substring(w+4,L-2);A=this.saveTextToParentTag(A,b,x),b.add(this.options.commentPropName,[{[this.options.textNodeName]:O}])}w=L}else if(u.substr(w+1,2)==="!D"){let L=Ne(u,w);this.docTypeEntities=L.entities,w=L.i}else if(u.substr(w+1,2)==="!["){let L=Jo(u,"]]>",w,"CDATA is not closed.")-2,O=u.substring(w+9,L);A=this.saveTextToParentTag(A,b,x);let U=this.parseTextData(O,b.tagname,x,!0,!1,!0,!0);U==null&&(U=""),this.options.cdataPropName?b.add(this.options.cdataPropName,[{[this.options.textNodeName]:O}]):b.add(this.options.textNodeName,U),w=L+2}else{let L=jS(u,w,this.options.removeNSPrefix),O=L.tagName,U=L.rawTagName,J=L.tagExp,pe=L.attrExpPresent,le=L.closeIndex;this.options.transformTagName&&(O=this.options.transformTagName(O)),b&&A&&b.tagname!=="!xml"&&(A=this.saveTextToParentTag(A,b,x,!1));let Ue=b;Ue&&this.options.unpairedTags.indexOf(Ue.tagname)!==-1&&(b=this.tagsNodeStack.pop(),x=x.substring(0,x.lastIndexOf("."))),O!==m.tagname&&(x+=x?"."+O:O);let Qe=w;if(this.isItStopNode(this.options.stopNodes,x,O)){let $e="";if(J.length>0&&J.lastIndexOf("/")===J.length-1)O[O.length-1]==="/"?(O=O.substr(0,O.length-1),x=x.substr(0,x.length-1),J=O):J=J.substr(0,J.length-1),w=L.closeIndex;else if(this.options.unpairedTags.indexOf(O)!==-1)w=L.closeIndex;else{let Gn=this.readStopNodeData(u,U,le+1);if(!Gn)throw new Error(`Unexpected end of ${U}`);w=Gn.i,$e=Gn.tagContent}let Vt=new At(O);O!==J&&pe&&(Vt[":@"]=this.buildAttributesMap(J,x,O)),$e&&($e=this.parseTextData($e,O,x,!0,pe,!0,!0)),x=x.substr(0,x.lastIndexOf(".")),Vt.add(this.options.textNodeName,$e),this.addChild(b,Vt,x,Qe)}else{if(J.length>0&&J.lastIndexOf("/")===J.length-1){O[O.length-1]==="/"?(O=O.substr(0,O.length-1),x=x.substr(0,x.length-1),J=O):J=J.substr(0,J.length-1),this.options.transformTagName&&(O=this.options.transformTagName(O));let $e=new At(O);O!==J&&pe&&($e[":@"]=this.buildAttributesMap(J,x,O)),this.addChild(b,$e,x,Qe),x=x.substr(0,x.lastIndexOf("."))}else{let $e=new At(O);this.tagsNodeStack.push(b),O!==J&&pe&&($e[":@"]=this.buildAttributesMap(J,x,O)),this.addChild(b,$e,x,Qe),b=$e}A="",w=le}}else A+=u[w];return m.child};function K2(u,m,b,A){this.options.captureMetaData||(A=void 0);let x=this.options.updateTag(m.tagname,b,m[":@"]);x===!1||(typeof x=="string"&&(m.tagname=x),u.addChild(m,A))}let W2=function(u){if(this.options.processEntities){for(let m in this.docTypeEntities){let b=this.docTypeEntities[m];u=u.replace(b.regx,b.val)}for(let m in this.lastEntities){let b=this.lastEntities[m];u=u.replace(b.regex,b.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let b=this.htmlEntities[m];u=u.replace(b.regex,b.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function X2(u,m,b,A){return u&&(A===void 0&&(A=m.child.length===0),(u=this.parseTextData(u,m.tagname,b,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,A))!==void 0&&u!==""&&m.add(this.options.textNodeName,u),u=""),u}function Y2(u,m,b){let A="*."+b;for(let x in u){let w=u[x];if(A===w||m===w)return!0}return!1}function Jo(u,m,b,A){let x=u.indexOf(m,b);if(x===-1)throw new Error(A);return x+m.length-1}function jS(u,m,b,A=">"){let x=function(le,Ue,Qe=">"){let $e,Vt="";for(let Gn=Ue;Gn<le.length;Gn++){let Ys=le[Gn];if($e)Ys===$e&&($e="");else if(Ys==='"'||Ys==="'")$e=Ys;else if(Ys===Qe[0]){if(!Qe[1])return{data:Vt,index:Gn};if(le[Gn+1]===Qe[1])return{data:Vt,index:Gn}}else Ys==="	"&&(Ys=" ");Vt+=Ys}}(u,m+1,A);if(!x)return;let w=x.data,L=x.index,O=w.search(/\s/),U=w,J=!0;O!==-1&&(U=w.substring(0,O),w=w.substring(O+1).trimStart());let pe=U;if(b){let le=U.indexOf(":");le!==-1&&(U=U.substr(le+1),J=U!==x.data.substr(le+1))}return{tagName:U,tagExp:w,closeIndex:L,attrExpPresent:J,rawTagName:pe}}function J2(u,m,b){let A=b,x=1;for(;b<u.length;b++)if(u[b]==="<")if(u[b+1]==="/"){let w=Jo(u,">",b,`${m} is not closed`);if(u.substring(b+2,w).trim()===m&&(x--,x===0))return{tagContent:u.substring(A,b),i:w};b=w}else if(u[b+1]==="?")b=Jo(u,"?>",b+1,"StopNode is not closed.");else if(u.substr(b+1,3)==="!--")b=Jo(u,"-->",b+3,"StopNode is not closed.");else if(u.substr(b+1,2)==="![")b=Jo(u,"]]>",b,"StopNode is not closed.")-2;else{let w=jS(u,b,">");w&&((w&&w.tagName)===m&&w.tagExp[w.tagExp.length-1]!=="/"&&x++,b=w.closeIndex)}}function YA(u,m,b){if(m&&typeof u=="string"){let A=u.trim();return A==="true"||A!=="false"&&function(x,w={}){if(w=Object.assign({},F2,w),!x||typeof x!="string")return x;let L=x.trim();if(w.skipLike!==void 0&&w.skipLike.test(L))return x;if(x==="0")return 0;if(w.hex&&M2.test(L))return function(U){if(parseInt)return parseInt(U,16);if(Number.parseInt)return Number.parseInt(U,16);if(window&&window.parseInt)return window.parseInt(U,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(L);if(L.search(/.+[eE].+/)!==-1)return function(U,J,pe){if(!pe.eNotation)return U;let le=J.match(z2);if(le){let Ue=le[1]||"",Qe=le[3].indexOf("e")===-1?"E":"e",$e=le[2],Vt=Ue?U[$e.length+1]===Qe:U[$e.length]===Qe;return $e.length>1&&Vt?U:$e.length!==1||!le[3].startsWith(`.${Qe}`)&&le[3][0]!==Qe?pe.leadingZeros&&!Vt?(J=(le[1]||"")+le[3],Number(J)):U:Number(J)}return U}(x,L,w);{let U=L2.exec(L);if(U){let J=U[1]||"",pe=U[2],le=((O=U[3])&&O.indexOf(".")!==-1&&((O=O.replace(/0+$/,""))==="."?O="0":O[0]==="."?O="0"+O:O[O.length-1]==="."&&(O=O.substring(0,O.length-1))),O),Ue=J?x[pe.length+1]===".":x[pe.length]===".";if(!w.leadingZeros&&(pe.length>1||pe.length===1&&!Ue))return x;{let Qe=Number(L),$e=String(Qe);if(Qe===0||Qe===-0)return Qe;if($e.search(/[eE]/)!==-1)return w.eNotation?Qe:x;if(L.indexOf(".")!==-1)return $e==="0"||$e===le||$e===`${J}${le}`?Qe:x;let Vt=pe?le:L;return pe?Vt===$e||J+Vt===$e?Qe:x:Vt===$e||Vt===J+$e?Qe:x}}return x}var O}(u,b)}return u!==void 0?u:""}let $S=At.getMetaDataSymbol();function Q2(u,m){return JA(u,m)}function JA(u,m,b){let A,x={};for(let w=0;w<u.length;w++){let L=u[w],O=Z2(L),U="";if(U=b===void 0?O:b+"."+O,O===m.textNodeName)A===void 0?A=L[O]:A+=""+L[O];else{if(O===void 0)continue;if(L[O]){let J=JA(L[O],m,U),pe=tH(J,m);L[$S]!==void 0&&(J[$S]=L[$S]),L[":@"]?eH(J,L[":@"],U,m):Object.keys(J).length!==1||J[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(J).length===0&&(m.alwaysCreateTextNode?J[m.textNodeName]="":J=""):J=J[m.textNodeName],x[O]!==void 0&&x.hasOwnProperty(O)?(Array.isArray(x[O])||(x[O]=[x[O]]),x[O].push(J)):m.isArray(O,U,pe)?x[O]=[J]:x[O]=J}}}return typeof A=="string"?A.length>0&&(x[m.textNodeName]=A):A!==void 0&&(x[m.textNodeName]=A),x}function Z2(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];if(A!==":@")return A}}function eH(u,m,b,A){if(m){let x=Object.keys(m),w=x.length;for(let L=0;L<w;L++){let O=x[L];A.isArray(O,b+"."+O,!0,!0)?u[O]=[m[O]]:u[O]=m[O]}}}function tH(u,m){let{textNodeName:b}=m,A=Object.keys(u).length;return A===0||!(A!==1||!u[b]&&typeof u[b]!="boolean"&&u[b]!==0)}class rH{constructor(m){this.externalEntities={},this.options=function(b){return Object.assign({},_e,b)}(m)}parse(m,b){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(b){b===!0&&(b={});let w=c(m,b);if(w!==!0)throw Error(`${w.err.msg}:${w.err.line}:${w.err.col}`)}let A=new U2(this.options);A.addExternalEntities(this.externalEntities);let x=A.parseXml(m);return this.options.preserveOrder||x===void 0?x:Q2(x,this.options)}addEntity(m,b){if(b.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(b==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=b}static getMetaDataSymbol(){return At.getMetaDataSymbol()}}function nH(u,m){let b="";return m.format&&m.indentBy.length>0&&(b=`
`),QA(u,m,"",b)}function QA(u,m,b,A){let x="",w=!1;for(let L=0;L<u.length;L++){let O=u[L],U=sH(O);if(U===void 0)continue;let J="";if(J=b.length===0?U:`${b}.${U}`,U===m.textNodeName){let Qe=O[U];oH(J,m)||(Qe=m.tagValueProcessor(U,Qe),Qe=eP(Qe,m)),w&&(x+=A),x+=Qe,w=!1;continue}if(U===m.cdataPropName){w&&(x+=A),x+=`<![CDATA[${O[U][0][m.textNodeName]}]]>`,w=!1;continue}if(U===m.commentPropName){x+=A+`<!--${O[U][0][m.textNodeName]}-->`,w=!0;continue}if(U[0]==="?"){let Qe=ZA(O[":@"],m),$e=U==="?xml"?"":A,Vt=O[U][0][m.textNodeName];Vt=Vt.length!==0?" "+Vt:"",x+=$e+`<${U}${Vt}${Qe}?>`,w=!0;continue}let pe=A;pe!==""&&(pe+=m.indentBy);let le=A+`<${U}${ZA(O[":@"],m)}`,Ue=QA(O[U],m,J,pe);m.unpairedTags.indexOf(U)!==-1?m.suppressUnpairedNode?x+=le+">":x+=le+"/>":Ue&&Ue.length!==0||!m.suppressEmptyNode?Ue&&Ue.endsWith(">")?x+=le+`>${Ue}${A}</${U}>`:(x+=le+">",Ue&&A!==""&&(Ue.includes("/>")||Ue.includes("</"))?x+=A+m.indentBy+Ue+A:x+=Ue,x+=`</${U}>`):x+=le+"/>",w=!0}return x}function sH(u){let m=Object.keys(u);for(let b=0;b<m.length;b++){let A=m[b];if(u.hasOwnProperty(A)&&A!==":@")return A}}function ZA(u,m){let b="";if(u&&!m.ignoreAttributes)for(let A in u){if(!u.hasOwnProperty(A))continue;let x=m.attributeValueProcessor(A,u[A]);x=eP(x,m),x===!0&&m.suppressBooleanAttributes?b+=` ${A.substr(m.attributeNamePrefix.length)}`:b+=` ${A.substr(m.attributeNamePrefix.length)}="${x}"`}return b}function oH(u,m){let b=(u=u.substr(0,u.length-m.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let A in m.stopNodes)if(m.stopNodes[A]===u||m.stopNodes[A]==="*."+b)return!0;return!1}function eP(u,m){if(u&&u.length>0&&m.processEntities)for(let b=0;b<m.entities.length;b++){let A=m.entities[b];u=u.replace(A.regex,A.val)}return u}let iH={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Xs(u){this.options=Object.assign({},iH,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=XA(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=lH),this.processTextOrObjNode=aH,this.options.format?(this.indentate=cH,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function aH(u,m,b,A){let x=this.j2x(u,b+1,A.concat(m));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],m,x.attrStr,b):this.buildObjectNode(x.val,m,x.attrStr,b)}function cH(u){return this.options.indentBy.repeat(u)}function lH(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}Xs.prototype.build=function(u){return this.options.preserveOrder?nH(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},Xs.prototype.j2x=function(u,m,b){let A="",x="",w=b.join(".");for(let L in u)if(Object.prototype.hasOwnProperty.call(u,L))if(u[L]===void 0)this.isAttribute(L)&&(x+="");else if(u[L]===null)this.isAttribute(L)||L===this.options.cdataPropName?x+="":L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(u[L]instanceof Date)x+=this.buildTextValNode(u[L],L,"",m);else if(typeof u[L]!="object"){let O=this.isAttribute(L);if(O&&!this.ignoreAttributesFn(O,w))A+=this.buildAttrPairStr(O,""+u[L]);else if(!O)if(L===this.options.textNodeName){let U=this.options.tagValueProcessor(L,""+u[L]);x+=this.replaceEntitiesValue(U)}else x+=this.buildTextValNode(u[L],L,"",m)}else if(Array.isArray(u[L])){let O=u[L].length,U="",J="";for(let pe=0;pe<O;pe++){let le=u[L][pe];if(le!==void 0)if(le===null)L[0]==="?"?x+=this.indentate(m)+"<"+L+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+L+"/"+this.tagEndChar;else if(typeof le=="object")if(this.options.oneListGroup){let Ue=this.j2x(le,m+1,b.concat(L));U+=Ue.val,this.options.attributesGroupName&&le.hasOwnProperty(this.options.attributesGroupName)&&(J+=Ue.attrStr)}else U+=this.processTextOrObjNode(le,L,m,b);else if(this.options.oneListGroup){let Ue=this.options.tagValueProcessor(L,le);Ue=this.replaceEntitiesValue(Ue),U+=Ue}else U+=this.buildTextValNode(le,L,"",m)}this.options.oneListGroup&&(U=this.buildObjectNode(U,L,J,m)),x+=U}else if(this.options.attributesGroupName&&L===this.options.attributesGroupName){let O=Object.keys(u[L]),U=O.length;for(let J=0;J<U;J++)A+=this.buildAttrPairStr(O[J],""+u[L][O[J]])}else x+=this.processTextOrObjNode(u[L],L,m,b);return{attrStr:A,val:x}},Xs.prototype.buildAttrPairStr=function(u,m){return m=this.options.attributeValueProcessor(u,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+u:" "+u+'="'+m+'"'},Xs.prototype.buildObjectNode=function(u,m,b,A){if(u==="")return m[0]==="?"?this.indentate(A)+"<"+m+b+"?"+this.tagEndChar:this.indentate(A)+"<"+m+b+this.closeTag(m)+this.tagEndChar;{let x="</"+m+this.tagEndChar,w="";return m[0]==="?"&&(w="?",x=""),!b&&b!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&w.length===0?this.indentate(A)+`<!--${u}-->`+this.newLine:this.indentate(A)+"<"+m+b+w+this.tagEndChar+u+this.indentate(A)+x:this.indentate(A)+"<"+m+b+w+">"+u+x}},Xs.prototype.closeTag=function(u){let m="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${u}`,m},Xs.prototype.buildTextValNode=function(u,m,b,A){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(A)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(A)+`<!--${u}-->`+this.newLine;if(m[0]==="?")return this.indentate(A)+"<"+m+b+"?"+this.tagEndChar;{let x=this.options.tagValueProcessor(m,u);return x=this.replaceEntitiesValue(x),x===""?this.indentate(A)+"<"+m+b+this.closeTag(m)+this.tagEndChar:this.indentate(A)+"<"+m+b+">"+x+"</"+m+this.tagEndChar}},Xs.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let b=this.options.entities[m];u=u.replace(b.regex,b.val)}return u};let dH={validate:c};YI.exports=r})()});var QI=B(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.parseXML=c4;var a4=JI(),__=new a4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,r)=>r.trim()===""&&r.includes(`
`)?"":void 0});__.addEntity("#xD","\r");__.addEntity("#10",`
`);function c4(e){return __.parse(e,!0)}});var id=B((REe,nk)=>{"use strict";var tf=Object.defineProperty,l4=Object.getOwnPropertyDescriptor,d4=Object.getOwnPropertyNames,u4=Object.prototype.hasOwnProperty,rf=(e,r)=>tf(e,"name",{value:r,configurable:!0}),m4=(e,r)=>{for(var t in r)tf(e,t,{get:r[t],enumerable:!0})},f4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of d4(r))!u4.call(e,s)&&s!==t&&tf(e,s,{get:()=>r[s],enumerable:!(n=l4(r,s))||n.enumerable});return e},g4=e=>f4(tf({},"__esModule",{value:!0}),e),ZI={};m4(ZI,{XmlNode:()=>h4,XmlText:()=>rk,parseXML:()=>p4.parseXML});nk.exports=g4(ZI);function ek(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}rf(ek,"escapeAttribute");function tk(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}rf(tk,"escapeElement");var rk=class{constructor(e){this.value=e}static{rf(this,"XmlText")}toString(){return tk(""+this.value)}},h4=class ef{constructor(r,t=[]){this.name=r,this.children=t}static{rf(this,"XmlNode")}attributes={};static of(r,t,n){let s=new ef(r);return t!==void 0&&s.addChildNode(new rk(t)),n!==void 0&&s.withName(n),s}withName(r){return this.name=r,this}addAttribute(r,t){return this.attributes[r]=t,this}addChildNode(r){return this.children.push(r),this}removeAttribute(r){return delete this.attributes[r],this}n(r){return this.name=r,this}c(r){return this.children.push(r),this}a(r,t){return t!=null&&(this.attributes[r]=t),this}cc(r,t,n=t){if(r[t]!=null){let s=ef.of(t,r[t]).withName(n);this.c(s)}}l(r,t,n,s){r[t]!=null&&s().map(a=>{a.withName(n),this.c(a)})}lc(r,t,n,s){if(r[t]!=null){let o=s(),a=new ef(n);o.map(c=>{a.c(c)}),this.c(a)}}toString(){let r=!!this.children.length,t=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(t+=` ${s}="${ek(""+o)}"`)}return t+=r?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}},p4=QI()});var sk,ok,ik,hi,nf=P(()=>{sk=k(id());Vr();Nt();ok=k(Ie()),ik=k(Xt());lo();hi=class extends Cr{settings;stringDeserializer;constructor(r){super(),this.settings=r,this.stringDeserializer=new ni(r)}setSerdeContext(r){this.serdeContext=r,this.stringDeserializer.setSerdeContext(r)}read(r,t,n){let s=ie.of(r),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(d=>!!d.getMemberTraits().eventPayload)){let d={},f=Object.keys(o)[0];return o[f].isBlobSchema()?d[f]=t:d[f]=this.read(o[f],t),d}let c=(this.serdeContext?.utf8Encoder??ik.toUtf8)(t),l=this.parseXml(c);return this.readSchema(r,n?l[n]:l)}readSchema(r,t){let n=ie.of(r);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(t))return this.readSchema(n,[t]);if(t==null)return t;if(typeof t=="object"){let o=!!s.sparse,a=!!s.xmlFlattened;if(n.isListSchema()){let l=n.getValueSchema(),d=[],f=l.getMergedTraits().xmlName??"member",g=a?t:(t[0]??t)[f],y=Array.isArray(g)?g:[g];for(let h of y)(h!=null||o)&&d.push(this.readSchema(l,h));return d}let c={};if(n.isMapSchema()){let l=n.getKeySchema(),d=n.getValueSchema(),f;a?f=Array.isArray(t)?t:[t]:f=Array.isArray(t.entry)?t.entry:[t.entry];let g=l.getMergedTraits().xmlName??"key",y=d.getMergedTraits().xmlName??"value";for(let h of f){let _=h[g],R=h[y];(R!=null||o)&&(c[_]=this.readSchema(d,R))}return c}if(n.isStructSchema()){for(let[l,d]of n.structIterator()){let f=d.getMergedTraits(),g=f.httpPayload?f.xmlName??d.getName():d.getMemberTraits().xmlName??l;t[g]!=null&&(c[l]=this.readSchema(d,t[g]))}return c}if(n.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,t)}parseXml(r){if(r.length){let t;try{t=(0,sk.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let n="#text",s=Object.keys(t)[0],o=t[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,ok.getValueFromTextNode)(o)}return{}}}});var ak,ck,sf,lk=P(()=>{Vr();Nt();$r();ak=k(Ie()),ck=k(gr());lo();sf=class extends Cr{settings;buffer;constructor(r){super(),this.settings=r}write(r,t,n=""){this.buffer===void 0&&(this.buffer="");let s=ie.of(r);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??ck.toBase64)(t)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())t!=null?(this.writeKey(n),this.writeValue(String(t))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Qn.v4)()));else if(s.isBigIntegerSchema())t!=null&&(this.writeKey(n),this.writeValue(String(t)));else if(s.isBigDecimalSchema())t!=null&&(this.writeKey(n),this.writeValue(t instanceof Pt?t.string:String(t)));else if(s.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(n),en(s,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,ak.dateToUtcString)(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),a=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,c=1;for(let l of t){if(l==null)continue;let d=this.getKey("member",o.getMergedTraits().xmlName),f=a?`${n}${c}`:`${n}${d}.${c}`;this.write(o,l,f),++c}}}else if(s.isMapSchema()){if(t&&typeof t=="object"){let o=s.getKeySchema(),a=s.getValueSchema(),c=s.getMergedTraits().xmlFlattened,l=1;for(let[d,f]of Object.entries(t)){if(f==null)continue;let g=this.getKey("key",o.getMergedTraits().xmlName),y=c?`${n}${l}.${g}`:`${n}entry.${l}.${g}`,h=this.getKey("value",a.getMergedTraits().xmlName),_=c?`${n}${l}.${h}`:`${n}entry.${l}.${h}`;this.write(o,d,y),this.write(a,f,_),++l}}}else if(s.isStructSchema()){if(t&&typeof t=="object")for(let[o,a]of s.structIterator()){if(t[o]==null&&!a.isIdempotencyToken())continue;let c=this.getKey(o,a.getMergedTraits().xmlName),l=`${n}${c}`;this.write(a,t[o],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let r=this.buffer;return delete this.buffer,r}getKey(r,t){let n=t??r;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(r){r.endsWith(".")&&(r=r.slice(0,r.length-1)),this.buffer+=`&${Kn(r)}=`}writeValue(r){this.buffer+=Kn(r)}}});var ad,x_=P(()=>{Vr();Nt();Ha();nf();lk();ad=class extends xs{options;serializer;deserializer;mixin=new un;constructor(r){super({defaultNamespace:r.defaultNamespace}),this.options=r;let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace,serializeEmptyLists:!0};this.serializer=new sf(t),this.deserializer=new hi(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(r){this.serializer.setSerdeContext(r),this.deserializer.setSerdeContext(r)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Ln(r.input)==="unit"||!s.body)&&(s.body="");let o=r.name.split("#")[1]??r.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(r,t,n){let s=this.deserializer,o=ie.of(r.output),a={};if(n.statusCode>=300){let g=await Mn(n.body,t);g.byteLength>0&&Object.assign(a,await s.read(15,g)),await this.handleError(r,t,n,a,this.deserializeMetadata(n))}for(let g in n.headers){let y=n.headers[g];delete n.headers[g],n.headers[g.toLowerCase()]=y}let c=r.name.split("#")[1]??r.name,l=o.isStructSchema()&&this.useNestedResult()?c+"Result":void 0,d=await Mn(n.body,t);return d.byteLength>0&&Object.assign(a,await s.read(o,d,l)),{$metadata:this.deserializeMetadata(n),...a}}useNestedResult(){return!0}async handleError(r,t,n,s,o){let a=this.loadQueryErrorCode(n,s)??"Unknown",c=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);c.message=l,c.Error={Type:c.Type,Code:c.Code,Message:l};let{errorSchema:d,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,c,o,(R,I)=>R.find(N=>ie.of(N).getMergedTraits().awsQueryError?.[0]===I)),g=ie.of(d),y=Yt.for(d.namespace).getErrorCtor(d)??Error,h=new y(l),_={Error:c.Error};for(let[R,I]of g.structIterator()){let N=I.getMergedTraits().xmlName??R,W=c[N]??s[N];_[R]=this.deserializer.readSchema(I,W)}throw Object.assign(h,f,{$fault:g.getMergedTraits().error,message:l},_)}loadQueryErrorCode(r,t){let n=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(n!==void 0)return n;if(r.statusCode==404)return"NotFound"}loadQueryError(r){return r.Errors?.[0]?.Error??r.Errors?.Error??r.Error}loadQueryErrorMessage(r){let t=this.loadQueryError(r);return t?.message??t?.Message??r.message??r.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var w_,dk=P(()=>{x_();w_=class extends ad{options;constructor(r){super(r),this.options=r;let t={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,t)}useNestedResult(){return!1}}});var uk,mk,cd,A_,P_,v_=P(()=>{uk=k(id()),mk=k(Ie());g_();cd=(e,r)=>Ym(e,r).then(t=>{if(t.length){let n;try{n=(0,uk.parseXML)(t)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}let s="#text",o=Object.keys(n)[0],a=n[o];return a[s]&&(a[o]=a[s],delete a[s]),(0,mk.getValueFromTextNode)(a)}return{}}),A_=async(e,r)=>{let t=await cd(e,r);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},P_=(e,r)=>{if(r?.Error?.Code!==void 0)return r.Error.Code;if(r?.Code!==void 0)return r.Code;if(e.statusCode==404)return"NotFound"}});var mn,T_,of,ld,R_=P(()=>{mn=k(id());Vr();Nt();$r();T_=k(Ie()),of=k(gr());lo();ld=class extends Cr{settings;stringBuffer;byteBuffer;buffer;constructor(r){super(),this.settings=r}write(r,t){let n=ie.of(r);if(n.isStringSchema()&&typeof t=="string")this.stringBuffer=t;else if(n.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??of.fromBase64)(t);else{this.buffer=this.writeStruct(n,t,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let t=this.byteBuffer;return delete this.byteBuffer,t}if(this.stringBuffer!==void 0){let t=this.stringBuffer;return delete this.stringBuffer,t}let r=this.buffer;return this.settings.xmlNamespace&&(r?.attributes?.xmlns||r.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,r.toString()}writeStruct(r,t,n){let s=r.getMergedTraits(),o=r.isMemberSchema()&&!s.httpPayload?r.getMemberTraits().xmlName??r.getMemberName():s.xmlName??r.getName();if(!o||!r.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${r.getName(!0)}.`);let a=mn.XmlNode.of(o),[c,l]=this.getXmlnsAttribute(r,n);for(let[d,f]of r.structIterator()){let g=t[d];if(g!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){a.addAttribute(f.getMergedTraits().xmlName??d,this.writeSimple(f,g));continue}if(f.isListSchema())this.writeList(f,g,a,l);else if(f.isMapSchema())this.writeMap(f,g,a,l);else if(f.isStructSchema())a.addChildNode(this.writeStruct(f,g,l));else{let y=mn.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,g,y,l),a.addChildNode(y)}}}return l&&a.addAttribute(c,l),a}writeList(r,t,n,s){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${r.getName(!0)}`);let o=r.getMergedTraits(),a=r.getValueSchema(),c=a.getMergedTraits(),l=!!c.sparse,d=!!o.xmlFlattened,[f,g]=this.getXmlnsAttribute(r,s),y=(h,_)=>{if(a.isListSchema())this.writeList(a,Array.isArray(_)?_:[_],h,g);else if(a.isMapSchema())this.writeMap(a,_,h,g);else if(a.isStructSchema()){let R=this.writeStruct(a,_,g);h.addChildNode(R.withName(d?o.xmlName??r.getMemberName():c.xmlName??"member"))}else{let R=mn.XmlNode.of(d?o.xmlName??r.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,_,R,g),h.addChildNode(R)}};if(d)for(let h of t)(l||h!=null)&&y(n,h);else{let h=mn.XmlNode.of(o.xmlName??r.getMemberName());g&&h.addAttribute(f,g);for(let _ of t)(l||_!=null)&&y(h,_);n.addChildNode(h)}}writeMap(r,t,n,s,o=!1){if(!r.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${r.getName(!0)}`);let a=r.getMergedTraits(),c=r.getKeySchema(),d=c.getMergedTraits().xmlName??"key",f=r.getValueSchema(),g=f.getMergedTraits(),y=g.xmlName??"value",h=!!g.sparse,_=!!a.xmlFlattened,[R,I]=this.getXmlnsAttribute(r,s),N=(W,ce,me)=>{let _e=mn.XmlNode.of(d,ce),[We,At]=this.getXmlnsAttribute(c,I);At&&_e.addAttribute(We,At),W.addChildNode(_e);let Ne=mn.XmlNode.of(y);f.isListSchema()?this.writeList(f,me,Ne,I):f.isMapSchema()?this.writeMap(f,me,Ne,I,!0):f.isStructSchema()?Ne=this.writeStruct(f,me,I):this.writeSimpleInto(f,me,Ne,I),W.addChildNode(Ne)};if(_){for(let[W,ce]of Object.entries(t))if(h||ce!=null){let me=mn.XmlNode.of(a.xmlName??r.getMemberName());N(me,W,ce),n.addChildNode(me)}}else{let W;o||(W=mn.XmlNode.of(a.xmlName??r.getMemberName()),I&&W.addAttribute(R,I),n.addChildNode(W));for(let[ce,me]of Object.entries(t))if(h||me!=null){let _e=mn.XmlNode.of("entry");N(_e,ce,me),(o?n:W).addChildNode(_e)}}}writeSimple(r,t){if(t===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=ie.of(r),s=null;if(t&&typeof t=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??of.toBase64)(t);else if(n.isTimestampSchema()&&t instanceof Date)switch(en(n,this.settings)){case 5:s=t.toISOString().replace(".000Z","Z");break;case 6:s=(0,T_.dateToUtcString)(t);break;case 7:s=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),s=(0,T_.dateToUtcString)(t);break}else{if(n.isBigDecimalSchema()&&t)return t instanceof Pt?t.string:String(t);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(t)),n.isStringSchema()&&(t===void 0&&n.isIdempotencyToken()?s=(0,Qn.v4)():s=String(t)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${t}`);return s}writeSimpleInto(r,t,n,s){let o=this.writeSimple(r,t),a=ie.of(r),c=new mn.XmlText(o),[l,d]=this.getXmlnsAttribute(a,s);d&&n.addAttribute(l,d),n.addChildNode(c)}getXmlnsAttribute(r,t){let n=r.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==t?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var dd,I_=P(()=>{lo();nf();R_();dd=class extends Cr{settings;constructor(r){super(),this.settings=r}createSerializer(){let r=new ld(this.settings);return r.setSerdeContext(this.serdeContext),r}createDeserializer(){let r=new hi(this.settings);return r.setSerdeContext(this.serdeContext),r}}});var k_,fk=P(()=>{Vr();Nt();Ha();v_();I_();k_=class extends ri{codec;serializer;deserializer;mixin=new un;constructor(r){super(r);let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:r.xmlNamespace,serviceNamespace:r.defaultNamespace};this.codec=new dd(t),this.serializer=new oi(this.codec.createSerializer(),t),this.deserializer=new si(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(r,t,n){let s=await super.serializeRequest(r,t,n),o=ie.of(r.input);if(!s.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(r,t,n){return super.deserializeResponse(r,t,n)}async handleError(r,t,n,s,o){let a=P_(n,s)??"Unknown",{errorSchema:c,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,o),d=ie.of(c),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",g=Yt.for(c.namespace).getErrorCtor(c)??Error,y=new g(f);await this.deserializeHttpMessage(c,t,n,s);let h={};for(let[_,R]of d.structIterator()){let I=R.getMergedTraits().xmlName??_,N=s.Error?.[I]??s[I];h[_]=this.codec.createDeserializer().readSchema(R,N)}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:f},h)}getDefaultContentType(){return"application/xml"}}});var gk=P(()=>{CI();xI();VI();GI();Zm();KI();Qm();p_();y_();XI();nd();dk();x_();fk();I_();nf();R_();v_()});var fn={};dn(fn,{AWSSDKSigV4Signer:()=>tE,AwsEc2QueryProtocol:()=>w_,AwsJson1_0Protocol:()=>S_,AwsJson1_1Protocol:()=>E_,AwsJsonRpcProtocol:()=>gi,AwsQueryProtocol:()=>ad,AwsRestJsonProtocol:()=>b_,AwsRestXmlProtocol:()=>k_,AwsSdkSigV4ASigner:()=>Dl,AwsSdkSigV4Signer:()=>jr,AwsSmithyRpcV2CborProtocol:()=>n_,JsonCodec:()=>fi,JsonShapeDeserializer:()=>sd,JsonShapeSerializer:()=>od,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Ra,NODE_SIGV4A_CONFIG_OPTIONS:()=>NR,XmlCodec:()=>dd,XmlShapeDeserializer:()=>hi,XmlShapeSerializer:()=>ld,_toBool:()=>MV,_toNum:()=>LV,_toStr:()=>DV,awsExpectUnion:()=>i4,emitWarningIfUnsupportedVersion:()=>Pa,getBearerTokenEnvKey:()=>$u,loadRestJsonErrorCode:()=>mi,loadRestXmlErrorCode:()=>P_,parseJsonBody:()=>ja,parseJsonErrorBody:()=>h_,parseXmlBody:()=>cd,parseXmlErrorBody:()=>A_,resolveAWSSDKSigV4Config:()=>sI,resolveAwsSdkSigV4AConfig:()=>OR,resolveAwsSdkSigV4Config:()=>di,setCredentialFeature:()=>Qs,setFeature:()=>cP,setTokenFeature:()=>dP,state:()=>ju,validateSigningProperties:()=>Ta});var Gt=P(()=>{Dn();Ub();gk()});var yk=B((Nbe,pk)=>{var af=Object.defineProperty,y4=Object.getOwnPropertyDescriptor,S4=Object.getOwnPropertyNames,E4=Object.prototype.hasOwnProperty,b4=(e,r)=>af(e,"name",{value:r,configurable:!0}),_4=(e,r)=>{for(var t in r)af(e,t,{get:r[t],enumerable:!0})},C4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of S4(r))!E4.call(e,s)&&s!==t&&af(e,s,{get:()=>r[s],enumerable:!(n=y4(r,s))||n.enumerable});return e},x4=e=>C4(af({},"__esModule",{value:!0}),e),hk={};_4(hk,{isArrayBuffer:()=>w4});pk.exports=x4(hk);var w4=b4(e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]","isArrayBuffer")});var _k=B((Bbe,bk)=>{var cf=Object.defineProperty,A4=Object.getOwnPropertyDescriptor,P4=Object.getOwnPropertyNames,v4=Object.prototype.hasOwnProperty,Sk=(e,r)=>cf(e,"name",{value:r,configurable:!0}),T4=(e,r)=>{for(var t in r)cf(e,t,{get:r[t],enumerable:!0})},R4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of P4(r))!v4.call(e,s)&&s!==t&&cf(e,s,{get:()=>r[s],enumerable:!(n=A4(r,s))||n.enumerable});return e},I4=e=>R4(cf({},"__esModule",{value:!0}),e),Ek={};T4(Ek,{fromArrayBuffer:()=>O4,fromString:()=>N4});bk.exports=I4(Ek);var k4=yk(),O_=require("buffer"),O4=Sk((e,r=0,t=e.byteLength-r)=>{if(!(0,k4.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return O_.Buffer.from(e,r,t)},"fromArrayBuffer"),N4=Sk((e,r)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return r?O_.Buffer.from(e,r):O_.Buffer.from(e)},"fromString")});var Pk=B((Dbe,Ak)=>{var lf=Object.defineProperty,B4=Object.getOwnPropertyDescriptor,D4=Object.getOwnPropertyNames,M4=Object.prototype.hasOwnProperty,N_=(e,r)=>lf(e,"name",{value:r,configurable:!0}),L4=(e,r)=>{for(var t in r)lf(e,t,{get:r[t],enumerable:!0})},F4=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of D4(r))!M4.call(e,s)&&s!==t&&lf(e,s,{get:()=>r[s],enumerable:!(n=B4(r,s))||n.enumerable});return e},z4=e=>F4(lf({},"__esModule",{value:!0}),e),Ck={};L4(Ck,{fromUtf8:()=>wk,toUint8Array:()=>U4,toUtf8:()=>q4});Ak.exports=z4(Ck);var xk=_k(),wk=N_(e=>{let r=(0,xk.fromString)(e,"utf8");return new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),U4=N_(e=>typeof e=="string"?wk(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),"toUint8Array"),q4=N_(e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,xk.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},"toUtf8")});var vk=B(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.convertToBuffer=void 0;var H4=Pk(),j4=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:H4.fromUtf8;function $4(e){return e instanceof Uint8Array?e:typeof e=="string"?j4(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}df.convertToBuffer=$4});var Tk=B(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.isEmptyData=void 0;function V4(e){return typeof e=="string"?e.length===0:e.byteLength===0}uf.isEmptyData=V4});var Rk=B(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.numToUint8=void 0;function G4(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}mf.numToUint8=G4});var Ik=B(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.uint32ArrayFrom=void 0;function K4(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),t=0;t<e.length;)r[t]=e[t],t+=1;return r}return Uint32Array.from(e)}ff.uint32ArrayFrom=K4});var $a=B(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.uint32ArrayFrom=es.numToUint8=es.isEmptyData=es.convertToBuffer=void 0;var W4=vk();Object.defineProperty(es,"convertToBuffer",{enumerable:!0,get:function(){return W4.convertToBuffer}});var X4=Tk();Object.defineProperty(es,"isEmptyData",{enumerable:!0,get:function(){return X4.isEmptyData}});var Y4=Rk();Object.defineProperty(es,"numToUint8",{enumerable:!0,get:function(){return Y4.numToUint8}});var J4=Ik();Object.defineProperty(es,"uint32ArrayFrom",{enumerable:!0,get:function(){return J4.uint32ArrayFrom}})});var Nk=B(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.AwsCrc32c=void 0;var kk=(Jn(),Re(Yn)),B_=$a(),Ok=D_(),Q4=function(){function e(){this.crc32c=new Ok.Crc32c}return e.prototype.update=function(r){(0,B_.isEmptyData)(r)||this.crc32c.update((0,B_.convertToBuffer)(r))},e.prototype.digest=function(){return kk.__awaiter(this,void 0,void 0,function(){return kk.__generator(this,function(r){return[2,(0,B_.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new Ok.Crc32c},e}();gf.AwsCrc32c=Q4});var D_=B(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.AwsCrc32c=mo.Crc32c=mo.crc32c=void 0;var Z4=(Jn(),Re(Yn)),e6=$a();function t6(e){return new Bk().update(e).digest()}mo.crc32c=t6;var Bk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=Z4.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^n6[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();mo.Crc32c=Bk;var r6=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],n6=(0,e6.uint32ArrayFrom)(r6),s6=Nk();Object.defineProperty(mo,"AwsCrc32c",{enumerable:!0,get:function(){return s6.AwsCrc32c}})});var Lk=B(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.AwsCrc32=void 0;var Dk=(Jn(),Re(Yn)),M_=$a(),Mk=pf(),o6=function(){function e(){this.crc32=new Mk.Crc32}return e.prototype.update=function(r){(0,M_.isEmptyData)(r)||this.crc32.update((0,M_.convertToBuffer)(r))},e.prototype.digest=function(){return Dk.__awaiter(this,void 0,void 0,function(){return Dk.__generator(this,function(r){return[2,(0,M_.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Mk.Crc32},e}();hf.AwsCrc32=o6});var pf=B(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.AwsCrc32=fo.Crc32=fo.crc32=void 0;var i6=(Jn(),Re(Yn)),a6=$a();function c6(e){return new Fk().update(e).digest()}fo.crc32=c6;var Fk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(r){var t,n;try{for(var s=i6.__values(r),o=s.next();!o.done;o=s.next()){var a=o.value;this.checksum=this.checksum>>>8^d6[(this.checksum^a)&255]}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();fo.Crc32=Fk;var l6=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],d6=(0,a6.uint32ArrayFrom)(l6),u6=Lk();Object.defineProperty(fo,"AwsCrc32",{enumerable:!0,get:function(){return u6.AwsCrc32}})});var Uk=B(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.getCrc32ChecksumAlgorithmFunction=void 0;var m6=(Jn(),Re(Yn)),f6=pf(),g6=$a(),zk=m6.__importStar(require("zlib")),L_=class{checksum=0;update(r){this.checksum=zk.crc32(r,this.checksum)}async digest(){return(0,g6.numToUint8)(this.checksum)}reset(){this.checksum=0}},h6=()=>typeof zk.crc32>"u"?f6.AwsCrc32:L_;yf.getCrc32ChecksumAlgorithmFunction=h6});var j_=B(ge=>{"use strict";var Is=(Gt(),Re(fn)),Hk=Xe(),jk=Zo(),p6=Gu(),y6=D_(),S6=Uk(),E6=Xt(),qk=br(),ks={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},U_=ks.WHEN_SUPPORTED,Va={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},q_=ks.WHEN_SUPPORTED;ge.ChecksumAlgorithm=void 0;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(ge.ChecksumAlgorithm||(ge.ChecksumAlgorithm={}));ge.ChecksumLocation=void 0;(function(e){e.HEADER="header",e.TRAILER="trailer"})(ge.ChecksumLocation||(ge.ChecksumLocation={}));var Sf=ge.ChecksumAlgorithm.CRC32,Ga;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ga||(Ga={}));var Ef=(e,r,t,n)=>{if(!(r in e))return;let s=e[r].toUpperCase();if(!Object.values(t).includes(s))throw new TypeError(`Cannot load ${n} '${r}'. Expected one of ${Object.values(t)}, got '${e[r]}'.`);return s},$k="AWS_REQUEST_CHECKSUM_CALCULATION",Vk="request_checksum_calculation",b6={environmentVariableSelector:e=>Ef(e,$k,ks,Ga.ENV),configFileSelector:e=>Ef(e,Vk,ks,Ga.CONFIG),default:U_},Gk="AWS_RESPONSE_CHECKSUM_VALIDATION",Kk="response_checksum_validation",_6={environmentVariableSelector:e=>Ef(e,Gk,Va,Ga.ENV),configFileSelector:e=>Ef(e,Kk,Va,Ga.CONFIG),default:q_},F_={CrtCrc64Nvme:null},z_=[ge.ChecksumAlgorithm.CRC32,ge.ChecksumAlgorithm.CRC32C,ge.ChecksumAlgorithm.CRC64NVME,ge.ChecksumAlgorithm.SHA1,ge.ChecksumAlgorithm.SHA256],C6=[ge.ChecksumAlgorithm.SHA256,ge.ChecksumAlgorithm.SHA1,ge.ChecksumAlgorithm.CRC32,ge.ChecksumAlgorithm.CRC32C,ge.ChecksumAlgorithm.CRC64NVME],x6=(e,{requestChecksumRequired:r,requestAlgorithmMember:t,requestChecksumCalculation:n})=>{if(!t)return n===ks.WHEN_SUPPORTED||r?Sf:void 0;if(!e[t])return;let s=e[t];if(!z_.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${z_}.`);return s},H_=e=>e===ge.ChecksumAlgorithm.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,w6=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(t===n.toLowerCase())return!0;return!1},A6=(e,r)=>{let t=e.toLowerCase();for(let n of Object.keys(r))if(n.toLowerCase().startsWith(t))return!0;return!1},Wk=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!p6.isArrayBuffer(e),Xk=(e,r)=>{switch(e){case ge.ChecksumAlgorithm.MD5:return r.md5;case ge.ChecksumAlgorithm.CRC32:return S6.getCrc32ChecksumAlgorithmFunction();case ge.ChecksumAlgorithm.CRC32C:return y6.AwsCrc32c;case ge.ChecksumAlgorithm.CRC64NVME:if(typeof F_.CrtCrc64Nvme!="function")throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return F_.CrtCrc64Nvme;case ge.ChecksumAlgorithm.SHA1:return r.sha1;case ge.ChecksumAlgorithm.SHA256:return r.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},Yk=(e,r)=>{let t=new e;return t.update(E6.toUint8Array(r||"")),t.digest()},Jk={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Qk=(e,r)=>(t,n)=>async s=>{if(!Hk.HttpRequest.isInstance(s.request)||A6("x-amz-checksum-",s.request.headers))return t(s);let{request:o,input:a}=s,{body:c,headers:l}=o,{base64Encoder:d,streamHasher:f}=e,{requestChecksumRequired:g,requestAlgorithmMember:y}=r,h=await e.requestChecksumCalculation(),_=y?.name,R=y?.httpHeader;_&&!a[_]&&(h===ks.WHEN_SUPPORTED||g)&&(a[_]=Sf,R&&(l[R]=Sf));let I=x6(a,{requestChecksumRequired:g,requestAlgorithmMember:y?.name,requestChecksumCalculation:h}),N=c,W=l;if(I){switch(I){case ge.ChecksumAlgorithm.CRC32:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case ge.ChecksumAlgorithm.CRC32C:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case ge.ChecksumAlgorithm.CRC64NVME:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case ge.ChecksumAlgorithm.SHA1:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case ge.ChecksumAlgorithm.SHA256:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}let me=H_(I),_e=Xk(I,e);if(Wk(c)){let{getAwsChunkedEncodingStream:We,bodyLengthChecker:At}=e;N=We(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?jk.createBufferedReadable(c,e.requestStreamBufferSize,n.logger):c,{base64Encoder:d,bodyLengthChecker:At,checksumLocationName:me,checksumAlgorithmFn:_e,streamHasher:f}),W={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":me},delete W["content-length"]}else if(!w6(me,l)){let We=await Yk(_e,c);W={...l,[me]:d(We)}}}return await t({...s,request:{...o,headers:W,body:N}})},P6={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},v6=(e,r)=>(t,n)=>async s=>{let o=s.input,{requestValidationModeMember:a}=r,c=await e.requestChecksumCalculation(),l=await e.responseChecksumValidation();switch(c){case ks.WHEN_REQUIRED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case ks.WHEN_SUPPORTED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case Va.WHEN_REQUIRED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Va.WHEN_SUPPORTED:Is.setFeature(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return a&&!o[a]&&l===Va.WHEN_SUPPORTED&&(o[a]="ENABLED"),t(s)},Zk=(e=[])=>{let r=[];for(let t of C6)!e.includes(t)||!z_.includes(t)||r.push(t);return r},T6=e=>{let r=e.lastIndexOf("-");if(r!==-1){let t=e.slice(r+1);if(!t.startsWith("0")){let n=parseInt(t,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},R6=async(e,{checksumAlgorithmFn:r,base64Encoder:t})=>t(await Yk(r,e)),I6=async(e,{config:r,responseAlgorithms:t,logger:n})=>{let s=Zk(t),{body:o,headers:a}=e;for(let c of s){let l=H_(c),d=a[l];if(d){let f;try{f=Xk(c,r)}catch(h){if(c===ge.ChecksumAlgorithm.CRC64NVME){n?.warn(`Skipping ${ge.ChecksumAlgorithm.CRC64NVME} checksum validation: ${h.message}`);continue}throw h}let{base64Encoder:g}=r;if(Wk(o)){e.body=jk.createChecksumStream({expectedChecksum:d,checksumSourceLocation:l,checksum:new f,source:o,base64Encoder:g});return}let y=await R6(o,{checksumAlgorithmFn:f,base64Encoder:g});if(y===d)break;throw new Error(`Checksum mismatch: expected "${y}" but received "${d}" in response header "${l}".`)}}},k6={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},O6=(e,r)=>(t,n)=>async s=>{if(!Hk.HttpRequest.isInstance(s.request))return t(s);let o=s.input,a=await t(s),c=a.response,{requestValidationModeMember:l,responseAlgorithms:d}=r;if(l&&o[l]==="ENABLED"){let{clientName:f,commandName:g}=n;if(f==="S3Client"&&g==="GetObjectCommand"&&Zk(d).every(h=>{let _=H_(h),R=c.headers[_];return!R||T6(R)}))return a;await I6(c,{config:e,responseAlgorithms:d,logger:n.logger})}return a},N6=(e,r)=>({applyToStack:t=>{t.add(Qk(e,r),Jk),t.addRelativeTo(v6(e,r),P6),t.addRelativeTo(O6(e,r),k6)}}),B6=e=>{let{requestChecksumCalculation:r,responseChecksumValidation:t,requestStreamBufferSize:n}=e;return Object.assign(e,{requestChecksumCalculation:qk.normalizeProvider(r??U_),responseChecksumValidation:qk.normalizeProvider(t??q_),requestStreamBufferSize:Number(n??0)})};ge.CONFIG_REQUEST_CHECKSUM_CALCULATION=Vk;ge.CONFIG_RESPONSE_CHECKSUM_VALIDATION=Kk;ge.DEFAULT_CHECKSUM_ALGORITHM=Sf;ge.DEFAULT_REQUEST_CHECKSUM_CALCULATION=U_;ge.DEFAULT_RESPONSE_CHECKSUM_VALIDATION=q_;ge.ENV_REQUEST_CHECKSUM_CALCULATION=$k;ge.ENV_RESPONSE_CHECKSUM_VALIDATION=Gk;ge.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS=b6;ge.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS=_6;ge.RequestChecksumCalculation=ks;ge.ResponseChecksumValidation=Va;ge.crc64NvmeCrtContainer=F_;ge.flexibleChecksumsMiddleware=Qk;ge.flexibleChecksumsMiddlewareOptions=Jk;ge.getFlexibleChecksumsPlugin=N6;ge.resolveFlexibleChecksumsConfig=B6});var ud=B((Kbe,sO)=>{"use strict";var _f=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,M6=Object.getOwnPropertyNames,L6=Object.prototype.hasOwnProperty,bf=(e,r)=>_f(e,"name",{value:r,configurable:!0}),F6=(e,r)=>{for(var t in r)_f(e,t,{get:r[t],enumerable:!0})},z6=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of M6(r))!L6.call(e,s)&&s!==t&&_f(e,s,{get:()=>r[s],enumerable:!(n=D6(r,s))||n.enumerable});return e},U6=e=>z6(_f({},"__esModule",{value:!0}),e),eO={};F6(eO,{getHostHeaderPlugin:()=>H6,hostHeaderMiddleware:()=>rO,hostHeaderMiddlewareOptions:()=>nO,resolveHostHeaderConfig:()=>tO});sO.exports=U6(eO);var q6=Xe();function tO(e){return e}bf(tO,"resolveHostHeaderConfig");var rO=bf(e=>r=>async t=>{if(!q6.HttpRequest.isInstance(t.request))return r(t);let{request:n}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return r(t)},"hostHeaderMiddleware"),nO={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},H6=bf(e=>({applyToStack:bf(r=>{r.add(rO(e),nO)},"applyToStack")}),"getHostHeaderPlugin")});var md=B((Wbe,cO)=>{"use strict";var Cf=Object.defineProperty,j6=Object.getOwnPropertyDescriptor,$6=Object.getOwnPropertyNames,V6=Object.prototype.hasOwnProperty,$_=(e,r)=>Cf(e,"name",{value:r,configurable:!0}),G6=(e,r)=>{for(var t in r)Cf(e,t,{get:r[t],enumerable:!0})},K6=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of $6(r))!V6.call(e,s)&&s!==t&&Cf(e,s,{get:()=>r[s],enumerable:!(n=j6(r,s))||n.enumerable});return e},W6=e=>K6(Cf({},"__esModule",{value:!0}),e),oO={};G6(oO,{getLoggerPlugin:()=>X6,loggerMiddleware:()=>iO,loggerMiddlewareOptions:()=>aO});cO.exports=W6(oO);var iO=$_(()=>(e,r)=>async t=>{try{let n=await e(t),{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=c,f=l??r.inputFilterSensitiveLog,g=d??r.outputFilterSensitiveLog,{$metadata:y,...h}=n.output;return a?.info?.({clientName:s,commandName:o,input:f(t.input),output:g(h),metadata:y}),n}catch(n){let{clientName:s,commandName:o,logger:a,dynamoDbDocumentClientOptions:c={}}=r,{overrideInputFilterSensitiveLog:l}=c,d=l??r.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:o,input:d(t.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),aO={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},X6=$_(e=>({applyToStack:$_(r=>{r.add(iO(),aO)},"applyToStack")}),"getLoggerPlugin")});var lO=B(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.InvokeStore=void 0;var Y6=require("async_hooks"),V_=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";V_||(globalThis.awslambda=globalThis.awslambda||{});var J6={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},G_=class{static storage=new Y6.AsyncLocalStorage;static PROTECTED_KEYS=J6;static run(r,t){return this.storage.run({...r},t)}static getContext(){return this.storage.getStore()}static get(r){return this.storage.getStore()?.[r]}static set(r,t){if(this.isProtectedKey(r))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[r]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(r){return r===this.PROTECTED_KEYS.REQUEST_ID||r===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},xf;!V_&&globalThis.awslambda?.InvokeStore?xf=globalThis.awslambda.InvokeStore:(xf=G_,!V_&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=xf));wf.InvokeStore=xf});var W_=B(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.recursionDetectionMiddleware=void 0;var Q6=lO(),Z6=Xe(),K_="X-Amzn-Trace-Id",eG="AWS_LAMBDA_FUNCTION_NAME",tG="_X_AMZN_TRACE_ID",rG=()=>e=>async r=>{let{request:t}=r;if(!Z6.HttpRequest.isInstance(t))return e(r);let n=Object.keys(t.headers??{}).find(d=>d.toLowerCase()===K_.toLowerCase())??K_;if(t.headers.hasOwnProperty(n))return e(r);let s=process.env[eG],o=process.env[tG],c=Q6.InvokeStore.getXRayTraceId()??o,l=d=>typeof d=="string"&&d.length>0;return l(s)&&l(c)&&(t.headers[K_]=c),e({...r,request:t})};Af.recursionDetectionMiddleware=rG});var fd=B((Jbe,J_)=>{"use strict";var Pf=Object.defineProperty,nG=Object.getOwnPropertyDescriptor,sG=Object.getOwnPropertyNames,oG=Object.prototype.hasOwnProperty,dO=(e,r)=>Pf(e,"name",{value:r,configurable:!0}),iG=(e,r)=>{for(var t in r)Pf(e,t,{get:r[t],enumerable:!0})},X_=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of sG(r))!oG.call(e,s)&&s!==t&&Pf(e,s,{get:()=>r[s],enumerable:!(n=nG(r,s))||n.enumerable});return e},aG=(e,r,t)=>(X_(e,r,"default"),t&&X_(t,r,"default")),cG=e=>X_(Pf({},"__esModule",{value:!0}),e),Y_={};iG(Y_,{getRecursionDetectionPlugin:()=>uG});J_.exports=cG(Y_);var lG={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},dG=W_(),uG=dO(e=>({applyToStack:dO(r=>{r.add((0,dG.recursionDetectionMiddleware)(),lG)},"applyToStack")}),"getRecursionDetectionPlugin");aG(Y_,W_(),J_.exports)});var vf=B(Ka=>{"use strict";var mG=(e,r,t)=>{if(r in e){if(e[r]==="true")return!0;if(e[r]==="false")return!1;throw new Error(`Cannot load ${t} "${r}". Expected "true" or "false", got ${e[r]}.`)}},fG=(e,r,t)=>{if(!(r in e))return;let n=parseInt(e[r],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${t} '${r}'. Expected number, got '${e[r]}'.`);return n};Ka.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ka.SelectorType||(Ka.SelectorType={}));Ka.booleanSelector=mG;Ka.numberSelector=fG});var Z_=B((Zbe,mO)=>{"use strict";var Tf=Object.defineProperty,gG=Object.getOwnPropertyDescriptor,hG=Object.getOwnPropertyNames,pG=Object.prototype.hasOwnProperty,Q_=(e,r)=>Tf(e,"name",{value:r,configurable:!0}),yG=(e,r)=>{for(var t in r)Tf(e,t,{get:r[t],enumerable:!0})},SG=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of hG(r))!pG.call(e,s)&&s!==t&&Tf(e,s,{get:()=>r[s],enumerable:!(n=gG(r,s))||n.enumerable});return e},EG=e=>SG(Tf({},"__esModule",{value:!0}),e),uO={};yG(uO,{build:()=>CG,parse:()=>_G,validate:()=>bG});mO.exports=EG(uO);var bG=Q_(e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,"validate"),_G=Q_(e=>{let r=e.split(":");if(r.length<6||r[0]!=="arn")throw new Error("Malformed ARN");let[,t,n,s,o,...a]=r;return{partition:t,service:n,region:s,accountId:o,resource:a.join(":")}},"parse"),CG=Q_(e=>{let{partition:r="aws",service:t,region:n,accountId:s,resource:o}=e;if([t,n,s,o].some(a=>typeof a!="string"))throw new Error("Input ARN object is invalid");return`arn:${r}:${t}:${n}:${s}:${o}`},"build")});var Of=B(Ye=>{"use strict";var gd=Xe(),pO=Ie(),xG=zm(),Rf=vf(),wG=(Gt(),Re(fn)),yO=(Mr(),Re(ai));Es();var AG=br(),fO=Zo(),PG=Z_(),vG="content-length",TG="x-amz-decoded-content-length";function SO(){return(e,r)=>async t=>{let{request:n}=t;if(gd.HttpRequest.isInstance(n)&&!(vG in n.headers)&&!(TG in n.headers)){let s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof r?.logger?.warn=="function"&&!(r.logger instanceof pO.NoOpLogger)?r.logger.warn(s):console.warn(s)}return e({...t})}}var EO={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},RG=e=>({applyToStack:r=>{r.add(SO(),EO)}}),bO=e=>(r,t)=>async n=>{let s=await e.region(),o=e.region,a=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),a=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{let c=await r(n);if(t.__s3RegionRedirect){a();let l=await e.region();if(s!==l)throw new Error("Region was not restored following S3 region redirect.")}return c}catch(c){throw a(),c}},_O={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function CO(e){return(r,t)=>async n=>{try{return await r(n)}catch(s){if(e.followRegionRedirects){let o=s?.$metadata?.httpStatusCode,a=t.commandName==="HeadBucketCommand",c=s?.$response?.headers?.["x-amz-bucket-region"];if(c&&(o===301||o===400&&(s?.name==="IllegalLocationConstraintException"||a))){try{let l=c;t.logger?.debug(`Redirecting from ${await e.region()} to ${l}`),t.__s3RegionRedirect=l}catch(l){throw new Error("Region redirect failed: "+l)}return r(n)}}throw s}}}var xO={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},IG=e=>({applyToStack:r=>{r.add(CO(e),xO),r.addRelativeTo(bO(e),_O)}}),wO=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(gd.HttpResponse.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{pO.parseRfc7231DateTime(o.headers.expires)}catch(a){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${a}`),delete o.headers.expires}}return s},AO={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},kG=e=>({applyToStack:r=>{r.addRelativeTo(wO(),AO)}}),If=class e{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(r={}){this.data=r}get(r){let t=this.data[r];if(t)return t}set(r,t){return this.data[r]=t,t}delete(r){delete this.data[r]}async purgeExpired(){let r=Date.now();if(!(this.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>r))for(let t in this.data){let n=this.data[t];if(!n.isRefreshing){let s=await n.identity;s.expiration&&s.expiration.getTime()<r&&delete this.data[t]}}}},Wa=class{_identity;isRefreshing;accessed;constructor(r,t=!1,n=Date.now()){this._identity=r,this.isRefreshing=t,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}},kf=class e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(r,t=new If){this.createSessionFn=r,this.cache=t}async getS3ExpressIdentity(r,t){let n=t.Bucket,{cache:s}=this,o=s.get(n);return o?o.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(n,new Wa(this.getIdentity(n))).identity:((a.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(n).then(d=>{s.set(n,new Wa(Promise.resolve(d)))})),a)):s.set(n,new Wa(this.getIdentity(n))).identity}async getIdentity(r){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});let t=await this.createSessionFn(r);if(!t.Credentials?.AccessKeyId||!t.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}},OG="Directory",NG="S3Express",BG="sigv4-s3express",eC="X-Amz-S3session-Token",tC=eC.toLowerCase(),DG="AWS_S3_DISABLE_EXPRESS_SESSION_AUTH",MG="s3_disable_express_session_auth",LG={environmentVariableSelector:e=>Rf.booleanSelector(e,DG,Rf.SelectorType.ENV),configFileSelector:e=>Rf.booleanSelector(e,MG,Rf.SelectorType.CONFIG),default:!1},rC=class extends xG.SignatureV4{async signWithCredentials(r,t,n){let s=gO(t);r.headers[tC]=t.sessionToken;let o=this;return hO(o,s),o.signRequest(r,n??{})}async presignWithCredentials(r,t,n){let s=gO(t);return delete r.headers[tC],r.headers[eC]=t.sessionToken,r.query=r.query??{},r.query[eC]=t.sessionToken,hO(this,s),this.presign(r,n)}};function gO(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function hO(e,r){let t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,s=()=>(clearTimeout(t),e.credentialProvider=n,Promise.resolve(r));e.credentialProvider=s}var PO=e=>(r,t)=>async n=>{if(t.endpointV2){let s=t.endpointV2,o=s.properties?.authSchemes?.[0]?.name===BG;if((s.properties?.backend===NG||s.properties?.bucketType===OG)&&(wG.setFeature(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),o){let c=n.input.Bucket;if(c){let l=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:c});t.s3ExpressIdentity=l,gd.HttpRequest.isInstance(n.request)&&l.sessionToken&&(n.request.headers[tC]=l.sessionToken)}}}return r(n)},vO={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},FG=e=>({applyToStack:r=>{r.add(PO(e),vO)}}),zG=async(e,r,t,n)=>{let s=await n.signWithCredentials(t,e,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},UG=e=>r=>{throw r},qG=(e,r)=>{},HG=yO.httpSigningMiddlewareOptions,TO=e=>(r,t)=>async n=>{if(!gd.HttpRequest.isInstance(n.request))return r(n);let o=AG.getSmithyContext(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:l}=o,d;t.s3ExpressIdentity?d=await zG(t.s3ExpressIdentity,a,n.request,await e.signer()):d=await l.sign(n.request,c,a);let f=await r({...n,request:d}).catch((l.errorHandler||UG)(a));return(l.successHandler||qG)(f.response,a),f},jG=e=>({applyToStack:r=>{r.addRelativeTo(TO(e),yO.httpSigningMiddlewareOptions)}}),$G=(e,{session:r})=>{let[t,n]=r,{forcePathStyle:s,useAccelerateEndpoint:o,disableMultiregionAccessPoints:a,followRegionRedirects:c,s3ExpressIdentityProvider:l,bucketEndpoint:d}=e;return Object.assign(e,{forcePathStyle:s??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:c??!1,s3ExpressIdentityProvider:l??new kf(async f=>t().send(new n({Bucket:f}))),bucketEndpoint:d??!1})},VG={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},GG=3e3,RO=e=>(r,t)=>async n=>{let s=await r(n),{response:o}=s;if(!gd.HttpResponse.isInstance(o))return s;let{statusCode:a,body:c}=o;if(a<200||a>=300||!(typeof c?.stream=="function"||typeof c?.pipe=="function"||typeof c?.tee=="function"))return s;let d=c,f=c;c&&typeof c=="object"&&!(c instanceof Uint8Array)&&([d,f]=await fO.splitStream(c)),o.body=f;let g=await KG(d,{streamCollector:async h=>fO.headStream(h,GG)});typeof d?.destroy=="function"&&d.destroy();let y=e.utf8Encoder(g.subarray(g.length-16));if(g.length===0&&VG[t.commandName]){let h=new Error("S3 aborted request");throw h.name="InternalError",h}return y&&y.endsWith("</Error>")&&(o.statusCode=400),s},KG=(e=new Uint8Array,r)=>e instanceof Uint8Array?Promise.resolve(e):r.streamCollector(e)||Promise.resolve(new Uint8Array),IO={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},WG=e=>({applyToStack:r=>{r.addRelativeTo(RO(e),IO)}});function XG(e){return(r,t)=>async n=>{if(e.bucketEndpoint){let s=t.endpointV2;if(s){let o=n.input.Bucket;if(typeof o=="string")try{let a=new URL(o);t.endpointV2={...s,url:a}}catch(a){let c=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${o} could not be parsed as URL.`;throw t.logger?.constructor?.name==="NoOpLogger"?console.warn(c):t.logger?.warn?.(c),a}}}return r(n)}}var YG={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function kO({bucketEndpoint:e}){return r=>async t=>{let{input:{Bucket:n}}=t;if(!e&&typeof n=="string"&&!PG.validate(n)&&n.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return r({...t})}}var OO={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},JG=e=>({applyToStack:r=>{r.add(kO(e),OO),r.addRelativeTo(XG(e),YG)}});Ye.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS=LG;Ye.S3ExpressIdentityCache=If;Ye.S3ExpressIdentityCacheEntry=Wa;Ye.S3ExpressIdentityProviderImpl=kf;Ye.SignatureV4S3Express=rC;Ye.checkContentLengthHeader=SO;Ye.checkContentLengthHeaderMiddlewareOptions=EO;Ye.getCheckContentLengthHeaderPlugin=RG;Ye.getRegionRedirectMiddlewarePlugin=IG;Ye.getS3ExpiresMiddlewarePlugin=kG;Ye.getS3ExpressHttpSigningPlugin=jG;Ye.getS3ExpressPlugin=FG;Ye.getThrow200ExceptionsPlugin=WG;Ye.getValidateBucketNamePlugin=JG;Ye.regionRedirectEndpointMiddleware=bO;Ye.regionRedirectEndpointMiddlewareOptions=_O;Ye.regionRedirectMiddleware=CO;Ye.regionRedirectMiddlewareOptions=xO;Ye.resolveS3Config=$G;Ye.s3ExpiresMiddleware=wO;Ye.s3ExpiresMiddlewareOptions=AO;Ye.s3ExpressHttpSigningMiddleware=TO;Ye.s3ExpressHttpSigningMiddlewareOptions=HG;Ye.s3ExpressMiddleware=PO;Ye.s3ExpressMiddlewareOptions=vO;Ye.throw200ExceptionsMiddleware=RO;Ye.throw200ExceptionsMiddlewareOptions=IO;Ye.validateBucketNameMiddleware=kO;Ye.validateBucketNameMiddlewareOptions=OO});var yi=B(pi=>{"use strict";var sC=Es(),oC=class{capacity;data=new Map;parameters=[];constructor({size:r,params:t}){this.capacity=r??50,t&&(this.parameters=t)}get(r,t){let n=this.hash(r);if(n===!1)return t();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:a,done:c}=s.next();if(this.data.delete(a),c||++o>10)break}}this.data.set(n,t())}return this.data.get(n)}size(){return this.data.size}hash(r){let t="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(r[s]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},QG=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),NO=e=>QG.test(e)||e.startsWith("[")&&e.endsWith("]"),ZG=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),aC=(e,r=!1)=>{if(!r)return ZG.test(e);let t=e.split(".");for(let n of t)if(!aC(n))return!1;return!0},iC={},hd="endpoints";function go(e){return typeof e!="object"||e==null?e:"ref"in e?`$${go(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(go).join(", ")})`:JSON.stringify(e,null,2)}var xr=class extends Error{constructor(r){super(r),this.name="EndpointError"}},eK=(e,r)=>e===r,tK=e=>{let r=e.split("."),t=[];for(let n of r){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new xr(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new xr(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(n.slice(0,s)),t.push(o)}else t.push(n)}return t},BO=(e,r)=>tK(r).reduce((t,n)=>{if(typeof t!="object")throw new xr(`Index '${n}' in '${r}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(n)]:t[n]},e),rK=e=>e!=null,nK=e=>!e,nC={[sC.EndpointURLScheme.HTTP]:80,[sC.EndpointURLScheme.HTTPS]:443},sK=e=>{let r=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:h,protocol:_="",path:R="",query:I={}}=e,N=new URL(`${_}//${y}${h?`:${h}`:""}${R}`);return N.search=Object.entries(I).map(([W,ce])=>`${W}=${ce}`).join("&"),N}return new URL(e)}catch{return null}})();if(!r)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=r.href,{host:n,hostname:s,pathname:o,protocol:a,search:c}=r;if(c)return null;let l=a.slice(0,-1);if(!Object.values(sC.EndpointURLScheme).includes(l))return null;let d=NO(s),f=t.includes(`${n}:${nC[l]}`)||typeof e=="string"&&e.includes(`${n}:${nC[l]}`),g=`${n}${f?`:${nC[l]}`:""}`;return{scheme:l,authority:g,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}},oK=(e,r)=>e===r,iK=(e,r,t,n)=>r>=t||e.length<t?null:n?e.substring(e.length-t,e.length-r):e.substring(r,t),aK=e=>encodeURIComponent(e).replace(/[!*'()]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),cK={booleanEquals:eK,getAttr:BO,isSet:rK,isValidHostLabel:aC,not:nK,parseURL:sK,stringEquals:oK,substring:iK,uriEncode:aK},DO=(e,r)=>{let t=[],n={...r.endpointParams,...r.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let a=e.indexOf("}",o);if(a===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[a+1]==="}"&&(t.push(e.slice(o+1,a)),s=a+2);let c=e.substring(o+1,a);if(c.includes("#")){let[l,d]=c.split("#");t.push(BO(n[l],d))}else t.push(n[c]);s=a+1}return t.join("")},lK=({ref:e},r)=>({...r.endpointParams,...r.referenceRecord})[e],Nf=(e,r,t)=>{if(typeof e=="string")return DO(e,t);if(e.fn)return LO.callFunction(e,t);if(e.ref)return lK(e,t);throw new xr(`'${r}': ${String(e)} is not a string, function or reference.`)},MO=({fn:e,argv:r},t)=>{let n=r.map(o=>["boolean","number"].includes(typeof o)?o:LO.evaluateExpression(o,"arg",t)),s=e.split(".");return s[0]in iC&&s[1]!=null?iC[s[0]][s[1]](...n):cK[e](...n)},LO={evaluateExpression:Nf,callFunction:MO},dK=({assign:e,...r},t)=>{if(e&&e in t.referenceRecord)throw new xr(`'${e}' is already defined in Reference Record.`);let n=MO(r,t);return t.logger?.debug?.(`${hd} evaluateCondition: ${go(r)} = ${go(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},cC=(e=[],r)=>{let t={};for(let n of e){let{result:s,toAssign:o}=dK(n,{...r,referenceRecord:{...r.referenceRecord,...t}});if(!s)return{result:s};o&&(t[o.name]=o.value,r.logger?.debug?.(`${hd} assign: ${o.name} := ${go(o.value)}`))}return{result:!0,referenceRecord:t}},uK=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:s.map(o=>{let a=Nf(o,"Header value entry",r);if(typeof a!="string")throw new xr(`Header '${n}' value '${a}' is not a string`);return a})}),{}),FO=(e,r)=>Object.entries(e).reduce((t,[n,s])=>({...t,[n]:UO.getEndpointProperty(s,r)}),{}),zO=(e,r)=>{if(Array.isArray(e))return e.map(t=>zO(t,r));switch(typeof e){case"string":return DO(e,r);case"object":if(e===null)throw new xr(`Unexpected endpoint property: ${e}`);return UO.getEndpointProperties(e,r);case"boolean":return e;default:throw new xr(`Unexpected endpoint property type: ${typeof e}`)}},UO={getEndpointProperty:zO,getEndpointProperties:FO},mK=(e,r)=>{let t=Nf(e,"Endpoint URL",r);if(typeof t=="string")try{return new URL(t)}catch(n){throw console.error(`Failed to construct URL with ${t}`,n),n}throw new xr(`Endpoint URL must be a string, got ${typeof t}`)},fK=(e,r)=>{let{conditions:t,endpoint:n}=e,{result:s,referenceRecord:o}=cC(t,r);if(!s)return;let a={...r,referenceRecord:{...r.referenceRecord,...o}},{url:c,properties:l,headers:d}=n;return r.logger?.debug?.(`${hd} Resolving endpoint from template: ${go(n)}`),{...d!=null&&{headers:uK(d,a)},...l!=null&&{properties:FO(l,a)},url:mK(c,a)}},gK=(e,r)=>{let{conditions:t,error:n}=e,{result:s,referenceRecord:o}=cC(t,r);if(s)throw new xr(Nf(n,"Error",{...r,referenceRecord:{...r.referenceRecord,...o}}))},qO=(e,r)=>{for(let t of e)if(t.type==="endpoint"){let n=fK(t,r);if(n)return n}else if(t.type==="error")gK(t,r);else if(t.type==="tree"){let n=HO.evaluateTreeRule(t,r);if(n)return n}else throw new xr(`Unknown endpoint rule: ${t}`);throw new xr("Rules evaluation failed")},hK=(e,r)=>{let{conditions:t,rules:n}=e,{result:s,referenceRecord:o}=cC(t,r);if(s)return HO.evaluateRules(n,{...r,referenceRecord:{...r.referenceRecord,...o}})},HO={evaluateRules:qO,evaluateTreeRule:hK},pK=(e,r)=>{let{endpointParams:t,logger:n}=r,{parameters:s,rules:o}=e;r.logger?.debug?.(`${hd} Initial EndpointParams: ${go(t)}`);let a=Object.entries(s).filter(([,d])=>d.default!=null).map(([d,f])=>[d,f.default]);if(a.length>0)for(let[d,f]of a)t[d]=t[d]??f;let c=Object.entries(s).filter(([,d])=>d.required).map(([d])=>d);for(let d of c)if(t[d]==null)throw new xr(`Missing required parameter: '${d}'`);let l=qO(o,{endpointParams:t,logger:n,referenceRecord:{}});return r.logger?.debug?.(`${hd} Resolved endpoint: ${go(l)}`),l};pi.EndpointCache=oC;pi.EndpointError=xr;pi.customEndpointFunctions=iC;pi.isIpAddress=NO;pi.isValidHostLabel=aC;pi.resolveEndpoint=pK});var $O=B(jO=>{"use strict";function yK(e){let r={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[n,s=null]=t.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in r?Array.isArray(r[n])?r[n].push(s):r[n]=[r[n],s]:r[n]=s}return r}jO.parseQueryString=yK});var ho=B(GO=>{"use strict";var SK=$O(),VO=e=>{if(typeof e=="string")return VO(new URL(e));let{hostname:r,pathname:t,port:n,protocol:s,search:o}=e,a;return o&&(a=SK.parseQueryString(o)),{hostname:r,port:n?parseInt(n):void 0,protocol:s,path:t,query:a}};GO.parseUrl=VO});var Xa=B((s_e,nN)=>{"use strict";var Bf=Object.defineProperty,EK=Object.getOwnPropertyDescriptor,bK=Object.getOwnPropertyNames,_K=Object.prototype.hasOwnProperty,po=(e,r)=>Bf(e,"name",{value:r,configurable:!0}),CK=(e,r)=>{for(var t in r)Bf(e,t,{get:r[t],enumerable:!0})},xK=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of bK(r))!_K.call(e,s)&&s!==t&&Bf(e,s,{get:()=>r[s],enumerable:!(n=EK(r,s))||n.enumerable});return e},wK=e=>xK(Bf({},"__esModule",{value:!0}),e),WO={};CK(WO,{ConditionObject:()=>yt.ConditionObject,DeprecatedObject:()=>yt.DeprecatedObject,EndpointError:()=>yt.EndpointError,EndpointObject:()=>yt.EndpointObject,EndpointObjectHeaders:()=>yt.EndpointObjectHeaders,EndpointObjectProperties:()=>yt.EndpointObjectProperties,EndpointParams:()=>yt.EndpointParams,EndpointResolverOptions:()=>yt.EndpointResolverOptions,EndpointRuleObject:()=>yt.EndpointRuleObject,ErrorRuleObject:()=>yt.ErrorRuleObject,EvaluateOptions:()=>yt.EvaluateOptions,Expression:()=>yt.Expression,FunctionArgv:()=>yt.FunctionArgv,FunctionObject:()=>yt.FunctionObject,FunctionReturn:()=>yt.FunctionReturn,ParameterObject:()=>yt.ParameterObject,ReferenceObject:()=>yt.ReferenceObject,ReferenceRecord:()=>yt.ReferenceRecord,RuleSetObject:()=>yt.RuleSetObject,RuleSetRules:()=>yt.RuleSetRules,TreeRuleObject:()=>yt.TreeRuleObject,awsEndpointFunctions:()=>tN,getUserAgentPrefix:()=>TK,isIpAddress:()=>yt.isIpAddress,partition:()=>ZO,resolveDefaultAwsRegionalEndpointsConfig:()=>IK,resolveEndpoint:()=>yt.resolveEndpoint,setPartitionInfo:()=>eN,toEndpointV1:()=>rN,useDefaultPartitionInfo:()=>vK});nN.exports=wK(WO);var yt=yi(),XO=po((e,r=!1)=>{if(r){for(let t of e.split("."))if(!XO(t))return!1;return!0}return!(!(0,yt.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,yt.isIpAddress)(e))},"isVirtualHostableS3Bucket"),KO=":",AK="/",PK=po(e=>{let r=e.split(KO);if(r.length<6)return null;let[t,n,s,o,a,...c]=r;if(t!=="arn"||n===""||s===""||c.join(KO)==="")return null;let l=c.map(d=>d.split(AK)).flat();return{partition:n,service:s,region:o,accountId:a,resourceId:l}},"parseArn"),YO={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],version:"1.1"},JO=YO,QO="",ZO=po(e=>{let{partitions:r}=JO;for(let n of r){let{regions:s,outputs:o}=n;for(let[a,c]of Object.entries(s))if(a===e)return{...o,...c}}for(let n of r){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let t=r.find(n=>n.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},"partition"),eN=po((e,r="")=>{JO=e,QO=r},"setPartitionInfo"),vK=po(()=>{eN(YO,"")},"useDefaultPartitionInfo"),TK=po(()=>QO,"getUserAgentPrefix"),tN={isVirtualHostableS3Bucket:XO,parseArn:PK,partition:ZO};yt.customEndpointFunctions.aws=tN;var RK=ho(),IK=po(e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>rN(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},"resolveDefaultAwsRegionalEndpointsConfig"),rN=po(e=>(0,RK.parseUrl)(e.url),"toEndpointV1")});var Ja=B(Ya=>{"use strict";var kK=(Mr(),Re(ai)),OK=Xa(),NK=Xe(),ts=(Gt(),Re(fn)),aN=void 0;function BK(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function DK(e){let r=kK.normalizeProvider(e.userAgentAppId??aN),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{let n=await r();if(!BK(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var MK=/\d{12}\.ddb/;async function LK(e,r,t){if(t.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&ts.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof r.retryStrategy=="function"){let o=await r.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?ts.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):ts.setFeature(e,"RETRY_MODE_STANDARD","E"):ts.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof r.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(MK)&&ts.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await r.accountIdEndpointMode?.()){case"disabled":ts.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":ts.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":ts.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&ts.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[a,c]of Object.entries(o.$source??{}))ts.setFeature(e,a,c)}}var sN="user-agent",lC="x-amz-user-agent",oN=" ",dC="/",FK=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,zK=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,iN="-",UK=1024;function qK(e){let r="";for(let t in e){let n=e[t];if(r.length+n.length+1<=UK){r.length?r+=","+n:r+=n;continue}break}return r}var cN=e=>(r,t)=>async n=>{let{request:s}=n;if(!NK.HttpRequest.isInstance(s))return r(n);let{headers:o}=s,a=t?.userAgent?.map(Df)||[],c=(await e.defaultUserAgentProvider()).map(Df);await LK(t,e,n);let l=t;c.push(`m/${qK(Object.assign({},t.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(Df)||[],f=await e.userAgentAppId();f&&c.push(Df([`app/${f}`]));let g=OK.getUserAgentPrefix(),y=(g?[g]:[]).concat([...c,...a,...d]).join(oN),h=[...c.filter(_=>_.startsWith("aws-sdk-")),...d].join(oN);return e.runtime!=="browser"?(h&&(o[lC]=o[lC]?`${o[sN]} ${h}`:h),o[sN]=y):o[lC]=y,r({...n,request:s})},Df=e=>{let r=e[0].split(dC).map(a=>a.replace(FK,iN)).join(dC),t=e[1]?.replace(zK,iN),n=r.indexOf(dC),s=r.substring(0,n),o=r.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,t].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},lN={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},HK=e=>({applyToStack:r=>{r.add(cN(e),lN)}});Ya.DEFAULT_UA_APP_ID=aN;Ya.getUserAgentMiddlewareOptions=lN;Ya.getUserAgentPlugin=HK;Ya.resolveUserAgentConfig=DK;Ya.userAgentMiddleware=cN});var rs=B(hr=>{"use strict";var yo=vf(),Mf=br(),jK=yi(),mN="AWS_USE_DUALSTACK_ENDPOINT",fN="use_dualstack_endpoint",$K=!1,VK={environmentVariableSelector:e=>yo.booleanSelector(e,mN,yo.SelectorType.ENV),configFileSelector:e=>yo.booleanSelector(e,fN,yo.SelectorType.CONFIG),default:!1},gN="AWS_USE_FIPS_ENDPOINT",hN="use_fips_endpoint",GK=!1,KK={environmentVariableSelector:e=>yo.booleanSelector(e,gN,yo.SelectorType.ENV),configFileSelector:e=>yo.booleanSelector(e,hN,yo.SelectorType.CONFIG),default:!1},WK=e=>{let{tls:r,endpoint:t,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:r??!0,endpoint:Mf.normalizeProvider(typeof t=="string"?n(t):t),isCustomEndpoint:!0,useDualstackEndpoint:Mf.normalizeProvider(s??!1)})},XK=async e=>{let{tls:r=!0}=e,t=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(t))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:a}=await e.regionInfoProvider(t,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${a}`)},YK=e=>{let r=Mf.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:t,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:t?Mf.normalizeProvider(typeof t=="string"?s(t):t):()=>XK({...e,useDualstackEndpoint:r,useFipsEndpoint:n}),isCustomEndpoint:!!t,useDualstackEndpoint:r})},pN="AWS_REGION",yN="region",JK={environmentVariableSelector:e=>e[pN],configFileSelector:e=>e[yN],default:()=>{throw new Error("Region is missing")}},QK={preferredFile:"credentials"},dN=new Set,ZK=(e,r=jK.isValidHostLabel)=>{if(!dN.has(e)&&!r(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else dN.add(e)},SN=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),e8=e=>SN(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,t8=e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let n=typeof r=="function"?await r():r,s=e8(n);return ZK(s),s},useFipsEndpoint:async()=>{let n=typeof r=="string"?r:await r();return SN(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},uN=(e=[],{useFipsEndpoint:r,useDualstackEndpoint:t})=>e.find(({tags:n})=>r===n.includes("fips")&&t===n.includes("dualstack"))?.hostname,r8=(e,{regionHostname:r,partitionHostname:t})=>r||(t?t.replace("{region}",e):void 0),n8=(e,{partitionHash:r})=>Object.keys(r||{}).find(t=>r[t].regions.includes(e))??"aws",s8=(e,{signingRegion:r,regionRegex:t,useFipsEndpoint:n})=>{if(r)return r;if(n){let s=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},o8=(e,{useFipsEndpoint:r=!1,useDualstackEndpoint:t=!1,signingService:n,regionHash:s,partitionHash:o})=>{let a=n8(e,{partitionHash:o}),c=e in s?e:o[a]?.endpoint??e,l={useFipsEndpoint:r,useDualstackEndpoint:t},d=uN(s[c]?.variants,l),f=uN(o[a]?.variants,l),g=r8(c,{regionHostname:d,partitionHostname:f});if(g===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:c,useFipsEndpoint:r,useDualstackEndpoint:t}}`);let y=s8(g,{signingRegion:s[c]?.signingRegion,regionRegex:o[a].regionRegex,useFipsEndpoint:r});return{partition:a,signingService:n,hostname:g,...y&&{signingRegion:y},...s[c]?.signingService&&{signingService:s[c].signingService}}};hr.CONFIG_USE_DUALSTACK_ENDPOINT=fN;hr.CONFIG_USE_FIPS_ENDPOINT=hN;hr.DEFAULT_USE_DUALSTACK_ENDPOINT=$K;hr.DEFAULT_USE_FIPS_ENDPOINT=GK;hr.ENV_USE_DUALSTACK_ENDPOINT=mN;hr.ENV_USE_FIPS_ENDPOINT=gN;hr.NODE_REGION_CONFIG_FILE_OPTIONS=QK;hr.NODE_REGION_CONFIG_OPTIONS=JK;hr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=VK;hr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=KK;hr.REGION_ENV_NAME=pN;hr.REGION_INI_NAME=yN;hr.getRegionInfo=o8;hr.resolveCustomEndpointsConfig=WK;hr.resolveEndpointsConfig=YK;hr.resolveRegionConfig=t8});var bN=B(EN=>{"use strict";var i8=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)});EN.resolveEventStreamSerdeConfig=i8});var pd=B(Lf=>{"use strict";var a8=Xe(),_N="content-length";function CN(e){return r=>async t=>{let n=t.request;if(a8.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(a=>a.toLowerCase()).indexOf(_N)===-1)try{let a=e(s);n.headers={...n.headers,[_N]:String(a)}}catch{}}return r({...t,request:n})}}var xN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},c8=e=>({applyToStack:r=>{r.add(CN(e.bodyLengthChecker),xN)}});Lf.contentLengthMiddleware=CN;Lf.contentLengthMiddlewareOptions=xN;Lf.getContentLengthPlugin=c8});var mC=B(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.getHomeDir=void 0;var l8=require("os"),d8=require("path"),uC={},u8=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",m8=()=>{let{HOME:e,USERPROFILE:r,HOMEPATH:t,HOMEDRIVE:n=`C:${d8.sep}`}=process.env;if(e)return e;if(r)return r;if(t)return`${n}${t}`;let s=u8();return uC[s]||(uC[s]=(0,l8.homedir)()),uC[s]};Ff.getHomeDir=m8});var fC=B(zf=>{"use strict";Object.defineProperty(zf,"__esModule",{value:!0});zf.getSSOTokenFilepath=void 0;var f8=require("crypto"),g8=require("path"),h8=mC(),p8=e=>{let t=(0,f8.createHash)("sha1").update(e).digest("hex");return(0,g8.join)((0,h8.getHomeDir)(),".aws","sso","cache",`${t}.json`)};zf.getSSOTokenFilepath=p8});var wN=B(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.getSSOTokenFromFile=So.tokenIntercept=void 0;var y8=require("fs"),S8=fC(),{readFile:E8}=y8.promises;So.tokenIntercept={};var b8=async e=>{if(So.tokenIntercept[e])return So.tokenIntercept[e];let r=(0,S8.getSSOTokenFilepath)(e),t=await E8(r,"utf8");return JSON.parse(t)};So.getSSOTokenFromFile=b8});var AN=B(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.slurpFile=tn.fileIntercept=tn.filePromisesHash=void 0;var _8=require("fs"),{readFile:C8}=_8.promises;tn.filePromisesHash={};tn.fileIntercept={};var x8=(e,r)=>tn.fileIntercept[e]!==void 0?tn.fileIntercept[e]:((!tn.filePromisesHash[e]||r?.ignoreCache)&&(tn.filePromisesHash[e]=C8(e,"utf8")),tn.filePromisesHash[e]);tn.slurpFile=x8});var Os=B(Gr=>{"use strict";var yd=mC(),PN=fC(),gC=wN(),Uf=require("path"),qf=Es(),Sd=AN(),TN="AWS_PROFILE",RN="default",w8=e=>e.profile||process.env[TN]||RN,Si=".",A8=e=>Object.entries(e).filter(([r])=>{let t=r.indexOf(Si);return t===-1?!1:Object.values(qf.IniSectionType).includes(r.substring(0,t))}).reduce((r,[t,n])=>{let s=t.indexOf(Si),o=t.substring(0,s)===qf.IniSectionType.PROFILE?t.substring(s+1):t;return r[o]=n,r},{...e.default&&{default:e.default}}),P8="AWS_CONFIG_FILE",IN=()=>process.env[P8]||Uf.join(yd.getHomeDir(),".aws","config"),v8="AWS_SHARED_CREDENTIALS_FILE",T8=()=>process.env[v8]||Uf.join(yd.getHomeDir(),".aws","credentials"),R8=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,I8=["__proto__","profile __proto__"],hC=e=>{let r={},t,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){t=void 0,n=void 0;let c=o.substring(1,o.length-1),l=R8.exec(c);if(l){let[,d,,f]=l;Object.values(qf.IniSectionType).includes(d)&&(t=[d,f].join(Si))}else t=c;if(I8.includes(c))throw new Error(`Found invalid profile name "${c}"`)}else if(t){let c=o.indexOf("=");if(![0,-1].includes(c)){let[l,d]=[o.substring(0,c).trim(),o.substring(c+1).trim()];if(d==="")n=l;else{n&&s.trimStart()===s&&(n=void 0),r[t]=r[t]||{};let f=n?[n,l].join(Si):l;r[t][f]=d}}}}return r},vN=()=>({}),kN=async(e={})=>{let{filepath:r=T8(),configFilepath:t=IN()}=e,n=yd.getHomeDir(),s="~/",o=r;r.startsWith(s)&&(o=Uf.join(n,r.slice(2)));let a=t;t.startsWith(s)&&(a=Uf.join(n,t.slice(2)));let c=await Promise.all([Sd.slurpFile(a,{ignoreCache:e.ignoreCache}).then(hC).then(A8).catch(vN),Sd.slurpFile(o,{ignoreCache:e.ignoreCache}).then(hC).catch(vN)]);return{configFile:c[0],credentialsFile:c[1]}},k8=e=>Object.entries(e).filter(([r])=>r.startsWith(qf.IniSectionType.SSO_SESSION+Si)).reduce((r,[t,n])=>({...r,[t.substring(t.indexOf(Si)+1)]:n}),{}),O8=()=>({}),N8=async(e={})=>Sd.slurpFile(e.configFilepath??IN()).then(hC).then(k8).catch(O8),B8=(...e)=>{let r={};for(let t of e)for(let[n,s]of Object.entries(t))r[n]!==void 0?Object.assign(r[n],s):r[n]=s;return r},D8=async e=>{let r=await kN(e);return B8(r.configFile,r.credentialsFile)},M8={getFileRecord(){return Sd.fileIntercept},interceptFile(e,r){Sd.fileIntercept[e]=Promise.resolve(r)},getTokenRecord(){return gC.tokenIntercept},interceptToken(e,r){gC.tokenIntercept[e]=r}};Object.defineProperty(Gr,"getSSOTokenFromFile",{enumerable:!0,get:function(){return gC.getSSOTokenFromFile}});Gr.CONFIG_PREFIX_SEPARATOR=Si;Gr.DEFAULT_PROFILE=RN;Gr.ENV_PROFILE=TN;Gr.externalDataInterceptor=M8;Gr.getProfileName=w8;Gr.loadSharedConfigFiles=kN;Gr.loadSsoSessionData=N8;Gr.parseKnownFiles=D8;Object.keys(yd).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gr,e)&&Object.defineProperty(Gr,e,{enumerable:!0,get:function(){return yd[e]}})});Object.keys(PN).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Gr,e)&&Object.defineProperty(Gr,e,{enumerable:!0,get:function(){return PN[e]}})})});var Eo=B(BN=>{"use strict";var Ed=Lr(),ON=Os();function NN(e){try{let r=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return r.delete("CONFIG"),r.delete("CONFIG_PREFIX_SEPARATOR"),r.delete("ENV"),[...r].join(", ")}catch{return e}}var L8=(e,r)=>async()=>{try{let t=e(process.env,r);if(t===void 0)throw new Error;return t}catch(t){throw new Ed.CredentialsProviderError(t.message||`Not found in ENV: ${NN(e.toString())}`,{logger:r?.logger})}},F8=(e,{preferredFile:r="config",...t}={})=>async()=>{let n=ON.getProfileName(t),{configFile:s,credentialsFile:o}=await ON.loadSharedConfigFiles(t),a=o[n]||{},c=s[n]||{},l=r==="config"?{...a,...c}:{...c,...a};try{let f=e(l,r==="config"?s:o);if(f===void 0)throw new Error;return f}catch(d){throw new Ed.CredentialsProviderError(d.message||`Not found in config files w/ profile [${n}]: ${NN(e.toString())}`,{logger:t.logger})}},z8=e=>typeof e=="function",U8=e=>z8(e)?async()=>await e():Ed.fromStatic(e),q8=({environmentVariableSelector:e,configFileSelector:r,default:t},n={})=>{let{signingName:s,logger:o}=n,a={signingName:s,logger:o};return Ed.memoize(Ed.chain(L8(e,a),F8(r,n),U8(t)))};BN.loadConfig=q8});var FN=B(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.getEndpointUrlConfig=void 0;var DN=Os(),MN="AWS_ENDPOINT_URL",LN="endpoint_url",H8=e=>({environmentVariableSelector:r=>{let t=e.split(" ").map(o=>o.toUpperCase()),n=r[[MN,...t].join("_")];if(n)return n;let s=r[MN];if(s)return s},configFileSelector:(r,t)=>{if(t&&r.services){let s=t[["services",r.services].join(DN.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(c=>c.toLowerCase()),a=s[[o.join("_"),LN].join(DN.CONFIG_PREFIX_SEPARATOR)];if(a)return a}}let n=r[LN];if(n)return n},default:void 0});Hf.getEndpointUrlConfig=H8});var zN=B(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.getEndpointFromConfig=void 0;var j8=Eo(),$8=FN(),V8=async e=>(0,j8.loadConfig)((0,$8.getEndpointUrlConfig)(e??""))();jf.getEndpointFromConfig=V8});var Bs=B(Ns=>{"use strict";var qN=zN(),UN=ho(),G8=(Mr(),Re(ai)),$f=br(),K8=eo(),W8=async e=>{let r=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=r.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Z8(r)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Q8(r)||r.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||r.toLowerCase()!==r||r.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},X8=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Y8=/(\d+\.){3}\d+/,J8=/\.\./,Q8=e=>X8.test(e)&&!Y8.test(e)&&!J8.test(e),Z8=e=>{let[r,t,n,,,s]=e.split(":"),o=r==="arn"&&e.split(":").length>=6,a=!!(o&&t&&n&&s);if(o&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},e5=(e,r,t)=>{let n=async()=>{let s=t[e]??t[r];return typeof s=="function"?s():s};return e==="credentialScope"||r==="CredentialScope"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||r==="AccountId"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||r==="endpoint"?async()=>{if(t.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:a,port:c,path:l}=s;return`${o}//${a}${c?":"+c:""}${l}`}}return s}:n},pC=e=>typeof e=="object"?"url"in e?UN.parseUrl(e.url):e:UN.parseUrl(e),HN=async(e,r,t,n)=>{if(!t.isCustomEndpoint){let a;t.serviceConfiguredEndpoint?a=await t.serviceConfiguredEndpoint():a=await qN.getEndpointFromConfig(t.serviceId),a&&(t.endpoint=()=>Promise.resolve(pC(a)),t.isCustomEndpoint=!0)}let s=await jN(e,r,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,n)},jN=async(e,r,t)=>{let n={},s=r?.getEndpointParameterInstructions?.()||{};for(let[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await e5(a.name,o,t)();break;case"operationContextParams":n[o]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,t),String(t.serviceId).toLowerCase()==="s3"&&await W8(n),n},$N=({config:e,instructions:r})=>(t,n)=>async s=>{e.isCustomEndpoint&&G8.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await HN(s.input,{getEndpointParameterInstructions(){return r}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;let l=$f.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return t({...s})},VN={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:K8.serializerMiddlewareOption.name},t5=(e,r)=>({applyToStack:t=>{t.addRelativeTo($N({config:e,instructions:r}),VN)}}),r5=e=>{let r=e.tls??!0,{endpoint:t,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=t!=null?async()=>pC(await $f.normalizeProvider(t)()):void 0,c=Object.assign(e,{endpoint:o,tls:r,isCustomEndpoint:!!t,useDualstackEndpoint:$f.normalizeProvider(n??!1),useFipsEndpoint:$f.normalizeProvider(s??!1)}),l;return c.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=qN.getEndpointFromConfig(e.serviceId)),l),c},n5=e=>{let{endpoint:r}=e;return r===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};Ns.endpointMiddleware=$N;Ns.endpointMiddlewareOptions=VN;Ns.getEndpointFromInstructions=HN;Ns.getEndpointPlugin=t5;Ns.resolveEndpointConfig=r5;Ns.resolveEndpointRequiredConfig=n5;Ns.resolveParams=jN;Ns.toEndpointV1=pC});var SC=B(bo=>{"use strict";var s5=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],o5=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],i5=["TimeoutError","RequestTimeout","RequestTimeoutException"],a5=[500,502,503,504],c5=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],l5=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],GN=e=>e?.$retryable!==void 0,d5=e=>s5.includes(e.name),KN=e=>e.$metadata?.clockSkewCorrected,WN=e=>{let r=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?r.has(e.message):!1},u5=e=>e.$metadata?.httpStatusCode===429||o5.includes(e.name)||e.$retryable?.throttling==!0,yC=(e,r=0)=>GN(e)||KN(e)||i5.includes(e.name)||c5.includes(e?.code||"")||l5.includes(e?.code||"")||a5.includes(e.$metadata?.httpStatusCode||0)||WN(e)||e.cause!==void 0&&r<=10&&yC(e.cause,r+1),m5=e=>{if(e.$metadata?.httpStatusCode!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!yC(e)}return!1};bo.isBrowserNetworkError=WN;bo.isClockSkewCorrectedError=KN;bo.isClockSkewError=d5;bo.isRetryableByTrait=GN;bo.isServerError=m5;bo.isThrottlingError=u5;bo.isTransientError=yC});var Qa=B(Bt=>{"use strict";var f5=SC();Bt.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Bt.RETRY_MODES||(Bt.RETRY_MODES={}));var EC=3,g5=Bt.RETRY_MODES.STANDARD,Vf=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(r){this.beta=r?.beta??.7,this.minCapacity=r?.minCapacity??1,this.minFillRate=r?.minFillRate??.5,this.scaleConstant=r?.scaleConstant??.4,this.smooth=r?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(r){if(this.enabled){if(this.refillTokenBucket(),r>this.currentCapacity){let t=(r-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,t))}this.currentCapacity=this.currentCapacity-r}}refillTokenBucket(){let r=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=r;return}let t=(r-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=r}updateClientSendingRate(r){let t;if(this.updateMeasuredRate(),f5.isThrottlingError(r)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(r){return this.getPrecise(r*this.beta)}cubicSuccess(r){return this.getPrecise(this.scaleConstant*Math.pow(r-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(r){this.refillTokenBucket(),this.fillRate=Math.max(r,this.minFillRate),this.maxCapacity=Math.max(r,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let r=this.getCurrentTimeInSeconds(),t=Math.floor(r*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(r){return parseFloat(r.toFixed(8))}},bd=100,xC=20*1e3,YN=500,bC=500,JN=5,QN=10,ZN=1,h5="amz-sdk-invocation-id",p5="amz-sdk-request",y5=()=>{let e=bd;return{computeNextBackoffDelay:n=>Math.floor(Math.min(xC,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},XN=({retryDelay:e,retryCount:r,retryCost:t})=>({getRetryCount:()=>r,getRetryDelay:()=>Math.min(xC,e),getRetryCost:()=>t}),_d=class{maxAttempts;mode=Bt.RETRY_MODES.STANDARD;capacity=bC;retryBackoffStrategy=y5();maxAttemptsProvider;constructor(r){this.maxAttempts=r,this.maxAttemptsProvider=typeof r=="function"?r:async()=>r}async acquireInitialRetryToken(r){return XN({retryDelay:bd,retryCount:0})}async refreshRetryTokenForRetry(r,t){let n=await this.getMaxAttempts();if(this.shouldRetry(r,t,n)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?YN:bd);let o=this.retryBackoffStrategy.computeNextBackoffDelay(r.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,c=this.getCapacityCost(s);return this.capacity-=c,XN({retryDelay:a,retryCount:r.getRetryCount()+1,retryCost:c})}throw new Error("No retry token available")}recordSuccess(r){this.capacity=Math.max(bC,this.capacity+(r.getRetryCost()??ZN))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${EC}`),EC}}shouldRetry(r,t,n){return r.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(r){return r==="TRANSIENT"?QN:JN}isRetryableError(r){return r==="THROTTLING"||r==="TRANSIENT"}},_C=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Bt.RETRY_MODES.ADAPTIVE;constructor(r,t){this.maxAttemptsProvider=r;let{rateLimiter:n}=t??{};this.rateLimiter=n??new Vf,this.standardRetryStrategy=new _d(r)}async acquireInitialRetryToken(r){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(r)}async refreshRetryTokenForRetry(r,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(r,t)}recordSuccess(r){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(r)}},CC=class extends _d{computeNextBackoffDelay;constructor(r,t=bd){super(typeof r=="function"?r:async()=>r),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(r,t){let n=await super.refreshRetryTokenForRetry(r,t);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Bt.AdaptiveRetryStrategy=_C;Bt.ConfiguredRetryStrategy=CC;Bt.DEFAULT_MAX_ATTEMPTS=EC;Bt.DEFAULT_RETRY_DELAY_BASE=bd;Bt.DEFAULT_RETRY_MODE=g5;Bt.DefaultRateLimiter=Vf;Bt.INITIAL_RETRY_TOKENS=bC;Bt.INVOCATION_ID_HEADER=h5;Bt.MAXIMUM_RETRY_DELAY=xC;Bt.NO_RETRY_INCREMENT=ZN;Bt.REQUEST_HEADER=p5;Bt.RETRY_COST=JN;Bt.StandardRetryStrategy=_d;Bt.THROTTLING_RETRY_DELAY_BASE=YN;Bt.TIMEOUT_RETRY_COST=QN});var eB=B(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.isStreamingPayload=void 0;var S5=require("stream"),E5=e=>e?.body instanceof S5.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Gf.isStreamingPayload=E5});var Ds=B(Jt=>{"use strict";var vt=Qa(),Za=Xe(),_o=SC(),rB=Am(),tB=br(),b5=Ie(),_5=eB(),C5=(e,r)=>{let t=e,n=vt.NO_RETRY_INCREMENT,s=vt.RETRY_COST,o=vt.TIMEOUT_RETRY_COST,a=e,c=g=>g.name==="TimeoutError"?o:s,l=g=>c(g)<=a;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:g=>{if(!l(g))throw new Error("No retry token available");let y=c(g);return a-=y,y},releaseRetryTokens:g=>{a+=g??n,a=Math.min(a,t)}})},nB=(e,r)=>Math.floor(Math.min(vt.MAXIMUM_RETRY_DELAY,Math.random()*2**r*e)),sB=e=>e?_o.isRetryableByTrait(e)||_o.isClockSkewError(e)||_o.isThrottlingError(e)||_o.isTransientError(e):!1,oB=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Kf=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=vt.RETRY_MODES.STANDARD;constructor(r,t){this.maxAttemptsProvider=r,this.retryDecider=t?.retryDecider??sB,this.delayDecider=t?.delayDecider??nB,this.retryQuota=t?.retryQuota??C5(vt.INITIAL_RETRY_TOKENS)}shouldRetry(r,t,n){return t<n&&this.retryDecider(r)&&this.retryQuota.hasRetryTokens(r)}async getMaxAttempts(){let r;try{r=await this.maxAttemptsProvider()}catch{r=vt.DEFAULT_MAX_ATTEMPTS}return r}async retry(r,t,n){let s,o=0,a=0,c=await this.getMaxAttempts(),{request:l}=t;for(Za.HttpRequest.isInstance(l)&&(l.headers[vt.INVOCATION_ID_HEADER]=rB.v4());;)try{Za.HttpRequest.isInstance(l)&&(l.headers[vt.REQUEST_HEADER]=`attempt=${o+1}; max=${c}`),n?.beforeRequest&&await n.beforeRequest();let{response:d,output:f}=await r(t);return n?.afterRequest&&n.afterRequest(d),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=a,{response:d,output:f}}catch(d){let f=oB(d);if(o++,this.shouldRetry(f,o,c)){s=this.retryQuota.retrieveRetryTokens(f);let g=this.delayDecider(_o.isThrottlingError(f)?vt.THROTTLING_RETRY_DELAY_BASE:vt.DEFAULT_RETRY_DELAY_BASE,o),y=x5(f.$response),h=Math.max(y||0,g);a+=h,await new Promise(_=>setTimeout(_,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=a,f}}},x5=e=>{if(!Za.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t).getTime()-Date.now():n*1e3},wC=class extends Kf{rateLimiter;constructor(r,t){let{rateLimiter:n,...s}=t??{};super(r,s),this.rateLimiter=n??new vt.DefaultRateLimiter,this.mode=vt.RETRY_MODES.ADAPTIVE}async retry(r,t){return super.retry(r,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},AC="AWS_MAX_ATTEMPTS",PC="max_attempts",w5={environmentVariableSelector:e=>{let r=e[AC];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Environment variable ${AC} mast be a number, got "${r}"`);return t},configFileSelector:e=>{let r=e[PC];if(!r)return;let t=parseInt(r);if(Number.isNaN(t))throw new Error(`Shared config file entry ${PC} mast be a number, got "${r}"`);return t},default:vt.DEFAULT_MAX_ATTEMPTS},A5=e=>{let{retryStrategy:r,retryMode:t,maxAttempts:n}=e,s=tB.normalizeProvider(n??vt.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>r||(await tB.normalizeProvider(t)()===vt.RETRY_MODES.ADAPTIVE?new vt.AdaptiveRetryStrategy(s):new vt.StandardRetryStrategy(s))})},iB="AWS_RETRY_MODE",aB="retry_mode",P5={environmentVariableSelector:e=>e[iB],configFileSelector:e=>e[aB],default:vt.DEFAULT_RETRY_MODE},cB=()=>e=>async r=>{let{request:t}=r;return Za.HttpRequest.isInstance(t)&&(delete t.headers[vt.INVOCATION_ID_HEADER],delete t.headers[vt.REQUEST_HEADER]),e(r)},lB={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},v5=e=>({applyToStack:r=>{r.addRelativeTo(cB(),lB)}}),dB=e=>(r,t)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(T5(s)){s=s;let a=await s.acquireInitialRetryToken(t.partition_id),c=new Error,l=0,d=0,{request:f}=n,g=Za.HttpRequest.isInstance(f);for(g&&(f.headers[vt.INVOCATION_ID_HEADER]=rB.v4());;)try{g&&(f.headers[vt.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:y,output:h}=await r(n);return s.recordSuccess(a),h.$metadata.attempts=l+1,h.$metadata.totalRetryDelay=d,{response:y,output:h}}catch(y){let h=R5(y);if(c=oB(y),g&&_5.isStreamingPayload(f))throw(t.logger instanceof b5.NoOpLogger?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await s.refreshRetryTokenForRetry(a,h)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=a.getRetryCount();let _=a.getRetryDelay();d+=_,await new Promise(R=>setTimeout(R,_))}}else return s=s,s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(r,n)},T5=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",R5=e=>{let r={error:e,errorType:I5(e)},t=mB(e.$response);return t&&(r.retryAfterHint=t),r},I5=e=>_o.isThrottlingError(e)?"THROTTLING":_o.isTransientError(e)?"TRANSIENT":_o.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",uB={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},k5=e=>({applyToStack:r=>{r.add(dB(e),uB)}}),mB=e=>{if(!Za.HttpResponse.isInstance(e))return;let r=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!r)return;let t=e.headers[r],n=Number(t);return Number.isNaN(n)?new Date(t):new Date(n*1e3)};Jt.AdaptiveRetryStrategy=wC;Jt.CONFIG_MAX_ATTEMPTS=PC;Jt.CONFIG_RETRY_MODE=aB;Jt.ENV_MAX_ATTEMPTS=AC;Jt.ENV_RETRY_MODE=iB;Jt.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=w5;Jt.NODE_RETRY_MODE_CONFIG_OPTIONS=P5;Jt.StandardRetryStrategy=Kf;Jt.defaultDelayDecider=nB;Jt.defaultRetryDecider=sB;Jt.getOmitRetryHeadersPlugin=v5;Jt.getRetryAfterHint=mB;Jt.getRetryPlugin=k5;Jt.omitRetryHeadersMiddleware=cB;Jt.omitRetryHeadersMiddlewareOptions=lB;Jt.resolveRetryConfig=A5;Jt.retryMiddleware=dB;Jt.retryMiddlewareOptions=uB});var RC=B(TC=>{"use strict";var O5=Of(),fB=zm(),Cd={CrtSignerV4:null},vC=class{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof Cd.CrtSignerV4=="function"?"crt":typeof fB.signatureV4aContainer.SignatureV4a=="function"?"js":"none"}constructor(r){this.sigv4Signer=new O5.SignatureV4S3Express(r),this.signerOptions=r}async sign(r,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(r,t):this.sigv4Signer.sign(r,t)}async signWithCredentials(r,t,n={}){if(n.signingRegion==="*"){let s=this.getSigv4aSigner(),o=Cd.CrtSignerV4;if(o&&s instanceof o)return s.signWithCredentials(r,t,n);throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(r,t,n)}async presign(r,t={}){if(t.signingRegion==="*"){let n=this.getSigv4aSigner(),s=Cd.CrtSignerV4;if(s&&n instanceof s)return n.presign(r,t);throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(r,t)}async presignWithCredentials(r,t,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(r,t,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let r=Cd.CrtSignerV4,t=fB.signatureV4aContainer.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!r&&!t)throw new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(r&&typeof r=="function")this.sigv4aSigner=new r({...this.signerOptions,signingAlgorithm:1});else if(t&&typeof t=="function")this.sigv4aSigner=new t({...this.signerOptions});else throw new Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||typeof t!="function")throw new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}};TC.SignatureV4MultiRegion=vC;TC.signatureV4CrtContainer=Cd});var qD=B(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.ruleSet=void 0;var ZC="required",p="type",D="rules",C="conditions",v="fn",T="argv",oe="ref",Ce="assign",te="url",re="properties",bi="backend",wr="authSchemes",ar="disableDoubleEncoding",cr="signingName",zr="signingRegion",ne="headers",ex="signingRegionSet",N5=6,B5=!1,ns=!0,rn="isSet",Ht="booleanEquals",Z="error",Qf="aws.partition",qe="stringEquals",Tt="getAttr",qt="name",lt="substring",gB="bucketSuffix",tx="parseURL",V="endpoint",M="tree",Zf="aws.isVirtualHostableS3Bucket",eg="{url#scheme}://{Bucket}.{url#authority}{url#path}",is="not",hB="accessPointSuffix",Jf="{url#scheme}://{url#authority}{url#path}",AD="hardwareType",PD="regionPrefix",pB="bucketAliasSuffix",JC="outpostId",_i="isValidHostLabel",rx="sigv4a",Pd="s3-outposts",sc="s3",vD="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",TD="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",yB="https://{Bucket}.s3.{partitionResult#dnsSuffix}",RD="aws.parseArn",ID="bucketArn",kD="arnType",tg="",nx="s3-object-lambda",OD="accesspoint",sx="accessPointName",SB="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",EB="mrapPartition",bB="outpostType",_B="arnPrefix",ND="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",CB="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",xB="https://s3.{partitionResult#dnsSuffix}",ec={[ZC]:!1,[p]:"String"},tc={[ZC]:!0,default:!1,[p]:"Boolean"},xd={[ZC]:!1,[p]:"Boolean"},hn={[v]:Ht,[T]:[{[oe]:"Accelerate"},!0]},St={[v]:Ht,[T]:[{[oe]:"UseFIPS"},!0]},ct={[v]:Ht,[T]:[{[oe]:"UseDualStack"},!0]},Ut={[v]:rn,[T]:[{[oe]:"Endpoint"}]},BD={[v]:Qf,[T]:[{[oe]:"Region"}],[Ce]:"partitionResult"},wB={[v]:qe,[T]:[{[v]:Tt,[T]:[{[oe]:"partitionResult"},qt]},"aws-cn"]},Ad={[v]:rn,[T]:[{[oe]:"Bucket"}]},Fe={[oe]:"Bucket"},AB={[C]:[ct],[Z]:"S3Express does not support Dual-stack.",[p]:Z},PB={[C]:[hn],[Z]:"S3Express does not support S3 Accelerate.",[p]:Z},vB={[C]:[Ut,{[v]:tx,[T]:[{[oe]:"Endpoint"}],[Ce]:"url"}],[D]:[{[C]:[{[v]:rn,[T]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[v]:Ht,[T]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],[D]:[{[C]:[{[v]:Ht,[T]:[{[v]:Tt,[T]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[C]:[{[v]:"uriEncode",[T]:[Fe],[Ce]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[bi]:"S3Express",[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:"s3express",[zr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M}],[p]:M},{[C]:[{[v]:Zf,[T]:[Fe,!1]}],[D]:[{[V]:{[te]:eg,[re]:{[bi]:"S3Express",[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:"s3express",[zr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z}],[p]:M},{[C]:[{[v]:Ht,[T]:[{[v]:Tt,[T]:[{[oe]:"url"},"isIp"]},!0]}],[D]:[{[C]:[{[v]:"uriEncode",[T]:[Fe],[Ce]:"uri_encoded_bucket"}],[D]:[{[V]:{[te]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[re]:{[bi]:"S3Express",[wr]:[{[ar]:!0,[qt]:"sigv4-s3express",[cr]:"s3express",[zr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M}],[p]:M},{[C]:[{[v]:Zf,[T]:[Fe,!1]}],[D]:[{[V]:{[te]:eg,[re]:{[bi]:"S3Express",[wr]:[{[ar]:!0,[qt]:"sigv4-s3express",[cr]:"s3express",[zr]:"{Region}"}]},[ne]:{}},[p]:V}],[p]:M},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z}],[p]:M},Fr={[v]:tx,[T]:[{[oe]:"Endpoint"}],[Ce]:"url"},IC={[v]:Ht,[T]:[{[v]:Tt,[T]:[{[oe]:"url"},"isIp"]},!0]},DD={[oe]:"url"},MD={[v]:"uriEncode",[T]:[Fe],[Ce]:"uri_encoded_bucket"},Ei={[bi]:"S3Express",[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:"s3express",[zr]:"{Region}"}]},Se={},LD={[v]:Zf,[T]:[Fe,!1]},TB={[Z]:"S3Express bucket name is not a valid virtual hostable name.",[p]:Z},RB={[v]:rn,[T]:[{[oe]:"UseS3ExpressControlEndpoint"}]},IB={[v]:Ht,[T]:[{[oe]:"UseS3ExpressControlEndpoint"},!0]},Ee={[v]:is,[T]:[Ut]},Wf={[Z]:"Unrecognized S3Express bucket name format.",[p]:Z},kB={[v]:is,[T]:[Ad]},OB={[oe]:AD},NB={[C]:[Ee],[Z]:"Expected a endpoint to be specified but no endpoint was found",[p]:Z},Xf={[wr]:[{[ar]:!0,[qt]:rx,[cr]:Pd,[ex]:["*"]},{[ar]:!0,[qt]:"sigv4",[cr]:Pd,[zr]:"{Region}"}]},kC={[v]:Ht,[T]:[{[oe]:"ForcePathStyle"},!1]},D5={[oe]:"ForcePathStyle"},Kt={[v]:Ht,[T]:[{[oe]:"Accelerate"},!1]},Qt={[v]:qe,[T]:[{[oe]:"Region"},"aws-global"]},sr={[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:sc,[zr]:"us-east-1"}]},Le={[v]:is,[T]:[Qt]},or={[v]:Ht,[T]:[{[oe]:"UseGlobalEndpoint"},!0]},BB={[te]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:{[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:sc,[zr]:"{Region}"}]},[ne]:{}},Wt={[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:sc,[zr]:"{Region}"}]},ir={[v]:Ht,[T]:[{[oe]:"UseGlobalEndpoint"},!1]},De={[v]:Ht,[T]:[{[oe]:"UseDualStack"},!1]},DB={[te]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},ve={[v]:Ht,[T]:[{[oe]:"UseFIPS"},!1]},MB={[te]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},LB={[te]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},OC={[v]:Ht,[T]:[{[v]:Tt,[T]:[DD,"isIp"]},!1]},NC={[te]:vD,[re]:Wt,[ne]:{}},QC={[te]:eg,[re]:Wt,[ne]:{}},FB={[V]:QC,[p]:V},BC={[te]:TD,[re]:Wt,[ne]:{}},zB={[te]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},Yf={[Z]:"Invalid region: region was not a valid DNS name.",[p]:Z},Kr={[oe]:ID},FD={[oe]:kD},DC={[v]:Tt,[T]:[Kr,"service"]},ox={[oe]:sx},UB={[C]:[ct],[Z]:"S3 Object Lambda does not support Dual-stack",[p]:Z},qB={[C]:[hn],[Z]:"S3 Object Lambda does not support S3 Accelerate",[p]:Z},HB={[C]:[{[v]:rn,[T]:[{[oe]:"DisableAccessPoints"}]},{[v]:Ht,[T]:[{[oe]:"DisableAccessPoints"},!0]}],[Z]:"Access points are not supported for this operation",[p]:Z},MC={[C]:[{[v]:rn,[T]:[{[oe]:"UseArnRegion"}]},{[v]:Ht,[T]:[{[oe]:"UseArnRegion"},!1]},{[v]:is,[T]:[{[v]:qe,[T]:[{[v]:Tt,[T]:[Kr,"region"]},"{Region}"]}]}],[Z]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[p]:Z},zD={[v]:Tt,[T]:[{[oe]:"bucketPartition"},qt]},UD={[v]:Tt,[T]:[Kr,"accountId"]},LC={[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:nx,[zr]:"{bucketArn#region}"}]},jB={[Z]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[p]:Z},FC={[Z]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[p]:Z},zC={[Z]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[p]:Z},UC={[Z]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[p]:Z},$B={[Z]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[p]:Z},VB={[Z]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[p]:Z},wd={[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:sc,[zr]:"{bucketArn#region}"}]},GB={[wr]:[{[ar]:!0,[qt]:rx,[cr]:Pd,[ex]:["*"]},{[ar]:!0,[qt]:"sigv4",[cr]:Pd,[zr]:"{bucketArn#region}"}]},KB={[v]:RD,[T]:[Fe]},WB={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Wt,[ne]:{}},XB={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Wt,[ne]:{}},YB={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Wt,[ne]:{}},qC={[te]:ND,[re]:Wt,[ne]:{}},JB={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Wt,[ne]:{}},QB={[oe]:"UseObjectLambdaEndpoint"},HC={[wr]:[{[ar]:!0,[qt]:"sigv4",[cr]:nx,[zr]:"{Region}"}]},ZB={[te]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},eD={[te]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},tD={[te]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},jC={[te]:Jf,[re]:Wt,[ne]:{}},rD={[te]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[re]:Wt,[ne]:{}},$C=[{[oe]:"Region"}],M5=[{[oe]:"Endpoint"}],L5=[Fe],nD=[ct],VC=[hn],rc=[Ut,Fr],sD=[{[v]:rn,[T]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[v]:Ht,[T]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],F5=[MD],oD=[LD],gn=[BD],nc=[St],iD=[{[v]:lt,[T]:[Fe,6,14,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,14,16,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ss=[{[C]:[St],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:{}},[p]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:{}},[p]:V}],aD=[{[v]:lt,[T]:[Fe,6,15,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,15,17,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],cD=[{[v]:lt,[T]:[Fe,6,19,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,19,21,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],lD=[{[v]:lt,[T]:[Fe,6,20,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,20,22,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],dD=[{[v]:lt,[T]:[Fe,6,26,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,26,28,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],os=[{[C]:[St],[V]:{[te]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[bi]:"S3Express",[wr]:[{[ar]:!0,[qt]:"sigv4-s3express",[cr]:"s3express",[zr]:"{Region}"}]},[ne]:{}},[p]:V},{[V]:{[te]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[re]:{[bi]:"S3Express",[wr]:[{[ar]:!0,[qt]:"sigv4-s3express",[cr]:"s3express",[zr]:"{Region}"}]},[ne]:{}},[p]:V}],uD=[Fe,0,7,!0],mD=[{[v]:lt,[T]:[Fe,7,15,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,15,17,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],fD=[{[v]:lt,[T]:[Fe,7,16,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,16,18,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],gD=[{[v]:lt,[T]:[Fe,7,20,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,20,22,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],hD=[{[v]:lt,[T]:[Fe,7,21,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,21,23,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],pD=[{[v]:lt,[T]:[Fe,7,27,!0],[Ce]:"s3expressAvailabilityZoneId"},{[v]:lt,[T]:[Fe,27,29,!0],[Ce]:"s3expressAvailabilityZoneDelim"},{[v]:qe,[T]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],z5=[Ad],yD=[{[v]:_i,[T]:[{[oe]:JC},!1]}],SD=[{[v]:qe,[T]:[{[oe]:PD},"beta"]}],U5=["*"],ED=[{[v]:_i,[T]:[{[oe]:"Region"},!1]}],Co=[{[v]:qe,[T]:[{[oe]:"Region"},"us-east-1"]}],GC=[{[v]:qe,[T]:[FD,OD]}],bD=[{[v]:Tt,[T]:[Kr,"resourceId[1]"],[Ce]:sx},{[v]:is,[T]:[{[v]:qe,[T]:[ox,tg]}]}],q5=[Kr,"resourceId[1]"],KC=[{[v]:is,[T]:[{[v]:qe,[T]:[{[v]:Tt,[T]:[Kr,"region"]},tg]}]}],_D=[{[v]:is,[T]:[{[v]:rn,[T]:[{[v]:Tt,[T]:[Kr,"resourceId[2]"]}]}]}],H5=[Kr,"resourceId[2]"],WC=[{[v]:Qf,[T]:[{[v]:Tt,[T]:[Kr,"region"]}],[Ce]:"bucketPartition"}],CD=[{[v]:qe,[T]:[zD,{[v]:Tt,[T]:[{[oe]:"partitionResult"},qt]}]}],XC=[{[v]:_i,[T]:[{[v]:Tt,[T]:[Kr,"region"]},!0]}],YC=[{[v]:_i,[T]:[UD,!1]}],xD=[{[v]:_i,[T]:[ox,!1]}],wD=[{[v]:_i,[T]:[{[oe]:"Region"},!0]}],j5={version:"1.0",parameters:{Bucket:ec,Region:ec,UseFIPS:tc,UseDualStack:tc,Endpoint:ec,ForcePathStyle:tc,Accelerate:tc,UseGlobalEndpoint:tc,UseObjectLambdaEndpoint:xd,Key:ec,Prefix:ec,CopySource:ec,DisableAccessPoints:xd,DisableMultiRegionAccessPoints:tc,UseArnRegion:xd,UseS3ExpressControlEndpoint:xd,DisableS3ExpressSessionAuth:xd},[D]:[{[C]:[{[v]:rn,[T]:$C}],[D]:[{[C]:[hn,St],error:"Accelerate cannot be used with FIPS",[p]:Z},{[C]:[ct,Ut],error:"Cannot set dual-stack in combination with a custom endpoint.",[p]:Z},{[C]:[Ut,St],error:"A custom endpoint cannot be combined with FIPS",[p]:Z},{[C]:[Ut,hn],error:"A custom endpoint cannot be combined with S3 Accelerate",[p]:Z},{[C]:[St,BD,wB],error:"Partition does not support FIPS",[p]:Z},{[C]:[Ad,{[v]:lt,[T]:[Fe,0,N5,ns],[Ce]:gB},{[v]:qe,[T]:[{[oe]:gB},"--x-s3"]}],[D]:[AB,PB,vB,{[C]:[RB,IB],[D]:[{[C]:gn,[D]:[{[C]:[MD,Ee],[D]:[{[C]:nc,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Ei,[ne]:Se},[p]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:Ei,[ne]:Se},[p]:V}],[p]:M}],[p]:M}],[p]:M},{[C]:oD,[D]:[{[C]:gn,[D]:[{[C]:sD,[D]:[{[C]:iD,[D]:ss,[p]:M},{[C]:aD,[D]:ss,[p]:M},{[C]:cD,[D]:ss,[p]:M},{[C]:lD,[D]:ss,[p]:M},{[C]:dD,[D]:ss,[p]:M},Wf],[p]:M},{[C]:iD,[D]:os,[p]:M},{[C]:aD,[D]:os,[p]:M},{[C]:cD,[D]:os,[p]:M},{[C]:lD,[D]:os,[p]:M},{[C]:dD,[D]:os,[p]:M},Wf],[p]:M}],[p]:M},TB],[p]:M},{[C]:[Ad,{[v]:lt,[T]:uD,[Ce]:hB},{[v]:qe,[T]:[{[oe]:hB},"--xa-s3"]}],[D]:[AB,PB,vB,{[C]:oD,[D]:[{[C]:gn,[D]:[{[C]:sD,[D]:[{[C]:mD,[D]:ss,[p]:M},{[C]:fD,[D]:ss,[p]:M},{[C]:gD,[D]:ss,[p]:M},{[C]:hD,[D]:ss,[p]:M},{[C]:pD,[D]:ss,[p]:M},Wf],[p]:M},{[C]:mD,[D]:os,[p]:M},{[C]:fD,[D]:os,[p]:M},{[C]:gD,[D]:os,[p]:M},{[C]:hD,[D]:os,[p]:M},{[C]:pD,[D]:os,[p]:M},Wf],[p]:M}],[p]:M},TB],[p]:M},{[C]:[kB,RB,IB],[D]:[{[C]:gn,[D]:[{[C]:rc,endpoint:{[te]:Jf,[re]:Ei,[ne]:Se},[p]:V},{[C]:nc,endpoint:{[te]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:Se},[p]:V},{endpoint:{[te]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[re]:Ei,[ne]:Se},[p]:V}],[p]:M}],[p]:M},{[C]:[Ad,{[v]:lt,[T]:[Fe,49,50,ns],[Ce]:AD},{[v]:lt,[T]:[Fe,8,12,ns],[Ce]:PD},{[v]:lt,[T]:uD,[Ce]:pB},{[v]:lt,[T]:[Fe,32,49,ns],[Ce]:JC},{[v]:Qf,[T]:$C,[Ce]:"regionPartition"},{[v]:qe,[T]:[{[oe]:pB},"--op-s3"]}],[D]:[{[C]:yD,[D]:[{[C]:[{[v]:qe,[T]:[OB,"e"]}],[D]:[{[C]:SD,[D]:[NB,{[C]:rc,endpoint:{[te]:"https://{Bucket}.ec2.{url#authority}",[re]:Xf,[ne]:Se},[p]:V}],[p]:M},{endpoint:{[te]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Xf,[ne]:Se},[p]:V}],[p]:M},{[C]:[{[v]:qe,[T]:[OB,"o"]}],[D]:[{[C]:SD,[D]:[NB,{[C]:rc,endpoint:{[te]:"https://{Bucket}.op-{outpostId}.{url#authority}",[re]:Xf,[ne]:Se},[p]:V}],[p]:M},{endpoint:{[te]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[re]:Xf,[ne]:Se},[p]:V}],[p]:M},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[p]:Z}],[p]:M},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[p]:Z}],[p]:M},{[C]:z5,[D]:[{[C]:[Ut,{[v]:is,[T]:[{[v]:rn,[T]:[{[v]:tx,[T]:M5}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[p]:Z},{[C]:[kC,LD],[D]:[{[C]:gn,[D]:[{[C]:ED,[D]:[{[C]:[hn,wB],error:"S3 Accelerate cannot be used in this region",[p]:Z},{[C]:[ct,St,Kt,Ee,Qt],endpoint:{[te]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:sr,[ne]:Se},[p]:V},{[C]:[ct,St,Kt,Ee,Le,or],[D]:[{endpoint:BB,[p]:V}],[p]:M},{[C]:[ct,St,Kt,Ee,Le,ir],endpoint:BB,[p]:V},{[C]:[De,St,Kt,Ee,Qt],endpoint:{[te]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:sr,[ne]:Se},[p]:V},{[C]:[De,St,Kt,Ee,Le,or],[D]:[{endpoint:DB,[p]:V}],[p]:M},{[C]:[De,St,Kt,Ee,Le,ir],endpoint:DB,[p]:V},{[C]:[ct,ve,hn,Ee,Qt],endpoint:{[te]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:sr,[ne]:Se},[p]:V},{[C]:[ct,ve,hn,Ee,Le,or],[D]:[{endpoint:MB,[p]:V}],[p]:M},{[C]:[ct,ve,hn,Ee,Le,ir],endpoint:MB,[p]:V},{[C]:[ct,ve,Kt,Ee,Qt],endpoint:{[te]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:sr,[ne]:Se},[p]:V},{[C]:[ct,ve,Kt,Ee,Le,or],[D]:[{endpoint:LB,[p]:V}],[p]:M},{[C]:[ct,ve,Kt,Ee,Le,ir],endpoint:LB,[p]:V},{[C]:[De,ve,Kt,Ut,Fr,IC,Qt],endpoint:{[te]:vD,[re]:sr,[ne]:Se},[p]:V},{[C]:[De,ve,Kt,Ut,Fr,OC,Qt],endpoint:{[te]:eg,[re]:sr,[ne]:Se},[p]:V},{[C]:[De,ve,Kt,Ut,Fr,IC,Le,or],[D]:[{[C]:Co,endpoint:NC,[p]:V},{endpoint:NC,[p]:V}],[p]:M},{[C]:[De,ve,Kt,Ut,Fr,OC,Le,or],[D]:[{[C]:Co,endpoint:QC,[p]:V},FB],[p]:M},{[C]:[De,ve,Kt,Ut,Fr,IC,Le,ir],endpoint:NC,[p]:V},{[C]:[De,ve,Kt,Ut,Fr,OC,Le,ir],endpoint:QC,[p]:V},{[C]:[De,ve,hn,Ee,Qt],endpoint:{[te]:TD,[re]:sr,[ne]:Se},[p]:V},{[C]:[De,ve,hn,Ee,Le,or],[D]:[{[C]:Co,endpoint:BC,[p]:V},{endpoint:BC,[p]:V}],[p]:M},{[C]:[De,ve,hn,Ee,Le,ir],endpoint:BC,[p]:V},{[C]:[De,ve,Kt,Ee,Qt],endpoint:{[te]:yB,[re]:sr,[ne]:Se},[p]:V},{[C]:[De,ve,Kt,Ee,Le,or],[D]:[{[C]:Co,endpoint:{[te]:yB,[re]:Wt,[ne]:Se},[p]:V},{endpoint:zB,[p]:V}],[p]:M},{[C]:[De,ve,Kt,Ee,Le,ir],endpoint:zB,[p]:V}],[p]:M},Yf],[p]:M}],[p]:M},{[C]:[Ut,Fr,{[v]:qe,[T]:[{[v]:Tt,[T]:[DD,"scheme"]},"http"]},{[v]:Zf,[T]:[Fe,ns]},kC,ve,De,Kt],[D]:[{[C]:gn,[D]:[{[C]:ED,[D]:[FB],[p]:M},Yf],[p]:M}],[p]:M},{[C]:[kC,{[v]:RD,[T]:L5,[Ce]:ID}],[D]:[{[C]:[{[v]:Tt,[T]:[Kr,"resourceId[0]"],[Ce]:kD},{[v]:is,[T]:[{[v]:qe,[T]:[FD,tg]}]}],[D]:[{[C]:[{[v]:qe,[T]:[DC,nx]}],[D]:[{[C]:GC,[D]:[{[C]:bD,[D]:[UB,qB,{[C]:KC,[D]:[HB,{[C]:_D,[D]:[MC,{[C]:WC,[D]:[{[C]:gn,[D]:[{[C]:CD,[D]:[{[C]:XC,[D]:[{[C]:[{[v]:qe,[T]:[UD,tg]}],error:"Invalid ARN: Missing account id",[p]:Z},{[C]:YC,[D]:[{[C]:xD,[D]:[{[C]:rc,endpoint:{[te]:SB,[re]:LC,[ne]:Se},[p]:V},{[C]:nc,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:LC,[ne]:Se},[p]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:LC,[ne]:Se},[p]:V}],[p]:M},jB],[p]:M},FC],[p]:M},zC],[p]:M},UC],[p]:M}],[p]:M}],[p]:M},$B],[p]:M},{error:"Invalid ARN: bucket ARN is missing a region",[p]:Z}],[p]:M},VB],[p]:M},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[p]:Z}],[p]:M},{[C]:GC,[D]:[{[C]:bD,[D]:[{[C]:KC,[D]:[{[C]:GC,[D]:[{[C]:KC,[D]:[HB,{[C]:_D,[D]:[MC,{[C]:WC,[D]:[{[C]:gn,[D]:[{[C]:[{[v]:qe,[T]:[zD,"{partitionResult#name}"]}],[D]:[{[C]:XC,[D]:[{[C]:[{[v]:qe,[T]:[DC,sc]}],[D]:[{[C]:YC,[D]:[{[C]:xD,[D]:[{[C]:VC,error:"Access Points do not support S3 Accelerate",[p]:Z},{[C]:[St,ct],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:wd,[ne]:Se},[p]:V},{[C]:[St,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:wd,[ne]:Se},[p]:V},{[C]:[ve,ct],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:wd,[ne]:Se},[p]:V},{[C]:[ve,De,Ut,Fr],endpoint:{[te]:SB,[re]:wd,[ne]:Se},[p]:V},{[C]:[ve,De],endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:wd,[ne]:Se},[p]:V}],[p]:M},jB],[p]:M},FC],[p]:M},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[p]:Z}],[p]:M},zC],[p]:M},UC],[p]:M}],[p]:M}],[p]:M},$B],[p]:M}],[p]:M}],[p]:M},{[C]:[{[v]:_i,[T]:[ox,ns]}],[D]:[{[C]:nD,error:"S3 MRAP does not support dual-stack",[p]:Z},{[C]:nc,error:"S3 MRAP does not support FIPS",[p]:Z},{[C]:VC,error:"S3 MRAP does not support S3 Accelerate",[p]:Z},{[C]:[{[v]:Ht,[T]:[{[oe]:"DisableMultiRegionAccessPoints"},ns]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[p]:Z},{[C]:[{[v]:Qf,[T]:$C,[Ce]:EB}],[D]:[{[C]:[{[v]:qe,[T]:[{[v]:Tt,[T]:[{[oe]:EB},qt]},{[v]:Tt,[T]:[Kr,"partition"]}]}],[D]:[{endpoint:{[te]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[re]:{[wr]:[{[ar]:ns,name:rx,[cr]:sc,[ex]:U5}]},[ne]:Se},[p]:V}],[p]:M},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[p]:Z}],[p]:M}],[p]:M},{error:"Invalid Access Point Name",[p]:Z}],[p]:M},VB],[p]:M},{[C]:[{[v]:qe,[T]:[DC,Pd]}],[D]:[{[C]:nD,error:"S3 Outposts does not support Dual-stack",[p]:Z},{[C]:nc,error:"S3 Outposts does not support FIPS",[p]:Z},{[C]:VC,error:"S3 Outposts does not support S3 Accelerate",[p]:Z},{[C]:[{[v]:rn,[T]:[{[v]:Tt,[T]:[Kr,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[p]:Z},{[C]:[{[v]:Tt,[T]:q5,[Ce]:JC}],[D]:[{[C]:yD,[D]:[MC,{[C]:WC,[D]:[{[C]:gn,[D]:[{[C]:CD,[D]:[{[C]:XC,[D]:[{[C]:YC,[D]:[{[C]:[{[v]:Tt,[T]:H5,[Ce]:bB}],[D]:[{[C]:[{[v]:Tt,[T]:[Kr,"resourceId[3]"],[Ce]:sx}],[D]:[{[C]:[{[v]:qe,[T]:[{[oe]:bB},OD]}],[D]:[{[C]:rc,endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[re]:GB,[ne]:Se},[p]:V},{endpoint:{[te]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[re]:GB,[ne]:Se},[p]:V}],[p]:M},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[p]:Z}],[p]:M},{error:"Invalid ARN: expected an access point name",[p]:Z}],[p]:M},{error:"Invalid ARN: Expected a 4-component resource",[p]:Z}],[p]:M},FC],[p]:M},zC],[p]:M},UC],[p]:M}],[p]:M}],[p]:M},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[p]:Z}],[p]:M},{error:"Invalid ARN: The Outpost Id was not set",[p]:Z}],[p]:M},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[p]:Z}],[p]:M},{error:"Invalid ARN: No ARN type specified",[p]:Z}],[p]:M},{[C]:[{[v]:lt,[T]:[Fe,0,4,B5],[Ce]:_B},{[v]:qe,[T]:[{[oe]:_B},"arn:"]},{[v]:is,[T]:[{[v]:rn,[T]:[KB]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[p]:Z},{[C]:[{[v]:Ht,[T]:[D5,ns]},KB],error:"Path-style addressing cannot be used with ARN buckets",[p]:Z},{[C]:F5,[D]:[{[C]:gn,[D]:[{[C]:[Kt],[D]:[{[C]:[ct,Ee,St,Qt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:sr,[ne]:Se},[p]:V},{[C]:[ct,Ee,St,Le,or],[D]:[{endpoint:WB,[p]:V}],[p]:M},{[C]:[ct,Ee,St,Le,ir],endpoint:WB,[p]:V},{[C]:[De,Ee,St,Qt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:sr,[ne]:Se},[p]:V},{[C]:[De,Ee,St,Le,or],[D]:[{endpoint:XB,[p]:V}],[p]:M},{[C]:[De,Ee,St,Le,ir],endpoint:XB,[p]:V},{[C]:[ct,Ee,ve,Qt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[re]:sr,[ne]:Se},[p]:V},{[C]:[ct,Ee,ve,Le,or],[D]:[{endpoint:YB,[p]:V}],[p]:M},{[C]:[ct,Ee,ve,Le,ir],endpoint:YB,[p]:V},{[C]:[De,Ut,Fr,ve,Qt],endpoint:{[te]:ND,[re]:sr,[ne]:Se},[p]:V},{[C]:[De,Ut,Fr,ve,Le,or],[D]:[{[C]:Co,endpoint:qC,[p]:V},{endpoint:qC,[p]:V}],[p]:M},{[C]:[De,Ut,Fr,ve,Le,ir],endpoint:qC,[p]:V},{[C]:[De,Ee,ve,Qt],endpoint:{[te]:CB,[re]:sr,[ne]:Se},[p]:V},{[C]:[De,Ee,ve,Le,or],[D]:[{[C]:Co,endpoint:{[te]:CB,[re]:Wt,[ne]:Se},[p]:V},{endpoint:JB,[p]:V}],[p]:M},{[C]:[De,Ee,ve,Le,ir],endpoint:JB,[p]:V}],[p]:M},{error:"Path-style addressing cannot be used with S3 Accelerate",[p]:Z}],[p]:M}],[p]:M}],[p]:M},{[C]:[{[v]:rn,[T]:[QB]},{[v]:Ht,[T]:[QB,ns]}],[D]:[{[C]:gn,[D]:[{[C]:wD,[D]:[UB,qB,{[C]:rc,endpoint:{[te]:Jf,[re]:HC,[ne]:Se},[p]:V},{[C]:nc,endpoint:{[te]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[re]:HC,[ne]:Se},[p]:V},{endpoint:{[te]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[re]:HC,[ne]:Se},[p]:V}],[p]:M},Yf],[p]:M}],[p]:M},{[C]:[kB],[D]:[{[C]:gn,[D]:[{[C]:wD,[D]:[{[C]:[St,ct,Ee,Qt],endpoint:{[te]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:sr,[ne]:Se},[p]:V},{[C]:[St,ct,Ee,Le,or],[D]:[{endpoint:ZB,[p]:V}],[p]:M},{[C]:[St,ct,Ee,Le,ir],endpoint:ZB,[p]:V},{[C]:[St,De,Ee,Qt],endpoint:{[te]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[re]:sr,[ne]:Se},[p]:V},{[C]:[St,De,Ee,Le,or],[D]:[{endpoint:eD,[p]:V}],[p]:M},{[C]:[St,De,Ee,Le,ir],endpoint:eD,[p]:V},{[C]:[ve,ct,Ee,Qt],endpoint:{[te]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[re]:sr,[ne]:Se},[p]:V},{[C]:[ve,ct,Ee,Le,or],[D]:[{endpoint:tD,[p]:V}],[p]:M},{[C]:[ve,ct,Ee,Le,ir],endpoint:tD,[p]:V},{[C]:[ve,De,Ut,Fr,Qt],endpoint:{[te]:Jf,[re]:sr,[ne]:Se},[p]:V},{[C]:[ve,De,Ut,Fr,Le,or],[D]:[{[C]:Co,endpoint:jC,[p]:V},{endpoint:jC,[p]:V}],[p]:M},{[C]:[ve,De,Ut,Fr,Le,ir],endpoint:jC,[p]:V},{[C]:[ve,De,Ee,Qt],endpoint:{[te]:xB,[re]:sr,[ne]:Se},[p]:V},{[C]:[ve,De,Ee,Le,or],[D]:[{[C]:Co,endpoint:{[te]:xB,[re]:Wt,[ne]:Se},[p]:V},{endpoint:rD,[p]:V}],[p]:M},{[C]:[ve,De,Ee,Le,ir],endpoint:rD,[p]:V}],[p]:M},Yf],[p]:M}],[p]:M}],[p]:M},{error:"A region must be set when sending requests to S3.",[p]:Z}]};rg.ruleSet=j5});var ax=B(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.defaultEndpointResolver=void 0;var $5=Xa(),ix=yi(),V5=qD(),G5=new ix.EndpointCache({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),K5=(e,r={})=>G5.get(e,()=>(0,ix.resolveEndpoint)(V5.ruleSet,{endpointParams:e,logger:r.logger}));ng.defaultEndpointResolver=K5;ix.customEndpointFunctions.aws=$5.awsEndpointFunctions});var cx=B(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.resolveHttpAuthSchemeConfig=xo.defaultS3HttpAuthSchemeProvider=xo.defaultS3HttpAuthSchemeParametersProvider=void 0;var HD=(Gt(),Re(fn)),W5=RC(),X5=Bs(),sg=br(),Y5=ax(),J5=e=>async(r,t,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let s=await e(r,t,n),o=(0,sg.getSmithyContext)(t)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);let a=await(0,X5.resolveParams)(n,{getEndpointParameterInstructions:o},r);return Object.assign(s,a)},Q5=async(e,r,t)=>({operation:(0,sg.getSmithyContext)(r).operation,region:await(0,sg.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});xo.defaultS3HttpAuthSchemeParametersProvider=J5(Q5);function jD(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function $D(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}var Z5=(e,r,t)=>s=>{let a=e(s).properties?.authSchemes;if(!a)return r(s);let c=[];for(let l of a){let{name:d,properties:f={},...g}=l,y=d.toLowerCase();d!==y&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${y}\``);let h;if(y==="sigv4a"){h="aws.auth#sigv4a";let I=a.find(N=>{let W=N.name.toLowerCase();return W!=="sigv4a"&&W.startsWith("sigv4")});if(W5.SignatureV4MultiRegion.sigv4aDependency()==="none"&&I)continue}else if(y.startsWith("sigv4"))h="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${y}\``);let _=t[h];if(!_)throw new Error(`Could not find HttpAuthOption create function for \`${h}\``);let R=_(s);R.schemeId=h,R.signingProperties={...R.signingProperties||{},...g,...f},c.push(R)}return c},eW=e=>{let r=[];switch(e.operation){default:r.push(jD(e)),r.push($D(e))}return r};xo.defaultS3HttpAuthSchemeProvider=Z5(Y5.defaultEndpointResolver,eW,{"aws.auth#sigv4":jD,"aws.auth#sigv4a":$D});var tW=e=>{let r=(0,HD.resolveAwsSdkSigV4Config)(e),t=(0,HD.resolveAwsSdkSigV4AConfig)(r);return Object.assign(t,{authSchemePreference:(0,sg.normalizeProvider)(e.authSchemePreference??[])})};xo.resolveHttpAuthSchemeConfig=tW});var VD=B((P_e,rW)=>{rW.exports={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.906.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn g:vitest run","test:browser":"node ./test/browser-build/esbuild && yarn g:vitest run -c vitest.config.browser.mts","test:browser:watch":"node ./test/browser-build/esbuild && yarn g:vitest watch -c vitest.config.browser.mts","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts && yarn test:browser","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts","test:integration":"yarn g:vitest run -c vitest.config.integ.mts","test:integration:watch":"yarn g:vitest watch -c vitest.config.integ.mts","test:watch":"yarn g:vitest watch"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"5.2.0","@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/credential-provider-node":"3.906.0","@aws-sdk/middleware-bucket-endpoint":"3.901.0","@aws-sdk/middleware-expect-continue":"3.901.0","@aws-sdk/middleware-flexible-checksums":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-location-constraint":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-sdk-s3":"3.906.0","@aws-sdk/middleware-ssec":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/signature-v4-multi-region":"3.906.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@aws-sdk/xml-builder":"3.901.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/eventstream-serde-browser":"^4.2.0","@smithy/eventstream-serde-config-resolver":"^4.3.0","@smithy/eventstream-serde-node":"^4.2.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-blob-browser":"^4.2.0","@smithy/hash-node":"^4.2.0","@smithy/hash-stream-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/md5-js":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-stream":"^4.4.0","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.0","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/signature-v4-crt":"3.906.0","@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}}});var lx=B(wo=>{"use strict";var nW=(Dn(),Re(Zs)),sW=Lr(),GD="AWS_ACCESS_KEY_ID",KD="AWS_SECRET_ACCESS_KEY",WD="AWS_SESSION_TOKEN",XD="AWS_CREDENTIAL_EXPIRATION",YD="AWS_CREDENTIAL_SCOPE",JD="AWS_ACCOUNT_ID",oW=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let r=process.env[GD],t=process.env[KD],n=process.env[WD],s=process.env[XD],o=process.env[YD],a=process.env[JD];if(r&&t){let c={accessKeyId:r,secretAccessKey:t,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...a&&{accountId:a}};return nW.setCredentialFeature(c,"CREDENTIALS_ENV_VARS","g"),c}throw new sW.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};wo.ENV_ACCOUNT_ID=JD;wo.ENV_CREDENTIAL_SCOPE=YD;wo.ENV_EXPIRATION=XD;wo.ENV_KEY=GD;wo.ENV_SECRET=KD;wo.ENV_SESSION=WD;wo.fromEnv=oW});var Td=B(Ar=>{"use strict";var as=Lr(),iW=require("url"),aW=require("buffer"),cW=require("http"),gx=Eo(),lW=ho();function vd(e){return new Promise((r,t)=>{let n=cW.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{t(Object.assign(new as.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{t(new as.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(t(Object.assign(new as.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let a=[];s.on("data",c=>{a.push(c)}),s.on("end",()=>{r(aW.Buffer.concat(a)),n.destroy()})}),n.end()})}var tM=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",rM=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),nM=1e3,sM=0,hx=({maxRetries:e=sM,timeout:r=nM})=>({maxRetries:e,timeout:r}),ux=(e,r)=>{let t=e();for(let n=0;n<r;n++)t=t.catch(e);return t},og="AWS_CONTAINER_CREDENTIALS_FULL_URI",ig="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",mx="AWS_CONTAINER_AUTHORIZATION_TOKEN",dW=(e={})=>{let{timeout:r,maxRetries:t}=hx(e);return()=>ux(async()=>{let n=await hW({logger:e.logger}),s=JSON.parse(await uW(r,n));if(!tM(s))throw new as.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return rM(s)},t)},uW=async(e,r)=>(process.env[mx]&&(r.headers={...r.headers,Authorization:process.env[mx]}),(await vd({...r,timeout:e})).toString()),mW="169.254.170.2",fW={localhost:!0,"127.0.0.1":!0},gW={"http:":!0,"https:":!0},hW=async({logger:e})=>{if(process.env[ig])return{hostname:mW,path:process.env[ig]};if(process.env[og]){let r=iW.parse(process.env[og]);if(!r.hostname||!(r.hostname in fW))throw new as.CredentialsProviderError(`${r.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!r.protocol||!(r.protocol in gW))throw new as.CredentialsProviderError(`${r.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...r,port:r.port?parseInt(r.port,10):void 0}}throw new as.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${ig} or ${og} environment variable is set`,{tryNextLink:!1,logger:e})},fx=class e extends as.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(r,t=!0){super(r,t),this.tryNextLink=t,Object.setPrototypeOf(this,e.prototype)}};Ar.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Ar.Endpoint||(Ar.Endpoint={}));var pW="AWS_EC2_METADATA_SERVICE_ENDPOINT",yW="ec2_metadata_service_endpoint",SW={environmentVariableSelector:e=>e[pW],configFileSelector:e=>e[yW],default:void 0},oc;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(oc||(oc={}));var EW="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",bW="ec2_metadata_service_endpoint_mode",_W={environmentVariableSelector:e=>e[EW],configFileSelector:e=>e[bW],default:oc.IPv4},oM=async()=>lW.parseUrl(await CW()||await xW()),CW=async()=>gx.loadConfig(SW)(),xW=async()=>{let e=await gx.loadConfig(_W)();switch(e){case oc.IPv4:return Ar.Endpoint.IPv4;case oc.IPv6:return Ar.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(oc)}`)}},wW=5*60,AW=5*60,PW="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",QD=(e,r)=>{let t=wW+Math.floor(Math.random()*AW),n=new Date(Date.now()+t*1e3);r.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+PW);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},vW=(e,r={})=>{let t=r?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=QD(s,t))}catch(o){if(n)t.warn("Credential renew failed: ",o),s=QD(n,t);else throw o}return n=s,s}},iM="/latest/meta-data/iam/security-credentials/",TW="/latest/api/token",dx="AWS_EC2_METADATA_V1_DISABLED",ZD="ec2_metadata_v1_disabled",eM="x-aws-ec2-metadata-token",RW=(e={})=>vW(IW(e),{logger:e.logger}),IW=(e={})=>{let r=!1,{logger:t,profile:n}=e,{timeout:s,maxRetries:o}=hx(e),a=async(c,l)=>{if(r||l.headers?.[eM]==null){let g=!1,y=!1,h=await gx.loadConfig({environmentVariableSelector:_=>{let R=_[dx];if(y=!!R&&R!=="false",R===void 0)throw new as.CredentialsProviderError(`${dx} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:_=>{let R=_[ZD];return g=!!R&&R!=="false",g},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let _=[];throw e.ec2MetadataV1Disabled&&_.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),g&&_.push(`config file profile (${ZD})`),y&&_.push(`process environment variable (${dx})`),new fx(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${_.join(", ")}].`)}}let f=(await ux(async()=>{let g;try{g=await OW(l)}catch(y){throw y.statusCode===401&&(r=!1),y}return g},c)).trim();return ux(async()=>{let g;try{g=await NW(f,l,e)}catch(y){throw y.statusCode===401&&(r=!1),y}return g},c)};return async()=>{let c=await oM();if(r)return t?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),a(o,{...c,timeout:s});{let l;try{l=(await kW({...c,timeout:s})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(r=!0),t?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),a(o,{...c,timeout:s})}return a(o,{...c,headers:{[eM]:l},timeout:s})}}},kW=async e=>vd({...e,path:TW,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),OW=async e=>(await vd({...e,path:iM})).toString(),NW=async(e,r,t)=>{let n=JSON.parse((await vd({...r,path:iM+e})).toString());if(!tM(n))throw new as.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return rM(n)};Ar.DEFAULT_MAX_RETRIES=sM;Ar.DEFAULT_TIMEOUT=nM;Ar.ENV_CMDS_AUTH_TOKEN=mx;Ar.ENV_CMDS_FULL_URI=og;Ar.ENV_CMDS_RELATIVE_URI=ig;Ar.fromContainerMetadata=dW;Ar.fromInstanceMetadata=RW;Ar.getInstanceMetadataEndpoint=oM;Ar.httpRequest=vd;Ar.providerConfigFromInit=hx});var aM=B(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.checkUrl=void 0;var BW=Lr(),DW="169.254.170.2",MW="169.254.170.23",LW="[fd00:ec2::23]",FW=(e,r)=>{if(e.protocol!=="https:"&&!(e.hostname===DW||e.hostname===MW||e.hostname===LW)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(t[0]==="127"&&n(t[1])&&n(t[2])&&n(t[3])&&t.length===4)return}throw new BW.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:r})}};ag.checkUrl=FW});var cM=B(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});cg.createGetRequest=HW;cg.getCredentials=jW;var px=Lr(),zW=Xe(),UW=Ie(),qW=Zo();function HW(e){return new zW.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((r,[t,n])=>(r[t]=n,r),{}),fragment:e.hash})}async function jW(e,r){let n=await(0,qW.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new px.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:r});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,UW.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new px.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r}),{Code:s.Code,Message:s.Message})}throw new px.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:r})}});var lM=B(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});lg.retryWrapper=void 0;var $W=(e,r,t)=>async()=>{for(let n=0;n<r;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,t))}return await e()};lg.retryWrapper=$W});var mM=B(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});dg.fromHttp=void 0;var VW=(Jn(),Re(Yn)),GW=(Dn(),Re(Zs)),KW=Qo(),dM=Lr(),WW=VW.__importDefault(require("fs/promises")),XW=aM(),uM=cM(),YW=lM(),JW="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",QW="http://169.254.170.2",ZW="AWS_CONTAINER_CREDENTIALS_FULL_URI",eX="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",tX="AWS_CONTAINER_AUTHORIZATION_TOKEN",rX=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let r,t=e.awsContainerCredentialsRelativeUri??process.env[JW],n=e.awsContainerCredentialsFullUri??process.env[ZW],s=e.awsContainerAuthorizationToken??process.env[tX],o=e.awsContainerAuthorizationTokenFile??process.env[eX],a=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(t&&n&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),a("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(a("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),a("awsContainerAuthorizationToken will take precedence.")),n)r=n;else if(t)r=`${QW}${t}`;else throw new dM.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let c=new URL(r);(0,XW.checkUrl)(c,e.logger);let l=KW.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,YW.retryWrapper)(async()=>{let d=(0,uM.createGetRequest)(c);s?d.headers.Authorization=s:o&&(d.headers.Authorization=(await WW.default.readFile(o)).toString());try{let f=await l.handle(d);return(0,uM.getCredentials)(f.response).then(g=>(0,GW.setCredentialFeature)(g,"CREDENTIALS_HTTP","z"))}catch(f){throw new dM.CredentialsProviderError(String(f),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};dg.fromHttp=rX});var yx=B(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.fromHttp=void 0;var nX=mM();Object.defineProperty(ug,"fromHttp",{enumerable:!0,get:function(){return nX.fromHttp}})});function sX(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function oX(e){return{schemeId:"smithy.api#noAuth"}}var Rd,fM,gM,hM,Sx=P(()=>{Gt();Rd=k(br()),fM=async(e,r,t)=>({operation:(0,Rd.getSmithyContext)(r).operation,region:await(0,Rd.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});gM=e=>{let r=[];switch(e.operation){case"CreateToken":{r.push(oX(e));break}default:r.push(sX(e))}return r},hM=e=>{let r=di(e);return Object.assign(r,{authSchemePreference:(0,Rd.normalizeProvider)(e.authSchemePreference??[])})}});var pM,yM,Ex=P(()=>{pM=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),yM={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var mg,bx=P(()=>{mg={name:"@aws-sdk/nested-clients",version:"3.906.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var Id=B(Ci=>{"use strict";var SM=require("os"),_x=require("process"),aX=Ja(),EM={isCrtAvailable:!1},cX=()=>EM.isCrtAvailable?["md/crt-avail"]:null,bM=({serviceId:e,clientVersion:r})=>async t=>{let n=[["aws-sdk-js",r],["ua","2.1"],[`os/${SM.platform()}`,SM.release()],["lang/js"],["md/nodejs",`${_x.versions.node}`]],s=cX();s&&n.push(s),e&&n.push([`api/${e}`,r]),_x.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${_x.env.AWS_EXECUTION_ENV}`]);let o=await t?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},lX=bM,_M="AWS_SDK_UA_APP_ID",CM="sdk_ua_app_id",dX="sdk-ua-app-id",uX={environmentVariableSelector:e=>e[_M],configFileSelector:e=>e[CM]??e[dX],default:aX.DEFAULT_UA_APP_ID};Ci.NODE_APP_ID_CONFIG_OPTIONS=uX;Ci.UA_APP_ID_ENV_NAME=_M;Ci.UA_APP_ID_INI_NAME=CM;Ci.createDefaultUserAgentProvider=bM;Ci.crtAvailability=EM;Ci.defaultUserAgent=lX});var kd=B(AM=>{"use strict";var Cx=ka(),mX=Xt(),fX=require("buffer"),xM=require("crypto"),xx=class{algorithmIdentifier;secret;hash;constructor(r,t){this.algorithmIdentifier=r,this.secret=t,this.reset()}update(r,t){this.hash.update(mX.toUint8Array(wM(r,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?xM.createHmac(this.algorithmIdentifier,wM(this.secret)):xM.createHash(this.algorithmIdentifier)}};function wM(e,r){return fX.Buffer.isBuffer(e)?e:typeof e=="string"?Cx.fromString(e,r):ArrayBuffer.isView(e)?Cx.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Cx.fromArrayBuffer(e)}AM.Hash=xx});var Od=B(PM=>{"use strict";var wx=require("node:fs"),gX=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof wx.ReadStream){if(e.path!=null)return wx.lstatSync(e.path).size;if(typeof e.fd=="number")return wx.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};PM.calculateBodyLength=gX});var MM,yn,Sn,cc,vM,Nd,ic,ac,Ms,Ax,Px,TM,RM,IM,LM,FM,pn,kM,zM,OM,NM,BM,DM,hX,UM,qM=P(()=>{MM="required",yn="fn",Sn="argv",cc="ref",vM="isSet",Nd="booleanEquals",ic="error",ac="endpoint",Ms="tree",Ax="PartitionResult",Px="getAttr",TM={[MM]:!1,type:"String"},RM={[MM]:!0,default:!1,type:"Boolean"},IM={[cc]:"Endpoint"},LM={[yn]:Nd,[Sn]:[{[cc]:"UseFIPS"},!0]},FM={[yn]:Nd,[Sn]:[{[cc]:"UseDualStack"},!0]},pn={},kM={[yn]:Px,[Sn]:[{[cc]:Ax},"supportsFIPS"]},zM={[cc]:Ax},OM={[yn]:Nd,[Sn]:[!0,{[yn]:Px,[Sn]:[zM,"supportsDualStack"]}]},NM=[LM],BM=[FM],DM=[{[cc]:"Region"}],hX={version:"1.0",parameters:{Region:TM,UseDualStack:RM,UseFIPS:RM,Endpoint:TM},rules:[{conditions:[{[yn]:vM,[Sn]:[IM]}],rules:[{conditions:NM,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ic},{conditions:BM,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ic},{endpoint:{url:IM,properties:pn,headers:pn},type:ac}],type:Ms},{conditions:[{[yn]:vM,[Sn]:DM}],rules:[{conditions:[{[yn]:"aws.partition",[Sn]:DM,assign:Ax}],rules:[{conditions:[LM,FM],rules:[{conditions:[{[yn]:Nd,[Sn]:[!0,kM]},OM],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pn,headers:pn},type:ac}],type:Ms},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ic}],type:Ms},{conditions:NM,rules:[{conditions:[{[yn]:Nd,[Sn]:[kM,!0]}],rules:[{conditions:[{[yn]:"stringEquals",[Sn]:[{[yn]:Px,[Sn]:[zM,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:pn,headers:pn},type:ac},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pn,headers:pn},type:ac}],type:Ms},{error:"FIPS is enabled but this partition does not support FIPS",type:ic}],type:Ms},{conditions:BM,rules:[{conditions:[OM],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pn,headers:pn},type:ac}],type:Ms},{error:"DualStack is enabled but this partition does not support DualStack",type:ic}],type:Ms},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:pn,headers:pn},type:ac}],type:Ms}],type:Ms},{error:"Invalid Configuration: Missing Region",type:ic}]},UM=hX});var HM,lc,pX,jM,$M=P(()=>{HM=k(Xa()),lc=k(yi());qM();pX=new lc.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),jM=(e,r={})=>pX.get(e,()=>(0,lc.resolveEndpoint)(UM,{endpointParams:e,logger:r.logger}));lc.customEndpointFunctions.aws=HM.awsEndpointFunctions});var VM,GM,fg,gg,KM,WM=P(()=>{Gt();Mr();VM=k(Ie()),GM=k(ho()),fg=k(gr()),gg=k(Xt());Sx();$M();KM=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??fg.fromBase64,base64Encoder:e?.base64Encoder??fg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??jM,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??gM,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new jr},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ws}],logger:e?.logger??new VM.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??GM.parseUrl,utf8Decoder:e?.utf8Decoder??gg.fromUtf8,utf8Encoder:e?.utf8Encoder??gg.toUtf8})});var Bd=B(QM=>{"use strict";var yX=rs(),XM=Eo(),SX=Lr(),EX="AWS_EXECUTION_ENV",YM="AWS_REGION",JM="AWS_DEFAULT_REGION",bX="AWS_EC2_METADATA_DISABLED",_X=["in-region","cross-region","mobile","standard","legacy"],CX="/latest/meta-data/placement/region",xX="AWS_DEFAULTS_MODE",wX="defaults_mode",AX={environmentVariableSelector:e=>e[xX],configFileSelector:e=>e[wX],default:"legacy"},PX=({region:e=XM.loadConfig(yX.NODE_REGION_CONFIG_OPTIONS),defaultsMode:r=XM.loadConfig(AX)}={})=>SX.memoize(async()=>{let t=typeof r=="function"?await r():r;switch(t?.toLowerCase()){case"auto":return vX(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${_X.join(", ")}, got ${t}`)}}),vX=async e=>{if(e){let r=typeof e=="function"?await e():e,t=await TX();return t?r===t?"in-region":"cross-region":"standard"}return"standard"},TX=async()=>{if(process.env[EX]&&(process.env[YM]||process.env[JM]))return process.env[YM]??process.env[JM];if(!process.env[bX])try{let{getInstanceMetadataEndpoint:e,httpRequest:r}=await Promise.resolve().then(()=>k(Td())),t=await e();return(await r({...t,path:CX})).toString()}catch{}};QM.resolveDefaultsModeConfig=PX});var hg,Po,ZM,pg,Ao,yg,e3,t3,r3,n3,s3,o3,i3=P(()=>{bx();Gt();hg=k(Id()),Po=k(rs()),ZM=k(kd()),pg=k(Ds()),Ao=k(Eo()),yg=k(Qo()),e3=k(Od()),t3=k(Qa());WM();r3=k(Ie()),n3=k(Bd()),s3=k(Ie()),o3=e=>{(0,s3.emitWarningIfUnsupportedVersion)(process.version);let r=(0,n3.resolveDefaultsModeConfig)(e),t=()=>r().then(r3.loadConfigsForDefaultMode),n=KM(e);Pa(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Ao.loadConfig)(Ra,s),bodyLengthChecker:e?.bodyLengthChecker??e3.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,hg.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:mg.version}),maxAttempts:e?.maxAttempts??(0,Ao.loadConfig)(pg.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ao.loadConfig)(Po.NODE_REGION_CONFIG_OPTIONS,{...Po.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:yg.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ao.loadConfig)({...pg.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||t3.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??ZM.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??yg.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ao.loadConfig)(Po.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ao.loadConfig)(Po.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ao.loadConfig)(hg.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Dd=B((eCe,m3)=>{"use strict";var Sg=Object.defineProperty,RX=Object.getOwnPropertyDescriptor,IX=Object.getOwnPropertyNames,kX=Object.prototype.hasOwnProperty,cs=(e,r)=>Sg(e,"name",{value:r,configurable:!0}),OX=(e,r)=>{for(var t in r)Sg(e,t,{get:r[t],enumerable:!0})},NX=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of IX(r))!kX.call(e,s)&&s!==t&&Sg(e,s,{get:()=>r[s],enumerable:!(n=RX(r,s))||n.enumerable});return e},BX=e=>NX(Sg({},"__esModule",{value:!0}),e),c3={};OX(c3,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>FX,NODE_REGION_CONFIG_OPTIONS:()=>LX,REGION_ENV_NAME:()=>l3,REGION_INI_NAME:()=>d3,getAwsRegionExtensionConfiguration:()=>DX,resolveAwsRegionExtensionConfiguration:()=>MX,resolveRegionConfig:()=>zX});m3.exports=BX(c3);var DX=cs(e=>({setRegion(r){e.region=r},region(){return e.region}}),"getAwsRegionExtensionConfiguration"),MX=cs(e=>({region:e.region()}),"resolveAwsRegionExtensionConfiguration"),l3="AWS_REGION",d3="region",LX={environmentVariableSelector:cs(e=>e[l3],"environmentVariableSelector"),configFileSelector:cs(e=>e[d3],"configFileSelector"),default:cs(()=>{throw new Error("Region is missing")},"default")},FX={preferredFile:"credentials"},u3=cs(e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),"isFipsRegion"),a3=cs(e=>u3(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,"getRealRegion"),zX=cs(e=>{let{region:r,useFipsEndpoint:t}=e;if(!r)throw new Error("Region is missing");return Object.assign(e,{region:cs(async()=>{if(typeof r=="string")return a3(r);let n=await r();return a3(n)},"region"),useFipsEndpoint:cs(async()=>{let n=typeof r=="string"?r:await r();return u3(n)?!0:typeof t!="function"?Promise.resolve(!!t):t()},"useFipsEndpoint")})},"resolveRegionConfig")});var f3,g3,h3=P(()=>{f3=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},g3=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Eg,bg,_g,p3,y3=P(()=>{Eg=k(Dd()),bg=k(Xe()),_g=k(Ie());h3();p3=(e,r)=>{let t=Object.assign((0,Eg.getAwsRegionExtensionConfiguration)(e),(0,_g.getDefaultExtensionConfiguration)(e),(0,bg.getHttpHandlerExtensionConfiguration)(e),f3(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,Eg.resolveAwsRegionExtensionConfiguration)(t),(0,_g.resolveDefaultRuntimeConfig)(t),(0,bg.resolveHttpHandlerRuntimeConfig)(t),g3(t))}});var Cg,S3,E3,xg,b3,_3,C3,wg,vx,Md,Tx=P(()=>{Cg=k(ud()),S3=k(md()),E3=k(fd()),xg=k(Ja()),b3=k(rs());Mr();_3=k(pd()),C3=k(Bs()),wg=k(Ds()),vx=k(Ie());Sx();Ex();i3();y3();Md=class extends vx.Client{config;constructor(...[r]){let t=o3(r||{});super(t),this.initConfig=t;let n=pM(t),s=(0,xg.resolveUserAgentConfig)(n),o=(0,wg.resolveRetryConfig)(s),a=(0,b3.resolveRegionConfig)(o),c=(0,Cg.resolveHostHeaderConfig)(a),l=(0,C3.resolveEndpointConfig)(c),d=hM(l),f=p3(d,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,xg.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,wg.getRetryPlugin)(this.config)),this.middlewareStack.use((0,_3.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Cg.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,S3.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,E3.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ll(this.config,{httpAuthSchemeParametersProvider:fM,identityProviderConfigProvider:async g=>new ii({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Fl(this.config))}destroy(){super.destroy()}}});var x3,lr,Ag=P(()=>{x3=k(Ie()),lr=class e extends x3.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var xi,UX,Ld,Fd,Rx,Ix,zd,Ud,qd,Hd,qX,jd,$d,Vd,Gd,Kd,Pg=P(()=>{xi=k(Ie());Ag();UX={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Ld=class e extends lr{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(r){super({name:"AccessDeniedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},Fd=class e extends lr{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(r){super({name:"AuthorizationPendingException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Rx=e=>({...e,...e.clientSecret&&{clientSecret:xi.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:xi.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:xi.SENSITIVE_STRING}}),Ix=e=>({...e,...e.accessToken&&{accessToken:xi.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:xi.SENSITIVE_STRING},...e.idToken&&{idToken:xi.SENSITIVE_STRING}}),zd=class e extends lr{name="ExpiredTokenException";$fault="client";error;error_description;constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Ud=class e extends lr{name="InternalServerException";$fault="server";error;error_description;constructor(r){super({name:"InternalServerException",$fault:"server",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},qd=class e extends lr{name="InvalidClientException";$fault="client";error;error_description;constructor(r){super({name:"InvalidClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Hd=class e extends lr{name="InvalidGrantException";$fault="client";error;error_description;constructor(r){super({name:"InvalidGrantException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},qX={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},jd=class e extends lr{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.reason=r.reason,this.error_description=r.error_description}},$d=class e extends lr{name="InvalidScopeException";$fault="client";error;error_description;constructor(r){super({name:"InvalidScopeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Vd=class e extends lr{name="SlowDownException";$fault="client";error;error_description;constructor(r){super({name:"SlowDownException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Gd=class e extends lr{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(r){super({name:"UnauthorizedClientException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}},Kd=class e extends lr{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(r){super({name:"UnsupportedGrantTypeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.error=r.error,this.error_description=r.error_description}}});var Y,w3,A3,HX,jX,$X,VX,GX,KX,WX,XX,YX,JX,QX,ZX,e9,En,P3=P(()=>{Gt();Mr();Y=k(Ie());Pg();Ag();w3=async(e,r)=>{let t=Jl(e,r),n={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,Y.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,Y._json)(o)})),t.m("POST").h(n).b(s),t.build()},A3=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return HX(e,r);let t=(0,Y.map)({$metadata:En(e)}),n=(0,Y.expectNonNull)((0,Y.expectObject)(await ja(e.body,r)),"body"),s=(0,Y.take)(n,{accessToken:Y.expectString,expiresIn:Y.expectInt32,idToken:Y.expectString,refreshToken:Y.expectString,tokenType:Y.expectString});return Object.assign(t,s),t},HX=async(e,r)=>{let t={...e,body:await h_(e.body,r)},n=mi(e,t.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await $X(t,r);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await VX(t,r);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await GX(t,r);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await KX(t,r);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await WX(t,r);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await XX(t,r);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await YX(t,r);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await JX(t,r);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await QX(t,r);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ZX(t,r);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await e9(t,r);default:let s=t.body;return jX({output:e,parsedBody:s,errorCode:n})}},jX=(0,Y.withBaseException)(lr),$X=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new Ld({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},VX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Fd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},GX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new zd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},KX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Ud({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},WX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new qd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},XX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Hd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},YX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString,reason:Y.expectString});Object.assign(t,s);let o=new jd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},JX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new $d({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},QX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Vd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},ZX=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Gd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},e9=async(e,r)=>{let t=(0,Y.map)({}),n=e.body,s=(0,Y.take)(n,{error:Y.expectString,error_description:Y.expectString});Object.assign(t,s);let o=new Kd({$metadata:En(e),...t});return(0,Y.decorateServiceException)(o,e.body)},En=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var v3,T3,kx,Wd,Ox=P(()=>{v3=k(Bs()),T3=k(eo()),kx=k(Ie());Ex();Pg();P3();Wd=class extends kx.Command.classBuilder().ep(yM).m(function(r,t,n,s){return[(0,T3.getSerdePlugin)(n,this.serialize,this.deserialize),(0,v3.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Rx,Ix).ser(w3).de(A3).build(){}});var R3,t9,vg,I3=P(()=>{R3=k(Ie());Ox();Tx();t9={CreateTokenCommand:Wd},vg=class extends Md{};(0,R3.createAggregatedClient)(t9,vg)});var k3=P(()=>{Ox()});var O3=P(()=>{Pg()});var Nx={};dn(Nx,{$Command:()=>kx.Command,AccessDeniedException:()=>Ld,AccessDeniedExceptionReason:()=>UX,AuthorizationPendingException:()=>Fd,CreateTokenCommand:()=>Wd,CreateTokenRequestFilterSensitiveLog:()=>Rx,CreateTokenResponseFilterSensitiveLog:()=>Ix,ExpiredTokenException:()=>zd,InternalServerException:()=>Ud,InvalidClientException:()=>qd,InvalidGrantException:()=>Hd,InvalidRequestException:()=>jd,InvalidRequestExceptionReason:()=>qX,InvalidScopeException:()=>$d,SSOOIDC:()=>vg,SSOOIDCClient:()=>Md,SSOOIDCServiceException:()=>lr,SlowDownException:()=>Vd,UnauthorizedClientException:()=>Gd,UnsupportedGrantTypeException:()=>Kd,__Client:()=>vx.Client});var Bx=P(()=>{Tx();I3();k3();O3();Ag()});var M3=B(Yd=>{"use strict";var r9=(Dn(),Re(Zs)),n9=(Ub(),Re(aI)),nn=Lr(),Xd=Os(),s9=require("fs"),o9=({logger:e,signingName:r}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!r)throw new nn.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let t=n9.getBearerTokenEnvKey(r);if(!(t in process.env))throw new nn.TokenProviderError(`Token not present in '${t}' environment variable`,{logger:e});let n={token:process.env[t]};return r9.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},i9=5*60*1e3,Dx="To refresh this SSO session run 'aws sso login' with the corresponding profile.",a9=async(e,r={})=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(Bx(),Nx));return new t(Object.assign({},r.clientConfig??{},{region:e??r.clientConfig?.region,logger:r.clientConfig?.logger??r.parentClientConfig?.logger}))},c9=async(e,r,t={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Bx(),Nx));return(await a9(r,t)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},N3=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new nn.TokenProviderError(`Token is expired. ${Dx}`,!1)},wi=(e,r,t=!1)=>{if(typeof r>"u")throw new nn.TokenProviderError(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${Dx}`,!1)},{writeFile:l9}=s9.promises,d9=(e,r)=>{let t=Xd.getSSOTokenFilepath(e),n=JSON.stringify(r,null,2);return l9(t,n)},B3=new Date(0),D3=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await Xd.parseKnownFiles(t),s=Xd.getProfileName({profile:t.profile??r?.profile}),o=n[s];if(o){if(!o.sso_session)throw new nn.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new nn.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let a=o.sso_session,l=(await Xd.loadSsoSessionData(t))[a];if(!l)throw new nn.TokenProviderError(`Sso session '${a}' could not be found in shared credentials file.`,!1);for(let _ of["sso_start_url","sso_region"])if(!l[_])throw new nn.TokenProviderError(`Sso session '${a}' is missing required property '${_}'.`,!1);l.sso_start_url;let d=l.sso_region,f;try{f=await Xd.getSSOTokenFromFile(a)}catch{throw new nn.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Dx}`,!1)}wi("accessToken",f.accessToken),wi("expiresAt",f.expiresAt);let{accessToken:g,expiresAt:y}=f,h={token:g,expiration:new Date(y)};if(h.expiration.getTime()-Date.now()>i9)return h;if(Date.now()-B3.getTime()<30*1e3)return N3(h),h;wi("clientId",f.clientId,!0),wi("clientSecret",f.clientSecret,!0),wi("refreshToken",f.refreshToken,!0);try{B3.setTime(Date.now());let _=await c9(f,d,t);wi("accessToken",_.accessToken),wi("expiresIn",_.expiresIn);let R=new Date(Date.now()+_.expiresIn*1e3);try{await d9(a,{...f,accessToken:_.accessToken,expiresAt:R.toISOString(),refreshToken:_.refreshToken})}catch{}return{token:_.accessToken,expiration:R}}catch{return N3(h),h}},u9=({token:e,logger:r})=>async()=>{if(r?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new nn.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},m9=(e={})=>nn.memoize(nn.chain(D3(e),async()=>{throw new nn.TokenProviderError("Could not load token from any providers",!1)}),r=>r.expiration!==void 0&&r.expiration.getTime()-Date.now()<3e5,r=>r.expiration!==void 0);Yd.fromEnvSigningName=o9;Yd.fromSso=D3;Yd.fromStatic=u9;Yd.nodeProvider=m9});var Lx=B(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.resolveHttpAuthSchemeConfig=vo.defaultSSOHttpAuthSchemeProvider=vo.defaultSSOHttpAuthSchemeParametersProvider=void 0;var f9=(Gt(),Re(fn)),Mx=br(),g9=async(e,r,t)=>({operation:(0,Mx.getSmithyContext)(r).operation,region:await(0,Mx.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});vo.defaultSSOHttpAuthSchemeParametersProvider=g9;function h9(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function Tg(e){return{schemeId:"smithy.api#noAuth"}}var p9=e=>{let r=[];switch(e.operation){case"GetRoleCredentials":{r.push(Tg(e));break}case"ListAccountRoles":{r.push(Tg(e));break}case"ListAccounts":{r.push(Tg(e));break}case"Logout":{r.push(Tg(e));break}default:r.push(h9(e))}return r};vo.defaultSSOHttpAuthSchemeProvider=p9;var y9=e=>{let r=(0,f9.resolveAwsSdkSigV4Config)(e);return Object.assign(r,{authSchemePreference:(0,Mx.normalizeProvider)(e.authSchemePreference??[])})};vo.resolveHttpAuthSchemeConfig=y9});var L3=B((MCe,S9)=>{S9.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.906.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.906.0","@aws-sdk/middleware-host-header":"3.901.0","@aws-sdk/middleware-logger":"3.901.0","@aws-sdk/middleware-recursion-detection":"3.901.0","@aws-sdk/middleware-user-agent":"3.906.0","@aws-sdk/region-config-resolver":"3.901.0","@aws-sdk/types":"3.901.0","@aws-sdk/util-endpoints":"3.901.0","@aws-sdk/util-user-agent-browser":"3.901.0","@aws-sdk/util-user-agent-node":"3.906.0","@smithy/config-resolver":"^4.3.0","@smithy/core":"^3.14.0","@smithy/fetch-http-handler":"^5.3.0","@smithy/hash-node":"^4.2.0","@smithy/invalid-dependency":"^4.2.0","@smithy/middleware-content-length":"^4.2.0","@smithy/middleware-endpoint":"^4.3.0","@smithy/middleware-retry":"^4.4.0","@smithy/middleware-serde":"^4.2.0","@smithy/middleware-stack":"^4.2.0","@smithy/node-config-provider":"^4.3.0","@smithy/node-http-handler":"^4.3.0","@smithy/protocol-http":"^5.3.0","@smithy/smithy-client":"^4.7.0","@smithy/types":"^4.6.0","@smithy/url-parser":"^4.2.0","@smithy/util-base64":"^4.2.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.0","@smithy/util-defaults-mode-browser":"^4.2.0","@smithy/util-defaults-mode-node":"^4.2.0","@smithy/util-endpoints":"^3.2.0","@smithy/util-middleware":"^4.2.0","@smithy/util-retry":"^4.2.0","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Q3=B(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.ruleSet=void 0;var W3="required",_n="fn",Cn="argv",mc="ref",F3=!0,z3="isSet",Jd="booleanEquals",dc="error",uc="endpoint",Ls="tree",Fx="PartitionResult",zx="getAttr",U3={[W3]:!1,type:"String"},q3={[W3]:!0,default:!1,type:"Boolean"},H3={[mc]:"Endpoint"},X3={[_n]:Jd,[Cn]:[{[mc]:"UseFIPS"},!0]},Y3={[_n]:Jd,[Cn]:[{[mc]:"UseDualStack"},!0]},bn={},j3={[_n]:zx,[Cn]:[{[mc]:Fx},"supportsFIPS"]},J3={[mc]:Fx},$3={[_n]:Jd,[Cn]:[!0,{[_n]:zx,[Cn]:[J3,"supportsDualStack"]}]},V3=[X3],G3=[Y3],K3=[{[mc]:"Region"}],E9={version:"1.0",parameters:{Region:U3,UseDualStack:q3,UseFIPS:q3,Endpoint:U3},rules:[{conditions:[{[_n]:z3,[Cn]:[H3]}],rules:[{conditions:V3,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:dc},{conditions:G3,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:dc},{endpoint:{url:H3,properties:bn,headers:bn},type:uc}],type:Ls},{conditions:[{[_n]:z3,[Cn]:K3}],rules:[{conditions:[{[_n]:"aws.partition",[Cn]:K3,assign:Fx}],rules:[{conditions:[X3,Y3],rules:[{conditions:[{[_n]:Jd,[Cn]:[F3,j3]},$3],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bn,headers:bn},type:uc}],type:Ls},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:dc}],type:Ls},{conditions:V3,rules:[{conditions:[{[_n]:Jd,[Cn]:[j3,F3]}],rules:[{conditions:[{[_n]:"stringEquals",[Cn]:[{[_n]:zx,[Cn]:[J3,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:bn,headers:bn},type:uc},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bn,headers:bn},type:uc}],type:Ls},{error:"FIPS is enabled but this partition does not support FIPS",type:dc}],type:Ls},{conditions:G3,rules:[{conditions:[$3],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bn,headers:bn},type:uc}],type:Ls},{error:"DualStack is enabled but this partition does not support DualStack",type:dc}],type:Ls},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:bn,headers:bn},type:uc}],type:Ls}],type:Ls},{error:"Invalid Configuration: Missing Region",type:dc}]};Rg.ruleSet=E9});var Z3=B(Ig=>{"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.defaultEndpointResolver=void 0;var b9=Xa(),Ux=yi(),_9=Q3(),C9=new Ux.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),x9=(e,r={})=>C9.get(e,()=>(0,Ux.resolveEndpoint)(_9.ruleSet,{endpointParams:e,logger:r.logger}));Ig.defaultEndpointResolver=x9;Ux.customEndpointFunctions.aws=b9.awsEndpointFunctions});var r1=B(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.getRuntimeConfig=void 0;var w9=(Gt(),Re(fn)),A9=(Mr(),Re(ai)),P9=Ie(),v9=ho(),e1=gr(),t1=Xt(),T9=Lx(),R9=Z3(),I9=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??e1.fromBase64,base64Encoder:e?.base64Encoder??e1.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??R9.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??T9.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new w9.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new A9.NoAuthSigner}],logger:e?.logger??new P9.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??v9.parseUrl,utf8Decoder:e?.utf8Decoder??t1.fromUtf8,utf8Encoder:e?.utf8Encoder??t1.toUtf8});kg.getRuntimeConfig=I9});var a1=B(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.getRuntimeConfig=void 0;var k9=(Jn(),Re(Yn)),O9=k9.__importDefault(L3()),n1=(Gt(),Re(fn)),s1=Id(),Og=rs(),N9=kd(),o1=Ds(),Ai=Eo(),i1=Qo(),B9=Od(),D9=Qa(),M9=r1(),L9=Ie(),F9=Bd(),z9=Ie(),U9=e=>{(0,z9.emitWarningIfUnsupportedVersion)(process.version);let r=(0,F9.resolveDefaultsModeConfig)(e),t=()=>r().then(L9.loadConfigsForDefaultMode),n=(0,M9.getRuntimeConfig)(e);(0,n1.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Ai.loadConfig)(n1.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??B9.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,s1.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:O9.default.version}),maxAttempts:e?.maxAttempts??(0,Ai.loadConfig)(o1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Ai.loadConfig)(Og.NODE_REGION_CONFIG_OPTIONS,{...Og.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:i1.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Ai.loadConfig)({...o1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||D9.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??N9.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??i1.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Ai.loadConfig)(Og.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Ai.loadConfig)(Og.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Ai.loadConfig)(s1.NODE_APP_ID_CONFIG_OPTIONS,s)}};Ng.getRuntimeConfig=U9});var P1=B(Dt=>{"use strict";var c1=ud(),q9=md(),H9=fd(),l1=Ja(),j9=rs(),Fs=(Mr(),Re(ai)),$9=pd(),tu=Bs(),d1=Ds(),se=Ie(),u1=Lx(),V9=a1(),m1=Dd(),f1=Xe(),qg=eo(),Qd=(Gt(),Re(fn)),G9=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Hg={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},K9=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},W9=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),X9=(e,r)=>{let t=Object.assign(m1.getAwsRegionExtensionConfiguration(e),se.getDefaultExtensionConfiguration(e),f1.getHttpHandlerExtensionConfiguration(e),K9(e));return r.forEach(n=>n.configure(t)),Object.assign(e,m1.resolveAwsRegionExtensionConfiguration(t),se.resolveDefaultRuntimeConfig(t),f1.resolveHttpHandlerRuntimeConfig(t),W9(t))},fc=class extends se.Client{config;constructor(...[r]){let t=V9.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=G9(t),s=l1.resolveUserAgentConfig(n),o=d1.resolveRetryConfig(s),a=j9.resolveRegionConfig(o),c=c1.resolveHostHeaderConfig(a),l=tu.resolveEndpointConfig(c),d=u1.resolveHttpAuthSchemeConfig(l),f=X9(d,r?.extensions||[]);this.config=f,this.middlewareStack.use(l1.getUserAgentPlugin(this.config)),this.middlewareStack.use(d1.getRetryPlugin(this.config)),this.middlewareStack.use($9.getContentLengthPlugin(this.config)),this.middlewareStack.use(c1.getHostHeaderPlugin(this.config)),this.middlewareStack.use(q9.getLoggerPlugin(this.config)),this.middlewareStack.use(H9.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Fs.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:u1.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async g=>new Fs.DefaultIdentityProviderConfig({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Fs.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},To=class e extends se.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},Bg=class e extends To{name="InvalidRequestException";$fault="client";constructor(r){super({name:"InvalidRequestException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Dg=class e extends To{name="ResourceNotFoundException";$fault="client";constructor(r){super({name:"ResourceNotFoundException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Mg=class e extends To{name="TooManyRequestsException";$fault="client";constructor(r){super({name:"TooManyRequestsException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Lg=class e extends To{name="UnauthorizedException";$fault="client";constructor(r){super({name:"UnauthorizedException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},g1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),h1=e=>({...e,...e.secretAccessKey&&{secretAccessKey:se.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:se.SENSITIVE_STRING}}),p1=e=>({...e,...e.roleCredentials&&{roleCredentials:h1(e.roleCredentials)}}),y1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),S1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),E1=e=>({...e,...e.accessToken&&{accessToken:se.SENSITIVE_STRING}}),Y9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Vg]:e[$g]});t.bp("/federation/credentials");let s=se.map({[d7]:[,se.expectNonNull(e[l7],"roleName")],[_1]:[,se.expectNonNull(e[b1],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},J9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Vg]:e[$g]});t.bp("/assignment/roles");let s=se.map({[A1]:[,e[w1]],[x1]:[()=>e.maxResults!==void 0,()=>e[C1].toString()],[_1]:[,se.expectNonNull(e[b1],"accountId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Q9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Vg]:e[$g]});t.bp("/assignment/accounts");let s=se.map({[A1]:[,e[w1]],[x1]:[()=>e.maxResults!==void 0,()=>e[C1].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Z9=async(e,r)=>{let t=Fs.requestBuilder(e,r),n=se.map({},se.isSerializableHeaderValue,{[Vg]:e[$g]});return t.bp("/logout"),t.m("POST").h(n).b(void 0),t.build()},e7=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return jg(e,r);let t=se.map({$metadata:Ro(e)}),n=se.expectNonNull(se.expectObject(await Qd.parseJsonBody(e.body,r)),"body"),s=se.take(n,{roleCredentials:se._json});return Object.assign(t,s),t},t7=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return jg(e,r);let t=se.map({$metadata:Ro(e)}),n=se.expectNonNull(se.expectObject(await Qd.parseJsonBody(e.body,r)),"body"),s=se.take(n,{nextToken:se.expectString,roleList:se._json});return Object.assign(t,s),t},r7=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return jg(e,r);let t=se.map({$metadata:Ro(e)}),n=se.expectNonNull(se.expectObject(await Qd.parseJsonBody(e.body,r)),"body"),s=se.take(n,{accountList:se._json,nextToken:se.expectString});return Object.assign(t,s),t},n7=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return jg(e,r);let t=se.map({$metadata:Ro(e)});return await se.collectBody(e.body,r),t},jg=async(e,r)=>{let t={...e,body:await Qd.parseJsonErrorBody(e.body,r)},n=Qd.loadRestJsonErrorCode(e,t.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await o7(t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await i7(t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await a7(t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await c7(t);default:let s=t.body;return s7({output:e,parsedBody:s,errorCode:n})}},s7=se.withBaseException(To),o7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Bg({$metadata:Ro(e),...t});return se.decorateServiceException(o,e.body)},i7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Dg({$metadata:Ro(e),...t});return se.decorateServiceException(o,e.body)},a7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Mg({$metadata:Ro(e),...t});return se.decorateServiceException(o,e.body)},c7=async(e,r)=>{let t=se.map({}),n=e.body,s=se.take(n,{message:se.expectString});Object.assign(t,s);let o=new Lg({$metadata:Ro(e),...t});return se.decorateServiceException(o,e.body)},Ro=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),b1="accountId",$g="accessToken",_1="account_id",C1="maxResults",x1="max_result",w1="nextToken",A1="next_token",l7="roleName",d7="role_name",Vg="x-amz-sso_bearer_token",Fg=class extends se.Command.classBuilder().ep(Hg).m(function(r,t,n,s){return[qg.getSerdePlugin(n,this.serialize,this.deserialize),tu.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(g1,p1).ser(Y9).de(e7).build(){},Zd=class extends se.Command.classBuilder().ep(Hg).m(function(r,t,n,s){return[qg.getSerdePlugin(n,this.serialize,this.deserialize),tu.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(y1,void 0).ser(J9).de(t7).build(){},eu=class extends se.Command.classBuilder().ep(Hg).m(function(r,t,n,s){return[qg.getSerdePlugin(n,this.serialize,this.deserialize),tu.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(S1,void 0).ser(Q9).de(r7).build(){},zg=class extends se.Command.classBuilder().ep(Hg).m(function(r,t,n,s){return[qg.getSerdePlugin(n,this.serialize,this.deserialize),tu.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(E1,void 0).ser(Z9).de(n7).build(){},u7={GetRoleCredentialsCommand:Fg,ListAccountRolesCommand:Zd,ListAccountsCommand:eu,LogoutCommand:zg},Ug=class extends fc{};se.createAggregatedClient(u7,Ug);var m7=Fs.createPaginator(fc,Zd,"nextToken","nextToken","maxResults"),f7=Fs.createPaginator(fc,eu,"nextToken","nextToken","maxResults");Object.defineProperty(Dt,"$Command",{enumerable:!0,get:function(){return se.Command}});Object.defineProperty(Dt,"__Client",{enumerable:!0,get:function(){return se.Client}});Dt.GetRoleCredentialsCommand=Fg;Dt.GetRoleCredentialsRequestFilterSensitiveLog=g1;Dt.GetRoleCredentialsResponseFilterSensitiveLog=p1;Dt.InvalidRequestException=Bg;Dt.ListAccountRolesCommand=Zd;Dt.ListAccountRolesRequestFilterSensitiveLog=y1;Dt.ListAccountsCommand=eu;Dt.ListAccountsRequestFilterSensitiveLog=S1;Dt.LogoutCommand=zg;Dt.LogoutRequestFilterSensitiveLog=E1;Dt.ResourceNotFoundException=Dg;Dt.RoleCredentialsFilterSensitiveLog=h1;Dt.SSO=Ug;Dt.SSOClient=fc;Dt.SSOServiceException=To;Dt.TooManyRequestsException=Mg;Dt.UnauthorizedException=Lg;Dt.paginateListAccountRoles=m7;Dt.paginateListAccounts=f7});var T1=B(qx=>{"use strict";var v1=P1();Object.defineProperty(qx,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return v1.GetRoleCredentialsCommand}});Object.defineProperty(qx,"SSOClient",{enumerable:!0,get:function(){return v1.SSOClient}})});var Hx=B(Kg=>{"use strict";var Fn=Lr(),Gg=Os(),R1=(Dn(),Re(Zs)),g7=M3(),k1=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),ru=!1,I1=async({ssoStartUrl:e,ssoSession:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:a,parentClientConfig:c,profile:l,filepath:d,configFilepath:f,ignoreCache:g,logger:y})=>{let h,_="To refresh this SSO session run aws sso login with the corresponding profile.";if(r)try{let Ft=await g7.fromSso({profile:l,filepath:d,configFilepath:f,ignoreCache:g})();h={accessToken:Ft.token,expiresAt:new Date(Ft.expiration).toISOString()}}catch(Ft){throw new Fn.CredentialsProviderError(Ft.message,{tryNextLink:ru,logger:y})}else try{h=await Gg.getSSOTokenFromFile(e)}catch{throw new Fn.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${_}`,{tryNextLink:ru,logger:y})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Fn.CredentialsProviderError(`The SSO session associated with this profile has expired. ${_}`,{tryNextLink:ru,logger:y});let{accessToken:R}=h,{SSOClient:I,GetRoleCredentialsCommand:N}=await Promise.resolve().then(function(){return T1()}),W=o||new I(Object.assign({},a??{},{logger:a?.logger??c?.logger,region:a?.region??n})),ce;try{ce=await W.send(new N({accountId:t,roleName:s,accessToken:R}))}catch(Ft){throw new Fn.CredentialsProviderError(Ft,{tryNextLink:ru,logger:y})}let{roleCredentials:{accessKeyId:me,secretAccessKey:_e,sessionToken:We,expiration:At,credentialScope:Ne,accountId:ze}={}}=ce;if(!me||!_e||!We||!At)throw new Fn.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:ru,logger:y});let nt={accessKeyId:me,secretAccessKey:_e,sessionToken:We,expiration:new Date(At),...Ne&&{credentialScope:Ne},...ze&&{accountId:ze}};return r?R1.setCredentialFeature(nt,"CREDENTIALS_SSO","s"):R1.setCredentialFeature(nt,"CREDENTIALS_SSO_LEGACY","u"),nt},O1=(e,r)=>{let{sso_start_url:t,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!t||!n||!s||!o)throw new Fn.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:r});return e},h7=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:t,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:a}=e,{ssoClient:c}=e,l=Gg.getProfileName({profile:e.profile??r?.profile});if(!t&&!n&&!s&&!o&&!a){let f=(await Gg.parseKnownFiles(e))[l];if(!f)throw new Fn.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!k1(f))throw new Fn.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(f?.sso_session){let N=(await Gg.loadSsoSessionData(e))[f.sso_session],W=` configurations in profile ${l} and sso-session ${f.sso_session}`;if(s&&s!==N.sso_region)throw new Fn.CredentialsProviderError("Conflicting SSO region"+W,{tryNextLink:!1,logger:e.logger});if(t&&t!==N.sso_start_url)throw new Fn.CredentialsProviderError("Conflicting SSO start_url"+W,{tryNextLink:!1,logger:e.logger});f.sso_region=N.sso_region,f.sso_start_url=N.sso_start_url}let{sso_start_url:g,sso_account_id:y,sso_region:h,sso_role_name:_,sso_session:R}=O1(f,e.logger);return I1({ssoStartUrl:g,ssoSession:R,ssoAccountId:y,ssoRegion:h,ssoRoleName:_,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!t||!n||!s||!o)throw new Fn.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return I1({ssoStartUrl:t,ssoSession:a,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:c,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Kg.fromSSO=h7;Kg.isSsoProfile=k1;Kg.validateSsoProfile=O1});function p7(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(r,t)=>({signingProperties:{config:r,context:t}})}}function y7(e){return{schemeId:"smithy.api#noAuth"}}var nu,N1,B1,S7,D1,jx=P(()=>{Gt();nu=k(br());su();N1=async(e,r,t)=>({operation:(0,nu.getSmithyContext)(r).operation,region:await(0,nu.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});B1=e=>{let r=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{r.push(y7(e));break}default:r.push(p7(e))}return r},S7=e=>Object.assign(e,{stsClientCtor:ls}),D1=e=>{let r=S7(e),t=di(r);return Object.assign(t,{authSchemePreference:(0,nu.normalizeProvider)(e.authSchemePreference??[])})}});var M1,Wg,Xg=P(()=>{M1=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Wg={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var K1,we,Ve,Ge,ko,Io,pr,W1,X1,Y1,xt,L1,ds,gc,Vx,F1,$x,J1,z1,yr,U1,Q1,Z1,Pr,sn,q1,eL,tL,H1,rL,j1,$1,V1,G1,E7,nL,sL=P(()=>{K1="required",we="type",Ve="fn",Ge="argv",ko="ref",Io="booleanEquals",pr="stringEquals",W1="sigv4",X1="sts",Y1="us-east-1",xt="endpoint",L1="https://sts.{Region}.{PartitionResult#dnsSuffix}",ds="tree",gc="error",Vx="getAttr",F1={[K1]:!1,[we]:"String"},$x={[K1]:!0,default:!1,[we]:"Boolean"},J1={[ko]:"Endpoint"},z1={[Ve]:"isSet",[Ge]:[{[ko]:"Region"}]},yr={[ko]:"Region"},U1={[Ve]:"aws.partition",[Ge]:[yr],assign:"PartitionResult"},Q1={[ko]:"UseFIPS"},Z1={[ko]:"UseDualStack"},Pr={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:W1,signingName:X1,signingRegion:Y1}]},headers:{}},sn={},q1={conditions:[{[Ve]:pr,[Ge]:[yr,"aws-global"]}],[xt]:Pr,[we]:xt},eL={[Ve]:Io,[Ge]:[Q1,!0]},tL={[Ve]:Io,[Ge]:[Z1,!0]},H1={[Ve]:Vx,[Ge]:[{[ko]:"PartitionResult"},"supportsFIPS"]},rL={[ko]:"PartitionResult"},j1={[Ve]:Io,[Ge]:[!0,{[Ve]:Vx,[Ge]:[rL,"supportsDualStack"]}]},$1=[{[Ve]:"isSet",[Ge]:[J1]}],V1=[eL],G1=[tL],E7={version:"1.0",parameters:{Region:F1,UseDualStack:$x,UseFIPS:$x,Endpoint:F1,UseGlobalEndpoint:$x},rules:[{conditions:[{[Ve]:Io,[Ge]:[{[ko]:"UseGlobalEndpoint"},!0]},{[Ve]:"not",[Ge]:$1},z1,U1,{[Ve]:Io,[Ge]:[Q1,!1]},{[Ve]:Io,[Ge]:[Z1,!1]}],rules:[{conditions:[{[Ve]:pr,[Ge]:[yr,"ap-northeast-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"ap-south-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"ap-southeast-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"ap-southeast-2"]}],endpoint:Pr,[we]:xt},q1,{conditions:[{[Ve]:pr,[Ge]:[yr,"ca-central-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"eu-central-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"eu-north-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"eu-west-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"eu-west-2"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"eu-west-3"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"sa-east-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,Y1]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"us-east-2"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"us-west-1"]}],endpoint:Pr,[we]:xt},{conditions:[{[Ve]:pr,[Ge]:[yr,"us-west-2"]}],endpoint:Pr,[we]:xt},{endpoint:{url:L1,properties:{authSchemes:[{name:W1,signingName:X1,signingRegion:"{Region}"}]},headers:sn},[we]:xt}],[we]:ds},{conditions:$1,rules:[{conditions:V1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[we]:gc},{conditions:G1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[we]:gc},{endpoint:{url:J1,properties:sn,headers:sn},[we]:xt}],[we]:ds},{conditions:[z1],rules:[{conditions:[U1],rules:[{conditions:[eL,tL],rules:[{conditions:[{[Ve]:Io,[Ge]:[!0,H1]},j1],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sn,headers:sn},[we]:xt}],[we]:ds},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[we]:gc}],[we]:ds},{conditions:V1,rules:[{conditions:[{[Ve]:Io,[Ge]:[H1,!0]}],rules:[{conditions:[{[Ve]:pr,[Ge]:[{[Ve]:Vx,[Ge]:[rL,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:sn,headers:sn},[we]:xt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:sn,headers:sn},[we]:xt}],[we]:ds},{error:"FIPS is enabled but this partition does not support FIPS",[we]:gc}],[we]:ds},{conditions:G1,rules:[{conditions:[j1],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sn,headers:sn},[we]:xt}],[we]:ds},{error:"DualStack is enabled but this partition does not support DualStack",[we]:gc}],[we]:ds},q1,{endpoint:{url:L1,properties:sn,headers:sn},[we]:xt}],[we]:ds}],[we]:ds},{error:"Invalid Configuration: Missing Region",[we]:gc}]},nL=E7});var oL,hc,b7,iL,aL=P(()=>{oL=k(Xa()),hc=k(yi());sL();b7=new hc.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),iL=(e,r={})=>b7.get(e,()=>(0,hc.resolveEndpoint)(nL,{endpointParams:e,logger:r.logger}));hc.customEndpointFunctions.aws=oL.awsEndpointFunctions});var cL,lL,Yg,Jg,dL,uL=P(()=>{Gt();Mr();cL=k(Ie()),lL=k(ho()),Yg=k(gr()),Jg=k(Xt());jx();aL();dL=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Yg.fromBase64,base64Encoder:e?.base64Encoder??Yg.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??iL,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??B1,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new jr},{schemeId:"smithy.api#noAuth",identityProvider:r=>r.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ws}],logger:e?.logger??new cL.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??lL.parseUrl,utf8Decoder:e?.utf8Decoder??Jg.fromUtf8,utf8Encoder:e?.utf8Encoder??Jg.toUtf8})});var Qg,No,mL,Zg,Oo,eh,fL,gL,hL,pL,yL,SL,EL=P(()=>{bx();Gt();Qg=k(Id()),No=k(rs());Mr();mL=k(kd()),Zg=k(Ds()),Oo=k(Eo()),eh=k(Qo()),fL=k(Od()),gL=k(Qa());uL();hL=k(Ie()),pL=k(Bd()),yL=k(Ie()),SL=e=>{(0,yL.emitWarningIfUnsupportedVersion)(process.version);let r=(0,pL.resolveDefaultsModeConfig)(e),t=()=>r().then(hL.loadConfigsForDefaultMode),n=dL(e);Pa(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,Oo.loadConfig)(Ra,s),bodyLengthChecker:e?.bodyLengthChecker??fL.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Qg.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:mg.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async a=>await e.credentialDefaultProvider(a?.__config||{})()),signer:new jr},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ws}],maxAttempts:e?.maxAttempts??(0,Oo.loadConfig)(Zg.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,Oo.loadConfig)(No.NODE_REGION_CONFIG_OPTIONS,{...No.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:eh.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,Oo.loadConfig)({...Zg.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||gL.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??mL.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??eh.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,Oo.loadConfig)(No.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,Oo.loadConfig)(No.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,Oo.loadConfig)(Qg.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var bL,_L,CL=P(()=>{bL=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},_L=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var th,rh,nh,xL,wL=P(()=>{th=k(Dd()),rh=k(Xe()),nh=k(Ie());CL();xL=(e,r)=>{let t=Object.assign((0,th.getAwsRegionExtensionConfiguration)(e),(0,nh.getDefaultExtensionConfiguration)(e),(0,rh.getHttpHandlerExtensionConfiguration)(e),bL(e));return r.forEach(n=>n.configure(t)),Object.assign(e,(0,th.resolveAwsRegionExtensionConfiguration)(t),(0,nh.resolveDefaultRuntimeConfig)(t),(0,rh.resolveHttpHandlerRuntimeConfig)(t),_L(t))}});var sh,AL,PL,oh,vL,TL,RL,ih,Gx,ls,su=P(()=>{sh=k(ud()),AL=k(md()),PL=k(fd()),oh=k(Ja()),vL=k(rs());Mr();TL=k(pd()),RL=k(Bs()),ih=k(Ds()),Gx=k(Ie());jx();Xg();EL();wL();ls=class extends Gx.Client{config;constructor(...[r]){let t=SL(r||{});super(t),this.initConfig=t;let n=M1(t),s=(0,oh.resolveUserAgentConfig)(n),o=(0,ih.resolveRetryConfig)(s),a=(0,vL.resolveRegionConfig)(o),c=(0,sh.resolveHostHeaderConfig)(a),l=(0,RL.resolveEndpointConfig)(c),d=D1(l),f=xL(d,r?.extensions||[]);this.config=f,this.middlewareStack.use((0,oh.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,ih.getRetryPlugin)(this.config)),this.middlewareStack.use((0,TL.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,sh.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,AL.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,PL.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Ll(this.config,{httpAuthSchemeParametersProvider:N1,identityProviderConfigProvider:async g=>new ii({"aws.auth#sigv4":g.credentials})})),this.middlewareStack.use(Fl(this.config))}destroy(){super.destroy()}}});var IL,Wr,ah=P(()=>{IL=k(Ie()),Wr=class e extends IL.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}}});var Kx,Wx,Xx,ou,iu,au,cu,lu,du,Yx,Jx,uu,mu=P(()=>{Kx=k(Ie());ah();Wx=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Kx.SENSITIVE_STRING}}),Xx=e=>({...e,...e.Credentials&&{Credentials:Wx(e.Credentials)}}),ou=class e extends Wr{name="ExpiredTokenException";$fault="client";constructor(r){super({name:"ExpiredTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},iu=class e extends Wr{name="MalformedPolicyDocumentException";$fault="client";constructor(r){super({name:"MalformedPolicyDocumentException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},au=class e extends Wr{name="PackedPolicyTooLargeException";$fault="client";constructor(r){super({name:"PackedPolicyTooLargeException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},cu=class e extends Wr{name="RegionDisabledException";$fault="client";constructor(r){super({name:"RegionDisabledException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},lu=class e extends Wr{name="IDPRejectedClaimException";$fault="client";constructor(r){super({name:"IDPRejectedClaimException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},du=class e extends Wr{name="InvalidIdentityTokenException";$fault="client";constructor(r){super({name:"InvalidIdentityTokenException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Yx=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Kx.SENSITIVE_STRING}}),Jx=e=>({...e,...e.Credentials&&{Credentials:Wx(e.Credentials)}}),uu=class e extends Wr{name="IDPCommunicationErrorException";$fault="client";constructor(r){super({name:"IDPCommunicationErrorException",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}}});var kL,ke,OL,NL,BL,DL,ML,_7,C7,x7,w7,A7,P7,v7,T7,R7,LL,I7,k7,O7,N7,B7,D7,FL,M7,L7,zL,F7,z7,U7,q7,H7,j7,$7,Us,V7,UL,qL,HL,jL,Qx,G7,Zx,pc,K7,ew,tw,yc,rw,Sc,nw,sw,ow,Ec,bc,iw,aw,cw,_c,lw,Cc,xc,dw,uw,zs,mw,fw,gw,hw,pw,$L,yw,Sw,Ew,jt,VL,W7,bw=P(()=>{Gt();kL=k(Xe()),ke=k(Ie());mu();ah();OL=async(e,r)=>{let t=qL,n;return n=VL({...T7(e,r),[jL]:G7,[$L]:HL}),UL(r,t,"/",void 0,n)},NL=async(e,r)=>{let t=qL,n;return n=VL({...R7(e,r),[jL]:K7,[$L]:HL}),UL(r,t,"/",void 0,n)},BL=async(e,r)=>{if(e.statusCode>=300)return ML(e,r);let t=await cd(e.body,r),n={};return n=M7(t.AssumeRoleResult,r),{$metadata:Us(e),...n}},DL=async(e,r)=>{if(e.statusCode>=300)return ML(e,r);let t=await cd(e.body,r),n={};return n=L7(t.AssumeRoleWithWebIdentityResult,r),{$metadata:Us(e),...n}},ML=async(e,r)=>{let t={...e,body:await A_(e.body,r)},n=W7(e,t.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await _7(t,r);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await A7(t,r);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await P7(t,r);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await v7(t,r);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await C7(t,r);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await x7(t,r);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await w7(t,r);default:let s=t.body;return V7({output:e,parsedBody:s.Error,errorCode:n})}},_7=async(e,r)=>{let t=e.body,n=F7(t.Error,r),s=new ou({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},C7=async(e,r)=>{let t=e.body,n=z7(t.Error,r),s=new uu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},x7=async(e,r)=>{let t=e.body,n=U7(t.Error,r),s=new lu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},w7=async(e,r)=>{let t=e.body,n=q7(t.Error,r),s=new du({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},A7=async(e,r)=>{let t=e.body,n=H7(t.Error,r),s=new iu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},P7=async(e,r)=>{let t=e.body,n=j7(t.Error,r),s=new au({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},v7=async(e,r)=>{let t=e.body,n=$7(t.Error,r),s=new cu({$metadata:Us(e),...n});return(0,ke.decorateServiceException)(s,t)},T7=(e,r)=>{let t={};if(e[Cc]!=null&&(t[Cc]=e[Cc]),e[xc]!=null&&(t[xc]=e[xc]),e[bc]!=null){let n=LL(e[bc],r);e[bc]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}if(e[Ec]!=null&&(t[Ec]=e[Ec]),e[Sc]!=null&&(t[Sc]=e[Sc]),e[gw]!=null){let n=D7(e[gw],r);e[gw]?.length===0&&(t.Tags=[]),Object.entries(n).forEach(([s,o])=>{let a=`Tags.${s}`;t[a]=o})}if(e[pw]!=null){let n=B7(e[pw],r);e[pw]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let a=`TransitiveTagKeys.${s}`;t[a]=o})}if(e[sw]!=null&&(t[sw]=e[sw]),e[mw]!=null&&(t[mw]=e[mw]),e[hw]!=null&&(t[hw]=e[hw]),e[zs]!=null&&(t[zs]=e[zs]),e[aw]!=null){let n=O7(e[aw],r);e[aw]?.length===0&&(t.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let a=`ProvidedContexts.${s}`;t[a]=o})}return t},R7=(e,r)=>{let t={};if(e[Cc]!=null&&(t[Cc]=e[Cc]),e[xc]!=null&&(t[xc]=e[xc]),e[Sw]!=null&&(t[Sw]=e[Sw]),e[cw]!=null&&(t[cw]=e[cw]),e[bc]!=null){let n=LL(e[bc],r);e[bc]?.length===0&&(t.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let a=`PolicyArns.${s}`;t[a]=o})}return e[Ec]!=null&&(t[Ec]=e[Ec]),e[Sc]!=null&&(t[Sc]=e[Sc]),t},LL=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=I7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},I7=(e,r)=>{let t={};return e[Ew]!=null&&(t[Ew]=e[Ew]),t},k7=(e,r)=>{let t={};return e[iw]!=null&&(t[iw]=e[iw]),e[rw]!=null&&(t[rw]=e[rw]),t},O7=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=k7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},N7=(e,r)=>{let t={};return e[ow]!=null&&(t[ow]=e[ow]),e[yw]!=null&&(t[yw]=e[yw]),t},B7=(e,r)=>{let t={},n=1;for(let s of e)s!==null&&(t[`member.${n}`]=s,n++);return t},D7=(e,r)=>{let t={},n=1;for(let s of e){if(s===null)continue;let o=N7(s,r);Object.entries(o).forEach(([a,c])=>{t[`member.${n}.${a}`]=c}),n++}return t},FL=(e,r)=>{let t={};return e[Zx]!=null&&(t[Zx]=(0,ke.expectString)(e[Zx])),e[ew]!=null&&(t[ew]=(0,ke.expectString)(e[ew])),t},M7=(e,r)=>{let t={};return e[yc]!=null&&(t[yc]=zL(e[yc],r)),e[pc]!=null&&(t[pc]=FL(e[pc],r)),e[_c]!=null&&(t[_c]=(0,ke.strictParseInt32)(e[_c])),e[zs]!=null&&(t[zs]=(0,ke.expectString)(e[zs])),t},L7=(e,r)=>{let t={};return e[yc]!=null&&(t[yc]=zL(e[yc],r)),e[uw]!=null&&(t[uw]=(0,ke.expectString)(e[uw])),e[pc]!=null&&(t[pc]=FL(e[pc],r)),e[_c]!=null&&(t[_c]=(0,ke.strictParseInt32)(e[_c])),e[lw]!=null&&(t[lw]=(0,ke.expectString)(e[lw])),e[tw]!=null&&(t[tw]=(0,ke.expectString)(e[tw])),e[zs]!=null&&(t[zs]=(0,ke.expectString)(e[zs])),t},zL=(e,r)=>{let t={};return e[Qx]!=null&&(t[Qx]=(0,ke.expectString)(e[Qx])),e[dw]!=null&&(t[dw]=(0,ke.expectString)(e[dw])),e[fw]!=null&&(t[fw]=(0,ke.expectString)(e[fw])),e[nw]!=null&&(t[nw]=(0,ke.expectNonNull)((0,ke.parseRfc3339DateTimeWithOffset)(e[nw]))),t},F7=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=(0,ke.expectString)(e[jt])),t},z7=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=(0,ke.expectString)(e[jt])),t},U7=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=(0,ke.expectString)(e[jt])),t},q7=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=(0,ke.expectString)(e[jt])),t},H7=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=(0,ke.expectString)(e[jt])),t},j7=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=(0,ke.expectString)(e[jt])),t},$7=(e,r)=>{let t={};return e[jt]!=null&&(t[jt]=(0,ke.expectString)(e[jt])),t},Us=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),V7=(0,ke.withBaseException)(Wr),UL=async(e,r,t,n,s)=>{let{hostname:o,protocol:a="https",port:c,path:l}=await e.endpoint(),d={protocol:a,hostname:o,port:c,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:r};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new kL.HttpRequest(d)},qL={"content-type":"application/x-www-form-urlencoded"},HL="2011-06-15",jL="Action",Qx="AccessKeyId",G7="AssumeRole",Zx="AssumedRoleId",pc="AssumedRoleUser",K7="AssumeRoleWithWebIdentity",ew="Arn",tw="Audience",yc="Credentials",rw="ContextAssertion",Sc="DurationSeconds",nw="Expiration",sw="ExternalId",ow="Key",Ec="Policy",bc="PolicyArns",iw="ProviderArn",aw="ProvidedContexts",cw="ProviderId",_c="PackedPolicySize",lw="Provider",Cc="RoleArn",xc="RoleSessionName",dw="SecretAccessKey",uw="SubjectFromWebIdentityToken",zs="SourceIdentity",mw="SerialNumber",fw="SessionToken",gw="Tags",hw="TokenCode",pw="TransitiveTagKeys",$L="Version",yw="Value",Sw="WebIdentityToken",Ew="arn",jt="message",VL=e=>Object.entries(e).map(([r,t])=>(0,ke.extendedEncodeURIComponent)(r)+"="+(0,ke.extendedEncodeURIComponent)(t)).join("&"),W7=(e,r)=>{if(r.Error?.Code!==void 0)return r.Error.Code;if(e.statusCode==404)return"NotFound"}});var GL,KL,WL,Pi,ch=P(()=>{GL=k(Bs()),KL=k(eo()),WL=k(Ie());Xg();mu();bw();Pi=class extends WL.Command.classBuilder().ep(Wg).m(function(r,t,n,s){return[(0,KL.getSerdePlugin)(n,this.serialize,this.deserialize),(0,GL.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Xx).ser(OL).de(BL).build(){}});var XL,YL,JL,vi,lh=P(()=>{XL=k(Bs()),YL=k(eo()),JL=k(Ie());Xg();mu();bw();vi=class extends JL.Command.classBuilder().ep(Wg).m(function(r,t,n,s){return[(0,YL.getSerdePlugin)(n,this.serialize,this.deserialize),(0,XL.getEndpointPlugin)(n,r.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Yx,Jx).ser(NL).de(DL).build(){}});var QL,X7,dh,ZL=P(()=>{QL=k(Ie());ch();lh();su();X7={AssumeRoleCommand:Pi,AssumeRoleWithWebIdentityCommand:vi},dh=class extends ls{};(0,QL.createAggregatedClient)(X7,dh)});var eF=P(()=>{ch();lh()});var tF=P(()=>{mu()});var rF,nF,sF,oF,iF,aF,cF=P(()=>{Dn();ch();lh();rF="us-east-1",nF=e=>{if(typeof e?.Arn=="string"){let r=e.Arn.split(":");if(r.length>4&&r[4]!=="")return r[4]}},sF=async(e,r,t)=>{let n=typeof e=="function"?await e():e,s=typeof r=="function"?await r():r;return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${rF} (STS default)`),n??s??rF},oF=(e,r)=>{let t,n;return async(s,o)=>{if(n=s,!t){let{logger:f=e?.parentClientConfig?.logger,region:g,requestHandler:y=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,_=await sF(g,e?.parentClientConfig?.region,h),R=!aF(y);t=new r({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:_,requestHandler:R?y:void 0,logger:f})}let{Credentials:a,AssumedRoleUser:c}=await t.send(new Pi(o));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=nF(c),d={accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,...a.CredentialScope&&{credentialScope:a.CredentialScope},...l&&{accountId:l}};return Qs(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},iF=(e,r)=>{let t;return async n=>{if(!t){let{logger:l=e?.parentClientConfig?.logger,region:d,requestHandler:f=e?.parentClientConfig?.requestHandler,credentialProviderLogger:g}=e,y=await sF(d,e?.parentClientConfig?.region,g),h=!aF(f);t=new r({profile:e?.parentClientConfig?.profile,region:y,requestHandler:h?f:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:o}=await t.send(new vi(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let a=nF(o),c={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...a&&{accountId:a}};return a&&Qs(c,"RESOLVED_ACCOUNT_ID","T"),Qs(c,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),c}},aF=e=>e?.metadata?.handlerProtocol==="h2"});var lF,dF,uF,Y7,mF=P(()=>{cF();su();lF=(e,r)=>r?class extends e{constructor(n){super(n);for(let s of r)this.middlewareStack.use(s)}}:e,dF=(e={},r)=>oF(e,lF(ls,r)),uF=(e={},r)=>iF(e,lF(ls,r)),Y7=e=>r=>e({roleAssumer:dF(r),roleAssumerWithWebIdentity:uF(r),...r})});var _w={};dn(_w,{AssumeRoleCommand:()=>Pi,AssumeRoleResponseFilterSensitiveLog:()=>Xx,AssumeRoleWithWebIdentityCommand:()=>vi,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Yx,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>Jx,CredentialsFilterSensitiveLog:()=>Wx,ExpiredTokenException:()=>ou,IDPCommunicationErrorException:()=>uu,IDPRejectedClaimException:()=>lu,InvalidIdentityTokenException:()=>du,MalformedPolicyDocumentException:()=>iu,PackedPolicyTooLargeException:()=>au,RegionDisabledException:()=>cu,STS:()=>dh,STSClient:()=>ls,STSServiceException:()=>Wr,__Client:()=>Gx.Client,decorateDefaultCredentialProvider:()=>Y7,getDefaultRoleAssumer:()=>dF,getDefaultRoleAssumerWithWebIdentity:()=>uF});var Cw=P(()=>{su();ZL();eF();tF();mF();ah()});var Aw=B(fF=>{"use strict";var ww=Os(),xw=Lr(),J7=require("child_process"),Q7=require("util"),Z7=(Dn(),Re(Zs)),eY=(e,r,t)=>{if(r.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(r.AccessKeyId===void 0||r.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(r.Expiration){let o=new Date;if(new Date(r.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=r.AccountId;!n&&t?.[e]?.aws_account_id&&(n=t[e].aws_account_id);let s={accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,...r.SessionToken&&{sessionToken:r.SessionToken},...r.Expiration&&{expiration:new Date(r.Expiration)},...r.CredentialScope&&{credentialScope:r.CredentialScope},...n&&{accountId:n}};return Z7.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},tY=async(e,r,t)=>{let n=r[e];if(r[e]){let s=n.credential_process;if(s!==void 0){let o=Q7.promisify(ww.externalDataInterceptor?.getTokenRecord?.().exec??J7.exec);try{let{stdout:a}=await o(s),c;try{c=JSON.parse(a.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return eY(e,c,r)}catch(a){throw new xw.CredentialsProviderError(a.message,{logger:t})}}else throw new xw.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}else throw new xw.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},rY=(e={})=>async({callerClientConfig:r}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let t=await ww.parseKnownFiles(e);return tY(ww.getProfileName({profile:e.profile??r?.profile}),t,e.logger)};fF.fromProcess=rY});var Pw=B(us=>{"use strict";var nY=us&&us.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,s)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),sY=us&&us.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),oY=us&&us.__importStar||function(){var e=function(r){return e=Object.getOwnPropertyNames||function(t){var n=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[n.length]=s);return n},e(r)};return function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n=e(r),s=0;s<n.length;s++)n[s]!=="default"&&nY(t,r,n[s]);return sY(t,r),t}}();Object.defineProperty(us,"__esModule",{value:!0});us.fromWebToken=void 0;var iY=e=>async r=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:a,policy:c,durationSeconds:l}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>oY((Cw(),Re(_w))));d=f({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...r?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:t,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:a,Policy:c,DurationSeconds:l})};us.fromWebToken=iY});var hF=B(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.fromTokenFile=void 0;var aY=(Dn(),Re(Zs)),cY=Lr(),lY=Os(),dY=require("fs"),uY=Pw(),gF="AWS_WEB_IDENTITY_TOKEN_FILE",mY="AWS_ROLE_ARN",fY="AWS_ROLE_SESSION_NAME",gY=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=e?.webIdentityTokenFile??process.env[gF],t=e?.roleArn??process.env[mY],n=e?.roleSessionName??process.env[fY];if(!r||!t)throw new cY.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,uY.fromWebToken)({...e,webIdentityToken:lY.externalDataInterceptor?.getTokenRecord?.()[r]??(0,dY.readFileSync)(r,{encoding:"ascii"}),roleArn:t,roleSessionName:n})();return r===process.env[gF]&&(0,aY.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};uh.fromTokenFile=gY});var vw=B(fu=>{"use strict";var pF=hF(),yF=Pw();Object.keys(pF).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fu,e)&&Object.defineProperty(fu,e,{enumerable:!0,get:function(){return pF[e]}})});Object.keys(yF).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(fu,e)&&Object.defineProperty(fu,e,{enumerable:!0,get:function(){return yF[e]}})})});var xF=B(CF=>{"use strict";var Rw=Os(),gu=Lr(),Bo=(Dn(),Re(Zs)),hY=(e,r,t)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>k(yx())),{fromContainerMetadata:a}=await Promise.resolve().then(()=>k(Td()));return t?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>gu.chain(o(s??{}),a(s))().then(Tw)},Ec2InstanceMetadata:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>k(Td()));return async()=>o(s)().then(Tw)},Environment:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>k(lx()));return async()=>o(s)().then(Tw)}};if(e in n)return n[e];throw new gu.CredentialsProviderError(`Unsupported credential source in profile ${r}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:t})},Tw=e=>Bo.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),pY=(e,{profile:r="default",logger:t}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(yY(e,{profile:r,logger:t})||SY(e,{profile:r,logger:t})),yY=(e,{profile:r,logger:t})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&t?.debug?.(`    ${r} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},SY=(e,{profile:r,logger:t})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&t?.debug?.(`    ${r} isCredentialSourceProfile credential_source=${e.credential_source}`),n},EY=async(e,r,t,n={})=>{t.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=r[e],{source_profile:o,region:a}=s;if(!t.roleAssumer){let{getDefaultRoleAssumer:l}=await Promise.resolve().then(()=>(Cw(),_w));t.roleAssumer=l({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...t?.parentClientConfig,region:a??t?.parentClientConfig?.region}},t.clientPlugins)}if(o&&o in n)throw new gu.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${Rw.getProfileName(t)}. Profiles visited: `+Object.keys(n).join(", "),{logger:t.logger});t.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let c=o?_F(o,r,t,{...n,[o]:!0},SF(r[o]??{})):(await hY(s.credential_source,e,t.logger)(t))();if(SF(s))return c.then(l=>Bo.setCredentialFeature(l,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let l={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:d}=s;if(d){if(!t.mfaCodeProvider)throw new gu.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:t.logger,tryNextLink:!1});l.SerialNumber=d,l.TokenCode=await t.mfaCodeProvider(d)}let f=await c;return t.roleAssumer(f,l).then(g=>Bo.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},SF=e=>!e.role_arn&&!!e.credential_source,bY=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",_Y=async(e,r)=>Promise.resolve().then(()=>k(Aw())).then(({fromProcess:t})=>t({...e,profile:r})().then(n=>Bo.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),CY=async(e,r,t={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>k(Hx()));return n({profile:e,logger:t.logger,parentClientConfig:t.parentClientConfig,clientConfig:t.clientConfig})().then(s=>r.sso_session?Bo.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Bo.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},xY=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),EF=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,bF=async(e,r)=>{r?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let t={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Bo.setCredentialFeature(t,"CREDENTIALS_PROFILE","n")},wY=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,AY=async(e,r)=>Promise.resolve().then(()=>k(vw())).then(({fromTokenFile:t})=>t({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:r.roleAssumerWithWebIdentity,logger:r.logger,parentClientConfig:r.parentClientConfig})().then(n=>Bo.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),_F=async(e,r,t,n={},s=!1)=>{let o=r[e];if(Object.keys(n).length>0&&EF(o))return bF(o,t);if(s||pY(o,{profile:e,logger:t.logger}))return EY(e,r,t,n);if(EF(o))return bF(o,t);if(wY(o))return AY(o,t);if(bY(o))return _Y(t,e);if(xY(o))return await CY(e,o,t);throw new gu.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:t.logger})},PY=(e={})=>async({callerClientConfig:r}={})=>{let t={...e,parentClientConfig:{...r,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await Rw.parseKnownFiles(t);return _F(Rw.getProfileName({profile:e.profile??r?.profile}),n,t)};CF.fromIni=PY});var TF=B(mh=>{"use strict";var Iw=lx(),Ti=Lr(),vY=Os(),wF="AWS_EC2_METADATA_DISABLED",TY=async e=>{let{ENV_CMDS_FULL_URI:r,ENV_CMDS_RELATIVE_URI:t,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>k(Td()));if(process.env[t]||process.env[r]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>k(yx()));return Ti.chain(o(e),n(e))}return process.env[wF]&&process.env[wF]!=="false"?async()=>{throw new Ti.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},AF=!1,RY=(e={})=>Ti.memoize(Ti.chain(async()=>{if(e.profile??process.env[vY.ENV_PROFILE])throw process.env[Iw.ENV_KEY]&&process.env[Iw.ENV_SECRET]&&(AF||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),AF=!0)),new Ti.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),Iw.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:t,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!r&&!t&&!n&&!s&&!o)throw new Ti.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>k(Hx()));return a(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>k(xF()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>k(Aw()));return r(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>k(vw()));return r(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await TY(e))()),async()=>{throw new Ti.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),vF,PF),PF=e=>e?.expiration!==void 0,vF=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;mh.credentialsTreatedAsExpired=vF;mh.credentialsWillNeedRefresh=PF;mh.defaultProvider=RY});var WF=B((iwe,KF)=>{"use strict";var fh=Object.defineProperty,IY=Object.getOwnPropertyDescriptor,kY=Object.getOwnPropertyNames,OY=Object.prototype.hasOwnProperty,He=(e,r)=>fh(e,"name",{value:r,configurable:!0}),NY=(e,r)=>{for(var t in r)fh(e,t,{get:r[t],enumerable:!0})},BY=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of kY(r))!OY.call(e,s)&&s!==t&&fh(e,s,{get:()=>r[s],enumerable:!(n=IY(r,s))||n.enumerable});return e},DY=e=>BY(fh({},"__esModule",{value:!0}),e),IF={};NY(IF,{NODE_DISABLE_MULTIREGION_ACCESS_POINT_CONFIG_OPTIONS:()=>MY,NODE_DISABLE_MULTIREGION_ACCESS_POINT_ENV_NAME:()=>kF,NODE_DISABLE_MULTIREGION_ACCESS_POINT_INI_NAME:()=>OF,NODE_USE_ARN_REGION_CONFIG_OPTIONS:()=>LY,NODE_USE_ARN_REGION_ENV_NAME:()=>NF,NODE_USE_ARN_REGION_INI_NAME:()=>BF,bucketEndpointMiddleware:()=>$F,bucketEndpointMiddlewareOptions:()=>VF,bucketHostname:()=>Ow,getArnResources:()=>HF,getBucketEndpointPlugin:()=>oJ,getSuffixForArnEndpoint:()=>FF,resolveBucketEndpointConfig:()=>GF,validateAccountId:()=>qF,validateDNSHostLabel:()=>wc,validateNoDualstack:()=>JY,validateNoFIPS:()=>jF,validateOutpostService:()=>zF,validatePartition:()=>UF,validateRegion:()=>XY});KF.exports=DY(IF);var Do=vf(),kF="AWS_S3_DISABLE_MULTIREGION_ACCESS_POINTS",OF="s3_disable_multiregion_access_points",MY={environmentVariableSelector:He(e=>(0,Do.booleanSelector)(e,kF,Do.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:He(e=>(0,Do.booleanSelector)(e,OF,Do.SelectorType.CONFIG),"configFileSelector"),default:!1},NF="AWS_S3_USE_ARN_REGION",BF="s3_use_arn_region",LY={environmentVariableSelector:He(e=>(0,Do.booleanSelector)(e,NF,Do.SelectorType.ENV),"environmentVariableSelector"),configFileSelector:He(e=>(0,Do.booleanSelector)(e,BF,Do.SelectorType.CONFIG),"configFileSelector"),default:void 0},RF=Z_(),FY=Xe(),zY=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,UY=/(\d+\.){3}\d+/,qY=/\.\./,DF=/\./,HY=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,MF=/^s3(-external-1)?\.amazonaws\.com$/,kw="amazonaws.com",jY=He(e=>typeof e.bucketName=="string","isBucketNameOptions"),$Y=He(e=>zY.test(e)&&!UY.test(e)&&!qY.test(e),"isDnsCompatibleBucketName"),LF=He(e=>{let r=e.match(HY);return[r[4],e.replace(new RegExp(`^${r[0]}`),"")]},"getRegionalSuffix"),VY=He(e=>MF.test(e)?["us-east-1",kw]:LF(e),"getSuffix"),FF=He(e=>MF.test(e)?[e.replace(`.${kw}`,""),kw]:LF(e),"getSuffixForArnEndpoint"),GY=He(e=>{if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},"validateArnEndpointOptions"),KY=He(e=>{if(e!=="s3"&&e!=="s3-outposts"&&e!=="s3-object-lambda")throw new Error("Expect 's3' or 's3-outposts' or 's3-object-lambda' in ARN service component")},"validateService"),WY=He(e=>{if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},"validateS3Service"),zF=He(e=>{if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},"validateOutpostService"),UF=He((e,r)=>{if(e!==r.clientPartition)throw new Error(`Partition in ARN is incompatible, got "${e}" but expected "${r.clientPartition}"`)},"validatePartition"),XY=He((e,r)=>{},"validateRegion"),Nw=He(e=>{if(["s3-external-1","aws-global"].includes(e))throw new Error(`Client region ${e} is not regional`)},"validateRegionalClient"),qF=He(e=>{if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},"validateAccountId"),wc=He((e,r={tlsCompatible:!0})=>{if(e.length>=64||!/^[a-z0-9][a-z0-9.-]*[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||r?.tlsCompatible&&DF.test(e))throw new Error(`Invalid DNS label ${e}`)},"validateDNSHostLabel"),YY=He(e=>{if(e.isCustomEndpoint){if(e.dualstackEndpoint)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported with custom endpoint")}},"validateCustomEndpoint"),HF=He(e=>{let r=e.includes(":")?":":"/",[t,...n]=e.split(r);if(t==="accesspoint"){if(n.length!==1||n[0]==="")throw new Error(`Access Point ARN should have one resource accesspoint${r}{accesspointname}`);return{accesspointName:n[0]}}else if(t==="outpost"){if(!n[0]||n[1]!=="accesspoint"||!n[2]||n.length!==3)throw new Error(`Outpost ARN should have resource outpost${r}{outpostId}${r}accesspoint${r}{accesspointName}`);let[s,o,a]=n;return{outpostId:s,accesspointName:a}}else throw new Error(`ARN resource should begin with 'accesspoint${r}' or 'outpost${r}'`)},"getArnResources"),JY=He(e=>{},"validateNoDualstack"),jF=He(e=>{if(e)throw new Error("FIPS region is not supported with Outpost.")},"validateNoFIPS"),QY=He(e=>{try{e.split(".").forEach(r=>{wc(r)})}catch{throw new Error(`"${e}" is not a DNS compatible name.`)}},"validateMrapAlias"),Ow=He(e=>(YY(e),jY(e)?ZY(e):eJ(e)),"bucketHostname"),ZY=He(({accelerateEndpoint:e=!1,clientRegion:r,baseHostname:t,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,pathStyleEndpoint:a=!1,tlsCompatible:c=!0,isCustomEndpoint:l=!1})=>{let[d,f]=l?[r,t]:VY(t);return a||!$Y(n)||c&&DF.test(n)?{bucketEndpoint:!1,hostname:s?`s3.dualstack.${d}.${f}`:t}:(e?t=`s3-accelerate${s?".dualstack":""}.${f}`:s&&(t=`s3.dualstack.${d}.${f}`),{bucketEndpoint:!0,hostname:`${n}.${t}`})},"getEndpointFromBucketName"),eJ=He(e=>{let{isCustomEndpoint:r,baseHostname:t,clientRegion:n}=e,s=r?t:FF(t)[1],{pathStyleEndpoint:o,accelerateEndpoint:a=!1,fipsEndpoint:c=!1,tlsCompatible:l=!0,bucketName:d,clientPartition:f="aws"}=e;GY({pathStyleEndpoint:o,accelerateEndpoint:a,tlsCompatible:l});let{service:g,partition:y,accountId:h,region:_,resource:R}=d;KY(g),UF(y,{clientPartition:f}),qF(h);let{accesspointName:I,outpostId:N}=HF(R);return g==="s3-object-lambda"?tJ({...e,tlsCompatible:l,bucketName:d,accesspointName:I,hostnameSuffix:s}):_===""?rJ({...e,clientRegion:n,mrapAlias:I,hostnameSuffix:s}):N?nJ({...e,clientRegion:n,outpostId:N,accesspointName:I,hostnameSuffix:s}):sJ({...e,clientRegion:n,accesspointName:I,hostnameSuffix:s})},"getEndpointFromArn"),tJ=He(({dualstackEndpoint:e=!1,fipsEndpoint:r=!1,tlsCompatible:t=!0,useArnRegion:n,clientRegion:s,clientSigningRegion:o=s,accesspointName:a,bucketName:c,hostnameSuffix:l})=>{let{accountId:d,region:f,service:g}=c;Nw(s);let y=`${a}-${d}`;wc(y,{tlsCompatible:t});let h=n?f:s,_=n?f:o;return{bucketEndpoint:!0,hostname:`${y}.${g}${r?"-fips":""}.${h}.${l}`,signingRegion:_,signingService:g}},"getEndpointFromObjectLambdaArn"),rJ=He(({disableMultiregionAccessPoints:e,dualstackEndpoint:r=!1,isCustomEndpoint:t,mrapAlias:n,hostnameSuffix:s})=>{if(e===!0)throw new Error("SDK is attempting to use a MRAP ARN. Please enable to feature.");return QY(n),{bucketEndpoint:!0,hostname:`${n}${t?"":".accesspoint.s3-global"}.${s}`,signingRegion:"*"}},"getEndpointFromMRAPArn"),nJ=He(({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,outpostId:s,dualstackEndpoint:o=!1,fipsEndpoint:a=!1,tlsCompatible:c=!0,accesspointName:l,isCustomEndpoint:d,hostnameSuffix:f})=>{Nw(r);let g=`${l}-${n.accountId}`;wc(g,{tlsCompatible:c});let y=e?n.region:r,h=e?n.region:t;return zF(n.service),wc(s,{tlsCompatible:c}),jF(a),{bucketEndpoint:!0,hostname:`${`${g}.${s}`}${d?"":`.s3-outposts.${y}`}.${f}`,signingRegion:h,signingService:"s3-outposts"}},"getEndpointFromOutpostArn"),sJ=He(({useArnRegion:e,clientRegion:r,clientSigningRegion:t=r,bucketName:n,dualstackEndpoint:s=!1,fipsEndpoint:o=!1,tlsCompatible:a=!0,accesspointName:c,isCustomEndpoint:l,hostnameSuffix:d})=>{Nw(r);let f=`${c}-${n.accountId}`;wc(f,{tlsCompatible:a});let g=e?n.region:r,y=e?n.region:t;return WY(n.service),{bucketEndpoint:!0,hostname:`${f}${l?"":`.s3-accesspoint${o?"-fips":""}${s?".dualstack":""}.${g}`}.${d}`,signingRegion:y}},"getEndpointFromAccessPointArn"),$F=He(e=>(r,t)=>async n=>{let{Bucket:s}=n.input,o=e.bucketEndpoint,a=n.request;if(FY.HttpRequest.isInstance(a)){if(e.bucketEndpoint)a.hostname=s;else if((0,RF.validate)(s)){let c=(0,RF.parse)(s),l=await e.region(),d=await e.useDualstackEndpoint(),f=await e.useFipsEndpoint(),{partition:g,signingRegion:y=l}=await e.regionInfoProvider(l,{useDualstackEndpoint:d,useFipsEndpoint:f})||{},h=await e.useArnRegion(),{hostname:_,bucketEndpoint:R,signingRegion:I,signingService:N}=Ow({bucketName:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:d,fipsEndpoint:f,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",useArnRegion:h,clientPartition:g,clientSigningRegion:y,clientRegion:l,isCustomEndpoint:e.isCustomEndpoint,disableMultiregionAccessPoints:await e.disableMultiregionAccessPoints()});I&&I!==y&&(t.signing_region=I),N&&N!=="s3"&&(t.signing_service=N),a.hostname=_,o=R}else{let c=await e.region(),l=await e.useDualstackEndpoint(),d=await e.useFipsEndpoint(),{hostname:f,bucketEndpoint:g}=Ow({bucketName:s,clientRegion:c,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:l,fipsEndpoint:d,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint});a.hostname=f,o=g}o&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),a.path===""&&(a.path="/"))}return r({...n,request:a})},"bucketEndpointMiddleware"),VF={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},oJ=He(e=>({applyToStack:He(r=>{r.addRelativeTo($F(e),VF)},"applyToStack")}),"getBucketEndpointPlugin");function GF(e){let{bucketEndpoint:r=!1,forcePathStyle:t=!1,useAccelerateEndpoint:n=!1,useArnRegion:s,disableMultiregionAccessPoints:o=!1}=e;return Object.assign(e,{bucketEndpoint:r,forcePathStyle:t,useAccelerateEndpoint:n,useArnRegion:typeof s=="function"?s:()=>Promise.resolve(s),disableMultiregionAccessPoints:typeof o=="function"?o:()=>Promise.resolve(o)})}He(GF,"resolveBucketEndpointConfig")});var ZF=B(Lo=>{"use strict";var JF=pf(),Ri=am(),Ac=class e{bytes;constructor(r){if(this.bytes=r,r.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(r){if(r>9223372036854776e3||r<-9223372036854776e3)throw new Error(`${r} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(r));n>-1&&s>0;n--,s/=256)t[n]=s;return r<0&&XF(t),new e(t)}valueOf(){let r=this.bytes.slice(0),t=r[0]&128;return t&&XF(r),parseInt(Ri.toHex(r),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function XF(e){for(let r=0;r<8;r++)e[r]^=255;for(let r=7;r>-1&&(e[r]++,e[r]===0);r--);}var gh=class{toUtf8;fromUtf8;constructor(r,t){this.toUtf8=r,this.fromUtf8=t}format(r){let t=[];for(let o of Object.keys(r)){let a=this.fromUtf8(o);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(r[o]))}let n=new Uint8Array(t.reduce((o,a)=>o+a.byteLength,0)),s=0;for(let o of t)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(r){switch(r.type){case"boolean":return Uint8Array.from([r.value?0:1]);case"byte":return Uint8Array.from([2,r.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,r.value,!1),new Uint8Array(t.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,r.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(r.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+r.value.byteLength));o.setUint8(0,6),o.setUint16(1,r.value.byteLength,!1);let a=new Uint8Array(o.buffer);return a.set(r.value,3),a;case"string":let c=this.fromUtf8(r.value),l=new DataView(new ArrayBuffer(3+c.byteLength));l.setUint8(0,7),l.setUint16(1,c.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(c,3),d;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Ac.fromNumber(r.value.valueOf()).bytes,1),f;case"uuid":if(!gJ.test(r.value))throw new Error(`Invalid UUID received: ${r.value}`);let g=new Uint8Array(17);return g[0]=9,g.set(Ri.fromHex(r.value.replace(/\-/g,"")),1),g}}parse(r){let t={},n=0;for(;n<r.byteLength;){let s=r.getUint8(n++),o=this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,s));switch(n+=s,r.getUint8(n++)){case 0:t[o]={type:YF,value:!0};break;case 1:t[o]={type:YF,value:!1};break;case 2:t[o]={type:iJ,value:r.getInt8(n++)};break;case 3:t[o]={type:aJ,value:r.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:cJ,value:r.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:lJ,value:new Ac(new Uint8Array(r.buffer,r.byteOffset+n,8))},n+=8;break;case 6:let a=r.getUint16(n,!1);n+=2,t[o]={type:dJ,value:new Uint8Array(r.buffer,r.byteOffset+n,a)},n+=a;break;case 7:let c=r.getUint16(n,!1);n+=2,t[o]={type:uJ,value:this.toUtf8(new Uint8Array(r.buffer,r.byteOffset+n,c))},n+=c;break;case 8:t[o]={type:mJ,value:new Date(new Ac(new Uint8Array(r.buffer,r.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let l=new Uint8Array(r.buffer,r.byteOffset+n,16);n+=16,t[o]={type:fJ,value:`${Ri.toHex(l.subarray(0,4))}-${Ri.toHex(l.subarray(4,6))}-${Ri.toHex(l.subarray(6,8))}-${Ri.toHex(l.subarray(8,10))}-${Ri.toHex(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},YF="boolean",iJ="byte",aJ="short",cJ="integer",lJ="long",dJ="binary",uJ="string",mJ="timestamp",fJ="uuid",gJ=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,QF=4,Mo=QF*2,Ii=4,hJ=Mo+Ii*2;function pJ({byteLength:e,byteOffset:r,buffer:t}){if(e<hJ)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(t,r,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(QF,!1),a=n.getUint32(Mo,!1),c=n.getUint32(e-Ii,!1),l=new JF.Crc32().update(new Uint8Array(t,r,Mo));if(a!==l.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(t,r+Mo,e-(Mo+Ii))),c!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(t,r+Mo+Ii,o),body:new Uint8Array(t,r+Mo+Ii+o,s-o-(Mo+Ii+Ii))}}var Bw=class{headerMarshaller;messageBuffer;isEndOfStream;constructor(r,t){this.headerMarshaller=new gh(r,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(r){this.messageBuffer.push(this.decode(r))}endOfStream(){this.isEndOfStream=!0}getMessage(){let r=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return r},isEndOfStream(){return t}}}getAvailableMessages(){let r=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return r},isEndOfStream(){return t}}}encode({headers:r,body:t}){let n=this.headerMarshaller.format(r),s=n.byteLength+t.byteLength+16,o=new Uint8Array(s),a=new DataView(o.buffer,o.byteOffset,o.byteLength),c=new JF.Crc32;return a.setUint32(0,s,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,c.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(t,n.byteLength+12),a.setUint32(s-4,c.update(o.subarray(8,s-4)).digest(),!1),o}decode(r){let{headers:t,body:n}=pJ(r);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(r){return this.headerMarshaller.format(r)}},Dw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.decoder.decode(r)}},Mw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream)yield this.options.encoder.encode(r);this.options.includeEndFrame&&(yield new Uint8Array(0))}},Lw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.messageStream){let t=await this.options.deserializer(r);t!==void 0&&(yield t)}}},Fw=class{options;constructor(r){this.options=r}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let r of this.options.inputStream)yield this.options.serializer(r)}};Lo.EventStreamCodec=Bw;Lo.HeaderMarshaller=gh;Lo.Int64=Ac;Lo.MessageDecoderStream=Dw;Lo.MessageEncoderStream=Mw;Lo.SmithyMessageDecoderStream=Lw;Lo.SmithyMessageEncoderStream=Fw});var ez=B(zw=>{"use strict";var hu=ZF();function yJ(e){let r=0,t=0,n=null,s=null,o=c=>{if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,t=4,n=new Uint8Array(c),new DataView(n.buffer).setUint32(0,c,!1)},a=async function*(){let c=e[Symbol.asyncIterator]();for(;;){let{value:l,done:d}=await c.next();if(d){if(r)if(r===t)yield n;else throw new Error("Truncated event message received.");else return;return}let f=l.length,g=0;for(;g<f;){if(!n){let h=f-g;s||(s=new Uint8Array(4));let _=Math.min(4-t,h);if(s.set(l.slice(g,g+_),t),t+=_,g+=_,t<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let y=Math.min(r-t,f-g);n.set(l.slice(g,g+y),t),t+=y,g+=y,r&&r===t&&(yield n,n=null,r=0,t=0)}}};return{[Symbol.asyncIterator]:a}}function SJ(e,r){return async function(t){let{value:n}=t.headers[":message-type"];if(n==="error"){let s=new Error(t.headers[":error-message"].value||"UnknownError");throw s.name=t.headers[":error-code"].value,s}else if(n==="exception"){let s=t.headers[":exception-type"].value,o={[s]:t},a=await e(o);if(a.$unknown){let c=new Error(r(t.body));throw c.name=s,c}throw a[s]}else if(n==="event"){let s={[t.headers[":event-type"].value]:t},o=await e(s);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}var hh=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:r,utf8Decoder:t}){this.eventStreamCodec=new hu.EventStreamCodec(r,t),this.utfEncoder=r}deserialize(r,t){let n=yJ(r);return new hu.SmithyMessageDecoderStream({messageStream:new hu.MessageDecoderStream({inputStream:n,decoder:this.eventStreamCodec}),deserializer:SJ(t,this.utfEncoder)})}serialize(r,t){return new hu.MessageEncoderStream({messageStream:new hu.SmithyMessageEncoderStream({inputStream:r,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},EJ=e=>new hh(e);zw.EventStreamMarshaller=hh;zw.eventStreamSerdeProvider=EJ});var tz=B(Uw=>{"use strict";var bJ=ez(),_J=require("stream");async function*CJ(e){let r=!1,t=!1,n=new Array;for(e.on("error",s=>{if(r||(r=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{r=!0});!t;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),t=r&&n.length===0}}var ph=class{universalMarshaller;constructor({utf8Encoder:r,utf8Decoder:t}){this.universalMarshaller=new bJ.EventStreamMarshaller({utf8Decoder:t,utf8Encoder:r})}deserialize(r,t){let n=typeof r[Symbol.asyncIterator]=="function"?r:CJ(r);return this.universalMarshaller.deserialize(n,t)}serialize(r,t){return _J.Readable.from(this.universalMarshaller.serialize(r,t))}},xJ=e=>new ph(e);Uw.EventStreamMarshaller=ph;Uw.eventStreamSerdeProvider=xJ});var rz=B(qw=>{"use strict";var wJ=require("fs"),AJ=Xt(),PJ=require("stream"),yh=class extends PJ.Writable{hash;constructor(r,t){super(t),this.hash=r}_write(r,t,n){try{this.hash.update(AJ.toUint8Array(r))}catch(s){return n(s)}n()}},vJ=(e,r)=>new Promise((t,n)=>{if(!TJ(r)){n(new Error("Unable to calculate hash for non-file streams."));return}let s=wJ.createReadStream(r.path,{start:r.start,end:r.end}),o=new e,a=new yh(o);s.pipe(a),s.on("error",c=>{a.end(),n(c)}),a.on("error",n),a.on("finish",function(){o.digest().then(t).catch(n)})}),TJ=e=>typeof e.path=="string",RJ=(e,r)=>{if(r.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let t=new e,n=new yh(t);return r.pipe(n),new Promise((s,o)=>{r.on("error",a=>{n.end(),o(a)}),n.on("error",o),n.on("finish",()=>{t.digest().then(s).catch(o)})})};qw.fileStreamHasher=vJ;qw.readableStreamHasher=RJ});var az=B(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.getRuntimeConfig=void 0;var nz=(Gt(),Re(fn)),IJ=RC(),kJ=Ie(),OJ=ho(),sz=gr(),oz=Zo(),iz=Xt(),NJ=cx(),BJ=ax(),DJ=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??sz.fromBase64,base64Encoder:e?.base64Encoder??sz.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??BJ.defaultEndpointResolver,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??oz.getAwsChunkedEncodingStream,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??NJ.defaultS3HttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4"),signer:new nz.AwsSdkSigV4Signer},{schemeId:"aws.auth#sigv4a",identityProvider:r=>r.getIdentityProvider("aws.auth#sigv4a"),signer:new nz.AwsSdkSigV4ASigner}],logger:e?.logger??new kJ.NoOpLogger,sdkStreamMixin:e?.sdkStreamMixin??oz.sdkStreamMixin,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??IJ.SignatureV4MultiRegion,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??OJ.parseUrl,useArnRegion:e?.useArnRegion??void 0,utf8Decoder:e?.utf8Decoder??iz.fromUtf8,utf8Encoder:e?.utf8Encoder??iz.toUtf8});Sh.getRuntimeConfig=DJ});var mz=B(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.getRuntimeConfig=void 0;var MJ=(Jn(),Re(Yn)),LJ=MJ.__importDefault(VD()),Hw=(Gt(),Re(fn)),FJ=TF(),zJ=WF(),cz=j_(),UJ=Of(),lz=Id(),Eh=rs(),qJ=tz(),jw=kd(),HJ=rz(),dz=Ds(),xn=Eo(),uz=Qo(),jJ=Od(),$J=Qa(),VJ=az(),GJ=Ie(),KJ=Bd(),WJ=Ie(),XJ=e=>{(0,WJ.emitWarningIfUnsupportedVersion)(process.version);let r=(0,KJ.resolveDefaultsModeConfig)(e),t=()=>r().then(GJ.loadConfigsForDefaultMode),n=(0,VJ.getRuntimeConfig)(e);(0,Hw.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:r,authSchemePreference:e?.authSchemePreference??(0,xn.loadConfig)(Hw.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??jJ.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??FJ.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,lz.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:LJ.default.version}),disableS3ExpressSessionAuth:e?.disableS3ExpressSessionAuth??(0,xn.loadConfig)(UJ.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS,s),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??qJ.eventStreamSerdeProvider,maxAttempts:e?.maxAttempts??(0,xn.loadConfig)(dz.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),md5:e?.md5??jw.Hash.bind(null,"md5"),region:e?.region??(0,xn.loadConfig)(Eh.NODE_REGION_CONFIG_OPTIONS,{...Eh.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestChecksumCalculation:e?.requestChecksumCalculation??(0,xn.loadConfig)(cz.NODE_REQUEST_CHECKSUM_CALCULATION_CONFIG_OPTIONS,s),requestHandler:uz.NodeHttpHandler.create(e?.requestHandler??t),responseChecksumValidation:e?.responseChecksumValidation??(0,xn.loadConfig)(cz.NODE_RESPONSE_CHECKSUM_VALIDATION_CONFIG_OPTIONS,s),retryMode:e?.retryMode??(0,xn.loadConfig)({...dz.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||$J.DEFAULT_RETRY_MODE},e),sha1:e?.sha1??jw.Hash.bind(null,"sha1"),sha256:e?.sha256??jw.Hash.bind(null,"sha256"),sigv4aSigningRegionSet:e?.sigv4aSigningRegionSet??(0,xn.loadConfig)(Hw.NODE_SIGV4A_CONFIG_OPTIONS,s),streamCollector:e?.streamCollector??uz.streamCollector,streamHasher:e?.streamHasher??HJ.readableStreamHasher,useArnRegion:e?.useArnRegion??(0,xn.loadConfig)(zJ.NODE_USE_ARN_REGION_CONFIG_OPTIONS,s),useDualstackEndpoint:e?.useDualstackEndpoint??(0,xn.loadConfig)(Eh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,xn.loadConfig)(Eh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,xn.loadConfig)(lz.NODE_APP_ID_CONFIG_OPTIONS,s)}};bh.getRuntimeConfig=XJ});var pz=B((fwe,hz)=>{"use strict";var Ch=Object.defineProperty,YJ=Object.getOwnPropertyDescriptor,JJ=Object.getOwnPropertyNames,QJ=Object.prototype.hasOwnProperty,_h=(e,r)=>Ch(e,"name",{value:r,configurable:!0}),ZJ=(e,r)=>{for(var t in r)Ch(e,t,{get:r[t],enumerable:!0})},eQ=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of JJ(r))!QJ.call(e,s)&&s!==t&&Ch(e,s,{get:()=>r[s],enumerable:!(n=YJ(r,s))||n.enumerable});return e},tQ=e=>eQ(Ch({},"__esModule",{value:!0}),e),fz={};ZJ(fz,{getSsecPlugin:()=>rQ,isValidBase64EncodedSSECustomerKey:()=>Vw,ssecMiddleware:()=>$w,ssecMiddlewareOptions:()=>gz});hz.exports=tQ(fz);function $w(e){return r=>async t=>{let n={...t.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let a=n[o.target];if(a){let c;typeof a=="string"?Vw(a,e)?c=e.base64Decoder(a):(c=e.utf8Decoder(a),n[o.target]=e.base64Encoder(c)):(c=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a),n[o.target]=e.base64Encoder(c));let l=new e.md5;l.update(c),n[o.hash]=e.base64Encoder(await l.digest())}}return r({...t,input:n})}}_h($w,"ssecMiddleware");var gz={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},rQ=_h(e=>({applyToStack:_h(r=>{r.add($w(e),gz)},"applyToStack")}),"getSsecPlugin");function Vw(e,r){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return r.base64Decoder(e).length===32}catch{return!1}}_h(Vw,"isValidBase64EncodedSSECustomerKey")});var bz=B((gwe,Ez)=>{"use strict";var xh=Object.defineProperty,nQ=Object.getOwnPropertyDescriptor,sQ=Object.getOwnPropertyNames,oQ=Object.prototype.hasOwnProperty,Gw=(e,r)=>xh(e,"name",{value:r,configurable:!0}),iQ=(e,r)=>{for(var t in r)xh(e,t,{get:r[t],enumerable:!0})},aQ=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of sQ(r))!oQ.call(e,s)&&s!==t&&xh(e,s,{get:()=>r[s],enumerable:!(n=nQ(r,s))||n.enumerable});return e},cQ=e=>aQ(xh({},"__esModule",{value:!0}),e),yz={};iQ(yz,{getLocationConstraintPlugin:()=>lQ,locationConstraintMiddleware:()=>Kw,locationConstraintMiddlewareOptions:()=>Sz});Ez.exports=cQ(yz);function Kw(e){return r=>async t=>{let{CreateBucketConfiguration:n}=t.input,s=await e.region();return!n?.LocationConstraint&&!n?.Location&&(t={...t,input:{...t.input,CreateBucketConfiguration:s==="us-east-1"?void 0:{LocationConstraint:s}}}),r(t)}}Gw(Kw,"locationConstraintMiddleware");var Sz={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},lQ=Gw(e=>({applyToStack:Gw(r=>{r.add(Kw(e),Sz)},"applyToStack")}),"getLocationConstraintPlugin")});var wz=B(Ur=>{"use strict";var dQ=e=>new Promise(r=>setTimeout(r,e*1e3)),xz={minDelay:2,maxDelay:120};Ur.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(Ur.WaiterState||(Ur.WaiterState={}));var uQ=e=>{if(e.state===Ur.WaiterState.ABORTED){let r=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw r.name="AbortError",r}else if(e.state===Ur.WaiterState.TIMEOUT){let r=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw r.name="TimeoutError",r}else if(e.state!==Ur.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},mQ=(e,r,t,n)=>{if(n>t)return r;let s=e*2**(n-1);return fQ(e,s)},fQ=(e,r)=>e+Math.random()*(r-e),gQ=async({minDelay:e,maxDelay:r,maxWaitTime:t,abortController:n,client:s,abortSignal:o},a,c)=>{let l={},{state:d,reason:f}=await c(s,a);if(f){let _=_z(f);l[_]|=0,l[_]+=1}if(d!==Ur.WaiterState.RETRY)return{state:d,reason:f,observedResponses:l};let g=1,y=Date.now()+t*1e3,h=Math.log(r/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let N="AbortController signal aborted.";return l[N]|=0,l[N]+=1,{state:Ur.WaiterState.ABORTED,observedResponses:l}}let _=mQ(e,r,h,g);if(Date.now()+_*1e3>y)return{state:Ur.WaiterState.TIMEOUT,observedResponses:l};await dQ(_);let{state:R,reason:I}=await c(s,a);if(I){let N=_z(I);l[N]|=0,l[N]+=1}if(R!==Ur.WaiterState.RETRY)return{state:R,reason:I,observedResponses:l};g+=1}},_z=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),hQ=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},Cz=e=>{let r,t=new Promise(n=>{r=()=>n({state:Ur.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",r):e.onabort=r});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",r)},aborted:t}},pQ=async(e,r,t)=>{let n={...xz,...e};hQ(n);let s=[gQ(n,r,t)],o=[];if(e.abortSignal){let{aborted:a,clearListener:c}=Cz(e.abortSignal);o.push(c),s.push(a)}if(e.abortController?.signal){let{aborted:a,clearListener:c}=Cz(e.abortController.signal);o.push(c),s.push(a)}return Promise.race(s).then(a=>{for(let c of o)c();return a})};Ur.checkExceptions=uQ;Ur.createWaiter=pQ;Ur.waiterServiceDefaults=xz});var I2=B(S=>{"use strict";var yQ=oP(),et=j_(),Az=ud(),SQ=md(),EQ=fd(),ee=Of(),Pz=Ja(),bQ=rs(),z=(Mr(),Re(ai)),_Q=bN(),CQ=pd(),q=Bs(),vz=Ds(),i=Ie(),Tz=cx(),H=eo(),fe=(Gt(),Re(fn)),E=id(),v0=Xe(),xQ=Am(),wQ=mz(),Rz=Dd(),jn=pz(),AQ=bz(),Mt=wz(),PQ=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),j={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},dr=class e extends i.ServiceException{constructor(r){super(r),Object.setPrototypeOf(this,e.prototype)}},vQ={requester:"requester"},TQ={requester:"requester"},up=class e extends dr{name="NoSuchUpload";$fault="client";constructor(r){super({name:"NoSuchUpload",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},RQ={Enabled:"Enabled",Suspended:"Suspended"},IQ={AmazonCustomerByEmail:"AmazonCustomerByEmail",CanonicalUser:"CanonicalUser",Group:"Group"},kQ={FULL_CONTROL:"FULL_CONTROL",READ:"READ",READ_ACP:"READ_ACP",WRITE:"WRITE",WRITE_ACP:"WRITE_ACP"},OQ={Destination:"Destination"},NQ={COMPOSITE:"COMPOSITE",FULL_OBJECT:"FULL_OBJECT"},BQ={AES256:"AES256",aws_fsx:"aws:fsx",aws_kms:"aws:kms",aws_kms_dsse:"aws:kms:dsse"},DQ={authenticated_read:"authenticated-read",aws_exec_read:"aws-exec-read",bucket_owner_full_control:"bucket-owner-full-control",bucket_owner_read:"bucket-owner-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},MQ={CRC32:"CRC32",CRC32C:"CRC32C",CRC64NVME:"CRC64NVME",SHA1:"SHA1",SHA256:"SHA256"},LQ={COPY:"COPY",REPLACE:"REPLACE"},FQ={OFF:"OFF",ON:"ON"},zQ={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},UQ={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},qQ={COPY:"COPY",REPLACE:"REPLACE"},mp=class e extends dr{name="ObjectNotInActiveTierError";$fault="client";constructor(r){super({name:"ObjectNotInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},fp=class e extends dr{name="BucketAlreadyExists";$fault="client";constructor(r){super({name:"BucketAlreadyExists",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},gp=class e extends dr{name="BucketAlreadyOwnedByYou";$fault="client";constructor(r){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},HQ={authenticated_read:"authenticated-read",private:"private",public_read:"public-read",public_read_write:"public-read-write"},jQ={SingleAvailabilityZone:"SingleAvailabilityZone",SingleLocalZone:"SingleLocalZone"},$Q={Directory:"Directory"},VQ={AvailabilityZone:"AvailabilityZone",LocalZone:"LocalZone"},GQ={EU:"EU",af_south_1:"af-south-1",ap_east_1:"ap-east-1",ap_northeast_1:"ap-northeast-1",ap_northeast_2:"ap-northeast-2",ap_northeast_3:"ap-northeast-3",ap_south_1:"ap-south-1",ap_south_2:"ap-south-2",ap_southeast_1:"ap-southeast-1",ap_southeast_2:"ap-southeast-2",ap_southeast_3:"ap-southeast-3",ap_southeast_4:"ap-southeast-4",ap_southeast_5:"ap-southeast-5",ca_central_1:"ca-central-1",cn_north_1:"cn-north-1",cn_northwest_1:"cn-northwest-1",eu_central_1:"eu-central-1",eu_central_2:"eu-central-2",eu_north_1:"eu-north-1",eu_south_1:"eu-south-1",eu_south_2:"eu-south-2",eu_west_1:"eu-west-1",eu_west_2:"eu-west-2",eu_west_3:"eu-west-3",il_central_1:"il-central-1",me_central_1:"me-central-1",me_south_1:"me-south-1",sa_east_1:"sa-east-1",us_east_2:"us-east-2",us_gov_east_1:"us-gov-east-1",us_gov_west_1:"us-gov-west-1",us_west_1:"us-west-1",us_west_2:"us-west-2"},KQ={BucketOwnerEnforced:"BucketOwnerEnforced",BucketOwnerPreferred:"BucketOwnerPreferred",ObjectWriter:"ObjectWriter"},WQ={DISABLED:"DISABLED",ENABLED:"ENABLED"},XQ={AES256:"AES256",aws_kms:"aws:kms"},YQ={DISABLED:"DISABLED",ENABLED:"ENABLED"},JQ={ReadOnly:"ReadOnly",ReadWrite:"ReadWrite"},hp=class e extends dr{name="NoSuchBucket";$fault="client";constructor(r){super({name:"NoSuchBucket",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}};S.AnalyticsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(S.AnalyticsFilter||(S.AnalyticsFilter={}));var QQ={CSV:"CSV"},ZQ={V_1:"V_1"},eZ={Disabled:"Disabled",Enabled:"Enabled"},tZ={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},rZ={CSV:"CSV",ORC:"ORC",Parquet:"Parquet"},nZ={All:"All",Current:"Current"},sZ={BucketKeyStatus:"BucketKeyStatus",ChecksumAlgorithm:"ChecksumAlgorithm",ETag:"ETag",EncryptionStatus:"EncryptionStatus",IntelligentTieringAccessTier:"IntelligentTieringAccessTier",IsMultipartUploaded:"IsMultipartUploaded",LastModifiedDate:"LastModifiedDate",ObjectAccessControlList:"ObjectAccessControlList",ObjectLockLegalHoldStatus:"ObjectLockLegalHoldStatus",ObjectLockMode:"ObjectLockMode",ObjectLockRetainUntilDate:"ObjectLockRetainUntilDate",ObjectOwner:"ObjectOwner",ReplicationStatus:"ReplicationStatus",Size:"Size",StorageClass:"StorageClass"},oZ={Daily:"Daily",Weekly:"Weekly"},iZ={DEEP_ARCHIVE:"DEEP_ARCHIVE",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",STANDARD_IA:"STANDARD_IA"},aZ={Disabled:"Disabled",Enabled:"Enabled"},cZ={all_storage_classes_128K:"all_storage_classes_128K",varies_by_storage_class:"varies_by_storage_class"},lZ={FULL_CONTROL:"FULL_CONTROL",READ:"READ",WRITE:"WRITE"},dZ={DeliveryTime:"DeliveryTime",EventTime:"EventTime"},uZ={aws:"aws",customer:"customer"};S.MetricsFilter=void 0;(function(e){e.visit=(r,t)=>r.Prefix!==void 0?t.Prefix(r.Prefix):r.Tag!==void 0?t.Tag(r.Tag):r.AccessPointArn!==void 0?t.AccessPointArn(r.AccessPointArn):r.And!==void 0?t.And(r.And):t._(r.$unknown[0],r.$unknown[1])})(S.MetricsFilter||(S.MetricsFilter={}));var mZ={s3_IntelligentTiering:"s3:IntelligentTiering",s3_LifecycleExpiration_:"s3:LifecycleExpiration:*",s3_LifecycleExpiration_Delete:"s3:LifecycleExpiration:Delete",s3_LifecycleExpiration_DeleteMarkerCreated:"s3:LifecycleExpiration:DeleteMarkerCreated",s3_LifecycleTransition:"s3:LifecycleTransition",s3_ObjectAcl_Put:"s3:ObjectAcl:Put",s3_ObjectCreated_:"s3:ObjectCreated:*",s3_ObjectCreated_CompleteMultipartUpload:"s3:ObjectCreated:CompleteMultipartUpload",s3_ObjectCreated_Copy:"s3:ObjectCreated:Copy",s3_ObjectCreated_Post:"s3:ObjectCreated:Post",s3_ObjectCreated_Put:"s3:ObjectCreated:Put",s3_ObjectRemoved_:"s3:ObjectRemoved:*",s3_ObjectRemoved_Delete:"s3:ObjectRemoved:Delete",s3_ObjectRemoved_DeleteMarkerCreated:"s3:ObjectRemoved:DeleteMarkerCreated",s3_ObjectRestore_:"s3:ObjectRestore:*",s3_ObjectRestore_Completed:"s3:ObjectRestore:Completed",s3_ObjectRestore_Delete:"s3:ObjectRestore:Delete",s3_ObjectRestore_Post:"s3:ObjectRestore:Post",s3_ObjectTagging_:"s3:ObjectTagging:*",s3_ObjectTagging_Delete:"s3:ObjectTagging:Delete",s3_ObjectTagging_Put:"s3:ObjectTagging:Put",s3_ReducedRedundancyLostObject:"s3:ReducedRedundancyLostObject",s3_Replication_:"s3:Replication:*",s3_Replication_OperationFailedReplication:"s3:Replication:OperationFailedReplication",s3_Replication_OperationMissedThreshold:"s3:Replication:OperationMissedThreshold",s3_Replication_OperationNotTracked:"s3:Replication:OperationNotTracked",s3_Replication_OperationReplicatedAfterThreshold:"s3:Replication:OperationReplicatedAfterThreshold"},fZ={prefix:"prefix",suffix:"suffix"},gZ={Disabled:"Disabled",Enabled:"Enabled"},hZ={Disabled:"Disabled",Enabled:"Enabled"},pZ={Disabled:"Disabled",Enabled:"Enabled"},yZ={Disabled:"Disabled",Enabled:"Enabled"},SZ={Disabled:"Disabled",Enabled:"Enabled"},EZ={Disabled:"Disabled",Enabled:"Enabled"},bZ={Disabled:"Disabled",Enabled:"Enabled"},_Z={BucketOwner:"BucketOwner",Requester:"Requester"},CZ={Disabled:"Disabled",Enabled:"Enabled"},xZ={Enabled:"Enabled",Suspended:"Suspended"},wZ={http:"http",https:"https"},AZ={COMPLETE:"COMPLETE",COMPLETED:"COMPLETED",FAILED:"FAILED",PENDING:"PENDING",REPLICA:"REPLICA"},PZ={ENABLED:"ENABLED"},pp=class e extends dr{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(r){super({name:"InvalidObjectState",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype),this.StorageClass=r.StorageClass,this.AccessTier=r.AccessTier}},yp=class e extends dr{name="NoSuchKey";$fault="client";constructor(r){super({name:"NoSuchKey",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},vZ={CHECKSUM:"Checksum",ETAG:"ETag",OBJECT_PARTS:"ObjectParts",OBJECT_SIZE:"ObjectSize",STORAGE_CLASS:"StorageClass"},TZ={Enabled:"Enabled"},RZ={COMPLIANCE:"COMPLIANCE",GOVERNANCE:"GOVERNANCE"},Sp=class e extends dr{name="NotFound";$fault="client";constructor(r){super({name:"NotFound",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},IZ={ARCHIVE_ACCESS:"ARCHIVE_ACCESS",DEEP_ARCHIVE_ACCESS:"DEEP_ARCHIVE_ACCESS"},kZ={url:"url"},sU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),oU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),iU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),aU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),cU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),lU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),dU=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:i.SENSITIVE_STRING},...e.SessionToken&&{SessionToken:i.SENSITIVE_STRING}}),uU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING},...e.Credentials&&{Credentials:dU(e.Credentials)}}),mU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),fU=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:i.SENSITIVE_STRING}}),gU=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:fU(e.ApplyServerSideEncryptionByDefault)}}),lA=e=>({...e,...e.Rules&&{Rules:e.Rules.map(r=>gU(r))}}),hU=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:lA(e.ServerSideEncryptionConfiguration)}}),pU=e=>({...e,...e.KeyId&&{KeyId:i.SENSITIVE_STRING}}),yU=e=>({...e,...e.SSEKMS&&{SSEKMS:pU(e.SSEKMS)}}),SU=e=>({...e,...e.Encryption&&{Encryption:yU(e.Encryption)}}),EU=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:SU(e.S3BucketDestination)}}),RS=e=>({...e,...e.Destination&&{Destination:EU(e.Destination)}}),bU=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:RS(e.InventoryConfiguration)}}),_U=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),CU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),xU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),wU=e=>({...e}),AU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),PU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),vU=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(r=>RS(r))}}),OZ={DEEP_ARCHIVE:"DEEP_ARCHIVE",EXPRESS_ONEZONE:"EXPRESS_ONEZONE",FSX_OPENZFS:"FSX_OPENZFS",GLACIER:"GLACIER",GLACIER_IR:"GLACIER_IR",INTELLIGENT_TIERING:"INTELLIGENT_TIERING",ONEZONE_IA:"ONEZONE_IA",OUTPOSTS:"OUTPOSTS",REDUCED_REDUNDANCY:"REDUCED_REDUNDANCY",SNOW:"SNOW",STANDARD:"STANDARD",STANDARD_IA:"STANDARD_IA"},NZ={RESTORE_STATUS:"RestoreStatus"},BZ={STANDARD:"STANDARD"},DZ={Disabled:"Disabled",Enabled:"Enabled"},Ep=class e extends dr{name="EncryptionTypeMismatch";$fault="client";constructor(r){super({name:"EncryptionTypeMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},bp=class e extends dr{name="InvalidRequest";$fault="client";constructor(r){super({name:"InvalidRequest",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},_p=class e extends dr{name="InvalidWriteOffset";$fault="client";constructor(r){super({name:"InvalidWriteOffset",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},Cp=class e extends dr{name="TooManyParts";$fault="client";constructor(r){super({name:"TooManyParts",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},xp=class e extends dr{name="IdempotencyParameterMismatch";$fault="client";constructor(r){super({name:"IdempotencyParameterMismatch",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},wp=class e extends dr{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(r){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...r}),Object.setPrototypeOf(this,e.prototype)}},MZ={Bulk:"Bulk",Expedited:"Expedited",Standard:"Standard"},LZ={SQL:"SQL"},FZ={BZIP2:"BZIP2",GZIP:"GZIP",NONE:"NONE"},zZ={IGNORE:"IGNORE",NONE:"NONE",USE:"USE"},UZ={DOCUMENT:"DOCUMENT",LINES:"LINES"},qZ={ALWAYS:"ALWAYS",ASNEEDED:"ASNEEDED"},HZ={SELECT:"SELECT"};S.SelectObjectContentEventStream=void 0;(function(e){e.visit=(r,t)=>r.Records!==void 0?t.Records(r.Records):r.Stats!==void 0?t.Stats(r.Stats):r.Progress!==void 0?t.Progress(r.Progress):r.Cont!==void 0?t.Cont(r.Cont):r.End!==void 0?t.End(r.End):t._(r.$unknown[0],r.$unknown[1])})(S.SelectObjectContentEventStream||(S.SelectObjectContentEventStream={}));var TU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),RU=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:lA(e.ServerSideEncryptionConfiguration)}}),IU=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:RS(e.InventoryConfiguration)}}),kU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),OU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:i.SENSITIVE_STRING}}),NU=e=>({...e,...e.KMSKeyId&&{KMSKeyId:i.SENSITIVE_STRING}}),BU=e=>({...e,...e.Encryption&&{Encryption:NU(e.Encryption)}}),DU=e=>({...e,...e.S3&&{S3:BU(e.S3)}}),MU=e=>({...e,...e.OutputLocation&&{OutputLocation:DU(e.OutputLocation)}}),LU=e=>({...e,...e.RestoreRequest&&{RestoreRequest:MU(e.RestoreRequest)}}),jZ=e=>{if(e.Records!==void 0)return{Records:e.Records};if(e.Stats!==void 0)return{Stats:e.Stats};if(e.Progress!==void 0)return{Progress:e.Progress};if(e.Cont!==void 0)return{Cont:e.Cont};if(e.End!==void 0)return{End:e.End};if(e.$unknown!==void 0)return{[e.$unknown[0]]:"UNKNOWN"}},FU=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),zU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),UU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),qU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING}}),HU=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),jU=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:i.SENSITIVE_STRING},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:i.SENSITIVE_STRING}}),$U=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:i.SENSITIVE_STRING}}),$Z=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G],[$me]:[()=>i.isSerializableHeaderValue(e[Fz]),()=>i.dateToUtcString(e[Fz]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"AbortMultipartUpload"],[Du]:[,i.expectNonNull(e[Qr],"UploadId")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},VZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ea]:e[dt],[ba]:e[ut],[_a]:e[mt],[Ca]:e[ft],[xa]:e[gt],[Rl]:e[ht],[Wme]:[()=>i.isSerializableHeaderValue(e[jz]),()=>e[jz].toString()],[rt]:e[tt],[K]:e[G],[Pl]:e[Pu],[Nu]:e[OS],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Du]:[,i.expectNonNull(e[Qr],"UploadId")]}),o,a;return e.MultipartUpload!==void 0&&(a=yse(e.MultipartUpload),a=a.n("CompleteMultipartUpload"),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},GZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[Tl]:e[hl],[Tu]:e[pl],[qA]:e[be],[Ru]:e[yl],[Iu]:e[Sl],[ku]:e[El],[Ou]:e[bl],[g2]:e[fq],[h2]:e[gq],[p2]:[()=>i.isSerializableHeaderValue(e[Ap]),()=>i.dateToUtcString(e[Ap]).toString()],[y2]:e[hq],[S2]:[()=>i.isSerializableHeaderValue(e[Pp]),()=>i.dateToUtcString(e[Pp]).toString()],[fa]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.dateToUtcString(e[ps]).toString()],[Il]:e[_l],[kl]:e[Cl],[Ol]:e[xl],[Nl]:e[wl],[Kme]:e[_de],[cfe]:e[Cue],[cn]:e[Or],[zu]:e[Ae],[Uu]:e[vu],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[ln]:e[Er],[Wo]:e[Ko],[Lt]:[()=>i.isSerializableHeaderValue(e[Et]),()=>e[Et].toString()],[E2]:e[pq],[b2]:e[yq],[_2]:e[Sq],[rt]:e[tt],[VA]:e[la],[Fu]:e[Al],[ga]:[()=>i.isSerializableHeaderValue(e[ys]),()=>i.serializeDateTime(e[ys]).toString()],[Lu]:e[ya],[K]:e[G],[A2]:e[_q]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"CopyObject"]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},KZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Tl]:e[hl],[Il]:e[_l],[kl]:e[Cl],[Ol]:e[xl],[HA]:e[EA],[Nl]:e[wl],[rme]:[()=>i.isSerializableHeaderValue(e[Vz]),()=>e[Vz].toString()],[Jme]:e[Su]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s,o;return e.CreateBucketConfiguration!==void 0&&(o=wse(e.CreateBucketConfiguration),s=Ke,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=o.toString()),t.m("PUT").h(n).b(s),t.build()},WZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[OA]:[,""]}),o,a;return e.MetadataConfiguration!==void 0&&(a=foe(e.MetadataConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},XZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NA]:[,""]}),o,a;return e.MetadataTableConfiguration!==void 0&&(a=hoe(e.MetadataTableConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},YZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[Tl]:e[hl],[Tu]:e[pl],[Ru]:e[yl],[Iu]:e[Sl],[ku]:e[El],[Ou]:e[bl],[fa]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.dateToUtcString(e[ps]).toString()],[Il]:e[_l],[kl]:e[Cl],[Ol]:e[xl],[Nl]:e[wl],[cn]:e[Or],[zu]:e[Ae],[Uu]:e[vu],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[ln]:e[Er],[Wo]:e[Ko],[Lt]:[()=>i.isSerializableHeaderValue(e[Et]),()=>e[Et].toString()],[rt]:e[tt],[VA]:e[la],[Fu]:e[Al],[ga]:[()=>i.isSerializableHeaderValue(e[ys]),()=>i.serializeDateTime(e[ys]).toString()],[Lu]:e[ya],[K]:e[G],[qA]:e[be],[Rl]:e[ht]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[c2]:[,""]});return t.m("POST").h(n).q(s).b(void 0),t.build()},JZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[ome]:e[hue],[cn]:e[Or],[ln]:e[Er],[Wo]:e[Ko],[Lt]:[()=>i.isSerializableHeaderValue(e[Et]),()=>e[Et].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Vue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},QZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(n).b(void 0),t.build()},ZZ=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},eee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},tee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[TA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},ree=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},nee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[FS]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},see=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},oee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[OA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},iee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},aee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},cee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},lee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},dee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[FA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},uee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vl]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},mee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},fee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[jA]:e[bA],[rt]:e[tt],[UA]:[()=>i.isSerializableHeaderValue(e[al]),()=>e[al].toString()],[K]:e[G],[Pl]:e[Pu],[Vme]:[()=>i.isSerializableHeaderValue(e[zz]),()=>i.dateToUtcString(e[zz]).toString()],[Gme]:[()=>i.isSerializableHeaderValue(e[Uz]),()=>e[Uz].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"DeleteObject"],[Zr]:[,e[Te]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},gee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[jA]:e[bA],[rt]:e[tt],[UA]:[()=>i.isSerializableHeaderValue(e[al]),()=>e[al].toString()],[K]:e[G],[pt]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kue]:[,""]}),o,a;return e.Delete!==void 0&&(a=Tse(e.Delete),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},hee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[vl]:[,""],[Zr]:[,e[Te]]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},pee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[LA]:[,""]});return t.m("DELETE").h(n).q(s).b(void 0),t.build()},yee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[rt]:e[tt]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[jq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},See=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Eee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[fr]:[,"GetBucketAnalyticsConfiguration"],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},bee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},_ee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[TA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Cee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[fr]:[,"GetBucketIntelligentTieringConfiguration"],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},xee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[FS]:[,""],[fr]:[,"GetBucketInventoryConfiguration"],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},wee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Aee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Xq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Pee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Yq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},vee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[OA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Tee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Ree=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[fr]:[,"GetBucketMetricsConfiguration"],[Bn]:[,i.expectNonNull(e[ue],"Id")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Iee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Jq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},kee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Oee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Nee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[que]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Bee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[FA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Dee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Zq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Mee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vl]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Lee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[l2]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Fee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},zee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Pl]:e[Pu],[RA]:[()=>i.isSerializableHeaderValue(e[vp]),()=>i.dateToUtcString(e[vp]).toString()],[Nu]:e[OS],[IA]:[()=>i.isSerializableHeaderValue(e[Tp]),()=>i.dateToUtcString(e[Tp]).toString()],[e2]:e[Oq],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[rt]:e[tt],[K]:e[G],[f2]:e[mq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"GetObject"],[t2]:[,e[Nq]],[r2]:[,e[Bq]],[n2]:[,e[Dq]],[s2]:[,e[Mq]],[o2]:[,e[Lq]],[i2]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[Fq]).toString()],[Zr]:[,e[Te]],[qS]:[()=>e.PartNumber!==void 0,()=>e[Xr].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Uee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[BS]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},qee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Xme]:[()=>i.isSerializableHeaderValue(e[$s]),()=>e[$s].toString()],[Qme]:e[qo],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[rt]:e[tt],[K]:e[G],[Yme]:[()=>i.isSerializableHeaderValue(e[$z]),()=>(e[$z]||[]).map(i.quoteHeader).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Rue]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Hee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Wq]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},jee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Qq]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},$ee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[a2]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Vee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[rt]:e[tt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[vl]:[,""],[Zr]:[,e[Te]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Gee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Xue]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Kee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[LA]:[,""]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Wee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(n).b(void 0),t.build()},Xee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[Pl]:e[Pu],[RA]:[()=>i.isSerializableHeaderValue(e[vp]),()=>i.dateToUtcString(e[vp]).toString()],[Nu]:e[OS],[IA]:[()=>i.isSerializableHeaderValue(e[Tp]),()=>i.dateToUtcString(e[Tp]).toString()],[e2]:e[Oq],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[rt]:e[tt],[K]:e[G],[f2]:e[mq]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[t2]:[,e[Nq]],[r2]:[,e[Bq]],[n2]:[,e[Dq]],[s2]:[,e[Mq]],[o2]:[,e[Lq]],[i2]:[()=>e.ResponseExpires!==void 0,()=>i.dateToUtcString(e[Fq]).toString()],[Zr]:[,e[Te]],[qS]:[()=>e.PartNumber!==void 0,()=>e[Xr].toString()]});return t.m("HEAD").h(n).q(s).b(void 0),t.build()},Yee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[fr]:[,"ListBucketAnalyticsConfigurations"],[Sa]:[,e[ot]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Jee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[fr]:[,"ListBucketIntelligentTieringConfigurations"],[Sa]:[,e[ot]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Qee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[FS]:[,""],[fr]:[,"ListBucketInventoryConfigurations"],[Sa]:[,e[ot]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},Zee=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[fr]:[,"ListBucketMetricsConfigurations"],[Sa]:[,e[ot]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ete=async(e,r)=>{let t=z.requestBuilder(e,r),n={};t.bp("/");let s=i.map({[fr]:[,"ListBuckets"],[Lue]:[()=>e.MaxBuckets!==void 0,()=>e[Ede].toString()],[Sa]:[,e[ot]],[Bu]:[,e[X]],[Iue]:[,e[yu]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},tte=async(e,r)=>{let t=z.requestBuilder(e,r),n={};t.bp("/");let s=i.map({[fr]:[,"ListDirectoryBuckets"],[Sa]:[,e[ot]],[Fue]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[Cde].toString()]});return t.m("GET").h(n).q(s).b(void 0),t.build()},rte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[rt]:e[tt]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[c2]:[,""],[DS]:[,e[Tr]],[MS]:[,e[Ir]],[Kq]:[,e[Uo]],[Uue]:[()=>e.MaxUploads!==void 0,()=>e[jh].toString()],[Bu]:[,e[X]],[Yue]:[,e[cp]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},nte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G],[$A]:[()=>i.isSerializableHeaderValue(e[cl]),()=>(e[cl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DS]:[,e[Tr]],[MS]:[,e[Ir]],[Mue]:[,e[qh]],[BA]:[()=>e.MaxKeys!==void 0,()=>e[An].toString()],[Bu]:[,e[X]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ste=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G],[$A]:[()=>i.isSerializableHeaderValue(e[cl]),()=>(e[cl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Nue]:[,"2"],[DS]:[,e[Tr]],[MS]:[,e[Ir]],[BA]:[()=>e.MaxKeys!==void 0,()=>e[An].toString()],[Bu]:[,e[X]],[Sa]:[,e[ot]],[Oue]:[()=>e.FetchOwner!==void 0,()=>e[Lle].toString()],[Gue]:[,e[ep]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ote=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[K]:e[G],[rt]:e[tt],[$A]:[()=>i.isSerializableHeaderValue(e[cl]),()=>(e[cl]||[]).map(i.quoteHeader).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Jue]:[,""],[DS]:[,e[Tr]],[MS]:[,e[Ir]],[Kq]:[,e[Uo]],[BA]:[()=>e.MaxKeys!==void 0,()=>e[An].toString()],[Bu]:[,e[X]],[Que]:[,e[dp]]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ite=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[rt]:e[tt],[K]:e[G],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"ListParts"],[zue]:[()=>e.MaxParts!==void 0,()=>e[$s].toString()],[Hue]:[,e[qo]],[Du]:[,i.expectNonNull(e[Qr],"UploadId")]});return t.m("GET").h(n).q(s).b(void 0),t.build()},ate=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[pt]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[jq]:[,""]}),o,a;return e.AccelerateConfiguration!==void 0&&(a=sse(e.AccelerateConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},cte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Tl]:e[hl],[Ot]:e[kt],[pt]:e[be],[Il]:e[_l],[kl]:e[Cl],[Ol]:e[xl],[HA]:e[EA],[Nl]:e[wl],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[BS]:[,""]}),o,a;return e.AccessControlPolicy!==void 0&&(a=VU(e.AccessControlPolicy),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},lte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[NS]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.AnalyticsConfiguration!==void 0&&(a=dse(e.AnalyticsConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},dte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vA]:[,""]}),o,a;return e.CORSConfiguration!==void 0&&(a=_se(e.CORSConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},ute=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[TA]:[,""]}),o,a;return e.ServerSideEncryptionConfiguration!==void 0&&(a=iie(e.ServerSideEncryptionConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},mte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zS]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.IntelligentTieringConfiguration!==void 0&&(a=jse(e.IntelligentTieringConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},fte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[FS]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.InventoryConfiguration!==void 0&&(a=Vse(e.InventoryConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},gte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[pt]:e[be],[K]:e[G],[GA]:e[PA]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[kA]:[,""]}),o,a;return e.LifecycleConfiguration!==void 0&&(a=hse(e.LifecycleConfiguration),a=a.n("LifecycleConfiguration"),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},hte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Yq]:[,""]}),o,a;return e.BucketLoggingStatus!==void 0&&(a=pse(e.BucketLoggingStatus),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},pte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[US]:[,""],[Bn]:[,i.expectNonNull(e[ue],"Id")]}),o,a;return e.MetricsConfiguration!==void 0&&(a=Soe(e.MetricsConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},yte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[K]:e[G],[afe]:[()=>i.isSerializableHeaderValue(e[Kz]),()=>e[Kz].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Jq]:[,""]}),o,a;return e.NotificationConfiguration!==void 0&&(a=xoe(e.NotificationConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ste=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[K]:e[G],[pt]:e[be]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[DA]:[,""]}),o,a;return e.OwnershipControls!==void 0&&(a=Ooe(e.OwnershipControls),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ete=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"text/plain",[Ot]:e[kt],[pt]:e[be],[sme]:[()=>i.isSerializableHeaderValue(e[Oz]),()=>e[Oz].toString()],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[MA]:[,""]}),o,a;return e.Policy!==void 0&&(a=e.Policy,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},bte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[m2]:e[qq],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[FA]:[,""]}),o,a;return e.ReplicationConfiguration!==void 0&&(a=joe(e.ReplicationConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},_te=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Zq]:[,""]}),o,a;return e.RequestPaymentConfiguration!==void 0&&(a=Xoe(e.RequestPaymentConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Cte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[vl]:[,""]}),o,a;return e.Tagging!==void 0&&(a=fA(e.Tagging),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},xte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[jA]:e[bA],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[l2]:[,""]}),o,a;return e.VersioningConfiguration!==void 0&&(a=Pie(e.VersioningConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},wte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[zA]:[,""]}),o,a;return e.WebsiteConfiguration!==void 0&&(a=vie(e.WebsiteConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ate=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),[Ou]:e[bl]||"application/octet-stream",[Tl]:e[hl],[Tu]:e[pl],[Ru]:e[yl],[Iu]:e[Sl],[ku]:e[El],[ma]:[()=>i.isSerializableHeaderValue(e[jo]),()=>e[jo].toString()],[Ot]:e[kt],[pt]:e[be],[Ea]:e[dt],[ba]:e[ut],[_a]:e[mt],[Ca]:e[ft],[xa]:e[gt],[fa]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.dateToUtcString(e[ps]).toString()],[Pl]:e[Pu],[Nu]:e[OS],[Il]:e[_l],[kl]:e[Cl],[Ol]:e[xl],[Nl]:e[wl],[lfe]:[()=>i.isSerializableHeaderValue(e[eU]),()=>e[eU].toString()],[cn]:e[Or],[zu]:e[Ae],[Uu]:e[vu],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[ln]:e[Er],[Wo]:e[Ko],[Lt]:[()=>i.isSerializableHeaderValue(e[Et]),()=>e[Et].toString()],[rt]:e[tt],[VA]:e[la],[Fu]:e[Al],[ga]:[()=>i.isSerializableHeaderValue(e[ys]),()=>i.serializeDateTime(e[ys]).toString()],[Lu]:e[ya],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"PutObject"]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},Pte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Tl]:e[hl],[Ot]:e[kt],[pt]:e[be],[Il]:e[_l],[kl]:e[Cl],[Ol]:e[xl],[HA]:e[EA],[Nl]:e[wl],[rt]:e[tt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[BS]:[,""],[Zr]:[,e[Te]]}),o,a;return e.AccessControlPolicy!==void 0&&(a=VU(e.AccessControlPolicy),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},vte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[rt]:e[tt],[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Wq]:[,""],[Zr]:[,e[Te]]}),o,a;return e.LegalHold!==void 0&&(a=voe(e.LegalHold),a=a.n("LegalHold"),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Tte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[rt]:e[tt],[m2]:e[qq],[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Qq]:[,""]}),o,a;return e.ObjectLockConfiguration!==void 0&&(a=Poe(e.ObjectLockConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Rte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[rt]:e[tt],[UA]:[()=>i.isSerializableHeaderValue(e[al]),()=>e[al].toString()],[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[a2]:[,""],[Zr]:[,e[Te]]}),o,a;return e.Retention!==void 0&&(a=Toe(e.Retention),a=a.n("Retention"),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ite=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G],[rt]:e[tt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[vl]:[,""],[Zr]:[,e[Te]]}),o,a;return e.Tagging!==void 0&&(a=fA(e.Tagging),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},kte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[LA]:[,""]}),o,a;return e.PublicAccessBlockConfiguration!==void 0&&(a=Loe(e.PublicAccessBlockConfiguration),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Ote=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[tfe]:e[sue],[Pl]:e[Ple],[Nu]:e[vle],[RA]:[()=>i.isSerializableHeaderValue(e[Nz]),()=>i.dateToUtcString(e[Nz]).toString()],[IA]:[()=>i.isSerializableHeaderValue(e[Bz]),()=>i.dateToUtcString(e[Bz]).toString()],[rfe]:e[due],[sfe]:e[uue],[nfe]:[()=>i.isSerializableHeaderValue(e[Wz]),()=>i.dateToUtcString(e[Wz]).toString()],[ofe]:[()=>i.isSerializableHeaderValue(e[Xz]),()=>i.dateToUtcString(e[Xz]).toString()],[ame]:e[xle]??xQ.v4()});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[jue]:[,""]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},Nte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[rt]:e[tt],[pt]:e[be],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[$ue]:[,""],[Zr]:[,e[Te]]}),o,a;return e.RestoreRequest!==void 0&&(a=Joe(e.RestoreRequest),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("POST").h(n).q(s).b(o),t.build()},Bte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[Kue]:[,""],[Wue]:[,"2"]}),o;o=Ke;let a=new E.XmlNode(pue);return a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a.cc(e,xq),a.cc(e,Cq),e[Wi]!=null&&a.c(WU(e[Wi]).n(Wi)),e[Zi]!=null&&a.c(XU(e[Zi]).n(Zi)),e[Qh]!=null&&a.c(Yoe(e[Qh]).n(Qh)),e[rp]!=null&&a.c(nie(e[rp]).n(rp)),o+=a.toString(),t.m("POST").h(n).q(s).b(o),t.build()},Dte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Bue]:[,""]}),o,a;return e.InventoryTableConfiguration!==void 0&&(a=Zse(e.InventoryTableConfiguration),a=a.n("InventoryTableConfiguration"),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Mte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/xml",[Ot]:e[kt],[pt]:e[be],[K]:e[G]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let s=i.map({[Due]:[,""]}),o,a;return e.JournalTableConfiguration!==void 0&&(a=toe(e.JournalTableConfiguration),a=a.n("JournalTableConfiguration"),o=Ke,a.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=a.toString()),t.m("PUT").h(n).q(s).b(o),t.build()},Lte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"content-type":"application/octet-stream",[ma]:[()=>i.isSerializableHeaderValue(e[jo]),()=>e[jo].toString()],[Ot]:e[kt],[pt]:e[be],[Ea]:e[dt],[ba]:e[ut],[_a]:e[mt],[Ca]:e[ft],[xa]:e[gt],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[rt]:e[tt],[K]:e[G]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"UploadPart"],[qS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Xr].toString()],[Du]:[,i.expectNonNull(e[Qr],"UploadId")]}),o,a;return e.Body!==void 0&&(a=e.Body,o=a),t.m("PUT").h(n).q(s).b(o),t.build()},Fte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{[g2]:e[fq],[h2]:e[gq],[p2]:[()=>i.isSerializableHeaderValue(e[Ap]),()=>i.dateToUtcString(e[Ap]).toString()],[y2]:e[hq],[S2]:[()=>i.isSerializableHeaderValue(e[Pp]),()=>i.dateToUtcString(e[Pp]).toString()],[ime]:e[ble],[ur]:e[er],[Vn]:e[$n],[mr]:e[tr],[E2]:e[pq],[b2]:e[yq],[_2]:e[Sq],[rt]:e[tt],[K]:e[G],[A2]:e[_q]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);let s=i.map({[fr]:[,"UploadPartCopy"],[qS]:[i.expectNonNull(e.PartNumber,"PartNumber")!=null,()=>e[Xr].toString()],[Du]:[,i.expectNonNull(e[Qr],"UploadId")]});return t.m("PUT").h(n).q(s).b(void 0),t.build()},zte=async(e,r)=>{let t=z.requestBuilder(e,r),n=i.map({},i.isSerializableHeaderValue,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((c,l)=>(c[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],c),{}),"content-type":"application/octet-stream",[efe]:e[Jde],[ife]:e[oue],[jme]:[()=>i.isSerializableHeaderValue(e[Gz]),()=>e[Gz].toString()],[cme]:e[Oh],[lme]:e[Nh],[dme]:e[yA],[ume]:e[pl],[mme]:e[yl],[fme]:e[Sl],[gme]:e[El],[ma]:[()=>i.isSerializableHeaderValue(e[jo]),()=>e[jo].toString()],[hme]:e[SA],[pme]:e[bl],[bme]:e[dt],[_me]:e[ut],[Cme]:e[mt],[xme]:e[ft],[wme]:e[gt],[Ame]:[()=>i.isSerializableHeaderValue(e[Un]),()=>e[Un].toString()],[yme]:e[it],[Sme]:[()=>i.isSerializableHeaderValue(e[ps]),()=>i.dateToUtcString(e[ps]).toString()],[Pme]:e[$t],[Eme]:[()=>i.isSerializableHeaderValue(e[It]),()=>i.dateToUtcString(e[It]).toString()],[vme]:[()=>i.isSerializableHeaderValue(e[Rp]),()=>e[Rp].toString()],[Ime]:e[Al],[Rme]:e[ya],[kme]:[()=>i.isSerializableHeaderValue(e[ys]),()=>i.serializeDateTime(e[ys]).toString()],[Tme]:[()=>i.isSerializableHeaderValue(e[ll]),()=>e[ll].toString()],[Bme]:e[wA],[Nme]:e[_t],[Ome]:e[AA],[Mme]:e[Or],[zme]:e[er],[Lme]:e[Er],[Ume]:e[tr],[Dme]:e[Ae],[qme]:[()=>i.isSerializableHeaderValue(e[Bp]),()=>e[Bp].toString()],[Hme]:e[Te],[Fme]:[()=>i.isSerializableHeaderValue(e[Et]),()=>e[Et].toString()]});t.bp("/WriteGetObjectResponse");let s,o;e.Body!==void 0&&(o=e.Body,s=o);let{hostname:a}=await r.endpoint();if(r.disableHostPrefix!==!0){if(a="{RequestRoute}."+a,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(a=a.replace("{RequestRoute}",e.RequestRoute),!v0.isValidHostname(a))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(a),t.m("POST").h(n).b(s),t.build()},Ute=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},qte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[$t]:[,e.headers[Mu]],[Or]:[,e.headers[cn]],[Te]:[,e.headers[Ss]],[Er]:[,e.headers[ln]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[dt]!=null&&(t[dt]=i.expectString(n[dt])),n[ut]!=null&&(t[ut]=i.expectString(n[ut])),n[mt]!=null&&(t[mt]=i.expectString(n[mt])),n[ft]!=null&&(t[ft]=i.expectString(n[ft])),n[gt]!=null&&(t[gt]=i.expectString(n[gt])),n[ht]!=null&&(t[ht]=i.expectString(n[ht])),n[it]!=null&&(t[it]=i.expectString(n[it])),n[ye]!=null&&(t[ye]=i.expectString(n[ye])),n[Xi]!=null&&(t[Xi]=i.expectString(n[Xi])),t},Hte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[$t]:[,e.headers[Mu]],[Eq]:[,e.headers[C2]],[Te]:[,e.headers[Ss]],[Or]:[,e.headers[cn]],[er]:[,e.headers[ur]],[tr]:[,e.headers[mr]],[Er]:[,e.headers[ln]],[Ko]:[,e.headers[Wo]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[_t]:[,e.headers[Ct]]}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.CopyObjectResult=jie(n),t},jte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Xi]:[,e.headers[Xq]],[pu]:[,e.headers[u2]]});return await i.collectBody(e.body,r),t},$te=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Vte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Gte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[dq]:[()=>e.headers[Dp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[Dp]))],[uq]:[,e.headers[d2]],[Or]:[,e.headers[cn]],[er]:[,e.headers[ur]],[tr]:[,e.headers[mr]],[Er]:[,e.headers[ln]],[Ko]:[,e.headers[Wo]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[_t]:[,e.headers[Ct]],[be]:[,e.headers[qA]],[ht]:[,e.headers[Rl]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[ye]!=null&&(t[ye]=i.expectString(n[ye])),n[Qr]!=null&&(t[Qr]=i.expectString(n[Qr])),t},Kte=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Or]:[,e.headers[cn]],[Er]:[,e.headers[ln]],[Ko]:[,e.headers[Wo]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Xw]!=null&&(t[Xw]=kce(n[Xw])),t},Wte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Xte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Yte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Jte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Qte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Zte=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ere=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},tre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},rre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},nre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},sre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ore=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ire=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},are=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},cre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},lre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[$o]!==void 0,()=>i.parseBoolean(e.headers[$o])],[Te]:[,e.headers[Ss]],[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},dre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Deleted).trim()===""?t[Ah]=[]:n[Ah]!=null&&(t[Ah]=Xie(i.getArrayIfSingleItem(n[Ah]))),String(n.Error).trim()===""?t[Mz]=[]:n[Hn]!=null&&(t[Mz]=oae(i.getArrayIfSingleItem(n[Hn]))),t},ure=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[Ss]]});return await i.collectBody(e.body,r),t},mre=async(e,r)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},fre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Q]!=null&&(t[Q]=i.expectString(n[Q])),t},gre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[Eu]=[]:n[Fi]!=null&&n[Fi][Ws]!=null&&(t[Eu]=rq(i.getArrayIfSingleItem(n[Fi][Ws]))),n[je]!=null&&(t[je]=Go(n[je])),t},hre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.AnalyticsConfiguration=QU(n),t},pre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CORSRule).trim()===""?t[L0]=[]:n[M0]!=null&&(t[L0]=Gie(i.getArrayIfSingleItem(n[M0]))),t},yre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.ServerSideEncryptionConfiguration=Tce(n),t},Sre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.IntelligentTieringConfiguration=sq(n),t},Ere=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.InventoryConfiguration=oq(n),t},bre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[PA]:[,e.headers[GA]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Rule).trim()===""?t[Nn]=[]:n[Yr]!=null&&(t[Nn]=Bae(i.getArrayIfSingleItem(n[Yr]))),t},_re=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Xc]!=null&&(t[Xc]=i.expectString(n[Xc])),t},Cre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Yi]!=null&&(t[Yi]=Dae(n[Yi])),t},xre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.GetBucketMetadataConfigurationResult=uae(n),t},wre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.GetBucketMetadataTableConfigurationResult=mae(n),t},Are=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.MetricsConfiguration=iq(n),t},Pre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[$i]!=null&&(t[$i]=iae(n[$i])),String(n.CloudFunctionConfiguration).trim()===""?t[V0]=[]:n[kz]!=null&&(t[V0]=Rae(i.getArrayIfSingleItem(n[kz]))),String(n.QueueConfiguration).trim()===""?t[J0]=[]:n[Y0]!=null&&(t[J0]=mce(i.getArrayIfSingleItem(n[Y0]))),String(n.TopicConfiguration).trim()===""?t[nA]=[]:n[rA]!=null&&(t[nA]=Gce(i.getArrayIfSingleItem(n[rA]))),t},vre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.OwnershipControls=tce(n),t},Tre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=await Xce(e.body,r);return t.Policy=i.expectString(n),t},Rre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.PolicyStatus=cce(n),t},Ire=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.ReplicationConfiguration=yce(n),t},kre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Kh]!=null&&(t[Kh]=i.expectString(n[Kh])),t},Ore=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[zn]=[]:n[zn]!=null&&n[zn][xe]!=null&&(t[zn]=pa(i.getArrayIfSingleItem(n[zn][xe]))),t},Nre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[K0]!=null&&(t[Hh]=i.expectString(n[K0])),n[Q]!=null&&(t[Q]=i.expectString(n[Q])),t},Bre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Vi]!=null&&(t[Vi]=sae(n[Vi])),n[Ki]!=null&&(t[Ki]=hae(n[Ki])),n[ta]!=null&&(t[ta]=hce(n[ta])),String(n.RoutingRules).trim()===""?t[vc]=[]:n[vc]!=null&&n[vc][kp]!=null&&(t[vc]=wce(i.getArrayIfSingleItem(n[vc][kp]))),t},Dre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[$o]!==void 0,()=>i.parseBoolean(e.headers[$o])],[yA]:[,e.headers[$q]],[$t]:[,e.headers[Mu]],[AA]:[,e.headers[x2]],[It]:[()=>e.headers[dl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[dl]))],[jo]:[()=>e.headers[ma]!==void 0,()=>i.strictParseLong(e.headers[ma])],[it]:[,e.headers[LS]],[dt]:[,e.headers[Ea]],[ut]:[,e.headers[ba]],[mt]:[,e.headers[_a]],[ft]:[,e.headers[Ca]],[gt]:[,e.headers[xa]],[ht]:[,e.headers[Rl]],[Rp]:[()=>e.headers[Mp]!==void 0,()=>i.strictParseInt32(e.headers[Mp])],[Te]:[,e.headers[Ss]],[pl]:[,e.headers[Tu]],[yl]:[,e.headers[Ru]],[Sl]:[,e.headers[Iu]],[El]:[,e.headers[ku]],[SA]:[,e.headers[Vq]],[bl]:[,e.headers[Ou]],[ps]:[()=>e.headers[fa]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[fa]))],[bq]:[,e.headers[Gq]],[vu]:[,e.headers[Uu]],[Or]:[,e.headers[cn]],[er]:[,e.headers[ur]],[tr]:[,e.headers[mr]],[Er]:[,e.headers[ln]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[Ae]:[,e.headers[zu]],[_t]:[,e.headers[Ct]],[wA]:[,e.headers[w2]],[ll]:[()=>e.headers[Lp]!==void 0,()=>i.strictParseInt32(e.headers[Lp])],[Bp]:[()=>e.headers[Fp]!==void 0,()=>i.strictParseInt32(e.headers[Fp])],[Al]:[,e.headers[Fu]],[ys]:[()=>e.headers[ga]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[ga]))],[ya]:[,e.headers[Lu]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,o)=>(s[o.substring(11)]=e.headers[o],s),{})]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},Mre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.AccessControlList).trim()===""?t[Eu]=[]:n[Fi]!=null&&n[Fi][Ws]!=null&&(t[Eu]=rq(i.getArrayIfSingleItem(n[Fi][Ws]))),n[je]!=null&&(t[je]=Go(n[je])),t},Lre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[$o]!==void 0,()=>i.parseBoolean(e.headers[$o])],[It]:[()=>e.headers[dl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[dl]))],[Te]:[,e.headers[Ss]],[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Qw]!=null&&(t[Qw]=zie(n[Qw])),n[it]!=null&&(t[it]=i.expectString(n[it])),n[y0]!=null&&(t[y0]=fae(n[y0])),n[S0]!=null&&(t[S0]=i.strictParseLong(n[S0])),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae])),t},Fre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.LegalHold=Xae(n),t},zre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.ObjectLockConfiguration=Wae(n),t},Ure=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.Retention=Yae(n),t},qre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[Ss]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.TagSet).trim()===""?t[zn]=[]:n[zn]!=null&&n[zn][xe]!=null&&(t[zn]=pa(i.getArrayIfSingleItem(n[zn][xe]))),t},Hre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=e.body;return r.sdkStreamMixin(n),t.Body=n,t},jre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.PublicAccessBlockConfiguration=dce(n),t},$re=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[pu]:[,e.headers[u2]],[fle]:[,e.headers[tme]],[dle]:[,e.headers[eme]],[yu]:[,e.headers[nme]],[rle]:[()=>e.headers[rU]!==void 0,()=>i.parseBoolean(e.headers[rU])]});return await i.collectBody(e.body,r),t},Vre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Un]:[()=>e.headers[$o]!==void 0,()=>i.parseBoolean(e.headers[$o])],[yA]:[,e.headers[$q]],[$t]:[,e.headers[Mu]],[AA]:[,e.headers[x2]],[nle]:[,e.headers[Zue]],[It]:[()=>e.headers[dl]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[dl]))],[jo]:[()=>e.headers[ma]!==void 0,()=>i.strictParseLong(e.headers[ma])],[dt]:[,e.headers[Ea]],[ut]:[,e.headers[ba]],[mt]:[,e.headers[_a]],[ft]:[,e.headers[Ca]],[gt]:[,e.headers[xa]],[ht]:[,e.headers[Rl]],[it]:[,e.headers[LS]],[Rp]:[()=>e.headers[Mp]!==void 0,()=>i.strictParseInt32(e.headers[Mp])],[Te]:[,e.headers[Ss]],[pl]:[,e.headers[Tu]],[yl]:[,e.headers[Ru]],[Sl]:[,e.headers[Iu]],[El]:[,e.headers[ku]],[bl]:[,e.headers[Ou]],[SA]:[,e.headers[Vq]],[ps]:[()=>e.headers[fa]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[fa]))],[bq]:[,e.headers[Gq]],[vu]:[,e.headers[Uu]],[Or]:[,e.headers[cn]],[er]:[,e.headers[ur]],[tr]:[,e.headers[mr]],[Er]:[,e.headers[ln]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[Ae]:[,e.headers[zu]],[_t]:[,e.headers[Ct]],[wA]:[,e.headers[w2]],[ll]:[()=>e.headers[Lp]!==void 0,()=>i.strictParseInt32(e.headers[Lp])],[Bp]:[()=>e.headers[Fp]!==void 0,()=>i.strictParseInt32(e.headers[Fp])],[Al]:[,e.headers[Fu]],[ys]:[()=>e.headers[ga]!==void 0,()=>i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e.headers[ga]))],[ya]:[,e.headers[Lu]],Metadata:[,Object.keys(e.headers).filter(n=>n.startsWith("x-amz-meta-")).reduce((n,s)=>(n[s.substring(11)]=e.headers[s],n),{})]});return await i.collectBody(e.body,r),t},Gre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.AnalyticsConfiguration).trim()===""?t[Iz]=[]:n[T0]!=null&&(t[Iz]=Bie(i.getArrayIfSingleItem(n[T0]))),n[ot]!=null&&(t[ot]=i.expectString(n[ot])),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[Hr]!=null&&(t[Hr]=i.expectString(n[Hr])),t},Kre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[ot]!=null&&(t[ot]=i.expectString(n[ot])),String(n.IntelligentTieringConfiguration).trim()===""?t[qz]=[]:n[$0]!=null&&(t[qz]=yae(i.getArrayIfSingleItem(n[$0]))),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[Hr]!=null&&(t[Hr]=i.expectString(n[Hr])),t},Wre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[ot]!=null&&(t[ot]=i.expectString(n[ot])),String(n.InventoryConfiguration).trim()===""?t[Lz]=[]:n[j0]!=null&&(t[Lz]=Eae(i.getArrayIfSingleItem(n[j0]))),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[Hr]!=null&&(t[Hr]=i.expectString(n[Hr])),t},Xre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[ot]!=null&&(t[ot]=i.expectString(n[ot])),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),String(n.MetricsConfiguration).trim()===""?t[Hz]=[]:n[G0]!=null&&(t[Hz]=Uae(i.getArrayIfSingleItem(n[G0]))),n[Hr]!=null&&(t[Hr]=i.expectString(n[Hr])),t},Yre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[ms]=[]:n[ms]!=null&&n[ms][Me]!=null&&(t[ms]=ZU(i.getArrayIfSingleItem(n[ms][Me]))),n[ot]!=null&&(t[ot]=i.expectString(n[ot])),n[je]!=null&&(t[je]=Go(n[je])),n[X]!=null&&(t[X]=i.expectString(n[X])),t},Jre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.Buckets).trim()===""?t[ms]=[]:n[ms]!=null&&n[ms][Me]!=null&&(t[ms]=ZU(i.getArrayIfSingleItem(n[ms][Me]))),n[ot]!=null&&(t[ot]=i.expectString(n[ot])),t},Qre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),String(n.CommonPrefixes).trim()===""?t[vr]=[]:n[vr]!=null&&(t[vr]=IS(i.getArrayIfSingleItem(n[vr]))),n[Tr]!=null&&(t[Tr]=i.expectString(n[Tr])),n[Ir]!=null&&(t[Ir]=i.expectString(n[Ir])),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[Uo]!=null&&(t[Uo]=i.expectString(n[Uo])),n[jh]!=null&&(t[jh]=i.strictParseInt32(n[jh])),n[Yc]!=null&&(t[Yc]=i.expectString(n[Yc])),n[h0]!=null&&(t[h0]=i.expectString(n[h0])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[cp]!=null&&(t[cp]=i.expectString(n[cp])),String(n.Upload).trim()===""?t[Jz]=[]:n[Yz]!=null&&(t[Jz]=jae(i.getArrayIfSingleItem(n[Yz]))),t},Zre=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[vr]=[]:n[vr]!=null&&(t[vr]=IS(i.getArrayIfSingleItem(n[vr]))),String(n.Contents).trim()===""?t[Fo]=[]:n[Fo]!=null&&(t[Fo]=aq(i.getArrayIfSingleItem(n[Fo]))),n[Tr]!=null&&(t[Tr]=i.expectString(n[Tr])),n[Ir]!=null&&(t[Ir]=i.expectString(n[Ir])),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[qh]!=null&&(t[qh]=i.expectString(n[qh])),n[An]!=null&&(t[An]=i.strictParseInt32(n[An])),n[wt]!=null&&(t[wt]=i.expectString(n[wt])),n[g0]!=null&&(t[g0]=i.expectString(n[g0])),n[X]!=null&&(t[X]=i.expectString(n[X])),t},ene=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[vr]=[]:n[vr]!=null&&(t[vr]=IS(i.getArrayIfSingleItem(n[vr]))),String(n.Contents).trim()===""?t[Fo]=[]:n[Fo]!=null&&(t[Fo]=aq(i.getArrayIfSingleItem(n[Fo]))),n[ot]!=null&&(t[ot]=i.expectString(n[ot])),n[Tr]!=null&&(t[Tr]=i.expectString(n[Tr])),n[Ir]!=null&&(t[Ir]=i.expectString(n[Ir])),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[l0]!=null&&(t[l0]=i.strictParseInt32(n[l0])),n[An]!=null&&(t[An]=i.strictParseInt32(n[An])),n[wt]!=null&&(t[wt]=i.expectString(n[wt])),n[Hr]!=null&&(t[Hr]=i.expectString(n[Hr])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[ep]!=null&&(t[ep]=i.expectString(n[ep])),t},tne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return String(n.CommonPrefixes).trim()===""?t[vr]=[]:n[vr]!=null&&(t[vr]=IS(i.getArrayIfSingleItem(n[vr]))),String(n.DeleteMarker).trim()===""?t[Dz]=[]:n[Un]!=null&&(t[Dz]=Qie(i.getArrayIfSingleItem(n[Un]))),n[Tr]!=null&&(t[Tr]=i.expectString(n[Tr])),n[Ir]!=null&&(t[Ir]=i.expectString(n[Ir])),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[Uo]!=null&&(t[Uo]=i.expectString(n[Uo])),n[An]!=null&&(t[An]=i.strictParseInt32(n[An])),n[wt]!=null&&(t[wt]=i.expectString(n[wt])),n[Yc]!=null&&(t[Yc]=i.expectString(n[Yc])),n[p0]!=null&&(t[p0]=i.expectString(n[p0])),n[X]!=null&&(t[X]=i.expectString(n[X])),n[dp]!=null&&(t[dp]=i.expectString(n[dp])),String(n.Version).trim()===""?t[Zz]=[]:n[Qz]!=null&&(t[Zz]=ece(i.getArrayIfSingleItem(n[Qz]))),t},rne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[dq]:[()=>e.headers[Dp]!==void 0,()=>i.expectNonNull(i.parseRfc7231DateTime(e.headers[Dp]))],[uq]:[,e.headers[d2]],[_t]:[,e.headers[Ct]]}),n=i.expectNonNull(i.expectObject(await fe.parseXmlBody(e.body,r)),"body");return n[Me]!=null&&(t[Me]=i.expectString(n[Me])),n[be]!=null&&(t[be]=i.expectString(n[be])),n[ht]!=null&&(t[ht]=i.expectString(n[ht])),n[Vc]!=null&&(t[Vc]=nq(n[Vc])),n[Je]!=null&&(t[Je]=i.parseBoolean(n[Je])),n[ye]!=null&&(t[ye]=i.expectString(n[ye])),n[$s]!=null&&(t[$s]=i.strictParseInt32(n[$s])),n[Jc]!=null&&(t[Jc]=i.expectString(n[Jc])),n[je]!=null&&(t[je]=Go(n[je])),n[qo]!=null&&(t[qo]=i.expectString(n[qo])),String(n.Part).trim()===""?t[bu]=[]:n[Ip]!=null&&(t[bu]=ice(i.getArrayIfSingleItem(n[Ip]))),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae])),n[Qr]!=null&&(t[Qr]=i.expectString(n[Qr])),t},nne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},sne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},one=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ine=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},ane=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},cne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},lne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},dne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[PA]:[,e.headers[GA]]});return await i.collectBody(e.body,r),t},une=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},mne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},fne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},gne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},hne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},pne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},yne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Sne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Ene=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},bne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},_ne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[$t]:[,e.headers[Mu]],[it]:[,e.headers[LS]],[dt]:[,e.headers[Ea]],[ut]:[,e.headers[ba]],[mt]:[,e.headers[_a]],[ft]:[,e.headers[Ca]],[gt]:[,e.headers[xa]],[ht]:[,e.headers[Rl]],[Or]:[,e.headers[cn]],[Te]:[,e.headers[Ss]],[er]:[,e.headers[ur]],[tr]:[,e.headers[mr]],[Er]:[,e.headers[ln]],[Ko]:[,e.headers[Wo]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[Sr]:[()=>e.headers[nU]!==void 0,()=>i.strictParseLong(e.headers[nU])],[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},Cne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},xne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},wne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},Ane=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},Pne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Te]:[,e.headers[Ss]]});return await i.collectBody(e.body,r),t},vne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Tne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Rne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[_t]:[,e.headers[Ct]],[Xde]:[,e.headers[Zme]]});return await i.collectBody(e.body,r),t},Ine=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)}),n=e.body;return t.Payload=Jne(n,r),t},kne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},One=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},Nne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Or]:[,e.headers[cn]],[it]:[,e.headers[LS]],[dt]:[,e.headers[Ea]],[ut]:[,e.headers[ba]],[mt]:[,e.headers[_a]],[ft]:[,e.headers[Ca]],[gt]:[,e.headers[xa]],[er]:[,e.headers[ur]],[tr]:[,e.headers[mr]],[Er]:[,e.headers[ln]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[_t]:[,e.headers[Ct]]});return await i.collectBody(e.body,r),t},Bne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e),[Eq]:[,e.headers[C2]],[Or]:[,e.headers[cn]],[er]:[,e.headers[ur]],[tr]:[,e.headers[mr]],[Er]:[,e.headers[ln]],[Et]:[()=>e.headers[Lt]!==void 0,()=>i.parseBoolean(e.headers[Lt])],[_t]:[,e.headers[Ct]]}),n=i.expectObject(await fe.parseXmlBody(e.body,r));return t.CopyPartResult=$ie(n),t},Dne=async(e,r)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,r);let t=i.map({$metadata:F(e)});return await i.collectBody(e.body,r),t},$=async(e,r)=>{let t={...e,body:await fe.parseXmlErrorBody(e.body,r)},n=fe.loadRestXmlErrorCode(e,t.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Gne(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Xne(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Lne(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Fne(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await $ne(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await qne(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Vne(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Kne(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await zne(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await Hne(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await jne(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Yne(t);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await Une(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Wne(t);default:let s=t.body;return Mne({output:e,parsedBody:s,errorCode:n})}},Mne=i.withBaseException(dr),Lne=async(e,r)=>{let t=i.map({});e.body;let n=new fp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Fne=async(e,r)=>{let t=i.map({});e.body;let n=new gp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},zne=async(e,r)=>{let t=i.map({});e.body;let n=new Ep({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Une=async(e,r)=>{let t=i.map({});e.body;let n=new xp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},qne=async(e,r)=>{let t=i.map({}),n=e.body;n[Hs]!=null&&(t[Hs]=i.expectString(n[Hs])),n[Ae]!=null&&(t[Ae]=i.expectString(n[Ae]));let s=new pp({$metadata:F(e),...t});return i.decorateServiceException(s,e.body)},Hne=async(e,r)=>{let t=i.map({});e.body;let n=new bp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},jne=async(e,r)=>{let t=i.map({});e.body;let n=new _p({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},$ne=async(e,r)=>{let t=i.map({});e.body;let n=new hp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Vne=async(e,r)=>{let t=i.map({});e.body;let n=new yp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Gne=async(e,r)=>{let t=i.map({});e.body;let n=new up({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Kne=async(e,r)=>{let t=i.map({});e.body;let n=new Sp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Wne=async(e,r)=>{let t=i.map({});e.body;let n=new wp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Xne=async(e,r)=>{let t=i.map({});e.body;let n=new mp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Yne=async(e,r)=>{let t=i.map({});e.body;let n=new Cp({$metadata:F(e),...t});return i.decorateServiceException(n,e.body)},Jne=(e,r)=>r.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await tse(t.Records)}:t.Stats!=null?{Stats:await rse(t.Stats,r)}:t.Progress!=null?{Progress:await ese(t.Progress,r)}:t.Cont!=null?{Cont:await Qne(t.Cont,r)}:t.End!=null?{End:await Zne(t.End,r)}:{$unknown:t}),Qne=async(e,r)=>{let t={};return await fe.parseXmlBody(e.body,r),Object.assign(t,Hie()),t},Zne=async(e,r)=>{let t={};return await fe.parseXmlBody(e.body,r),Object.assign(t,rae()),t},ese=async(e,r)=>{let t={},n=await fe.parseXmlBody(e.body,r);return t.Details=lce(n),t},tse=async(e,r)=>{let t={};return t.Payload=e.body,t},rse=async(e,r)=>{let t={},n=await fe.parseXmlBody(e.body,r);return t.Details=Lce(n),t},nse=(e,r)=>{let t=new E.XmlNode(Ui);return e[ki]!=null&&t.c(E.XmlNode.of(ki,String(e[ki])).n(ki)),t},sse=(e,r)=>{let t=new E.XmlNode(Qce);return e[Q]!=null&&t.c(E.XmlNode.of(ile,e[Q]).n(Q)),t},VU=(e,r)=>{let t=new E.XmlNode(Jce);return t.lc(e,"Grants","AccessControlList",()=>KU(e[Eu])),e[je]!=null&&t.c(koe(e[je]).n(je)),t},ose=(e,r)=>{let t=new E.XmlNode(zi);return e[je]!=null&&t.c(E.XmlNode.of(Ude,e[je]).n(je)),t},ise=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(R0,t).n(rr)),ase=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(k0,t).n(rr)),cse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(N0,t).n(rr)),lse=(e,r)=>{let t=new E.XmlNode(Yce);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[kr])),t},dse=(e,r)=>{let t=new E.XmlNode(T0);return e[ue]!=null&&t.c(E.XmlNode.of(tle,e[ue]).n(ue)),e[de]!=null&&t.c(mse(e[de]).n(de)),e[oa]!=null&&t.c(gie(e[oa]).n(oa)),t},use=(e,r)=>{let t=new E.XmlNode(Zce);return e[kn]!=null&&t.c(fse(e[kn]).n(kn)),t},mse=(e,r)=>{let t=new E.XmlNode(ele);return S.AnalyticsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[xe]!=null&&t.c(fl(n).n(xe))},And:n=>{e[bt]!=null&&t.c(lse(n).n(bt))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},fse=(e,r)=>{let t=new E.XmlNode(sle);return e[wn]!=null&&t.c(E.XmlNode.of(ole,e[wn]).n(wn)),e[Oc]!=null&&t.c(E.XmlNode.of(Rc,e[Oc]).n(Oc)),e[Me]!=null&&t.c(E.XmlNode.of(kS,e[Me]).n(Me)),t.cc(e,X),t},gse=(e,r)=>{let t=new E.XmlNode(ale);return t.cc(e,Rle),e[Jr]!=null&&t.c(E.XmlNode.of(gle,e[Jr]).n(Jr)),t},hse=(e,r)=>{let t=new E.XmlNode(cle);return t.l(e,"Rules","Rule",()=>doe(e[Nn])),t},pse=(e,r)=>{let t=new E.XmlNode(mle);return e[Yi]!=null&&t.c(moe(e[Yi]).n(Yi)),t},yse=(e,r)=>{let t=new E.XmlNode(yle);return t.l(e,"Parts","Part",()=>Ese(e[bu])),t},Sse=(e,r)=>{let t=new E.XmlNode(Ele);return t.cc(e,it),t.cc(e,dt),t.cc(e,ut),t.cc(e,mt),t.cc(e,ft),t.cc(e,gt),e[Xr]!=null&&t.c(E.XmlNode.of(Xr,String(e[Xr])).n(Xr)),t},Ese=(e,r)=>e.filter(t=>t!=null).map(t=>Sse(t).n(rr)),bse=(e,r)=>{let t=new E.XmlNode(qi);return t.cc(e,Dh),t.cc(e,zh),t},_se=(e,r)=>{let t=new E.XmlNode(Sle);return t.l(e,"CORSRules","CORSRule",()=>xse(e[L0])),t},Cse=(e,r)=>{let t=new E.XmlNode(M0);return t.cc(e,Rt),t.l(e,"AllowedHeaders","AllowedHeader",()=>ise(e[I0])),t.l(e,"AllowedMethods","AllowedMethod",()=>ase(e[O0])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>cse(e[B0])),t.l(e,"ExposeHeaders","ExposeHeader",()=>Mse(e[F0])),e[Bi]!=null&&t.c(E.XmlNode.of(Bi,String(e[Bi])).n(Bi)),t},xse=(e,r)=>e.filter(t=>t!=null).map(t=>Cse(t).n(rr)),wse=(e,r)=>{let t=new E.XmlNode(ple);return e[Xc]!=null&&t.c(E.XmlNode.of(lle,e[Xc]).n(Xc)),e[Xi]!=null&&t.c(uoe(e[Xi]).n(Xi)),e[Me]!=null&&t.c(gse(e[Me]).n(Me)),t.lc(e,"Tags","Tags",()=>ha(e[kr])),t},Ase=(e,r)=>{let t=new E.XmlNode(_le);return t.cc(e,Mle),t.cc(e,Ale),t.cc(e,kq),t.cc(e,xA),t.cc(e,wq),t.cc(e,Iq),e[wh]!=null&&t.c(E.XmlNode.of(wh,String(e[wh])).n(wh)),t},Pse=(e,r)=>{let t=new E.XmlNode(Cle);return t.cc(e,Vde),t.cc(e,kq),t.cc(e,xA),t.cc(e,wq),t.cc(e,Iq),t},vse=(e,r)=>{let t=new E.XmlNode(ji);return e[Pn]!=null&&t.c(E.XmlNode.of(vq,e[Pn]).n(Pn)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Li]!=null&&t.c(E.XmlNode.of(Li,String(e[Li])).n(Li)),t},Tse=(e,r)=>{let t=new E.XmlNode(Ile);return t.l(e,"Objects","Object",()=>Aoe(e[Hde])),e[Th]!=null&&t.c(E.XmlNode.of(Th,String(e[Th])).n(Th)),t},Rse=(e,r)=>{let t=new E.XmlNode(Hi);return e[Q]!=null&&t.c(E.XmlNode.of(Tle,e[Q]).n(Q)),t},Ise=(e,r)=>{let t=new E.XmlNode(Zt);return e[Me]!=null&&t.c(E.XmlNode.of(kS,e[Me]).n(Me)),e[kc]!=null&&t.c(E.XmlNode.of(Rc,e[kc]).n(kc)),t.cc(e,Ae),e[zi]!=null&&t.c(ose(e[zi]).n(zi)),e[Rr]!=null&&t.c(Ose(e[Rr]).n(Rr)),e[na]!=null&&t.c(Woe(e[na]).n(na)),e[Ji]!=null&&t.c(poe(e[Ji]).n(Ji)),t},kse=(e,r)=>{let t=new E.XmlNode(fs);return e[r0]!=null&&t.c(E.XmlNode.of(Or,e[r0]).n(r0)),e[d0]!=null&&t.c(E.XmlNode.of(Er,e[d0]).n(d0)),t.cc(e,cde),t},Ose=(e,r)=>{let t=new E.XmlNode(Rr);return t.cc(e,Xh),t},Nse=(e,r)=>{let t=new E.XmlNode(Vi);return e[ye]!=null&&t.c(E.XmlNode.of(CA,e[ye]).n(ye)),t},Bse=(e,r)=>new E.XmlNode($i),dA=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(ua,t).n(rr)),Dse=(e,r)=>{let t=new E.XmlNode(Gi);return e[Q]!=null&&t.c(E.XmlNode.of(Ole,e[Q]).n(Q)),t},Mse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(z0,t).n(rr)),Lse=(e,r)=>{let t=new E.XmlNode(U0);return e[wt]!=null&&t.c(E.XmlNode.of(Fle,e[wt]).n(wt)),e[an]!=null&&t.c(E.XmlNode.of(zle,e[an]).n(an)),t},Fse=(e,r)=>e.filter(t=>t!=null).map(t=>Lse(t).n(rr)),zse=(e,r)=>{let t=new E.XmlNode(Bh);return t.cc(e,Uq),t},Use=(e,r)=>{let t=new E.XmlNode(Ws);if(e[on]!=null){let n=GU(e[on]).n(on);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return t.cc(e,gs),t},GU=(e,r)=>{let t=new E.XmlNode(on);return t.cc(e,qn),t.cc(e,kh),t.cc(e,Rt),t.cc(e,lp),t.a("xsi:type",e[Jr]),t},KU=(e,r)=>e.filter(t=>t!=null).map(t=>Use(t).n(Ws)),qse=(e,r)=>{let t=new E.XmlNode(Ki);return t.cc(e,sp),t},WU=(e,r)=>{let t=new E.XmlNode(Wi);return e[Fc]!=null&&t.c(Ase(e[Fc]).n(Fc)),t.cc(e,wle),e[Gc]!=null&&t.c(roe(e[Gc]).n(Gc)),e[E0]!=null&&t.c(Doe(e[E0]).n(E0)),t},Hse=(e,r)=>{let t=new E.XmlNode(Yle);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[kr])),t},jse=(e,r)=>{let t=new E.XmlNode($0);return e[ue]!=null&&t.c(E.XmlNode.of(tde,e[ue]).n(ue)),e[de]!=null&&t.c($se(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(rde,e[Q]).n(Q)),t.l(e,"Tierings","Tiering",()=>bie(e[sA])),t},$se=(e,r)=>{let t=new E.XmlNode(ede);return t.cc(e,X),e[xe]!=null&&t.c(fl(e[xe]).n(xe)),e[bt]!=null&&t.c(Hse(e[bt]).n(bt)),t},Vse=(e,r)=>{let t=new E.XmlNode(j0);return e[Zt]!=null&&t.c(Gse(e[Zt]).n(Zt)),e[Ni]!=null&&t.c(E.XmlNode.of(Ni,String(e[Ni])).n(Ni)),e[de]!=null&&t.c(Wse(e[de]).n(de)),e[ue]!=null&&t.c(E.XmlNode.of(Vle,e[ue]).n(ue)),e[jc]!=null&&t.c(E.XmlNode.of(Gle,e[jc]).n(jc)),t.lc(e,"OptionalFields","OptionalFields",()=>Xse(e[Pc])),e[nl]!=null&&t.c(Jse(e[nl]).n(nl)),t},Gse=(e,r)=>{let t=new E.XmlNode(Ule);return e[kn]!=null&&t.c(Yse(e[kn]).n(kn)),t},Kse=(e,r)=>{let t=new E.XmlNode(qle);return e[tA]!=null&&t.c(fie(e[tA]).n(Np)),e[eA]!=null&&t.c(uie(e[eA]).n(Op)),t},Wse=(e,r)=>{let t=new E.XmlNode(Hle);return t.cc(e,X),t},Xse=(e,r)=>e.filter(t=>t!=null).map(t=>E.XmlNode.of(Kle,t).n(H0)),Yse=(e,r)=>{let t=new E.XmlNode(Wle);return t.cc(e,Rc),e[Me]!=null&&t.c(E.XmlNode.of(kS,e[Me]).n(Me)),e[wn]!=null&&t.c(E.XmlNode.of(jle,e[wn]).n(wn)),t.cc(e,X),e[fs]!=null&&t.c(Kse(e[fs]).n(fs)),t},Jse=(e,r)=>{let t=new E.XmlNode(Xle);return e[qc]!=null&&t.c(E.XmlNode.of($le,e[qc]).n(qc)),t},Qse=(e,r)=>{let t=new E.XmlNode(Lh);return e[js]!=null&&t.c(E.XmlNode.of(Aq,e[js]).n(js)),e[Rr]!=null&&t.c(uA(e[Rr]).n(Rr)),t},Zse=(e,r)=>{let t=new E.XmlNode(Qle);return e[js]!=null&&t.c(E.XmlNode.of(Aq,e[js]).n(js)),e[Rr]!=null&&t.c(uA(e[Rr]).n(Rr)),t},eoe=(e,r)=>{let t=new E.XmlNode(Fh);return e[hs]!=null&&t.c(YU(e[hs]).n(hs)),e[Rr]!=null&&t.c(uA(e[Rr]).n(Rr)),t},toe=(e,r)=>{let t=new E.XmlNode(ide);return e[hs]!=null&&t.c(YU(e[hs]).n(hs)),t},roe=(e,r)=>{let t=new E.XmlNode(nde);return e[Jr]!=null&&t.c(E.XmlNode.of(ode,e[Jr]).n(Jr)),t},noe=(e,r)=>{let t=new E.XmlNode(sde);return t.cc(e,xA),t},soe=(e,r)=>{let t=new E.XmlNode(dde);return e[ue]!=null&&t.c(E.XmlNode.of(_A,e[ue]).n(ue)),e[Uh]!=null&&t.c(E.XmlNode.of(Uh,e[Uh]).n(D0)),t.l(e,"Events","Event",()=>dA(e[Ks])),e[de]!=null&&t.c(mA(e[de]).n(de)),t},ooe=(e,r)=>e.filter(t=>t!=null).map(t=>soe(t).n(rr)),ioe=(e,r)=>{let t=new E.XmlNode(lde);return e[qr]!=null&&t.c(E.XmlNode.of(qr,i.serializeDateTime(e[qr]).toString()).n(qr)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Oi]!=null&&t.c(E.XmlNode.of(Oi,String(e[Oi])).n(Oi)),t},aoe=(e,r)=>{let t=new E.XmlNode(gde);return e[$t]!=null&&t.c(ioe(e[$t]).n($t)),t.cc(e,Rt),t.cc(e,X),e[de]!=null&&t.c(loe(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(Ble,e[Q]).n(Q)),t.l(e,"Transitions","Transition",()=>wie(e[aA])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>Coe(e[W0])),e[Qi]!=null&&t.c(boe(e[Qi]).n(Qi)),e[Ui]!=null&&t.c(nse(e[Ui]).n(Ui)),t},coe=(e,r)=>{let t=new E.XmlNode(hde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[kr])),e[Rn]!=null&&t.c(E.XmlNode.of(Tq,String(e[Rn])).n(Rn)),e[In]!=null&&t.c(E.XmlNode.of(Rq,String(e[In])).n(In)),t},loe=(e,r)=>{let t=new E.XmlNode(pde);return t.cc(e,X),e[xe]!=null&&t.c(fl(e[xe]).n(xe)),e[Rn]!=null&&t.c(E.XmlNode.of(Tq,String(e[Rn])).n(Rn)),e[In]!=null&&t.c(E.XmlNode.of(Rq,String(e[In])).n(In)),e[bt]!=null&&t.c(coe(e[bt]).n(bt)),t},doe=(e,r)=>e.filter(t=>t!=null).map(t=>aoe(t).n(rr)),uoe=(e,r)=>{let t=new E.XmlNode(ude);return e[Jr]!=null&&t.c(E.XmlNode.of(yde,e[Jr]).n(Jr)),e[wt]!=null&&t.c(E.XmlNode.of(mde,e[wt]).n(wt)),t},moe=(e,r)=>{let t=new E.XmlNode(Yi);return t.cc(e,ip),t.lc(e,"TargetGrants","TargetGrants",()=>yie(e[Tc])),t.cc(e,ap),e[da]!=null&&t.c(Sie(e[da]).n(da)),t},foe=(e,r)=>{let t=new E.XmlNode(bde);return e[Fh]!=null&&t.c(eoe(e[Fh]).n(Fh)),e[Lh]!=null&&t.c(Qse(e[Lh]).n(Lh)),t},goe=(e,r)=>{let t=new E.XmlNode(Pq);return e[wt]!=null&&t.c(E.XmlNode.of(Ade,e[wt]).n(wt)),e[an]!=null&&t.c(E.XmlNode.of(Rde,e[an]).n(an)),t},hoe=(e,r)=>{let t=new E.XmlNode(vde);return e[np]!=null&&t.c(rie(e[np]).n(np)),t},uA=(e,r)=>{let t=new E.XmlNode(Tde);return e[C0]!=null&&t.c(E.XmlNode.of(Aue,e[C0]).n(C0)),t.cc(e,ade),t},poe=(e,r)=>{let t=new E.XmlNode(Ji);return e[Q]!=null&&t.c(E.XmlNode.of(Pde,e[Q]).n(Q)),e[Uc]!=null&&t.c(JU(e[Uc]).n(Uc)),t},yoe=(e,r)=>{let t=new E.XmlNode(Sde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[kr])),t.cc(e,qs),t},Soe=(e,r)=>{let t=new E.XmlNode(G0);return e[ue]!=null&&t.c(E.XmlNode.of(wde,e[ue]).n(ue)),e[de]!=null&&t.c(Eoe(e[de]).n(de)),t},Eoe=(e,r)=>{let t=new E.XmlNode(xde);return S.MetricsFilter.visit(e,{Prefix:n=>{e[X]!=null&&t.c(E.XmlNode.of(X,n).n(X))},Tag:n=>{e[xe]!=null&&t.c(fl(n).n(xe))},AccessPointArn:n=>{e[qs]!=null&&t.c(E.XmlNode.of(qs,n).n(qs))},And:n=>{e[bt]!=null&&t.c(yoe(n).n(bt))},_:(n,s)=>{if(!(s instanceof E.XmlNode||s instanceof E.XmlText))throw new Error("Unable to serialize unknown union members in XML.");t.c(new E.XmlNode(n).c(s))}}),t},boe=(e,r)=>{let t=new E.XmlNode(Qi);return e[vn]!=null&&t.c(E.XmlNode.of(Oe,String(e[vn])).n(vn)),e[Tn]!=null&&t.c(E.XmlNode.of(Hq,String(e[Tn])).n(Tn)),t},_oe=(e,r)=>{let t=new E.XmlNode(X0);return e[vn]!=null&&t.c(E.XmlNode.of(Oe,String(e[vn])).n(vn)),e[Ae]!=null&&t.c(E.XmlNode.of(zq,e[Ae]).n(Ae)),e[Tn]!=null&&t.c(E.XmlNode.of(Hq,String(e[Tn])).n(Tn)),t},Coe=(e,r)=>e.filter(t=>t!=null).map(t=>_oe(t).n(rr)),xoe=(e,r)=>{let t=new E.XmlNode(Ide);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>Cie(e[nA])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>zoe(e[J0])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>ooe(e[V0])),e[$i]!=null&&t.c(Bse(e[$i]).n($i)),t},mA=(e,r)=>{let t=new E.XmlNode(kde);return e[ye]!=null&&t.c(eie(e[ye]).n(Z0)),t},woe=(e,r)=>{let t=new E.XmlNode(Dde);return e[ye]!=null&&t.c(E.XmlNode.of(CA,e[ye]).n(ye)),e[Te]!=null&&t.c(E.XmlNode.of(qde,e[Te]).n(Te)),t.cc(e,it),e[vh]!=null&&t.c(E.XmlNode.of(vh,i.dateToUtcString(e[vh]).toString()).n(vh)),e[Sr]!=null&&t.c(E.XmlNode.of(Sr,String(e[Sr])).n(Sr)),t},Aoe=(e,r)=>e.filter(t=>t!=null).map(t=>woe(t).n(rr)),Poe=(e,r)=>{let t=new E.XmlNode(Mde);return t.cc(e,Vh),e[Yr]!=null&&t.c(Roe(e[Yr]).n(Yr)),t},voe=(e,r)=>{let t=new E.XmlNode(Lde);return e[Q]!=null&&t.c(E.XmlNode.of(ya,e[Q]).n(Q)),t},Toe=(e,r)=>{let t=new E.XmlNode(Fde);return e[Pn]!=null&&t.c(E.XmlNode.of(vq,e[Pn]).n(Pn)),e[tl]!=null&&t.c(E.XmlNode.of(qr,i.serializeDateTime(e[tl]).toString()).n(tl)),t},Roe=(e,r)=>{let t=new E.XmlNode(zde);return e[ji]!=null&&t.c(vse(e[ji]).n(ji)),t},Ioe=(e,r)=>{let t=new E.XmlNode($h);return e[A0]!=null&&t.c(tie(e[A0]).n(A0)),t},XU=(e,r)=>{let t=new E.XmlNode(Zi);return e[Fc]!=null&&t.c(Pse(e[Fc]).n(Fc)),e[Gc]!=null&&t.c(noe(e[Gc]).n(Gc)),t},koe=(e,r)=>{let t=new E.XmlNode(je);return t.cc(e,qn),t.cc(e,Rt),t},Ooe=(e,r)=>{let t=new E.XmlNode(Ode);return t.l(e,"Rules","Rule",()=>Boe(e[Nn])),t},Noe=(e,r)=>{let t=new E.XmlNode(Bde);return t.cc(e,Su),t},Boe=(e,r)=>e.filter(t=>t!=null).map(t=>Noe(t).n(rr)),Doe=(e,r)=>new E.XmlNode($de),Moe=(e,r)=>{let t=new E.XmlNode(ea);return t.cc(e,Gh),t},Loe=(e,r)=>{let t=new E.XmlNode(jde);return e[Bc]!=null&&t.c(E.XmlNode.of(Rh,String(e[Bc])).n(Bc)),e[$c]!=null&&t.c(E.XmlNode.of(Rh,String(e[$c])).n($c)),e[Dc]!=null&&t.c(E.XmlNode.of(Rh,String(e[Dc])).n(Dc)),e[Zc]!=null&&t.c(E.XmlNode.of(Rh,String(e[Zc])).n(Zc)),t},Foe=(e,r)=>{let t=new E.XmlNode(Y0);return e[ue]!=null&&t.c(E.XmlNode.of(_A,e[ue]).n(ue)),e[Wh]!=null&&t.c(E.XmlNode.of(Wh,e[Wh]).n(Q0)),t.l(e,"Events","Event",()=>dA(e[Ks])),e[de]!=null&&t.c(mA(e[de]).n(de)),t},zoe=(e,r)=>e.filter(t=>t!=null).map(t=>Foe(t).n(rr)),YU=(e,r)=>{let t=new E.XmlNode(hs);return e[$t]!=null&&t.c(E.XmlNode.of(Dle,e[$t]).n($t)),e[Oe]!=null&&t.c(E.XmlNode.of(Kde,String(e[Oe])).n(Oe)),t},Uoe=(e,r)=>{let t=new E.XmlNode(sa);return t.cc(e,zo),t.cc(e,Mh),t.cc(e,Ho),t.cc(e,Yh),t.cc(e,Jh),t},qoe=(e,r)=>{let t=new E.XmlNode(ta);return t.cc(e,zo),t.cc(e,Ho),t},Hoe=(e,r)=>{let t=new E.XmlNode(ra);return e[Q]!=null&&t.c(E.XmlNode.of(Wde,e[Q]).n(Q)),t},joe=(e,r)=>{let t=new E.XmlNode(Gde);return t.cc(e,Zh),t.l(e,"Rules","Rule",()=>Koe(e[Nn])),t},$oe=(e,r)=>{let t=new E.XmlNode(rue);return t.cc(e,Rt),e[Mi]!=null&&t.c(E.XmlNode.of(Mi,String(e[Mi])).n(Mi)),t.cc(e,X),e[de]!=null&&t.c(Goe(e[de]).n(de)),e[Q]!=null&&t.c(E.XmlNode.of(eue,e[Q]).n(Q)),e[ca]!=null&&t.c(die(e[ca]).n(ca)),e[Gi]!=null&&t.c(Dse(e[Gi]).n(Gi)),e[Zt]!=null&&t.c(Ise(e[Zt]).n(Zt)),e[Hi]!=null&&t.c(Rse(e[Hi]).n(Hi)),t},Voe=(e,r)=>{let t=new E.XmlNode(Qde);return t.cc(e,X),t.l(e,"Tags","Tag",()=>ha(e[kr])),t},Goe=(e,r)=>{let t=new E.XmlNode(Zde);return t.cc(e,X),e[xe]!=null&&t.c(fl(e[xe]).n(xe)),e[bt]!=null&&t.c(Voe(e[bt]).n(bt)),t},Koe=(e,r)=>e.filter(t=>t!=null).map(t=>$oe(t).n(rr)),Woe=(e,r)=>{let t=new E.XmlNode(na);return e[Q]!=null&&t.c(E.XmlNode.of(iue,e[Q]).n(Q)),e[il]!=null&&t.c(JU(e[il]).n(il)),t},JU=(e,r)=>{let t=new E.XmlNode(aue);return e[Di]!=null&&t.c(E.XmlNode.of(Di,String(e[Di])).n(Di)),t},Xoe=(e,r)=>{let t=new E.XmlNode(Yde);return t.cc(e,Kh),t},Yoe=(e,r)=>{let t=new E.XmlNode(Qh);return e[n0]!=null&&t.c(E.XmlNode.of(Nle,String(e[n0])).n(n0)),t},Joe=(e,r)=>{let t=new E.XmlNode(nue);return e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Bh]!=null&&t.c(zse(e[Bh]).n(Bh)),e[Jr]!=null&&t.c(E.XmlNode.of(tue,e[Jr]).n(Jr)),t.cc(e,Uq),t.cc(e,kle),e[tp]!=null&&t.c(sie(e[tp]).n(tp)),e[$h]!=null&&t.c(Ioe(e[$h]).n($h)),t},Qoe=(e,r)=>{let t=new E.XmlNode(kp);return e[qi]!=null&&t.c(bse(e[qi]).n(qi)),e[sa]!=null&&t.c(Uoe(e[sa]).n(sa)),t},Zoe=(e,r)=>e.filter(t=>t!=null).map(t=>Qoe(t).n(kp)),eie=(e,r)=>{let t=new E.XmlNode(fue);return t.l(e,"FilterRules","FilterRule",()=>Fse(e[q0])),t},tie=(e,r)=>{let t=new E.XmlNode(gue);return t.cc(e,kS),e[X]!=null&&t.c(E.XmlNode.of(fde,e[X]).n(X)),e[fs]!=null&&t.c(kse(e[fs]).n(fs)),e[Yw]!=null&&t.c(E.XmlNode.of(Nde,e[Yw]).n(Yw)),t.lc(e,"AccessControlList","AccessControlList",()=>KU(e[Fi])),e[la]!=null&&t.c(fA(e[la]).n(la)),t.lc(e,"UserMetadata","UserMetadata",()=>Aie(e[Pue])),t.cc(e,Ae),t},rie=(e,r)=>{let t=new E.XmlNode(np);return e[Gs]!=null&&t.c(E.XmlNode.of(bue,e[Gs]).n(Gs)),e[On]!=null&&t.c(E.XmlNode.of(_ue,e[On]).n(On)),t},nie=(e,r)=>{let t=new E.XmlNode(rp);return e[Ih]!=null&&t.c(E.XmlNode.of(Ih,String(e[Ih])).n(Ih)),e[Ph]!=null&&t.c(E.XmlNode.of(Ph,String(e[Ph])).n(Ph)),t},sie=(e,r)=>{let t=new E.XmlNode(tp);return e[Wi]!=null&&t.c(WU(e[Wi]).n(Wi)),t.cc(e,Cq),t.cc(e,xq),e[Zi]!=null&&t.c(XU(e[Zi]).n(Zi)),t},oie=(e,r)=>{let t=new E.XmlNode(yue);return e[rl]!=null&&t.c(E.XmlNode.of(Or,e[rl]).n(rl)),e[Wc]!=null&&t.c(E.XmlNode.of(Er,e[Wc]).n(Wc)),t},iie=(e,r)=>{let t=new E.XmlNode(Sue);return t.l(e,"Rules","Rule",()=>cie(e[Nn])),t},aie=(e,r)=>{let t=new E.XmlNode(Eue);return e[Ic]!=null&&t.c(oie(e[Ic]).n(Ic)),e[Et]!=null&&t.c(E.XmlNode.of(Et,String(e[Et])).n(Et)),t},cie=(e,r)=>e.filter(t=>t!=null).map(t=>aie(t).n(rr)),lie=(e,r)=>new E.XmlNode(aa),die=(e,r)=>{let t=new E.XmlNode(ca);return e[ia]!=null&&t.c(mie(e[ia]).n(ia)),e[ra]!=null&&t.c(Hoe(e[ra]).n(ra)),t},uie=(e,r)=>{let t=new E.XmlNode(Op);return e[Kc]!=null&&t.c(E.XmlNode.of(Er,e[Kc]).n(Kc)),t},mie=(e,r)=>{let t=new E.XmlNode(ia);return e[Q]!=null&&t.c(E.XmlNode.of(mue,e[Q]).n(Q)),t},fie=(e,r)=>new E.XmlNode(Np),gie=(e,r)=>{let t=new E.XmlNode(oa);return e[zc]!=null&&t.c(hie(e[zc]).n(zc)),t},hie=(e,r)=>{let t=new E.XmlNode(cue);return e[Qc]!=null&&t.c(E.XmlNode.of(lue,e[Qc]).n(Qc)),e[Zt]!=null&&t.c(use(e[Zt]).n(Zt)),t},fl=(e,r)=>{let t=new E.XmlNode(xe);return e[ye]!=null&&t.c(E.XmlNode.of(CA,e[ye]).n(ye)),t.cc(e,an),t},fA=(e,r)=>{let t=new E.XmlNode(la);return t.lc(e,"TagSet","TagSet",()=>ha(e[zn])),t},ha=(e,r)=>e.filter(t=>t!=null).map(t=>fl(t).n(xe)),pie=(e,r)=>{let t=new E.XmlNode(xue);if(e[on]!=null){let n=GU(e[on]).n(on);n.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(n)}return e[gs]!=null&&t.c(E.XmlNode.of(ule,e[gs]).n(gs)),t},yie=(e,r)=>e.filter(t=>t!=null).map(t=>pie(t).n(Ws)),Sie=(e,r)=>{let t=new E.XmlNode(da);return e[aa]!=null&&t.c(lie(e[aa]).n(aa)),e[ea]!=null&&t.c(Moe(e[ea]).n(ea)),t},Eie=(e,r)=>{let t=new E.XmlNode(oA);return e[Oe]!=null&&t.c(E.XmlNode.of(Zle,String(e[Oe])).n(Oe)),e[Hs]!=null&&t.c(E.XmlNode.of(Jle,e[Hs]).n(Hs)),t},bie=(e,r)=>e.filter(t=>t!=null).map(t=>Eie(t).n(rr)),_ie=(e,r)=>{let t=new E.XmlNode(rA);return e[ue]!=null&&t.c(E.XmlNode.of(_A,e[ue]).n(ue)),e[op]!=null&&t.c(E.XmlNode.of(op,e[op]).n(iA)),t.l(e,"Events","Event",()=>dA(e[Ks])),e[de]!=null&&t.c(mA(e[de]).n(de)),t},Cie=(e,r)=>e.filter(t=>t!=null).map(t=>_ie(t).n(rr)),xie=(e,r)=>{let t=new E.XmlNode(cA);return e[qr]!=null&&t.c(E.XmlNode.of(qr,i.serializeDateTime(e[qr]).toString()).n(qr)),e[Oe]!=null&&t.c(E.XmlNode.of(Oe,String(e[Oe])).n(Oe)),e[Ae]!=null&&t.c(E.XmlNode.of(zq,e[Ae]).n(Ae)),t},wie=(e,r)=>e.filter(t=>t!=null).map(t=>xie(t).n(rr)),Aie=(e,r)=>e.filter(t=>t!=null).map(t=>goe(t).n(Pq)),Pie=(e,r)=>{let t=new E.XmlNode(vue);return e[Hh]!=null&&t.c(E.XmlNode.of(Hh,e[Hh]).n(K0)),e[Q]!=null&&t.c(E.XmlNode.of(hle,e[Q]).n(Q)),t},vie=(e,r)=>{let t=new E.XmlNode(Tue);return e[Vi]!=null&&t.c(Nse(e[Vi]).n(Vi)),e[Ki]!=null&&t.c(qse(e[Ki]).n(Ki)),e[ta]!=null&&t.c(qoe(e[ta]).n(ta)),t.lc(e,"RoutingRules","RoutingRules",()=>Zoe(e[vc])),t},Tie=(e,r)=>{let t={};return e[ki]!=null&&(t[ki]=i.strictParseInt32(e[ki])),t},Rie=(e,r)=>{let t={};return e[je]!=null&&(t[je]=i.expectString(e[je])),t},Iie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),kie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Oie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Nie=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[kr]=[]:e[xe]!=null&&(t[kr]=pa(i.getArrayIfSingleItem(e[xe]))),t},QU=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),String(e.Filter).trim()===""||e[de]!=null&&(t[de]=Mie(i.expectUnion(e[de]))),e[oa]!=null&&(t[oa]=Fce(e[oa])),t},Bie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>QU(t)),Die=(e,r)=>{let t={};return e[kn]!=null&&(t[kn]=Lie(e[kn])),t},Mie=(e,r)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:gl(e[xe])}:e[bt]!=null?{And:Nie(e[bt])}:{$unknown:Object.entries(e)[0]},Lie=(e,r)=>{let t={};return e[wn]!=null&&(t[wn]=i.expectString(e[wn])),e[Oc]!=null&&(t[Oc]=i.expectString(e[Oc])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[X]!=null&&(t[X]=i.expectString(e[X])),t},Fie=(e,r)=>{let t={};return e[wt]!=null&&(t[wt]=i.expectString(e[wt])),e[Jw]!=null&&(t[Jw]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[Jw]))),e[yu]!=null&&(t[yu]=i.expectString(e[yu])),e[pu]!=null&&(t[pu]=i.expectString(e[pu])),t},ZU=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Fie(t)),zie=(e,r)=>{let t={};return e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),e[ht]!=null&&(t[ht]=i.expectString(e[ht])),t},eq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),Uie=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},IS=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uie(t)),qie=(e,r)=>{let t={};return e[Dh]!=null&&(t[Dh]=i.expectString(e[Dh])),e[zh]!=null&&(t[zh]=i.expectString(e[zh])),t},Hie=(e,r)=>({}),jie=(e,r)=>{let t={};return e[it]!=null&&(t[it]=i.expectString(e[it])),e[It]!=null&&(t[It]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[It]))),e[ht]!=null&&(t[ht]=i.expectString(e[ht])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),t},$ie=(e,r)=>{let t={};return e[it]!=null&&(t[it]=i.expectString(e[it])),e[It]!=null&&(t[It]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[It]))),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),t},Vie=(e,r)=>{let t={};return e[Rt]!=null&&(t[Rt]=i.expectString(e[Rt])),String(e.AllowedHeader).trim()===""?t[I0]=[]:e[R0]!=null&&(t[I0]=Iie(i.getArrayIfSingleItem(e[R0]))),String(e.AllowedMethod).trim()===""?t[O0]=[]:e[k0]!=null&&(t[O0]=kie(i.getArrayIfSingleItem(e[k0]))),String(e.AllowedOrigin).trim()===""?t[B0]=[]:e[N0]!=null&&(t[B0]=Oie(i.getArrayIfSingleItem(e[N0]))),String(e.ExposeHeader).trim()===""?t[F0]=[]:e[z0]!=null&&(t[F0]=cae(i.getArrayIfSingleItem(e[z0]))),e[Bi]!=null&&(t[Bi]=i.strictParseInt32(e[Bi])),t},Gie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Vie(t)),Kie=(e,r)=>{let t={};return e[Pn]!=null&&(t[Pn]=i.expectString(e[Pn])),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Li]!=null&&(t[Li]=i.strictParseInt32(e[Li])),t},Wie=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Un]!=null&&(t[Un]=i.parseBoolean(e[Un])),e[e0]!=null&&(t[e0]=i.expectString(e[e0])),t},Xie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Wie(t)),Yie=(e,r)=>{let t={};return e[je]!=null&&(t[je]=Go(e[je])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Hc]!=null&&(t[Hc]=i.parseBoolean(e[Hc])),e[It]!=null&&(t[It]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[It]))),t},Jie=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Qie=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Yie(t)),Zie=(e,r)=>{let t={};return e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[kc]!=null&&(t[kc]=i.expectString(e[kc])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[zi]!=null&&(t[zi]=Rie(e[zi])),e[Rr]!=null&&(t[Rr]=tae(e[Rr])),e[na]!=null&&(t[na]=Cce(e[na])),e[Ji]!=null&&(t[Ji]=Fae(e[Ji])),t},eae=(e,r)=>{let t={};return e[P0]!=null&&(t[P0]=i.expectString(e[P0])),e[Gs]!=null&&(t[Gs]=i.expectString(e[Gs])),e[sl]!=null&&(t[sl]=i.expectString(e[sl])),t},tae=(e,r)=>{let t={};return e[Xh]!=null&&(t[Xh]=i.expectString(e[Xh])),t},rae=(e,r)=>({}),nae=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Zw]!=null&&(t[Zw]=i.expectString(e[Zw])),e[f0]!=null&&(t[f0]=i.expectString(e[f0])),t},gA=(e,r)=>{let t={};return e[Oh]!=null&&(t[Oh]=i.expectString(e[Oh])),e[Nh]!=null&&(t[Nh]=i.expectString(e[Nh])),t},sae=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),t},oae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>nae(t)),iae=(e,r)=>({}),hA=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),aae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},cae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),lae=(e,r)=>{let t={};return e[wt]!=null&&(t[wt]=i.expectString(e[wt])),e[an]!=null&&(t[an]=i.expectString(e[an])),t},dae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>lae(t)),uae=(e,r)=>{let t={};return e[u0]!=null&&(t[u0]=Mae(e[u0])),t},mae=(e,r)=>{let t={};return e[m0]!=null&&(t[m0]=Lae(e[m0])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[Hn]!=null&&(t[Hn]=gA(e[Hn])),t},fae=(e,r)=>{let t={};return e[ll]!=null&&(t[wue]=i.strictParseInt32(e[ll])),e[qo]!=null&&(t[qo]=i.expectString(e[qo])),e[Jc]!=null&&(t[Jc]=i.expectString(e[Jc])),e[$s]!=null&&(t[$s]=i.strictParseInt32(e[$s])),e[Je]!=null&&(t[Je]=i.parseBoolean(e[Je])),String(e.Part).trim()===""?t[bu]=[]:e[Ip]!=null&&(t[bu]=ace(i.getArrayIfSingleItem(e[Ip]))),t},gae=(e,r)=>{let t={};return e[on]!=null&&(t[on]=tq(e[on])),e[gs]!=null&&(t[gs]=i.expectString(e[gs])),t},tq=(e,r)=>{let t={};return e[qn]!=null&&(t[qn]=i.expectString(e[qn])),e[kh]!=null&&(t[kh]=i.expectString(e[kh])),e[Rt]!=null&&(t[Rt]=i.expectString(e[Rt])),e[lp]!=null&&(t[lp]=i.expectString(e[lp])),e[tU]!=null&&(t[Jr]=i.expectString(e[tU])),t},rq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>gae(t)),hae=(e,r)=>{let t={};return e[sp]!=null&&(t[sp]=i.expectString(e[sp])),t},nq=(e,r)=>{let t={};return e[Rt]!=null&&(t[Rt]=i.expectString(e[Rt])),e[qn]!=null&&(t[qn]=i.expectString(e[qn])),t},pae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[kr]=[]:e[xe]!=null&&(t[kr]=pa(i.getArrayIfSingleItem(e[xe]))),t},sq=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[de]!=null&&(t[de]=Sae(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Tiering).trim()===""?t[sA]=[]:e[oA]!=null&&(t[sA]=$ce(i.getArrayIfSingleItem(e[oA]))),t},yae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>sq(t)),Sae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=gl(e[xe])),e[bt]!=null&&(t[bt]=pae(e[bt])),t},oq=(e,r)=>{let t={};return e[Zt]!=null&&(t[Zt]=bae(e[Zt])),e[Ni]!=null&&(t[Ni]=i.parseBoolean(e[Ni])),e[de]!=null&&(t[de]=Cae(e[de])),e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[jc]!=null&&(t[jc]=i.expectString(e[jc])),String(e.OptionalFields).trim()===""?t[Pc]=[]:e[Pc]!=null&&e[Pc][H0]!=null&&(t[Pc]=xae(i.getArrayIfSingleItem(e[Pc][H0]))),e[nl]!=null&&(t[nl]=Aae(e[nl])),t},Eae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>oq(t)),bae=(e,r)=>{let t={};return e[kn]!=null&&(t[kn]=wae(e[kn])),t},_ae=(e,r)=>{let t={};return e[Np]!=null&&(t[tA]=Mce(e[Np])),e[Op]!=null&&(t[eA]=Bce(e[Op])),t},Cae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),t},xae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>i.expectString(t)),wae=(e,r)=>{let t={};return e[Rc]!=null&&(t[Rc]=i.expectString(e[Rc])),e[Me]!=null&&(t[Me]=i.expectString(e[Me])),e[wn]!=null&&(t[wn]=i.expectString(e[wn])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[fs]!=null&&(t[fs]=_ae(e[fs])),t},Aae=(e,r)=>{let t={};return e[qc]!=null&&(t[qc]=i.expectString(e[qc])),t},Pae=(e,r)=>{let t={};return e[js]!=null&&(t[js]=i.expectString(e[js])),e[ol]!=null&&(t[ol]=i.expectString(e[ol])),e[Hn]!=null&&(t[Hn]=gA(e[Hn])),e[On]!=null&&(t[On]=i.expectString(e[On])),e[Vs]!=null&&(t[Vs]=i.expectString(e[Vs])),t},vae=(e,r)=>{let t={};return e[ol]!=null&&(t[ol]=i.expectString(e[ol])),e[Hn]!=null&&(t[Hn]=gA(e[Hn])),e[On]!=null&&(t[On]=i.expectString(e[On])),e[Vs]!=null&&(t[Vs]=i.expectString(e[Vs])),e[hs]!=null&&(t[hs]=fce(e[hs])),t},Tae=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[D0]!=null&&(t[Uh]=i.expectString(e[D0])),String(e.Event).trim()===""?t[Ks]=[]:e[ua]!=null&&(t[Ks]=hA(i.getArrayIfSingleItem(e[ua]))),e[de]!=null&&(t[de]=pA(e[de])),t},Rae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Tae(t)),Iae=(e,r)=>{let t={};return e[qr]!=null&&(t[qr]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[qr]))),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Oi]!=null&&(t[Oi]=i.parseBoolean(e[Oi])),t},kae=(e,r)=>{let t={};return e[$t]!=null&&(t[$t]=Iae(e[$t])),e[Rt]!=null&&(t[Rt]=i.expectString(e[Rt])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[de]!=null&&(t[de]=Nae(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),String(e.Transition).trim()===""?t[aA]=[]:e[cA]!=null&&(t[aA]=Wce(i.getArrayIfSingleItem(e[cA]))),String(e.NoncurrentVersionTransition).trim()===""?t[W0]=[]:e[X0]!=null&&(t[W0]=Gae(i.getArrayIfSingleItem(e[X0]))),e[Qi]!=null&&(t[Qi]=$ae(e[Qi])),e[Ui]!=null&&(t[Ui]=Tie(e[Ui])),t},Oae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[kr]=[]:e[xe]!=null&&(t[kr]=pa(i.getArrayIfSingleItem(e[xe]))),e[Rn]!=null&&(t[Rn]=i.strictParseLong(e[Rn])),e[In]!=null&&(t[In]=i.strictParseLong(e[In])),t},Nae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=gl(e[xe])),e[Rn]!=null&&(t[Rn]=i.strictParseLong(e[Rn])),e[In]!=null&&(t[In]=i.strictParseLong(e[In])),e[bt]!=null&&(t[bt]=Oae(e[bt])),t},Bae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>kae(t)),Dae=(e,r)=>{let t={};return e[ip]!=null&&(t[ip]=i.expectString(e[ip])),String(e.TargetGrants).trim()===""?t[Tc]=[]:e[Tc]!=null&&e[Tc][Ws]!=null&&(t[Tc]=qce(i.getArrayIfSingleItem(e[Tc][Ws]))),e[ap]!=null&&(t[ap]=i.expectString(e[ap])),e[da]!=null&&(t[da]=Hce(e[da])),t},Mae=(e,r)=>{let t={};return e[t0]!=null&&(t[t0]=eae(e[t0])),e[c0]!=null&&(t[c0]=vae(e[c0])),e[i0]!=null&&(t[i0]=Pae(e[i0])),t},Lae=(e,r)=>{let t={};return e[w0]!=null&&(t[w0]=Pce(e[w0])),t},Fae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[Uc]!=null&&(t[Uc]=cq(e[Uc])),t},zae=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[kr]=[]:e[xe]!=null&&(t[kr]=pa(i.getArrayIfSingleItem(e[xe]))),e[qs]!=null&&(t[qs]=i.expectString(e[qs])),t},iq=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),String(e.Filter).trim()===""||e[de]!=null&&(t[de]=qae(i.expectUnion(e[de]))),t},Uae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>iq(t)),qae=(e,r)=>e[X]!=null?{Prefix:i.expectString(e[X])}:e[xe]!=null?{Tag:gl(e[xe])}:e[qs]!=null?{AccessPointArn:i.expectString(e[qs])}:e[bt]!=null?{And:zae(e[bt])}:{$unknown:Object.entries(e)[0]},Hae=(e,r)=>{let t={};return e[Qr]!=null&&(t[Qr]=i.expectString(e[Qr])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[a0]!=null&&(t[a0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[a0]))),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[je]!=null&&(t[je]=Go(e[je])),e[Vc]!=null&&(t[Vc]=nq(e[Vc])),e[be]!=null&&(t[be]=i.expectString(e[be])),e[ht]!=null&&(t[ht]=i.expectString(e[ht])),t},jae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Hae(t)),$ae=(e,r)=>{let t={};return e[vn]!=null&&(t[vn]=i.strictParseInt32(e[vn])),e[Tn]!=null&&(t[Tn]=i.strictParseInt32(e[Tn])),t},Vae=(e,r)=>{let t={};return e[vn]!=null&&(t[vn]=i.strictParseInt32(e[vn])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[Tn]!=null&&(t[Tn]=i.strictParseInt32(e[Tn])),t},Gae=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Vae(t)),pA=(e,r)=>{let t={};return e[Z0]!=null&&(t[ye]=Ace(e[Z0])),t},Kae=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[It]!=null&&(t[It]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[It]))),e[it]!=null&&(t[it]=i.expectString(e[it])),String(e.ChecksumAlgorithm).trim()===""?t[be]=[]:e[be]!=null&&(t[be]=eq(i.getArrayIfSingleItem(e[be]))),e[ht]!=null&&(t[ht]=i.expectString(e[ht])),e[Sr]!=null&&(t[Sr]=i.strictParseLong(e[Sr])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[je]!=null&&(t[je]=Go(e[je])),e[el]!=null&&(t[el]=lq(e[el])),t},aq=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Kae(t)),Wae=(e,r)=>{let t={};return e[Vh]!=null&&(t[Vh]=i.expectString(e[Vh])),e[Yr]!=null&&(t[Yr]=Jae(e[Yr])),t},Xae=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Yae=(e,r)=>{let t={};return e[Pn]!=null&&(t[Pn]=i.expectString(e[Pn])),e[tl]!=null&&(t[tl]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[tl]))),t},Jae=(e,r)=>{let t={};return e[ji]!=null&&(t[ji]=Kie(e[ji])),t},Qae=(e,r)=>{let t={};return e[Xr]!=null&&(t[Xr]=i.strictParseInt32(e[Xr])),e[Sr]!=null&&(t[Sr]=i.strictParseLong(e[Sr])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),t},Zae=(e,r)=>{let t={};return e[it]!=null&&(t[it]=i.expectString(e[it])),String(e.ChecksumAlgorithm).trim()===""?t[be]=[]:e[be]!=null&&(t[be]=eq(i.getArrayIfSingleItem(e[be]))),e[ht]!=null&&(t[ht]=i.expectString(e[ht])),e[Sr]!=null&&(t[Sr]=i.strictParseLong(e[Sr])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[Te]!=null&&(t[Te]=i.expectString(e[Te])),e[Hc]!=null&&(t[Hc]=i.parseBoolean(e[Hc])),e[It]!=null&&(t[It]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[It]))),e[je]!=null&&(t[je]=Go(e[je])),e[el]!=null&&(t[el]=lq(e[el])),t},ece=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Zae(t)),Go=(e,r)=>{let t={};return e[qn]!=null&&(t[qn]=i.expectString(e[qn])),e[Rt]!=null&&(t[Rt]=i.expectString(e[Rt])),t},tce=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[Nn]=[]:e[Yr]!=null&&(t[Nn]=nce(i.getArrayIfSingleItem(e[Yr]))),t},rce=(e,r)=>{let t={};return e[Su]!=null&&(t[Su]=i.expectString(e[Su])),t},nce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>rce(t)),sce=(e,r)=>{let t={};return e[Xr]!=null&&(t[Xr]=i.strictParseInt32(e[Xr])),e[It]!=null&&(t[It]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[It]))),e[it]!=null&&(t[it]=i.expectString(e[it])),e[Sr]!=null&&(t[Sr]=i.strictParseLong(e[Sr])),e[dt]!=null&&(t[dt]=i.expectString(e[dt])),e[ut]!=null&&(t[ut]=i.expectString(e[ut])),e[mt]!=null&&(t[mt]=i.expectString(e[mt])),e[ft]!=null&&(t[ft]=i.expectString(e[ft])),e[gt]!=null&&(t[gt]=i.expectString(e[gt])),t},oce=(e,r)=>{let t={};return e[Gh]!=null&&(t[Gh]=i.expectString(e[Gh])),t},ice=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>sce(t)),ace=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Qae(t)),cce=(e,r)=>{let t={};return e[s0]!=null&&(t[s0]=i.parseBoolean(e[s0])),t},lce=(e,r)=>{let t={};return e[Lc]!=null&&(t[Lc]=i.strictParseLong(e[Lc])),e[Nc]!=null&&(t[Nc]=i.strictParseLong(e[Nc])),e[Mc]!=null&&(t[Mc]=i.strictParseLong(e[Mc])),t},dce=(e,r)=>{let t={};return e[Bc]!=null&&(t[Bc]=i.parseBoolean(e[Bc])),e[$c]!=null&&(t[$c]=i.parseBoolean(e[$c])),e[Dc]!=null&&(t[Dc]=i.parseBoolean(e[Dc])),e[Zc]!=null&&(t[Zc]=i.parseBoolean(e[Zc])),t},uce=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[Q0]!=null&&(t[Wh]=i.expectString(e[Q0])),String(e.Event).trim()===""?t[Ks]=[]:e[ua]!=null&&(t[Ks]=hA(i.getArrayIfSingleItem(e[ua]))),e[de]!=null&&(t[de]=pA(e[de])),t},mce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>uce(t)),fce=(e,r)=>{let t={};return e[$t]!=null&&(t[$t]=i.expectString(e[$t])),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),t},gce=(e,r)=>{let t={};return e[zo]!=null&&(t[zo]=i.expectString(e[zo])),e[Mh]!=null&&(t[Mh]=i.expectString(e[Mh])),e[Ho]!=null&&(t[Ho]=i.expectString(e[Ho])),e[Yh]!=null&&(t[Yh]=i.expectString(e[Yh])),e[Jh]!=null&&(t[Jh]=i.expectString(e[Jh])),t},hce=(e,r)=>{let t={};return e[zo]!=null&&(t[zo]=i.expectString(e[zo])),e[Ho]!=null&&(t[Ho]=i.expectString(e[Ho])),t},pce=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},yce=(e,r)=>{let t={};return e[Zh]!=null&&(t[Zh]=i.expectString(e[Zh])),String(e.Rule).trim()===""?t[Nn]=[]:e[Yr]!=null&&(t[Nn]=_ce(i.getArrayIfSingleItem(e[Yr]))),t},Sce=(e,r)=>{let t={};return e[Rt]!=null&&(t[Rt]=i.expectString(e[Rt])),e[Mi]!=null&&(t[Mi]=i.strictParseInt32(e[Mi])),e[X]!=null&&(t[X]=i.expectString(e[X])),e[de]!=null&&(t[de]=bce(e[de])),e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[ca]!=null&&(t[ca]=Nce(e[ca])),e[Gi]!=null&&(t[Gi]=aae(e[Gi])),e[Zt]!=null&&(t[Zt]=Zie(e[Zt])),e[Hi]!=null&&(t[Hi]=Jie(e[Hi])),t},Ece=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),String(e.Tag).trim()===""?t[kr]=[]:e[xe]!=null&&(t[kr]=pa(i.getArrayIfSingleItem(e[xe]))),t},bce=(e,r)=>{let t={};return e[X]!=null&&(t[X]=i.expectString(e[X])),e[xe]!=null&&(t[xe]=gl(e[xe])),e[bt]!=null&&(t[bt]=Ece(e[bt])),t},_ce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Sce(t)),Cce=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),e[il]!=null&&(t[il]=cq(e[il])),t},cq=(e,r)=>{let t={};return e[Di]!=null&&(t[Di]=i.strictParseInt32(e[Di])),t},lq=(e,r)=>{let t={};return e[o0]!=null&&(t[o0]=i.parseBoolean(e[o0])),e[b0]!=null&&(t[b0]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[b0]))),t},xce=(e,r)=>{let t={};return e[qi]!=null&&(t[qi]=qie(e[qi])),e[sa]!=null&&(t[sa]=gce(e[sa])),t},wce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>xce(t)),Ace=(e,r)=>{let t={};return String(e.FilterRule).trim()===""?t[q0]=[]:e[U0]!=null&&(t[q0]=dae(i.getArrayIfSingleItem(e[U0]))),t},Pce=(e,r)=>{let t={};return e[Gs]!=null&&(t[Gs]=i.expectString(e[Gs])),e[On]!=null&&(t[On]=i.expectString(e[On])),e[Vs]!=null&&(t[Vs]=i.expectString(e[Vs])),e[sl]!=null&&(t[sl]=i.expectString(e[sl])),t},vce=(e,r)=>{let t={};return e[rl]!=null&&(t[rl]=i.expectString(e[rl])),e[Wc]!=null&&(t[Wc]=i.expectString(e[Wc])),t},Tce=(e,r)=>{let t={};return String(e.Rule).trim()===""?t[Nn]=[]:e[Yr]!=null&&(t[Nn]=Ice(i.getArrayIfSingleItem(e[Yr]))),t},Rce=(e,r)=>{let t={};return e[Ic]!=null&&(t[Ic]=vce(e[Ic])),e[Et]!=null&&(t[Et]=i.parseBoolean(e[Et])),t},Ice=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Rce(t)),kce=(e,r)=>{let t={};return e[Ww]!=null&&(t[Ww]=i.expectString(e[Ww])),e[_0]!=null&&(t[_0]=i.expectString(e[_0])),e[x0]!=null&&(t[x0]=i.expectString(e[x0])),e[$t]!=null&&(t[$t]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[$t]))),t},Oce=(e,r)=>({}),Nce=(e,r)=>{let t={};return e[ia]!=null&&(t[ia]=Dce(e[ia])),e[ra]!=null&&(t[ra]=pce(e[ra])),t},Bce=(e,r)=>{let t={};return e[Kc]!=null&&(t[Kc]=i.expectString(e[Kc])),t},Dce=(e,r)=>{let t={};return e[Q]!=null&&(t[Q]=i.expectString(e[Q])),t},Mce=(e,r)=>({}),Lce=(e,r)=>{let t={};return e[Lc]!=null&&(t[Lc]=i.strictParseLong(e[Lc])),e[Nc]!=null&&(t[Nc]=i.strictParseLong(e[Nc])),e[Mc]!=null&&(t[Mc]=i.strictParseLong(e[Mc])),t},Fce=(e,r)=>{let t={};return e[zc]!=null&&(t[zc]=zce(e[zc])),t},zce=(e,r)=>{let t={};return e[Qc]!=null&&(t[Qc]=i.expectString(e[Qc])),e[Zt]!=null&&(t[Zt]=Die(e[Zt])),t},gl=(e,r)=>{let t={};return e[ye]!=null&&(t[ye]=i.expectString(e[ye])),e[an]!=null&&(t[an]=i.expectString(e[an])),t},pa=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>gl(t)),Uce=(e,r)=>{let t={};return e[on]!=null&&(t[on]=tq(e[on])),e[gs]!=null&&(t[gs]=i.expectString(e[gs])),t},qce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Uce(t)),Hce=(e,r)=>{let t={};return e[aa]!=null&&(t[aa]=Oce(e[aa])),e[ea]!=null&&(t[ea]=oce(e[ea])),t},jce=(e,r)=>{let t={};return e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Hs]!=null&&(t[Hs]=i.expectString(e[Hs])),t},$ce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>jce(t)),Vce=(e,r)=>{let t={};return e[ue]!=null&&(t[ue]=i.expectString(e[ue])),e[iA]!=null&&(t[op]=i.expectString(e[iA])),String(e.Event).trim()===""?t[Ks]=[]:e[ua]!=null&&(t[Ks]=hA(i.getArrayIfSingleItem(e[ua]))),e[de]!=null&&(t[de]=pA(e[de])),t},Gce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Vce(t)),Kce=(e,r)=>{let t={};return e[qr]!=null&&(t[qr]=i.expectNonNull(i.parseRfc3339DateTimeWithOffset(e[qr]))),e[Oe]!=null&&(t[Oe]=i.strictParseInt32(e[Oe])),e[Ae]!=null&&(t[Ae]=i.expectString(e[Ae])),t},Wce=(e,r)=>(e||[]).filter(t=>t!=null).map(t=>Kce(t)),F=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Xce=(e,r)=>i.collectBody(e,r).then(t=>r.utf8Encoder(t)),bt="And",Yce="AnalyticsAndOperator",T0="AnalyticsConfiguration",hl="ACL",Fi="AccessControlList",Iz="AnalyticsConfigurationList",Jce="AccessControlPolicy",zi="AccessControlTranslation",Qce="AccelerateConfiguration",dq="AbortDate",Zce="AnalyticsExportDestination",ele="AnalyticsFilter",R0="AllowedHeader",I0="AllowedHeaders",tle="AnalyticsId",Ui="AbortIncompleteMultipartUpload",Rc="AccountId",Ww="AccessKeyId",k0="AllowedMethod",O0="AllowedMethods",N0="AllowedOrigin",B0="AllowedOrigins",rle="AccessPointAlias",qs="AccessPointArn",wh="AllowQuotedRecordDelimiter",yA="AcceptRanges",uq="AbortRuleId",nle="ArchiveStatus",sle="AnalyticsS3BucketDestination",ole="AnalyticsS3ExportFileFormat",Ic="ApplyServerSideEncryptionByDefault",Hs="AccessTier",kc="Account",Me="Bucket",pu="BucketArn",Oc="BucketAccountId",ile="BucketAccelerateStatus",al="BypassGovernanceRetention",ale="BucketInfo",Et="BucketKeyEnabled",cle="BucketLifecycleConfiguration",lle="BucketLocationConstraint",dle="BucketLocationName",ule="BucketLogsPermission",mle="BucketLoggingStatus",fle="BucketLocationType",kS="BucketName",Nc="BytesProcessed",Bc="BlockPublicAcls",Dc="BlockPublicPolicy",yu="BucketRegion",Mc="BytesReturned",Lc="BytesScanned",gle="BucketType",hle="BucketVersioningStatus",ms="Buckets",Xw="Credentials",be="ChecksumAlgorithm",Yw="CannedACL",ple="CreateBucketConfiguration",pl="CacheControl",dt="ChecksumCRC32",ut="ChecksumCRC32C",mt="ChecksumCRC64NVME",yl="ContentDisposition",Jw="CreationDate",Sl="ContentEncoding",D0="CloudFunction",kz="CloudFunctionConfiguration",El="ContentLanguage",jo="ContentLength",mq="ChecksumMode",kt="ContentMD5",yle="CompletedMultipartUpload",Sle="CORSConfiguration",M0="CORSRule",L0="CORSRules",vr="CommonPrefixes",Ele="CompletedPart",SA="ContentRange",Oz="ConfirmRemoveSelfBucketAccess",fq="CopySource",ft="ChecksumSHA1",gt="ChecksumSHA256",gq="CopySourceIfMatch",Ap="CopySourceIfModifiedSince",hq="CopySourceIfNoneMatch",Pp="CopySourceIfUnmodifiedSince",ble="CopySourceRange",pq="CopySourceSSECustomerAlgorithm",yq="CopySourceSSECustomerKey",Sq="CopySourceSSECustomerKeyMD5",Fc="CSV",Eq="CopySourceVersionId",_le="CSVInput",Cle="CSVOutput",js="ConfigurationState",ht="ChecksumType",xle="ClientToken",bl="ContentType",wle="CompressionType",ot="ContinuationToken",Qw="Checksum",Fo="Contents",Zw="Code",Ale="Comments",qi="Condition",Tr="Delimiter",ki="DaysAfterInitiation",zc="DataExport",Ple="DestinationIfMatch",Nz="DestinationIfModifiedSince",vle="DestinationIfNoneMatch",Bz="DestinationIfUnmodifiedSince",Un="DeleteMarker",Hi="DeleteMarkerReplication",Tle="DeleteMarkerReplicationStatus",e0="DeleteMarkerVersionId",Dz="DeleteMarkers",qn="DisplayName",Rle="DataRedundancy",ji="DefaultRetention",t0="DestinationResult",Oe="Days",qr="Date",Ah="Deleted",Ile="Delete",Zt="Destination",kle="Description",ps="Expires",kh="EmailAddress",$i="EventBridgeConfiguration",G="ExpectedBucketOwner",Oh="ErrorCode",Rr="EncryptionConfiguration",Vi="ErrorDocument",F0="ExposeHeaders",z0="ExposeHeader",Nh="ErrorMessage",Oi="ExpiredObjectDeleteMarker",Gi="ExistingObjectReplication",Ole="ExistingObjectReplicationStatus",Nle="EnableRequestProgress",bq="ExpiresString",_q="ExpectedSourceBucketOwner",Ble="ExpirationStatus",Dle="ExpirationState",Ir="EncodingType",it="ETag",r0="EncryptionType",Uc="EventThreshold",Cq="ExpressionType",fs="Encryption",n0="Enabled",Ph="End",Hn="Error",Mz="Errors",ua="Event",Ks="Events",xq="Expression",$t="Expiration",de="Filter",wq="FieldDelimiter",Mle="FileHeaderInfo",Lle="FetchOwner",U0="FilterRule",Fle="FilterRuleName",zle="FilterRuleValue",q0="FilterRules",H0="Field",wn="Format",qc="Frequency",Ws="Grant",_l="GrantFullControl",Bh="GlacierJobParameters",Cl="GrantRead",xl="GrantReadACP",EA="GrantWrite",wl="GrantWriteACP",Eu="Grants",on="Grantee",Dh="HttpErrorCodeReturnedEquals",zo="HostName",Mh="HttpRedirectCode",ue="Id",j0="InventoryConfiguration",Lz="InventoryConfigurationList",Aq="InventoryConfigurationState",Ki="IndexDocument",Rt="ID",Ule="InventoryDestination",Ni="IsEnabled",qle="InventoryEncryption",Hle="InventoryFilter",jle="InventoryFormat",$le="InventoryFrequency",Vle="InventoryId",Gle="InventoryIncludedObjectVersions",Hc="IsLatest",Pu="IfMatch",Fz="IfMatchInitiatedTime",zz="IfMatchLastModifiedTime",Uz="IfMatchSize",vp="IfModifiedSince",OS="IfNoneMatch",Kle="InventoryOptionalField",jc="IncludedObjectVersions",s0="IsPublic",$c="IgnorePublicAcls",o0="IsRestoreInProgress",Wi="InputSerialization",Wle="InventoryS3BucketDestination",Xle="InventorySchedule",Je="IsTruncated",Yle="IntelligentTieringAndOperator",Jle="IntelligentTieringAccessTier",$0="IntelligentTieringConfiguration",qz="IntelligentTieringConfigurationList",i0="InventoryTableConfigurationResult",Qle="InventoryTableConfigurationUpdates",Lh="InventoryTableConfiguration",Zle="IntelligentTieringDays",ede="IntelligentTieringFilter",tde="IntelligentTieringId",rde="IntelligentTieringStatus",Tp="IfUnmodifiedSince",Vc="Initiator",a0="Initiated",Gc="JSON",nde="JSONInput",sde="JSONOutput",ode="JSONType",Fh="JournalTableConfiguration",c0="JournalTableConfigurationResult",ide="JournalTableConfigurationUpdates",ye="Key",l0="KeyCount",Kc="KeyId",ade="KmsKeyArn",Uo="KeyMarker",cde="KMSContext",d0="KMSKeyId",Wc="KMSMasterKeyID",zh="KeyPrefixEquals",Xi="Location",Xc="LocationConstraint",Yi="LoggingEnabled",lde="LifecycleExpiration",Uh="LambdaFunctionArn",V0="LambdaFunctionConfigurations",dde="LambdaFunctionConfiguration",ude="LocationInfo",It="LastModified",vh="LastModifiedTime",mde="LocationNameAsString",fde="LocationPrefix",gde="LifecycleRule",hde="LifecycleRuleAndOperator",pde="LifecycleRuleFilter",yde="LocationType",qh="Marker",Sde="MetricsAndOperator",Bi="MaxAgeSeconds",Ede="MaxBuckets",G0="MetricsConfiguration",Hz="MetricsConfigurationList",u0="MetadataConfigurationResult",bde="MetadataConfiguration",_de="MetadataDirective",Cde="MaxDirectoryBuckets",K0="MfaDelete",Pq="MetadataEntry",xde="MetricsFilter",bA="MFA",Hh="MFADelete",wde="MetricsId",An="MaxKeys",Ade="MetadataKey",Rp="MissingMeta",jz="MpuObjectSize",$s="MaxParts",Pde="MetricsStatus",vde="MetadataTableConfiguration",m0="MetadataTableConfigurationResult",Tde="MetadataTableEncryptionConfiguration",jh="MaxUploads",Rde="MetadataValue",Ji="Metrics",f0="Message",Di="Minutes",Pn="Mode",wt="Name",Ide="NotificationConfiguration",kde="NotificationConfigurationFilter",Hr="NextContinuationToken",vn="NoncurrentDays",_A="NotificationId",Yc="NextKeyMarker",g0="NextMarker",Tn="NewerNoncurrentVersions",Jc="NextPartNumberMarker",h0="NextUploadIdMarker",Qi="NoncurrentVersionExpiration",p0="NextVersionIdMarker",W0="NoncurrentVersionTransitions",X0="NoncurrentVersionTransition",je="Owner",$z="ObjectAttributes",Ode="OwnershipControls",Nde="ObjectCannedACL",Bde="OwnershipControlsRule",Pc="OptionalFields",Dde="ObjectIdentifier",CA="ObjectKey",$h="OutputLocation",Mde="ObjectLockConfiguration",Vh="ObjectLockEnabled",Vz="ObjectLockEnabledForBucket",Lde="ObjectLockLegalHold",ya="ObjectLockLegalHoldStatus",Al="ObjectLockMode",Fde="ObjectLockRetention",vq="ObjectLockRetentionMode",ys="ObjectLockRetainUntilDate",zde="ObjectLockRule",Su="ObjectOwnership",cl="OptionalObjectAttributes",Ude="OwnerOverride",y0="ObjectParts",Zi="OutputSerialization",Rn="ObjectSizeGreaterThan",Tq="ObjectSizeGreaterThanBytes",In="ObjectSizeLessThan",Rq="ObjectSizeLessThanBytes",Qc="OutputSchemaVersion",S0="ObjectSize",qde="ObjectVersionId",Hde="Objects",X="Prefix",jde="PublicAccessBlockConfiguration",ll="PartsCount",Gh="PartitionDateSource",$de="ParquetInput",Xr="PartNumber",qo="PartNumberMarker",ea="PartitionedPrefix",Kh="Payer",Ip="Part",E0="Parquet",bu="Parts",gs="Permission",Ho="Protocol",Mi="Priority",Th="Quiet",Wh="QueueArn",Y0="QueueConfiguration",J0="QueueConfigurations",Iq="QuoteCharacter",kq="QuoteEscapeCharacter",Vde="QuoteFields",Q0="Queue",Oq="Range",ta="RedirectAllRequestsTo",_t="RequestCharged",Nq="ResponseCacheControl",Bq="ResponseContentDisposition",Dq="ResponseContentEncoding",Mq="ResponseContentLanguage",Lq="ResponseContentType",Gde="ReplicationConfiguration",xA="RecordDelimiter",Fq="ResponseExpires",Kde="RecordExpirationDays",b0="RestoreExpiryDate",hs="RecordExpiration",Xh="ReplicaKmsKeyID",Yh="ReplaceKeyPrefixWith",Jh="ReplaceKeyWith",ra="ReplicaModifications",Wde="ReplicaModificationsStatus",Xde="RestoreOutputPath",tt="RequestPayer",Zc="RestrictPublicBuckets",Yde="RequestPaymentConfiguration",Qh="RequestProgress",Jde="RequestRoute",Qde="ReplicationRuleAndOperator",Zde="ReplicationRuleFilter",eue="ReplicationRuleStatus",tue="RestoreRequestType",rue="ReplicationRule",nue="RestoreRequest",vc="RoutingRules",kp="RoutingRule",sue="RenameSource",wA="ReplicationStatus",el="RestoreStatus",oue="RequestToken",iue="ReplicationTimeStatus",aue="ReplicationTimeValue",na="ReplicationTime",tl="RetainUntilDate",AA="Restore",sa="Redirect",Zh="Role",Yr="Rule",Nn="Rules",Q="Status",ep="StartAfter",_0="SecretAccessKey",C0="SseAlgorithm",kn="S3BucketDestination",Ae="StorageClass",oa="StorageClassAnalysis",cue="StorageClassAnalysisDataExport",lue="StorageClassAnalysisSchemaVersion",Gz="StatusCode",Kz="SkipDestinationValidation",due="SourceIfMatch",Wz="SourceIfModifiedSince",uue="SourceIfNoneMatch",Xz="SourceIfUnmodifiedSince",Op="SSE-KMS",ia="SseKmsEncryptedObjects",mue="SseKmsEncryptedObjectsStatus",fue="S3KeyFilter",Z0="S3Key",gue="S3Location",hue="SessionMode",pue="SelectObjectContentRequest",tp="SelectParameters",aa="SimplePrefix",rp="ScanRange",Np="SSE-S3",ca="SourceSelectionCriteria",Or="ServerSideEncryption",rl="SSEAlgorithm",yue="ServerSideEncryptionByDefault",Sue="ServerSideEncryptionConfiguration",er="SSECustomerAlgorithm",$n="SSECustomerKey",tr="SSECustomerKeyMD5",eA="SSEKMS",Ko="SSEKMSEncryptionContext",Er="SSEKMSKeyId",Eue="ServerSideEncryptionRule",tA="SSES3",x0="SessionToken",bue="S3TablesBucketArn",np="S3TablesDestination",w0="S3TablesDestinationResult",_ue="S3TablesName",A0="S3",nl="Schedule",Rh="Setting",Sr="Size",Ih="Start",sp="Suffix",la="Tagging",op="TopicArn",Vs="TableArn",ip="TargetBucket",Gs="TableBucketArn",P0="TableBucketType",Bp="TagCount",rA="TopicConfiguration",nA="TopicConfigurations",Cue="TaggingDirective",PA="TransitionDefaultMinimumObjectSize",Tc="TargetGrants",xue="TargetGrant",On="TableName",sl="TableNamespace",da="TargetObjectKeyFormat",ap="TargetPrefix",wue="TotalPartsCount",zn="TagSet",Aue="TableSseAlgorithm",zq="TransitionStorageClass",ol="TableStatus",xe="Tag",kr="Tags",Uq="Tier",sA="Tierings",oA="Tiering",il="Time",qq="Token",iA="Topic",aA="Transitions",cA="Transition",Jr="Type",Yz="Upload",Qr="UploadId",cp="UploadIdMarker",Pue="UserMetadata",lp="URI",Jz="Uploads",Qz="Version",Hq="VersionCount",vue="VersioningConfiguration",Te="VersionId",dp="VersionIdMarker",an="Value",Zz="Versions",Tue="WebsiteConfiguration",eU="WriteOffsetBytes",vu="WebsiteRedirectLocation",Li="Years",NS="analytics",jq="accelerate",BS="acl",$q="accept-ranges",Rue="attributes",Iue="bucket-region",vA="cors",Tu="cache-control",Ru="content-disposition",Iu="content-encoding",ku="content-language",ma="content-length",Ot="content-md5",Vq="content-range",Ou="content-type",Sa="continuation-token",kue="delete",DS="delimiter",fa="expires",TA="encryption",MS="encoding-type",LS="etag",Gq="expiresstring",Oue="fetch-owner",Bn="id",Pl="if-match",RA="if-modified-since",FS="inventory",Nu="if-none-match",zS="intelligent-tiering",IA="if-unmodified-since",Kq="key-marker",kA="lifecycle",Wq="legal-hold",dl="last-modified",Xq="location",Yq="logging",Nue="list-type",US="metrics",OA="metadataConfiguration",Bue="metadataInventoryTable",Due="metadataJournalTable",NA="metadataTable",Mue="marker",Lue="max-buckets",Fue="max-directory-buckets",rr="member",BA="max-keys",zue="max-parts",Uue="max-uploads",Jq="notification",DA="ownershipControls",Qq="object-lock",MA="policy",LA="publicAccessBlock",qS="partNumber",que="policyStatus",Hue="part-number-marker",Bu="prefix",FA="replication",jue="renameObject",Zq="requestPayment",e2="range",t2="response-cache-control",r2="response-content-disposition",n2="response-content-encoding",s2="response-content-language",o2="response-content-type",i2="response-expires",$ue="restore",a2="retention",Vue="session",Gue="start-after",Kue="select",Wue="select-type",vl="tagging",Xue="torrent",c2="uploads",Du="uploadId",Yue="upload-id-marker",l2="versioning",Zr="versionId",Ke='<?xml version="1.0" encoding="UTF-8"?>',Jue="versions",Que="version-id-marker",zA="website",tU="xsi:type",Tl="x-amz-acl",Dp="x-amz-abort-date",rU="x-amz-access-point-alias",d2="x-amz-abort-rule-id",Zue="x-amz-archive-status",u2="x-amz-bucket-arn",UA="x-amz-bypass-governance-retention",eme="x-amz-bucket-location-name",tme="x-amz-bucket-location-type",rme="x-amz-bucket-object-lock-enabled",m2="x-amz-bucket-object-lock-token",nme="x-amz-bucket-region",qA="x-amz-checksum-algorithm",Ea="x-amz-checksum-crc32",ba="x-amz-checksum-crc32c",_a="x-amz-checksum-crc64nvme",f2="x-amz-checksum-mode",sme="x-amz-confirm-remove-self-bucket-access",Ca="x-amz-checksum-sha1",xa="x-amz-checksum-sha256",g2="x-amz-copy-source",h2="x-amz-copy-source-if-match",p2="x-amz-copy-source-if-modified-since",y2="x-amz-copy-source-if-none-match",S2="x-amz-copy-source-if-unmodified-since",ome="x-amz-create-session-mode",ime="x-amz-copy-source-range",E2="x-amz-copy-source-server-side-encryption-customer-algorithm",b2="x-amz-copy-source-server-side-encryption-customer-key",_2="x-amz-copy-source-server-side-encryption-customer-key-md5",C2="x-amz-copy-source-version-id",Rl="x-amz-checksum-type",ame="x-amz-client-token",$o="x-amz-delete-marker",Mu="x-amz-expiration",K="x-amz-expected-bucket-owner",cme="x-amz-fwd-error-code",lme="x-amz-fwd-error-message",dme="x-amz-fwd-header-accept-ranges",ume="x-amz-fwd-header-cache-control",mme="x-amz-fwd-header-content-disposition",fme="x-amz-fwd-header-content-encoding",gme="x-amz-fwd-header-content-language",hme="x-amz-fwd-header-content-range",pme="x-amz-fwd-header-content-type",yme="x-amz-fwd-header-etag",Sme="x-amz-fwd-header-expires",Eme="x-amz-fwd-header-last-modified",bme="x-amz-fwd-header-x-amz-checksum-crc32",_me="x-amz-fwd-header-x-amz-checksum-crc32c",Cme="x-amz-fwd-header-x-amz-checksum-crc64nvme",xme="x-amz-fwd-header-x-amz-checksum-sha1",wme="x-amz-fwd-header-x-amz-checksum-sha256",Ame="x-amz-fwd-header-x-amz-delete-marker",Pme="x-amz-fwd-header-x-amz-expiration",vme="x-amz-fwd-header-x-amz-missing-meta",Tme="x-amz-fwd-header-x-amz-mp-parts-count",Rme="x-amz-fwd-header-x-amz-object-lock-legal-hold",Ime="x-amz-fwd-header-x-amz-object-lock-mode",kme="x-amz-fwd-header-x-amz-object-lock-retain-until-date",Ome="x-amz-fwd-header-x-amz-restore",Nme="x-amz-fwd-header-x-amz-request-charged",Bme="x-amz-fwd-header-x-amz-replication-status",Dme="x-amz-fwd-header-x-amz-storage-class",Mme="x-amz-fwd-header-x-amz-server-side-encryption",Lme="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",Fme="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",zme="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",Ume="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",qme="x-amz-fwd-header-x-amz-tagging-count",Hme="x-amz-fwd-header-x-amz-version-id",jme="x-amz-fwd-status",Il="x-amz-grant-full-control",kl="x-amz-grant-read",Ol="x-amz-grant-read-acp",HA="x-amz-grant-write",Nl="x-amz-grant-write-acp",$me="x-amz-if-match-initiated-time",Vme="x-amz-if-match-last-modified-time",Gme="x-amz-if-match-size",jA="x-amz-mfa",Kme="x-amz-metadata-directive",Mp="x-amz-missing-meta",Wme="x-amz-mp-object-size",Xme="x-amz-max-parts",Lp="x-amz-mp-parts-count",Yme="x-amz-object-attributes",Lu="x-amz-object-lock-legal-hold",Fu="x-amz-object-lock-mode",ga="x-amz-object-lock-retain-until-date",Jme="x-amz-object-ownership",$A="x-amz-optional-object-attributes",nU="x-amz-object-size",Qme="x-amz-part-number-marker",x2="x-amz-restore",Ct="x-amz-request-charged",Zme="x-amz-restore-output-path",rt="x-amz-request-payer",efe="x-amz-request-route",tfe="x-amz-rename-source",w2="x-amz-replication-status",rfe="x-amz-rename-source-if-match",nfe="x-amz-rename-source-if-modified-since",sfe="x-amz-rename-source-if-none-match",ofe="x-amz-rename-source-if-unmodified-since",ife="x-amz-request-token",zu="x-amz-storage-class",pt="x-amz-sdk-checksum-algorithm",afe="x-amz-skip-destination-validation",A2="x-amz-source-expected-bucket-owner",cn="x-amz-server-side-encryption",ln="x-amz-server-side-encryption-aws-kms-key-id",Lt="x-amz-server-side-encryption-bucket-key-enabled",Wo="x-amz-server-side-encryption-context",ur="x-amz-server-side-encryption-customer-algorithm",Vn="x-amz-server-side-encryption-customer-key",mr="x-amz-server-side-encryption-customer-key-md5",VA="x-amz-tagging",Fp="x-amz-tagging-count",cfe="x-amz-tagging-directive",GA="x-amz-transition-default-minimum-object-size",Ss="x-amz-version-id",lfe="x-amz-write-offset-bytes",Uu="x-amz-website-redirect-location",fr="x-id",_u=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(mU,uU).ser(JZ).de(Kte).build(){},dfe=e=>{let r=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=r.findIndex(a=>a.schemeId===s.schemeId);o===-1?r.push(s):r.splice(o,1,s)},httpAuthSchemes(){return r},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){n=s},credentials(){return n}}},ufe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),mfe=(e,r)=>{let t=Object.assign(Rz.getAwsRegionExtensionConfiguration(e),i.getDefaultExtensionConfiguration(e),v0.getHttpHandlerExtensionConfiguration(e),dfe(e));return r.forEach(n=>n.configure(t)),Object.assign(e,Rz.resolveAwsRegionExtensionConfiguration(t),i.resolveDefaultRuntimeConfig(t),v0.resolveHttpHandlerRuntimeConfig(t),ufe(t))},Vo=class extends i.Client{config;constructor(...[r]){let t=wQ.getRuntimeConfig(r||{});super(t),this.initConfig=t;let n=PQ(t),s=Pz.resolveUserAgentConfig(n),o=et.resolveFlexibleChecksumsConfig(s),a=vz.resolveRetryConfig(o),c=bQ.resolveRegionConfig(a),l=Az.resolveHostHeaderConfig(c),d=q.resolveEndpointConfig(l),f=_Q.resolveEventStreamSerdeConfig(d),g=Tz.resolveHttpAuthSchemeConfig(f),y=ee.resolveS3Config(g,{session:[()=>this,_u]}),h=mfe(y,r?.extensions||[]);this.config=h,this.middlewareStack.use(Pz.getUserAgentPlugin(this.config)),this.middlewareStack.use(vz.getRetryPlugin(this.config)),this.middlewareStack.use(CQ.getContentLengthPlugin(this.config)),this.middlewareStack.use(Az.getHostHeaderPlugin(this.config)),this.middlewareStack.use(SQ.getLoggerPlugin(this.config)),this.middlewareStack.use(EQ.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(z.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:Tz.defaultS3HttpAuthSchemeParametersProvider,identityProviderConfigProvider:async _=>new z.DefaultIdentityProviderConfig({"aws.auth#sigv4":_.credentials,"aws.auth#sigv4a":_.credentials})})),this.middlewareStack.use(z.getHttpSigningPlugin(this.config)),this.middlewareStack.use(ee.getValidateBucketNamePlugin(this.config)),this.middlewareStack.use(yQ.getAddExpectContinuePlugin(this.config)),this.middlewareStack.use(ee.getRegionRedirectMiddlewarePlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressPlugin(this.config)),this.middlewareStack.use(ee.getS3ExpressHttpSigningPlugin(this.config))}destroy(){super.destroy()}},zp=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser($Z).de(Ute).build(){},Up=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(oU,sU).ser(VZ).de(qte).build(){},qp=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(aU,iU).ser(GZ).de(Hte).build(){},Hp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),AQ.getLocationConstraintPlugin(n)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(KZ).de(jte).build(){},jp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataConfiguration",{}).n("S3Client","CreateBucketMetadataConfigurationCommand").f(void 0,void 0).ser(WZ).de($te).build(){},$p=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(XZ).de(Vte).build(){},Vp=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(lU,cU).ser(YZ).de(Gte).build(){},Gp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(ZZ).de(Xte).build(){},Kp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(QZ).de(Wte).build(){},Wp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(eee).de(Yte).build(){},Xp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(tee).de(Jte).build(){},Yp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(ree).de(Qte).build(){},Jp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(nee).de(Zte).build(){},Qp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(see).de(ere).build(){},Zp=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataConfiguration",{}).n("S3Client","DeleteBucketMetadataConfigurationCommand").f(void 0,void 0).ser(oee).de(tre).build(){},ey=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(iee).de(rre).build(){},ty=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(aee).de(nre).build(){},ry=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(cee).de(sre).build(){},ny=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(lee).de(ore).build(){},sy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(dee).de(ire).build(){},oy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(uee).de(are).build(){},iy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(mee).de(cre).build(){},ay=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(fee).de(lre).build(){},cy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(gee).de(dre).build(){},ly=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(hee).de(ure).build(){},dy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(pee).de(mre).build(){},uy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(yee).de(fre).build(){},my=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(See).de(gre).build(){},fy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(Eee).de(hre).build(){},gy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(bee).de(pre).build(){},hy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,hU).ser(_ee).de(yre).build(){},py=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(Cee).de(Sre).build(){},yy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,bU).ser(xee).de(Ere).build(){},Sy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(wee).de(bre).build(){},Ey=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(Aee).de(_re).build(){},by=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(Pee).de(Cre).build(){},_y=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataConfiguration",{}).n("S3Client","GetBucketMetadataConfigurationCommand").f(void 0,void 0).ser(vee).de(xre).build(){},Cy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Tee).de(wre).build(){},xy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(Ree).de(Are).build(){},wy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(Iee).de(Pre).build(){},Ay=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(kee).de(vre).build(){},Py=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(Oee).de(Tre).build(){},vy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(Nee).de(Rre).build(){},Ty=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(Bee).de(Ire).build(){},Ry=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(Dee).de(kre).build(){},Iy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(Mee).de(Ore).build(){},ky=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(Lee).de(Nre).build(){},Oy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(Fee).de(Bre).build(){},Ny=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(Uee).de(Mre).build(){},By=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(xU,void 0).ser(qee).de(Lre).build(){},Dy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),jn.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(CU,_U).ser(zee).de(Dre).build(){},My=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(Hee).de(Fre).build(){},Ly=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(jee).de(zre).build(){},Fy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser($ee).de(Ure).build(){},zy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(Vee).de(qre).build(){},Uy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,wU).ser(Gee).de(Hre).build(){},qy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(Kee).de(jre).build(){},ul=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(Wee).de($re).build(){},ml=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n),ee.getS3ExpiresMiddlewarePlugin(n)]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(PU,AU).ser(Xee).de(Vre).build(){},Hy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(Yee).de(Gre).build(){},jy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(Jee).de(Kre).build(){},$y=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,vU).ser(Qee).de(Wre).build(){},Vy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Zee).de(Xre).build(){},Cu=class extends i.Command.classBuilder().ep(j).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(ete).de(Yre).build(){},xu=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(tte).de(Jre).build(){},Gy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(rte).de(Qre).build(){},Ky=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(nte).de(Zre).build(){},wu=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(ste).de(ene).build(){},Wy=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(ote).de(tne).build(){},Au=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(TU,void 0).ser(ite).de(rne).build(){},Xy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(ate).de(nne).build(){},Yy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(cte).de(sne).build(){},Jy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(lte).de(one).build(){},Qy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(dte).de(ine).build(){},Zy=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(RU,void 0).ser(ute).de(ane).build(){},eS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(mte).de(cne).build(){},tS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(IU,void 0).ser(fte).de(lne).build(){},rS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(gte).de(dne).build(){},nS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(hte).de(une).build(){},sS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(pte).de(mne).build(){},oS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(yte).de(fne).build(){},iS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(Ste).de(gne).build(){},aS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(Ete).de(hne).build(){},cS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(bte).de(pne).build(){},lS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(_te).de(yne).build(){},dS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(Cte).de(Sne).build(){},uS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(xte).de(Ene).build(){},mS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(wte).de(bne).build(){},fS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(Pte).de(Cne).build(){},gS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getCheckContentLengthHeaderPlugin(n),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(OU,kU).ser(Ate).de(_ne).build(){},hS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(vte).de(xne).build(){},pS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(Tte).de(wne).build(){},yS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(Rte).de(Ane).build(){},SS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(Ite).de(Pne).build(){},ES=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(kte).de(vne).build(){},bS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RenameObject",{}).n("S3Client","RenameObjectCommand").f(void 0,void 0).ser(Ote).de(Tne).build(){},_S=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(LU,void 0).ser(Nte).de(Rne).build(){},CS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(zU,FU).ser(Bte).de(Ine).build(){},xS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataInventoryTableConfiguration",{}).n("S3Client","UpdateBucketMetadataInventoryTableConfigurationCommand").f(void 0,void 0).ser(Dte).de(kne).build(){},wS=class extends i.Command.classBuilder().ep({...j,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","UpdateBucketMetadataJournalTableConfiguration",{}).n("S3Client","UpdateBucketMetadataJournalTableConfigurationCommand").f(void 0,void 0).ser(Mte).de(One).build(){},AS=class extends i.Command.classBuilder().ep({...j,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),et.getFlexibleChecksumsPlugin(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(qU,UU).ser(Lte).de(Nne).build(){},PS=class extends i.Command.classBuilder().ep({...j,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions()),ee.getThrow200ExceptionsPlugin(n),jn.getSsecPlugin(n)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(jU,HU).ser(Fte).de(Bne).build(){},vS=class extends i.Command.classBuilder().ep({...j,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(r,t,n,s){return[H.getSerdePlugin(n,this.serialize,this.deserialize),q.getEndpointPlugin(n,r.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f($U,void 0).ser(zte).de(Dne).build(){},ffe={AbortMultipartUploadCommand:zp,CompleteMultipartUploadCommand:Up,CopyObjectCommand:qp,CreateBucketCommand:Hp,CreateBucketMetadataConfigurationCommand:jp,CreateBucketMetadataTableConfigurationCommand:$p,CreateMultipartUploadCommand:Vp,CreateSessionCommand:_u,DeleteBucketCommand:Kp,DeleteBucketAnalyticsConfigurationCommand:Gp,DeleteBucketCorsCommand:Wp,DeleteBucketEncryptionCommand:Xp,DeleteBucketIntelligentTieringConfigurationCommand:Yp,DeleteBucketInventoryConfigurationCommand:Jp,DeleteBucketLifecycleCommand:Qp,DeleteBucketMetadataConfigurationCommand:Zp,DeleteBucketMetadataTableConfigurationCommand:ey,DeleteBucketMetricsConfigurationCommand:ty,DeleteBucketOwnershipControlsCommand:ry,DeleteBucketPolicyCommand:ny,DeleteBucketReplicationCommand:sy,DeleteBucketTaggingCommand:oy,DeleteBucketWebsiteCommand:iy,DeleteObjectCommand:ay,DeleteObjectsCommand:cy,DeleteObjectTaggingCommand:ly,DeletePublicAccessBlockCommand:dy,GetBucketAccelerateConfigurationCommand:uy,GetBucketAclCommand:my,GetBucketAnalyticsConfigurationCommand:fy,GetBucketCorsCommand:gy,GetBucketEncryptionCommand:hy,GetBucketIntelligentTieringConfigurationCommand:py,GetBucketInventoryConfigurationCommand:yy,GetBucketLifecycleConfigurationCommand:Sy,GetBucketLocationCommand:Ey,GetBucketLoggingCommand:by,GetBucketMetadataConfigurationCommand:_y,GetBucketMetadataTableConfigurationCommand:Cy,GetBucketMetricsConfigurationCommand:xy,GetBucketNotificationConfigurationCommand:wy,GetBucketOwnershipControlsCommand:Ay,GetBucketPolicyCommand:Py,GetBucketPolicyStatusCommand:vy,GetBucketReplicationCommand:Ty,GetBucketRequestPaymentCommand:Ry,GetBucketTaggingCommand:Iy,GetBucketVersioningCommand:ky,GetBucketWebsiteCommand:Oy,GetObjectCommand:Dy,GetObjectAclCommand:Ny,GetObjectAttributesCommand:By,GetObjectLegalHoldCommand:My,GetObjectLockConfigurationCommand:Ly,GetObjectRetentionCommand:Fy,GetObjectTaggingCommand:zy,GetObjectTorrentCommand:Uy,GetPublicAccessBlockCommand:qy,HeadBucketCommand:ul,HeadObjectCommand:ml,ListBucketAnalyticsConfigurationsCommand:Hy,ListBucketIntelligentTieringConfigurationsCommand:jy,ListBucketInventoryConfigurationsCommand:$y,ListBucketMetricsConfigurationsCommand:Vy,ListBucketsCommand:Cu,ListDirectoryBucketsCommand:xu,ListMultipartUploadsCommand:Gy,ListObjectsCommand:Ky,ListObjectsV2Command:wu,ListObjectVersionsCommand:Wy,ListPartsCommand:Au,PutBucketAccelerateConfigurationCommand:Xy,PutBucketAclCommand:Yy,PutBucketAnalyticsConfigurationCommand:Jy,PutBucketCorsCommand:Qy,PutBucketEncryptionCommand:Zy,PutBucketIntelligentTieringConfigurationCommand:eS,PutBucketInventoryConfigurationCommand:tS,PutBucketLifecycleConfigurationCommand:rS,PutBucketLoggingCommand:nS,PutBucketMetricsConfigurationCommand:sS,PutBucketNotificationConfigurationCommand:oS,PutBucketOwnershipControlsCommand:iS,PutBucketPolicyCommand:aS,PutBucketReplicationCommand:cS,PutBucketRequestPaymentCommand:lS,PutBucketTaggingCommand:dS,PutBucketVersioningCommand:uS,PutBucketWebsiteCommand:mS,PutObjectCommand:gS,PutObjectAclCommand:fS,PutObjectLegalHoldCommand:hS,PutObjectLockConfigurationCommand:pS,PutObjectRetentionCommand:yS,PutObjectTaggingCommand:SS,PutPublicAccessBlockCommand:ES,RenameObjectCommand:bS,RestoreObjectCommand:_S,SelectObjectContentCommand:CS,UpdateBucketMetadataInventoryTableConfigurationCommand:xS,UpdateBucketMetadataJournalTableConfigurationCommand:wS,UploadPartCommand:AS,UploadPartCopyCommand:PS,WriteGetObjectResponseCommand:vS},TS=class extends Vo{};i.createAggregatedClient(ffe,TS);var gfe=z.createPaginator(Vo,Cu,"ContinuationToken","ContinuationToken","MaxBuckets"),hfe=z.createPaginator(Vo,xu,"ContinuationToken","ContinuationToken","MaxDirectoryBuckets"),pfe=z.createPaginator(Vo,wu,"ContinuationToken","NextContinuationToken","MaxKeys"),yfe=z.createPaginator(Vo,Au,"PartNumberMarker","NextPartNumberMarker","MaxParts"),P2=async(e,r)=>{let t;try{return t=await e.send(new ul(r)),{state:Mt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Mt.WaiterState.RETRY,reason:t}}return{state:Mt.WaiterState.RETRY,reason:t}},Sfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Mt.createWaiter({...t,...e},r,P2)},Efe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Mt.createWaiter({...t,...e},r,P2);return Mt.checkExceptions(n)},v2=async(e,r)=>{let t;try{t=await e.send(new ul(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Mt.WaiterState.SUCCESS,reason:t}}return{state:Mt.WaiterState.RETRY,reason:t}},bfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Mt.createWaiter({...t,...e},r,v2)},_fe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Mt.createWaiter({...t,...e},r,v2);return Mt.checkExceptions(n)},T2=async(e,r)=>{let t;try{return t=await e.send(new ml(r)),{state:Mt.WaiterState.SUCCESS,reason:t}}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Mt.WaiterState.RETRY,reason:t}}return{state:Mt.WaiterState.RETRY,reason:t}},Cfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Mt.createWaiter({...t,...e},r,T2)},xfe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Mt.createWaiter({...t,...e},r,T2);return Mt.checkExceptions(n)},R2=async(e,r)=>{let t;try{t=await e.send(new ml(r))}catch(n){if(t=n,n.name&&n.name=="NotFound")return{state:Mt.WaiterState.SUCCESS,reason:t}}return{state:Mt.WaiterState.RETRY,reason:t}},wfe=async(e,r)=>{let t={minDelay:5,maxDelay:120};return Mt.createWaiter({...t,...e},r,R2)},Afe=async(e,r)=>{let t={minDelay:5,maxDelay:120},n=await Mt.createWaiter({...t,...e},r,R2);return Mt.checkExceptions(n)};Object.defineProperty(S,"$Command",{enumerable:!0,get:function(){return i.Command}});Object.defineProperty(S,"__Client",{enumerable:!0,get:function(){return i.Client}});S.AbortMultipartUploadCommand=zp;S.AnalyticsS3ExportFileFormat=QQ;S.ArchiveStatus=IZ;S.BucketAccelerateStatus=RQ;S.BucketAlreadyExists=fp;S.BucketAlreadyOwnedByYou=gp;S.BucketCannedACL=HQ;S.BucketLocationConstraint=GQ;S.BucketLogsPermission=lZ;S.BucketType=$Q;S.BucketVersioningStatus=xZ;S.ChecksumAlgorithm=MQ;S.ChecksumMode=PZ;S.ChecksumType=NQ;S.CompleteMultipartUploadCommand=Up;S.CompleteMultipartUploadOutputFilterSensitiveLog=sU;S.CompleteMultipartUploadRequestFilterSensitiveLog=oU;S.CompressionType=FZ;S.CopyObjectCommand=qp;S.CopyObjectOutputFilterSensitiveLog=iU;S.CopyObjectRequestFilterSensitiveLog=aU;S.CreateBucketCommand=Hp;S.CreateBucketMetadataConfigurationCommand=jp;S.CreateBucketMetadataTableConfigurationCommand=$p;S.CreateMultipartUploadCommand=Vp;S.CreateMultipartUploadOutputFilterSensitiveLog=cU;S.CreateMultipartUploadRequestFilterSensitiveLog=lU;S.CreateSessionCommand=_u;S.CreateSessionOutputFilterSensitiveLog=uU;S.CreateSessionRequestFilterSensitiveLog=mU;S.DataRedundancy=jQ;S.DeleteBucketAnalyticsConfigurationCommand=Gp;S.DeleteBucketCommand=Kp;S.DeleteBucketCorsCommand=Wp;S.DeleteBucketEncryptionCommand=Xp;S.DeleteBucketIntelligentTieringConfigurationCommand=Yp;S.DeleteBucketInventoryConfigurationCommand=Jp;S.DeleteBucketLifecycleCommand=Qp;S.DeleteBucketMetadataConfigurationCommand=Zp;S.DeleteBucketMetadataTableConfigurationCommand=ey;S.DeleteBucketMetricsConfigurationCommand=ty;S.DeleteBucketOwnershipControlsCommand=ry;S.DeleteBucketPolicyCommand=ny;S.DeleteBucketReplicationCommand=sy;S.DeleteBucketTaggingCommand=oy;S.DeleteBucketWebsiteCommand=iy;S.DeleteMarkerReplicationStatus=gZ;S.DeleteObjectCommand=ay;S.DeleteObjectTaggingCommand=ly;S.DeleteObjectsCommand=cy;S.DeletePublicAccessBlockCommand=dy;S.EncodingType=kZ;S.EncryptionFilterSensitiveLog=NU;S.EncryptionTypeMismatch=Ep;S.Event=mZ;S.ExistingObjectReplicationStatus=yZ;S.ExpirationState=YQ;S.ExpirationStatus=aZ;S.ExpressionType=LZ;S.FileHeaderInfo=zZ;S.FilterRuleName=fZ;S.GetBucketAccelerateConfigurationCommand=uy;S.GetBucketAclCommand=my;S.GetBucketAnalyticsConfigurationCommand=fy;S.GetBucketCorsCommand=gy;S.GetBucketEncryptionCommand=hy;S.GetBucketEncryptionOutputFilterSensitiveLog=hU;S.GetBucketIntelligentTieringConfigurationCommand=py;S.GetBucketInventoryConfigurationCommand=yy;S.GetBucketInventoryConfigurationOutputFilterSensitiveLog=bU;S.GetBucketLifecycleConfigurationCommand=Sy;S.GetBucketLocationCommand=Ey;S.GetBucketLoggingCommand=by;S.GetBucketMetadataConfigurationCommand=_y;S.GetBucketMetadataTableConfigurationCommand=Cy;S.GetBucketMetricsConfigurationCommand=xy;S.GetBucketNotificationConfigurationCommand=wy;S.GetBucketOwnershipControlsCommand=Ay;S.GetBucketPolicyCommand=Py;S.GetBucketPolicyStatusCommand=vy;S.GetBucketReplicationCommand=Ty;S.GetBucketRequestPaymentCommand=Ry;S.GetBucketTaggingCommand=Iy;S.GetBucketVersioningCommand=ky;S.GetBucketWebsiteCommand=Oy;S.GetObjectAclCommand=Ny;S.GetObjectAttributesCommand=By;S.GetObjectAttributesRequestFilterSensitiveLog=xU;S.GetObjectCommand=Dy;S.GetObjectLegalHoldCommand=My;S.GetObjectLockConfigurationCommand=Ly;S.GetObjectOutputFilterSensitiveLog=_U;S.GetObjectRequestFilterSensitiveLog=CU;S.GetObjectRetentionCommand=Fy;S.GetObjectTaggingCommand=zy;S.GetObjectTorrentCommand=Uy;S.GetObjectTorrentOutputFilterSensitiveLog=wU;S.GetPublicAccessBlockCommand=qy;S.HeadBucketCommand=ul;S.HeadObjectCommand=ml;S.HeadObjectOutputFilterSensitiveLog=AU;S.HeadObjectRequestFilterSensitiveLog=PU;S.IdempotencyParameterMismatch=xp;S.IntelligentTieringAccessTier=tZ;S.IntelligentTieringStatus=eZ;S.InvalidObjectState=pp;S.InvalidRequest=bp;S.InvalidWriteOffset=_p;S.InventoryConfigurationFilterSensitiveLog=RS;S.InventoryConfigurationState=WQ;S.InventoryDestinationFilterSensitiveLog=EU;S.InventoryEncryptionFilterSensitiveLog=yU;S.InventoryFormat=rZ;S.InventoryFrequency=oZ;S.InventoryIncludedObjectVersions=nZ;S.InventoryOptionalField=sZ;S.InventoryS3BucketDestinationFilterSensitiveLog=SU;S.JSONType=UZ;S.ListBucketAnalyticsConfigurationsCommand=Hy;S.ListBucketIntelligentTieringConfigurationsCommand=jy;S.ListBucketInventoryConfigurationsCommand=$y;S.ListBucketInventoryConfigurationsOutputFilterSensitiveLog=vU;S.ListBucketMetricsConfigurationsCommand=Vy;S.ListBucketsCommand=Cu;S.ListDirectoryBucketsCommand=xu;S.ListMultipartUploadsCommand=Gy;S.ListObjectVersionsCommand=Wy;S.ListObjectsCommand=Ky;S.ListObjectsV2Command=wu;S.ListPartsCommand=Au;S.ListPartsRequestFilterSensitiveLog=TU;S.LocationType=VQ;S.MFADelete=DZ;S.MFADeleteStatus=CZ;S.MetadataDirective=LQ;S.MetricsStatus=hZ;S.NoSuchBucket=hp;S.NoSuchKey=yp;S.NoSuchUpload=up;S.NotFound=Sp;S.ObjectAlreadyInActiveTierError=wp;S.ObjectAttributes=vZ;S.ObjectCannedACL=DQ;S.ObjectLockEnabled=TZ;S.ObjectLockLegalHoldStatus=FQ;S.ObjectLockMode=zQ;S.ObjectLockRetentionMode=RZ;S.ObjectNotInActiveTierError=mp;S.ObjectOwnership=KQ;S.ObjectStorageClass=OZ;S.ObjectVersionStorageClass=BZ;S.OptionalObjectAttributes=NZ;S.OutputLocationFilterSensitiveLog=DU;S.OwnerOverride=OQ;S.PartitionDateSource=dZ;S.Payer=_Z;S.Permission=kQ;S.Protocol=wZ;S.PutBucketAccelerateConfigurationCommand=Xy;S.PutBucketAclCommand=Yy;S.PutBucketAnalyticsConfigurationCommand=Jy;S.PutBucketCorsCommand=Qy;S.PutBucketEncryptionCommand=Zy;S.PutBucketEncryptionRequestFilterSensitiveLog=RU;S.PutBucketIntelligentTieringConfigurationCommand=eS;S.PutBucketInventoryConfigurationCommand=tS;S.PutBucketInventoryConfigurationRequestFilterSensitiveLog=IU;S.PutBucketLifecycleConfigurationCommand=rS;S.PutBucketLoggingCommand=nS;S.PutBucketMetricsConfigurationCommand=sS;S.PutBucketNotificationConfigurationCommand=oS;S.PutBucketOwnershipControlsCommand=iS;S.PutBucketPolicyCommand=aS;S.PutBucketReplicationCommand=cS;S.PutBucketRequestPaymentCommand=lS;S.PutBucketTaggingCommand=dS;S.PutBucketVersioningCommand=uS;S.PutBucketWebsiteCommand=mS;S.PutObjectAclCommand=fS;S.PutObjectCommand=gS;S.PutObjectLegalHoldCommand=hS;S.PutObjectLockConfigurationCommand=pS;S.PutObjectOutputFilterSensitiveLog=kU;S.PutObjectRequestFilterSensitiveLog=OU;S.PutObjectRetentionCommand=yS;S.PutObjectTaggingCommand=SS;S.PutPublicAccessBlockCommand=ES;S.QuoteFields=qZ;S.RenameObjectCommand=bS;S.ReplicaModificationsStatus=SZ;S.ReplicationRuleStatus=bZ;S.ReplicationStatus=AZ;S.ReplicationTimeStatus=pZ;S.RequestCharged=vQ;S.RequestPayer=TQ;S.RestoreObjectCommand=_S;S.RestoreObjectRequestFilterSensitiveLog=LU;S.RestoreRequestFilterSensitiveLog=MU;S.RestoreRequestType=HZ;S.S3=TS;S.S3Client=Vo;S.S3LocationFilterSensitiveLog=BU;S.S3ServiceException=dr;S.S3TablesBucketType=uZ;S.SSEKMSFilterSensitiveLog=pU;S.SelectObjectContentCommand=CS;S.SelectObjectContentEventStreamFilterSensitiveLog=jZ;S.SelectObjectContentOutputFilterSensitiveLog=FU;S.SelectObjectContentRequestFilterSensitiveLog=zU;S.ServerSideEncryption=BQ;S.ServerSideEncryptionByDefaultFilterSensitiveLog=fU;S.ServerSideEncryptionConfigurationFilterSensitiveLog=lA;S.ServerSideEncryptionRuleFilterSensitiveLog=gU;S.SessionCredentialsFilterSensitiveLog=dU;S.SessionMode=JQ;S.SseKmsEncryptedObjectsStatus=EZ;S.StorageClass=UQ;S.StorageClassAnalysisSchemaVersion=ZQ;S.TableSseAlgorithm=XQ;S.TaggingDirective=qQ;S.Tier=MZ;S.TooManyParts=Cp;S.TransitionDefaultMinimumObjectSize=cZ;S.TransitionStorageClass=iZ;S.Type=IQ;S.UpdateBucketMetadataInventoryTableConfigurationCommand=xS;S.UpdateBucketMetadataJournalTableConfigurationCommand=wS;S.UploadPartCommand=AS;S.UploadPartCopyCommand=PS;S.UploadPartCopyOutputFilterSensitiveLog=HU;S.UploadPartCopyRequestFilterSensitiveLog=jU;S.UploadPartOutputFilterSensitiveLog=UU;S.UploadPartRequestFilterSensitiveLog=qU;S.WriteGetObjectResponseCommand=vS;S.WriteGetObjectResponseRequestFilterSensitiveLog=$U;S.paginateListBuckets=gfe;S.paginateListDirectoryBuckets=hfe;S.paginateListObjectsV2=pfe;S.paginateListParts=yfe;S.waitForBucketExists=Sfe;S.waitForBucketNotExists=bfe;S.waitForObjectExists=Cfe;S.waitForObjectNotExists=wfe;S.waitUntilBucketExists=Efe;S.waitUntilBucketNotExists=_fe;S.waitUntilObjectExists=xfe;S.waitUntilObjectNotExists=Afe});var Ofe={};dn(Ofe,{handler:()=>kfe});module.exports=Re(Ofe);var Xo=k(I2()),O2=k(require("sharp")),N2=process.env.UPLOADS_BUCKET||process.env.BUCKET,wa=process.env.DEST_BUCKET;if(!N2)throw new Error("Missing env UPLOADS_BUCKET (or BUCKET)");if(!wa)throw new Error("Missing env DEST_BUCKET");var Pfe=process.env.DEST_PREFIX??process.env.THUMBS_PREFIX??"thumbs/",B2=String(Pfe).replace(/^\/+|\/+$/g,"")+"/",k2=Math.max(1,parseInt(String(process.env.MAX_WIDTH??"360"),10)),vfe=Math.min(100,Math.max(1,parseInt(String(process.env.JPEG_QUALITY??"80"),10))),KA=new Xo.S3Client({});function Tfe(e){return/\.(png|jpe?g|webp|gif|tiff|avif)$/i.test(e)}function WA(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/^\/*/,"")}function Rfe(e){let r=WA(e);return(B2+r).replace(/\.[^.]+$/,".jpg")}function Ife(e,r){let t=WA(e);if(!/^users\//i.test(t))return!1;if(r===wa){let n=B2.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");if(new RegExp(`^${n}`,"i").test(t))return!1}return Tfe(t)}var kfe=async e=>{for(let r of e.Records??[]){let t=r.s3?.bucket?.name,n=r.s3?.object?.key;if(!t||!n)continue;if(t!==N2){console.log(`\u23ED\uFE0F  Ignoring event from bucket ${t}`);continue}let s=WA(n);if(!Ife(s,t)){console.log(`\u23ED\uFE0F  Skipping ${s}`);continue}let o=Rfe(s);try{try{await KA.send(new Xo.HeadObjectCommand({Bucket:wa,Key:o})),console.log(`\u2714\uFE0F  Thumb exists, skip: s3://${wa}/${o}`);continue}catch{}let c=await(await KA.send(new Xo.GetObjectCommand({Bucket:t,Key:s}))).Body.transformToByteArray(),l=await(0,O2.default)(c).rotate().resize({width:k2,height:k2,fit:"inside",withoutEnlargement:!0}).jpeg({quality:vfe,mozjpeg:!0}).toBuffer();await KA.send(new Xo.PutObjectCommand({Bucket:wa,Key:o,Body:l,ContentType:"image/jpeg",CacheControl:"public, max-age=31536000, immutable",Metadata:{source:`${t}/${s}`}})),console.log(`\u2705 Generated: s3://${wa}/${o}`)}catch(a){console.error(`\u274C Failed for ${t}/${s} -> ${wa}/${o}:`,a)}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
