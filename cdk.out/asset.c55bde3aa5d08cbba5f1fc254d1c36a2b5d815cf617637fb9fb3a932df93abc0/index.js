"use strict";var a=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var l=(o,e)=>{for(var r in e)a(o,r,{get:e[r],enumerable:!0})},p=(o,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of m(e))!y.call(o,t)&&t!==r&&a(o,t,{get:()=>e[t],enumerable:!(n=c(e,t))||n.enumerable});return o};var A=o=>p(a({},"__esModule",{value:!0}),o);var C={};l(C,{handler:()=>d});module.exports=A(C);var i=require("@aws-sdk/client-dynamodb"),s=require("@aws-sdk/lib-dynamodb"),u=s.DynamoDBDocumentClient.from(new i.DynamoDBClient({})),E=process.env.TABLE_NAME,T=process.env.PK_NAME??"pk",M=process.env.SK_NAME??"sk",d=async o=>{let e=o.identity?.sub||o.identity?.claims?.sub;if(!e)throw new Error("Missing identity.sub");let n=(await u.send(new s.GetCommand({TableName:E,Key:{[T]:`CREATOR#${e}`,[M]:"GOAL_COMPASS"}}))).Item??{};return{creatorId:e,goalCompass:{primaryGoal:n.primaryGoal??"GROWTH",timeHorizon:n.timeHorizon??"90_DAYS",weeklyCapacity:typeof n.weeklyCapacity=="number"?n.weeklyCapacity:5,focusAreas:n.focusAreas??["PERSONALITY","NURTURE"],riskTolerance:n.riskTolerance??"MEDIUM",contentMixTarget:n.contentMixTarget??null},args:o.arguments??{}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
