"use strict";var r=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var i=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var l=(n,t)=>{for(var s in t)r(n,s,{get:t[s],enumerable:!0})},u=(n,t,s,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of i(t))!c.call(n,e)&&e!==s&&r(n,e,{get:()=>t[e],enumerable:!(a=o(t,e))||a.enumerable});return n};var d=n=>u(r({},"__esModule",{value:!0}),n);var m={};l(m,{handler:()=>p});module.exports=d(m);function y(n){var a,e;if(!n)return!1;let t=((a=n.claims)==null?void 0:a["cognito:groups"])??((e=n.claims)==null?void 0:e["custom:groups"])??n.groups,s=Array.isArray(t)?t:typeof t=="string"?t.split(","):[];return s.includes("admin")||s.includes("ADMIN")}var p=async n=>{let t=n.identity,s=n.info.fieldName;if(!(t!=null&&t.sub))throw new Error("Unauthorized");if(!y(t))throw new Error("Forbidden");switch(s){case"adminDashboardSummary":return{generatedAt:new Date().toISOString(),xpEventsLast7Days:0,coinsIssuedLast7Days:0,activeUsersLast7Days:0,activeCreatorsLast7Days:0,livestreamMinutesWatchedLast7Days:0};case"adminCreatorAnalytics":{let{creatorId:a}=n.arguments||{},e=new Date().toISOString();return{creatorId:a??null,generatedAt:e,totalViewsLast30Days:0,totalCoinsEarnedLast30Days:0,totalBesties:0,avgWatchTimeSeconds:0}}case"adminEconomyReport":return{generatedAt:new Date().toISOString(),totalCoinsIssuedAllTime:0,totalCoinsBurnedAllTime:0,totalXpEventsAllTime:0};default:return{ok:!0,handled:!1,field:s}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
