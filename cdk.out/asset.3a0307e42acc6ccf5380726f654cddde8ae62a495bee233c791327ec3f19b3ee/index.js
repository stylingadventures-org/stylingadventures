"use strict";var o=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var l=(r,e)=>{for(var i in e)o(r,i,{get:e[i],enumerable:!0})},f=(r,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of d(e))!c.call(r,t)&&t!==i&&o(r,t,{get:()=>e[t],enumerable:!(s=a(e,t))||s.enumerable});return r};var A=r=>f(o({},"__esModule",{value:!0}),r);var T={};l(T,{handler:()=>E});module.exports=A(T);function g(r){let e=r?.claims||{},i=e.tier??e["custom:tier"];if(i&&["FREE","BESTIE","CREATOR","COLLAB","ADMIN","PRIME"].includes(i))return i;let t=e["cognito:groups"],n=Array.isArray(t)?t:String(t||"").split(",").map(u=>u.trim()).filter(Boolean);return n.includes("ADMIN")?"ADMIN":n.includes("PRIME")?"PRIME":n.includes("COLLAB")?"COLLAB":n.includes("CREATOR")?"CREATOR":n.includes("BESTIE")?"BESTIE":"FREE"}function y(r){let e=g(r);if(!["CREATOR","COLLAB","ADMIN","PRIME"].includes(e))throw new Error("Creator tier required");return e}var E=async r=>{console.log("CreatorAiFn event",JSON.stringify(r));let e=r.info?.fieldName,i=r.identity;switch(y(i),e){case"creatorAiSuggest":{let{text:s,kind:t}=r.arguments||{},n=s??"";return t==="CAPTION"?{suggestions:[`\u2728 ${n||"New look"} \u2014 styled by you.`,`Outfit check: ${n||"today's fit"} \u2728`]}:t==="HASHTAGS"?{suggestions:["#stylelala","#outfitoftheday","#creatorbestie"]}:{suggestions:["Try a short, punchy hook + 3 strong hashtags."]}}default:throw new Error(`Unsupported field in CreatorAiFn: ${e}`)}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
