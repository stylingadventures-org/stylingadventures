{
  "version": 3,
  "sources": ["../../node_modules/sharp/lib/is.js", "../../node_modules/detect-libc/lib/process.js", "../../node_modules/detect-libc/lib/filesystem.js", "../../node_modules/detect-libc/lib/elf.js", "../../node_modules/detect-libc/lib/detect-libc.js", "../../node_modules/semver/internal/debug.js", "../../node_modules/semver/internal/constants.js", "../../node_modules/semver/internal/re.js", "../../node_modules/semver/internal/parse-options.js", "../../node_modules/semver/internal/identifiers.js", "../../node_modules/semver/classes/semver.js", "../../node_modules/semver/functions/parse.js", "../../node_modules/semver/functions/coerce.js", "../../node_modules/semver/functions/compare.js", "../../node_modules/semver/functions/gte.js", "../../node_modules/semver/internal/lrucache.js", "../../node_modules/semver/functions/eq.js", "../../node_modules/semver/functions/neq.js", "../../node_modules/semver/functions/gt.js", "../../node_modules/semver/functions/lt.js", "../../node_modules/semver/functions/lte.js", "../../node_modules/semver/functions/cmp.js", "../../node_modules/semver/classes/comparator.js", "../../node_modules/semver/classes/range.js", "../../node_modules/semver/functions/satisfies.js", "../../node_modules/sharp/package.json", "../../node_modules/sharp/lib/libvips.js", "../../node_modules/sharp/lib/sharp.js", "../../node_modules/sharp/lib/constructor.js", "../../node_modules/sharp/lib/input.js", "../../node_modules/sharp/lib/resize.js", "../../node_modules/sharp/lib/composite.js", "../../node_modules/sharp/lib/operation.js", "../../node_modules/@img/colour/color.cjs", "../../node_modules/@img/colour/index.cjs", "../../node_modules/sharp/lib/colour.js", "../../node_modules/sharp/lib/channel.js", "../../node_modules/sharp/lib/output.js", "../../node_modules/sharp/lib/utility.js", "../../node_modules/sharp/lib/index.js", "../../lambda/thumbgen/index.ts"],
  "sourcesContent": ["// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\n/**\n * Is this value defined and not null?\n * @private\n */\nconst defined = function (val) {\n  return typeof val !== 'undefined' && val !== null;\n};\n\n/**\n * Is this value an object?\n * @private\n */\nconst object = function (val) {\n  return typeof val === 'object';\n};\n\n/**\n * Is this value a plain object?\n * @private\n */\nconst plainObject = function (val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n};\n\n/**\n * Is this value a function?\n * @private\n */\nconst fn = function (val) {\n  return typeof val === 'function';\n};\n\n/**\n * Is this value a boolean?\n * @private\n */\nconst bool = function (val) {\n  return typeof val === 'boolean';\n};\n\n/**\n * Is this value a Buffer object?\n * @private\n */\nconst buffer = function (val) {\n  return val instanceof Buffer;\n};\n\n/**\n * Is this value a typed array object?. E.g. Uint8Array or Uint8ClampedArray?\n * @private\n */\nconst typedArray = function (val) {\n  if (defined(val)) {\n    switch (val.constructor) {\n      case Uint8Array:\n      case Uint8ClampedArray:\n      case Int8Array:\n      case Uint16Array:\n      case Int16Array:\n      case Uint32Array:\n      case Int32Array:\n      case Float32Array:\n      case Float64Array:\n        return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * Is this value an ArrayBuffer object?\n * @private\n */\nconst arrayBuffer = function (val) {\n  return val instanceof ArrayBuffer;\n};\n\n/**\n * Is this value a non-empty string?\n * @private\n */\nconst string = function (val) {\n  return typeof val === 'string' && val.length > 0;\n};\n\n/**\n * Is this value a real number?\n * @private\n */\nconst number = function (val) {\n  return typeof val === 'number' && !Number.isNaN(val);\n};\n\n/**\n * Is this value an integer?\n * @private\n */\nconst integer = function (val) {\n  return Number.isInteger(val);\n};\n\n/**\n * Is this value within an inclusive given range?\n * @private\n */\nconst inRange = function (val, min, max) {\n  return val >= min && val <= max;\n};\n\n/**\n * Is this value within the elements of an array?\n * @private\n */\nconst inArray = function (val, list) {\n  return list.includes(val);\n};\n\n/**\n * Create an Error with a message relating to an invalid parameter.\n *\n * @param {string} name - parameter name.\n * @param {string} expected - description of the type/value/range expected.\n * @param {*} actual - the value received.\n * @returns {Error} Containing the formatted message.\n * @private\n */\nconst invalidParameterError = function (name, expected, actual) {\n  return new Error(\n    `Expected ${expected} for ${name} but received ${actual} of type ${typeof actual}`\n  );\n};\n\n/**\n * Ensures an Error from C++ contains a JS stack.\n *\n * @param {Error} native - Error with message from C++.\n * @param {Error} context - Error with stack from JS.\n * @returns {Error} Error with message and stack.\n * @private\n */\nconst nativeError = function (native, context) {\n  context.message = native.message;\n  return context;\n};\n\nmodule.exports = {\n  defined,\n  object,\n  plainObject,\n  fn,\n  bool,\n  buffer,\n  typedArray,\n  arrayBuffer,\n  string,\n  number,\n  integer,\n  inRange,\n  inArray,\n  invalidParameterError,\n  nativeError\n};\n", "// Copyright 2017 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst isLinux = () => process.platform === 'linux';\n\nlet report = null;\nconst getReport = () => {\n  if (!report) {\n    /* istanbul ignore next */\n    if (isLinux() && process.report) {\n      const orig = process.report.excludeNetwork;\n      process.report.excludeNetwork = true;\n      report = process.report.getReport();\n      process.report.excludeNetwork = orig;\n    } else {\n      report = {};\n    }\n  }\n  return report;\n};\n\nmodule.exports = { isLinux, getReport };\n", "// Copyright 2017 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst fs = require('fs');\n\nconst LDD_PATH = '/usr/bin/ldd';\nconst SELF_PATH = '/proc/self/exe';\nconst MAX_LENGTH = 2048;\n\n/**\n * Read the content of a file synchronous\n *\n * @param {string} path\n * @returns {Buffer}\n */\nconst readFileSync = (path) => {\n  const fd = fs.openSync(path, 'r');\n  const buffer = Buffer.alloc(MAX_LENGTH);\n  const bytesRead = fs.readSync(fd, buffer, 0, MAX_LENGTH, 0);\n  fs.close(fd, () => {});\n  return buffer.subarray(0, bytesRead);\n};\n\n/**\n * Read the content of a file\n *\n * @param {string} path\n * @returns {Promise<Buffer>}\n */\nconst readFile = (path) => new Promise((resolve, reject) => {\n  fs.open(path, 'r', (err, fd) => {\n    if (err) {\n      reject(err);\n    } else {\n      const buffer = Buffer.alloc(MAX_LENGTH);\n      fs.read(fd, buffer, 0, MAX_LENGTH, 0, (_, bytesRead) => {\n        resolve(buffer.subarray(0, bytesRead));\n        fs.close(fd, () => {});\n      });\n    }\n  });\n});\n\nmodule.exports = {\n  LDD_PATH,\n  SELF_PATH,\n  readFileSync,\n  readFile\n};\n", "// Copyright 2017 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst interpreterPath = (elf) => {\n  if (elf.length < 64) {\n    return null;\n  }\n  if (elf.readUInt32BE(0) !== 0x7F454C46) {\n    // Unexpected magic bytes\n    return null;\n  }\n  if (elf.readUInt8(4) !== 2) {\n    // Not a 64-bit ELF\n    return null;\n  }\n  if (elf.readUInt8(5) !== 1) {\n    // Not little-endian\n    return null;\n  }\n  const offset = elf.readUInt32LE(32);\n  const size = elf.readUInt16LE(54);\n  const count = elf.readUInt16LE(56);\n  for (let i = 0; i < count; i++) {\n    const headerOffset = offset + (i * size);\n    const type = elf.readUInt32LE(headerOffset);\n    if (type === 3) {\n      const fileOffset = elf.readUInt32LE(headerOffset + 8);\n      const fileSize = elf.readUInt32LE(headerOffset + 32);\n      return elf.subarray(fileOffset, fileOffset + fileSize).toString().replace(/\\0.*$/g, '');\n    }\n  }\n  return null;\n};\n\nmodule.exports = {\n  interpreterPath\n};\n", "// Copyright 2017 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst childProcess = require('child_process');\nconst { isLinux, getReport } = require('./process');\nconst { LDD_PATH, SELF_PATH, readFile, readFileSync } = require('./filesystem');\nconst { interpreterPath } = require('./elf');\n\nlet cachedFamilyInterpreter;\nlet cachedFamilyFilesystem;\nlet cachedVersionFilesystem;\n\nconst command = 'getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true';\nlet commandOut = '';\n\nconst safeCommand = () => {\n  if (!commandOut) {\n    return new Promise((resolve) => {\n      childProcess.exec(command, (err, out) => {\n        commandOut = err ? ' ' : out;\n        resolve(commandOut);\n      });\n    });\n  }\n  return commandOut;\n};\n\nconst safeCommandSync = () => {\n  if (!commandOut) {\n    try {\n      commandOut = childProcess.execSync(command, { encoding: 'utf8' });\n    } catch (_err) {\n      commandOut = ' ';\n    }\n  }\n  return commandOut;\n};\n\n/**\n * A String constant containing the value `glibc`.\n * @type {string}\n * @public\n */\nconst GLIBC = 'glibc';\n\n/**\n * A Regexp constant to get the GLIBC Version.\n * @type {string}\n */\nconst RE_GLIBC_VERSION = /LIBC[a-z0-9 \\-).]*?(\\d+\\.\\d+)/i;\n\n/**\n * A String constant containing the value `musl`.\n * @type {string}\n * @public\n */\nconst MUSL = 'musl';\n\nconst isFileMusl = (f) => f.includes('libc.musl-') || f.includes('ld-musl-');\n\nconst familyFromReport = () => {\n  const report = getReport();\n  if (report.header && report.header.glibcVersionRuntime) {\n    return GLIBC;\n  }\n  if (Array.isArray(report.sharedObjects)) {\n    if (report.sharedObjects.some(isFileMusl)) {\n      return MUSL;\n    }\n  }\n  return null;\n};\n\nconst familyFromCommand = (out) => {\n  const [getconf, ldd1] = out.split(/[\\r\\n]+/);\n  if (getconf && getconf.includes(GLIBC)) {\n    return GLIBC;\n  }\n  if (ldd1 && ldd1.includes(MUSL)) {\n    return MUSL;\n  }\n  return null;\n};\n\nconst familyFromInterpreterPath = (path) => {\n  if (path) {\n    if (path.includes('/ld-musl-')) {\n      return MUSL;\n    } else if (path.includes('/ld-linux-')) {\n      return GLIBC;\n    }\n  }\n  return null;\n};\n\nconst getFamilyFromLddContent = (content) => {\n  content = content.toString();\n  if (content.includes('musl')) {\n    return MUSL;\n  }\n  if (content.includes('GNU C Library')) {\n    return GLIBC;\n  }\n  return null;\n};\n\nconst familyFromFilesystem = async () => {\n  if (cachedFamilyFilesystem !== undefined) {\n    return cachedFamilyFilesystem;\n  }\n  cachedFamilyFilesystem = null;\n  try {\n    const lddContent = await readFile(LDD_PATH);\n    cachedFamilyFilesystem = getFamilyFromLddContent(lddContent);\n  } catch (e) {}\n  return cachedFamilyFilesystem;\n};\n\nconst familyFromFilesystemSync = () => {\n  if (cachedFamilyFilesystem !== undefined) {\n    return cachedFamilyFilesystem;\n  }\n  cachedFamilyFilesystem = null;\n  try {\n    const lddContent = readFileSync(LDD_PATH);\n    cachedFamilyFilesystem = getFamilyFromLddContent(lddContent);\n  } catch (e) {}\n  return cachedFamilyFilesystem;\n};\n\nconst familyFromInterpreter = async () => {\n  if (cachedFamilyInterpreter !== undefined) {\n    return cachedFamilyInterpreter;\n  }\n  cachedFamilyInterpreter = null;\n  try {\n    const selfContent = await readFile(SELF_PATH);\n    const path = interpreterPath(selfContent);\n    cachedFamilyInterpreter = familyFromInterpreterPath(path);\n  } catch (e) {}\n  return cachedFamilyInterpreter;\n};\n\nconst familyFromInterpreterSync = () => {\n  if (cachedFamilyInterpreter !== undefined) {\n    return cachedFamilyInterpreter;\n  }\n  cachedFamilyInterpreter = null;\n  try {\n    const selfContent = readFileSync(SELF_PATH);\n    const path = interpreterPath(selfContent);\n    cachedFamilyInterpreter = familyFromInterpreterPath(path);\n  } catch (e) {}\n  return cachedFamilyInterpreter;\n};\n\n/**\n * Resolves with the libc family when it can be determined, `null` otherwise.\n * @returns {Promise<?string>}\n */\nconst family = async () => {\n  let family = null;\n  if (isLinux()) {\n    family = await familyFromInterpreter();\n    if (!family) {\n      family = await familyFromFilesystem();\n      if (!family) {\n        family = familyFromReport();\n      }\n      if (!family) {\n        const out = await safeCommand();\n        family = familyFromCommand(out);\n      }\n    }\n  }\n  return family;\n};\n\n/**\n * Returns the libc family when it can be determined, `null` otherwise.\n * @returns {?string}\n */\nconst familySync = () => {\n  let family = null;\n  if (isLinux()) {\n    family = familyFromInterpreterSync();\n    if (!family) {\n      family = familyFromFilesystemSync();\n      if (!family) {\n        family = familyFromReport();\n      }\n      if (!family) {\n        const out = safeCommandSync();\n        family = familyFromCommand(out);\n      }\n    }\n  }\n  return family;\n};\n\n/**\n * Resolves `true` only when the platform is Linux and the libc family is not `glibc`.\n * @returns {Promise<boolean>}\n */\nconst isNonGlibcLinux = async () => isLinux() && await family() !== GLIBC;\n\n/**\n * Returns `true` only when the platform is Linux and the libc family is not `glibc`.\n * @returns {boolean}\n */\nconst isNonGlibcLinuxSync = () => isLinux() && familySync() !== GLIBC;\n\nconst versionFromFilesystem = async () => {\n  if (cachedVersionFilesystem !== undefined) {\n    return cachedVersionFilesystem;\n  }\n  cachedVersionFilesystem = null;\n  try {\n    const lddContent = await readFile(LDD_PATH);\n    const versionMatch = lddContent.match(RE_GLIBC_VERSION);\n    if (versionMatch) {\n      cachedVersionFilesystem = versionMatch[1];\n    }\n  } catch (e) {}\n  return cachedVersionFilesystem;\n};\n\nconst versionFromFilesystemSync = () => {\n  if (cachedVersionFilesystem !== undefined) {\n    return cachedVersionFilesystem;\n  }\n  cachedVersionFilesystem = null;\n  try {\n    const lddContent = readFileSync(LDD_PATH);\n    const versionMatch = lddContent.match(RE_GLIBC_VERSION);\n    if (versionMatch) {\n      cachedVersionFilesystem = versionMatch[1];\n    }\n  } catch (e) {}\n  return cachedVersionFilesystem;\n};\n\nconst versionFromReport = () => {\n  const report = getReport();\n  if (report.header && report.header.glibcVersionRuntime) {\n    return report.header.glibcVersionRuntime;\n  }\n  return null;\n};\n\nconst versionSuffix = (s) => s.trim().split(/\\s+/)[1];\n\nconst versionFromCommand = (out) => {\n  const [getconf, ldd1, ldd2] = out.split(/[\\r\\n]+/);\n  if (getconf && getconf.includes(GLIBC)) {\n    return versionSuffix(getconf);\n  }\n  if (ldd1 && ldd2 && ldd1.includes(MUSL)) {\n    return versionSuffix(ldd2);\n  }\n  return null;\n};\n\n/**\n * Resolves with the libc version when it can be determined, `null` otherwise.\n * @returns {Promise<?string>}\n */\nconst version = async () => {\n  let version = null;\n  if (isLinux()) {\n    version = await versionFromFilesystem();\n    if (!version) {\n      version = versionFromReport();\n    }\n    if (!version) {\n      const out = await safeCommand();\n      version = versionFromCommand(out);\n    }\n  }\n  return version;\n};\n\n/**\n * Returns the libc version when it can be determined, `null` otherwise.\n * @returns {?string}\n */\nconst versionSync = () => {\n  let version = null;\n  if (isLinux()) {\n    version = versionFromFilesystemSync();\n    if (!version) {\n      version = versionFromReport();\n    }\n    if (!version) {\n      const out = safeCommandSync();\n      version = versionFromCommand(out);\n    }\n  }\n  return version;\n};\n\nmodule.exports = {\n  GLIBC,\n  MUSL,\n  family,\n  familySync,\n  isNonGlibcLinux,\n  isNonGlibcLinuxSync,\n  version,\n  versionSync\n};\n", "'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n", "'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n", "'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n", "'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n", "'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  if (typeof a === 'number' && typeof b === 'number') {\n    return a === b ? 0 : a < b ? -1 : 1\n  }\n\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n", "'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    if (this.major < other.major) {\n      return -1\n    }\n    if (this.major > other.major) {\n      return 1\n    }\n    if (this.minor < other.minor) {\n      return -1\n    }\n    if (this.minor > other.minor) {\n      return 1\n    }\n    if (this.patch < other.patch) {\n      return -1\n    }\n    if (this.patch > other.patch) {\n      return 1\n    }\n    return 0\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n", "'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n", "'use strict'\n\nclass LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n", "'use strict'\n\nconst compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n", "'use strict'\n\nconst compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n", "'use strict'\n\nconst compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n", "'use strict'\n\nconst compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n", "'use strict'\n\nconst compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n", "'use strict'\n\nconst eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n", "'use strict'\n\nconst ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n", "'use strict'\n\nconst SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  comp = comp.replace(re[t.BUILD], '')\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n", "'use strict'\n\nconst Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n", "{\n  \"name\": \"sharp\",\n  \"description\": \"High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images\",\n  \"version\": \"0.34.4\",\n  \"author\": \"Lovell Fuller <npm@lovell.info>\",\n  \"homepage\": \"https://sharp.pixelplumbing.com\",\n  \"contributors\": [\n    \"Pierre Inglebert <pierre.inglebert@gmail.com>\",\n    \"Jonathan Ong <jonathanrichardong@gmail.com>\",\n    \"Chanon Sajjamanochai <chanon.s@gmail.com>\",\n    \"Juliano Julio <julianojulio@gmail.com>\",\n    \"Daniel Gasienica <daniel@gasienica.ch>\",\n    \"Julian Walker <julian@fiftythree.com>\",\n    \"Amit Pitaru <pitaru.amit@gmail.com>\",\n    \"Brandon Aaron <hello.brandon@aaron.sh>\",\n    \"Andreas Lind <andreas@one.com>\",\n    \"Maurus Cuelenaere <mcuelenaere@gmail.com>\",\n    \"Linus Unneb\u00E4ck <linus@folkdatorn.se>\",\n    \"Victor Mateevitsi <mvictoras@gmail.com>\",\n    \"Alaric Holloway <alaric.holloway@gmail.com>\",\n    \"Bernhard K. Weisshuhn <bkw@codingforce.com>\",\n    \"Chris Riley <criley@primedia.com>\",\n    \"David Carley <dacarley@gmail.com>\",\n    \"John Tobin <john@limelightmobileinc.com>\",\n    \"Kenton Gray <kentongray@gmail.com>\",\n    \"Felix B\u00FCnemann <Felix.Buenemann@gmail.com>\",\n    \"Samy Al Zahrani <samyalzahrany@gmail.com>\",\n    \"Chintan Thakkar <lemnisk8@gmail.com>\",\n    \"F. Orlando Galashan <frulo@gmx.de>\",\n    \"Kleis Auke Wolthuizen <info@kleisauke.nl>\",\n    \"Matt Hirsch <mhirsch@media.mit.edu>\",\n    \"Matthias Thoemmes <thoemmes@gmail.com>\",\n    \"Patrick Paskaris <patrick@paskaris.gr>\",\n    \"J\u00E9r\u00E9my Lal <kapouer@melix.org>\",\n    \"Rahul Nanwani <r.nanwani@gmail.com>\",\n    \"Alice Monday <alice0meta@gmail.com>\",\n    \"Kristo Jorgenson <kristo.jorgenson@gmail.com>\",\n    \"YvesBos <yves_bos@outlook.com>\",\n    \"Guy Maliar <guy@tailorbrands.com>\",\n    \"Nicolas Coden <nicolas@ncoden.fr>\",\n    \"Matt Parrish <matt.r.parrish@gmail.com>\",\n    \"Marcel Bretschneider <marcel.bretschneider@gmail.com>\",\n    \"Matthew McEachen <matthew+github@mceachen.org>\",\n    \"Jarda Kot\u011B\u0161ovec <jarda.kotesovec@gmail.com>\",\n    \"Kenric D'Souza <kenric.dsouza@gmail.com>\",\n    \"Oleh Aleinyk <oleg.aleynik@gmail.com>\",\n    \"Marcel Bretschneider <marcel.bretschneider@gmail.com>\",\n    \"Andrea Bianco <andrea.bianco@unibas.ch>\",\n    \"Rik Heywood <rik@rik.org>\",\n    \"Thomas Parisot <hi@oncletom.io>\",\n    \"Nathan Graves <nathanrgraves+github@gmail.com>\",\n    \"Tom Lokhorst <tom@lokhorst.eu>\",\n    \"Espen Hovlandsdal <espen@hovlandsdal.com>\",\n    \"Sylvain Dumont <sylvain.dumont35@gmail.com>\",\n    \"Alun Davies <alun.owain.davies@googlemail.com>\",\n    \"Aidan Hoolachan <ajhoolachan21@gmail.com>\",\n    \"Axel Eirola <axel.eirola@iki.fi>\",\n    \"Freezy <freezy@xbmc.org>\",\n    \"Daiz <taneli.vatanen@gmail.com>\",\n    \"Julian Aubourg <j@ubourg.net>\",\n    \"Keith Belovay <keith@picthrive.com>\",\n    \"Michael B. Klein <mbklein@gmail.com>\",\n    \"Jordan Prudhomme <jordan@raboland.fr>\",\n    \"Ilya Ovdin <iovdin@gmail.com>\",\n    \"Andargor <andargor@yahoo.com>\",\n    \"Paul Neave <paul.neave@gmail.com>\",\n    \"Brendan Kennedy <brenwken@gmail.com>\",\n    \"Brychan Bennett-Odlum <git@brychan.io>\",\n    \"Edward Silverton <e.silverton@gmail.com>\",\n    \"Roman Malieiev <aromaleev@gmail.com>\",\n    \"Tomas Szabo <tomas.szabo@deftomat.com>\",\n    \"Robert O'Rourke <robert@o-rourke.org>\",\n    \"Guillermo Alfonso Varela Chouci\u00F1o <guillevch@gmail.com>\",\n    \"Christian Flintrup <chr@gigahost.dk>\",\n    \"Manan Jadhav <manan@motionden.com>\",\n    \"Leon Radley <leon@radley.se>\",\n    \"alza54 <alza54@thiocod.in>\",\n    \"Jacob Smith <jacob@frende.me>\",\n    \"Michael Nutt <michael@nutt.im>\",\n    \"Brad Parham <baparham@gmail.com>\",\n    \"Taneli Vatanen <taneli.vatanen@gmail.com>\",\n    \"Joris Dugu\u00E9 <zaruike10@gmail.com>\",\n    \"Chris Banks <christopher.bradley.banks@gmail.com>\",\n    \"Ompal Singh <ompal.hitm09@gmail.com>\",\n    \"Brodan <christopher.hranj@gmail.com>\",\n    \"Ankur Parihar <ankur.github@gmail.com>\",\n    \"Brahim Ait elhaj <brahima@gmail.com>\",\n    \"Mart Jansink <m.jansink@gmail.com>\",\n    \"Lachlan Newman <lachnewman007@gmail.com>\",\n    \"Dennis Beatty <dennis@dcbeatty.com>\",\n    \"Ingvar Stepanyan <me@rreverser.com>\",\n    \"Don Denton <don@happycollision.com>\"\n  ],\n  \"scripts\": {\n    \"install\": \"node install/check.js\",\n    \"clean\": \"rm -rf src/build/ .nyc_output/ coverage/ test/fixtures/output.*\",\n    \"test\": \"npm run test-lint && npm run test-unit && npm run test-licensing && npm run test-types\",\n    \"test-lint\": \"semistandard && cpplint\",\n    \"test-unit\": \"nyc --reporter=lcov --reporter=text --check-coverage --branches=100 mocha\",\n    \"test-licensing\": \"license-checker --production --summary --onlyAllow=\\\"Apache-2.0;BSD;ISC;LGPL-3.0-or-later;MIT\\\"\",\n    \"test-leak\": \"./test/leak/leak.sh\",\n    \"test-types\": \"tsd\",\n    \"package-from-local-build\": \"node npm/from-local-build.js\",\n    \"package-release-notes\": \"node npm/release-notes.js\",\n    \"docs-build\": \"node docs/build.mjs\",\n    \"docs-serve\": \"cd docs && npm start\",\n    \"docs-publish\": \"cd docs && npm run build && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp\"\n  },\n  \"type\": \"commonjs\",\n  \"main\": \"lib/index.js\",\n  \"types\": \"lib/index.d.ts\",\n  \"files\": [\n    \"install\",\n    \"lib\",\n    \"src/*.{cc,h,gyp}\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/lovell/sharp.git\"\n  },\n  \"keywords\": [\n    \"jpeg\",\n    \"png\",\n    \"webp\",\n    \"avif\",\n    \"tiff\",\n    \"gif\",\n    \"svg\",\n    \"jp2\",\n    \"dzi\",\n    \"image\",\n    \"resize\",\n    \"thumbnail\",\n    \"crop\",\n    \"embed\",\n    \"libvips\",\n    \"vips\"\n  ],\n  \"dependencies\": {\n    \"@img/colour\": \"^1.0.0\",\n    \"detect-libc\": \"^2.1.0\",\n    \"semver\": \"^7.7.2\"\n  },\n  \"optionalDependencies\": {\n    \"@img/sharp-darwin-arm64\": \"0.34.4\",\n    \"@img/sharp-darwin-x64\": \"0.34.4\",\n    \"@img/sharp-libvips-darwin-arm64\": \"1.2.3\",\n    \"@img/sharp-libvips-darwin-x64\": \"1.2.3\",\n    \"@img/sharp-libvips-linux-arm\": \"1.2.3\",\n    \"@img/sharp-libvips-linux-arm64\": \"1.2.3\",\n    \"@img/sharp-libvips-linux-ppc64\": \"1.2.3\",\n    \"@img/sharp-libvips-linux-s390x\": \"1.2.3\",\n    \"@img/sharp-libvips-linux-x64\": \"1.2.3\",\n    \"@img/sharp-libvips-linuxmusl-arm64\": \"1.2.3\",\n    \"@img/sharp-libvips-linuxmusl-x64\": \"1.2.3\",\n    \"@img/sharp-linux-arm\": \"0.34.4\",\n    \"@img/sharp-linux-arm64\": \"0.34.4\",\n    \"@img/sharp-linux-ppc64\": \"0.34.4\",\n    \"@img/sharp-linux-s390x\": \"0.34.4\",\n    \"@img/sharp-linux-x64\": \"0.34.4\",\n    \"@img/sharp-linuxmusl-arm64\": \"0.34.4\",\n    \"@img/sharp-linuxmusl-x64\": \"0.34.4\",\n    \"@img/sharp-wasm32\": \"0.34.4\",\n    \"@img/sharp-win32-arm64\": \"0.34.4\",\n    \"@img/sharp-win32-ia32\": \"0.34.4\",\n    \"@img/sharp-win32-x64\": \"0.34.4\"\n  },\n  \"devDependencies\": {\n    \"@emnapi/runtime\": \"^1.5.0\",\n    \"@img/sharp-libvips-dev\": \"1.2.3\",\n    \"@img/sharp-libvips-dev-wasm32\": \"1.2.3\",\n    \"@img/sharp-libvips-win32-arm64\": \"1.2.3\",\n    \"@img/sharp-libvips-win32-ia32\": \"1.2.3\",\n    \"@img/sharp-libvips-win32-x64\": \"1.2.3\",\n    \"@types/node\": \"*\",\n    \"cc\": \"^3.0.1\",\n    \"emnapi\": \"^1.5.0\",\n    \"exif-reader\": \"^2.0.2\",\n    \"extract-zip\": \"^2.0.1\",\n    \"icc\": \"^3.0.0\",\n    \"jsdoc-to-markdown\": \"^9.1.2\",\n    \"license-checker\": \"^25.0.1\",\n    \"mocha\": \"^11.7.2\",\n    \"node-addon-api\": \"^8.5.0\",\n    \"node-gyp\": \"^11.4.2\",\n    \"nyc\": \"^17.1.0\",\n    \"semistandard\": \"^17.0.0\",\n    \"tar-fs\": \"^3.1.1\",\n    \"tsd\": \"^0.33.0\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"engines\": {\n    \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\n  },\n  \"config\": {\n    \"libvips\": \">=8.17.2\"\n  },\n  \"funding\": {\n    \"url\": \"https://opencollective.com/libvips\"\n  },\n  \"semistandard\": {\n    \"env\": [\n      \"mocha\"\n    ]\n  },\n  \"cc\": {\n    \"linelength\": \"120\",\n    \"filter\": [\n      \"build/include\"\n    ]\n  },\n  \"nyc\": {\n    \"include\": [\n      \"lib\"\n    ]\n  },\n  \"tsd\": {\n    \"directory\": \"test/types/\"\n  }\n}\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst { spawnSync } = require('node:child_process');\nconst { createHash } = require('node:crypto');\nconst semverCoerce = require('semver/functions/coerce');\nconst semverGreaterThanOrEqualTo = require('semver/functions/gte');\nconst semverSatisfies = require('semver/functions/satisfies');\nconst detectLibc = require('detect-libc');\n\nconst { config, engines, optionalDependencies } = require('../package.json');\n\nconst minimumLibvipsVersionLabelled = process.env.npm_package_config_libvips || /* istanbul ignore next */\n  config.libvips;\nconst minimumLibvipsVersion = semverCoerce(minimumLibvipsVersionLabelled).version;\n\nconst prebuiltPlatforms = [\n  'darwin-arm64', 'darwin-x64',\n  'linux-arm', 'linux-arm64', 'linux-ppc64', 'linux-s390x', 'linux-x64',\n  'linuxmusl-arm64', 'linuxmusl-x64',\n  'win32-arm64', 'win32-ia32', 'win32-x64'\n];\n\nconst spawnSyncOptions = {\n  encoding: 'utf8',\n  shell: true\n};\n\nconst log = (item) => {\n  if (item instanceof Error) {\n    console.error(`sharp: Installation error: ${item.message}`);\n  } else {\n    console.log(`sharp: ${item}`);\n  }\n};\n\n/* istanbul ignore next */\nconst runtimeLibc = () => detectLibc.isNonGlibcLinuxSync() ? detectLibc.familySync() : '';\n\nconst runtimePlatformArch = () => `${process.platform}${runtimeLibc()}-${process.arch}`;\n\n/* istanbul ignore next */\nconst buildPlatformArch = () => {\n  if (isEmscripten()) {\n    return 'wasm32';\n  }\n  /* eslint camelcase: [\"error\", { allow: [\"^npm_config_\"] }] */\n  const { npm_config_arch, npm_config_platform, npm_config_libc } = process.env;\n  const libc = typeof npm_config_libc === 'string' ? npm_config_libc : runtimeLibc();\n  return `${npm_config_platform || process.platform}${libc}-${npm_config_arch || process.arch}`;\n};\n\nconst buildSharpLibvipsIncludeDir = () => {\n  try {\n    return require(`@img/sharp-libvips-dev-${buildPlatformArch()}/include`);\n  } catch {\n    try {\n      return require('@img/sharp-libvips-dev/include');\n    } catch {}\n  }\n  /* istanbul ignore next */\n  return '';\n};\n\nconst buildSharpLibvipsCPlusPlusDir = () => {\n  try {\n    return require('@img/sharp-libvips-dev/cplusplus');\n  } catch {}\n  /* istanbul ignore next */\n  return '';\n};\n\nconst buildSharpLibvipsLibDir = () => {\n  try {\n    return require(`@img/sharp-libvips-dev-${buildPlatformArch()}/lib`);\n  } catch {\n    try {\n      return require(`@img/sharp-libvips-${buildPlatformArch()}/lib`);\n    } catch {}\n  }\n  /* istanbul ignore next */\n  return '';\n};\n\nconst isUnsupportedNodeRuntime = () => {\n  /* istanbul ignore next */\n  if (process.release?.name === 'node' && process.versions) {\n    if (!semverSatisfies(process.versions.node, engines.node)) {\n      return { found: process.versions.node, expected: engines.node };\n    }\n  }\n};\n\n/* istanbul ignore next */\nconst isEmscripten = () => {\n  const { CC } = process.env;\n  return Boolean(CC && CC.endsWith('/emcc'));\n};\n\nconst isRosetta = () => {\n  /* istanbul ignore next */\n  if (process.platform === 'darwin' && process.arch === 'x64') {\n    const translated = spawnSync('sysctl sysctl.proc_translated', spawnSyncOptions).stdout;\n    return (translated || '').trim() === 'sysctl.proc_translated: 1';\n  }\n  return false;\n};\n\nconst sha512 = (s) => createHash('sha512').update(s).digest('hex');\n\nconst yarnLocator = () => {\n  try {\n    const identHash = sha512(`imgsharp-libvips-${buildPlatformArch()}`);\n    const npmVersion = semverCoerce(optionalDependencies[`@img/sharp-libvips-${buildPlatformArch()}`], {\n      includePrerelease: true\n    }).version;\n    return sha512(`${identHash}npm:${npmVersion}`).slice(0, 10);\n  } catch {}\n  return '';\n};\n\n/* istanbul ignore next */\nconst spawnRebuild = () =>\n  spawnSync(`node-gyp rebuild --directory=src ${isEmscripten() ? '--nodedir=emscripten' : ''}`, {\n    ...spawnSyncOptions,\n    stdio: 'inherit'\n  }).status;\n\nconst globalLibvipsVersion = () => {\n  if (process.platform !== 'win32') {\n    const globalLibvipsVersion = spawnSync('pkg-config --modversion vips-cpp', {\n      ...spawnSyncOptions,\n      env: {\n        ...process.env,\n        PKG_CONFIG_PATH: pkgConfigPath()\n      }\n    }).stdout;\n    /* istanbul ignore next */\n    return (globalLibvipsVersion || '').trim();\n  } else {\n    return '';\n  }\n};\n\n/* istanbul ignore next */\nconst pkgConfigPath = () => {\n  if (process.platform !== 'win32') {\n    const brewPkgConfigPath = spawnSync(\n      'which brew >/dev/null 2>&1 && brew environment --plain | grep PKG_CONFIG_LIBDIR | cut -d\" \" -f2',\n      spawnSyncOptions\n    ).stdout || '';\n    return [\n      brewPkgConfigPath.trim(),\n      process.env.PKG_CONFIG_PATH,\n      '/usr/local/lib/pkgconfig',\n      '/usr/lib/pkgconfig',\n      '/usr/local/libdata/pkgconfig',\n      '/usr/libdata/pkgconfig'\n    ].filter(Boolean).join(':');\n  } else {\n    return '';\n  }\n};\n\nconst skipSearch = (status, reason, logger) => {\n  if (logger) {\n    logger(`Detected ${reason}, skipping search for globally-installed libvips`);\n  }\n  return status;\n};\n\nconst useGlobalLibvips = (logger) => {\n  if (Boolean(process.env.SHARP_IGNORE_GLOBAL_LIBVIPS) === true) {\n    return skipSearch(false, 'SHARP_IGNORE_GLOBAL_LIBVIPS', logger);\n  }\n  if (Boolean(process.env.SHARP_FORCE_GLOBAL_LIBVIPS) === true) {\n    return skipSearch(true, 'SHARP_FORCE_GLOBAL_LIBVIPS', logger);\n  }\n  /* istanbul ignore next */\n  if (isRosetta()) {\n    return skipSearch(false, 'Rosetta', logger);\n  }\n  const globalVipsVersion = globalLibvipsVersion();\n  return !!globalVipsVersion && /* istanbul ignore next */\n    semverGreaterThanOrEqualTo(globalVipsVersion, minimumLibvipsVersion);\n};\n\nmodule.exports = {\n  minimumLibvipsVersion,\n  prebuiltPlatforms,\n  buildPlatformArch,\n  buildSharpLibvipsIncludeDir,\n  buildSharpLibvipsCPlusPlusDir,\n  buildSharpLibvipsLibDir,\n  isUnsupportedNodeRuntime,\n  runtimePlatformArch,\n  log,\n  yarnLocator,\n  spawnRebuild,\n  globalLibvipsVersion,\n  pkgConfigPath,\n  useGlobalLibvips\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\n// Inspects the runtime environment and exports the relevant sharp.node binary\n\nconst { familySync, versionSync } = require('detect-libc');\n\nconst { runtimePlatformArch, isUnsupportedNodeRuntime, prebuiltPlatforms, minimumLibvipsVersion } = require('./libvips');\nconst runtimePlatform = runtimePlatformArch();\n\nconst paths = [\n  `../src/build/Release/sharp-${runtimePlatform}.node`,\n  '../src/build/Release/sharp-wasm32.node',\n  `@img/sharp-${runtimePlatform}/sharp.node`,\n  '@img/sharp-wasm32/sharp.node'\n];\n\nlet path, sharp;\nconst errors = [];\nfor (path of paths) {\n  try {\n    sharp = require(path);\n    break;\n  } catch (err) {\n    /* istanbul ignore next */\n    errors.push(err);\n  }\n}\n\n/* istanbul ignore next */\nif (sharp && path.startsWith('@img/sharp-linux-x64') && !sharp._isUsingX64V2()) {\n  const err = new Error('Prebuilt binaries for linux-x64 require v2 microarchitecture');\n  err.code = 'Unsupported CPU';\n  errors.push(err);\n  sharp = null;\n}\n\n/* istanbul ignore next */\nif (sharp) {\n  module.exports = sharp;\n} else {\n  const [isLinux, isMacOs, isWindows] = ['linux', 'darwin', 'win32'].map(os => runtimePlatform.startsWith(os));\n\n  const help = [`Could not load the \"sharp\" module using the ${runtimePlatform} runtime`];\n  errors.forEach(err => {\n    if (err.code !== 'MODULE_NOT_FOUND') {\n      help.push(`${err.code}: ${err.message}`);\n    }\n  });\n  const messages = errors.map(err => err.message).join(' ');\n  help.push('Possible solutions:');\n  // Common error messages\n  if (isUnsupportedNodeRuntime()) {\n    const { found, expected } = isUnsupportedNodeRuntime();\n    help.push(\n      '- Please upgrade Node.js:',\n      `    Found ${found}`,\n      `    Requires ${expected}`\n    );\n  } else if (prebuiltPlatforms.includes(runtimePlatform)) {\n    const [os, cpu] = runtimePlatform.split('-');\n    const libc = os.endsWith('musl') ? ' --libc=musl' : '';\n    help.push(\n      '- Ensure optional dependencies can be installed:',\n      '    npm install --include=optional sharp',\n      '- Ensure your package manager supports multi-platform installation:',\n      '    See https://sharp.pixelplumbing.com/install#cross-platform',\n      '- Add platform-specific dependencies:',\n      `    npm install --os=${os.replace('musl', '')}${libc} --cpu=${cpu} sharp`\n    );\n  } else {\n    help.push(\n      `- Manually install libvips >= ${minimumLibvipsVersion}`,\n      '- Add experimental WebAssembly-based dependencies:',\n      '    npm install --cpu=wasm32 sharp',\n      '    npm install @img/sharp-wasm32'\n    );\n  }\n  if (isLinux && /(symbol not found|CXXABI_)/i.test(messages)) {\n    try {\n      const { config } = require(`@img/sharp-libvips-${runtimePlatform}/package`);\n      const libcFound = `${familySync()} ${versionSync()}`;\n      const libcRequires = `${config.musl ? 'musl' : 'glibc'} ${config.musl || config.glibc}`;\n      help.push(\n        '- Update your OS:',\n        `    Found ${libcFound}`,\n        `    Requires ${libcRequires}`\n      );\n    } catch (errEngines) {}\n  }\n  if (isLinux && /\\/snap\\/core[0-9]{2}/.test(messages)) {\n    help.push(\n      '- Remove the Node.js Snap, which does not support native modules',\n      '    snap remove node'\n    );\n  }\n  if (isMacOs && /Incompatible library version/.test(messages)) {\n    help.push(\n      '- Update Homebrew:',\n      '    brew update && brew upgrade vips'\n    );\n  }\n  if (errors.some(err => err.code === 'ERR_DLOPEN_DISABLED')) {\n    help.push('- Run Node.js without using the --no-addons flag');\n  }\n  // Link to installation docs\n  if (isWindows && /The specified procedure could not be found/.test(messages)) {\n    help.push(\n      '- Using the canvas package on Windows?',\n      '    See https://sharp.pixelplumbing.com/install#canvas-and-windows',\n      '- Check for outdated versions of sharp in the dependency tree:',\n      '    npm ls sharp'\n    );\n  }\n  help.push(\n    '- Consult the installation documentation:',\n    '    See https://sharp.pixelplumbing.com/install'\n  );\n  throw new Error(help.join('\\n'));\n}\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst util = require('node:util');\nconst stream = require('node:stream');\nconst is = require('./is');\n\nrequire('./sharp');\n\n// Use NODE_DEBUG=sharp to enable libvips warnings\nconst debuglog = util.debuglog('sharp');\n\n/**\n * Constructor factory to create an instance of `sharp`, to which further methods are chained.\n *\n * JPEG, PNG, WebP, GIF, AVIF or TIFF format image data can be streamed out from this object.\n * When using Stream based output, derived attributes are available from the `info` event.\n *\n * Non-critical problems encountered during processing are emitted as `warning` events.\n *\n * Implements the [stream.Duplex](http://nodejs.org/api/stream.html#stream_class_stream_duplex) class.\n *\n * When loading more than one page/frame of an animated image,\n * these are combined as a vertically-stacked \"toilet roll\" image\n * where the overall height is the `pageHeight` multiplied by the number of `pages`.\n *\n * @constructs Sharp\n *\n * @emits Sharp#info\n * @emits Sharp#warning\n *\n * @example\n * sharp('input.jpg')\n *   .resize(300, 200)\n *   .toFile('output.jpg', function(err) {\n *     // output.jpg is a 300 pixels wide and 200 pixels high image\n *     // containing a scaled and cropped version of input.jpg\n *   });\n *\n * @example\n * // Read image data from remote URL,\n * // resize to 300 pixels wide,\n * // emit an 'info' event with calculated dimensions\n * // and finally write image data to writableStream\n * const { body } = fetch('https://...');\n * const readableStream = Readable.fromWeb(body);\n * const transformer = sharp()\n *   .resize(300)\n *   .on('info', ({ height }) => {\n *     console.log(`Image height is ${height}`);\n *   });\n * readableStream.pipe(transformer).pipe(writableStream);\n *\n * @example\n * // Create a blank 300x200 PNG image of semi-translucent red pixels\n * sharp({\n *   create: {\n *     width: 300,\n *     height: 200,\n *     channels: 4,\n *     background: { r: 255, g: 0, b: 0, alpha: 0.5 }\n *   }\n * })\n * .png()\n * .toBuffer()\n * .then( ... );\n *\n * @example\n * // Convert an animated GIF to an animated WebP\n * await sharp('in.gif', { animated: true }).toFile('out.webp');\n *\n * @example\n * // Read a raw array of pixels and save it to a png\n * const input = Uint8Array.from([255, 255, 255, 0, 0, 0]); // or Uint8ClampedArray\n * const image = sharp(input, {\n *   // because the input does not contain its dimensions or how many channels it has\n *   // we need to specify it in the constructor options\n *   raw: {\n *     width: 2,\n *     height: 1,\n *     channels: 3\n *   }\n * });\n * await image.toFile('my-two-pixels.png');\n *\n * @example\n * // Generate RGB Gaussian noise\n * await sharp({\n *   create: {\n *     width: 300,\n *     height: 200,\n *     channels: 3,\n *     noise: {\n *       type: 'gaussian',\n *       mean: 128,\n *       sigma: 30\n *     }\n *  }\n * }).toFile('noise.png');\n *\n * @example\n * // Generate an image from text\n * await sharp({\n *   text: {\n *     text: 'Hello, world!',\n *     width: 400, // max width\n *     height: 300 // max height\n *   }\n * }).toFile('text_bw.png');\n *\n * @example\n * // Generate an rgba image from text using pango markup and font\n * await sharp({\n *   text: {\n *     text: '<span foreground=\"red\">Red!</span><span background=\"cyan\">blue</span>',\n *     font: 'sans',\n *     rgba: true,\n *     dpi: 300\n *   }\n * }).toFile('text_rgba.png');\n *\n * @example\n * // Join four input images as a 2x2 grid with a 4 pixel gutter\n * const data = await sharp(\n *  [image1, image2, image3, image4],\n *  { join: { across: 2, shim: 4 } }\n * ).toBuffer();\n *\n * @example\n * // Generate a two-frame animated image from emoji\n * const images = ['\uD83D\uDE00', '\uD83D\uDE1B'].map(text => ({\n *   text: { text, width: 64, height: 64, channels: 4, rgba: true }\n * }));\n * await sharp(images, { join: { animated: true } }).toFile('out.gif');\n *\n * @param {(Buffer|ArrayBuffer|Uint8Array|Uint8ClampedArray|Int8Array|Uint16Array|Int16Array|Uint32Array|Int32Array|Float32Array|Float64Array|string|Array)} [input] - if present, can be\n *  a Buffer / ArrayBuffer / Uint8Array / Uint8ClampedArray containing JPEG, PNG, WebP, AVIF, GIF, SVG or TIFF image data, or\n *  a TypedArray containing raw pixel image data, or\n *  a String containing the filesystem path to an JPEG, PNG, WebP, AVIF, GIF, SVG or TIFF image file.\n *  An array of inputs can be provided, and these will be joined together.\n *  JPEG, PNG, WebP, AVIF, GIF, SVG, TIFF or raw pixel image data can be streamed into the object when not present.\n * @param {Object} [options] - if present, is an Object with optional attributes.\n * @param {string} [options.failOn='warning'] - When to abort processing of invalid pixel data, one of (in order of sensitivity, least to most): 'none', 'truncated', 'error', 'warning'. Higher levels imply lower levels. Invalid metadata will always abort.\n * @param {number|boolean} [options.limitInputPixels=268402689] - Do not process input images where the number of pixels\n *  (width x height) exceeds this limit. Assumes image dimensions contained in the input metadata can be trusted.\n *  An integral Number of pixels, zero or false to remove limit, true to use default limit of 268402689 (0x3FFF x 0x3FFF).\n * @param {boolean} [options.unlimited=false] - Set this to `true` to remove safety features that help prevent memory exhaustion (JPEG, PNG, SVG, HEIF).\n * @param {boolean} [options.autoOrient=false] - Set this to `true` to rotate/flip the image to match EXIF `Orientation`, if any.\n * @param {boolean} [options.sequentialRead=true] - Set this to `false` to use random access rather than sequential read. Some operations will do this automatically.\n * @param {number} [options.density=72] - number representing the DPI for vector images in the range 1 to 100000.\n * @param {number} [options.ignoreIcc=false] - should the embedded ICC profile, if any, be ignored.\n * @param {number} [options.pages=1] - Number of pages to extract for multi-page input (GIF, WebP, TIFF), use -1 for all pages.\n * @param {number} [options.page=0] - Page number to start extracting from for multi-page input (GIF, WebP, TIFF), zero based.\n * @param {boolean} [options.animated=false] - Set to `true` to read all frames/pages of an animated image (GIF, WebP, TIFF), equivalent of setting `pages` to `-1`.\n * @param {Object} [options.raw] - describes raw pixel input image data. See `raw()` for pixel ordering.\n * @param {number} [options.raw.width] - integral number of pixels wide.\n * @param {number} [options.raw.height] - integral number of pixels high.\n * @param {number} [options.raw.channels] - integral number of channels, between 1 and 4.\n * @param {boolean} [options.raw.premultiplied] - specifies that the raw input has already been premultiplied, set to `true`\n *  to avoid sharp premultiplying the image. (optional, default `false`)\n * @param {number} [options.raw.pageHeight] - The pixel height of each page/frame for animated images, must be an integral factor of `raw.height`.\n * @param {Object} [options.create] - describes a new image to be created.\n * @param {number} [options.create.width] - integral number of pixels wide.\n * @param {number} [options.create.height] - integral number of pixels high.\n * @param {number} [options.create.channels] - integral number of channels, either 3 (RGB) or 4 (RGBA).\n * @param {string|Object} [options.create.background] - parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {number} [options.create.pageHeight] - The pixel height of each page/frame for animated images, must be an integral factor of `create.height`.\n * @param {Object} [options.create.noise] - describes a noise to be created.\n * @param {string} [options.create.noise.type] - type of generated noise, currently only `gaussian` is supported.\n * @param {number} [options.create.noise.mean=128] - Mean value of pixels in the generated noise.\n * @param {number} [options.create.noise.sigma=30] - Standard deviation of pixel values in the generated noise.\n * @param {Object} [options.text] - describes a new text image to be created.\n * @param {string} [options.text.text] - text to render as a UTF-8 string. It can contain Pango markup, for example `<i>Le</i>Monde`.\n * @param {string} [options.text.font] - font name to render with.\n * @param {string} [options.text.fontfile] - absolute filesystem path to a font file that can be used by `font`.\n * @param {number} [options.text.width=0] - Integral number of pixels to word-wrap at. Lines of text wider than this will be broken at word boundaries.\n * @param {number} [options.text.height=0] - Maximum integral number of pixels high. When defined, `dpi` will be ignored and the text will automatically fit the pixel resolution defined by `width` and `height`. Will be ignored if `width` is not specified or set to 0.\n * @param {string} [options.text.align='left'] - Alignment style for multi-line text (`'left'`, `'centre'`, `'center'`, `'right'`).\n * @param {boolean} [options.text.justify=false] - set this to true to apply justification to the text.\n * @param {number} [options.text.dpi=72] - the resolution (size) at which to render the text. Does not take effect if `height` is specified.\n * @param {boolean} [options.text.rgba=false] - set this to true to enable RGBA output. This is useful for colour emoji rendering, or support for pango markup features like `<span foreground=\"red\">Red!</span>`.\n * @param {number} [options.text.spacing=0] - text line height in points. Will use the font line height if none is specified.\n * @param {string} [options.text.wrap='word'] - word wrapping style when width is provided, one of: 'word', 'char', 'word-char' (prefer word, fallback to char) or 'none'.\n * @param {Object} [options.join] - describes how an array of input images should be joined.\n * @param {number} [options.join.across=1] - number of images to join horizontally.\n * @param {boolean} [options.join.animated=false] - set this to `true` to join the images as an animated image.\n * @param {number} [options.join.shim=0] - number of pixels to insert between joined images.\n * @param {string|Object} [options.join.background] - parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {string} [options.join.halign='left'] - horizontal alignment style for images joined horizontally (`'left'`, `'centre'`, `'center'`, `'right'`).\n * @param {string} [options.join.valign='top'] - vertical alignment style for images joined vertically (`'top'`, `'centre'`, `'center'`, `'bottom'`).\n * @param {Object} [options.tiff] - Describes TIFF specific options.\n * @param {number} [options.tiff.subifd=-1] - Sub Image File Directory to extract for OME-TIFF, defaults to main image.\n * @param {Object} [options.svg] - Describes SVG specific options.\n * @param {string} [options.svg.stylesheet] - Custom CSS for SVG input, applied with a User Origin during the CSS cascade.\n * @param {boolean} [options.svg.highBitdepth=false] - Set to `true` to render SVG input at 32-bits per channel (128-bit) instead of 8-bits per channel (32-bit) RGBA.\n * @param {Object} [options.pdf] - Describes PDF specific options. Requires the use of a globally-installed libvips compiled with support for PDFium, Poppler, ImageMagick or GraphicsMagick.\n * @param {string|Object} [options.pdf.background] - Background colour to use when PDF is partially transparent. Parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {Object} [options.openSlide] - Describes OpenSlide specific options. Requires the use of a globally-installed libvips compiled with support for OpenSlide.\n * @param {number} [options.openSlide.level=0] - Level to extract from a multi-level input, zero based.\n * @param {Object} [options.jp2] - Describes JPEG 2000 specific options. Requires the use of a globally-installed libvips compiled with support for OpenJPEG.\n * @param {boolean} [options.jp2.oneshot=false] - Set to `true` to decode tiled JPEG 2000 images in a single operation, improving compatibility.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nconst Sharp = function (input, options) {\n  if (arguments.length === 1 && !is.defined(input)) {\n    throw new Error('Invalid input');\n  }\n  if (!(this instanceof Sharp)) {\n    return new Sharp(input, options);\n  }\n  stream.Duplex.call(this);\n  this.options = {\n    // resize options\n    topOffsetPre: -1,\n    leftOffsetPre: -1,\n    widthPre: -1,\n    heightPre: -1,\n    topOffsetPost: -1,\n    leftOffsetPost: -1,\n    widthPost: -1,\n    heightPost: -1,\n    width: -1,\n    height: -1,\n    canvas: 'crop',\n    position: 0,\n    resizeBackground: [0, 0, 0, 255],\n    angle: 0,\n    rotationAngle: 0,\n    rotationBackground: [0, 0, 0, 255],\n    rotateBefore: false,\n    orientBefore: false,\n    flip: false,\n    flop: false,\n    extendTop: 0,\n    extendBottom: 0,\n    extendLeft: 0,\n    extendRight: 0,\n    extendBackground: [0, 0, 0, 255],\n    extendWith: 'background',\n    withoutEnlargement: false,\n    withoutReduction: false,\n    affineMatrix: [],\n    affineBackground: [0, 0, 0, 255],\n    affineIdx: 0,\n    affineIdy: 0,\n    affineOdx: 0,\n    affineOdy: 0,\n    affineInterpolator: this.constructor.interpolators.bilinear,\n    kernel: 'lanczos3',\n    fastShrinkOnLoad: true,\n    // operations\n    tint: [-1, 0, 0, 0],\n    flatten: false,\n    flattenBackground: [0, 0, 0],\n    unflatten: false,\n    negate: false,\n    negateAlpha: true,\n    medianSize: 0,\n    blurSigma: 0,\n    precision: 'integer',\n    minAmpl: 0.2,\n    sharpenSigma: 0,\n    sharpenM1: 1,\n    sharpenM2: 2,\n    sharpenX1: 2,\n    sharpenY2: 10,\n    sharpenY3: 20,\n    threshold: 0,\n    thresholdGrayscale: true,\n    trimBackground: [],\n    trimThreshold: -1,\n    trimLineArt: false,\n    dilateWidth: 0,\n    erodeWidth: 0,\n    gamma: 0,\n    gammaOut: 0,\n    greyscale: false,\n    normalise: false,\n    normaliseLower: 1,\n    normaliseUpper: 99,\n    claheWidth: 0,\n    claheHeight: 0,\n    claheMaxSlope: 3,\n    brightness: 1,\n    saturation: 1,\n    hue: 0,\n    lightness: 0,\n    booleanBufferIn: null,\n    booleanFileIn: '',\n    joinChannelIn: [],\n    extractChannel: -1,\n    removeAlpha: false,\n    ensureAlpha: -1,\n    colourspace: 'srgb',\n    colourspacePipeline: 'last',\n    composite: [],\n    // output\n    fileOut: '',\n    formatOut: 'input',\n    streamOut: false,\n    keepMetadata: 0,\n    withMetadataOrientation: -1,\n    withMetadataDensity: 0,\n    withIccProfile: '',\n    withExif: {},\n    withExifMerge: true,\n    withXmp: '',\n    resolveWithObject: false,\n    loop: -1,\n    delay: [],\n    // output format\n    jpegQuality: 80,\n    jpegProgressive: false,\n    jpegChromaSubsampling: '4:2:0',\n    jpegTrellisQuantisation: false,\n    jpegOvershootDeringing: false,\n    jpegOptimiseScans: false,\n    jpegOptimiseCoding: true,\n    jpegQuantisationTable: 0,\n    pngProgressive: false,\n    pngCompressionLevel: 6,\n    pngAdaptiveFiltering: false,\n    pngPalette: false,\n    pngQuality: 100,\n    pngEffort: 7,\n    pngBitdepth: 8,\n    pngDither: 1,\n    jp2Quality: 80,\n    jp2TileHeight: 512,\n    jp2TileWidth: 512,\n    jp2Lossless: false,\n    jp2ChromaSubsampling: '4:4:4',\n    webpQuality: 80,\n    webpAlphaQuality: 100,\n    webpLossless: false,\n    webpNearLossless: false,\n    webpSmartSubsample: false,\n    webpSmartDeblock: false,\n    webpPreset: 'default',\n    webpEffort: 4,\n    webpMinSize: false,\n    webpMixed: false,\n    gifBitdepth: 8,\n    gifEffort: 7,\n    gifDither: 1,\n    gifInterFrameMaxError: 0,\n    gifInterPaletteMaxError: 3,\n    gifKeepDuplicateFrames: false,\n    gifReuse: true,\n    gifProgressive: false,\n    tiffQuality: 80,\n    tiffCompression: 'jpeg',\n    tiffPredictor: 'horizontal',\n    tiffPyramid: false,\n    tiffMiniswhite: false,\n    tiffBitdepth: 8,\n    tiffTile: false,\n    tiffTileHeight: 256,\n    tiffTileWidth: 256,\n    tiffXres: 1.0,\n    tiffYres: 1.0,\n    tiffResolutionUnit: 'inch',\n    heifQuality: 50,\n    heifLossless: false,\n    heifCompression: 'av1',\n    heifEffort: 4,\n    heifChromaSubsampling: '4:4:4',\n    heifBitdepth: 8,\n    jxlDistance: 1,\n    jxlDecodingTier: 0,\n    jxlEffort: 7,\n    jxlLossless: false,\n    rawDepth: 'uchar',\n    tileSize: 256,\n    tileOverlap: 0,\n    tileContainer: 'fs',\n    tileLayout: 'dz',\n    tileFormat: 'last',\n    tileDepth: 'last',\n    tileAngle: 0,\n    tileSkipBlanks: -1,\n    tileBackground: [255, 255, 255, 255],\n    tileCentre: false,\n    tileId: 'https://example.com/iiif',\n    tileBasename: '',\n    timeoutSeconds: 0,\n    linearA: [],\n    linearB: [],\n    pdfBackground: [255, 255, 255, 255],\n    // Function to notify of libvips warnings\n    debuglog: warning => {\n      this.emit('warning', warning);\n      debuglog(warning);\n    },\n    // Function to notify of queue length changes\n    queueListener: function (queueLength) {\n      Sharp.queue.emit('change', queueLength);\n    }\n  };\n  this.options.input = this._createInputDescriptor(input, options, { allowStream: true });\n  return this;\n};\nObject.setPrototypeOf(Sharp.prototype, stream.Duplex.prototype);\nObject.setPrototypeOf(Sharp, stream.Duplex);\n\n/**\n * Take a \"snapshot\" of the Sharp instance, returning a new instance.\n * Cloned instances inherit the input of their parent instance.\n * This allows multiple output Streams and therefore multiple processing pipelines to share a single input Stream.\n *\n * @example\n * const pipeline = sharp().rotate();\n * pipeline.clone().resize(800, 600).pipe(firstWritableStream);\n * pipeline.clone().extract({ left: 20, top: 20, width: 100, height: 100 }).pipe(secondWritableStream);\n * readableStream.pipe(pipeline);\n * // firstWritableStream receives auto-rotated, resized readableStream\n * // secondWritableStream receives auto-rotated, extracted region of readableStream\n *\n * @example\n * // Create a pipeline that will download an image, resize it and format it to different files\n * // Using Promises to know when the pipeline is complete\n * const fs = require(\"fs\");\n * const got = require(\"got\");\n * const sharpStream = sharp({ failOn: 'none' });\n *\n * const promises = [];\n *\n * promises.push(\n *   sharpStream\n *     .clone()\n *     .jpeg({ quality: 100 })\n *     .toFile(\"originalFile.jpg\")\n * );\n *\n * promises.push(\n *   sharpStream\n *     .clone()\n *     .resize({ width: 500 })\n *     .jpeg({ quality: 80 })\n *     .toFile(\"optimized-500.jpg\")\n * );\n *\n * promises.push(\n *   sharpStream\n *     .clone()\n *     .resize({ width: 500 })\n *     .webp({ quality: 80 })\n *     .toFile(\"optimized-500.webp\")\n * );\n *\n * // https://github.com/sindresorhus/got/blob/main/documentation/3-streams.md\n * got.stream(\"https://www.example.com/some-file.jpg\").pipe(sharpStream);\n *\n * Promise.all(promises)\n *   .then(res => { console.log(\"Done!\", res); })\n *   .catch(err => {\n *     console.error(\"Error processing files, let's clean it up\", err);\n *     try {\n *       fs.unlinkSync(\"originalFile.jpg\");\n *       fs.unlinkSync(\"optimized-500.jpg\");\n *       fs.unlinkSync(\"optimized-500.webp\");\n *     } catch (e) {}\n *   });\n *\n * @returns {Sharp}\n */\nfunction clone () {\n  // Clone existing options\n  const clone = this.constructor.call();\n  const { debuglog, queueListener, ...options } = this.options;\n  clone.options = structuredClone(options);\n  clone.options.debuglog = debuglog;\n  clone.options.queueListener = queueListener;\n  // Pass 'finish' event to clone for Stream-based input\n  if (this._isStreamInput()) {\n    this.on('finish', () => {\n      // Clone inherits input data\n      this._flattenBufferIn();\n      clone.options.input.buffer = this.options.input.buffer;\n      clone.emit('finish');\n    });\n  }\n  return clone;\n}\nObject.assign(Sharp.prototype, { clone });\n\n/**\n * Export constructor.\n * @module Sharp\n * @private\n */\nmodule.exports = Sharp;\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst is = require('./is');\nconst sharp = require('./sharp');\n\n/**\n * Justification alignment\n * @member\n * @private\n */\nconst align = {\n  left: 'low',\n  top: 'low',\n  low: 'low',\n  center: 'centre',\n  centre: 'centre',\n  right: 'high',\n  bottom: 'high',\n  high: 'high'\n};\n\nconst inputStreamParameters = [\n  // Limits and error handling\n  'failOn', 'limitInputPixels', 'unlimited',\n  // Format-generic\n  'animated', 'autoOrient', 'density', 'ignoreIcc', 'page', 'pages', 'sequentialRead',\n  // Format-specific\n  'jp2', 'openSlide', 'pdf', 'raw', 'svg', 'tiff',\n  // Deprecated\n  'failOnError', 'openSlideLevel', 'pdfBackground', 'tiffSubifd'\n];\n\n/**\n * Extract input options, if any, from an object.\n * @private\n */\nfunction _inputOptionsFromObject (obj) {\n  const params = inputStreamParameters\n    .filter(p => is.defined(obj[p]))\n    .map(p => ([p, obj[p]]));\n  return params.length\n    ? Object.fromEntries(params)\n    : undefined;\n}\n\n/**\n * Create Object containing input and input-related options.\n * @private\n */\nfunction _createInputDescriptor (input, inputOptions, containerOptions) {\n  const inputDescriptor = {\n    autoOrient: false,\n    failOn: 'warning',\n    limitInputPixels: Math.pow(0x3FFF, 2),\n    ignoreIcc: false,\n    unlimited: false,\n    sequentialRead: true\n  };\n  if (is.string(input)) {\n    // filesystem\n    inputDescriptor.file = input;\n  } else if (is.buffer(input)) {\n    // Buffer\n    if (input.length === 0) {\n      throw Error('Input Buffer is empty');\n    }\n    inputDescriptor.buffer = input;\n  } else if (is.arrayBuffer(input)) {\n    if (input.byteLength === 0) {\n      throw Error('Input bit Array is empty');\n    }\n    inputDescriptor.buffer = Buffer.from(input, 0, input.byteLength);\n  } else if (is.typedArray(input)) {\n    if (input.length === 0) {\n      throw Error('Input Bit Array is empty');\n    }\n    inputDescriptor.buffer = Buffer.from(input.buffer, input.byteOffset, input.byteLength);\n  } else if (is.plainObject(input) && !is.defined(inputOptions)) {\n    // Plain Object descriptor, e.g. create\n    inputOptions = input;\n    if (_inputOptionsFromObject(inputOptions)) {\n      // Stream with options\n      inputDescriptor.buffer = [];\n    }\n  } else if (!is.defined(input) && !is.defined(inputOptions) && is.object(containerOptions) && containerOptions.allowStream) {\n    // Stream without options\n    inputDescriptor.buffer = [];\n  } else if (Array.isArray(input)) {\n    if (input.length > 1) {\n      // Join images together\n      if (!this.options.joining) {\n        this.options.joining = true;\n        this.options.join = input.map(i => this._createInputDescriptor(i));\n      } else {\n        throw new Error('Recursive join is unsupported');\n      }\n    } else {\n      throw new Error('Expected at least two images to join');\n    }\n  } else {\n    throw new Error(`Unsupported input '${input}' of type ${typeof input}${\n      is.defined(inputOptions) ? ` when also providing options of type ${typeof inputOptions}` : ''\n    }`);\n  }\n  if (is.object(inputOptions)) {\n    // Deprecated: failOnError\n    if (is.defined(inputOptions.failOnError)) {\n      if (is.bool(inputOptions.failOnError)) {\n        inputDescriptor.failOn = inputOptions.failOnError ? 'warning' : 'none';\n      } else {\n        throw is.invalidParameterError('failOnError', 'boolean', inputOptions.failOnError);\n      }\n    }\n    // failOn\n    if (is.defined(inputOptions.failOn)) {\n      if (is.string(inputOptions.failOn) && is.inArray(inputOptions.failOn, ['none', 'truncated', 'error', 'warning'])) {\n        inputDescriptor.failOn = inputOptions.failOn;\n      } else {\n        throw is.invalidParameterError('failOn', 'one of: none, truncated, error, warning', inputOptions.failOn);\n      }\n    }\n    // autoOrient\n    if (is.defined(inputOptions.autoOrient)) {\n      if (is.bool(inputOptions.autoOrient)) {\n        inputDescriptor.autoOrient = inputOptions.autoOrient;\n      } else {\n        throw is.invalidParameterError('autoOrient', 'boolean', inputOptions.autoOrient);\n      }\n    }\n    // Density\n    if (is.defined(inputOptions.density)) {\n      if (is.inRange(inputOptions.density, 1, 100000)) {\n        inputDescriptor.density = inputOptions.density;\n      } else {\n        throw is.invalidParameterError('density', 'number between 1 and 100000', inputOptions.density);\n      }\n    }\n    // Ignore embeddded ICC profile\n    if (is.defined(inputOptions.ignoreIcc)) {\n      if (is.bool(inputOptions.ignoreIcc)) {\n        inputDescriptor.ignoreIcc = inputOptions.ignoreIcc;\n      } else {\n        throw is.invalidParameterError('ignoreIcc', 'boolean', inputOptions.ignoreIcc);\n      }\n    }\n    // limitInputPixels\n    if (is.defined(inputOptions.limitInputPixels)) {\n      if (is.bool(inputOptions.limitInputPixels)) {\n        inputDescriptor.limitInputPixels = inputOptions.limitInputPixels\n          ? Math.pow(0x3FFF, 2)\n          : 0;\n      } else if (is.integer(inputOptions.limitInputPixels) && is.inRange(inputOptions.limitInputPixels, 0, Number.MAX_SAFE_INTEGER)) {\n        inputDescriptor.limitInputPixels = inputOptions.limitInputPixels;\n      } else {\n        throw is.invalidParameterError('limitInputPixels', 'positive integer', inputOptions.limitInputPixels);\n      }\n    }\n    // unlimited\n    if (is.defined(inputOptions.unlimited)) {\n      if (is.bool(inputOptions.unlimited)) {\n        inputDescriptor.unlimited = inputOptions.unlimited;\n      } else {\n        throw is.invalidParameterError('unlimited', 'boolean', inputOptions.unlimited);\n      }\n    }\n    // sequentialRead\n    if (is.defined(inputOptions.sequentialRead)) {\n      if (is.bool(inputOptions.sequentialRead)) {\n        inputDescriptor.sequentialRead = inputOptions.sequentialRead;\n      } else {\n        throw is.invalidParameterError('sequentialRead', 'boolean', inputOptions.sequentialRead);\n      }\n    }\n    // Raw pixel input\n    if (is.defined(inputOptions.raw)) {\n      if (\n        is.object(inputOptions.raw) &&\n        is.integer(inputOptions.raw.width) && inputOptions.raw.width > 0 &&\n        is.integer(inputOptions.raw.height) && inputOptions.raw.height > 0 &&\n        is.integer(inputOptions.raw.channels) && is.inRange(inputOptions.raw.channels, 1, 4)\n      ) {\n        inputDescriptor.rawWidth = inputOptions.raw.width;\n        inputDescriptor.rawHeight = inputOptions.raw.height;\n        inputDescriptor.rawChannels = inputOptions.raw.channels;\n        switch (input.constructor) {\n          case Uint8Array:\n          case Uint8ClampedArray:\n            inputDescriptor.rawDepth = 'uchar';\n            break;\n          case Int8Array:\n            inputDescriptor.rawDepth = 'char';\n            break;\n          case Uint16Array:\n            inputDescriptor.rawDepth = 'ushort';\n            break;\n          case Int16Array:\n            inputDescriptor.rawDepth = 'short';\n            break;\n          case Uint32Array:\n            inputDescriptor.rawDepth = 'uint';\n            break;\n          case Int32Array:\n            inputDescriptor.rawDepth = 'int';\n            break;\n          case Float32Array:\n            inputDescriptor.rawDepth = 'float';\n            break;\n          case Float64Array:\n            inputDescriptor.rawDepth = 'double';\n            break;\n          default:\n            inputDescriptor.rawDepth = 'uchar';\n            break;\n        }\n      } else {\n        throw new Error('Expected width, height and channels for raw pixel input');\n      }\n      inputDescriptor.rawPremultiplied = false;\n      if (is.defined(inputOptions.raw.premultiplied)) {\n        if (is.bool(inputOptions.raw.premultiplied)) {\n          inputDescriptor.rawPremultiplied = inputOptions.raw.premultiplied;\n        } else {\n          throw is.invalidParameterError('raw.premultiplied', 'boolean', inputOptions.raw.premultiplied);\n        }\n      }\n      inputDescriptor.rawPageHeight = 0;\n      if (is.defined(inputOptions.raw.pageHeight)) {\n        if (is.integer(inputOptions.raw.pageHeight) && inputOptions.raw.pageHeight > 0 && inputOptions.raw.pageHeight <= inputOptions.raw.height) {\n          if (inputOptions.raw.height % inputOptions.raw.pageHeight !== 0) {\n            throw new Error(`Expected raw.height ${inputOptions.raw.height} to be a multiple of raw.pageHeight ${inputOptions.raw.pageHeight}`);\n          }\n          inputDescriptor.rawPageHeight = inputOptions.raw.pageHeight;\n        } else {\n          throw is.invalidParameterError('raw.pageHeight', 'positive integer', inputOptions.raw.pageHeight);\n        }\n      }\n    }\n    // Multi-page input (GIF, TIFF, PDF)\n    if (is.defined(inputOptions.animated)) {\n      if (is.bool(inputOptions.animated)) {\n        inputDescriptor.pages = inputOptions.animated ? -1 : 1;\n      } else {\n        throw is.invalidParameterError('animated', 'boolean', inputOptions.animated);\n      }\n    }\n    if (is.defined(inputOptions.pages)) {\n      if (is.integer(inputOptions.pages) && is.inRange(inputOptions.pages, -1, 100000)) {\n        inputDescriptor.pages = inputOptions.pages;\n      } else {\n        throw is.invalidParameterError('pages', 'integer between -1 and 100000', inputOptions.pages);\n      }\n    }\n    if (is.defined(inputOptions.page)) {\n      if (is.integer(inputOptions.page) && is.inRange(inputOptions.page, 0, 100000)) {\n        inputDescriptor.page = inputOptions.page;\n      } else {\n        throw is.invalidParameterError('page', 'integer between 0 and 100000', inputOptions.page);\n      }\n    }\n    // OpenSlide specific options\n    if (is.object(inputOptions.openSlide) && is.defined(inputOptions.openSlide.level)) {\n      if (is.integer(inputOptions.openSlide.level) && is.inRange(inputOptions.openSlide.level, 0, 256)) {\n        inputDescriptor.openSlideLevel = inputOptions.openSlide.level;\n      } else {\n        throw is.invalidParameterError('openSlide.level', 'integer between 0 and 256', inputOptions.openSlide.level);\n      }\n    } else if (is.defined(inputOptions.level)) {\n      // Deprecated\n      if (is.integer(inputOptions.level) && is.inRange(inputOptions.level, 0, 256)) {\n        inputDescriptor.openSlideLevel = inputOptions.level;\n      } else {\n        throw is.invalidParameterError('level', 'integer between 0 and 256', inputOptions.level);\n      }\n    }\n    // TIFF specific options\n    if (is.object(inputOptions.tiff) && is.defined(inputOptions.tiff.subifd)) {\n      if (is.integer(inputOptions.tiff.subifd) && is.inRange(inputOptions.tiff.subifd, -1, 100000)) {\n        inputDescriptor.tiffSubifd = inputOptions.tiff.subifd;\n      } else {\n        throw is.invalidParameterError('tiff.subifd', 'integer between -1 and 100000', inputOptions.tiff.subifd);\n      }\n    } else if (is.defined(inputOptions.subifd)) {\n      // Deprecated\n      if (is.integer(inputOptions.subifd) && is.inRange(inputOptions.subifd, -1, 100000)) {\n        inputDescriptor.tiffSubifd = inputOptions.subifd;\n      } else {\n        throw is.invalidParameterError('subifd', 'integer between -1 and 100000', inputOptions.subifd);\n      }\n    }\n    // SVG specific options\n    if (is.object(inputOptions.svg)) {\n      if (is.defined(inputOptions.svg.stylesheet)) {\n        if (is.string(inputOptions.svg.stylesheet)) {\n          inputDescriptor.svgStylesheet = inputOptions.svg.stylesheet;\n        } else {\n          throw is.invalidParameterError('svg.stylesheet', 'string', inputOptions.svg.stylesheet);\n        }\n      }\n      if (is.defined(inputOptions.svg.highBitdepth)) {\n        if (is.bool(inputOptions.svg.highBitdepth)) {\n          inputDescriptor.svgHighBitdepth = inputOptions.svg.highBitdepth;\n        } else {\n          throw is.invalidParameterError('svg.highBitdepth', 'boolean', inputOptions.svg.highBitdepth);\n        }\n      }\n    }\n    // PDF specific options\n    if (is.object(inputOptions.pdf) && is.defined(inputOptions.pdf.background)) {\n      inputDescriptor.pdfBackground = this._getBackgroundColourOption(inputOptions.pdf.background);\n    } else if (is.defined(inputOptions.pdfBackground)) {\n      // Deprecated\n      inputDescriptor.pdfBackground = this._getBackgroundColourOption(inputOptions.pdfBackground);\n    }\n    // JPEG 2000 specific options\n    if (is.object(inputOptions.jp2) && is.defined(inputOptions.jp2.oneshot)) {\n      if (is.bool(inputOptions.jp2.oneshot)) {\n        inputDescriptor.jp2Oneshot = inputOptions.jp2.oneshot;\n      } else {\n        throw is.invalidParameterError('jp2.oneshot', 'boolean', inputOptions.jp2.oneshot);\n      }\n    }\n    // Create new image\n    if (is.defined(inputOptions.create)) {\n      if (\n        is.object(inputOptions.create) &&\n        is.integer(inputOptions.create.width) && inputOptions.create.width > 0 &&\n        is.integer(inputOptions.create.height) && inputOptions.create.height > 0 &&\n        is.integer(inputOptions.create.channels)\n      ) {\n        inputDescriptor.createWidth = inputOptions.create.width;\n        inputDescriptor.createHeight = inputOptions.create.height;\n        inputDescriptor.createChannels = inputOptions.create.channels;\n        inputDescriptor.createPageHeight = 0;\n        if (is.defined(inputOptions.create.pageHeight)) {\n          if (is.integer(inputOptions.create.pageHeight) && inputOptions.create.pageHeight > 0 && inputOptions.create.pageHeight <= inputOptions.create.height) {\n            if (inputOptions.create.height % inputOptions.create.pageHeight !== 0) {\n              throw new Error(`Expected create.height ${inputOptions.create.height} to be a multiple of create.pageHeight ${inputOptions.create.pageHeight}`);\n            }\n            inputDescriptor.createPageHeight = inputOptions.create.pageHeight;\n          } else {\n            throw is.invalidParameterError('create.pageHeight', 'positive integer', inputOptions.create.pageHeight);\n          }\n        }\n        // Noise\n        if (is.defined(inputOptions.create.noise)) {\n          if (!is.object(inputOptions.create.noise)) {\n            throw new Error('Expected noise to be an object');\n          }\n          if (inputOptions.create.noise.type !== 'gaussian') {\n            throw new Error('Only gaussian noise is supported at the moment');\n          }\n          inputDescriptor.createNoiseType = inputOptions.create.noise.type;\n          if (!is.inRange(inputOptions.create.channels, 1, 4)) {\n            throw is.invalidParameterError('create.channels', 'number between 1 and 4', inputOptions.create.channels);\n          }\n          inputDescriptor.createNoiseMean = 128;\n          if (is.defined(inputOptions.create.noise.mean)) {\n            if (is.number(inputOptions.create.noise.mean) && is.inRange(inputOptions.create.noise.mean, 0, 10000)) {\n              inputDescriptor.createNoiseMean = inputOptions.create.noise.mean;\n            } else {\n              throw is.invalidParameterError('create.noise.mean', 'number between 0 and 10000', inputOptions.create.noise.mean);\n            }\n          }\n          inputDescriptor.createNoiseSigma = 30;\n          if (is.defined(inputOptions.create.noise.sigma)) {\n            if (is.number(inputOptions.create.noise.sigma) && is.inRange(inputOptions.create.noise.sigma, 0, 10000)) {\n              inputDescriptor.createNoiseSigma = inputOptions.create.noise.sigma;\n            } else {\n              throw is.invalidParameterError('create.noise.sigma', 'number between 0 and 10000', inputOptions.create.noise.sigma);\n            }\n          }\n        } else if (is.defined(inputOptions.create.background)) {\n          if (!is.inRange(inputOptions.create.channels, 3, 4)) {\n            throw is.invalidParameterError('create.channels', 'number between 3 and 4', inputOptions.create.channels);\n          }\n          inputDescriptor.createBackground = this._getBackgroundColourOption(inputOptions.create.background);\n        } else {\n          throw new Error('Expected valid noise or background to create a new input image');\n        }\n        delete inputDescriptor.buffer;\n      } else {\n        throw new Error('Expected valid width, height and channels to create a new input image');\n      }\n    }\n    // Create a new image with text\n    if (is.defined(inputOptions.text)) {\n      if (is.object(inputOptions.text) && is.string(inputOptions.text.text)) {\n        inputDescriptor.textValue = inputOptions.text.text;\n        if (is.defined(inputOptions.text.height) && is.defined(inputOptions.text.dpi)) {\n          throw new Error('Expected only one of dpi or height');\n        }\n        if (is.defined(inputOptions.text.font)) {\n          if (is.string(inputOptions.text.font)) {\n            inputDescriptor.textFont = inputOptions.text.font;\n          } else {\n            throw is.invalidParameterError('text.font', 'string', inputOptions.text.font);\n          }\n        }\n        if (is.defined(inputOptions.text.fontfile)) {\n          if (is.string(inputOptions.text.fontfile)) {\n            inputDescriptor.textFontfile = inputOptions.text.fontfile;\n          } else {\n            throw is.invalidParameterError('text.fontfile', 'string', inputOptions.text.fontfile);\n          }\n        }\n        if (is.defined(inputOptions.text.width)) {\n          if (is.integer(inputOptions.text.width) && inputOptions.text.width > 0) {\n            inputDescriptor.textWidth = inputOptions.text.width;\n          } else {\n            throw is.invalidParameterError('text.width', 'positive integer', inputOptions.text.width);\n          }\n        }\n        if (is.defined(inputOptions.text.height)) {\n          if (is.integer(inputOptions.text.height) && inputOptions.text.height > 0) {\n            inputDescriptor.textHeight = inputOptions.text.height;\n          } else {\n            throw is.invalidParameterError('text.height', 'positive integer', inputOptions.text.height);\n          }\n        }\n        if (is.defined(inputOptions.text.align)) {\n          if (is.string(inputOptions.text.align) && is.string(this.constructor.align[inputOptions.text.align])) {\n            inputDescriptor.textAlign = this.constructor.align[inputOptions.text.align];\n          } else {\n            throw is.invalidParameterError('text.align', 'valid alignment', inputOptions.text.align);\n          }\n        }\n        if (is.defined(inputOptions.text.justify)) {\n          if (is.bool(inputOptions.text.justify)) {\n            inputDescriptor.textJustify = inputOptions.text.justify;\n          } else {\n            throw is.invalidParameterError('text.justify', 'boolean', inputOptions.text.justify);\n          }\n        }\n        if (is.defined(inputOptions.text.dpi)) {\n          if (is.integer(inputOptions.text.dpi) && is.inRange(inputOptions.text.dpi, 1, 1000000)) {\n            inputDescriptor.textDpi = inputOptions.text.dpi;\n          } else {\n            throw is.invalidParameterError('text.dpi', 'integer between 1 and 1000000', inputOptions.text.dpi);\n          }\n        }\n        if (is.defined(inputOptions.text.rgba)) {\n          if (is.bool(inputOptions.text.rgba)) {\n            inputDescriptor.textRgba = inputOptions.text.rgba;\n          } else {\n            throw is.invalidParameterError('text.rgba', 'bool', inputOptions.text.rgba);\n          }\n        }\n        if (is.defined(inputOptions.text.spacing)) {\n          if (is.integer(inputOptions.text.spacing) && is.inRange(inputOptions.text.spacing, -1000000, 1000000)) {\n            inputDescriptor.textSpacing = inputOptions.text.spacing;\n          } else {\n            throw is.invalidParameterError('text.spacing', 'integer between -1000000 and 1000000', inputOptions.text.spacing);\n          }\n        }\n        if (is.defined(inputOptions.text.wrap)) {\n          if (is.string(inputOptions.text.wrap) && is.inArray(inputOptions.text.wrap, ['word', 'char', 'word-char', 'none'])) {\n            inputDescriptor.textWrap = inputOptions.text.wrap;\n          } else {\n            throw is.invalidParameterError('text.wrap', 'one of: word, char, word-char, none', inputOptions.text.wrap);\n          }\n        }\n        delete inputDescriptor.buffer;\n      } else {\n        throw new Error('Expected a valid string to create an image with text.');\n      }\n    }\n    // Join images together\n    if (is.defined(inputOptions.join)) {\n      if (is.defined(this.options.join)) {\n        if (is.defined(inputOptions.join.animated)) {\n          if (is.bool(inputOptions.join.animated)) {\n            inputDescriptor.joinAnimated = inputOptions.join.animated;\n          } else {\n            throw is.invalidParameterError('join.animated', 'boolean', inputOptions.join.animated);\n          }\n        }\n        if (is.defined(inputOptions.join.across)) {\n          if (is.integer(inputOptions.join.across) && is.inRange(inputOptions.join.across, 1, 1000000)) {\n            inputDescriptor.joinAcross = inputOptions.join.across;\n          } else {\n            throw is.invalidParameterError('join.across', 'integer between 1 and 100000', inputOptions.join.across);\n          }\n        }\n        if (is.defined(inputOptions.join.shim)) {\n          if (is.integer(inputOptions.join.shim) && is.inRange(inputOptions.join.shim, 0, 1000000)) {\n            inputDescriptor.joinShim = inputOptions.join.shim;\n          } else {\n            throw is.invalidParameterError('join.shim', 'integer between 0 and 100000', inputOptions.join.shim);\n          }\n        }\n        if (is.defined(inputOptions.join.background)) {\n          inputDescriptor.joinBackground = this._getBackgroundColourOption(inputOptions.join.background);\n        }\n        if (is.defined(inputOptions.join.halign)) {\n          if (is.string(inputOptions.join.halign) && is.string(this.constructor.align[inputOptions.join.halign])) {\n            inputDescriptor.joinHalign = this.constructor.align[inputOptions.join.halign];\n          } else {\n            throw is.invalidParameterError('join.halign', 'valid alignment', inputOptions.join.halign);\n          }\n        }\n        if (is.defined(inputOptions.join.valign)) {\n          if (is.string(inputOptions.join.valign) && is.string(this.constructor.align[inputOptions.join.valign])) {\n            inputDescriptor.joinValign = this.constructor.align[inputOptions.join.valign];\n          } else {\n            throw is.invalidParameterError('join.valign', 'valid alignment', inputOptions.join.valign);\n          }\n        }\n      } else {\n        throw new Error('Expected input to be an array of images to join');\n      }\n    }\n  } else if (is.defined(inputOptions)) {\n    throw new Error('Invalid input options ' + inputOptions);\n  }\n  return inputDescriptor;\n}\n\n/**\n * Handle incoming Buffer chunk on Writable Stream.\n * @private\n * @param {Buffer} chunk\n * @param {string} encoding - unused\n * @param {Function} callback\n */\nfunction _write (chunk, encoding, callback) {\n  /* istanbul ignore else */\n  if (Array.isArray(this.options.input.buffer)) {\n    /* istanbul ignore else */\n    if (is.buffer(chunk)) {\n      if (this.options.input.buffer.length === 0) {\n        this.on('finish', () => {\n          this.streamInFinished = true;\n        });\n      }\n      this.options.input.buffer.push(chunk);\n      callback();\n    } else {\n      callback(new Error('Non-Buffer data on Writable Stream'));\n    }\n  } else {\n    callback(new Error('Unexpected data on Writable Stream'));\n  }\n}\n\n/**\n * Flattens the array of chunks accumulated in input.buffer.\n * @private\n */\nfunction _flattenBufferIn () {\n  if (this._isStreamInput()) {\n    this.options.input.buffer = Buffer.concat(this.options.input.buffer);\n  }\n}\n\n/**\n * Are we expecting Stream-based input?\n * @private\n * @returns {boolean}\n */\nfunction _isStreamInput () {\n  return Array.isArray(this.options.input.buffer);\n}\n\n/**\n * Fast access to (uncached) image metadata without decoding any compressed pixel data.\n *\n * This is read from the header of the input image.\n * It does not take into consideration any operations to be applied to the output image,\n * such as resize or rotate.\n *\n * Dimensions in the response will respect the `page` and `pages` properties of the\n * {@link /api-constructor#parameters|constructor parameters}.\n *\n * A `Promise` is returned when `callback` is not provided.\n *\n * - `format`: Name of decoder used to decompress image data e.g. `jpeg`, `png`, `webp`, `gif`, `svg`\n * - `size`: Total size of image in bytes, for Stream and Buffer input only\n * - `width`: Number of pixels wide (EXIF orientation is not taken into consideration, see example below)\n * - `height`: Number of pixels high (EXIF orientation is not taken into consideration, see example below)\n * - `space`: Name of colour space interpretation e.g. `srgb`, `rgb`, `cmyk`, `lab`, `b-w` [...](https://www.libvips.org/API/current/VipsImage.html#VipsInterpretation)\n * - `channels`: Number of bands e.g. `3` for sRGB, `4` for CMYK\n * - `depth`: Name of pixel depth format e.g. `uchar`, `char`, `ushort`, `float` [...](https://www.libvips.org/API/current/VipsImage.html#VipsBandFormat)\n * - `density`: Number of pixels per inch (DPI), if present\n * - `chromaSubsampling`: String containing JPEG chroma subsampling, `4:2:0` or `4:4:4` for RGB, `4:2:0:4` or `4:4:4:4` for CMYK\n * - `isProgressive`: Boolean indicating whether the image is interlaced using a progressive scan\n * - `isPalette`: Boolean indicating whether the image is palette-based (GIF, PNG).\n * - `bitsPerSample`: Number of bits per sample for each channel (GIF, PNG, HEIF).\n * - `pages`: Number of pages/frames contained within the image, with support for TIFF, HEIF, PDF, animated GIF and animated WebP\n * - `pageHeight`: Number of pixels high each page in a multi-page image will be.\n * - `loop`: Number of times to loop an animated image, zero refers to a continuous loop.\n * - `delay`: Delay in ms between each page in an animated image, provided as an array of integers.\n * - `pagePrimary`: Number of the primary page in a HEIF image\n * - `levels`: Details of each level in a multi-level image provided as an array of objects, requires libvips compiled with support for OpenSlide\n * - `subifds`: Number of Sub Image File Directories in an OME-TIFF image\n * - `background`: Default background colour, if present, for PNG (bKGD) and GIF images\n * - `compression`: The encoder used to compress an HEIF file, `av1` (AVIF) or `hevc` (HEIC)\n * - `resolutionUnit`: The unit of resolution (density), either `inch` or `cm`, if present\n * - `hasProfile`: Boolean indicating the presence of an embedded ICC profile\n * - `hasAlpha`: Boolean indicating the presence of an alpha transparency channel\n * - `orientation`: Number value of the EXIF Orientation header, if present\n * - `exif`: Buffer containing raw EXIF data, if present\n * - `icc`: Buffer containing raw [ICC](https://www.npmjs.com/package/icc) profile data, if present\n * - `iptc`: Buffer containing raw IPTC data, if present\n * - `xmp`: Buffer containing raw XMP data, if present\n * - `xmpAsString`: String containing XMP data, if valid UTF-8.\n * - `tifftagPhotoshop`: Buffer containing raw TIFFTAG_PHOTOSHOP data, if present\n * - `formatMagick`: String containing format for images loaded via *magick\n * - `comments`: Array of keyword/text pairs representing PNG text blocks, if present.\n *\n * @example\n * const metadata = await sharp(input).metadata();\n *\n * @example\n * const image = sharp(inputJpg);\n * image\n *   .metadata()\n *   .then(function(metadata) {\n *     return image\n *       .resize(Math.round(metadata.width / 2))\n *       .webp()\n *       .toBuffer();\n *   })\n *   .then(function(data) {\n *     // data contains a WebP image half the width and height of the original JPEG\n *   });\n *\n * @example\n * // Get dimensions taking EXIF Orientation into account.\n * const { autoOrient } = await sharp(input).metadata();\n * const { width, height } = autoOrient;\n *\n * @param {Function} [callback] - called with the arguments `(err, metadata)`\n * @returns {Promise<Object>|Sharp}\n */\nfunction metadata (callback) {\n  const stack = Error();\n  if (is.fn(callback)) {\n    if (this._isStreamInput()) {\n      this.on('finish', () => {\n        this._flattenBufferIn();\n        sharp.metadata(this.options, (err, metadata) => {\n          if (err) {\n            callback(is.nativeError(err, stack));\n          } else {\n            callback(null, metadata);\n          }\n        });\n      });\n    } else {\n      sharp.metadata(this.options, (err, metadata) => {\n        if (err) {\n          callback(is.nativeError(err, stack));\n        } else {\n          callback(null, metadata);\n        }\n      });\n    }\n    return this;\n  } else {\n    if (this._isStreamInput()) {\n      return new Promise((resolve, reject) => {\n        const finished = () => {\n          this._flattenBufferIn();\n          sharp.metadata(this.options, (err, metadata) => {\n            if (err) {\n              reject(is.nativeError(err, stack));\n            } else {\n              resolve(metadata);\n            }\n          });\n        };\n        if (this.writableFinished) {\n          finished();\n        } else {\n          this.once('finish', finished);\n        }\n      });\n    } else {\n      return new Promise((resolve, reject) => {\n        sharp.metadata(this.options, (err, metadata) => {\n          if (err) {\n            reject(is.nativeError(err, stack));\n          } else {\n            resolve(metadata);\n          }\n        });\n      });\n    }\n  }\n}\n\n/**\n * Access to pixel-derived image statistics for every channel in the image.\n * A `Promise` is returned when `callback` is not provided.\n *\n * - `channels`: Array of channel statistics for each channel in the image. Each channel statistic contains\n *     - `min` (minimum value in the channel)\n *     - `max` (maximum value in the channel)\n *     - `sum` (sum of all values in a channel)\n *     - `squaresSum` (sum of squared values in a channel)\n *     - `mean` (mean of the values in a channel)\n *     - `stdev` (standard deviation for the values in a channel)\n *     - `minX` (x-coordinate of one of the pixel where the minimum lies)\n *     - `minY` (y-coordinate of one of the pixel where the minimum lies)\n *     - `maxX` (x-coordinate of one of the pixel where the maximum lies)\n *     - `maxY` (y-coordinate of one of the pixel where the maximum lies)\n * - `isOpaque`: Is the image fully opaque? Will be `true` if the image has no alpha channel or if every pixel is fully opaque.\n * - `entropy`: Histogram-based estimation of greyscale entropy, discarding alpha channel if any.\n * - `sharpness`: Estimation of greyscale sharpness based on the standard deviation of a Laplacian convolution, discarding alpha channel if any.\n * - `dominant`: Object containing most dominant sRGB colour based on a 4096-bin 3D histogram.\n *\n * **Note**: Statistics are derived from the original input image. Any operations performed on the image must first be\n * written to a buffer in order to run `stats` on the result (see third example).\n *\n * @example\n * const image = sharp(inputJpg);\n * image\n *   .stats()\n *   .then(function(stats) {\n *      // stats contains the channel-wise statistics array and the isOpaque value\n *   });\n *\n * @example\n * const { entropy, sharpness, dominant } = await sharp(input).stats();\n * const { r, g, b } = dominant;\n *\n * @example\n * const image = sharp(input);\n * // store intermediate result\n * const part = await image.extract(region).toBuffer();\n * // create new instance to obtain statistics of extracted region\n * const stats = await sharp(part).stats();\n *\n * @param {Function} [callback] - called with the arguments `(err, stats)`\n * @returns {Promise<Object>}\n */\nfunction stats (callback) {\n  const stack = Error();\n  if (is.fn(callback)) {\n    if (this._isStreamInput()) {\n      this.on('finish', () => {\n        this._flattenBufferIn();\n        sharp.stats(this.options, (err, stats) => {\n          if (err) {\n            callback(is.nativeError(err, stack));\n          } else {\n            callback(null, stats);\n          }\n        });\n      });\n    } else {\n      sharp.stats(this.options, (err, stats) => {\n        if (err) {\n          callback(is.nativeError(err, stack));\n        } else {\n          callback(null, stats);\n        }\n      });\n    }\n    return this;\n  } else {\n    if (this._isStreamInput()) {\n      return new Promise((resolve, reject) => {\n        this.on('finish', function () {\n          this._flattenBufferIn();\n          sharp.stats(this.options, (err, stats) => {\n            if (err) {\n              reject(is.nativeError(err, stack));\n            } else {\n              resolve(stats);\n            }\n          });\n        });\n      });\n    } else {\n      return new Promise((resolve, reject) => {\n        sharp.stats(this.options, (err, stats) => {\n          if (err) {\n            reject(is.nativeError(err, stack));\n          } else {\n            resolve(stats);\n          }\n        });\n      });\n    }\n  }\n}\n\n/**\n * Decorate the Sharp prototype with input-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Private\n    _inputOptionsFromObject,\n    _createInputDescriptor,\n    _write,\n    _flattenBufferIn,\n    _isStreamInput,\n    // Public\n    metadata,\n    stats\n  });\n  // Class attributes\n  Sharp.align = align;\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst is = require('./is');\n\n/**\n * Weighting to apply when using contain/cover fit.\n * @member\n * @private\n */\nconst gravity = {\n  center: 0,\n  centre: 0,\n  north: 1,\n  east: 2,\n  south: 3,\n  west: 4,\n  northeast: 5,\n  southeast: 6,\n  southwest: 7,\n  northwest: 8\n};\n\n/**\n * Position to apply when using contain/cover fit.\n * @member\n * @private\n */\nconst position = {\n  top: 1,\n  right: 2,\n  bottom: 3,\n  left: 4,\n  'right top': 5,\n  'right bottom': 6,\n  'left bottom': 7,\n  'left top': 8\n};\n\n/**\n * How to extend the image.\n * @member\n * @private\n */\nconst extendWith = {\n  background: 'background',\n  copy: 'copy',\n  repeat: 'repeat',\n  mirror: 'mirror'\n};\n\n/**\n * Strategies for automagic cover behaviour.\n * @member\n * @private\n */\nconst strategy = {\n  entropy: 16,\n  attention: 17\n};\n\n/**\n * Reduction kernels.\n * @member\n * @private\n */\nconst kernel = {\n  nearest: 'nearest',\n  linear: 'linear',\n  cubic: 'cubic',\n  mitchell: 'mitchell',\n  lanczos2: 'lanczos2',\n  lanczos3: 'lanczos3',\n  mks2013: 'mks2013',\n  mks2021: 'mks2021'\n};\n\n/**\n * Methods by which an image can be resized to fit the provided dimensions.\n * @member\n * @private\n */\nconst fit = {\n  contain: 'contain',\n  cover: 'cover',\n  fill: 'fill',\n  inside: 'inside',\n  outside: 'outside'\n};\n\n/**\n * Map external fit property to internal canvas property.\n * @member\n * @private\n */\nconst mapFitToCanvas = {\n  contain: 'embed',\n  cover: 'crop',\n  fill: 'ignore_aspect',\n  inside: 'max',\n  outside: 'min'\n};\n\n/**\n * @private\n */\nfunction isRotationExpected (options) {\n  return (options.angle % 360) !== 0 || options.rotationAngle !== 0;\n}\n\n/**\n * @private\n */\nfunction isResizeExpected (options) {\n  return options.width !== -1 || options.height !== -1;\n}\n\n/**\n * Resize image to `width`, `height` or `width x height`.\n *\n * When both a `width` and `height` are provided, the possible methods by which the image should **fit** these are:\n * - `cover`: (default) Preserving aspect ratio, attempt to ensure the image covers both provided dimensions by cropping/clipping to fit.\n * - `contain`: Preserving aspect ratio, contain within both provided dimensions using \"letterboxing\" where necessary.\n * - `fill`: Ignore the aspect ratio of the input and stretch to both provided dimensions.\n * - `inside`: Preserving aspect ratio, resize the image to be as large as possible while ensuring its dimensions are less than or equal to both those specified.\n * - `outside`: Preserving aspect ratio, resize the image to be as small as possible while ensuring its dimensions are greater than or equal to both those specified.\n *\n * Some of these values are based on the [object-fit](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit) CSS property.\n *\n * <img alt=\"Examples of various values for the fit property when resizing\" width=\"100%\" style=\"aspect-ratio: 998/243\" src=\"/api-resize-fit.svg\">\n *\n * When using a **fit** of `cover` or `contain`, the default **position** is `centre`. Other options are:\n * - `sharp.position`: `top`, `right top`, `right`, `right bottom`, `bottom`, `left bottom`, `left`, `left top`.\n * - `sharp.gravity`: `north`, `northeast`, `east`, `southeast`, `south`, `southwest`, `west`, `northwest`, `center` or `centre`.\n * - `sharp.strategy`: `cover` only, dynamically crop using either the `entropy` or `attention` strategy.\n *\n * Some of these values are based on the [object-position](https://developer.mozilla.org/en-US/docs/Web/CSS/object-position) CSS property.\n *\n * The strategy-based approach initially resizes so one dimension is at its target length\n * then repeatedly ranks edge regions, discarding the edge with the lowest score based on the selected strategy.\n * - `entropy`: focus on the region with the highest [Shannon entropy](https://en.wikipedia.org/wiki/Entropy_%28information_theory%29).\n * - `attention`: focus on the region with the highest luminance frequency, colour saturation and presence of skin tones.\n *\n * Possible downsizing kernels are:\n * - `nearest`: Use [nearest neighbour interpolation](http://en.wikipedia.org/wiki/Nearest-neighbor_interpolation).\n * - `linear`: Use a [triangle filter](https://en.wikipedia.org/wiki/Triangular_function).\n * - `cubic`: Use a [Catmull-Rom spline](https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline).\n * - `mitchell`: Use a [Mitchell-Netravali spline](https://www.cs.utexas.edu/~fussell/courses/cs384g-fall2013/lectures/mitchell/Mitchell.pdf).\n * - `lanczos2`: Use a [Lanczos kernel](https://en.wikipedia.org/wiki/Lanczos_resampling#Lanczos_kernel) with `a=2`.\n * - `lanczos3`: Use a Lanczos kernel with `a=3` (the default).\n * - `mks2013`: Use a [Magic Kernel Sharp](https://johncostella.com/magic/mks.pdf) 2013 kernel, as adopted by Facebook.\n * - `mks2021`: Use a Magic Kernel Sharp 2021 kernel, with more accurate (reduced) sharpening than the 2013 version.\n *\n * When upsampling, these kernels map to `nearest`, `linear` and `cubic` interpolators.\n * Downsampling kernels without a matching upsampling interpolator map to `cubic`.\n *\n * Only one resize can occur per pipeline.\n * Previous calls to `resize` in the same pipeline will be ignored.\n *\n * @example\n * sharp(input)\n *   .resize({ width: 100 })\n *   .toBuffer()\n *   .then(data => {\n *     // 100 pixels wide, auto-scaled height\n *   });\n *\n * @example\n * sharp(input)\n *   .resize({ height: 100 })\n *   .toBuffer()\n *   .then(data => {\n *     // 100 pixels high, auto-scaled width\n *   });\n *\n * @example\n * sharp(input)\n *   .resize(200, 300, {\n *     kernel: sharp.kernel.nearest,\n *     fit: 'contain',\n *     position: 'right top',\n *     background: { r: 255, g: 255, b: 255, alpha: 0.5 }\n *   })\n *   .toFile('output.png')\n *   .then(() => {\n *     // output.png is a 200 pixels wide and 300 pixels high image\n *     // containing a nearest-neighbour scaled version\n *     // contained within the north-east corner of a semi-transparent white canvas\n *   });\n *\n * @example\n * const transformer = sharp()\n *   .resize({\n *     width: 200,\n *     height: 200,\n *     fit: sharp.fit.cover,\n *     position: sharp.strategy.entropy\n *   });\n * // Read image data from readableStream\n * // Write 200px square auto-cropped image data to writableStream\n * readableStream\n *   .pipe(transformer)\n *   .pipe(writableStream);\n *\n * @example\n * sharp(input)\n *   .resize(200, 200, {\n *     fit: sharp.fit.inside,\n *     withoutEnlargement: true\n *   })\n *   .toFormat('jpeg')\n *   .toBuffer()\n *   .then(function(outputBuffer) {\n *     // outputBuffer contains JPEG image data\n *     // no wider and no higher than 200 pixels\n *     // and no larger than the input image\n *   });\n *\n * @example\n * sharp(input)\n *   .resize(200, 200, {\n *     fit: sharp.fit.outside,\n *     withoutReduction: true\n *   })\n *   .toFormat('jpeg')\n *   .toBuffer()\n *   .then(function(outputBuffer) {\n *     // outputBuffer contains JPEG image data\n *     // of at least 200 pixels wide and 200 pixels high while maintaining aspect ratio\n *     // and no smaller than the input image\n *   });\n *\n * @example\n * const scaleByHalf = await sharp(input)\n *   .metadata()\n *   .then(({ width }) => sharp(input)\n *     .resize(Math.round(width * 0.5))\n *     .toBuffer()\n *   );\n *\n * @param {number} [width] - How many pixels wide the resultant image should be. Use `null` or `undefined` to auto-scale the width to match the height.\n * @param {number} [height] - How many pixels high the resultant image should be. Use `null` or `undefined` to auto-scale the height to match the width.\n * @param {Object} [options]\n * @param {number} [options.width] - An alternative means of specifying `width`. If both are present this takes priority.\n * @param {number} [options.height] - An alternative means of specifying `height`. If both are present this takes priority.\n * @param {String} [options.fit='cover'] - How the image should be resized/cropped to fit the target dimension(s), one of `cover`, `contain`, `fill`, `inside` or `outside`.\n * @param {String} [options.position='centre'] - A position, gravity or strategy to use when `fit` is `cover` or `contain`.\n * @param {String|Object} [options.background={r: 0, g: 0, b: 0, alpha: 1}] - background colour when `fit` is `contain`, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to black without transparency.\n * @param {String} [options.kernel='lanczos3'] - The kernel to use for image reduction and the inferred interpolator to use for upsampling. Use the `fastShrinkOnLoad` option to control kernel vs shrink-on-load.\n * @param {Boolean} [options.withoutEnlargement=false] - Do not scale up if the width *or* height are already less than the target dimensions, equivalent to GraphicsMagick's `>` geometry option. This may result in output dimensions smaller than the target dimensions.\n * @param {Boolean} [options.withoutReduction=false] - Do not scale down if the width *or* height are already greater than the target dimensions, equivalent to GraphicsMagick's `<` geometry option. This may still result in a crop to reach the target dimensions.\n * @param {Boolean} [options.fastShrinkOnLoad=true] - Take greater advantage of the JPEG and WebP shrink-on-load feature, which can lead to a slight moir\u00E9 pattern or round-down of an auto-scaled dimension.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction resize (widthOrOptions, height, options) {\n  if (isResizeExpected(this.options)) {\n    this.options.debuglog('ignoring previous resize options');\n  }\n  if (this.options.widthPost !== -1) {\n    this.options.debuglog('operation order will be: extract, resize, extract');\n  }\n  if (is.defined(widthOrOptions)) {\n    if (is.object(widthOrOptions) && !is.defined(options)) {\n      options = widthOrOptions;\n    } else if (is.integer(widthOrOptions) && widthOrOptions > 0) {\n      this.options.width = widthOrOptions;\n    } else {\n      throw is.invalidParameterError('width', 'positive integer', widthOrOptions);\n    }\n  } else {\n    this.options.width = -1;\n  }\n  if (is.defined(height)) {\n    if (is.integer(height) && height > 0) {\n      this.options.height = height;\n    } else {\n      throw is.invalidParameterError('height', 'positive integer', height);\n    }\n  } else {\n    this.options.height = -1;\n  }\n  if (is.object(options)) {\n    // Width\n    if (is.defined(options.width)) {\n      if (is.integer(options.width) && options.width > 0) {\n        this.options.width = options.width;\n      } else {\n        throw is.invalidParameterError('width', 'positive integer', options.width);\n      }\n    }\n    // Height\n    if (is.defined(options.height)) {\n      if (is.integer(options.height) && options.height > 0) {\n        this.options.height = options.height;\n      } else {\n        throw is.invalidParameterError('height', 'positive integer', options.height);\n      }\n    }\n    // Fit\n    if (is.defined(options.fit)) {\n      const canvas = mapFitToCanvas[options.fit];\n      if (is.string(canvas)) {\n        this.options.canvas = canvas;\n      } else {\n        throw is.invalidParameterError('fit', 'valid fit', options.fit);\n      }\n    }\n    // Position\n    if (is.defined(options.position)) {\n      const pos = is.integer(options.position)\n        ? options.position\n        : strategy[options.position] || position[options.position] || gravity[options.position];\n      if (is.integer(pos) && (is.inRange(pos, 0, 8) || is.inRange(pos, 16, 17))) {\n        this.options.position = pos;\n      } else {\n        throw is.invalidParameterError('position', 'valid position/gravity/strategy', options.position);\n      }\n    }\n    // Background\n    this._setBackgroundColourOption('resizeBackground', options.background);\n    // Kernel\n    if (is.defined(options.kernel)) {\n      if (is.string(kernel[options.kernel])) {\n        this.options.kernel = kernel[options.kernel];\n      } else {\n        throw is.invalidParameterError('kernel', 'valid kernel name', options.kernel);\n      }\n    }\n    // Without enlargement\n    if (is.defined(options.withoutEnlargement)) {\n      this._setBooleanOption('withoutEnlargement', options.withoutEnlargement);\n    }\n    // Without reduction\n    if (is.defined(options.withoutReduction)) {\n      this._setBooleanOption('withoutReduction', options.withoutReduction);\n    }\n    // Shrink on load\n    if (is.defined(options.fastShrinkOnLoad)) {\n      this._setBooleanOption('fastShrinkOnLoad', options.fastShrinkOnLoad);\n    }\n  }\n  if (isRotationExpected(this.options) && isResizeExpected(this.options)) {\n    this.options.rotateBefore = true;\n  }\n  return this;\n}\n\n/**\n * Extend / pad / extrude one or more edges of the image with either\n * the provided background colour or pixels derived from the image.\n * This operation will always occur after resizing and extraction, if any.\n *\n * @example\n * // Resize to 140 pixels wide, then add 10 transparent pixels\n * // to the top, left and right edges and 20 to the bottom edge\n * sharp(input)\n *   .resize(140)\n *   .extend({\n *     top: 10,\n *     bottom: 20,\n *     left: 10,\n *     right: 10,\n *     background: { r: 0, g: 0, b: 0, alpha: 0 }\n *   })\n *   ...\n *\n* @example\n * // Add a row of 10 red pixels to the bottom\n * sharp(input)\n *   .extend({\n *     bottom: 10,\n *     background: 'red'\n *   })\n *   ...\n *\n * @example\n * // Extrude image by 8 pixels to the right, mirroring existing right hand edge\n * sharp(input)\n *   .extend({\n *     right: 8,\n *     background: 'mirror'\n *   })\n *   ...\n *\n * @param {(number|Object)} extend - single pixel count to add to all edges or an Object with per-edge counts\n * @param {number} [extend.top=0]\n * @param {number} [extend.left=0]\n * @param {number} [extend.bottom=0]\n * @param {number} [extend.right=0]\n * @param {String} [extend.extendWith='background'] - populate new pixels using this method, one of: background, copy, repeat, mirror.\n * @param {String|Object} [extend.background={r: 0, g: 0, b: 0, alpha: 1}] - background colour, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to black without transparency.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n*/\nfunction extend (extend) {\n  if (is.integer(extend) && extend > 0) {\n    this.options.extendTop = extend;\n    this.options.extendBottom = extend;\n    this.options.extendLeft = extend;\n    this.options.extendRight = extend;\n  } else if (is.object(extend)) {\n    if (is.defined(extend.top)) {\n      if (is.integer(extend.top) && extend.top >= 0) {\n        this.options.extendTop = extend.top;\n      } else {\n        throw is.invalidParameterError('top', 'positive integer', extend.top);\n      }\n    }\n    if (is.defined(extend.bottom)) {\n      if (is.integer(extend.bottom) && extend.bottom >= 0) {\n        this.options.extendBottom = extend.bottom;\n      } else {\n        throw is.invalidParameterError('bottom', 'positive integer', extend.bottom);\n      }\n    }\n    if (is.defined(extend.left)) {\n      if (is.integer(extend.left) && extend.left >= 0) {\n        this.options.extendLeft = extend.left;\n      } else {\n        throw is.invalidParameterError('left', 'positive integer', extend.left);\n      }\n    }\n    if (is.defined(extend.right)) {\n      if (is.integer(extend.right) && extend.right >= 0) {\n        this.options.extendRight = extend.right;\n      } else {\n        throw is.invalidParameterError('right', 'positive integer', extend.right);\n      }\n    }\n    this._setBackgroundColourOption('extendBackground', extend.background);\n    if (is.defined(extend.extendWith)) {\n      if (is.string(extendWith[extend.extendWith])) {\n        this.options.extendWith = extendWith[extend.extendWith];\n      } else {\n        throw is.invalidParameterError('extendWith', 'one of: background, copy, repeat, mirror', extend.extendWith);\n      }\n    }\n  } else {\n    throw is.invalidParameterError('extend', 'integer or object', extend);\n  }\n  return this;\n}\n\n/**\n * Extract/crop a region of the image.\n *\n * - Use `extract` before `resize` for pre-resize extraction.\n * - Use `extract` after `resize` for post-resize extraction.\n * - Use `extract` twice and `resize` once for extract-then-resize-then-extract in a fixed operation order.\n *\n * @example\n * sharp(input)\n *   .extract({ left: left, top: top, width: width, height: height })\n *   .toFile(output, function(err) {\n *     // Extract a region of the input image, saving in the same format.\n *   });\n * @example\n * sharp(input)\n *   .extract({ left: leftOffsetPre, top: topOffsetPre, width: widthPre, height: heightPre })\n *   .resize(width, height)\n *   .extract({ left: leftOffsetPost, top: topOffsetPost, width: widthPost, height: heightPost })\n *   .toFile(output, function(err) {\n *     // Extract a region, resize, then extract from the resized image\n *   });\n *\n * @param {Object} options - describes the region to extract using integral pixel values\n * @param {number} options.left - zero-indexed offset from left edge\n * @param {number} options.top - zero-indexed offset from top edge\n * @param {number} options.width - width of region to extract\n * @param {number} options.height - height of region to extract\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction extract (options) {\n  const suffix = isResizeExpected(this.options) || this.options.widthPre !== -1 ? 'Post' : 'Pre';\n  if (this.options[`width${suffix}`] !== -1) {\n    this.options.debuglog('ignoring previous extract options');\n  }\n  ['left', 'top', 'width', 'height'].forEach(function (name) {\n    const value = options[name];\n    if (is.integer(value) && value >= 0) {\n      this.options[name + (name === 'left' || name === 'top' ? 'Offset' : '') + suffix] = value;\n    } else {\n      throw is.invalidParameterError(name, 'integer', value);\n    }\n  }, this);\n  // Ensure existing rotation occurs before pre-resize extraction\n  if (isRotationExpected(this.options) && !isResizeExpected(this.options)) {\n    if (this.options.widthPre === -1 || this.options.widthPost === -1) {\n      this.options.rotateBefore = true;\n    }\n  }\n  if (this.options.input.autoOrient) {\n    this.options.orientBefore = true;\n  }\n  return this;\n}\n\n/**\n * Trim pixels from all edges that contain values similar to the given background colour, which defaults to that of the top-left pixel.\n *\n * Images with an alpha channel will use the combined bounding box of alpha and non-alpha channels.\n *\n * If the result of this operation would trim an image to nothing then no change is made.\n *\n * The `info` response Object will contain `trimOffsetLeft` and `trimOffsetTop` properties.\n *\n * @example\n * // Trim pixels with a colour similar to that of the top-left pixel.\n * await sharp(input)\n *   .trim()\n *   .toFile(output);\n *\n * @example\n * // Trim pixels with the exact same colour as that of the top-left pixel.\n * await sharp(input)\n *   .trim({\n *     threshold: 0\n *   })\n *   .toFile(output);\n *\n * @example\n * // Assume input is line art and trim only pixels with a similar colour to red.\n * const output = await sharp(input)\n *   .trim({\n *     background: \"#FF0000\",\n *     lineArt: true\n *   })\n *   .toBuffer();\n *\n * @example\n * // Trim all \"yellow-ish\" pixels, being more lenient with the higher threshold.\n * const output = await sharp(input)\n *   .trim({\n *     background: \"yellow\",\n *     threshold: 42,\n *   })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {string|Object} [options.background='top-left pixel'] - Background colour, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to that of the top-left pixel.\n * @param {number} [options.threshold=10] - Allowed difference from the above colour, a positive number.\n * @param {boolean} [options.lineArt=false] - Does the input more closely resemble line art (e.g. vector) rather than being photographic?\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction trim (options) {\n  this.options.trimThreshold = 10;\n  if (is.defined(options)) {\n    if (is.object(options)) {\n      if (is.defined(options.background)) {\n        this._setBackgroundColourOption('trimBackground', options.background);\n      }\n      if (is.defined(options.threshold)) {\n        if (is.number(options.threshold) && options.threshold >= 0) {\n          this.options.trimThreshold = options.threshold;\n        } else {\n          throw is.invalidParameterError('threshold', 'positive number', options.threshold);\n        }\n      }\n      if (is.defined(options.lineArt)) {\n        this._setBooleanOption('trimLineArt', options.lineArt);\n      }\n    } else {\n      throw is.invalidParameterError('trim', 'object', options);\n    }\n  }\n  if (isRotationExpected(this.options)) {\n    this.options.rotateBefore = true;\n  }\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with resize-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    resize,\n    extend,\n    extract,\n    trim\n  });\n  // Class attributes\n  Sharp.gravity = gravity;\n  Sharp.strategy = strategy;\n  Sharp.kernel = kernel;\n  Sharp.fit = fit;\n  Sharp.position = position;\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst is = require('./is');\n\n/**\n * Blend modes.\n * @member\n * @private\n */\nconst blend = {\n  clear: 'clear',\n  source: 'source',\n  over: 'over',\n  in: 'in',\n  out: 'out',\n  atop: 'atop',\n  dest: 'dest',\n  'dest-over': 'dest-over',\n  'dest-in': 'dest-in',\n  'dest-out': 'dest-out',\n  'dest-atop': 'dest-atop',\n  xor: 'xor',\n  add: 'add',\n  saturate: 'saturate',\n  multiply: 'multiply',\n  screen: 'screen',\n  overlay: 'overlay',\n  darken: 'darken',\n  lighten: 'lighten',\n  'colour-dodge': 'colour-dodge',\n  'color-dodge': 'colour-dodge',\n  'colour-burn': 'colour-burn',\n  'color-burn': 'colour-burn',\n  'hard-light': 'hard-light',\n  'soft-light': 'soft-light',\n  difference: 'difference',\n  exclusion: 'exclusion'\n};\n\n/**\n * Composite image(s) over the processed (resized, extracted etc.) image.\n *\n * The images to composite must be the same size or smaller than the processed image.\n * If both `top` and `left` options are provided, they take precedence over `gravity`.\n *\n * Other operations in the same processing pipeline (e.g. resize, rotate, flip,\n * flop, extract) will always be applied to the input image before composition.\n *\n * The `blend` option can be one of `clear`, `source`, `over`, `in`, `out`, `atop`,\n * `dest`, `dest-over`, `dest-in`, `dest-out`, `dest-atop`,\n * `xor`, `add`, `saturate`, `multiply`, `screen`, `overlay`, `darken`, `lighten`,\n * `colour-dodge`, `color-dodge`, `colour-burn`,`color-burn`,\n * `hard-light`, `soft-light`, `difference`, `exclusion`.\n *\n * More information about blend modes can be found at\n * https://www.libvips.org/API/current/libvips-conversion.html#VipsBlendMode\n * and https://www.cairographics.org/operators/\n *\n * @since 0.22.0\n *\n * @example\n * await sharp(background)\n *   .composite([\n *     { input: layer1, gravity: 'northwest' },\n *     { input: layer2, gravity: 'southeast' },\n *   ])\n *   .toFile('combined.png');\n *\n * @example\n * const output = await sharp('input.gif', { animated: true })\n *   .composite([\n *     { input: 'overlay.png', tile: true, blend: 'saturate' }\n *   ])\n *   .toBuffer();\n *\n * @example\n * sharp('input.png')\n *   .rotate(180)\n *   .resize(300)\n *   .flatten( { background: '#ff6600' } )\n *   .composite([{ input: 'overlay.png', gravity: 'southeast' }])\n *   .sharpen()\n *   .withMetadata()\n *   .webp( { quality: 90 } )\n *   .toBuffer()\n *   .then(function(outputBuffer) {\n *     // outputBuffer contains upside down, 300px wide, alpha channel flattened\n *     // onto orange background, composited with overlay.png with SE gravity,\n *     // sharpened, with metadata, 90% quality WebP image data. Phew!\n *   });\n *\n * @param {Object[]} images - Ordered list of images to composite\n * @param {Buffer|String} [images[].input] - Buffer containing image data, String containing the path to an image file, or Create object (see below)\n * @param {Object} [images[].input.create] - describes a blank overlay to be created.\n * @param {Number} [images[].input.create.width]\n * @param {Number} [images[].input.create.height]\n * @param {Number} [images[].input.create.channels] - 3-4\n * @param {String|Object} [images[].input.create.background] - parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {Object} [images[].input.text] - describes a new text image to be created.\n * @param {string} [images[].input.text.text] - text to render as a UTF-8 string. It can contain Pango markup, for example `<i>Le</i>Monde`.\n * @param {string} [images[].input.text.font] - font name to render with.\n * @param {string} [images[].input.text.fontfile] - absolute filesystem path to a font file that can be used by `font`.\n * @param {number} [images[].input.text.width=0] - integral number of pixels to word-wrap at. Lines of text wider than this will be broken at word boundaries.\n * @param {number} [images[].input.text.height=0] - integral number of pixels high. When defined, `dpi` will be ignored and the text will automatically fit the pixel resolution defined by `width` and `height`. Will be ignored if `width` is not specified or set to 0.\n * @param {string} [images[].input.text.align='left'] - text alignment (`'left'`, `'centre'`, `'center'`, `'right'`).\n * @param {boolean} [images[].input.text.justify=false] - set this to true to apply justification to the text.\n * @param {number} [images[].input.text.dpi=72] - the resolution (size) at which to render the text. Does not take effect if `height` is specified.\n * @param {boolean} [images[].input.text.rgba=false] - set this to true to enable RGBA output. This is useful for colour emoji rendering, or support for Pango markup features like `<span foreground=\"red\">Red!</span>`.\n * @param {number} [images[].input.text.spacing=0] - text line height in points. Will use the font line height if none is specified.\n * @param {Boolean} [images[].autoOrient=false] - set to true to use EXIF orientation data, if present, to orient the image.\n * @param {String} [images[].blend='over'] - how to blend this image with the image below.\n * @param {String} [images[].gravity='centre'] - gravity at which to place the overlay.\n * @param {Number} [images[].top] - the pixel offset from the top edge.\n * @param {Number} [images[].left] - the pixel offset from the left edge.\n * @param {Boolean} [images[].tile=false] - set to true to repeat the overlay image across the entire image with the given `gravity`.\n * @param {Boolean} [images[].premultiplied=false] - set to true to avoid premultiplying the image below. Equivalent to the `--premultiplied` vips option.\n * @param {Number} [images[].density=72] - number representing the DPI for vector overlay image.\n * @param {Object} [images[].raw] - describes overlay when using raw pixel data.\n * @param {Number} [images[].raw.width]\n * @param {Number} [images[].raw.height]\n * @param {Number} [images[].raw.channels]\n * @param {boolean} [images[].animated=false] - Set to `true` to read all frames/pages of an animated image.\n * @param {string} [images[].failOn='warning'] - @see {@link /api-constructor#parameters|constructor parameters}\n * @param {number|boolean} [images[].limitInputPixels=268402689] - @see {@link /api-constructor#parameters|constructor parameters}\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction composite (images) {\n  if (!Array.isArray(images)) {\n    throw is.invalidParameterError('images to composite', 'array', images);\n  }\n  this.options.composite = images.map(image => {\n    if (!is.object(image)) {\n      throw is.invalidParameterError('image to composite', 'object', image);\n    }\n    const inputOptions = this._inputOptionsFromObject(image);\n    const composite = {\n      input: this._createInputDescriptor(image.input, inputOptions, { allowStream: false }),\n      blend: 'over',\n      tile: false,\n      left: 0,\n      top: 0,\n      hasOffset: false,\n      gravity: 0,\n      premultiplied: false\n    };\n    if (is.defined(image.blend)) {\n      if (is.string(blend[image.blend])) {\n        composite.blend = blend[image.blend];\n      } else {\n        throw is.invalidParameterError('blend', 'valid blend name', image.blend);\n      }\n    }\n    if (is.defined(image.tile)) {\n      if (is.bool(image.tile)) {\n        composite.tile = image.tile;\n      } else {\n        throw is.invalidParameterError('tile', 'boolean', image.tile);\n      }\n    }\n    if (is.defined(image.left)) {\n      if (is.integer(image.left)) {\n        composite.left = image.left;\n      } else {\n        throw is.invalidParameterError('left', 'integer', image.left);\n      }\n    }\n    if (is.defined(image.top)) {\n      if (is.integer(image.top)) {\n        composite.top = image.top;\n      } else {\n        throw is.invalidParameterError('top', 'integer', image.top);\n      }\n    }\n    if (is.defined(image.top) !== is.defined(image.left)) {\n      throw new Error('Expected both left and top to be set');\n    } else {\n      composite.hasOffset = is.integer(image.top) && is.integer(image.left);\n    }\n    if (is.defined(image.gravity)) {\n      if (is.integer(image.gravity) && is.inRange(image.gravity, 0, 8)) {\n        composite.gravity = image.gravity;\n      } else if (is.string(image.gravity) && is.integer(this.constructor.gravity[image.gravity])) {\n        composite.gravity = this.constructor.gravity[image.gravity];\n      } else {\n        throw is.invalidParameterError('gravity', 'valid gravity', image.gravity);\n      }\n    }\n    if (is.defined(image.premultiplied)) {\n      if (is.bool(image.premultiplied)) {\n        composite.premultiplied = image.premultiplied;\n      } else {\n        throw is.invalidParameterError('premultiplied', 'boolean', image.premultiplied);\n      }\n    }\n    return composite;\n  });\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with composite-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Sharp.prototype.composite = composite;\n  Sharp.blend = blend;\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst is = require('./is');\n\n/**\n * How accurate an operation should be.\n * @member\n * @private\n */\nconst vipsPrecision = {\n  integer: 'integer',\n  float: 'float',\n  approximate: 'approximate'\n};\n\n/**\n * Rotate the output image.\n *\n * The provided angle is converted to a valid positive degree rotation.\n * For example, `-450` will produce a 270 degree rotation.\n *\n * When rotating by an angle other than a multiple of 90,\n * the background colour can be provided with the `background` option.\n *\n * For backwards compatibility, if no angle is provided, `.autoOrient()` will be called.\n *\n * Only one rotation can occur per pipeline (aside from an initial call without\n * arguments to orient via EXIF data). Previous calls to `rotate` in the same\n * pipeline will be ignored.\n *\n * Multi-page images can only be rotated by 180 degrees.\n *\n * Method order is important when rotating, resizing and/or extracting regions,\n * for example `.rotate(x).extract(y)` will produce a different result to `.extract(y).rotate(x)`.\n *\n * @example\n * const rotateThenResize = await sharp(input)\n *   .rotate(90)\n *   .resize({ width: 16, height: 8, fit: 'fill' })\n *   .toBuffer();\n * const resizeThenRotate = await sharp(input)\n *   .resize({ width: 16, height: 8, fit: 'fill' })\n *   .rotate(90)\n *   .toBuffer();\n *\n * @param {number} [angle=auto] angle of rotation.\n * @param {Object} [options] - if present, is an Object with optional attributes.\n * @param {string|Object} [options.background=\"#000000\"] parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction rotate (angle, options) {\n  if (!is.defined(angle)) {\n    return this.autoOrient();\n  }\n  if (this.options.angle || this.options.rotationAngle) {\n    this.options.debuglog('ignoring previous rotate options');\n    this.options.angle = 0;\n    this.options.rotationAngle = 0;\n  }\n  if (is.integer(angle) && !(angle % 90)) {\n    this.options.angle = angle;\n  } else if (is.number(angle)) {\n    this.options.rotationAngle = angle;\n    if (is.object(options) && options.background) {\n      this._setBackgroundColourOption('rotationBackground', options.background);\n    }\n  } else {\n    throw is.invalidParameterError('angle', 'numeric', angle);\n  }\n  return this;\n}\n\n/**\n * Auto-orient based on the EXIF `Orientation` tag, then remove the tag.\n * Mirroring is supported and may infer the use of a flip operation.\n *\n * Previous or subsequent use of `rotate(angle)` and either `flip()` or `flop()`\n * will logically occur after auto-orientation, regardless of call order.\n *\n * @example\n * const output = await sharp(input).autoOrient().toBuffer();\n *\n * @example\n * const pipeline = sharp()\n *   .autoOrient()\n *   .resize(null, 200)\n *   .toBuffer(function (err, outputBuffer, info) {\n *     // outputBuffer contains 200px high JPEG image data,\n *     // auto-oriented using EXIF Orientation tag\n *     // info.width and info.height contain the dimensions of the resized image\n *   });\n * readableStream.pipe(pipeline);\n *\n * @returns {Sharp}\n */\nfunction autoOrient () {\n  this.options.input.autoOrient = true;\n  return this;\n}\n\n/**\n * Mirror the image vertically (up-down) about the x-axis.\n * This always occurs before rotation, if any.\n *\n * This operation does not work correctly with multi-page images.\n *\n * @example\n * const output = await sharp(input).flip().toBuffer();\n *\n * @param {Boolean} [flip=true]\n * @returns {Sharp}\n */\nfunction flip (flip) {\n  this.options.flip = is.bool(flip) ? flip : true;\n  return this;\n}\n\n/**\n * Mirror the image horizontally (left-right) about the y-axis.\n * This always occurs before rotation, if any.\n *\n * @example\n * const output = await sharp(input).flop().toBuffer();\n *\n * @param {Boolean} [flop=true]\n * @returns {Sharp}\n */\nfunction flop (flop) {\n  this.options.flop = is.bool(flop) ? flop : true;\n  return this;\n}\n\n/**\n * Perform an affine transform on an image. This operation will always occur after resizing, extraction and rotation, if any.\n *\n * You must provide an array of length 4 or a 2x2 affine transformation matrix.\n * By default, new pixels are filled with a black background. You can provide a background colour with the `background` option.\n * A particular interpolator may also be specified. Set the `interpolator` option to an attribute of the `sharp.interpolators` Object e.g. `sharp.interpolators.nohalo`.\n *\n * In the case of a 2x2 matrix, the transform is:\n * - X = `matrix[0, 0]` \\* (x + `idx`) + `matrix[0, 1]` \\* (y + `idy`) + `odx`\n * - Y = `matrix[1, 0]` \\* (x + `idx`) + `matrix[1, 1]` \\* (y + `idy`) + `ody`\n *\n * where:\n * - x and y are the coordinates in input image.\n * - X and Y are the coordinates in output image.\n * - (0,0) is the upper left corner.\n *\n * @since 0.27.0\n *\n * @example\n * const pipeline = sharp()\n *   .affine([[1, 0.3], [0.1, 0.7]], {\n *      background: 'white',\n *      interpolator: sharp.interpolators.nohalo\n *   })\n *   .toBuffer((err, outputBuffer, info) => {\n *      // outputBuffer contains the transformed image\n *      // info.width and info.height contain the new dimensions\n *   });\n *\n * inputStream\n *   .pipe(pipeline);\n *\n * @param {Array<Array<number>>|Array<number>} matrix - affine transformation matrix\n * @param {Object} [options] - if present, is an Object with optional attributes.\n * @param {String|Object} [options.background=\"#000000\"] - parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {Number} [options.idx=0] - input horizontal offset\n * @param {Number} [options.idy=0] - input vertical offset\n * @param {Number} [options.odx=0] - output horizontal offset\n * @param {Number} [options.ody=0] - output vertical offset\n * @param {String} [options.interpolator=sharp.interpolators.bicubic] - interpolator\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction affine (matrix, options) {\n  const flatMatrix = [].concat(...matrix);\n  if (flatMatrix.length === 4 && flatMatrix.every(is.number)) {\n    this.options.affineMatrix = flatMatrix;\n  } else {\n    throw is.invalidParameterError('matrix', '1x4 or 2x2 array', matrix);\n  }\n\n  if (is.defined(options)) {\n    if (is.object(options)) {\n      this._setBackgroundColourOption('affineBackground', options.background);\n      if (is.defined(options.idx)) {\n        if (is.number(options.idx)) {\n          this.options.affineIdx = options.idx;\n        } else {\n          throw is.invalidParameterError('options.idx', 'number', options.idx);\n        }\n      }\n      if (is.defined(options.idy)) {\n        if (is.number(options.idy)) {\n          this.options.affineIdy = options.idy;\n        } else {\n          throw is.invalidParameterError('options.idy', 'number', options.idy);\n        }\n      }\n      if (is.defined(options.odx)) {\n        if (is.number(options.odx)) {\n          this.options.affineOdx = options.odx;\n        } else {\n          throw is.invalidParameterError('options.odx', 'number', options.odx);\n        }\n      }\n      if (is.defined(options.ody)) {\n        if (is.number(options.ody)) {\n          this.options.affineOdy = options.ody;\n        } else {\n          throw is.invalidParameterError('options.ody', 'number', options.ody);\n        }\n      }\n      if (is.defined(options.interpolator)) {\n        if (is.inArray(options.interpolator, Object.values(this.constructor.interpolators))) {\n          this.options.affineInterpolator = options.interpolator;\n        } else {\n          throw is.invalidParameterError('options.interpolator', 'valid interpolator name', options.interpolator);\n        }\n      }\n    } else {\n      throw is.invalidParameterError('options', 'object', options);\n    }\n  }\n\n  return this;\n}\n\n/**\n * Sharpen the image.\n *\n * When used without parameters, performs a fast, mild sharpen of the output image.\n *\n * When a `sigma` is provided, performs a slower, more accurate sharpen of the L channel in the LAB colour space.\n * Fine-grained control over the level of sharpening in \"flat\" (m1) and \"jagged\" (m2) areas is available.\n *\n * See {@link https://www.libvips.org/API/current/libvips-convolution.html#vips-sharpen|libvips sharpen} operation.\n *\n * @example\n * const data = await sharp(input).sharpen().toBuffer();\n *\n * @example\n * const data = await sharp(input).sharpen({ sigma: 2 }).toBuffer();\n *\n * @example\n * const data = await sharp(input)\n *   .sharpen({\n *     sigma: 2,\n *     m1: 0,\n *     m2: 3,\n *     x1: 3,\n *     y2: 15,\n *     y3: 15,\n *   })\n *   .toBuffer();\n *\n * @param {Object|number} [options] - if present, is an Object with attributes\n * @param {number} [options.sigma] - the sigma of the Gaussian mask, where `sigma = 1 + radius / 2`, between 0.000001 and 10\n * @param {number} [options.m1=1.0] - the level of sharpening to apply to \"flat\" areas, between 0 and 1000000\n * @param {number} [options.m2=2.0] - the level of sharpening to apply to \"jagged\" areas, between 0 and 1000000\n * @param {number} [options.x1=2.0] - threshold between \"flat\" and \"jagged\", between 0 and 1000000\n * @param {number} [options.y2=10.0] - maximum amount of brightening, between 0 and 1000000\n * @param {number} [options.y3=20.0] - maximum amount of darkening, between 0 and 1000000\n * @param {number} [flat] - (deprecated) see `options.m1`.\n * @param {number} [jagged] - (deprecated) see `options.m2`.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction sharpen (options, flat, jagged) {\n  if (!is.defined(options)) {\n    // No arguments: default to mild sharpen\n    this.options.sharpenSigma = -1;\n  } else if (is.bool(options)) {\n    // Deprecated boolean argument: apply mild sharpen?\n    this.options.sharpenSigma = options ? -1 : 0;\n  } else if (is.number(options) && is.inRange(options, 0.01, 10000)) {\n    // Deprecated numeric argument: specific sigma\n    this.options.sharpenSigma = options;\n    // Deprecated control over flat areas\n    if (is.defined(flat)) {\n      if (is.number(flat) && is.inRange(flat, 0, 10000)) {\n        this.options.sharpenM1 = flat;\n      } else {\n        throw is.invalidParameterError('flat', 'number between 0 and 10000', flat);\n      }\n    }\n    // Deprecated control over jagged areas\n    if (is.defined(jagged)) {\n      if (is.number(jagged) && is.inRange(jagged, 0, 10000)) {\n        this.options.sharpenM2 = jagged;\n      } else {\n        throw is.invalidParameterError('jagged', 'number between 0 and 10000', jagged);\n      }\n    }\n  } else if (is.plainObject(options)) {\n    if (is.number(options.sigma) && is.inRange(options.sigma, 0.000001, 10)) {\n      this.options.sharpenSigma = options.sigma;\n    } else {\n      throw is.invalidParameterError('options.sigma', 'number between 0.000001 and 10', options.sigma);\n    }\n    if (is.defined(options.m1)) {\n      if (is.number(options.m1) && is.inRange(options.m1, 0, 1000000)) {\n        this.options.sharpenM1 = options.m1;\n      } else {\n        throw is.invalidParameterError('options.m1', 'number between 0 and 1000000', options.m1);\n      }\n    }\n    if (is.defined(options.m2)) {\n      if (is.number(options.m2) && is.inRange(options.m2, 0, 1000000)) {\n        this.options.sharpenM2 = options.m2;\n      } else {\n        throw is.invalidParameterError('options.m2', 'number between 0 and 1000000', options.m2);\n      }\n    }\n    if (is.defined(options.x1)) {\n      if (is.number(options.x1) && is.inRange(options.x1, 0, 1000000)) {\n        this.options.sharpenX1 = options.x1;\n      } else {\n        throw is.invalidParameterError('options.x1', 'number between 0 and 1000000', options.x1);\n      }\n    }\n    if (is.defined(options.y2)) {\n      if (is.number(options.y2) && is.inRange(options.y2, 0, 1000000)) {\n        this.options.sharpenY2 = options.y2;\n      } else {\n        throw is.invalidParameterError('options.y2', 'number between 0 and 1000000', options.y2);\n      }\n    }\n    if (is.defined(options.y3)) {\n      if (is.number(options.y3) && is.inRange(options.y3, 0, 1000000)) {\n        this.options.sharpenY3 = options.y3;\n      } else {\n        throw is.invalidParameterError('options.y3', 'number between 0 and 1000000', options.y3);\n      }\n    }\n  } else {\n    throw is.invalidParameterError('sigma', 'number between 0.01 and 10000', options);\n  }\n  return this;\n}\n\n/**\n * Apply median filter.\n * When used without parameters the default window is 3x3.\n *\n * @example\n * const output = await sharp(input).median().toBuffer();\n *\n * @example\n * const output = await sharp(input).median(5).toBuffer();\n *\n * @param {number} [size=3] square mask size: size x size\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction median (size) {\n  if (!is.defined(size)) {\n    // No arguments: default to 3x3\n    this.options.medianSize = 3;\n  } else if (is.integer(size) && is.inRange(size, 1, 1000)) {\n    // Numeric argument: specific sigma\n    this.options.medianSize = size;\n  } else {\n    throw is.invalidParameterError('size', 'integer between 1 and 1000', size);\n  }\n  return this;\n}\n\n/**\n * Blur the image.\n *\n * When used without parameters, performs a fast 3x3 box blur (equivalent to a box linear filter).\n *\n * When a `sigma` is provided, performs a slower, more accurate Gaussian blur.\n *\n * @example\n * const boxBlurred = await sharp(input)\n *   .blur()\n *   .toBuffer();\n *\n * @example\n * const gaussianBlurred = await sharp(input)\n *   .blur(5)\n *   .toBuffer();\n *\n * @param {Object|number|Boolean} [options]\n * @param {number} [options.sigma] a value between 0.3 and 1000 representing the sigma of the Gaussian mask, where `sigma = 1 + radius / 2`.\n * @param {string} [options.precision='integer'] How accurate the operation should be, one of: integer, float, approximate.\n * @param {number} [options.minAmplitude=0.2] A value between 0.001 and 1. A smaller value will generate a larger, more accurate mask.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction blur (options) {\n  let sigma;\n  if (is.number(options)) {\n    sigma = options;\n  } else if (is.plainObject(options)) {\n    if (!is.number(options.sigma)) {\n      throw is.invalidParameterError('options.sigma', 'number between 0.3 and 1000', sigma);\n    }\n    sigma = options.sigma;\n    if ('precision' in options) {\n      if (is.string(vipsPrecision[options.precision])) {\n        this.options.precision = vipsPrecision[options.precision];\n      } else {\n        throw is.invalidParameterError('precision', 'one of: integer, float, approximate', options.precision);\n      }\n    }\n    if ('minAmplitude' in options) {\n      if (is.number(options.minAmplitude) && is.inRange(options.minAmplitude, 0.001, 1)) {\n        this.options.minAmpl = options.minAmplitude;\n      } else {\n        throw is.invalidParameterError('minAmplitude', 'number between 0.001 and 1', options.minAmplitude);\n      }\n    }\n  }\n\n  if (!is.defined(options)) {\n    // No arguments: default to mild blur\n    this.options.blurSigma = -1;\n  } else if (is.bool(options)) {\n    // Boolean argument: apply mild blur?\n    this.options.blurSigma = options ? -1 : 0;\n  } else if (is.number(sigma) && is.inRange(sigma, 0.3, 1000)) {\n    // Numeric argument: specific sigma\n    this.options.blurSigma = sigma;\n  } else {\n    throw is.invalidParameterError('sigma', 'number between 0.3 and 1000', sigma);\n  }\n\n  return this;\n}\n\n/**\n * Expand foreground objects using the dilate morphological operator.\n *\n * @example\n * const output = await sharp(input)\n *   .dilate()\n *   .toBuffer();\n *\n * @param {Number} [width=1] dilation width in pixels.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction dilate (width) {\n  if (!is.defined(width)) {\n    this.options.dilateWidth = 1;\n  } else if (is.integer(width) && width > 0) {\n    this.options.dilateWidth = width;\n  } else {\n    throw is.invalidParameterError('dilate', 'positive integer', dilate);\n  }\n  return this;\n}\n\n/**\n * Shrink foreground objects using the erode morphological operator.\n *\n * @example\n * const output = await sharp(input)\n *   .erode()\n *   .toBuffer();\n *\n * @param {Number} [width=1] erosion width in pixels.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction erode (width) {\n  if (!is.defined(width)) {\n    this.options.erodeWidth = 1;\n  } else if (is.integer(width) && width > 0) {\n    this.options.erodeWidth = width;\n  } else {\n    throw is.invalidParameterError('erode', 'positive integer', erode);\n  }\n  return this;\n}\n\n/**\n * Merge alpha transparency channel, if any, with a background, then remove the alpha channel.\n *\n * See also {@link /api-channel#removealpha|removeAlpha}.\n *\n * @example\n * await sharp(rgbaInput)\n *   .flatten({ background: '#F0A703' })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {string|Object} [options.background={r: 0, g: 0, b: 0}] - background colour, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to black.\n * @returns {Sharp}\n */\nfunction flatten (options) {\n  this.options.flatten = is.bool(options) ? options : true;\n  if (is.object(options)) {\n    this._setBackgroundColourOption('flattenBackground', options.background);\n  }\n  return this;\n}\n\n/**\n * Ensure the image has an alpha channel\n * with all white pixel values made fully transparent.\n *\n * Existing alpha channel values for non-white pixels remain unchanged.\n *\n * This feature is experimental and the API may change.\n *\n * @since 0.32.1\n *\n * @example\n * await sharp(rgbInput)\n *   .unflatten()\n *   .toBuffer();\n *\n * @example\n * await sharp(rgbInput)\n *   .threshold(128, { grayscale: false }) // converter bright pixels to white\n *   .unflatten()\n *   .toBuffer();\n */\nfunction unflatten () {\n  this.options.unflatten = true;\n  return this;\n}\n\n/**\n * Apply a gamma correction by reducing the encoding (darken) pre-resize at a factor of `1/gamma`\n * then increasing the encoding (brighten) post-resize at a factor of `gamma`.\n * This can improve the perceived brightness of a resized image in non-linear colour spaces.\n * JPEG and WebP input images will not take advantage of the shrink-on-load performance optimisation\n * when applying a gamma correction.\n *\n * Supply a second argument to use a different output gamma value, otherwise the first value is used in both cases.\n *\n * @param {number} [gamma=2.2] value between 1.0 and 3.0.\n * @param {number} [gammaOut] value between 1.0 and 3.0. (optional, defaults to same as `gamma`)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction gamma (gamma, gammaOut) {\n  if (!is.defined(gamma)) {\n    // Default gamma correction of 2.2 (sRGB)\n    this.options.gamma = 2.2;\n  } else if (is.number(gamma) && is.inRange(gamma, 1, 3)) {\n    this.options.gamma = gamma;\n  } else {\n    throw is.invalidParameterError('gamma', 'number between 1.0 and 3.0', gamma);\n  }\n  if (!is.defined(gammaOut)) {\n    // Default gamma correction for output is same as input\n    this.options.gammaOut = this.options.gamma;\n  } else if (is.number(gammaOut) && is.inRange(gammaOut, 1, 3)) {\n    this.options.gammaOut = gammaOut;\n  } else {\n    throw is.invalidParameterError('gammaOut', 'number between 1.0 and 3.0', gammaOut);\n  }\n  return this;\n}\n\n/**\n * Produce the \"negative\" of the image.\n *\n * @example\n * const output = await sharp(input)\n *   .negate()\n *   .toBuffer();\n *\n * @example\n * const output = await sharp(input)\n *   .negate({ alpha: false })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {Boolean} [options.alpha=true] Whether or not to negate any alpha channel\n * @returns {Sharp}\n */\nfunction negate (options) {\n  this.options.negate = is.bool(options) ? options : true;\n  if (is.plainObject(options) && 'alpha' in options) {\n    if (!is.bool(options.alpha)) {\n      throw is.invalidParameterError('alpha', 'should be boolean value', options.alpha);\n    } else {\n      this.options.negateAlpha = options.alpha;\n    }\n  }\n  return this;\n}\n\n/**\n * Enhance output image contrast by stretching its luminance to cover a full dynamic range.\n *\n * Uses a histogram-based approach, taking a default range of 1% to 99% to reduce sensitivity to noise at the extremes.\n *\n * Luminance values below the `lower` percentile will be underexposed by clipping to zero.\n * Luminance values above the `upper` percentile will be overexposed by clipping to the max pixel value.\n *\n * @example\n * const output = await sharp(input)\n *   .normalise()\n *   .toBuffer();\n *\n * @example\n * const output = await sharp(input)\n *   .normalise({ lower: 0, upper: 100 })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {number} [options.lower=1] - Percentile below which luminance values will be underexposed.\n * @param {number} [options.upper=99] - Percentile above which luminance values will be overexposed.\n * @returns {Sharp}\n */\nfunction normalise (options) {\n  if (is.plainObject(options)) {\n    if (is.defined(options.lower)) {\n      if (is.number(options.lower) && is.inRange(options.lower, 0, 99)) {\n        this.options.normaliseLower = options.lower;\n      } else {\n        throw is.invalidParameterError('lower', 'number between 0 and 99', options.lower);\n      }\n    }\n    if (is.defined(options.upper)) {\n      if (is.number(options.upper) && is.inRange(options.upper, 1, 100)) {\n        this.options.normaliseUpper = options.upper;\n      } else {\n        throw is.invalidParameterError('upper', 'number between 1 and 100', options.upper);\n      }\n    }\n  }\n  if (this.options.normaliseLower >= this.options.normaliseUpper) {\n    throw is.invalidParameterError('range', 'lower to be less than upper',\n      `${this.options.normaliseLower} >= ${this.options.normaliseUpper}`);\n  }\n  this.options.normalise = true;\n  return this;\n}\n\n/**\n * Alternative spelling of normalise.\n *\n * @example\n * const output = await sharp(input)\n *   .normalize()\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {number} [options.lower=1] - Percentile below which luminance values will be underexposed.\n * @param {number} [options.upper=99] - Percentile above which luminance values will be overexposed.\n * @returns {Sharp}\n */\nfunction normalize (options) {\n  return this.normalise(options);\n}\n\n/**\n * Perform contrast limiting adaptive histogram equalization\n * {@link https://en.wikipedia.org/wiki/Adaptive_histogram_equalization#Contrast_Limited_AHE|CLAHE}.\n *\n * This will, in general, enhance the clarity of the image by bringing out darker details.\n *\n * @since 0.28.3\n *\n * @example\n * const output = await sharp(input)\n *   .clahe({\n *     width: 3,\n *     height: 3,\n *   })\n *   .toBuffer();\n *\n * @param {Object} options\n * @param {number} options.width - Integral width of the search window, in pixels.\n * @param {number} options.height - Integral height of the search window, in pixels.\n * @param {number} [options.maxSlope=3] - Integral level of brightening, between 0 and 100, where 0 disables contrast limiting.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction clahe (options) {\n  if (is.plainObject(options)) {\n    if (is.integer(options.width) && options.width > 0) {\n      this.options.claheWidth = options.width;\n    } else {\n      throw is.invalidParameterError('width', 'integer greater than zero', options.width);\n    }\n    if (is.integer(options.height) && options.height > 0) {\n      this.options.claheHeight = options.height;\n    } else {\n      throw is.invalidParameterError('height', 'integer greater than zero', options.height);\n    }\n    if (is.defined(options.maxSlope)) {\n      if (is.integer(options.maxSlope) && is.inRange(options.maxSlope, 0, 100)) {\n        this.options.claheMaxSlope = options.maxSlope;\n      } else {\n        throw is.invalidParameterError('maxSlope', 'integer between 0 and 100', options.maxSlope);\n      }\n    }\n  } else {\n    throw is.invalidParameterError('options', 'plain object', options);\n  }\n  return this;\n}\n\n/**\n * Convolve the image with the specified kernel.\n *\n * @example\n * sharp(input)\n *   .convolve({\n *     width: 3,\n *     height: 3,\n *     kernel: [-1, 0, 1, -2, 0, 2, -1, 0, 1]\n *   })\n *   .raw()\n *   .toBuffer(function(err, data, info) {\n *     // data contains the raw pixel data representing the convolution\n *     // of the input image with the horizontal Sobel operator\n *   });\n *\n * @param {Object} kernel\n * @param {number} kernel.width - width of the kernel in pixels.\n * @param {number} kernel.height - height of the kernel in pixels.\n * @param {Array<number>} kernel.kernel - Array of length `width*height` containing the kernel values.\n * @param {number} [kernel.scale=sum] - the scale of the kernel in pixels.\n * @param {number} [kernel.offset=0] - the offset of the kernel in pixels.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction convolve (kernel) {\n  if (!is.object(kernel) || !Array.isArray(kernel.kernel) ||\n      !is.integer(kernel.width) || !is.integer(kernel.height) ||\n      !is.inRange(kernel.width, 3, 1001) || !is.inRange(kernel.height, 3, 1001) ||\n      kernel.height * kernel.width !== kernel.kernel.length\n  ) {\n    // must pass in a kernel\n    throw new Error('Invalid convolution kernel');\n  }\n  // Default scale is sum of kernel values\n  if (!is.integer(kernel.scale)) {\n    kernel.scale = kernel.kernel.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n  }\n  // Clip scale to a minimum value of 1\n  if (kernel.scale < 1) {\n    kernel.scale = 1;\n  }\n  if (!is.integer(kernel.offset)) {\n    kernel.offset = 0;\n  }\n  this.options.convKernel = kernel;\n  return this;\n}\n\n/**\n * Any pixel value greater than or equal to the threshold value will be set to 255, otherwise it will be set to 0.\n * @param {number} [threshold=128] - a value in the range 0-255 representing the level at which the threshold will be applied.\n * @param {Object} [options]\n * @param {Boolean} [options.greyscale=true] - convert to single channel greyscale.\n * @param {Boolean} [options.grayscale=true] - alternative spelling for greyscale.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction threshold (threshold, options) {\n  if (!is.defined(threshold)) {\n    this.options.threshold = 128;\n  } else if (is.bool(threshold)) {\n    this.options.threshold = threshold ? 128 : 0;\n  } else if (is.integer(threshold) && is.inRange(threshold, 0, 255)) {\n    this.options.threshold = threshold;\n  } else {\n    throw is.invalidParameterError('threshold', 'integer between 0 and 255', threshold);\n  }\n  if (!is.object(options) || options.greyscale === true || options.grayscale === true) {\n    this.options.thresholdGrayscale = true;\n  } else {\n    this.options.thresholdGrayscale = false;\n  }\n  return this;\n}\n\n/**\n * Perform a bitwise boolean operation with operand image.\n *\n * This operation creates an output image where each pixel is the result of\n * the selected bitwise boolean `operation` between the corresponding pixels of the input images.\n *\n * @param {Buffer|string} operand - Buffer containing image data or string containing the path to an image file.\n * @param {string} operator - one of `and`, `or` or `eor` to perform that bitwise operation, like the C logic operators `&`, `|` and `^` respectively.\n * @param {Object} [options]\n * @param {Object} [options.raw] - describes operand when using raw pixel data.\n * @param {number} [options.raw.width]\n * @param {number} [options.raw.height]\n * @param {number} [options.raw.channels]\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction boolean (operand, operator, options) {\n  this.options.boolean = this._createInputDescriptor(operand, options);\n  if (is.string(operator) && is.inArray(operator, ['and', 'or', 'eor'])) {\n    this.options.booleanOp = operator;\n  } else {\n    throw is.invalidParameterError('operator', 'one of: and, or, eor', operator);\n  }\n  return this;\n}\n\n/**\n * Apply the linear formula `a` * input + `b` to the image to adjust image levels.\n *\n * When a single number is provided, it will be used for all image channels.\n * When an array of numbers is provided, the array length must match the number of channels.\n *\n * @example\n * await sharp(input)\n *   .linear(0.5, 2)\n *   .toBuffer();\n *\n * @example\n * await sharp(rgbInput)\n *   .linear(\n *     [0.25, 0.5, 0.75],\n *     [150, 100, 50]\n *   )\n *   .toBuffer();\n *\n * @param {(number|number[])} [a=[]] multiplier\n * @param {(number|number[])} [b=[]] offset\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction linear (a, b) {\n  if (!is.defined(a) && is.number(b)) {\n    a = 1.0;\n  } else if (is.number(a) && !is.defined(b)) {\n    b = 0.0;\n  }\n  if (!is.defined(a)) {\n    this.options.linearA = [];\n  } else if (is.number(a)) {\n    this.options.linearA = [a];\n  } else if (Array.isArray(a) && a.length && a.every(is.number)) {\n    this.options.linearA = a;\n  } else {\n    throw is.invalidParameterError('a', 'number or array of numbers', a);\n  }\n  if (!is.defined(b)) {\n    this.options.linearB = [];\n  } else if (is.number(b)) {\n    this.options.linearB = [b];\n  } else if (Array.isArray(b) && b.length && b.every(is.number)) {\n    this.options.linearB = b;\n  } else {\n    throw is.invalidParameterError('b', 'number or array of numbers', b);\n  }\n  if (this.options.linearA.length !== this.options.linearB.length) {\n    throw new Error('Expected a and b to be arrays of the same length');\n  }\n  return this;\n}\n\n/**\n * Recombine the image with the specified matrix.\n *\n * @since 0.21.1\n *\n * @example\n * sharp(input)\n *   .recomb([\n *    [0.3588, 0.7044, 0.1368],\n *    [0.2990, 0.5870, 0.1140],\n *    [0.2392, 0.4696, 0.0912],\n *   ])\n *   .raw()\n *   .toBuffer(function(err, data, info) {\n *     // data contains the raw pixel data after applying the matrix\n *     // With this example input, a sepia filter has been applied\n *   });\n *\n * @param {Array<Array<number>>} inputMatrix - 3x3 or 4x4 Recombination matrix\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction recomb (inputMatrix) {\n  if (!Array.isArray(inputMatrix)) {\n    throw is.invalidParameterError('inputMatrix', 'array', inputMatrix);\n  }\n  if (inputMatrix.length !== 3 && inputMatrix.length !== 4) {\n    throw is.invalidParameterError('inputMatrix', '3x3 or 4x4 array', inputMatrix.length);\n  }\n  const recombMatrix = inputMatrix.flat().map(Number);\n  if (recombMatrix.length !== 9 && recombMatrix.length !== 16) {\n    throw is.invalidParameterError('inputMatrix', 'cardinality of 9 or 16', recombMatrix.length);\n  }\n  this.options.recombMatrix = recombMatrix;\n  return this;\n}\n\n/**\n * Transforms the image using brightness, saturation, hue rotation, and lightness.\n * Brightness and lightness both operate on luminance, with the difference being that\n * brightness is multiplicative whereas lightness is additive.\n *\n * @since 0.22.1\n *\n * @example\n * // increase brightness by a factor of 2\n * const output = await sharp(input)\n *   .modulate({\n *     brightness: 2\n *   })\n *   .toBuffer();\n *\n * @example\n * // hue-rotate by 180 degrees\n * const output = await sharp(input)\n *   .modulate({\n *     hue: 180\n *   })\n *   .toBuffer();\n *\n * @example\n * // increase lightness by +50\n * const output = await sharp(input)\n *   .modulate({\n *     lightness: 50\n *   })\n *   .toBuffer();\n *\n * @example\n * // decrease brightness and saturation while also hue-rotating by 90 degrees\n * const output = await sharp(input)\n *   .modulate({\n *     brightness: 0.5,\n *     saturation: 0.5,\n *     hue: 90,\n *   })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {number} [options.brightness] Brightness multiplier\n * @param {number} [options.saturation] Saturation multiplier\n * @param {number} [options.hue] Degrees for hue rotation\n * @param {number} [options.lightness] Lightness addend\n * @returns {Sharp}\n */\nfunction modulate (options) {\n  if (!is.plainObject(options)) {\n    throw is.invalidParameterError('options', 'plain object', options);\n  }\n  if ('brightness' in options) {\n    if (is.number(options.brightness) && options.brightness >= 0) {\n      this.options.brightness = options.brightness;\n    } else {\n      throw is.invalidParameterError('brightness', 'number above zero', options.brightness);\n    }\n  }\n  if ('saturation' in options) {\n    if (is.number(options.saturation) && options.saturation >= 0) {\n      this.options.saturation = options.saturation;\n    } else {\n      throw is.invalidParameterError('saturation', 'number above zero', options.saturation);\n    }\n  }\n  if ('hue' in options) {\n    if (is.integer(options.hue)) {\n      this.options.hue = options.hue % 360;\n    } else {\n      throw is.invalidParameterError('hue', 'number', options.hue);\n    }\n  }\n  if ('lightness' in options) {\n    if (is.number(options.lightness)) {\n      this.options.lightness = options.lightness;\n    } else {\n      throw is.invalidParameterError('lightness', 'number', options.lightness);\n    }\n  }\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with operation-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    autoOrient,\n    rotate,\n    flip,\n    flop,\n    affine,\n    sharpen,\n    erode,\n    dilate,\n    median,\n    blur,\n    flatten,\n    unflatten,\n    gamma,\n    negate,\n    normalise,\n    normalize,\n    clahe,\n    convolve,\n    threshold,\n    boolean,\n    linear,\n    recomb,\n    modulate\n  });\n};\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// node_modules/color/index.js\nvar index_exports = {};\n__export(index_exports, {\n  default: () => index_default\n});\nmodule.exports = __toCommonJS(index_exports);\n\n// node_modules/color-name/index.js\nvar color_name_default = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 134, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 250, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  grey: [128, 128, 128],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 221],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  rebeccapurple: [102, 51, 153],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [112, 128, 144],\n  slategrey: [112, 128, 144],\n  snow: [255, 250, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 50]\n};\n\n// node_modules/color-string/index.js\nvar reverseNames = /* @__PURE__ */ Object.create(null);\nfor (const name in color_name_default) {\n  if (Object.hasOwn(color_name_default, name)) {\n    reverseNames[color_name_default[name]] = name;\n  }\n}\nvar cs = {\n  to: {},\n  get: {}\n};\ncs.get = function(string) {\n  const prefix = string.slice(0, 3).toLowerCase();\n  let value;\n  let model;\n  switch (prefix) {\n    case \"hsl\": {\n      value = cs.get.hsl(string);\n      model = \"hsl\";\n      break;\n    }\n    case \"hwb\": {\n      value = cs.get.hwb(string);\n      model = \"hwb\";\n      break;\n    }\n    default: {\n      value = cs.get.rgb(string);\n      model = \"rgb\";\n      break;\n    }\n  }\n  if (!value) {\n    return null;\n  }\n  return { model, value };\n};\ncs.get.rgb = function(string) {\n  if (!string) {\n    return null;\n  }\n  const abbr = /^#([a-f\\d]{3,4})$/i;\n  const hex = /^#([a-f\\d]{6})([a-f\\d]{2})?$/i;\n  const rgba = /^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[\\s,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n  const per = /^rgba?\\(\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,|/]\\s*([+-]?[\\d.]+)(%?)\\s*)?\\)$/;\n  const keyword = /^(\\w+)$/;\n  let rgb = [0, 0, 0, 1];\n  let match;\n  let i;\n  let hexAlpha;\n  if (match = string.match(hex)) {\n    hexAlpha = match[2];\n    match = match[1];\n    for (i = 0; i < 3; i++) {\n      const i2 = i * 2;\n      rgb[i] = Number.parseInt(match.slice(i2, i2 + 2), 16);\n    }\n    if (hexAlpha) {\n      rgb[3] = Number.parseInt(hexAlpha, 16) / 255;\n    }\n  } else if (match = string.match(abbr)) {\n    match = match[1];\n    hexAlpha = match[3];\n    for (i = 0; i < 3; i++) {\n      rgb[i] = Number.parseInt(match[i] + match[i], 16);\n    }\n    if (hexAlpha) {\n      rgb[3] = Number.parseInt(hexAlpha + hexAlpha, 16) / 255;\n    }\n  } else if (match = string.match(rgba)) {\n    for (i = 0; i < 3; i++) {\n      rgb[i] = Number.parseInt(match[i + 1], 10);\n    }\n    if (match[4]) {\n      rgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n    }\n  } else if (match = string.match(per)) {\n    for (i = 0; i < 3; i++) {\n      rgb[i] = Math.round(Number.parseFloat(match[i + 1]) * 2.55);\n    }\n    if (match[4]) {\n      rgb[3] = match[5] ? Number.parseFloat(match[4]) * 0.01 : Number.parseFloat(match[4]);\n    }\n  } else if (match = string.match(keyword)) {\n    if (match[1] === \"transparent\") {\n      return [0, 0, 0, 0];\n    }\n    if (!Object.hasOwn(color_name_default, match[1])) {\n      return null;\n    }\n    rgb = color_name_default[match[1]];\n    rgb[3] = 1;\n    return rgb;\n  } else {\n    return null;\n  }\n  for (i = 0; i < 3; i++) {\n    rgb[i] = clamp(rgb[i], 0, 255);\n  }\n  rgb[3] = clamp(rgb[3], 0, 1);\n  return rgb;\n};\ncs.get.hsl = function(string) {\n  if (!string) {\n    return null;\n  }\n  const hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d.]+)%\\s*,?\\s*([+-]?[\\d.]+)%\\s*(?:[,|/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n  const match = string.match(hsl);\n  if (match) {\n    const alpha = Number.parseFloat(match[4]);\n    const h = (Number.parseFloat(match[1]) % 360 + 360) % 360;\n    const s = clamp(Number.parseFloat(match[2]), 0, 100);\n    const l = clamp(Number.parseFloat(match[3]), 0, 100);\n    const a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n    return [h, s, l, a];\n  }\n  return null;\n};\ncs.get.hwb = function(string) {\n  if (!string) {\n    return null;\n  }\n  const hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*[\\s,]\\s*([+-]?[\\d.]+)%\\s*(?:[\\s,]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/;\n  const match = string.match(hwb);\n  if (match) {\n    const alpha = Number.parseFloat(match[4]);\n    const h = (Number.parseFloat(match[1]) % 360 + 360) % 360;\n    const w = clamp(Number.parseFloat(match[2]), 0, 100);\n    const b = clamp(Number.parseFloat(match[3]), 0, 100);\n    const a = clamp(Number.isNaN(alpha) ? 1 : alpha, 0, 1);\n    return [h, w, b, a];\n  }\n  return null;\n};\ncs.to.hex = function(...rgba) {\n  return \"#\" + hexDouble(rgba[0]) + hexDouble(rgba[1]) + hexDouble(rgba[2]) + (rgba[3] < 1 ? hexDouble(Math.round(rgba[3] * 255)) : \"\");\n};\ncs.to.rgb = function(...rgba) {\n  return rgba.length < 4 || rgba[3] === 1 ? \"rgb(\" + Math.round(rgba[0]) + \", \" + Math.round(rgba[1]) + \", \" + Math.round(rgba[2]) + \")\" : \"rgba(\" + Math.round(rgba[0]) + \", \" + Math.round(rgba[1]) + \", \" + Math.round(rgba[2]) + \", \" + rgba[3] + \")\";\n};\ncs.to.rgb.percent = function(...rgba) {\n  const r = Math.round(rgba[0] / 255 * 100);\n  const g = Math.round(rgba[1] / 255 * 100);\n  const b = Math.round(rgba[2] / 255 * 100);\n  return rgba.length < 4 || rgba[3] === 1 ? \"rgb(\" + r + \"%, \" + g + \"%, \" + b + \"%)\" : \"rgba(\" + r + \"%, \" + g + \"%, \" + b + \"%, \" + rgba[3] + \")\";\n};\ncs.to.hsl = function(...hsla) {\n  return hsla.length < 4 || hsla[3] === 1 ? \"hsl(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%)\" : \"hsla(\" + hsla[0] + \", \" + hsla[1] + \"%, \" + hsla[2] + \"%, \" + hsla[3] + \")\";\n};\ncs.to.hwb = function(...hwba) {\n  let a = \"\";\n  if (hwba.length >= 4 && hwba[3] !== 1) {\n    a = \", \" + hwba[3];\n  }\n  return \"hwb(\" + hwba[0] + \", \" + hwba[1] + \"%, \" + hwba[2] + \"%\" + a + \")\";\n};\ncs.to.keyword = function(...rgb) {\n  return reverseNames[rgb.slice(0, 3)];\n};\nfunction clamp(number_, min, max) {\n  return Math.min(Math.max(min, number_), max);\n}\nfunction hexDouble(number_) {\n  const string_ = Math.round(number_).toString(16).toUpperCase();\n  return string_.length < 2 ? \"0\" + string_ : string_;\n}\nvar color_string_default = cs;\n\n// node_modules/color-convert/conversions.js\nvar reverseKeywords = {};\nfor (const key of Object.keys(color_name_default)) {\n  reverseKeywords[color_name_default[key]] = key;\n}\nvar convert = {\n  rgb: { channels: 3, labels: \"rgb\" },\n  hsl: { channels: 3, labels: \"hsl\" },\n  hsv: { channels: 3, labels: \"hsv\" },\n  hwb: { channels: 3, labels: \"hwb\" },\n  cmyk: { channels: 4, labels: \"cmyk\" },\n  xyz: { channels: 3, labels: \"xyz\" },\n  lab: { channels: 3, labels: \"lab\" },\n  oklab: { channels: 3, labels: [\"okl\", \"oka\", \"okb\"] },\n  lch: { channels: 3, labels: \"lch\" },\n  oklch: { channels: 3, labels: [\"okl\", \"okc\", \"okh\"] },\n  hex: { channels: 1, labels: [\"hex\"] },\n  keyword: { channels: 1, labels: [\"keyword\"] },\n  ansi16: { channels: 1, labels: [\"ansi16\"] },\n  ansi256: { channels: 1, labels: [\"ansi256\"] },\n  hcg: { channels: 3, labels: [\"h\", \"c\", \"g\"] },\n  apple: { channels: 3, labels: [\"r16\", \"g16\", \"b16\"] },\n  gray: { channels: 1, labels: [\"gray\"] }\n};\nvar conversions_default = convert;\nvar LAB_FT = (6 / 29) ** 3;\nfunction srgbNonlinearTransform(c) {\n  const cc = c > 31308e-7 ? 1.055 * c ** (1 / 2.4) - 0.055 : c * 12.92;\n  return Math.min(Math.max(0, cc), 1);\n}\nfunction srgbNonlinearTransformInv(c) {\n  return c > 0.04045 ? ((c + 0.055) / 1.055) ** 2.4 : c / 12.92;\n}\nfor (const model of Object.keys(convert)) {\n  if (!(\"channels\" in convert[model])) {\n    throw new Error(\"missing channels property: \" + model);\n  }\n  if (!(\"labels\" in convert[model])) {\n    throw new Error(\"missing channel labels property: \" + model);\n  }\n  if (convert[model].labels.length !== convert[model].channels) {\n    throw new Error(\"channel and label counts mismatch: \" + model);\n  }\n  const { channels, labels } = convert[model];\n  delete convert[model].channels;\n  delete convert[model].labels;\n  Object.defineProperty(convert[model], \"channels\", { value: channels });\n  Object.defineProperty(convert[model], \"labels\", { value: labels });\n}\nconvert.rgb.hsl = function(rgb) {\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const min = Math.min(r, g, b);\n  const max = Math.max(r, g, b);\n  const delta = max - min;\n  let h;\n  let s;\n  switch (max) {\n    case min: {\n      h = 0;\n      break;\n    }\n    case r: {\n      h = (g - b) / delta;\n      break;\n    }\n    case g: {\n      h = 2 + (b - r) / delta;\n      break;\n    }\n    case b: {\n      h = 4 + (r - g) / delta;\n      break;\n    }\n  }\n  h = Math.min(h * 60, 360);\n  if (h < 0) {\n    h += 360;\n  }\n  const l = (min + max) / 2;\n  if (max === min) {\n    s = 0;\n  } else if (l <= 0.5) {\n    s = delta / (max + min);\n  } else {\n    s = delta / (2 - max - min);\n  }\n  return [h, s * 100, l * 100];\n};\nconvert.rgb.hsv = function(rgb) {\n  let rdif;\n  let gdif;\n  let bdif;\n  let h;\n  let s;\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const v = Math.max(r, g, b);\n  const diff = v - Math.min(r, g, b);\n  const diffc = function(c) {\n    return (v - c) / 6 / diff + 1 / 2;\n  };\n  if (diff === 0) {\n    h = 0;\n    s = 0;\n  } else {\n    s = diff / v;\n    rdif = diffc(r);\n    gdif = diffc(g);\n    bdif = diffc(b);\n    switch (v) {\n      case r: {\n        h = bdif - gdif;\n        break;\n      }\n      case g: {\n        h = 1 / 3 + rdif - bdif;\n        break;\n      }\n      case b: {\n        h = 2 / 3 + gdif - rdif;\n        break;\n      }\n    }\n    if (h < 0) {\n      h += 1;\n    } else if (h > 1) {\n      h -= 1;\n    }\n  }\n  return [\n    h * 360,\n    s * 100,\n    v * 100\n  ];\n};\nconvert.rgb.hwb = function(rgb) {\n  const r = rgb[0];\n  const g = rgb[1];\n  let b = rgb[2];\n  const h = convert.rgb.hsl(rgb)[0];\n  const w = 1 / 255 * Math.min(r, Math.min(g, b));\n  b = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n  return [h, w * 100, b * 100];\n};\nconvert.rgb.oklab = function(rgb) {\n  const r = srgbNonlinearTransformInv(rgb[0] / 255);\n  const g = srgbNonlinearTransformInv(rgb[1] / 255);\n  const b = srgbNonlinearTransformInv(rgb[2] / 255);\n  const lp = Math.cbrt(0.4122214708 * r + 0.5363325363 * g + 0.0514459929 * b);\n  const mp = Math.cbrt(0.2119034982 * r + 0.6806995451 * g + 0.1073969566 * b);\n  const sp = Math.cbrt(0.0883024619 * r + 0.2817188376 * g + 0.6299787005 * b);\n  const l = 0.2104542553 * lp + 0.793617785 * mp - 0.0040720468 * sp;\n  const aa = 1.9779984951 * lp - 2.428592205 * mp + 0.4505937099 * sp;\n  const bb = 0.0259040371 * lp + 0.7827717662 * mp - 0.808675766 * sp;\n  return [l * 100, aa * 100, bb * 100];\n};\nconvert.rgb.cmyk = function(rgb) {\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const k = Math.min(1 - r, 1 - g, 1 - b);\n  const c = (1 - r - k) / (1 - k) || 0;\n  const m = (1 - g - k) / (1 - k) || 0;\n  const y = (1 - b - k) / (1 - k) || 0;\n  return [c * 100, m * 100, y * 100, k * 100];\n};\nfunction comparativeDistance(x, y) {\n  return (x[0] - y[0]) ** 2 + (x[1] - y[1]) ** 2 + (x[2] - y[2]) ** 2;\n}\nconvert.rgb.keyword = function(rgb) {\n  const reversed = reverseKeywords[rgb];\n  if (reversed) {\n    return reversed;\n  }\n  let currentClosestDistance = Number.POSITIVE_INFINITY;\n  let currentClosestKeyword;\n  for (const keyword of Object.keys(color_name_default)) {\n    const value = color_name_default[keyword];\n    const distance = comparativeDistance(rgb, value);\n    if (distance < currentClosestDistance) {\n      currentClosestDistance = distance;\n      currentClosestKeyword = keyword;\n    }\n  }\n  return currentClosestKeyword;\n};\nconvert.keyword.rgb = function(keyword) {\n  return color_name_default[keyword];\n};\nconvert.rgb.xyz = function(rgb) {\n  const r = srgbNonlinearTransformInv(rgb[0] / 255);\n  const g = srgbNonlinearTransformInv(rgb[1] / 255);\n  const b = srgbNonlinearTransformInv(rgb[2] / 255);\n  const x = r * 0.4124564 + g * 0.3575761 + b * 0.1804375;\n  const y = r * 0.2126729 + g * 0.7151522 + b * 0.072175;\n  const z = r * 0.0193339 + g * 0.119192 + b * 0.9503041;\n  return [x * 100, y * 100, z * 100];\n};\nconvert.rgb.lab = function(rgb) {\n  const xyz = convert.rgb.xyz(rgb);\n  let x = xyz[0];\n  let y = xyz[1];\n  let z = xyz[2];\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n  x = x > LAB_FT ? x ** (1 / 3) : 7.787 * x + 16 / 116;\n  y = y > LAB_FT ? y ** (1 / 3) : 7.787 * y + 16 / 116;\n  z = z > LAB_FT ? z ** (1 / 3) : 7.787 * z + 16 / 116;\n  const l = 116 * y - 16;\n  const a = 500 * (x - y);\n  const b = 200 * (y - z);\n  return [l, a, b];\n};\nconvert.hsl.rgb = function(hsl) {\n  const h = hsl[0] / 360;\n  const s = hsl[1] / 100;\n  const l = hsl[2] / 100;\n  let t3;\n  let value;\n  if (s === 0) {\n    value = l * 255;\n    return [value, value, value];\n  }\n  const t2 = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const t1 = 2 * l - t2;\n  const rgb = [0, 0, 0];\n  for (let i = 0; i < 3; i++) {\n    t3 = h + 1 / 3 * -(i - 1);\n    if (t3 < 0) {\n      t3++;\n    }\n    if (t3 > 1) {\n      t3--;\n    }\n    if (6 * t3 < 1) {\n      value = t1 + (t2 - t1) * 6 * t3;\n    } else if (2 * t3 < 1) {\n      value = t2;\n    } else if (3 * t3 < 2) {\n      value = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n    } else {\n      value = t1;\n    }\n    rgb[i] = value * 255;\n  }\n  return rgb;\n};\nconvert.hsl.hsv = function(hsl) {\n  const h = hsl[0];\n  let s = hsl[1] / 100;\n  let l = hsl[2] / 100;\n  let smin = s;\n  const lmin = Math.max(l, 0.01);\n  l *= 2;\n  s *= l <= 1 ? l : 2 - l;\n  smin *= lmin <= 1 ? lmin : 2 - lmin;\n  const v = (l + s) / 2;\n  const sv = l === 0 ? 2 * smin / (lmin + smin) : 2 * s / (l + s);\n  return [h, sv * 100, v * 100];\n};\nconvert.hsv.rgb = function(hsv) {\n  const h = hsv[0] / 60;\n  const s = hsv[1] / 100;\n  let v = hsv[2] / 100;\n  const hi = Math.floor(h) % 6;\n  const f = h - Math.floor(h);\n  const p = 255 * v * (1 - s);\n  const q = 255 * v * (1 - s * f);\n  const t = 255 * v * (1 - s * (1 - f));\n  v *= 255;\n  switch (hi) {\n    case 0: {\n      return [v, t, p];\n    }\n    case 1: {\n      return [q, v, p];\n    }\n    case 2: {\n      return [p, v, t];\n    }\n    case 3: {\n      return [p, q, v];\n    }\n    case 4: {\n      return [t, p, v];\n    }\n    case 5: {\n      return [v, p, q];\n    }\n  }\n};\nconvert.hsv.hsl = function(hsv) {\n  const h = hsv[0];\n  const s = hsv[1] / 100;\n  const v = hsv[2] / 100;\n  const vmin = Math.max(v, 0.01);\n  let sl;\n  let l;\n  l = (2 - s) * v;\n  const lmin = (2 - s) * vmin;\n  sl = s * vmin;\n  sl /= lmin <= 1 ? lmin : 2 - lmin;\n  sl = sl || 0;\n  l /= 2;\n  return [h, sl * 100, l * 100];\n};\nconvert.hwb.rgb = function(hwb) {\n  const h = hwb[0] / 360;\n  let wh = hwb[1] / 100;\n  let bl = hwb[2] / 100;\n  const ratio = wh + bl;\n  let f;\n  if (ratio > 1) {\n    wh /= ratio;\n    bl /= ratio;\n  }\n  const i = Math.floor(6 * h);\n  const v = 1 - bl;\n  f = 6 * h - i;\n  if ((i & 1) !== 0) {\n    f = 1 - f;\n  }\n  const n = wh + f * (v - wh);\n  let r;\n  let g;\n  let b;\n  switch (i) {\n    default:\n    case 6:\n    case 0: {\n      r = v;\n      g = n;\n      b = wh;\n      break;\n    }\n    case 1: {\n      r = n;\n      g = v;\n      b = wh;\n      break;\n    }\n    case 2: {\n      r = wh;\n      g = v;\n      b = n;\n      break;\n    }\n    case 3: {\n      r = wh;\n      g = n;\n      b = v;\n      break;\n    }\n    case 4: {\n      r = n;\n      g = wh;\n      b = v;\n      break;\n    }\n    case 5: {\n      r = v;\n      g = wh;\n      b = n;\n      break;\n    }\n  }\n  return [r * 255, g * 255, b * 255];\n};\nconvert.cmyk.rgb = function(cmyk) {\n  const c = cmyk[0] / 100;\n  const m = cmyk[1] / 100;\n  const y = cmyk[2] / 100;\n  const k = cmyk[3] / 100;\n  const r = 1 - Math.min(1, c * (1 - k) + k);\n  const g = 1 - Math.min(1, m * (1 - k) + k);\n  const b = 1 - Math.min(1, y * (1 - k) + k);\n  return [r * 255, g * 255, b * 255];\n};\nconvert.xyz.rgb = function(xyz) {\n  const x = xyz[0] / 100;\n  const y = xyz[1] / 100;\n  const z = xyz[2] / 100;\n  let r;\n  let g;\n  let b;\n  r = x * 3.2404542 + y * -1.5371385 + z * -0.4985314;\n  g = x * -0.969266 + y * 1.8760108 + z * 0.041556;\n  b = x * 0.0556434 + y * -0.2040259 + z * 1.0572252;\n  r = srgbNonlinearTransform(r);\n  g = srgbNonlinearTransform(g);\n  b = srgbNonlinearTransform(b);\n  return [r * 255, g * 255, b * 255];\n};\nconvert.xyz.lab = function(xyz) {\n  let x = xyz[0];\n  let y = xyz[1];\n  let z = xyz[2];\n  x /= 95.047;\n  y /= 100;\n  z /= 108.883;\n  x = x > LAB_FT ? x ** (1 / 3) : 7.787 * x + 16 / 116;\n  y = y > LAB_FT ? y ** (1 / 3) : 7.787 * y + 16 / 116;\n  z = z > LAB_FT ? z ** (1 / 3) : 7.787 * z + 16 / 116;\n  const l = 116 * y - 16;\n  const a = 500 * (x - y);\n  const b = 200 * (y - z);\n  return [l, a, b];\n};\nconvert.xyz.oklab = function(xyz) {\n  const x = xyz[0] / 100;\n  const y = xyz[1] / 100;\n  const z = xyz[2] / 100;\n  const lp = Math.cbrt(0.8189330101 * x + 0.3618667424 * y - 0.1288597137 * z);\n  const mp = Math.cbrt(0.0329845436 * x + 0.9293118715 * y + 0.0361456387 * z);\n  const sp = Math.cbrt(0.0482003018 * x + 0.2643662691 * y + 0.633851707 * z);\n  const l = 0.2104542553 * lp + 0.793617785 * mp - 0.0040720468 * sp;\n  const a = 1.9779984951 * lp - 2.428592205 * mp + 0.4505937099 * sp;\n  const b = 0.0259040371 * lp + 0.7827717662 * mp - 0.808675766 * sp;\n  return [l * 100, a * 100, b * 100];\n};\nconvert.oklab.oklch = function(oklab) {\n  return convert.lab.lch(oklab);\n};\nconvert.oklab.xyz = function(oklab) {\n  const ll = oklab[0] / 100;\n  const a = oklab[1] / 100;\n  const b = oklab[2] / 100;\n  const l = (0.999999998 * ll + 0.396337792 * a + 0.215803758 * b) ** 3;\n  const m = (1.000000008 * ll - 0.105561342 * a - 0.063854175 * b) ** 3;\n  const s = (1.000000055 * ll - 0.089484182 * a - 1.291485538 * b) ** 3;\n  const x = 1.227013851 * l - 0.55779998 * m + 0.281256149 * s;\n  const y = -0.040580178 * l + 1.11225687 * m - 0.071676679 * s;\n  const z = -0.076381285 * l - 0.421481978 * m + 1.58616322 * s;\n  return [x * 100, y * 100, z * 100];\n};\nconvert.oklab.rgb = function(oklab) {\n  const ll = oklab[0] / 100;\n  const aa = oklab[1] / 100;\n  const bb = oklab[2] / 100;\n  const l = (ll + 0.3963377774 * aa + 0.2158037573 * bb) ** 3;\n  const m = (ll - 0.1055613458 * aa - 0.0638541728 * bb) ** 3;\n  const s = (ll - 0.0894841775 * aa - 1.291485548 * bb) ** 3;\n  const r = srgbNonlinearTransform(4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s);\n  const g = srgbNonlinearTransform(-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s);\n  const b = srgbNonlinearTransform(-0.0041960863 * l - 0.7034186147 * m + 1.707614701 * s);\n  return [r * 255, g * 255, b * 255];\n};\nconvert.oklch.oklab = function(oklch) {\n  return convert.lch.lab(oklch);\n};\nconvert.lab.xyz = function(lab) {\n  const l = lab[0];\n  const a = lab[1];\n  const b = lab[2];\n  let x;\n  let y;\n  let z;\n  y = (l + 16) / 116;\n  x = a / 500 + y;\n  z = y - b / 200;\n  const y2 = y ** 3;\n  const x2 = x ** 3;\n  const z2 = z ** 3;\n  y = y2 > LAB_FT ? y2 : (y - 16 / 116) / 7.787;\n  x = x2 > LAB_FT ? x2 : (x - 16 / 116) / 7.787;\n  z = z2 > LAB_FT ? z2 : (z - 16 / 116) / 7.787;\n  x *= 95.047;\n  y *= 100;\n  z *= 108.883;\n  return [x, y, z];\n};\nconvert.lab.lch = function(lab) {\n  const l = lab[0];\n  const a = lab[1];\n  const b = lab[2];\n  let h;\n  const hr = Math.atan2(b, a);\n  h = hr * 360 / 2 / Math.PI;\n  if (h < 0) {\n    h += 360;\n  }\n  const c = Math.sqrt(a * a + b * b);\n  return [l, c, h];\n};\nconvert.lch.lab = function(lch) {\n  const l = lch[0];\n  const c = lch[1];\n  const h = lch[2];\n  const hr = h / 360 * 2 * Math.PI;\n  const a = c * Math.cos(hr);\n  const b = c * Math.sin(hr);\n  return [l, a, b];\n};\nconvert.rgb.ansi16 = function(args, saturation = null) {\n  const [r, g, b] = args;\n  let value = saturation === null ? convert.rgb.hsv(args)[2] : saturation;\n  value = Math.round(value / 50);\n  if (value === 0) {\n    return 30;\n  }\n  let ansi = 30 + (Math.round(b / 255) << 2 | Math.round(g / 255) << 1 | Math.round(r / 255));\n  if (value === 2) {\n    ansi += 60;\n  }\n  return ansi;\n};\nconvert.hsv.ansi16 = function(args) {\n  return convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\nconvert.rgb.ansi256 = function(args) {\n  const r = args[0];\n  const g = args[1];\n  const b = args[2];\n  if (r >> 4 === g >> 4 && g >> 4 === b >> 4) {\n    if (r < 8) {\n      return 16;\n    }\n    if (r > 248) {\n      return 231;\n    }\n    return Math.round((r - 8) / 247 * 24) + 232;\n  }\n  const ansi = 16 + 36 * Math.round(r / 255 * 5) + 6 * Math.round(g / 255 * 5) + Math.round(b / 255 * 5);\n  return ansi;\n};\nconvert.ansi16.rgb = function(args) {\n  args = args[0];\n  let color = args % 10;\n  if (color === 0 || color === 7) {\n    if (args > 50) {\n      color += 3.5;\n    }\n    color = color / 10.5 * 255;\n    return [color, color, color];\n  }\n  const mult = (Math.trunc(args > 50) + 1) * 0.5;\n  const r = (color & 1) * mult * 255;\n  const g = (color >> 1 & 1) * mult * 255;\n  const b = (color >> 2 & 1) * mult * 255;\n  return [r, g, b];\n};\nconvert.ansi256.rgb = function(args) {\n  args = args[0];\n  if (args >= 232) {\n    const c = (args - 232) * 10 + 8;\n    return [c, c, c];\n  }\n  args -= 16;\n  let rem;\n  const r = Math.floor(args / 36) / 5 * 255;\n  const g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n  const b = rem % 6 / 5 * 255;\n  return [r, g, b];\n};\nconvert.rgb.hex = function(args) {\n  const integer = ((Math.round(args[0]) & 255) << 16) + ((Math.round(args[1]) & 255) << 8) + (Math.round(args[2]) & 255);\n  const string = integer.toString(16).toUpperCase();\n  return \"000000\".slice(string.length) + string;\n};\nconvert.hex.rgb = function(args) {\n  const match = args.toString(16).match(/[a-f\\d]{6}|[a-f\\d]{3}/i);\n  if (!match) {\n    return [0, 0, 0];\n  }\n  let colorString = match[0];\n  if (match[0].length === 3) {\n    colorString = [...colorString].map((char) => char + char).join(\"\");\n  }\n  const integer = Number.parseInt(colorString, 16);\n  const r = integer >> 16 & 255;\n  const g = integer >> 8 & 255;\n  const b = integer & 255;\n  return [r, g, b];\n};\nconvert.rgb.hcg = function(rgb) {\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const max = Math.max(Math.max(r, g), b);\n  const min = Math.min(Math.min(r, g), b);\n  const chroma = max - min;\n  let hue;\n  const grayscale = chroma < 1 ? min / (1 - chroma) : 0;\n  if (chroma <= 0) {\n    hue = 0;\n  } else if (max === r) {\n    hue = (g - b) / chroma % 6;\n  } else if (max === g) {\n    hue = 2 + (b - r) / chroma;\n  } else {\n    hue = 4 + (r - g) / chroma;\n  }\n  hue /= 6;\n  hue %= 1;\n  return [hue * 360, chroma * 100, grayscale * 100];\n};\nconvert.hsl.hcg = function(hsl) {\n  const s = hsl[1] / 100;\n  const l = hsl[2] / 100;\n  const c = l < 0.5 ? 2 * s * l : 2 * s * (1 - l);\n  let f = 0;\n  if (c < 1) {\n    f = (l - 0.5 * c) / (1 - c);\n  }\n  return [hsl[0], c * 100, f * 100];\n};\nconvert.hsv.hcg = function(hsv) {\n  const s = hsv[1] / 100;\n  const v = hsv[2] / 100;\n  const c = s * v;\n  let f = 0;\n  if (c < 1) {\n    f = (v - c) / (1 - c);\n  }\n  return [hsv[0], c * 100, f * 100];\n};\nconvert.hcg.rgb = function(hcg) {\n  const h = hcg[0] / 360;\n  const c = hcg[1] / 100;\n  const g = hcg[2] / 100;\n  if (c === 0) {\n    return [g * 255, g * 255, g * 255];\n  }\n  const pure = [0, 0, 0];\n  const hi = h % 1 * 6;\n  const v = hi % 1;\n  const w = 1 - v;\n  let mg = 0;\n  switch (Math.floor(hi)) {\n    case 0: {\n      pure[0] = 1;\n      pure[1] = v;\n      pure[2] = 0;\n      break;\n    }\n    case 1: {\n      pure[0] = w;\n      pure[1] = 1;\n      pure[2] = 0;\n      break;\n    }\n    case 2: {\n      pure[0] = 0;\n      pure[1] = 1;\n      pure[2] = v;\n      break;\n    }\n    case 3: {\n      pure[0] = 0;\n      pure[1] = w;\n      pure[2] = 1;\n      break;\n    }\n    case 4: {\n      pure[0] = v;\n      pure[1] = 0;\n      pure[2] = 1;\n      break;\n    }\n    default: {\n      pure[0] = 1;\n      pure[1] = 0;\n      pure[2] = w;\n    }\n  }\n  mg = (1 - c) * g;\n  return [\n    (c * pure[0] + mg) * 255,\n    (c * pure[1] + mg) * 255,\n    (c * pure[2] + mg) * 255\n  ];\n};\nconvert.hcg.hsv = function(hcg) {\n  const c = hcg[1] / 100;\n  const g = hcg[2] / 100;\n  const v = c + g * (1 - c);\n  let f = 0;\n  if (v > 0) {\n    f = c / v;\n  }\n  return [hcg[0], f * 100, v * 100];\n};\nconvert.hcg.hsl = function(hcg) {\n  const c = hcg[1] / 100;\n  const g = hcg[2] / 100;\n  const l = g * (1 - c) + 0.5 * c;\n  let s = 0;\n  if (l > 0 && l < 0.5) {\n    s = c / (2 * l);\n  } else if (l >= 0.5 && l < 1) {\n    s = c / (2 * (1 - l));\n  }\n  return [hcg[0], s * 100, l * 100];\n};\nconvert.hcg.hwb = function(hcg) {\n  const c = hcg[1] / 100;\n  const g = hcg[2] / 100;\n  const v = c + g * (1 - c);\n  return [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\nconvert.hwb.hcg = function(hwb) {\n  const w = hwb[1] / 100;\n  const b = hwb[2] / 100;\n  const v = 1 - b;\n  const c = v - w;\n  let g = 0;\n  if (c < 1) {\n    g = (v - c) / (1 - c);\n  }\n  return [hwb[0], c * 100, g * 100];\n};\nconvert.apple.rgb = function(apple) {\n  return [apple[0] / 65535 * 255, apple[1] / 65535 * 255, apple[2] / 65535 * 255];\n};\nconvert.rgb.apple = function(rgb) {\n  return [rgb[0] / 255 * 65535, rgb[1] / 255 * 65535, rgb[2] / 255 * 65535];\n};\nconvert.gray.rgb = function(args) {\n  return [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\nconvert.gray.hsl = function(args) {\n  return [0, 0, args[0]];\n};\nconvert.gray.hsv = convert.gray.hsl;\nconvert.gray.hwb = function(gray) {\n  return [0, 100, gray[0]];\n};\nconvert.gray.cmyk = function(gray) {\n  return [0, 0, 0, gray[0]];\n};\nconvert.gray.lab = function(gray) {\n  return [gray[0], 0, 0];\n};\nconvert.gray.hex = function(gray) {\n  const value = Math.round(gray[0] / 100 * 255) & 255;\n  const integer = (value << 16) + (value << 8) + value;\n  const string = integer.toString(16).toUpperCase();\n  return \"000000\".slice(string.length) + string;\n};\nconvert.rgb.gray = function(rgb) {\n  const value = (rgb[0] + rgb[1] + rgb[2]) / 3;\n  return [value / 255 * 100];\n};\n\n// node_modules/color-convert/route.js\nfunction buildGraph() {\n  const graph = {};\n  const models2 = Object.keys(conversions_default);\n  for (let { length } = models2, i = 0; i < length; i++) {\n    graph[models2[i]] = {\n      // http://jsperf.com/1-vs-infinity\n      // micro-opt, but this is simple.\n      distance: -1,\n      parent: null\n    };\n  }\n  return graph;\n}\nfunction deriveBFS(fromModel) {\n  const graph = buildGraph();\n  const queue = [fromModel];\n  graph[fromModel].distance = 0;\n  while (queue.length > 0) {\n    const current = queue.pop();\n    const adjacents = Object.keys(conversions_default[current]);\n    for (let { length } = adjacents, i = 0; i < length; i++) {\n      const adjacent = adjacents[i];\n      const node = graph[adjacent];\n      if (node.distance === -1) {\n        node.distance = graph[current].distance + 1;\n        node.parent = current;\n        queue.unshift(adjacent);\n      }\n    }\n  }\n  return graph;\n}\nfunction link(from, to) {\n  return function(args) {\n    return to(from(args));\n  };\n}\nfunction wrapConversion(toModel, graph) {\n  const path = [graph[toModel].parent, toModel];\n  let fn = conversions_default[graph[toModel].parent][toModel];\n  let cur = graph[toModel].parent;\n  while (graph[cur].parent) {\n    path.unshift(graph[cur].parent);\n    fn = link(conversions_default[graph[cur].parent][cur], fn);\n    cur = graph[cur].parent;\n  }\n  fn.conversion = path;\n  return fn;\n}\nfunction route(fromModel) {\n  const graph = deriveBFS(fromModel);\n  const conversion = {};\n  const models2 = Object.keys(graph);\n  for (let { length } = models2, i = 0; i < length; i++) {\n    const toModel = models2[i];\n    const node = graph[toModel];\n    if (node.parent === null) {\n      continue;\n    }\n    conversion[toModel] = wrapConversion(toModel, graph);\n  }\n  return conversion;\n}\nvar route_default = route;\n\n// node_modules/color-convert/index.js\nvar convert2 = {};\nvar models = Object.keys(conversions_default);\nfunction wrapRaw(fn) {\n  const wrappedFn = function(...args) {\n    const arg0 = args[0];\n    if (arg0 === void 0 || arg0 === null) {\n      return arg0;\n    }\n    if (arg0.length > 1) {\n      args = arg0;\n    }\n    return fn(args);\n  };\n  if (\"conversion\" in fn) {\n    wrappedFn.conversion = fn.conversion;\n  }\n  return wrappedFn;\n}\nfunction wrapRounded(fn) {\n  const wrappedFn = function(...args) {\n    const arg0 = args[0];\n    if (arg0 === void 0 || arg0 === null) {\n      return arg0;\n    }\n    if (arg0.length > 1) {\n      args = arg0;\n    }\n    const result = fn(args);\n    if (typeof result === \"object\") {\n      for (let { length } = result, i = 0; i < length; i++) {\n        result[i] = Math.round(result[i]);\n      }\n    }\n    return result;\n  };\n  if (\"conversion\" in fn) {\n    wrappedFn.conversion = fn.conversion;\n  }\n  return wrappedFn;\n}\nfor (const fromModel of models) {\n  convert2[fromModel] = {};\n  Object.defineProperty(convert2[fromModel], \"channels\", { value: conversions_default[fromModel].channels });\n  Object.defineProperty(convert2[fromModel], \"labels\", { value: conversions_default[fromModel].labels });\n  const routes = route_default(fromModel);\n  const routeModels = Object.keys(routes);\n  for (const toModel of routeModels) {\n    const fn = routes[toModel];\n    convert2[fromModel][toModel] = wrapRounded(fn);\n    convert2[fromModel][toModel].raw = wrapRaw(fn);\n  }\n}\nvar color_convert_default = convert2;\n\n// node_modules/color/index.js\nvar skippedModels = [\n  // To be honest, I don't really feel like keyword belongs in color convert, but eh.\n  \"keyword\",\n  // Gray conflicts with some method names, and has its own method defined.\n  \"gray\",\n  // Shouldn't really be in color-convert either...\n  \"hex\"\n];\nvar hashedModelKeys = {};\nfor (const model of Object.keys(color_convert_default)) {\n  hashedModelKeys[[...color_convert_default[model].labels].sort().join(\"\")] = model;\n}\nvar limiters = {};\nfunction Color(object, model) {\n  if (!(this instanceof Color)) {\n    return new Color(object, model);\n  }\n  if (model && model in skippedModels) {\n    model = null;\n  }\n  if (model && !(model in color_convert_default)) {\n    throw new Error(\"Unknown model: \" + model);\n  }\n  let i;\n  let channels;\n  if (object == null) {\n    this.model = \"rgb\";\n    this.color = [0, 0, 0];\n    this.valpha = 1;\n  } else if (object instanceof Color) {\n    this.model = object.model;\n    this.color = [...object.color];\n    this.valpha = object.valpha;\n  } else if (typeof object === \"string\") {\n    const result = color_string_default.get(object);\n    if (result === null) {\n      throw new Error(\"Unable to parse color from string: \" + object);\n    }\n    this.model = result.model;\n    channels = color_convert_default[this.model].channels;\n    this.color = result.value.slice(0, channels);\n    this.valpha = typeof result.value[channels] === \"number\" ? result.value[channels] : 1;\n  } else if (object.length > 0) {\n    this.model = model || \"rgb\";\n    channels = color_convert_default[this.model].channels;\n    const newArray = Array.prototype.slice.call(object, 0, channels);\n    this.color = zeroArray(newArray, channels);\n    this.valpha = typeof object[channels] === \"number\" ? object[channels] : 1;\n  } else if (typeof object === \"number\") {\n    this.model = \"rgb\";\n    this.color = [\n      object >> 16 & 255,\n      object >> 8 & 255,\n      object & 255\n    ];\n    this.valpha = 1;\n  } else {\n    this.valpha = 1;\n    const keys = Object.keys(object);\n    if (\"alpha\" in object) {\n      keys.splice(keys.indexOf(\"alpha\"), 1);\n      this.valpha = typeof object.alpha === \"number\" ? object.alpha : 0;\n    }\n    const hashedKeys = keys.sort().join(\"\");\n    if (!(hashedKeys in hashedModelKeys)) {\n      throw new Error(\"Unable to parse color from object: \" + JSON.stringify(object));\n    }\n    this.model = hashedModelKeys[hashedKeys];\n    const { labels } = color_convert_default[this.model];\n    const color = [];\n    for (i = 0; i < labels.length; i++) {\n      color.push(object[labels[i]]);\n    }\n    this.color = zeroArray(color);\n  }\n  if (limiters[this.model]) {\n    channels = color_convert_default[this.model].channels;\n    for (i = 0; i < channels; i++) {\n      const limit = limiters[this.model][i];\n      if (limit) {\n        this.color[i] = limit(this.color[i]);\n      }\n    }\n  }\n  this.valpha = Math.max(0, Math.min(1, this.valpha));\n  if (Object.freeze) {\n    Object.freeze(this);\n  }\n}\nColor.prototype = {\n  toString() {\n    return this.string();\n  },\n  toJSON() {\n    return this[this.model]();\n  },\n  string(places) {\n    let self = this.model in color_string_default.to ? this : this.rgb();\n    self = self.round(typeof places === \"number\" ? places : 1);\n    const arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n    return color_string_default.to[self.model](...arguments_);\n  },\n  percentString(places) {\n    const self = this.rgb().round(typeof places === \"number\" ? places : 1);\n    const arguments_ = self.valpha === 1 ? self.color : [...self.color, this.valpha];\n    return color_string_default.to.rgb.percent(...arguments_);\n  },\n  array() {\n    return this.valpha === 1 ? [...this.color] : [...this.color, this.valpha];\n  },\n  object() {\n    const result = {};\n    const { channels } = color_convert_default[this.model];\n    const { labels } = color_convert_default[this.model];\n    for (let i = 0; i < channels; i++) {\n      result[labels[i]] = this.color[i];\n    }\n    if (this.valpha !== 1) {\n      result.alpha = this.valpha;\n    }\n    return result;\n  },\n  unitArray() {\n    const rgb = this.rgb().color;\n    rgb[0] /= 255;\n    rgb[1] /= 255;\n    rgb[2] /= 255;\n    if (this.valpha !== 1) {\n      rgb.push(this.valpha);\n    }\n    return rgb;\n  },\n  unitObject() {\n    const rgb = this.rgb().object();\n    rgb.r /= 255;\n    rgb.g /= 255;\n    rgb.b /= 255;\n    if (this.valpha !== 1) {\n      rgb.alpha = this.valpha;\n    }\n    return rgb;\n  },\n  round(places) {\n    places = Math.max(places || 0, 0);\n    return new Color([...this.color.map(roundToPlace(places)), this.valpha], this.model);\n  },\n  alpha(value) {\n    if (value !== void 0) {\n      return new Color([...this.color, Math.max(0, Math.min(1, value))], this.model);\n    }\n    return this.valpha;\n  },\n  // Rgb\n  red: getset(\"rgb\", 0, maxfn(255)),\n  green: getset(\"rgb\", 1, maxfn(255)),\n  blue: getset(\"rgb\", 2, maxfn(255)),\n  hue: getset([\"hsl\", \"hsv\", \"hsl\", \"hwb\", \"hcg\"], 0, (value) => (value % 360 + 360) % 360),\n  saturationl: getset(\"hsl\", 1, maxfn(100)),\n  lightness: getset(\"hsl\", 2, maxfn(100)),\n  saturationv: getset(\"hsv\", 1, maxfn(100)),\n  value: getset(\"hsv\", 2, maxfn(100)),\n  chroma: getset(\"hcg\", 1, maxfn(100)),\n  gray: getset(\"hcg\", 2, maxfn(100)),\n  white: getset(\"hwb\", 1, maxfn(100)),\n  wblack: getset(\"hwb\", 2, maxfn(100)),\n  cyan: getset(\"cmyk\", 0, maxfn(100)),\n  magenta: getset(\"cmyk\", 1, maxfn(100)),\n  yellow: getset(\"cmyk\", 2, maxfn(100)),\n  black: getset(\"cmyk\", 3, maxfn(100)),\n  x: getset(\"xyz\", 0, maxfn(95.047)),\n  y: getset(\"xyz\", 1, maxfn(100)),\n  z: getset(\"xyz\", 2, maxfn(108.833)),\n  l: getset(\"lab\", 0, maxfn(100)),\n  a: getset(\"lab\", 1),\n  b: getset(\"lab\", 2),\n  keyword(value) {\n    if (value !== void 0) {\n      return new Color(value);\n    }\n    return color_convert_default[this.model].keyword(this.color);\n  },\n  hex(value) {\n    if (value !== void 0) {\n      return new Color(value);\n    }\n    return color_string_default.to.hex(...this.rgb().round().color);\n  },\n  hexa(value) {\n    if (value !== void 0) {\n      return new Color(value);\n    }\n    const rgbArray = this.rgb().round().color;\n    let alphaHex = Math.round(this.valpha * 255).toString(16).toUpperCase();\n    if (alphaHex.length === 1) {\n      alphaHex = \"0\" + alphaHex;\n    }\n    return color_string_default.to.hex(...rgbArray) + alphaHex;\n  },\n  rgbNumber() {\n    const rgb = this.rgb().color;\n    return (rgb[0] & 255) << 16 | (rgb[1] & 255) << 8 | rgb[2] & 255;\n  },\n  luminosity() {\n    const rgb = this.rgb().color;\n    const lum = [];\n    for (const [i, element] of rgb.entries()) {\n      const chan = element / 255;\n      lum[i] = chan <= 0.04045 ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n    }\n    return 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n  },\n  contrast(color2) {\n    const lum1 = this.luminosity();\n    const lum2 = color2.luminosity();\n    if (lum1 > lum2) {\n      return (lum1 + 0.05) / (lum2 + 0.05);\n    }\n    return (lum2 + 0.05) / (lum1 + 0.05);\n  },\n  level(color2) {\n    const contrastRatio = this.contrast(color2);\n    if (contrastRatio >= 7) {\n      return \"AAA\";\n    }\n    return contrastRatio >= 4.5 ? \"AA\" : \"\";\n  },\n  isDark() {\n    const rgb = this.rgb().color;\n    const yiq = (rgb[0] * 2126 + rgb[1] * 7152 + rgb[2] * 722) / 1e4;\n    return yiq < 128;\n  },\n  isLight() {\n    return !this.isDark();\n  },\n  negate() {\n    const rgb = this.rgb();\n    for (let i = 0; i < 3; i++) {\n      rgb.color[i] = 255 - rgb.color[i];\n    }\n    return rgb;\n  },\n  lighten(ratio) {\n    const hsl = this.hsl();\n    hsl.color[2] += hsl.color[2] * ratio;\n    return hsl;\n  },\n  darken(ratio) {\n    const hsl = this.hsl();\n    hsl.color[2] -= hsl.color[2] * ratio;\n    return hsl;\n  },\n  saturate(ratio) {\n    const hsl = this.hsl();\n    hsl.color[1] += hsl.color[1] * ratio;\n    return hsl;\n  },\n  desaturate(ratio) {\n    const hsl = this.hsl();\n    hsl.color[1] -= hsl.color[1] * ratio;\n    return hsl;\n  },\n  whiten(ratio) {\n    const hwb = this.hwb();\n    hwb.color[1] += hwb.color[1] * ratio;\n    return hwb;\n  },\n  blacken(ratio) {\n    const hwb = this.hwb();\n    hwb.color[2] += hwb.color[2] * ratio;\n    return hwb;\n  },\n  grayscale() {\n    const rgb = this.rgb().color;\n    const value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n    return Color.rgb(value, value, value);\n  },\n  fade(ratio) {\n    return this.alpha(this.valpha - this.valpha * ratio);\n  },\n  opaquer(ratio) {\n    return this.alpha(this.valpha + this.valpha * ratio);\n  },\n  rotate(degrees) {\n    const hsl = this.hsl();\n    let hue = hsl.color[0];\n    hue = (hue + degrees) % 360;\n    hue = hue < 0 ? 360 + hue : hue;\n    hsl.color[0] = hue;\n    return hsl;\n  },\n  mix(mixinColor, weight) {\n    if (!mixinColor || !mixinColor.rgb) {\n      throw new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n    }\n    const color1 = mixinColor.rgb();\n    const color2 = this.rgb();\n    const p = weight === void 0 ? 0.5 : weight;\n    const w = 2 * p - 1;\n    const a = color1.alpha() - color2.alpha();\n    const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2;\n    const w2 = 1 - w1;\n    return Color.rgb(\n      w1 * color1.red() + w2 * color2.red(),\n      w1 * color1.green() + w2 * color2.green(),\n      w1 * color1.blue() + w2 * color2.blue(),\n      color1.alpha() * p + color2.alpha() * (1 - p)\n    );\n  }\n};\nfor (const model of Object.keys(color_convert_default)) {\n  if (skippedModels.includes(model)) {\n    continue;\n  }\n  const { channels } = color_convert_default[model];\n  Color.prototype[model] = function(...arguments_) {\n    if (this.model === model) {\n      return new Color(this);\n    }\n    if (arguments_.length > 0) {\n      return new Color(arguments_, model);\n    }\n    return new Color([...assertArray(color_convert_default[this.model][model].raw(this.color)), this.valpha], model);\n  };\n  Color[model] = function(...arguments_) {\n    let color = arguments_[0];\n    if (typeof color === \"number\") {\n      color = zeroArray(arguments_, channels);\n    }\n    return new Color(color, model);\n  };\n}\nfunction roundTo(number, places) {\n  return Number(number.toFixed(places));\n}\nfunction roundToPlace(places) {\n  return function(number) {\n    return roundTo(number, places);\n  };\n}\nfunction getset(model, channel, modifier) {\n  model = Array.isArray(model) ? model : [model];\n  for (const m of model) {\n    (limiters[m] ||= [])[channel] = modifier;\n  }\n  model = model[0];\n  return function(value) {\n    let result;\n    if (value !== void 0) {\n      if (modifier) {\n        value = modifier(value);\n      }\n      result = this[model]();\n      result.color[channel] = value;\n      return result;\n    }\n    result = this[model]().color[channel];\n    if (modifier) {\n      result = modifier(result);\n    }\n    return result;\n  };\n}\nfunction maxfn(max) {\n  return function(v) {\n    return Math.max(0, Math.min(max, v));\n  };\n}\nfunction assertArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\nfunction zeroArray(array, length) {\n  for (let i = 0; i < length; i++) {\n    if (typeof array[i] !== \"number\") {\n      array[i] = 0;\n    }\n  }\n  return array;\n}\nvar index_default = Color;\n", "module.exports = require(\"./color.cjs\").default;\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst color = require('@img/colour');\nconst is = require('./is');\n\n/**\n * Colourspaces.\n * @private\n */\nconst colourspace = {\n  multiband: 'multiband',\n  'b-w': 'b-w',\n  bw: 'b-w',\n  cmyk: 'cmyk',\n  srgb: 'srgb'\n};\n\n/**\n * Tint the image using the provided colour.\n * An alpha channel may be present and will be unchanged by the operation.\n *\n * @example\n * const output = await sharp(input)\n *   .tint({ r: 255, g: 240, b: 16 })\n *   .toBuffer();\n *\n * @param {string|Object} tint - Parsed by the [color](https://www.npmjs.org/package/color) module.\n * @returns {Sharp}\n * @throws {Error} Invalid parameter\n */\nfunction tint (tint) {\n  this._setBackgroundColourOption('tint', tint);\n  return this;\n}\n\n/**\n * Convert to 8-bit greyscale; 256 shades of grey.\n * This is a linear operation. If the input image is in a non-linear colour space such as sRGB, use `gamma()` with `greyscale()` for the best results.\n * By default the output image will be web-friendly sRGB and contain three (identical) colour channels.\n * This may be overridden by other sharp operations such as `toColourspace('b-w')`,\n * which will produce an output image containing one colour channel.\n * An alpha channel may be present, and will be unchanged by the operation.\n *\n * @example\n * const output = await sharp(input).greyscale().toBuffer();\n *\n * @param {Boolean} [greyscale=true]\n * @returns {Sharp}\n */\nfunction greyscale (greyscale) {\n  this.options.greyscale = is.bool(greyscale) ? greyscale : true;\n  return this;\n}\n\n/**\n * Alternative spelling of `greyscale`.\n * @param {Boolean} [grayscale=true]\n * @returns {Sharp}\n */\nfunction grayscale (grayscale) {\n  return this.greyscale(grayscale);\n}\n\n/**\n * Set the pipeline colourspace.\n *\n * The input image will be converted to the provided colourspace at the start of the pipeline.\n * All operations will use this colourspace before converting to the output colourspace,\n * as defined by {@link #tocolourspace|toColourspace}.\n *\n * @since 0.29.0\n *\n * @example\n * // Run pipeline in 16 bits per channel RGB while converting final result to 8 bits per channel sRGB.\n * await sharp(input)\n *  .pipelineColourspace('rgb16')\n *  .toColourspace('srgb')\n *  .toFile('16bpc-pipeline-to-8bpc-output.png')\n *\n * @param {string} [colourspace] - pipeline colourspace e.g. `rgb16`, `scrgb`, `lab`, `grey16` [...](https://github.com/libvips/libvips/blob/41cff4e9d0838498487a00623462204eb10ee5b8/libvips/iofuncs/enumtypes.c#L774)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction pipelineColourspace (colourspace) {\n  if (!is.string(colourspace)) {\n    throw is.invalidParameterError('colourspace', 'string', colourspace);\n  }\n  this.options.colourspacePipeline = colourspace;\n  return this;\n}\n\n/**\n * Alternative spelling of `pipelineColourspace`.\n * @param {string} [colorspace] - pipeline colorspace.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction pipelineColorspace (colorspace) {\n  return this.pipelineColourspace(colorspace);\n}\n\n/**\n * Set the output colourspace.\n * By default output image will be web-friendly sRGB, with additional channels interpreted as alpha channels.\n *\n * @example\n * // Output 16 bits per pixel RGB\n * await sharp(input)\n *  .toColourspace('rgb16')\n *  .toFile('16-bpp.png')\n *\n * @param {string} [colourspace] - output colourspace e.g. `srgb`, `rgb`, `cmyk`, `lab`, `b-w` [...](https://github.com/libvips/libvips/blob/3c0bfdf74ce1dc37a6429bed47fa76f16e2cd70a/libvips/iofuncs/enumtypes.c#L777-L794)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction toColourspace (colourspace) {\n  if (!is.string(colourspace)) {\n    throw is.invalidParameterError('colourspace', 'string', colourspace);\n  }\n  this.options.colourspace = colourspace;\n  return this;\n}\n\n/**\n * Alternative spelling of `toColourspace`.\n * @param {string} [colorspace] - output colorspace.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction toColorspace (colorspace) {\n  return this.toColourspace(colorspace);\n}\n\n/**\n * Create a RGBA colour array from a given value.\n * @private\n * @param {string|Object} value\n * @throws {Error} Invalid value\n */\nfunction _getBackgroundColourOption (value) {\n  if (is.object(value) || is.string(value)) {\n    const colour = color(value);\n    return [\n      colour.red(),\n      colour.green(),\n      colour.blue(),\n      Math.round(colour.alpha() * 255)\n    ];\n  } else {\n    throw is.invalidParameterError('background', 'object or string', value);\n  }\n}\n\n/**\n * Update a colour attribute of the this.options Object.\n * @private\n * @param {string} key\n * @param {string|Object} value\n * @throws {Error} Invalid value\n */\nfunction _setBackgroundColourOption (key, value) {\n  if (is.defined(value)) {\n    this.options[key] = _getBackgroundColourOption(value);\n  }\n}\n\n/**\n * Decorate the Sharp prototype with colour-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public\n    tint,\n    greyscale,\n    grayscale,\n    pipelineColourspace,\n    pipelineColorspace,\n    toColourspace,\n    toColorspace,\n    // Private\n    _getBackgroundColourOption,\n    _setBackgroundColourOption\n  });\n  // Class attributes\n  Sharp.colourspace = colourspace;\n  Sharp.colorspace = colourspace;\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst is = require('./is');\n\n/**\n * Boolean operations for bandbool.\n * @private\n */\nconst bool = {\n  and: 'and',\n  or: 'or',\n  eor: 'eor'\n};\n\n/**\n * Remove alpha channels, if any. This is a no-op if the image does not have an alpha channel.\n *\n * See also {@link /api-operation#flatten|flatten}.\n *\n * @example\n * sharp('rgba.png')\n *   .removeAlpha()\n *   .toFile('rgb.png', function(err, info) {\n *     // rgb.png is a 3 channel image without an alpha channel\n *   });\n *\n * @returns {Sharp}\n */\nfunction removeAlpha () {\n  this.options.removeAlpha = true;\n  return this;\n}\n\n/**\n * Ensure the output image has an alpha transparency channel.\n * If missing, the added alpha channel will have the specified\n * transparency level, defaulting to fully-opaque (1).\n * This is a no-op if the image already has an alpha channel.\n *\n * @since 0.21.2\n *\n * @example\n * // rgba.png will be a 4 channel image with a fully-opaque alpha channel\n * await sharp('rgb.jpg')\n *   .ensureAlpha()\n *   .toFile('rgba.png')\n *\n * @example\n * // rgba is a 4 channel image with a fully-transparent alpha channel\n * const rgba = await sharp(rgb)\n *   .ensureAlpha(0)\n *   .toBuffer();\n *\n * @param {number} [alpha=1] - alpha transparency level (0=fully-transparent, 1=fully-opaque)\n * @returns {Sharp}\n * @throws {Error} Invalid alpha transparency level\n */\nfunction ensureAlpha (alpha) {\n  if (is.defined(alpha)) {\n    if (is.number(alpha) && is.inRange(alpha, 0, 1)) {\n      this.options.ensureAlpha = alpha;\n    } else {\n      throw is.invalidParameterError('alpha', 'number between 0 and 1', alpha);\n    }\n  } else {\n    this.options.ensureAlpha = 1;\n  }\n  return this;\n}\n\n/**\n * Extract a single channel from a multi-channel image.\n *\n * The output colourspace will be either `b-w` (8-bit) or `grey16` (16-bit).\n *\n * @example\n * // green.jpg is a greyscale image containing the green channel of the input\n * await sharp(input)\n *   .extractChannel('green')\n *   .toFile('green.jpg');\n *\n * @example\n * // red1 is the red value of the first pixel, red2 the second pixel etc.\n * const [red1, red2, ...] = await sharp(input)\n *   .extractChannel(0)\n *   .raw()\n *   .toBuffer();\n *\n * @param {number|string} channel - zero-indexed channel/band number to extract, or `red`, `green`, `blue` or `alpha`.\n * @returns {Sharp}\n * @throws {Error} Invalid channel\n */\nfunction extractChannel (channel) {\n  const channelMap = { red: 0, green: 1, blue: 2, alpha: 3 };\n  if (Object.keys(channelMap).includes(channel)) {\n    channel = channelMap[channel];\n  }\n  if (is.integer(channel) && is.inRange(channel, 0, 4)) {\n    this.options.extractChannel = channel;\n  } else {\n    throw is.invalidParameterError('channel', 'integer or one of: red, green, blue, alpha', channel);\n  }\n  return this;\n}\n\n/**\n * Join one or more channels to the image.\n * The meaning of the added channels depends on the output colourspace, set with `toColourspace()`.\n * By default the output image will be web-friendly sRGB, with additional channels interpreted as alpha channels.\n * Channel ordering follows vips convention:\n * - sRGB: 0: Red, 1: Green, 2: Blue, 3: Alpha.\n * - CMYK: 0: Magenta, 1: Cyan, 2: Yellow, 3: Black, 4: Alpha.\n *\n * Buffers may be any of the image formats supported by sharp.\n * For raw pixel input, the `options` object should contain a `raw` attribute, which follows the format of the attribute of the same name in the `sharp()` constructor.\n *\n * @param {Array<string|Buffer>|string|Buffer} images - one or more images (file paths, Buffers).\n * @param {Object} options - image options, see `sharp()` constructor.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction joinChannel (images, options) {\n  if (Array.isArray(images)) {\n    images.forEach(function (image) {\n      this.options.joinChannelIn.push(this._createInputDescriptor(image, options));\n    }, this);\n  } else {\n    this.options.joinChannelIn.push(this._createInputDescriptor(images, options));\n  }\n  return this;\n}\n\n/**\n * Perform a bitwise boolean operation on all input image channels (bands) to produce a single channel output image.\n *\n * @example\n * sharp('3-channel-rgb-input.png')\n *   .bandbool(sharp.bool.and)\n *   .toFile('1-channel-output.png', function (err, info) {\n *     // The output will be a single channel image where each pixel `P = R & G & B`.\n *     // If `I(1,1) = [247, 170, 14] = [0b11110111, 0b10101010, 0b00001111]`\n *     // then `O(1,1) = 0b11110111 & 0b10101010 & 0b00001111 = 0b00000010 = 2`.\n *   });\n *\n * @param {string} boolOp - one of `and`, `or` or `eor` to perform that bitwise operation, like the C logic operators `&`, `|` and `^` respectively.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction bandbool (boolOp) {\n  if (is.string(boolOp) && is.inArray(boolOp, ['and', 'or', 'eor'])) {\n    this.options.bandBoolOp = boolOp;\n  } else {\n    throw is.invalidParameterError('boolOp', 'one of: and, or, eor', boolOp);\n  }\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with channel-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public instance functions\n    removeAlpha,\n    ensureAlpha,\n    extractChannel,\n    joinChannel,\n    bandbool\n  });\n  // Class attributes\n  Sharp.bool = bool;\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst path = require('node:path');\nconst is = require('./is');\nconst sharp = require('./sharp');\n\nconst formats = new Map([\n  ['heic', 'heif'],\n  ['heif', 'heif'],\n  ['avif', 'avif'],\n  ['jpeg', 'jpeg'],\n  ['jpg', 'jpeg'],\n  ['jpe', 'jpeg'],\n  ['tile', 'tile'],\n  ['dz', 'tile'],\n  ['png', 'png'],\n  ['raw', 'raw'],\n  ['tiff', 'tiff'],\n  ['tif', 'tiff'],\n  ['webp', 'webp'],\n  ['gif', 'gif'],\n  ['jp2', 'jp2'],\n  ['jpx', 'jp2'],\n  ['j2k', 'jp2'],\n  ['j2c', 'jp2'],\n  ['jxl', 'jxl']\n]);\n\nconst jp2Regex = /\\.(jp[2x]|j2[kc])$/i;\n\nconst errJp2Save = () => new Error('JP2 output requires libvips with support for OpenJPEG');\n\nconst bitdepthFromColourCount = (colours) => 1 << 31 - Math.clz32(Math.ceil(Math.log2(colours)));\n\n/**\n * Write output image data to a file.\n *\n * If an explicit output format is not selected, it will be inferred from the extension,\n * with JPEG, PNG, WebP, AVIF, TIFF, GIF, DZI, and libvips' V format supported.\n * Note that raw pixel data is only supported for buffer output.\n *\n * By default all metadata will be removed, which includes EXIF-based orientation.\n * See {@link #withmetadata|withMetadata} for control over this.\n *\n * The caller is responsible for ensuring directory structures and permissions exist.\n *\n * A `Promise` is returned when `callback` is not provided.\n *\n * @example\n * sharp(input)\n *   .toFile('output.png', (err, info) => { ... });\n *\n * @example\n * sharp(input)\n *   .toFile('output.png')\n *   .then(info => { ... })\n *   .catch(err => { ... });\n *\n * @param {string} fileOut - the path to write the image data to.\n * @param {Function} [callback] - called on completion with two arguments `(err, info)`.\n * `info` contains the output image `format`, `size` (bytes), `width`, `height`,\n * `channels` and `premultiplied` (indicating if premultiplication was used).\n * When using a crop strategy also contains `cropOffsetLeft` and `cropOffsetTop`.\n * When using the attention crop strategy also contains `attentionX` and `attentionY`, the focal point of the cropped region.\n * Animated output will also contain `pageHeight` and `pages`.\n * May also contain `textAutofitDpi` (dpi the font was rendered at) if image was created from text.\n * @returns {Promise<Object>} - when no callback is provided\n * @throws {Error} Invalid parameters\n */\nfunction toFile (fileOut, callback) {\n  let err;\n  if (!is.string(fileOut)) {\n    err = new Error('Missing output file path');\n  } else if (is.string(this.options.input.file) && path.resolve(this.options.input.file) === path.resolve(fileOut)) {\n    err = new Error('Cannot use same file for input and output');\n  } else if (jp2Regex.test(path.extname(fileOut)) && !this.constructor.format.jp2k.output.file) {\n    err = errJp2Save();\n  }\n  if (err) {\n    if (is.fn(callback)) {\n      callback(err);\n    } else {\n      return Promise.reject(err);\n    }\n  } else {\n    this.options.fileOut = fileOut;\n    const stack = Error();\n    return this._pipeline(callback, stack);\n  }\n  return this;\n}\n\n/**\n * Write output to a Buffer.\n * JPEG, PNG, WebP, AVIF, TIFF, GIF and raw pixel data output are supported.\n *\n * Use {@link #toformat|toFormat} or one of the format-specific functions such as {@link jpeg}, {@link png} etc. to set the output format.\n *\n * If no explicit format is set, the output format will match the input image, except SVG input which becomes PNG output.\n *\n * By default all metadata will be removed, which includes EXIF-based orientation.\n * See {@link #withmetadata|withMetadata} for control over this.\n *\n * `callback`, if present, gets three arguments `(err, data, info)` where:\n * - `err` is an error, if any.\n * - `data` is the output image data.\n * - `info` contains the output image `format`, `size` (bytes), `width`, `height`,\n * `channels` and `premultiplied` (indicating if premultiplication was used).\n * When using a crop strategy also contains `cropOffsetLeft` and `cropOffsetTop`.\n * Animated output will also contain `pageHeight` and `pages`.\n * May also contain `textAutofitDpi` (dpi the font was rendered at) if image was created from text.\n *\n * A `Promise` is returned when `callback` is not provided.\n *\n * @example\n * sharp(input)\n *   .toBuffer((err, data, info) => { ... });\n *\n * @example\n * sharp(input)\n *   .toBuffer()\n *   .then(data => { ... })\n *   .catch(err => { ... });\n *\n * @example\n * sharp(input)\n *   .png()\n *   .toBuffer({ resolveWithObject: true })\n *   .then(({ data, info }) => { ... })\n *   .catch(err => { ... });\n *\n * @example\n * const { data, info } = await sharp('my-image.jpg')\n *   // output the raw pixels\n *   .raw()\n *   .toBuffer({ resolveWithObject: true });\n *\n * // create a more type safe way to work with the raw pixel data\n * // this will not copy the data, instead it will change `data`s underlying ArrayBuffer\n * // so `data` and `pixelArray` point to the same memory location\n * const pixelArray = new Uint8ClampedArray(data.buffer);\n *\n * // When you are done changing the pixelArray, sharp takes the `pixelArray` as an input\n * const { width, height, channels } = info;\n * await sharp(pixelArray, { raw: { width, height, channels } })\n *   .toFile('my-changed-image.jpg');\n *\n * @param {Object} [options]\n * @param {boolean} [options.resolveWithObject] Resolve the Promise with an Object containing `data` and `info` properties instead of resolving only with `data`.\n * @param {Function} [callback]\n * @returns {Promise<Buffer>} - when no callback is provided\n */\nfunction toBuffer (options, callback) {\n  if (is.object(options)) {\n    this._setBooleanOption('resolveWithObject', options.resolveWithObject);\n  } else if (this.options.resolveWithObject) {\n    this.options.resolveWithObject = false;\n  }\n  this.options.fileOut = '';\n  const stack = Error();\n  return this._pipeline(is.fn(options) ? options : callback, stack);\n}\n\n/**\n * Keep all EXIF metadata from the input image in the output image.\n *\n * EXIF metadata is unsupported for TIFF output.\n *\n * @since 0.33.0\n *\n * @example\n * const outputWithExif = await sharp(inputWithExif)\n *   .keepExif()\n *   .toBuffer();\n *\n * @returns {Sharp}\n */\nfunction keepExif () {\n  this.options.keepMetadata |= 0b00001;\n  return this;\n}\n\n/**\n * Set EXIF metadata in the output image, ignoring any EXIF in the input image.\n *\n * @since 0.33.0\n *\n * @example\n * const dataWithExif = await sharp(input)\n *   .withExif({\n *     IFD0: {\n *       Copyright: 'The National Gallery'\n *     },\n *     IFD3: {\n *       GPSLatitudeRef: 'N',\n *       GPSLatitude: '51/1 30/1 3230/100',\n *       GPSLongitudeRef: 'W',\n *       GPSLongitude: '0/1 7/1 4366/100'\n *     }\n *   })\n *   .toBuffer();\n *\n * @param {Object<string, Object<string, string>>} exif Object keyed by IFD0, IFD1 etc. of key/value string pairs to write as EXIF data.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction withExif (exif) {\n  if (is.object(exif)) {\n    for (const [ifd, entries] of Object.entries(exif)) {\n      if (is.object(entries)) {\n        for (const [k, v] of Object.entries(entries)) {\n          if (is.string(v)) {\n            this.options.withExif[`exif-${ifd.toLowerCase()}-${k}`] = v;\n          } else {\n            throw is.invalidParameterError(`${ifd}.${k}`, 'string', v);\n          }\n        }\n      } else {\n        throw is.invalidParameterError(ifd, 'object', entries);\n      }\n    }\n  } else {\n    throw is.invalidParameterError('exif', 'object', exif);\n  }\n  this.options.withExifMerge = false;\n  return this.keepExif();\n}\n\n/**\n * Update EXIF metadata from the input image in the output image.\n *\n * @since 0.33.0\n *\n * @example\n * const dataWithMergedExif = await sharp(inputWithExif)\n *   .withExifMerge({\n *     IFD0: {\n *       Copyright: 'The National Gallery'\n *     }\n *   })\n *   .toBuffer();\n *\n * @param {Object<string, Object<string, string>>} exif Object keyed by IFD0, IFD1 etc. of key/value string pairs to write as EXIF data.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction withExifMerge (exif) {\n  this.withExif(exif);\n  this.options.withExifMerge = true;\n  return this;\n}\n\n/**\n * Keep ICC profile from the input image in the output image.\n *\n * Where necessary, will attempt to convert the output colour space to match the profile.\n *\n * @since 0.33.0\n *\n * @example\n * const outputWithIccProfile = await sharp(inputWithIccProfile)\n *   .keepIccProfile()\n *   .toBuffer();\n *\n * @returns {Sharp}\n */\nfunction keepIccProfile () {\n  this.options.keepMetadata |= 0b01000;\n  return this;\n}\n\n/**\n * Transform using an ICC profile and attach to the output image.\n *\n * This can either be an absolute filesystem path or\n * built-in profile name (`srgb`, `p3`, `cmyk`).\n *\n * @since 0.33.0\n *\n * @example\n * const outputWithP3 = await sharp(input)\n *   .withIccProfile('p3')\n *   .toBuffer();\n *\n * @param {string} icc - Absolute filesystem path to output ICC profile or built-in profile name (srgb, p3, cmyk).\n * @param {Object} [options]\n * @param {number} [options.attach=true] Should the ICC profile be included in the output image metadata?\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction withIccProfile (icc, options) {\n  if (is.string(icc)) {\n    this.options.withIccProfile = icc;\n  } else {\n    throw is.invalidParameterError('icc', 'string', icc);\n  }\n  this.keepIccProfile();\n  if (is.object(options)) {\n    if (is.defined(options.attach)) {\n      if (is.bool(options.attach)) {\n        if (!options.attach) {\n          this.options.keepMetadata &= ~0b01000;\n        }\n      } else {\n        throw is.invalidParameterError('attach', 'boolean', options.attach);\n      }\n    }\n  }\n  return this;\n}\n\n/**\n * Keep XMP metadata from the input image in the output image.\n *\n * @since 0.34.3\n *\n * @example\n * const outputWithXmp = await sharp(inputWithXmp)\n *   .keepXmp()\n *   .toBuffer();\n *\n * @returns {Sharp}\n */\nfunction keepXmp () {\n  this.options.keepMetadata |= 0b00010;\n  return this;\n}\n\n/**\n * Set XMP metadata in the output image.\n *\n * Supported by PNG, JPEG, WebP, and TIFF output.\n *\n * @since 0.34.3\n *\n * @example\n * const xmpString = `\n *   <?xml version=\"1.0\"?>\n *   <x:xmpmeta xmlns:x=\"adobe:ns:meta/\">\n *     <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n *       <rdf:Description rdf:about=\"\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\">\n *         <dc:creator><rdf:Seq><rdf:li>John Doe</rdf:li></rdf:Seq></dc:creator>\n *       </rdf:Description>\n *     </rdf:RDF>\n *   </x:xmpmeta>`;\n *\n * const data = await sharp(input)\n *   .withXmp(xmpString)\n *   .toBuffer();\n *\n * @param {string} xmp String containing XMP metadata to be embedded in the output image.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction withXmp (xmp) {\n  if (is.string(xmp) && xmp.length > 0) {\n    this.options.withXmp = xmp;\n    this.options.keepMetadata |= 0b00010;\n  } else {\n    throw is.invalidParameterError('xmp', 'non-empty string', xmp);\n  }\n  return this;\n}\n\n/**\n * Keep all metadata (EXIF, ICC, XMP, IPTC) from the input image in the output image.\n *\n * The default behaviour, when `keepMetadata` is not used, is to convert to the device-independent\n * sRGB colour space and strip all metadata, including the removal of any ICC profile.\n *\n * @since 0.33.0\n *\n * @example\n * const outputWithMetadata = await sharp(inputWithMetadata)\n *   .keepMetadata()\n *   .toBuffer();\n *\n * @returns {Sharp}\n */\nfunction keepMetadata () {\n  this.options.keepMetadata = 0b11111;\n  return this;\n}\n\n/**\n * Keep most metadata (EXIF, XMP, IPTC) from the input image in the output image.\n *\n * This will also convert to and add a web-friendly sRGB ICC profile if appropriate.\n *\n * Allows orientation and density to be set or updated.\n *\n * @example\n * const outputSrgbWithMetadata = await sharp(inputRgbWithMetadata)\n *   .withMetadata()\n *   .toBuffer();\n *\n * @example\n * // Set output metadata to 96 DPI\n * const data = await sharp(input)\n *   .withMetadata({ density: 96 })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {number} [options.orientation] Used to update the EXIF `Orientation` tag, integer between 1 and 8.\n * @param {number} [options.density] Number of pixels per inch (DPI).\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction withMetadata (options) {\n  this.keepMetadata();\n  this.withIccProfile('srgb');\n  if (is.object(options)) {\n    if (is.defined(options.orientation)) {\n      if (is.integer(options.orientation) && is.inRange(options.orientation, 1, 8)) {\n        this.options.withMetadataOrientation = options.orientation;\n      } else {\n        throw is.invalidParameterError('orientation', 'integer between 1 and 8', options.orientation);\n      }\n    }\n    if (is.defined(options.density)) {\n      if (is.number(options.density) && options.density > 0) {\n        this.options.withMetadataDensity = options.density;\n      } else {\n        throw is.invalidParameterError('density', 'positive number', options.density);\n      }\n    }\n    if (is.defined(options.icc)) {\n      this.withIccProfile(options.icc);\n    }\n    if (is.defined(options.exif)) {\n      this.withExifMerge(options.exif);\n    }\n  }\n  return this;\n}\n\n/**\n * Force output to a given format.\n *\n * @example\n * // Convert any input to PNG output\n * const data = await sharp(input)\n *   .toFormat('png')\n *   .toBuffer();\n *\n * @param {(string|Object)} format - as a string or an Object with an 'id' attribute\n * @param {Object} options - output options\n * @returns {Sharp}\n * @throws {Error} unsupported format or options\n */\nfunction toFormat (format, options) {\n  const actualFormat = formats.get((is.object(format) && is.string(format.id) ? format.id : format).toLowerCase());\n  if (!actualFormat) {\n    throw is.invalidParameterError('format', `one of: ${[...formats.keys()].join(', ')}`, format);\n  }\n  return this[actualFormat](options);\n}\n\n/**\n * Use these JPEG options for output image.\n *\n * @example\n * // Convert any input to very high quality JPEG output\n * const data = await sharp(input)\n *   .jpeg({\n *     quality: 100,\n *     chromaSubsampling: '4:4:4'\n *   })\n *   .toBuffer();\n *\n * @example\n * // Use mozjpeg to reduce output JPEG file size (slower)\n * const data = await sharp(input)\n *   .jpeg({ mozjpeg: true })\n *   .toBuffer();\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {boolean} [options.progressive=false] - use progressive (interlace) scan\n * @param {string} [options.chromaSubsampling='4:2:0'] - set to '4:4:4' to prevent chroma subsampling otherwise defaults to '4:2:0' chroma subsampling\n * @param {boolean} [options.optimiseCoding=true] - optimise Huffman coding tables\n * @param {boolean} [options.optimizeCoding=true] - alternative spelling of optimiseCoding\n * @param {boolean} [options.mozjpeg=false] - use mozjpeg defaults, equivalent to `{ trellisQuantisation: true, overshootDeringing: true, optimiseScans: true, quantisationTable: 3 }`\n * @param {boolean} [options.trellisQuantisation=false] - apply trellis quantisation\n * @param {boolean} [options.overshootDeringing=false] - apply overshoot deringing\n * @param {boolean} [options.optimiseScans=false] - optimise progressive scans, forces progressive\n * @param {boolean} [options.optimizeScans=false] - alternative spelling of optimiseScans\n * @param {number} [options.quantisationTable=0] - quantization table to use, integer 0-8\n * @param {number} [options.quantizationTable=0] - alternative spelling of quantisationTable\n * @param {boolean} [options.force=true] - force JPEG output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction jpeg (options) {\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.jpegQuality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.progressive)) {\n      this._setBooleanOption('jpegProgressive', options.progressive);\n    }\n    if (is.defined(options.chromaSubsampling)) {\n      if (is.string(options.chromaSubsampling) && is.inArray(options.chromaSubsampling, ['4:2:0', '4:4:4'])) {\n        this.options.jpegChromaSubsampling = options.chromaSubsampling;\n      } else {\n        throw is.invalidParameterError('chromaSubsampling', 'one of: 4:2:0, 4:4:4', options.chromaSubsampling);\n      }\n    }\n    const optimiseCoding = is.bool(options.optimizeCoding) ? options.optimizeCoding : options.optimiseCoding;\n    if (is.defined(optimiseCoding)) {\n      this._setBooleanOption('jpegOptimiseCoding', optimiseCoding);\n    }\n    if (is.defined(options.mozjpeg)) {\n      if (is.bool(options.mozjpeg)) {\n        if (options.mozjpeg) {\n          this.options.jpegTrellisQuantisation = true;\n          this.options.jpegOvershootDeringing = true;\n          this.options.jpegOptimiseScans = true;\n          this.options.jpegProgressive = true;\n          this.options.jpegQuantisationTable = 3;\n        }\n      } else {\n        throw is.invalidParameterError('mozjpeg', 'boolean', options.mozjpeg);\n      }\n    }\n    const trellisQuantisation = is.bool(options.trellisQuantization) ? options.trellisQuantization : options.trellisQuantisation;\n    if (is.defined(trellisQuantisation)) {\n      this._setBooleanOption('jpegTrellisQuantisation', trellisQuantisation);\n    }\n    if (is.defined(options.overshootDeringing)) {\n      this._setBooleanOption('jpegOvershootDeringing', options.overshootDeringing);\n    }\n    const optimiseScans = is.bool(options.optimizeScans) ? options.optimizeScans : options.optimiseScans;\n    if (is.defined(optimiseScans)) {\n      this._setBooleanOption('jpegOptimiseScans', optimiseScans);\n      if (optimiseScans) {\n        this.options.jpegProgressive = true;\n      }\n    }\n    const quantisationTable = is.number(options.quantizationTable) ? options.quantizationTable : options.quantisationTable;\n    if (is.defined(quantisationTable)) {\n      if (is.integer(quantisationTable) && is.inRange(quantisationTable, 0, 8)) {\n        this.options.jpegQuantisationTable = quantisationTable;\n      } else {\n        throw is.invalidParameterError('quantisationTable', 'integer between 0 and 8', quantisationTable);\n      }\n    }\n  }\n  return this._updateFormatOut('jpeg', options);\n}\n\n/**\n * Use these PNG options for output image.\n *\n * By default, PNG output is full colour at 8 bits per pixel.\n *\n * Indexed PNG input at 1, 2 or 4 bits per pixel is converted to 8 bits per pixel.\n * Set `palette` to `true` for slower, indexed PNG output.\n *\n * For 16 bits per pixel output, convert to `rgb16` via\n * {@link /api-colour#tocolourspace|toColourspace}.\n *\n * @example\n * // Convert any input to full colour PNG output\n * const data = await sharp(input)\n *   .png()\n *   .toBuffer();\n *\n * @example\n * // Convert any input to indexed PNG output (slower)\n * const data = await sharp(input)\n *   .png({ palette: true })\n *   .toBuffer();\n *\n * @example\n * // Output 16 bits per pixel RGB(A)\n * const data = await sharp(input)\n *  .toColourspace('rgb16')\n *  .png()\n *  .toBuffer();\n *\n * @param {Object} [options]\n * @param {boolean} [options.progressive=false] - use progressive (interlace) scan\n * @param {number} [options.compressionLevel=6] - zlib compression level, 0 (fastest, largest) to 9 (slowest, smallest)\n * @param {boolean} [options.adaptiveFiltering=false] - use adaptive row filtering\n * @param {boolean} [options.palette=false] - quantise to a palette-based image with alpha transparency support\n * @param {number} [options.quality=100] - use the lowest number of colours needed to achieve given quality, sets `palette` to `true`\n * @param {number} [options.effort=7] - CPU effort, between 1 (fastest) and 10 (slowest), sets `palette` to `true`\n * @param {number} [options.colours=256] - maximum number of palette entries, sets `palette` to `true`\n * @param {number} [options.colors=256] - alternative spelling of `options.colours`, sets `palette` to `true`\n * @param {number} [options.dither=1.0] - level of Floyd-Steinberg error diffusion, sets `palette` to `true`\n * @param {boolean} [options.force=true] - force PNG output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction png (options) {\n  if (is.object(options)) {\n    if (is.defined(options.progressive)) {\n      this._setBooleanOption('pngProgressive', options.progressive);\n    }\n    if (is.defined(options.compressionLevel)) {\n      if (is.integer(options.compressionLevel) && is.inRange(options.compressionLevel, 0, 9)) {\n        this.options.pngCompressionLevel = options.compressionLevel;\n      } else {\n        throw is.invalidParameterError('compressionLevel', 'integer between 0 and 9', options.compressionLevel);\n      }\n    }\n    if (is.defined(options.adaptiveFiltering)) {\n      this._setBooleanOption('pngAdaptiveFiltering', options.adaptiveFiltering);\n    }\n    const colours = options.colours || options.colors;\n    if (is.defined(colours)) {\n      if (is.integer(colours) && is.inRange(colours, 2, 256)) {\n        this.options.pngBitdepth = bitdepthFromColourCount(colours);\n      } else {\n        throw is.invalidParameterError('colours', 'integer between 2 and 256', colours);\n      }\n    }\n    if (is.defined(options.palette)) {\n      this._setBooleanOption('pngPalette', options.palette);\n    } else if ([options.quality, options.effort, options.colours, options.colors, options.dither].some(is.defined)) {\n      this._setBooleanOption('pngPalette', true);\n    }\n    if (this.options.pngPalette) {\n      if (is.defined(options.quality)) {\n        if (is.integer(options.quality) && is.inRange(options.quality, 0, 100)) {\n          this.options.pngQuality = options.quality;\n        } else {\n          throw is.invalidParameterError('quality', 'integer between 0 and 100', options.quality);\n        }\n      }\n      if (is.defined(options.effort)) {\n        if (is.integer(options.effort) && is.inRange(options.effort, 1, 10)) {\n          this.options.pngEffort = options.effort;\n        } else {\n          throw is.invalidParameterError('effort', 'integer between 1 and 10', options.effort);\n        }\n      }\n      if (is.defined(options.dither)) {\n        if (is.number(options.dither) && is.inRange(options.dither, 0, 1)) {\n          this.options.pngDither = options.dither;\n        } else {\n          throw is.invalidParameterError('dither', 'number between 0.0 and 1.0', options.dither);\n        }\n      }\n    }\n  }\n  return this._updateFormatOut('png', options);\n}\n\n/**\n * Use these WebP options for output image.\n *\n * @example\n * // Convert any input to lossless WebP output\n * const data = await sharp(input)\n *   .webp({ lossless: true })\n *   .toBuffer();\n *\n * @example\n * // Optimise the file size of an animated WebP\n * const outputWebp = await sharp(inputWebp, { animated: true })\n *   .webp({ effort: 6 })\n *   .toBuffer();\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {number} [options.alphaQuality=100] - quality of alpha layer, integer 0-100\n * @param {boolean} [options.lossless=false] - use lossless compression mode\n * @param {boolean} [options.nearLossless=false] - use near_lossless compression mode\n * @param {boolean} [options.smartSubsample=false] - use high quality chroma subsampling\n * @param {boolean} [options.smartDeblock=false] - auto-adjust the deblocking filter, can improve low contrast edges (slow)\n * @param {string} [options.preset='default'] - named preset for preprocessing/filtering, one of: default, photo, picture, drawing, icon, text\n * @param {number} [options.effort=4] - CPU effort, between 0 (fastest) and 6 (slowest)\n * @param {number} [options.loop=0] - number of animation iterations, use 0 for infinite animation\n * @param {number|number[]} [options.delay] - delay(s) between animation frames (in milliseconds)\n * @param {boolean} [options.minSize=false] - prevent use of animation key frames to minimise file size (slow)\n * @param {boolean} [options.mixed=false] - allow mixture of lossy and lossless animation frames (slow)\n * @param {boolean} [options.force=true] - force WebP output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction webp (options) {\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.webpQuality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.alphaQuality)) {\n      if (is.integer(options.alphaQuality) && is.inRange(options.alphaQuality, 0, 100)) {\n        this.options.webpAlphaQuality = options.alphaQuality;\n      } else {\n        throw is.invalidParameterError('alphaQuality', 'integer between 0 and 100', options.alphaQuality);\n      }\n    }\n    if (is.defined(options.lossless)) {\n      this._setBooleanOption('webpLossless', options.lossless);\n    }\n    if (is.defined(options.nearLossless)) {\n      this._setBooleanOption('webpNearLossless', options.nearLossless);\n    }\n    if (is.defined(options.smartSubsample)) {\n      this._setBooleanOption('webpSmartSubsample', options.smartSubsample);\n    }\n    if (is.defined(options.smartDeblock)) {\n      this._setBooleanOption('webpSmartDeblock', options.smartDeblock);\n    }\n    if (is.defined(options.preset)) {\n      if (is.string(options.preset) && is.inArray(options.preset, ['default', 'photo', 'picture', 'drawing', 'icon', 'text'])) {\n        this.options.webpPreset = options.preset;\n      } else {\n        throw is.invalidParameterError('preset', 'one of: default, photo, picture, drawing, icon, text', options.preset);\n      }\n    }\n    if (is.defined(options.effort)) {\n      if (is.integer(options.effort) && is.inRange(options.effort, 0, 6)) {\n        this.options.webpEffort = options.effort;\n      } else {\n        throw is.invalidParameterError('effort', 'integer between 0 and 6', options.effort);\n      }\n    }\n    if (is.defined(options.minSize)) {\n      this._setBooleanOption('webpMinSize', options.minSize);\n    }\n    if (is.defined(options.mixed)) {\n      this._setBooleanOption('webpMixed', options.mixed);\n    }\n  }\n  trySetAnimationOptions(options, this.options);\n  return this._updateFormatOut('webp', options);\n}\n\n/**\n * Use these GIF options for the output image.\n *\n * The first entry in the palette is reserved for transparency.\n *\n * The palette of the input image will be re-used if possible.\n *\n * @since 0.30.0\n *\n * @example\n * // Convert PNG to GIF\n * await sharp(pngBuffer)\n *   .gif()\n *   .toBuffer();\n *\n * @example\n * // Convert animated WebP to animated GIF\n * await sharp('animated.webp', { animated: true })\n *   .toFile('animated.gif');\n *\n * @example\n * // Create a 128x128, cropped, non-dithered, animated thumbnail of an animated GIF\n * const out = await sharp('in.gif', { animated: true })\n *   .resize({ width: 128, height: 128 })\n *   .gif({ dither: 0 })\n *   .toBuffer();\n *\n * @example\n * // Lossy file size reduction of animated GIF\n * await sharp('in.gif', { animated: true })\n *   .gif({ interFrameMaxError: 8 })\n *   .toFile('optim.gif');\n *\n * @param {Object} [options] - output options\n * @param {boolean} [options.reuse=true] - re-use existing palette, otherwise generate new (slow)\n * @param {boolean} [options.progressive=false] - use progressive (interlace) scan\n * @param {number} [options.colours=256] - maximum number of palette entries, including transparency, between 2 and 256\n * @param {number} [options.colors=256] - alternative spelling of `options.colours`\n * @param {number} [options.effort=7] - CPU effort, between 1 (fastest) and 10 (slowest)\n * @param {number} [options.dither=1.0] - level of Floyd-Steinberg error diffusion, between 0 (least) and 1 (most)\n * @param {number} [options.interFrameMaxError=0] - maximum inter-frame error for transparency, between 0 (lossless) and 32\n * @param {number} [options.interPaletteMaxError=3] - maximum inter-palette error for palette reuse, between 0 and 256\n * @param {boolean} [options.keepDuplicateFrames=false] - keep duplicate frames in the output instead of combining them\n * @param {number} [options.loop=0] - number of animation iterations, use 0 for infinite animation\n * @param {number|number[]} [options.delay] - delay(s) between animation frames (in milliseconds)\n * @param {boolean} [options.force=true] - force GIF output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction gif (options) {\n  if (is.object(options)) {\n    if (is.defined(options.reuse)) {\n      this._setBooleanOption('gifReuse', options.reuse);\n    }\n    if (is.defined(options.progressive)) {\n      this._setBooleanOption('gifProgressive', options.progressive);\n    }\n    const colours = options.colours || options.colors;\n    if (is.defined(colours)) {\n      if (is.integer(colours) && is.inRange(colours, 2, 256)) {\n        this.options.gifBitdepth = bitdepthFromColourCount(colours);\n      } else {\n        throw is.invalidParameterError('colours', 'integer between 2 and 256', colours);\n      }\n    }\n    if (is.defined(options.effort)) {\n      if (is.number(options.effort) && is.inRange(options.effort, 1, 10)) {\n        this.options.gifEffort = options.effort;\n      } else {\n        throw is.invalidParameterError('effort', 'integer between 1 and 10', options.effort);\n      }\n    }\n    if (is.defined(options.dither)) {\n      if (is.number(options.dither) && is.inRange(options.dither, 0, 1)) {\n        this.options.gifDither = options.dither;\n      } else {\n        throw is.invalidParameterError('dither', 'number between 0.0 and 1.0', options.dither);\n      }\n    }\n    if (is.defined(options.interFrameMaxError)) {\n      if (is.number(options.interFrameMaxError) && is.inRange(options.interFrameMaxError, 0, 32)) {\n        this.options.gifInterFrameMaxError = options.interFrameMaxError;\n      } else {\n        throw is.invalidParameterError('interFrameMaxError', 'number between 0.0 and 32.0', options.interFrameMaxError);\n      }\n    }\n    if (is.defined(options.interPaletteMaxError)) {\n      if (is.number(options.interPaletteMaxError) && is.inRange(options.interPaletteMaxError, 0, 256)) {\n        this.options.gifInterPaletteMaxError = options.interPaletteMaxError;\n      } else {\n        throw is.invalidParameterError('interPaletteMaxError', 'number between 0.0 and 256.0', options.interPaletteMaxError);\n      }\n    }\n    if (is.defined(options.keepDuplicateFrames)) {\n      if (is.bool(options.keepDuplicateFrames)) {\n        this._setBooleanOption('gifKeepDuplicateFrames', options.keepDuplicateFrames);\n      } else {\n        throw is.invalidParameterError('keepDuplicateFrames', 'boolean', options.keepDuplicateFrames);\n      }\n    }\n  }\n  trySetAnimationOptions(options, this.options);\n  return this._updateFormatOut('gif', options);\n}\n\n/* istanbul ignore next */\n/**\n * Use these JP2 options for output image.\n *\n * Requires libvips compiled with support for OpenJPEG.\n * The prebuilt binaries do not include this - see\n * {@link https://sharp.pixelplumbing.com/install#custom-libvips installing a custom libvips}.\n *\n * @example\n * // Convert any input to lossless JP2 output\n * const data = await sharp(input)\n *   .jp2({ lossless: true })\n *   .toBuffer();\n *\n * @example\n * // Convert any input to very high quality JP2 output\n * const data = await sharp(input)\n *   .jp2({\n *     quality: 100,\n *     chromaSubsampling: '4:4:4'\n *   })\n *   .toBuffer();\n *\n * @since 0.29.1\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {boolean} [options.lossless=false] - use lossless compression mode\n * @param {number} [options.tileWidth=512] - horizontal tile size\n * @param {number} [options.tileHeight=512] - vertical tile size\n * @param {string} [options.chromaSubsampling='4:4:4'] - set to '4:2:0' to use chroma subsampling\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction jp2 (options) {\n  if (!this.constructor.format.jp2k.output.buffer) {\n    throw errJp2Save();\n  }\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.jp2Quality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.lossless)) {\n      if (is.bool(options.lossless)) {\n        this.options.jp2Lossless = options.lossless;\n      } else {\n        throw is.invalidParameterError('lossless', 'boolean', options.lossless);\n      }\n    }\n    if (is.defined(options.tileWidth)) {\n      if (is.integer(options.tileWidth) && is.inRange(options.tileWidth, 1, 32768)) {\n        this.options.jp2TileWidth = options.tileWidth;\n      } else {\n        throw is.invalidParameterError('tileWidth', 'integer between 1 and 32768', options.tileWidth);\n      }\n    }\n    if (is.defined(options.tileHeight)) {\n      if (is.integer(options.tileHeight) && is.inRange(options.tileHeight, 1, 32768)) {\n        this.options.jp2TileHeight = options.tileHeight;\n      } else {\n        throw is.invalidParameterError('tileHeight', 'integer between 1 and 32768', options.tileHeight);\n      }\n    }\n    if (is.defined(options.chromaSubsampling)) {\n      if (is.string(options.chromaSubsampling) && is.inArray(options.chromaSubsampling, ['4:2:0', '4:4:4'])) {\n        this.options.jp2ChromaSubsampling = options.chromaSubsampling;\n      } else {\n        throw is.invalidParameterError('chromaSubsampling', 'one of: 4:2:0, 4:4:4', options.chromaSubsampling);\n      }\n    }\n  }\n  return this._updateFormatOut('jp2', options);\n}\n\n/**\n * Set animation options if available.\n * @private\n *\n * @param {Object} [source] - output options\n * @param {number} [source.loop=0] - number of animation iterations, use 0 for infinite animation\n * @param {number[]} [source.delay] - list of delays between animation frames (in milliseconds)\n * @param {Object} [target] - target object for valid options\n * @throws {Error} Invalid options\n */\nfunction trySetAnimationOptions (source, target) {\n  if (is.object(source) && is.defined(source.loop)) {\n    if (is.integer(source.loop) && is.inRange(source.loop, 0, 65535)) {\n      target.loop = source.loop;\n    } else {\n      throw is.invalidParameterError('loop', 'integer between 0 and 65535', source.loop);\n    }\n  }\n  if (is.object(source) && is.defined(source.delay)) {\n    // We allow singular values as well\n    if (is.integer(source.delay) && is.inRange(source.delay, 0, 65535)) {\n      target.delay = [source.delay];\n    } else if (\n      Array.isArray(source.delay) &&\n      source.delay.every(is.integer) &&\n      source.delay.every(v => is.inRange(v, 0, 65535))) {\n      target.delay = source.delay;\n    } else {\n      throw is.invalidParameterError('delay', 'integer or an array of integers between 0 and 65535', source.delay);\n    }\n  }\n}\n\n/**\n * Use these TIFF options for output image.\n *\n * The `density` can be set in pixels/inch via {@link #withmetadata|withMetadata}\n * instead of providing `xres` and `yres` in pixels/mm.\n *\n * @example\n * // Convert SVG input to LZW-compressed, 1 bit per pixel TIFF output\n * sharp('input.svg')\n *   .tiff({\n *     compression: 'lzw',\n *     bitdepth: 1\n *   })\n *   .toFile('1-bpp-output.tiff')\n *   .then(info => { ... });\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {boolean} [options.force=true] - force TIFF output, otherwise attempt to use input format\n * @param {string} [options.compression='jpeg'] - compression options: none, jpeg, deflate, packbits, ccittfax4, lzw, webp, zstd, jp2k\n * @param {string} [options.predictor='horizontal'] - compression predictor options: none, horizontal, float\n * @param {boolean} [options.pyramid=false] - write an image pyramid\n * @param {boolean} [options.tile=false] - write a tiled tiff\n * @param {number} [options.tileWidth=256] - horizontal tile size\n * @param {number} [options.tileHeight=256] - vertical tile size\n * @param {number} [options.xres=1.0] - horizontal resolution in pixels/mm\n * @param {number} [options.yres=1.0] - vertical resolution in pixels/mm\n * @param {string} [options.resolutionUnit='inch'] - resolution unit options: inch, cm\n * @param {number} [options.bitdepth=8] - reduce bitdepth to 1, 2 or 4 bit\n * @param {boolean} [options.miniswhite=false] - write 1-bit images as miniswhite\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction tiff (options) {\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.tiffQuality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.bitdepth)) {\n      if (is.integer(options.bitdepth) && is.inArray(options.bitdepth, [1, 2, 4, 8])) {\n        this.options.tiffBitdepth = options.bitdepth;\n      } else {\n        throw is.invalidParameterError('bitdepth', '1, 2, 4 or 8', options.bitdepth);\n      }\n    }\n    // tiling\n    if (is.defined(options.tile)) {\n      this._setBooleanOption('tiffTile', options.tile);\n    }\n    if (is.defined(options.tileWidth)) {\n      if (is.integer(options.tileWidth) && options.tileWidth > 0) {\n        this.options.tiffTileWidth = options.tileWidth;\n      } else {\n        throw is.invalidParameterError('tileWidth', 'integer greater than zero', options.tileWidth);\n      }\n    }\n    if (is.defined(options.tileHeight)) {\n      if (is.integer(options.tileHeight) && options.tileHeight > 0) {\n        this.options.tiffTileHeight = options.tileHeight;\n      } else {\n        throw is.invalidParameterError('tileHeight', 'integer greater than zero', options.tileHeight);\n      }\n    }\n    // miniswhite\n    if (is.defined(options.miniswhite)) {\n      this._setBooleanOption('tiffMiniswhite', options.miniswhite);\n    }\n    // pyramid\n    if (is.defined(options.pyramid)) {\n      this._setBooleanOption('tiffPyramid', options.pyramid);\n    }\n    // resolution\n    if (is.defined(options.xres)) {\n      if (is.number(options.xres) && options.xres > 0) {\n        this.options.tiffXres = options.xres;\n      } else {\n        throw is.invalidParameterError('xres', 'number greater than zero', options.xres);\n      }\n    }\n    if (is.defined(options.yres)) {\n      if (is.number(options.yres) && options.yres > 0) {\n        this.options.tiffYres = options.yres;\n      } else {\n        throw is.invalidParameterError('yres', 'number greater than zero', options.yres);\n      }\n    }\n    // compression\n    if (is.defined(options.compression)) {\n      if (is.string(options.compression) && is.inArray(options.compression, ['none', 'jpeg', 'deflate', 'packbits', 'ccittfax4', 'lzw', 'webp', 'zstd', 'jp2k'])) {\n        this.options.tiffCompression = options.compression;\n      } else {\n        throw is.invalidParameterError('compression', 'one of: none, jpeg, deflate, packbits, ccittfax4, lzw, webp, zstd, jp2k', options.compression);\n      }\n    }\n    // predictor\n    if (is.defined(options.predictor)) {\n      if (is.string(options.predictor) && is.inArray(options.predictor, ['none', 'horizontal', 'float'])) {\n        this.options.tiffPredictor = options.predictor;\n      } else {\n        throw is.invalidParameterError('predictor', 'one of: none, horizontal, float', options.predictor);\n      }\n    }\n    // resolutionUnit\n    if (is.defined(options.resolutionUnit)) {\n      if (is.string(options.resolutionUnit) && is.inArray(options.resolutionUnit, ['inch', 'cm'])) {\n        this.options.tiffResolutionUnit = options.resolutionUnit;\n      } else {\n        throw is.invalidParameterError('resolutionUnit', 'one of: inch, cm', options.resolutionUnit);\n      }\n    }\n  }\n  return this._updateFormatOut('tiff', options);\n}\n\n/**\n * Use these AVIF options for output image.\n *\n * AVIF image sequences are not supported.\n * Prebuilt binaries support a bitdepth of 8 only.\n *\n * This feature is experimental on the Windows ARM64 platform\n * and requires a CPU with ARM64v8.4 or later.\n *\n * @example\n * const data = await sharp(input)\n *   .avif({ effort: 2 })\n *   .toBuffer();\n *\n * @example\n * const data = await sharp(input)\n *   .avif({ lossless: true })\n *   .toBuffer();\n *\n * @since 0.27.0\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=50] - quality, integer 1-100\n * @param {boolean} [options.lossless=false] - use lossless compression\n * @param {number} [options.effort=4] - CPU effort, between 0 (fastest) and 9 (slowest)\n * @param {string} [options.chromaSubsampling='4:4:4'] - set to '4:2:0' to use chroma subsampling\n * @param {number} [options.bitdepth=8] - set bitdepth to 8, 10 or 12 bit\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction avif (options) {\n  return this.heif({ ...options, compression: 'av1' });\n}\n\n/**\n * Use these HEIF options for output image.\n *\n * Support for patent-encumbered HEIC images using `hevc` compression requires the use of a\n * globally-installed libvips compiled with support for libheif, libde265 and x265.\n *\n * @example\n * const data = await sharp(input)\n *   .heif({ compression: 'hevc' })\n *   .toBuffer();\n *\n * @since 0.23.0\n *\n * @param {Object} options - output options\n * @param {string} options.compression - compression format: av1, hevc\n * @param {number} [options.quality=50] - quality, integer 1-100\n * @param {boolean} [options.lossless=false] - use lossless compression\n * @param {number} [options.effort=4] - CPU effort, between 0 (fastest) and 9 (slowest)\n * @param {string} [options.chromaSubsampling='4:4:4'] - set to '4:2:0' to use chroma subsampling\n * @param {number} [options.bitdepth=8] - set bitdepth to 8, 10 or 12 bit\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction heif (options) {\n  if (is.object(options)) {\n    if (is.string(options.compression) && is.inArray(options.compression, ['av1', 'hevc'])) {\n      this.options.heifCompression = options.compression;\n    } else {\n      throw is.invalidParameterError('compression', 'one of: av1, hevc', options.compression);\n    }\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.heifQuality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.lossless)) {\n      if (is.bool(options.lossless)) {\n        this.options.heifLossless = options.lossless;\n      } else {\n        throw is.invalidParameterError('lossless', 'boolean', options.lossless);\n      }\n    }\n    if (is.defined(options.effort)) {\n      if (is.integer(options.effort) && is.inRange(options.effort, 0, 9)) {\n        this.options.heifEffort = options.effort;\n      } else {\n        throw is.invalidParameterError('effort', 'integer between 0 and 9', options.effort);\n      }\n    }\n    if (is.defined(options.chromaSubsampling)) {\n      if (is.string(options.chromaSubsampling) && is.inArray(options.chromaSubsampling, ['4:2:0', '4:4:4'])) {\n        this.options.heifChromaSubsampling = options.chromaSubsampling;\n      } else {\n        throw is.invalidParameterError('chromaSubsampling', 'one of: 4:2:0, 4:4:4', options.chromaSubsampling);\n      }\n    }\n    if (is.defined(options.bitdepth)) {\n      if (is.integer(options.bitdepth) && is.inArray(options.bitdepth, [8, 10, 12])) {\n        if (options.bitdepth !== 8 && this.constructor.versions.heif) {\n          throw is.invalidParameterError('bitdepth when using prebuilt binaries', 8, options.bitdepth);\n        }\n        this.options.heifBitdepth = options.bitdepth;\n      } else {\n        throw is.invalidParameterError('bitdepth', '8, 10 or 12', options.bitdepth);\n      }\n    }\n  } else {\n    throw is.invalidParameterError('options', 'Object', options);\n  }\n  return this._updateFormatOut('heif', options);\n}\n\n/**\n * Use these JPEG-XL (JXL) options for output image.\n *\n * This feature is experimental, please do not use in production systems.\n *\n * Requires libvips compiled with support for libjxl.\n * The prebuilt binaries do not include this - see\n * {@link https://sharp.pixelplumbing.com/install#custom-libvips installing a custom libvips}.\n *\n * @since 0.31.3\n *\n * @param {Object} [options] - output options\n * @param {number} [options.distance=1.0] - maximum encoding error, between 0 (highest quality) and 15 (lowest quality)\n * @param {number} [options.quality] - calculate `distance` based on JPEG-like quality, between 1 and 100, overrides distance if specified\n * @param {number} [options.decodingTier=0] - target decode speed tier, between 0 (highest quality) and 4 (lowest quality)\n * @param {boolean} [options.lossless=false] - use lossless compression\n * @param {number} [options.effort=7] - CPU effort, between 1 (fastest) and 9 (slowest)\n * @param {number} [options.loop=0] - number of animation iterations, use 0 for infinite animation\n * @param {number|number[]} [options.delay] - delay(s) between animation frames (in milliseconds)\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction jxl (options) {\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        // https://github.com/libjxl/libjxl/blob/0aeea7f180bafd6893c1db8072dcb67d2aa5b03d/tools/cjxl_main.cc#L640-L644\n        this.options.jxlDistance = options.quality >= 30\n          ? 0.1 + (100 - options.quality) * 0.09\n          : 53 / 3000 * options.quality * options.quality - 23 / 20 * options.quality + 25;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    } else if (is.defined(options.distance)) {\n      if (is.number(options.distance) && is.inRange(options.distance, 0, 15)) {\n        this.options.jxlDistance = options.distance;\n      } else {\n        throw is.invalidParameterError('distance', 'number between 0.0 and 15.0', options.distance);\n      }\n    }\n    if (is.defined(options.decodingTier)) {\n      if (is.integer(options.decodingTier) && is.inRange(options.decodingTier, 0, 4)) {\n        this.options.jxlDecodingTier = options.decodingTier;\n      } else {\n        throw is.invalidParameterError('decodingTier', 'integer between 0 and 4', options.decodingTier);\n      }\n    }\n    if (is.defined(options.lossless)) {\n      if (is.bool(options.lossless)) {\n        this.options.jxlLossless = options.lossless;\n      } else {\n        throw is.invalidParameterError('lossless', 'boolean', options.lossless);\n      }\n    }\n    if (is.defined(options.effort)) {\n      if (is.integer(options.effort) && is.inRange(options.effort, 1, 9)) {\n        this.options.jxlEffort = options.effort;\n      } else {\n        throw is.invalidParameterError('effort', 'integer between 1 and 9', options.effort);\n      }\n    }\n  }\n  trySetAnimationOptions(options, this.options);\n  return this._updateFormatOut('jxl', options);\n}\n\n/**\n * Force output to be raw, uncompressed pixel data.\n * Pixel ordering is left-to-right, top-to-bottom, without padding.\n * Channel ordering will be RGB or RGBA for non-greyscale colourspaces.\n *\n * @example\n * // Extract raw, unsigned 8-bit RGB pixel data from JPEG input\n * const { data, info } = await sharp('input.jpg')\n *   .raw()\n *   .toBuffer({ resolveWithObject: true });\n *\n * @example\n * // Extract alpha channel as raw, unsigned 16-bit pixel data from PNG input\n * const data = await sharp('input.png')\n *   .ensureAlpha()\n *   .extractChannel(3)\n *   .toColourspace('b-w')\n *   .raw({ depth: 'ushort' })\n *   .toBuffer();\n *\n * @param {Object} [options] - output options\n * @param {string} [options.depth='uchar'] - bit depth, one of: char, uchar (default), short, ushort, int, uint, float, complex, double, dpcomplex\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction raw (options) {\n  if (is.object(options)) {\n    if (is.defined(options.depth)) {\n      if (is.string(options.depth) && is.inArray(options.depth,\n        ['char', 'uchar', 'short', 'ushort', 'int', 'uint', 'float', 'complex', 'double', 'dpcomplex']\n      )) {\n        this.options.rawDepth = options.depth;\n      } else {\n        throw is.invalidParameterError('depth', 'one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex', options.depth);\n      }\n    }\n  }\n  return this._updateFormatOut('raw');\n}\n\n/**\n * Use tile-based deep zoom (image pyramid) output.\n *\n * Set the format and options for tile images via the `toFormat`, `jpeg`, `png` or `webp` functions.\n * Use a `.zip` or `.szi` file extension with `toFile` to write to a compressed archive file format.\n *\n * The container will be set to `zip` when the output is a Buffer or Stream, otherwise it will default to `fs`.\n *\n * @example\n *  sharp('input.tiff')\n *   .png()\n *   .tile({\n *     size: 512\n *   })\n *   .toFile('output.dz', function(err, info) {\n *     // output.dzi is the Deep Zoom XML definition\n *     // output_files contains 512x512 tiles grouped by zoom level\n *   });\n *\n * @example\n * const zipFileWithTiles = await sharp(input)\n *   .tile({ basename: \"tiles\" })\n *   .toBuffer();\n *\n * @example\n * const iiififier = sharp().tile({ layout: \"iiif\" });\n * readableStream\n *   .pipe(iiififier)\n *   .pipe(writeableStream);\n *\n * @param {Object} [options]\n * @param {number} [options.size=256] tile size in pixels, a value between 1 and 8192.\n * @param {number} [options.overlap=0] tile overlap in pixels, a value between 0 and 8192.\n * @param {number} [options.angle=0] tile angle of rotation, must be a multiple of 90.\n * @param {string|Object} [options.background={r: 255, g: 255, b: 255, alpha: 1}] - background colour, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to white without transparency.\n * @param {string} [options.depth] how deep to make the pyramid, possible values are `onepixel`, `onetile` or `one`, default based on layout.\n * @param {number} [options.skipBlanks=-1] Threshold to skip tile generation. Range is 0-255 for 8-bit images, 0-65535 for 16-bit images. Default is 5 for `google` layout, -1 (no skip) otherwise.\n * @param {string} [options.container='fs'] tile container, with value `fs` (filesystem) or `zip` (compressed file).\n * @param {string} [options.layout='dz'] filesystem layout, possible values are `dz`, `iiif`, `iiif3`, `zoomify` or `google`.\n * @param {boolean} [options.centre=false] centre image in tile.\n * @param {boolean} [options.center=false] alternative spelling of centre.\n * @param {string} [options.id='https://example.com/iiif'] when `layout` is `iiif`/`iiif3`, sets the `@id`/`id` attribute of `info.json`\n * @param {string} [options.basename] the name of the directory within the zip file when container is `zip`.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction tile (options) {\n  if (is.object(options)) {\n    // Size of square tiles, in pixels\n    if (is.defined(options.size)) {\n      if (is.integer(options.size) && is.inRange(options.size, 1, 8192)) {\n        this.options.tileSize = options.size;\n      } else {\n        throw is.invalidParameterError('size', 'integer between 1 and 8192', options.size);\n      }\n    }\n    // Overlap of tiles, in pixels\n    if (is.defined(options.overlap)) {\n      if (is.integer(options.overlap) && is.inRange(options.overlap, 0, 8192)) {\n        if (options.overlap > this.options.tileSize) {\n          throw is.invalidParameterError('overlap', `<= size (${this.options.tileSize})`, options.overlap);\n        }\n        this.options.tileOverlap = options.overlap;\n      } else {\n        throw is.invalidParameterError('overlap', 'integer between 0 and 8192', options.overlap);\n      }\n    }\n    // Container\n    if (is.defined(options.container)) {\n      if (is.string(options.container) && is.inArray(options.container, ['fs', 'zip'])) {\n        this.options.tileContainer = options.container;\n      } else {\n        throw is.invalidParameterError('container', 'one of: fs, zip', options.container);\n      }\n    }\n    // Layout\n    if (is.defined(options.layout)) {\n      if (is.string(options.layout) && is.inArray(options.layout, ['dz', 'google', 'iiif', 'iiif3', 'zoomify'])) {\n        this.options.tileLayout = options.layout;\n      } else {\n        throw is.invalidParameterError('layout', 'one of: dz, google, iiif, iiif3, zoomify', options.layout);\n      }\n    }\n    // Angle of rotation,\n    if (is.defined(options.angle)) {\n      if (is.integer(options.angle) && !(options.angle % 90)) {\n        this.options.tileAngle = options.angle;\n      } else {\n        throw is.invalidParameterError('angle', 'positive/negative multiple of 90', options.angle);\n      }\n    }\n    // Background colour\n    this._setBackgroundColourOption('tileBackground', options.background);\n    // Depth of tiles\n    if (is.defined(options.depth)) {\n      if (is.string(options.depth) && is.inArray(options.depth, ['onepixel', 'onetile', 'one'])) {\n        this.options.tileDepth = options.depth;\n      } else {\n        throw is.invalidParameterError('depth', 'one of: onepixel, onetile, one', options.depth);\n      }\n    }\n    // Threshold to skip blank tiles\n    if (is.defined(options.skipBlanks)) {\n      if (is.integer(options.skipBlanks) && is.inRange(options.skipBlanks, -1, 65535)) {\n        this.options.tileSkipBlanks = options.skipBlanks;\n      } else {\n        throw is.invalidParameterError('skipBlanks', 'integer between -1 and 255/65535', options.skipBlanks);\n      }\n    } else if (is.defined(options.layout) && options.layout === 'google') {\n      this.options.tileSkipBlanks = 5;\n    }\n    // Center image in tile\n    const centre = is.bool(options.center) ? options.center : options.centre;\n    if (is.defined(centre)) {\n      this._setBooleanOption('tileCentre', centre);\n    }\n    // @id attribute for IIIF layout\n    if (is.defined(options.id)) {\n      if (is.string(options.id)) {\n        this.options.tileId = options.id;\n      } else {\n        throw is.invalidParameterError('id', 'string', options.id);\n      }\n    }\n    // Basename for zip container\n    if (is.defined(options.basename)) {\n      if (is.string(options.basename)) {\n        this.options.tileBasename = options.basename;\n      } else {\n        throw is.invalidParameterError('basename', 'string', options.basename);\n      }\n    }\n  }\n  // Format\n  if (is.inArray(this.options.formatOut, ['jpeg', 'png', 'webp'])) {\n    this.options.tileFormat = this.options.formatOut;\n  } else if (this.options.formatOut !== 'input') {\n    throw is.invalidParameterError('format', 'one of: jpeg, png, webp', this.options.formatOut);\n  }\n  return this._updateFormatOut('dz');\n}\n\n/**\n * Set a timeout for processing, in seconds.\n * Use a value of zero to continue processing indefinitely, the default behaviour.\n *\n * The clock starts when libvips opens an input image for processing.\n * Time spent waiting for a libuv thread to become available is not included.\n *\n * @example\n * // Ensure processing takes no longer than 3 seconds\n * try {\n *   const data = await sharp(input)\n *     .blur(1000)\n *     .timeout({ seconds: 3 })\n *     .toBuffer();\n * } catch (err) {\n *   if (err.message.includes('timeout')) { ... }\n * }\n *\n * @since 0.29.2\n *\n * @param {Object} options\n * @param {number} options.seconds - Number of seconds after which processing will be stopped\n * @returns {Sharp}\n */\nfunction timeout (options) {\n  if (!is.plainObject(options)) {\n    throw is.invalidParameterError('options', 'object', options);\n  }\n  if (is.integer(options.seconds) && is.inRange(options.seconds, 0, 3600)) {\n    this.options.timeoutSeconds = options.seconds;\n  } else {\n    throw is.invalidParameterError('seconds', 'integer between 0 and 3600', options.seconds);\n  }\n  return this;\n}\n\n/**\n * Update the output format unless options.force is false,\n * in which case revert to input format.\n * @private\n * @param {string} formatOut\n * @param {Object} [options]\n * @param {boolean} [options.force=true] - force output format, otherwise attempt to use input format\n * @returns {Sharp}\n */\nfunction _updateFormatOut (formatOut, options) {\n  if (!(is.object(options) && options.force === false)) {\n    this.options.formatOut = formatOut;\n  }\n  return this;\n}\n\n/**\n * Update a boolean attribute of the this.options Object.\n * @private\n * @param {string} key\n * @param {boolean} val\n * @throws {Error} Invalid key\n */\nfunction _setBooleanOption (key, val) {\n  if (is.bool(val)) {\n    this.options[key] = val;\n  } else {\n    throw is.invalidParameterError(key, 'boolean', val);\n  }\n}\n\n/**\n * Called by a WriteableStream to notify us it is ready for data.\n * @private\n */\nfunction _read () {\n  /* istanbul ignore else */\n  if (!this.options.streamOut) {\n    this.options.streamOut = true;\n    const stack = Error();\n    this._pipeline(undefined, stack);\n  }\n}\n\n/**\n * Invoke the C++ image processing pipeline\n * Supports callback, stream and promise variants\n * @private\n */\nfunction _pipeline (callback, stack) {\n  if (typeof callback === 'function') {\n    // output=file/buffer\n    if (this._isStreamInput()) {\n      // output=file/buffer, input=stream\n      this.on('finish', () => {\n        this._flattenBufferIn();\n        sharp.pipeline(this.options, (err, data, info) => {\n          if (err) {\n            callback(is.nativeError(err, stack));\n          } else {\n            callback(null, data, info);\n          }\n        });\n      });\n    } else {\n      // output=file/buffer, input=file/buffer\n      sharp.pipeline(this.options, (err, data, info) => {\n        if (err) {\n          callback(is.nativeError(err, stack));\n        } else {\n          callback(null, data, info);\n        }\n      });\n    }\n    return this;\n  } else if (this.options.streamOut) {\n    // output=stream\n    if (this._isStreamInput()) {\n      // output=stream, input=stream\n      this.once('finish', () => {\n        this._flattenBufferIn();\n        sharp.pipeline(this.options, (err, data, info) => {\n          if (err) {\n            this.emit('error', is.nativeError(err, stack));\n          } else {\n            this.emit('info', info);\n            this.push(data);\n          }\n          this.push(null);\n          this.on('end', () => this.emit('close'));\n        });\n      });\n      if (this.streamInFinished) {\n        this.emit('finish');\n      }\n    } else {\n      // output=stream, input=file/buffer\n      sharp.pipeline(this.options, (err, data, info) => {\n        if (err) {\n          this.emit('error', is.nativeError(err, stack));\n        } else {\n          this.emit('info', info);\n          this.push(data);\n        }\n        this.push(null);\n        this.on('end', () => this.emit('close'));\n      });\n    }\n    return this;\n  } else {\n    // output=promise\n    if (this._isStreamInput()) {\n      // output=promise, input=stream\n      return new Promise((resolve, reject) => {\n        this.once('finish', () => {\n          this._flattenBufferIn();\n          sharp.pipeline(this.options, (err, data, info) => {\n            if (err) {\n              reject(is.nativeError(err, stack));\n            } else {\n              if (this.options.resolveWithObject) {\n                resolve({ data, info });\n              } else {\n                resolve(data);\n              }\n            }\n          });\n        });\n      });\n    } else {\n      // output=promise, input=file/buffer\n      return new Promise((resolve, reject) => {\n        sharp.pipeline(this.options, (err, data, info) => {\n          if (err) {\n            reject(is.nativeError(err, stack));\n          } else {\n            if (this.options.resolveWithObject) {\n              resolve({ data, info });\n            } else {\n              resolve(data);\n            }\n          }\n        });\n      });\n    }\n  }\n}\n\n/**\n * Decorate the Sharp prototype with output-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public\n    toFile,\n    toBuffer,\n    keepExif,\n    withExif,\n    withExifMerge,\n    keepIccProfile,\n    withIccProfile,\n    keepXmp,\n    withXmp,\n    keepMetadata,\n    withMetadata,\n    toFormat,\n    jpeg,\n    jp2,\n    png,\n    webp,\n    tiff,\n    avif,\n    heif,\n    jxl,\n    gif,\n    raw,\n    tile,\n    timeout,\n    // Private\n    _updateFormatOut,\n    _setBooleanOption,\n    _read,\n    _pipeline\n  });\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst events = require('node:events');\nconst detectLibc = require('detect-libc');\n\nconst is = require('./is');\nconst { runtimePlatformArch } = require('./libvips');\nconst sharp = require('./sharp');\n\nconst runtimePlatform = runtimePlatformArch();\nconst libvipsVersion = sharp.libvipsVersion();\n\n/**\n * An Object containing nested boolean values representing the available input and output formats/methods.\n * @member\n * @example\n * console.log(sharp.format);\n * @returns {Object}\n */\nconst format = sharp.format();\nformat.heif.output.alias = ['avif', 'heic'];\nformat.jpeg.output.alias = ['jpe', 'jpg'];\nformat.tiff.output.alias = ['tif'];\nformat.jp2k.output.alias = ['j2c', 'j2k', 'jp2', 'jpx'];\n\n/**\n * An Object containing the available interpolators and their proper values\n * @readonly\n * @enum {string}\n */\nconst interpolators = {\n  /** [Nearest neighbour interpolation](http://en.wikipedia.org/wiki/Nearest-neighbor_interpolation). Suitable for image enlargement only. */\n  nearest: 'nearest',\n  /** [Bilinear interpolation](http://en.wikipedia.org/wiki/Bilinear_interpolation). Faster than bicubic but with less smooth results. */\n  bilinear: 'bilinear',\n  /** [Bicubic interpolation](http://en.wikipedia.org/wiki/Bicubic_interpolation) (the default). */\n  bicubic: 'bicubic',\n  /** [LBB interpolation](https://github.com/libvips/libvips/blob/master/libvips/resample/lbb.cpp#L100). Prevents some \"[acutance](http://en.wikipedia.org/wiki/Acutance)\" but typically reduces performance by a factor of 2. */\n  locallyBoundedBicubic: 'lbb',\n  /** [Nohalo interpolation](http://eprints.soton.ac.uk/268086/). Prevents acutance but typically reduces performance by a factor of 3. */\n  nohalo: 'nohalo',\n  /** [VSQBS interpolation](https://github.com/libvips/libvips/blob/master/libvips/resample/vsqbs.cpp#L48). Prevents \"staircasing\" when enlarging. */\n  vertexSplitQuadraticBasisSpline: 'vsqbs'\n};\n\n/**\n * An Object containing the version numbers of sharp, libvips\n * and (when using prebuilt binaries) its dependencies.\n *\n * @member\n * @example\n * console.log(sharp.versions);\n */\nlet versions = {\n  vips: libvipsVersion.semver\n};\n/* istanbul ignore next */\nif (!libvipsVersion.isGlobal) {\n  if (!libvipsVersion.isWasm) {\n    try {\n      versions = require(`@img/sharp-${runtimePlatform}/versions`);\n    } catch (_) {\n      try {\n        versions = require(`@img/sharp-libvips-${runtimePlatform}/versions`);\n      } catch (_) {}\n    }\n  } else {\n    try {\n      versions = require('@img/sharp-wasm32/versions');\n    } catch (_) {}\n  }\n}\nversions.sharp = require('../package.json').version;\n\n/* istanbul ignore next */\nif (versions.heif && format.heif) {\n  // Prebuilt binaries provide AV1\n  format.heif.input.fileSuffix = ['.avif'];\n  format.heif.output.alias = ['avif'];\n}\n\n/**\n * Gets or, when options are provided, sets the limits of _libvips'_ operation cache.\n * Existing entries in the cache will be trimmed after any change in limits.\n * This method always returns cache statistics,\n * useful for determining how much working memory is required for a particular task.\n *\n * @example\n * const stats = sharp.cache();\n * @example\n * sharp.cache( { items: 200 } );\n * sharp.cache( { files: 0 } );\n * sharp.cache(false);\n *\n * @param {Object|boolean} [options=true] - Object with the following attributes, or boolean where true uses default cache settings and false removes all caching\n * @param {number} [options.memory=50] - is the maximum memory in MB to use for this cache\n * @param {number} [options.files=20] - is the maximum number of files to hold open\n * @param {number} [options.items=100] - is the maximum number of operations to cache\n * @returns {Object}\n */\nfunction cache (options) {\n  if (is.bool(options)) {\n    if (options) {\n      // Default cache settings of 50MB, 20 files, 100 items\n      return sharp.cache(50, 20, 100);\n    } else {\n      return sharp.cache(0, 0, 0);\n    }\n  } else if (is.object(options)) {\n    return sharp.cache(options.memory, options.files, options.items);\n  } else {\n    return sharp.cache();\n  }\n}\ncache(true);\n\n/**\n * Gets or, when a concurrency is provided, sets\n * the maximum number of threads _libvips_ should use to process _each image_.\n * These are from a thread pool managed by glib,\n * which helps avoid the overhead of creating new threads.\n *\n * This method always returns the current concurrency.\n *\n * The default value is the number of CPU cores,\n * except when using glibc-based Linux without jemalloc,\n * where the default is `1` to help reduce memory fragmentation.\n *\n * A value of `0` will reset this to the number of CPU cores.\n *\n * Some image format libraries spawn additional threads,\n * e.g. libaom manages its own 4 threads when encoding AVIF images,\n * and these are independent of the value set here.\n *\n * :::note\n * Further {@link /performance|control over performance} is available.\n * :::\n *\n * @example\n * const threads = sharp.concurrency(); // 4\n * sharp.concurrency(2); // 2\n * sharp.concurrency(0); // 4\n *\n * @param {number} [concurrency]\n * @returns {number} concurrency\n */\nfunction concurrency (concurrency) {\n  return sharp.concurrency(is.integer(concurrency) ? concurrency : null);\n}\n/* istanbul ignore next */\nif (detectLibc.familySync() === detectLibc.GLIBC && !sharp._isUsingJemalloc()) {\n  // Reduce default concurrency to 1 when using glibc memory allocator\n  sharp.concurrency(1);\n} else if (detectLibc.familySync() === detectLibc.MUSL && sharp.concurrency() === 1024) {\n  // Reduce default concurrency when musl thread over-subscription detected\n  sharp.concurrency(require('node:os').availableParallelism());\n}\n\n/**\n * An EventEmitter that emits a `change` event when a task is either:\n * - queued, waiting for _libuv_ to provide a worker thread\n * - complete\n * @member\n * @example\n * sharp.queue.on('change', function(queueLength) {\n *   console.log('Queue contains ' + queueLength + ' task(s)');\n * });\n */\nconst queue = new events.EventEmitter();\n\n/**\n * Provides access to internal task counters.\n * - queue is the number of tasks this module has queued waiting for _libuv_ to provide a worker thread from its pool.\n * - process is the number of resize tasks currently being processed.\n *\n * @example\n * const counters = sharp.counters(); // { queue: 2, process: 4 }\n *\n * @returns {Object}\n */\nfunction counters () {\n  return sharp.counters();\n}\n\n/**\n * Get and set use of SIMD vector unit instructions.\n * Requires libvips to have been compiled with highway support.\n *\n * Improves the performance of `resize`, `blur` and `sharpen` operations\n * by taking advantage of the SIMD vector unit of the CPU, e.g. Intel SSE and ARM NEON.\n *\n * @example\n * const simd = sharp.simd();\n * // simd is `true` if the runtime use of highway is currently enabled\n * @example\n * const simd = sharp.simd(false);\n * // prevent libvips from using highway at runtime\n *\n * @param {boolean} [simd=true]\n * @returns {boolean}\n */\nfunction simd (simd) {\n  return sharp.simd(is.bool(simd) ? simd : null);\n}\n\n/**\n * Block libvips operations at runtime.\n *\n * This is in addition to the `VIPS_BLOCK_UNTRUSTED` environment variable,\n * which when set will block all \"untrusted\" operations.\n *\n * @since 0.32.4\n *\n * @example <caption>Block all TIFF input.</caption>\n * sharp.block({\n *   operation: ['VipsForeignLoadTiff']\n * });\n *\n * @param {Object} options\n * @param {Array<string>} options.operation - List of libvips low-level operation names to block.\n */\nfunction block (options) {\n  if (is.object(options)) {\n    if (Array.isArray(options.operation) && options.operation.every(is.string)) {\n      sharp.block(options.operation, true);\n    } else {\n      throw is.invalidParameterError('operation', 'Array<string>', options.operation);\n    }\n  } else {\n    throw is.invalidParameterError('options', 'object', options);\n  }\n}\n\n/**\n * Unblock libvips operations at runtime.\n *\n * This is useful for defining a list of allowed operations.\n *\n * @since 0.32.4\n *\n * @example <caption>Block all input except WebP from the filesystem.</caption>\n * sharp.block({\n *   operation: ['VipsForeignLoad']\n * });\n * sharp.unblock({\n *   operation: ['VipsForeignLoadWebpFile']\n * });\n *\n * @example <caption>Block all input except JPEG and PNG from a Buffer or Stream.</caption>\n * sharp.block({\n *   operation: ['VipsForeignLoad']\n * });\n * sharp.unblock({\n *   operation: ['VipsForeignLoadJpegBuffer', 'VipsForeignLoadPngBuffer']\n * });\n *\n * @param {Object} options\n * @param {Array<string>} options.operation - List of libvips low-level operation names to unblock.\n */\nfunction unblock (options) {\n  if (is.object(options)) {\n    if (Array.isArray(options.operation) && options.operation.every(is.string)) {\n      sharp.block(options.operation, false);\n    } else {\n      throw is.invalidParameterError('operation', 'Array<string>', options.operation);\n    }\n  } else {\n    throw is.invalidParameterError('options', 'object', options);\n  }\n}\n\n/**\n * Decorate the Sharp class with utility-related functions.\n * @module Sharp\n * @private\n */\nmodule.exports = function (Sharp) {\n  Sharp.cache = cache;\n  Sharp.concurrency = concurrency;\n  Sharp.counters = counters;\n  Sharp.simd = simd;\n  Sharp.format = format;\n  Sharp.interpolators = interpolators;\n  Sharp.versions = versions;\n  Sharp.queue = queue;\n  Sharp.block = block;\n  Sharp.unblock = unblock;\n};\n", "// Copyright 2013 Lovell Fuller and others.\n// SPDX-License-Identifier: Apache-2.0\n\n'use strict';\n\nconst Sharp = require('./constructor');\nrequire('./input')(Sharp);\nrequire('./resize')(Sharp);\nrequire('./composite')(Sharp);\nrequire('./operation')(Sharp);\nrequire('./colour')(Sharp);\nrequire('./channel')(Sharp);\nrequire('./output')(Sharp);\nrequire('./utility')(Sharp);\n\nmodule.exports = Sharp;\n", "// lambda/thumbgen/index.ts\r\nimport { S3Event, S3Handler } from \"aws-lambda\";\r\nimport { S3Client, GetObjectCommand, PutObjectCommand } from \"@aws-sdk/client-s3\";\r\nimport sharp from \"sharp\";\r\n\r\nconst s3 = new S3Client({});\r\nconst BUCKET = process.env.BUCKET!;\r\n\r\nexport const handler: S3Handler = async (event: S3Event) => {\r\n  for (const record of event.Records) {\r\n    const key = decodeURIComponent(record.s3.object.key.replace(/\\+/g, ' '));\r\n\r\n    // only images from users/, skip anything already under thumbs/\r\n    if (!/^users\\//i.test(key)) continue;\r\n    if (/^thumbs\\//i.test(key)) continue;\r\n    if (!/\\.(png|jpe?g|webp)$/i.test(key)) continue;\r\n\r\n    const thumbKey = key\r\n      .replace(/^users\\//i, 'thumbs/')\r\n      .replace(/\\.[^.]+$/, '.jpg'); // <- force .jpg\r\n\r\n    const obj = await s3.send(new GetObjectCommand({ Bucket: BUCKET, Key: key }));\r\n    const buf = await obj.Body!.transformToByteArray();\r\n\r\n    const resized = await sharp(buf)\r\n      .resize(320, 320, { fit: \"inside\", withoutEnlargement: true })\r\n      .jpeg({ quality: 80 })\r\n      .toBuffer();\r\n\r\n    await s3.send(new PutObjectCommand({\r\n      Bucket: BUCKET,\r\n      Key: thumbKey,\r\n      Body: resized,\r\n      ContentType: \"image/jpeg\",\r\n      Metadata: { source: key }\r\n    }));\r\n\r\n    console.log(`\u2705 Generated: ${thumbKey}`);\r\n  }\r\n};\r\n"],
  "mappings": "yoBAAA,IAAAA,EAAAC,EAAA,CAAAC,GAAAC,KAAA,cASA,IAAMC,GAAU,SAAUC,EAAK,CAC7B,OAAO,OAAOA,EAAQ,KAAeA,IAAQ,IAC/C,EAMMC,GAAS,SAAUD,EAAK,CAC5B,OAAO,OAAOA,GAAQ,QACxB,EAMME,GAAc,SAAUF,EAAK,CACjC,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAG,IAAM,iBACjD,EAMMG,GAAK,SAAUH,EAAK,CACxB,OAAO,OAAOA,GAAQ,UACxB,EAMMI,GAAO,SAAUJ,EAAK,CAC1B,OAAO,OAAOA,GAAQ,SACxB,EAMMK,GAAS,SAAUL,EAAK,CAC5B,OAAOA,aAAe,MACxB,EAMMM,GAAa,SAAUN,EAAK,CAChC,GAAID,GAAQC,CAAG,EACb,OAAQA,EAAI,YAAa,CACvB,KAAK,WACL,KAAK,kBACL,KAAK,UACL,KAAK,YACL,KAAK,WACL,KAAK,YACL,KAAK,WACL,KAAK,aACL,KAAK,aACH,MAAO,EACX,CAGF,MAAO,EACT,EAMMO,GAAc,SAAUP,EAAK,CACjC,OAAOA,aAAe,WACxB,EAMMQ,GAAS,SAAUR,EAAK,CAC5B,OAAO,OAAOA,GAAQ,UAAYA,EAAI,OAAS,CACjD,EAMMS,GAAS,SAAUT,EAAK,CAC5B,OAAO,OAAOA,GAAQ,UAAY,CAAC,OAAO,MAAMA,CAAG,CACrD,EAMMU,GAAU,SAAUV,EAAK,CAC7B,OAAO,OAAO,UAAUA,CAAG,CAC7B,EAMMW,GAAU,SAAUX,EAAKY,EAAKC,EAAK,CACvC,OAAOb,GAAOY,GAAOZ,GAAOa,CAC9B,EAMMC,GAAU,SAAUd,EAAKe,EAAM,CACnC,OAAOA,EAAK,SAASf,CAAG,CAC1B,EAWMgB,GAAwB,SAAUC,EAAMC,EAAUC,EAAQ,CAC9D,OAAO,IAAI,MACT,YAAYD,CAAQ,QAAQD,CAAI,iBAAiBE,CAAM,YAAY,OAAOA,CAAM,EAClF,CACF,EAUMC,GAAc,SAAUC,EAAQC,EAAS,CAC7C,OAAAA,EAAQ,QAAUD,EAAO,QAClBC,CACT,EAEAxB,GAAO,QAAU,CACf,QAAAC,GACA,OAAAE,GACA,YAAAC,GACA,GAAAC,GACA,KAAAC,GACA,OAAAC,GACA,WAAAC,GACA,YAAAC,GACA,OAAAC,GACA,OAAAC,GACA,QAAAC,GACA,QAAAC,GACA,QAAAG,GACA,sBAAAE,GACA,YAAAI,EACF,ICxKA,IAAAG,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAKA,IAAMC,GAAU,IAAM,QAAQ,WAAa,QAEvCC,GAAS,KACPC,GAAY,IAAM,CACtB,GAAI,CAACD,GAEH,GAAID,GAAQ,GAAK,QAAQ,OAAQ,CAC/B,IAAMG,EAAO,QAAQ,OAAO,eAC5B,QAAQ,OAAO,eAAiB,GAChCF,GAAS,QAAQ,OAAO,UAAU,EAClC,QAAQ,OAAO,eAAiBE,CAClC,MACEF,GAAS,CAAC,EAGd,OAAOA,EACT,EAEAF,GAAO,QAAU,CAAE,QAAAC,GAAS,UAAAE,EAAU,ICvBtC,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAKA,IAAMC,GAAK,QAAQ,IAAI,EAEjBC,GAAW,eACXC,GAAY,iBACZC,GAAa,KAQbC,GAAgBC,GAAS,CAC7B,IAAMC,EAAKN,GAAG,SAASK,EAAM,GAAG,EAC1BE,EAAS,OAAO,MAAMJ,EAAU,EAChCK,EAAYR,GAAG,SAASM,EAAIC,EAAQ,EAAGJ,GAAY,CAAC,EAC1D,OAAAH,GAAG,MAAMM,EAAI,IAAM,CAAC,CAAC,EACdC,EAAO,SAAS,EAAGC,CAAS,CACrC,EAQMC,GAAYJ,GAAS,IAAI,QAAQ,CAACK,EAASC,IAAW,CAC1DX,GAAG,KAAKK,EAAM,IAAK,CAACO,EAAKN,IAAO,CAC9B,GAAIM,EACFD,EAAOC,CAAG,MACL,CACL,IAAML,EAAS,OAAO,MAAMJ,EAAU,EACtCH,GAAG,KAAKM,EAAIC,EAAQ,EAAGJ,GAAY,EAAG,CAACU,EAAGL,IAAc,CACtDE,EAAQH,EAAO,SAAS,EAAGC,CAAS,CAAC,EACrCR,GAAG,MAAMM,EAAI,IAAM,CAAC,CAAC,CACvB,CAAC,CACH,CACF,CAAC,CACH,CAAC,EAEDP,GAAO,QAAU,CACf,SAAAE,GACA,UAAAC,GACA,aAAAE,GACA,SAAAK,EACF,IClDA,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAKA,IAAMC,GAAmBC,GAAQ,CAY/B,GAXIA,EAAI,OAAS,IAGbA,EAAI,aAAa,CAAC,IAAM,YAIxBA,EAAI,UAAU,CAAC,IAAM,GAIrBA,EAAI,UAAU,CAAC,IAAM,EAEvB,OAAO,KAET,IAAMC,EAASD,EAAI,aAAa,EAAE,EAC5BE,EAAOF,EAAI,aAAa,EAAE,EAC1BG,EAAQH,EAAI,aAAa,EAAE,EACjC,QAASI,EAAI,EAAGA,EAAID,EAAOC,IAAK,CAC9B,IAAMC,EAAeJ,EAAUG,EAAIF,EAEnC,GADaF,EAAI,aAAaK,CAAY,IAC7B,EAAG,CACd,IAAMC,EAAaN,EAAI,aAAaK,EAAe,CAAC,EAC9CE,EAAWP,EAAI,aAAaK,EAAe,EAAE,EACnD,OAAOL,EAAI,SAASM,EAAYA,EAAaC,CAAQ,EAAE,SAAS,EAAE,QAAQ,SAAU,EAAE,CACxF,CACF,CACA,OAAO,IACT,EAEAT,GAAO,QAAU,CACf,gBAAAC,EACF,ICtCA,IAAAS,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAKA,IAAMC,GAAe,QAAQ,eAAe,EACtC,CAAE,QAAAC,GAAS,UAAAC,EAAU,EAAI,KACzB,CAAE,SAAAC,GAAU,UAAAC,GAAW,SAAAC,GAAU,aAAAC,EAAa,EAAI,KAClD,CAAE,gBAAAC,EAAgB,EAAI,KAExBC,EACAC,EACAC,EAEEC,GAAU,oEACZC,EAAa,GAEXC,GAAc,IACbD,GACI,IAAI,QAASE,GAAY,CAC9Bd,GAAa,KAAKW,GAAS,CAACI,EAAKC,IAAQ,CACvCJ,EAAaG,EAAM,IAAMC,EACzBF,EAAQF,CAAU,CACpB,CAAC,CACH,CAAC,EAKCK,GAAkB,IAAM,CAC5B,GAAI,CAACL,EACH,GAAI,CACFA,EAAaZ,GAAa,SAASW,GAAS,CAAE,SAAU,MAAO,CAAC,CAClE,MAAe,CACbC,EAAa,GACf,CAEF,OAAOA,CACT,EAOMM,EAAQ,QAMRC,GAAmB,iCAOnBC,EAAO,OAEPC,GAAcC,GAAMA,EAAE,SAAS,YAAY,GAAKA,EAAE,SAAS,UAAU,EAErEC,GAAmB,IAAM,CAC7B,IAAMC,EAAStB,GAAU,EACzB,OAAIsB,EAAO,QAAUA,EAAO,OAAO,oBAC1BN,EAEL,MAAM,QAAQM,EAAO,aAAa,GAChCA,EAAO,cAAc,KAAKH,EAAU,EAC/BD,EAGJ,IACT,EAEMK,GAAqBT,GAAQ,CACjC,GAAM,CAACU,EAASC,CAAI,EAAIX,EAAI,MAAM,SAAS,EAC3C,OAAIU,GAAWA,EAAQ,SAASR,CAAK,EAC5BA,EAELS,GAAQA,EAAK,SAASP,CAAI,EACrBA,EAEF,IACT,EAEMQ,GAA6BC,GAAS,CAC1C,GAAIA,EAAM,CACR,GAAIA,EAAK,SAAS,WAAW,EAC3B,OAAOT,EACF,GAAIS,EAAK,SAAS,YAAY,EACnC,OAAOX,CAEX,CACA,OAAO,IACT,EAEMY,GAA2BC,IAC/BA,EAAUA,EAAQ,SAAS,EACvBA,EAAQ,SAAS,MAAM,EAClBX,EAELW,EAAQ,SAAS,eAAe,EAC3Bb,EAEF,MAGHc,GAAuB,SAAY,CACvC,GAAIvB,IAA2B,OAC7B,OAAOA,EAETA,EAAyB,KACzB,GAAI,CACF,IAAMwB,EAAa,MAAM5B,GAASF,EAAQ,EAC1CM,EAAyBqB,GAAwBG,CAAU,CAC7D,MAAY,CAAC,CACb,OAAOxB,CACT,EAEMyB,GAA2B,IAAM,CACrC,GAAIzB,IAA2B,OAC7B,OAAOA,EAETA,EAAyB,KACzB,GAAI,CACF,IAAMwB,EAAa3B,GAAaH,EAAQ,EACxCM,EAAyBqB,GAAwBG,CAAU,CAC7D,MAAY,CAAC,CACb,OAAOxB,CACT,EAEM0B,GAAwB,SAAY,CACxC,GAAI3B,IAA4B,OAC9B,OAAOA,EAETA,EAA0B,KAC1B,GAAI,CACF,IAAM4B,EAAc,MAAM/B,GAASD,EAAS,EACtCyB,EAAOtB,GAAgB6B,CAAW,EACxC5B,EAA0BoB,GAA0BC,CAAI,CAC1D,MAAY,CAAC,CACb,OAAOrB,CACT,EAEM6B,GAA4B,IAAM,CACtC,GAAI7B,IAA4B,OAC9B,OAAOA,EAETA,EAA0B,KAC1B,GAAI,CACF,IAAM4B,EAAc9B,GAAaF,EAAS,EACpCyB,EAAOtB,GAAgB6B,CAAW,EACxC5B,EAA0BoB,GAA0BC,CAAI,CAC1D,MAAY,CAAC,CACb,OAAOrB,CACT,EAMM8B,GAAS,SAAY,CACzB,IAAIA,EAAS,KACb,GAAIrC,GAAQ,IACVqC,EAAS,MAAMH,GAAsB,EACjC,CAACG,IACHA,EAAS,MAAMN,GAAqB,EAC/BM,IACHA,EAASf,GAAiB,GAExB,CAACe,IAAQ,CACX,IAAMtB,EAAM,MAAMH,GAAY,EAC9ByB,EAASb,GAAkBT,CAAG,CAChC,CAGJ,OAAOsB,CACT,EAMMC,GAAa,IAAM,CACvB,IAAID,EAAS,KACb,GAAIrC,GAAQ,IACVqC,EAASD,GAA0B,EAC/B,CAACC,IACHA,EAASJ,GAAyB,EAC7BI,IACHA,EAASf,GAAiB,GAExB,CAACe,IAAQ,CACX,IAAMtB,EAAMC,GAAgB,EAC5BqB,EAASb,GAAkBT,CAAG,CAChC,CAGJ,OAAOsB,CACT,EAMME,GAAkB,SAAYvC,GAAQ,GAAK,MAAMqC,GAAO,IAAMpB,EAM9DuB,GAAsB,IAAMxC,GAAQ,GAAKsC,GAAW,IAAMrB,EAE1DwB,GAAwB,SAAY,CACxC,GAAIhC,IAA4B,OAC9B,OAAOA,EAETA,EAA0B,KAC1B,GAAI,CAEF,IAAMiC,GADa,MAAMtC,GAASF,EAAQ,GACV,MAAMgB,EAAgB,EAClDwB,IACFjC,EAA0BiC,EAAa,CAAC,EAE5C,MAAY,CAAC,CACb,OAAOjC,CACT,EAEMkC,GAA4B,IAAM,CACtC,GAAIlC,IAA4B,OAC9B,OAAOA,EAETA,EAA0B,KAC1B,GAAI,CAEF,IAAMiC,EADarC,GAAaH,EAAQ,EACR,MAAMgB,EAAgB,EAClDwB,IACFjC,EAA0BiC,EAAa,CAAC,EAE5C,MAAY,CAAC,CACb,OAAOjC,CACT,EAEMmC,GAAoB,IAAM,CAC9B,IAAMrB,EAAStB,GAAU,EACzB,OAAIsB,EAAO,QAAUA,EAAO,OAAO,oBAC1BA,EAAO,OAAO,oBAEhB,IACT,EAEMsB,GAAiBC,GAAMA,EAAE,KAAK,EAAE,MAAM,KAAK,EAAE,CAAC,EAE9CC,GAAsBhC,GAAQ,CAClC,GAAM,CAACU,EAASC,EAAMsB,CAAI,EAAIjC,EAAI,MAAM,SAAS,EACjD,OAAIU,GAAWA,EAAQ,SAASR,CAAK,EAC5B4B,GAAcpB,CAAO,EAE1BC,GAAQsB,GAAQtB,EAAK,SAASP,CAAI,EAC7B0B,GAAcG,CAAI,EAEpB,IACT,EAMMC,GAAU,SAAY,CAC1B,IAAIA,EAAU,KACd,GAAIjD,GAAQ,IACViD,EAAU,MAAMR,GAAsB,EACjCQ,IACHA,EAAUL,GAAkB,GAE1B,CAACK,GAAS,CACZ,IAAMlC,EAAM,MAAMH,GAAY,EAC9BqC,EAAUF,GAAmBhC,CAAG,CAClC,CAEF,OAAOkC,CACT,EAMMC,GAAc,IAAM,CACxB,IAAID,EAAU,KACd,GAAIjD,GAAQ,IACViD,EAAUN,GAA0B,EAC/BM,IACHA,EAAUL,GAAkB,GAE1B,CAACK,GAAS,CACZ,IAAMlC,EAAMC,GAAgB,EAC5BiC,EAAUF,GAAmBhC,CAAG,CAClC,CAEF,OAAOkC,CACT,EAEAnD,GAAO,QAAU,CACf,MAAAmB,EACA,KAAAE,EACA,OAAAkB,GACA,WAAAC,GACA,gBAAAC,GACA,oBAAAC,GACA,QAAAS,GACA,YAAAC,EACF,ICxTA,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GACJ,OAAO,SAAY,UACnB,QAAQ,KACR,QAAQ,IAAI,YACZ,cAAc,KAAK,QAAQ,IAAI,UAAU,EACvC,IAAIC,IAAS,QAAQ,MAAM,SAAU,GAAGA,CAAI,EAC5C,IAAM,CAAC,EAEXF,GAAO,QAAUC,KCVjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAIA,IAAMC,GAAsB,QAGtBC,GAAmB,OAAO,kBACL,iBAGrBC,GAA4B,GAI5BC,GAAwB,IAExBC,GAAgB,CACpB,QACA,WACA,QACA,WACA,QACA,WACA,YACF,EAEAL,GAAO,QAAU,CACf,eACA,0BAAAG,GACA,sBAAAC,GACA,iBAAAF,GACA,cAAAG,GACA,oBAAAJ,GACA,wBAAyB,EACzB,WAAY,CACd,ICpCA,IAAAK,GAAAC,EAAA,CAAAC,EAAAC,KAAA,cAEA,GAAM,CACJ,0BAAAC,GACA,sBAAAC,GACA,WAAAC,EACF,EAAI,KACEC,GAAQ,KACdL,EAAUC,GAAO,QAAU,CAAC,EAG5B,IAAMK,GAAKN,EAAQ,GAAK,CAAC,EACnBO,GAASP,EAAQ,OAAS,CAAC,EAC3BQ,EAAMR,EAAQ,IAAM,CAAC,EACrBS,GAAUT,EAAQ,QAAU,CAAC,EAC7BU,EAAIV,EAAQ,EAAI,CAAC,EACnBW,GAAI,EAEFC,GAAmB,eAQnBC,GAAwB,CAC5B,CAAC,MAAO,CAAC,EACT,CAAC,MAAOT,EAAU,EAClB,CAACQ,GAAkBT,EAAqB,CAC1C,EAEMW,GAAiBC,GAAU,CAC/B,OAAW,CAACC,EAAOC,CAAG,IAAKJ,GACzBE,EAAQA,EACL,MAAM,GAAGC,CAAK,GAAG,EAAE,KAAK,GAAGA,CAAK,MAAMC,CAAG,GAAG,EAC5C,MAAM,GAAGD,CAAK,GAAG,EAAE,KAAK,GAAGA,CAAK,MAAMC,CAAG,GAAG,EAEjD,OAAOF,CACT,EAEMG,EAAc,CAACC,EAAMJ,EAAOK,IAAa,CAC7C,IAAMC,EAAOP,GAAcC,CAAK,EAC1BO,EAAQX,KACdN,GAAMc,EAAMG,EAAOP,CAAK,EACxBL,EAAES,CAAI,EAAIG,EACVd,EAAIc,CAAK,EAAIP,EACbN,GAAQa,CAAK,EAAID,EACjBf,GAAGgB,CAAK,EAAI,IAAI,OAAOP,EAAOK,EAAW,IAAM,MAAS,EACxDb,GAAOe,CAAK,EAAI,IAAI,OAAOD,EAAMD,EAAW,IAAM,MAAS,CAC7D,EAQAF,EAAY,oBAAqB,aAAa,EAC9CA,EAAY,yBAA0B,MAAM,EAM5CA,EAAY,uBAAwB,gBAAgBN,EAAgB,GAAG,EAKvEM,EAAY,cAAe,IAAIV,EAAIE,EAAE,iBAAiB,CAAC,QAChCF,EAAIE,EAAE,iBAAiB,CAAC,QACxBF,EAAIE,EAAE,iBAAiB,CAAC,GAAG,EAElDQ,EAAY,mBAAoB,IAAIV,EAAIE,EAAE,sBAAsB,CAAC,QACrCF,EAAIE,EAAE,sBAAsB,CAAC,QAC7BF,EAAIE,EAAE,sBAAsB,CAAC,GAAG,EAO5DQ,EAAY,uBAAwB,MAAMV,EAAIE,EAAE,oBAAoB,CACpE,IAAIF,EAAIE,EAAE,iBAAiB,CAAC,GAAG,EAE/BQ,EAAY,4BAA6B,MAAMV,EAAIE,EAAE,oBAAoB,CACzE,IAAIF,EAAIE,EAAE,sBAAsB,CAAC,GAAG,EAMpCQ,EAAY,aAAc,QAAQV,EAAIE,EAAE,oBAAoB,CAC5D,SAASF,EAAIE,EAAE,oBAAoB,CAAC,MAAM,EAE1CQ,EAAY,kBAAmB,SAASV,EAAIE,EAAE,yBAAyB,CACvE,SAASF,EAAIE,EAAE,yBAAyB,CAAC,MAAM,EAK/CQ,EAAY,kBAAmB,GAAGN,EAAgB,GAAG,EAMrDM,EAAY,QAAS,UAAUV,EAAIE,EAAE,eAAe,CACpD,SAASF,EAAIE,EAAE,eAAe,CAAC,MAAM,EAWrCQ,EAAY,YAAa,KAAKV,EAAIE,EAAE,WAAW,CAC/C,GAAGF,EAAIE,EAAE,UAAU,CAAC,IAClBF,EAAIE,EAAE,KAAK,CAAC,GAAG,EAEjBQ,EAAY,OAAQ,IAAIV,EAAIE,EAAE,SAAS,CAAC,GAAG,EAK3CQ,EAAY,aAAc,WAAWV,EAAIE,EAAE,gBAAgB,CAC3D,GAAGF,EAAIE,EAAE,eAAe,CAAC,IACvBF,EAAIE,EAAE,KAAK,CAAC,GAAG,EAEjBQ,EAAY,QAAS,IAAIV,EAAIE,EAAE,UAAU,CAAC,GAAG,EAE7CQ,EAAY,OAAQ,cAAc,EAKlCA,EAAY,wBAAyB,GAAGV,EAAIE,EAAE,sBAAsB,CAAC,UAAU,EAC/EQ,EAAY,mBAAoB,GAAGV,EAAIE,EAAE,iBAAiB,CAAC,UAAU,EAErEQ,EAAY,cAAe,YAAYV,EAAIE,EAAE,gBAAgB,CAAC,WACjCF,EAAIE,EAAE,gBAAgB,CAAC,WACvBF,EAAIE,EAAE,gBAAgB,CAAC,OAC3BF,EAAIE,EAAE,UAAU,CAAC,KACrBF,EAAIE,EAAE,KAAK,CAAC,OACR,EAEzBQ,EAAY,mBAAoB,YAAYV,EAAIE,EAAE,qBAAqB,CAAC,WACtCF,EAAIE,EAAE,qBAAqB,CAAC,WAC5BF,EAAIE,EAAE,qBAAqB,CAAC,OAChCF,EAAIE,EAAE,eAAe,CAAC,KAC1BF,EAAIE,EAAE,KAAK,CAAC,OACR,EAE9BQ,EAAY,SAAU,IAAIV,EAAIE,EAAE,IAAI,CAAC,OAAOF,EAAIE,EAAE,WAAW,CAAC,GAAG,EACjEQ,EAAY,cAAe,IAAIV,EAAIE,EAAE,IAAI,CAAC,OAAOF,EAAIE,EAAE,gBAAgB,CAAC,GAAG,EAI3EQ,EAAY,cAAe,oBACDhB,EAAyB,kBACrBA,EAAyB,oBACzBA,EAAyB,MAAM,EAC7DgB,EAAY,SAAU,GAAGV,EAAIE,EAAE,WAAW,CAAC,cAAc,EACzDQ,EAAY,aAAcV,EAAIE,EAAE,WAAW,EAC7B,MAAMF,EAAIE,EAAE,UAAU,CAAC,QACjBF,EAAIE,EAAE,KAAK,CAAC,gBACJ,EAC5BQ,EAAY,YAAaV,EAAIE,EAAE,MAAM,EAAG,EAAI,EAC5CQ,EAAY,gBAAiBV,EAAIE,EAAE,UAAU,EAAG,EAAI,EAIpDQ,EAAY,YAAa,SAAS,EAElCA,EAAY,YAAa,SAASV,EAAIE,EAAE,SAAS,CAAC,OAAQ,EAAI,EAC9DV,EAAQ,iBAAmB,MAE3BkB,EAAY,QAAS,IAAIV,EAAIE,EAAE,SAAS,CAAC,GAAGF,EAAIE,EAAE,WAAW,CAAC,GAAG,EACjEQ,EAAY,aAAc,IAAIV,EAAIE,EAAE,SAAS,CAAC,GAAGF,EAAIE,EAAE,gBAAgB,CAAC,GAAG,EAI3EQ,EAAY,YAAa,SAAS,EAElCA,EAAY,YAAa,SAASV,EAAIE,EAAE,SAAS,CAAC,OAAQ,EAAI,EAC9DV,EAAQ,iBAAmB,MAE3BkB,EAAY,QAAS,IAAIV,EAAIE,EAAE,SAAS,CAAC,GAAGF,EAAIE,EAAE,WAAW,CAAC,GAAG,EACjEQ,EAAY,aAAc,IAAIV,EAAIE,EAAE,SAAS,CAAC,GAAGF,EAAIE,EAAE,gBAAgB,CAAC,GAAG,EAG3EQ,EAAY,kBAAmB,IAAIV,EAAIE,EAAE,IAAI,CAAC,QAAQF,EAAIE,EAAE,UAAU,CAAC,OAAO,EAC9EQ,EAAY,aAAc,IAAIV,EAAIE,EAAE,IAAI,CAAC,QAAQF,EAAIE,EAAE,SAAS,CAAC,OAAO,EAIxEQ,EAAY,iBAAkB,SAASV,EAAIE,EAAE,IAAI,CACjD,QAAQF,EAAIE,EAAE,UAAU,CAAC,IAAIF,EAAIE,EAAE,WAAW,CAAC,IAAK,EAAI,EACxDV,EAAQ,sBAAwB,SAMhCkB,EAAY,cAAe,SAASV,EAAIE,EAAE,WAAW,CAAC,cAE/BF,EAAIE,EAAE,WAAW,CAAC,QACf,EAE1BQ,EAAY,mBAAoB,SAASV,EAAIE,EAAE,gBAAgB,CAAC,cAEpCF,EAAIE,EAAE,gBAAgB,CAAC,QACpB,EAG/BQ,EAAY,OAAQ,iBAAiB,EAErCA,EAAY,OAAQ,2BAA2B,EAC/CA,EAAY,UAAW,6BAA6B,IC9NpD,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAGA,IAAMC,GAAc,OAAO,OAAO,CAAE,MAAO,EAAK,CAAC,EAC3CC,GAAY,OAAO,OAAO,CAAE,CAAC,EAC7BC,GAAeC,GACdA,EAID,OAAOA,GAAY,SACdH,GAGFG,EAPEF,GASXF,GAAO,QAAUG,KChBjB,IAAAE,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAU,WACVC,GAAqB,CAACC,EAAGC,IAAM,CACnC,GAAI,OAAOD,GAAM,UAAY,OAAOC,GAAM,SACxC,OAAOD,IAAMC,EAAI,EAAID,EAAIC,EAAI,GAAK,EAGpC,IAAMC,EAAOJ,GAAQ,KAAKE,CAAC,EACrBG,EAAOL,GAAQ,KAAKG,CAAC,EAE3B,OAAIC,GAAQC,IACVH,EAAI,CAACA,EACLC,EAAI,CAACA,GAGAD,IAAMC,EAAI,EACZC,GAAQ,CAACC,EAAQ,GACjBA,GAAQ,CAACD,EAAQ,EAClBF,EAAIC,EAAI,GACR,CACN,EAEMG,GAAsB,CAACJ,EAAGC,IAAMF,GAAmBE,EAAGD,CAAC,EAE7DH,GAAO,QAAU,CACf,mBAAAE,GACA,oBAAAK,EACF,IC5BA,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAQ,KACR,CAAE,WAAAC,GAAY,iBAAAC,EAAiB,EAAI,KACnC,CAAE,OAAQC,GAAI,EAAAC,EAAE,EAAI,KAEpBC,GAAe,KACf,CAAE,mBAAAC,EAAmB,EAAI,KACzBC,GAAN,MAAMC,CAAO,CACX,YAAaC,EAASC,EAAS,CAG7B,GAFAA,EAAUL,GAAaK,CAAO,EAE1BD,aAAmBD,EAAQ,CAC7B,GAAIC,EAAQ,QAAU,CAAC,CAACC,EAAQ,OAC9BD,EAAQ,oBAAsB,CAAC,CAACC,EAAQ,kBACxC,OAAOD,EAEPA,EAAUA,EAAQ,OAEtB,SAAW,OAAOA,GAAY,SAC5B,MAAM,IAAI,UAAU,gDAAgD,OAAOA,CAAO,IAAI,EAGxF,GAAIA,EAAQ,OAASR,GACnB,MAAM,IAAI,UACR,0BAA0BA,EAAU,aACtC,EAGFD,GAAM,SAAUS,EAASC,CAAO,EAChC,KAAK,QAAUA,EACf,KAAK,MAAQ,CAAC,CAACA,EAAQ,MAGvB,KAAK,kBAAoB,CAAC,CAACA,EAAQ,kBAEnC,IAAMC,EAAIF,EAAQ,KAAK,EAAE,MAAMC,EAAQ,MAAQP,GAAGC,GAAE,KAAK,EAAID,GAAGC,GAAE,IAAI,CAAC,EAEvE,GAAI,CAACO,EACH,MAAM,IAAI,UAAU,oBAAoBF,CAAO,EAAE,EAUnD,GAPA,KAAK,IAAMA,EAGX,KAAK,MAAQ,CAACE,EAAE,CAAC,EACjB,KAAK,MAAQ,CAACA,EAAE,CAAC,EACjB,KAAK,MAAQ,CAACA,EAAE,CAAC,EAEb,KAAK,MAAQT,IAAoB,KAAK,MAAQ,EAChD,MAAM,IAAI,UAAU,uBAAuB,EAG7C,GAAI,KAAK,MAAQA,IAAoB,KAAK,MAAQ,EAChD,MAAM,IAAI,UAAU,uBAAuB,EAG7C,GAAI,KAAK,MAAQA,IAAoB,KAAK,MAAQ,EAChD,MAAM,IAAI,UAAU,uBAAuB,EAIxCS,EAAE,CAAC,EAGN,KAAK,WAAaA,EAAE,CAAC,EAAE,MAAM,GAAG,EAAE,IAAKC,GAAO,CAC5C,GAAI,WAAW,KAAKA,CAAE,EAAG,CACvB,IAAMC,EAAM,CAACD,EACb,GAAIC,GAAO,GAAKA,EAAMX,GACpB,OAAOW,CAEX,CACA,OAAOD,CACT,CAAC,EAVD,KAAK,WAAa,CAAC,EAarB,KAAK,MAAQD,EAAE,CAAC,EAAIA,EAAE,CAAC,EAAE,MAAM,GAAG,EAAI,CAAC,EACvC,KAAK,OAAO,CACd,CAEA,QAAU,CACR,YAAK,QAAU,GAAG,KAAK,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,GACpD,KAAK,WAAW,SAClB,KAAK,SAAW,IAAI,KAAK,WAAW,KAAK,GAAG,CAAC,IAExC,KAAK,OACd,CAEA,UAAY,CACV,OAAO,KAAK,OACd,CAEA,QAASG,EAAO,CAEd,GADAd,GAAM,iBAAkB,KAAK,QAAS,KAAK,QAASc,CAAK,EACrD,EAAEA,aAAiBN,GAAS,CAC9B,GAAI,OAAOM,GAAU,UAAYA,IAAU,KAAK,QAC9C,MAAO,GAETA,EAAQ,IAAIN,EAAOM,EAAO,KAAK,OAAO,CACxC,CAEA,OAAIA,EAAM,UAAY,KAAK,QAClB,EAGF,KAAK,YAAYA,CAAK,GAAK,KAAK,WAAWA,CAAK,CACzD,CAEA,YAAaA,EAAO,CAKlB,OAJMA,aAAiBN,IACrBM,EAAQ,IAAIN,EAAOM,EAAO,KAAK,OAAO,GAGpC,KAAK,MAAQA,EAAM,MACd,GAEL,KAAK,MAAQA,EAAM,MACd,EAEL,KAAK,MAAQA,EAAM,MACd,GAEL,KAAK,MAAQA,EAAM,MACd,EAEL,KAAK,MAAQA,EAAM,MACd,GAEL,KAAK,MAAQA,EAAM,MACd,EAEF,CACT,CAEA,WAAYA,EAAO,CAMjB,GALMA,aAAiBN,IACrBM,EAAQ,IAAIN,EAAOM,EAAO,KAAK,OAAO,GAIpC,KAAK,WAAW,QAAU,CAACA,EAAM,WAAW,OAC9C,MAAO,GACF,GAAI,CAAC,KAAK,WAAW,QAAUA,EAAM,WAAW,OACrD,MAAO,GACF,GAAI,CAAC,KAAK,WAAW,QAAU,CAACA,EAAM,WAAW,OACtD,MAAO,GAGT,IAAIC,EAAI,EACR,EAAG,CACD,IAAMC,EAAI,KAAK,WAAWD,CAAC,EACrBE,EAAIH,EAAM,WAAWC,CAAC,EAE5B,GADAf,GAAM,qBAAsBe,EAAGC,EAAGC,CAAC,EAC/BD,IAAM,QAAaC,IAAM,OAC3B,MAAO,GACF,GAAIA,IAAM,OACf,MAAO,GACF,GAAID,IAAM,OACf,MAAO,GACF,GAAIA,IAAMC,EACf,SAEA,OAAOX,GAAmBU,EAAGC,CAAC,CAElC,OAAS,EAAEF,EACb,CAEA,aAAcD,EAAO,CACbA,aAAiBN,IACrBM,EAAQ,IAAIN,EAAOM,EAAO,KAAK,OAAO,GAGxC,IAAIC,EAAI,EACR,EAAG,CACD,IAAMC,EAAI,KAAK,MAAMD,CAAC,EAChBE,EAAIH,EAAM,MAAMC,CAAC,EAEvB,GADAf,GAAM,gBAAiBe,EAAGC,EAAGC,CAAC,EAC1BD,IAAM,QAAaC,IAAM,OAC3B,MAAO,GACF,GAAIA,IAAM,OACf,MAAO,GACF,GAAID,IAAM,OACf,MAAO,GACF,GAAIA,IAAMC,EACf,SAEA,OAAOX,GAAmBU,EAAGC,CAAC,CAElC,OAAS,EAAEF,EACb,CAIA,IAAKG,EAASC,EAAYC,EAAgB,CACxC,GAAIF,EAAQ,WAAW,KAAK,EAAG,CAC7B,GAAI,CAACC,GAAcC,IAAmB,GACpC,MAAM,IAAI,MAAM,iDAAiD,EAGnE,GAAID,EAAY,CACd,IAAME,EAAQ,IAAIF,CAAU,GAAG,MAAM,KAAK,QAAQ,MAAQhB,GAAGC,GAAE,eAAe,EAAID,GAAGC,GAAE,UAAU,CAAC,EAClG,GAAI,CAACiB,GAASA,EAAM,CAAC,IAAMF,EACzB,MAAM,IAAI,MAAM,uBAAuBA,CAAU,EAAE,CAEvD,CACF,CAEA,OAAQD,EAAS,CACf,IAAK,WACH,KAAK,WAAW,OAAS,EACzB,KAAK,MAAQ,EACb,KAAK,MAAQ,EACb,KAAK,QACL,KAAK,IAAI,MAAOC,EAAYC,CAAc,EAC1C,MACF,IAAK,WACH,KAAK,WAAW,OAAS,EACzB,KAAK,MAAQ,EACb,KAAK,QACL,KAAK,IAAI,MAAOD,EAAYC,CAAc,EAC1C,MACF,IAAK,WAIH,KAAK,WAAW,OAAS,EACzB,KAAK,IAAI,QAASD,EAAYC,CAAc,EAC5C,KAAK,IAAI,MAAOD,EAAYC,CAAc,EAC1C,MAGF,IAAK,aACC,KAAK,WAAW,SAAW,GAC7B,KAAK,IAAI,QAASD,EAAYC,CAAc,EAE9C,KAAK,IAAI,MAAOD,EAAYC,CAAc,EAC1C,MACF,IAAK,UACH,GAAI,KAAK,WAAW,SAAW,EAC7B,MAAM,IAAI,MAAM,WAAW,KAAK,GAAG,sBAAsB,EAE3D,KAAK,WAAW,OAAS,EACzB,MAEF,IAAK,SAMD,KAAK,QAAU,GACf,KAAK,QAAU,GACf,KAAK,WAAW,SAAW,IAE3B,KAAK,QAEP,KAAK,MAAQ,EACb,KAAK,MAAQ,EACb,KAAK,WAAa,CAAC,EACnB,MACF,IAAK,SAKC,KAAK,QAAU,GAAK,KAAK,WAAW,SAAW,IACjD,KAAK,QAEP,KAAK,MAAQ,EACb,KAAK,WAAa,CAAC,EACnB,MACF,IAAK,QAKC,KAAK,WAAW,SAAW,GAC7B,KAAK,QAEP,KAAK,WAAa,CAAC,EACnB,MAGF,IAAK,MAAO,CACV,IAAME,EAAO,OAAOF,CAAc,EAAI,EAAI,EAE1C,GAAI,KAAK,WAAW,SAAW,EAC7B,KAAK,WAAa,CAACE,CAAI,MAClB,CACL,IAAIP,EAAI,KAAK,WAAW,OACxB,KAAO,EAAEA,GAAK,GACR,OAAO,KAAK,WAAWA,CAAC,GAAM,WAChC,KAAK,WAAWA,CAAC,IACjBA,EAAI,IAGR,GAAIA,IAAM,GAAI,CAEZ,GAAII,IAAe,KAAK,WAAW,KAAK,GAAG,GAAKC,IAAmB,GACjE,MAAM,IAAI,MAAM,uDAAuD,EAEzE,KAAK,WAAW,KAAKE,CAAI,CAC3B,CACF,CACA,GAAIH,EAAY,CAGd,IAAII,EAAa,CAACJ,EAAYG,CAAI,EAC9BF,IAAmB,KACrBG,EAAa,CAACJ,CAAU,GAEtBb,GAAmB,KAAK,WAAW,CAAC,EAAGa,CAAU,IAAM,EACrD,MAAM,KAAK,WAAW,CAAC,CAAC,IAC1B,KAAK,WAAaI,GAGpB,KAAK,WAAaA,CAEtB,CACA,KACF,CACA,QACE,MAAM,IAAI,MAAM,+BAA+BL,CAAO,EAAE,CAC5D,CACA,YAAK,IAAM,KAAK,OAAO,EACnB,KAAK,MAAM,SACb,KAAK,KAAO,IAAI,KAAK,MAAM,KAAK,GAAG,CAAC,IAE/B,IACT,CACF,EAEAnB,GAAO,QAAUQ,KC5UjB,IAAAiB,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAS,KACTC,GAAQ,CAACC,EAASC,EAASC,EAAc,KAAU,CACvD,GAAIF,aAAmBF,GACrB,OAAOE,EAET,GAAI,CACF,OAAO,IAAIF,GAAOE,EAASC,CAAO,CACpC,OAASE,EAAI,CACX,GAAI,CAACD,EACH,OAAO,KAET,MAAMC,CACR,CACF,EAEAN,GAAO,QAAUE,KCjBjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAS,KACTC,GAAQ,KACR,CAAE,OAAQC,GAAI,EAAAC,EAAE,EAAI,KAEpBC,GAAS,CAACC,EAASC,IAAY,CACnC,GAAID,aAAmBL,GACrB,OAAOK,EAOT,GAJI,OAAOA,GAAY,WACrBA,EAAU,OAAOA,CAAO,GAGtB,OAAOA,GAAY,SACrB,OAAO,KAGTC,EAAUA,GAAW,CAAC,EAEtB,IAAIC,EAAQ,KACZ,GAAI,CAACD,EAAQ,IACXC,EAAQF,EAAQ,MAAMC,EAAQ,kBAAoBJ,GAAGC,GAAE,UAAU,EAAID,GAAGC,GAAE,MAAM,CAAC,MAC5E,CAUL,IAAMK,EAAiBF,EAAQ,kBAAoBJ,GAAGC,GAAE,aAAa,EAAID,GAAGC,GAAE,SAAS,EACnFM,EACJ,MAAQA,EAAOD,EAAe,KAAKH,CAAO,KACrC,CAACE,GAASA,EAAM,MAAQA,EAAM,CAAC,EAAE,SAAWF,EAAQ,UAEnD,CAACE,GACCE,EAAK,MAAQA,EAAK,CAAC,EAAE,SAAWF,EAAM,MAAQA,EAAM,CAAC,EAAE,UAC3DA,EAAQE,GAEVD,EAAe,UAAYC,EAAK,MAAQA,EAAK,CAAC,EAAE,OAASA,EAAK,CAAC,EAAE,OAGnED,EAAe,UAAY,EAC7B,CAEA,GAAID,IAAU,KACZ,OAAO,KAGT,IAAMG,EAAQH,EAAM,CAAC,EACfI,EAAQJ,EAAM,CAAC,GAAK,IACpBK,EAAQL,EAAM,CAAC,GAAK,IACpBM,EAAaP,EAAQ,mBAAqBC,EAAM,CAAC,EAAI,IAAIA,EAAM,CAAC,CAAC,GAAK,GACtEO,EAAQR,EAAQ,mBAAqBC,EAAM,CAAC,EAAI,IAAIA,EAAM,CAAC,CAAC,GAAK,GAEvE,OAAON,GAAM,GAAGS,CAAK,IAAIC,CAAK,IAAIC,CAAK,GAAGC,CAAU,GAAGC,CAAK,GAAIR,CAAO,CACzE,EACAP,GAAO,QAAUK,KC7DjB,IAAAW,EAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAS,KACTC,GAAU,CAACC,EAAGC,EAAGC,IACrB,IAAIJ,GAAOE,EAAGE,CAAK,EAAE,QAAQ,IAAIJ,GAAOG,EAAGC,CAAK,CAAC,EAEnDL,GAAO,QAAUE,KCNjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAU,IACVC,GAAM,CAACC,EAAGC,EAAGC,IAAUJ,GAAQE,EAAGC,EAAGC,CAAK,GAAK,EACrDL,GAAO,QAAUE,KCJjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAN,KAAe,CACb,aAAe,CACb,KAAK,IAAM,IACX,KAAK,IAAM,IAAI,GACjB,CAEA,IAAKC,EAAK,CACR,IAAMC,EAAQ,KAAK,IAAI,IAAID,CAAG,EAC9B,GAAIC,IAAU,OAIZ,YAAK,IAAI,OAAOD,CAAG,EACnB,KAAK,IAAI,IAAIA,EAAKC,CAAK,EAChBA,CAEX,CAEA,OAAQD,EAAK,CACX,OAAO,KAAK,IAAI,OAAOA,CAAG,CAC5B,CAEA,IAAKA,EAAKC,EAAO,CAGf,GAAI,CAFY,KAAK,OAAOD,CAAG,GAEfC,IAAU,OAAW,CAEnC,GAAI,KAAK,IAAI,MAAQ,KAAK,IAAK,CAC7B,IAAMC,EAAW,KAAK,IAAI,KAAK,EAAE,KAAK,EAAE,MACxC,KAAK,OAAOA,CAAQ,CACtB,CAEA,KAAK,IAAI,IAAIF,EAAKC,CAAK,CACzB,CAEA,OAAO,IACT,CACF,EAEAH,GAAO,QAAUC,KCzCjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAU,IACVC,GAAK,CAACC,EAAGC,EAAGC,IAAUJ,GAAQE,EAAGC,EAAGC,CAAK,IAAM,EACrDL,GAAO,QAAUE,KCJjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAU,IACVC,GAAM,CAACC,EAAGC,EAAGC,IAAUJ,GAAQE,EAAGC,EAAGC,CAAK,IAAM,EACtDL,GAAO,QAAUE,KCJjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAU,IACVC,GAAK,CAACC,EAAGC,EAAGC,IAAUJ,GAAQE,EAAGC,EAAGC,CAAK,EAAI,EACnDL,GAAO,QAAUE,KCJjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAU,IACVC,GAAK,CAACC,EAAGC,EAAGC,IAAUJ,GAAQE,EAAGC,EAAGC,CAAK,EAAI,EACnDL,GAAO,QAAUE,KCJjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAU,IACVC,GAAM,CAACC,EAAGC,EAAGC,IAAUJ,GAAQE,EAAGC,EAAGC,CAAK,GAAK,EACrDL,GAAO,QAAUE,KCJjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAK,KACLC,GAAM,KACNC,GAAK,KACLC,GAAM,KACNC,GAAK,KACLC,GAAM,KAENC,GAAM,CAACC,EAAGC,EAAIC,EAAGC,IAAU,CAC/B,OAAQF,EAAI,CACV,IAAK,MACH,OAAI,OAAOD,GAAM,WACfA,EAAIA,EAAE,SAEJ,OAAOE,GAAM,WACfA,EAAIA,EAAE,SAEDF,IAAME,EAEf,IAAK,MACH,OAAI,OAAOF,GAAM,WACfA,EAAIA,EAAE,SAEJ,OAAOE,GAAM,WACfA,EAAIA,EAAE,SAEDF,IAAME,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAOT,GAAGO,EAAGE,EAAGC,CAAK,EAEvB,IAAK,KACH,OAAOT,GAAIM,EAAGE,EAAGC,CAAK,EAExB,IAAK,IACH,OAAOR,GAAGK,EAAGE,EAAGC,CAAK,EAEvB,IAAK,KACH,OAAOP,GAAII,EAAGE,EAAGC,CAAK,EAExB,IAAK,IACH,OAAON,GAAGG,EAAGE,EAAGC,CAAK,EAEvB,IAAK,KACH,OAAOL,GAAIE,EAAGE,EAAGC,CAAK,EAExB,QACE,MAAM,IAAI,UAAU,qBAAqBF,CAAE,EAAE,CACjD,CACF,EACAT,GAAO,QAAUO,KCrDjB,IAAAK,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAM,OAAO,YAAY,EAEzBC,GAAN,MAAMC,CAAW,CACf,WAAW,KAAO,CAChB,OAAOF,EACT,CAEA,YAAaG,EAAMC,EAAS,CAG1B,GAFAA,EAAUC,GAAaD,CAAO,EAE1BD,aAAgBD,EAAY,CAC9B,GAAIC,EAAK,QAAU,CAAC,CAACC,EAAQ,MAC3B,OAAOD,EAEPA,EAAOA,EAAK,KAEhB,CAEAA,EAAOA,EAAK,KAAK,EAAE,MAAM,KAAK,EAAE,KAAK,GAAG,EACxCG,GAAM,aAAcH,EAAMC,CAAO,EACjC,KAAK,QAAUA,EACf,KAAK,MAAQ,CAAC,CAACA,EAAQ,MACvB,KAAK,MAAMD,CAAI,EAEX,KAAK,SAAWH,GAClB,KAAK,MAAQ,GAEb,KAAK,MAAQ,KAAK,SAAW,KAAK,OAAO,QAG3CM,GAAM,OAAQ,IAAI,CACpB,CAEA,MAAOH,EAAM,CACX,IAAMI,EAAI,KAAK,QAAQ,MAAQC,GAAGC,GAAE,eAAe,EAAID,GAAGC,GAAE,UAAU,EAChEC,EAAIP,EAAK,MAAMI,CAAC,EAEtB,GAAI,CAACG,EACH,MAAM,IAAI,UAAU,uBAAuBP,CAAI,EAAE,EAGnD,KAAK,SAAWO,EAAE,CAAC,IAAM,OAAYA,EAAE,CAAC,EAAI,GACxC,KAAK,WAAa,MACpB,KAAK,SAAW,IAIbA,EAAE,CAAC,EAGN,KAAK,OAAS,IAAIC,GAAOD,EAAE,CAAC,EAAG,KAAK,QAAQ,KAAK,EAFjD,KAAK,OAASV,EAIlB,CAEA,UAAY,CACV,OAAO,KAAK,KACd,CAEA,KAAMY,EAAS,CAGb,GAFAN,GAAM,kBAAmBM,EAAS,KAAK,QAAQ,KAAK,EAEhD,KAAK,SAAWZ,IAAOY,IAAYZ,GACrC,MAAO,GAGT,GAAI,OAAOY,GAAY,SACrB,GAAI,CACFA,EAAU,IAAID,GAAOC,EAAS,KAAK,OAAO,CAC5C,MAAa,CACX,MAAO,EACT,CAGF,OAAOC,GAAID,EAAS,KAAK,SAAU,KAAK,OAAQ,KAAK,OAAO,CAC9D,CAEA,WAAYT,EAAMC,EAAS,CACzB,GAAI,EAAED,aAAgBD,GACpB,MAAM,IAAI,UAAU,0BAA0B,EAGhD,OAAI,KAAK,WAAa,GAChB,KAAK,QAAU,GACV,GAEF,IAAIY,GAAMX,EAAK,MAAOC,CAAO,EAAE,KAAK,KAAK,KAAK,EAC5CD,EAAK,WAAa,GACvBA,EAAK,QAAU,GACV,GAEF,IAAIW,GAAM,KAAK,MAAOV,CAAO,EAAE,KAAKD,EAAK,MAAM,GAGxDC,EAAUC,GAAaD,CAAO,EAG1BA,EAAQ,oBACT,KAAK,QAAU,YAAcD,EAAK,QAAU,aAG3C,CAACC,EAAQ,oBACV,KAAK,MAAM,WAAW,QAAQ,GAAKD,EAAK,MAAM,WAAW,QAAQ,GAC3D,GAIL,QAAK,SAAS,WAAW,GAAG,GAAKA,EAAK,SAAS,WAAW,GAAG,GAI7D,KAAK,SAAS,WAAW,GAAG,GAAKA,EAAK,SAAS,WAAW,GAAG,GAK9D,KAAK,OAAO,UAAYA,EAAK,OAAO,SACrC,KAAK,SAAS,SAAS,GAAG,GAAKA,EAAK,SAAS,SAAS,GAAG,GAIvDU,GAAI,KAAK,OAAQ,IAAKV,EAAK,OAAQC,CAAO,GAC5C,KAAK,SAAS,WAAW,GAAG,GAAKD,EAAK,SAAS,WAAW,GAAG,GAI3DU,GAAI,KAAK,OAAQ,IAAKV,EAAK,OAAQC,CAAO,GAC5C,KAAK,SAAS,WAAW,GAAG,GAAKD,EAAK,SAAS,WAAW,GAAG,GAIjE,CACF,EAEAJ,GAAO,QAAUE,GAEjB,IAAMI,GAAe,KACf,CAAE,OAAQG,GAAI,EAAAC,EAAE,EAAI,KACpBI,GAAM,KACNP,GAAQ,KACRK,GAAS,KACTG,GAAQ,OC9Id,IAAAC,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAmB,OAGnBC,GAAN,MAAMC,CAAM,CACV,YAAaC,EAAOC,EAAS,CAG3B,GAFAA,EAAUC,GAAaD,CAAO,EAE1BD,aAAiBD,EACnB,OACEC,EAAM,QAAU,CAAC,CAACC,EAAQ,OAC1BD,EAAM,oBAAsB,CAAC,CAACC,EAAQ,kBAE/BD,EAEA,IAAID,EAAMC,EAAM,IAAKC,CAAO,EAIvC,GAAID,aAAiBG,GAEnB,YAAK,IAAMH,EAAM,MACjB,KAAK,IAAM,CAAC,CAACA,CAAK,CAAC,EACnB,KAAK,UAAY,OACV,KAsBT,GAnBA,KAAK,QAAUC,EACf,KAAK,MAAQ,CAAC,CAACA,EAAQ,MACvB,KAAK,kBAAoB,CAAC,CAACA,EAAQ,kBAKnC,KAAK,IAAMD,EAAM,KAAK,EAAE,QAAQH,GAAkB,GAAG,EAGrD,KAAK,IAAM,KAAK,IACb,MAAM,IAAI,EAEV,IAAIO,GAAK,KAAK,WAAWA,EAAE,KAAK,CAAC,CAAC,EAIlC,OAAOC,GAAKA,EAAE,MAAM,EAEnB,CAAC,KAAK,IAAI,OACZ,MAAM,IAAI,UAAU,yBAAyB,KAAK,GAAG,EAAE,EAIzD,GAAI,KAAK,IAAI,OAAS,EAAG,CAEvB,IAAMC,EAAQ,KAAK,IAAI,CAAC,EAExB,GADA,KAAK,IAAM,KAAK,IAAI,OAAOD,GAAK,CAACE,GAAUF,EAAE,CAAC,CAAC,CAAC,EAC5C,KAAK,IAAI,SAAW,EACtB,KAAK,IAAM,CAACC,CAAK,UACR,KAAK,IAAI,OAAS,GAE3B,QAAWD,KAAK,KAAK,IACnB,GAAIA,EAAE,SAAW,GAAKG,GAAMH,EAAE,CAAC,CAAC,EAAG,CACjC,KAAK,IAAM,CAACA,CAAC,EACb,KACF,EAGN,CAEA,KAAK,UAAY,MACnB,CAEA,IAAI,OAAS,CACX,GAAI,KAAK,YAAc,OAAW,CAChC,KAAK,UAAY,GACjB,QAASI,EAAI,EAAGA,EAAI,KAAK,IAAI,OAAQA,IAAK,CACpCA,EAAI,IACN,KAAK,WAAa,MAEpB,IAAMC,EAAQ,KAAK,IAAID,CAAC,EACxB,QAASE,EAAI,EAAGA,EAAID,EAAM,OAAQC,IAC5BA,EAAI,IACN,KAAK,WAAa,KAEpB,KAAK,WAAaD,EAAMC,CAAC,EAAE,SAAS,EAAE,KAAK,CAE/C,CACF,CACA,OAAO,KAAK,SACd,CAEA,QAAU,CACR,OAAO,KAAK,KACd,CAEA,UAAY,CACV,OAAO,KAAK,KACd,CAEA,WAAYX,EAAO,CAMjB,IAAMY,IAFH,KAAK,QAAQ,mBAAqBC,KAClC,KAAK,QAAQ,OAASC,KACE,IAAMd,EAC3Be,EAASC,GAAM,IAAIJ,CAAO,EAChC,GAAIG,EACF,OAAOA,EAGT,IAAME,EAAQ,KAAK,QAAQ,MAErBC,EAAKD,EAAQE,EAAGC,EAAE,gBAAgB,EAAID,EAAGC,EAAE,WAAW,EAC5DpB,EAAQA,EAAM,QAAQkB,EAAIG,GAAc,KAAK,QAAQ,iBAAiB,CAAC,EACvEC,EAAM,iBAAkBtB,CAAK,EAG7BA,EAAQA,EAAM,QAAQmB,EAAGC,EAAE,cAAc,EAAGG,EAAqB,EACjED,EAAM,kBAAmBtB,CAAK,EAG9BA,EAAQA,EAAM,QAAQmB,EAAGC,EAAE,SAAS,EAAGI,EAAgB,EACvDF,EAAM,aAActB,CAAK,EAGzBA,EAAQA,EAAM,QAAQmB,EAAGC,EAAE,SAAS,EAAGK,EAAgB,EACvDH,EAAM,aAActB,CAAK,EAKzB,IAAI0B,EAAY1B,EACb,MAAM,GAAG,EACT,IAAI2B,GAAQC,GAAgBD,EAAM,KAAK,OAAO,CAAC,EAC/C,KAAK,GAAG,EACR,MAAM,KAAK,EAEX,IAAIA,GAAQE,GAAYF,EAAM,KAAK,OAAO,CAAC,EAE1CV,IAEFS,EAAYA,EAAU,OAAOC,IAC3BL,EAAM,uBAAwBK,EAAM,KAAK,OAAO,EACzC,CAAC,CAACA,EAAK,MAAMR,EAAGC,EAAE,eAAe,CAAC,EAC1C,GAEHE,EAAM,aAAcI,CAAS,EAK7B,IAAMI,EAAW,IAAI,IACfC,EAAcL,EAAU,IAAIC,GAAQ,IAAIxB,GAAWwB,EAAM,KAAK,OAAO,CAAC,EAC5E,QAAWA,KAAQI,EAAa,CAC9B,GAAIxB,GAAUoB,CAAI,EAChB,MAAO,CAACA,CAAI,EAEdG,EAAS,IAAIH,EAAK,MAAOA,CAAI,CAC/B,CACIG,EAAS,KAAO,GAAKA,EAAS,IAAI,EAAE,GACtCA,EAAS,OAAO,EAAE,EAGpB,IAAME,EAAS,CAAC,GAAGF,EAAS,OAAO,CAAC,EACpC,OAAAd,GAAM,IAAIJ,EAASoB,CAAM,EAClBA,CACT,CAEA,WAAYhC,EAAOC,EAAS,CAC1B,GAAI,EAAED,aAAiBD,GACrB,MAAM,IAAI,UAAU,qBAAqB,EAG3C,OAAO,KAAK,IAAI,KAAMkC,GAElBC,GAAcD,EAAiBhC,CAAO,GACtCD,EAAM,IAAI,KAAMmC,GAEZD,GAAcC,EAAkBlC,CAAO,GACvCgC,EAAgB,MAAOG,GACdD,EAAiB,MAAOE,GACtBD,EAAe,WAAWC,EAAiBpC,CAAO,CAC1D,CACF,CAEJ,CAEJ,CACH,CAGA,KAAMqC,EAAS,CACb,GAAI,CAACA,EACH,MAAO,GAGT,GAAI,OAAOA,GAAY,SACrB,GAAI,CACFA,EAAU,IAAIC,GAAOD,EAAS,KAAK,OAAO,CAC5C,MAAa,CACX,MAAO,EACT,CAGF,QAAS7B,EAAI,EAAGA,EAAI,KAAK,IAAI,OAAQA,IACnC,GAAI+B,GAAQ,KAAK,IAAI/B,CAAC,EAAG6B,EAAS,KAAK,OAAO,EAC5C,MAAO,GAGX,MAAO,EACT,CACF,EAEA1C,GAAO,QAAUE,GAEjB,IAAM2C,GAAM,KACNzB,GAAQ,IAAIyB,GAEZvC,GAAe,KACfC,GAAa,KACbmB,EAAQ,KACRiB,GAAS,KACT,CACJ,OAAQpB,EACR,EAAAC,EACA,sBAAAG,GACA,iBAAAC,GACA,iBAAAC,EACF,EAAI,KACE,CAAE,wBAAAZ,GAAyB,WAAAC,EAAW,EAAI,KAE1CP,GAAYF,GAAKA,EAAE,QAAU,WAC7BG,GAAQH,GAAKA,EAAE,QAAU,GAIzB6B,GAAgB,CAACH,EAAa9B,IAAY,CAC9C,IAAI+B,EAAS,GACPU,EAAuBX,EAAY,MAAM,EAC3CY,EAAiBD,EAAqB,IAAI,EAE9C,KAAOV,GAAUU,EAAqB,QACpCV,EAASU,EAAqB,MAAOE,GAC5BD,EAAe,WAAWC,EAAiB3C,CAAO,CAC1D,EAED0C,EAAiBD,EAAqB,IAAI,EAG5C,OAAOV,CACT,EAKMJ,GAAkB,CAACD,EAAM1B,KAC7B0B,EAAOA,EAAK,QAAQR,EAAGC,EAAE,KAAK,EAAG,EAAE,EACnCE,EAAM,OAAQK,EAAM1B,CAAO,EAC3B0B,EAAOkB,GAAclB,EAAM1B,CAAO,EAClCqB,EAAM,QAASK,CAAI,EACnBA,EAAOmB,GAAcnB,EAAM1B,CAAO,EAClCqB,EAAM,SAAUK,CAAI,EACpBA,EAAOoB,GAAepB,EAAM1B,CAAO,EACnCqB,EAAM,SAAUK,CAAI,EACpBA,EAAOqB,GAAarB,EAAM1B,CAAO,EACjCqB,EAAM,QAASK,CAAI,EACZA,GAGHsB,EAAMC,GAAM,CAACA,GAAMA,EAAG,YAAY,IAAM,KAAOA,IAAO,IAStDJ,GAAgB,CAACnB,EAAM1B,IACpB0B,EACJ,KAAK,EACL,MAAM,KAAK,EACX,IAAKtB,GAAM8C,GAAa9C,EAAGJ,CAAO,CAAC,EACnC,KAAK,GAAG,EAGPkD,GAAe,CAACxB,EAAM1B,IAAY,CACtC,IAAMG,EAAIH,EAAQ,MAAQkB,EAAGC,EAAE,UAAU,EAAID,EAAGC,EAAE,KAAK,EACvD,OAAOO,EAAK,QAAQvB,EAAG,CAACgD,EAAGC,EAAGC,EAAGC,EAAGC,IAAO,CACzClC,EAAM,QAASK,EAAMyB,EAAGC,EAAGC,EAAGC,EAAGC,CAAE,EACnC,IAAIC,EAEJ,OAAIR,EAAII,CAAC,EACPI,EAAM,GACGR,EAAIK,CAAC,EACdG,EAAM,KAAKJ,CAAC,SAAS,CAACA,EAAI,CAAC,SAClBJ,EAAIM,CAAC,EAEdE,EAAM,KAAKJ,CAAC,IAAIC,CAAC,OAAOD,CAAC,IAAI,CAACC,EAAI,CAAC,OAC1BE,GACTlC,EAAM,kBAAmBkC,CAAE,EAC3BC,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CAAC,IAAIC,CAC1B,KAAKH,CAAC,IAAI,CAACC,EAAI,CAAC,QAGhBG,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CACrB,KAAKF,CAAC,IAAI,CAACC,EAAI,CAAC,OAGlBhC,EAAM,eAAgBmC,CAAG,EAClBA,CACT,CAAC,CACH,EAUMZ,GAAgB,CAAClB,EAAM1B,IACpB0B,EACJ,KAAK,EACL,MAAM,KAAK,EACX,IAAKtB,GAAMqD,GAAarD,EAAGJ,CAAO,CAAC,EACnC,KAAK,GAAG,EAGPyD,GAAe,CAAC/B,EAAM1B,IAAY,CACtCqB,EAAM,QAASK,EAAM1B,CAAO,EAC5B,IAAMG,EAAIH,EAAQ,MAAQkB,EAAGC,EAAE,UAAU,EAAID,EAAGC,EAAE,KAAK,EACjDuC,EAAI1D,EAAQ,kBAAoB,KAAO,GAC7C,OAAO0B,EAAK,QAAQvB,EAAG,CAACgD,EAAGC,EAAGC,EAAGC,EAAGC,IAAO,CACzClC,EAAM,QAASK,EAAMyB,EAAGC,EAAGC,EAAGC,EAAGC,CAAE,EACnC,IAAIC,EAEJ,OAAIR,EAAII,CAAC,EACPI,EAAM,GACGR,EAAIK,CAAC,EACdG,EAAM,KAAKJ,CAAC,OAAOM,CAAC,KAAK,CAACN,EAAI,CAAC,SACtBJ,EAAIM,CAAC,EACVF,IAAM,IACRI,EAAM,KAAKJ,CAAC,IAAIC,CAAC,KAAKK,CAAC,KAAKN,CAAC,IAAI,CAACC,EAAI,CAAC,OAEvCG,EAAM,KAAKJ,CAAC,IAAIC,CAAC,KAAKK,CAAC,KAAK,CAACN,EAAI,CAAC,SAE3BG,GACTlC,EAAM,kBAAmBkC,CAAE,EACvBH,IAAM,IACJC,IAAM,IACRG,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CAAC,IAAIC,CAC1B,KAAKH,CAAC,IAAIC,CAAC,IAAI,CAACC,EAAI,CAAC,KAErBE,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CAAC,IAAIC,CAC1B,KAAKH,CAAC,IAAI,CAACC,EAAI,CAAC,OAGlBG,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CAAC,IAAIC,CAC1B,KAAK,CAACH,EAAI,CAAC,WAGb/B,EAAM,OAAO,EACT+B,IAAM,IACJC,IAAM,IACRG,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CACrB,GAAGI,CAAC,KAAKN,CAAC,IAAIC,CAAC,IAAI,CAACC,EAAI,CAAC,KAEzBE,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CACrB,GAAGI,CAAC,KAAKN,CAAC,IAAI,CAACC,EAAI,CAAC,OAGtBG,EAAM,KAAKJ,CAAC,IAAIC,CAAC,IAAIC,CACrB,KAAK,CAACF,EAAI,CAAC,UAIf/B,EAAM,eAAgBmC,CAAG,EAClBA,CACT,CAAC,CACH,EAEMV,GAAiB,CAACpB,EAAM1B,KAC5BqB,EAAM,iBAAkBK,EAAM1B,CAAO,EAC9B0B,EACJ,MAAM,KAAK,EACX,IAAKtB,GAAMuD,GAAcvD,EAAGJ,CAAO,CAAC,EACpC,KAAK,GAAG,GAGP2D,GAAgB,CAACjC,EAAM1B,IAAY,CACvC0B,EAAOA,EAAK,KAAK,EACjB,IAAMvB,EAAIH,EAAQ,MAAQkB,EAAGC,EAAE,WAAW,EAAID,EAAGC,EAAE,MAAM,EACzD,OAAOO,EAAK,QAAQvB,EAAG,CAACqD,EAAKI,EAAMR,EAAGC,EAAGC,EAAGC,IAAO,CACjDlC,EAAM,SAAUK,EAAM8B,EAAKI,EAAMR,EAAGC,EAAGC,EAAGC,CAAE,EAC5C,IAAMM,EAAKb,EAAII,CAAC,EACVU,EAAKD,GAAMb,EAAIK,CAAC,EAChBU,EAAKD,GAAMd,EAAIM,CAAC,EAChBU,EAAOD,EAEb,OAAIH,IAAS,KAAOI,IAClBJ,EAAO,IAKTL,EAAKvD,EAAQ,kBAAoB,KAAO,GAEpC6D,EACED,IAAS,KAAOA,IAAS,IAE3BJ,EAAM,WAGNA,EAAM,IAECI,GAAQI,GAGbF,IACFT,EAAI,GAENC,EAAI,EAEAM,IAAS,KAGXA,EAAO,KACHE,GACFV,EAAI,CAACA,EAAI,EACTC,EAAI,EACJC,EAAI,IAEJD,EAAI,CAACA,EAAI,EACTC,EAAI,IAEGM,IAAS,OAGlBA,EAAO,IACHE,EACFV,EAAI,CAACA,EAAI,EAETC,EAAI,CAACA,EAAI,GAITO,IAAS,MACXL,EAAK,MAGPC,EAAM,GAAGI,EAAOR,CAAC,IAAIC,CAAC,IAAIC,CAAC,GAAGC,CAAE,IACvBO,EACTN,EAAM,KAAKJ,CAAC,OAAOG,CAAE,KAAK,CAACH,EAAI,CAAC,SACvBW,IACTP,EAAM,KAAKJ,CAAC,IAAIC,CAAC,KAAKE,CACtB,KAAKH,CAAC,IAAI,CAACC,EAAI,CAAC,QAGlBhC,EAAM,gBAAiBmC,CAAG,EAEnBA,CACT,CAAC,CACH,EAIMT,GAAe,CAACrB,EAAM1B,KAC1BqB,EAAM,eAAgBK,EAAM1B,CAAO,EAE5B0B,EACJ,KAAK,EACL,QAAQR,EAAGC,EAAE,IAAI,EAAG,EAAE,GAGrBS,GAAc,CAACF,EAAM1B,KACzBqB,EAAM,cAAeK,EAAM1B,CAAO,EAC3B0B,EACJ,KAAK,EACL,QAAQR,EAAGlB,EAAQ,kBAAoBmB,EAAE,QAAUA,EAAE,IAAI,EAAG,EAAE,GAS7DC,GAAgB6C,GAAS,CAACC,EAC9BC,EAAMC,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,KACZ7B,EAAIoB,CAAE,EACRD,EAAO,GACEnB,EAAIqB,CAAE,EACfF,EAAO,KAAKC,CAAE,OAAOH,EAAQ,KAAO,EAAE,GAC7BjB,EAAIsB,CAAE,EACfH,EAAO,KAAKC,CAAE,IAAIC,CAAE,KAAKJ,EAAQ,KAAO,EAAE,GACjCM,EACTJ,EAAO,KAAKA,CAAI,GAEhBA,EAAO,KAAKA,CAAI,GAAGF,EAAQ,KAAO,EAAE,GAGlCjB,EAAI0B,CAAE,EACRD,EAAK,GACIzB,EAAI2B,CAAE,EACfF,EAAK,IAAI,CAACC,EAAK,CAAC,SACP1B,EAAI4B,CAAE,EACfH,EAAK,IAAIC,CAAE,IAAI,CAACC,EAAK,CAAC,OACbE,EACTJ,EAAK,KAAKC,CAAE,IAAIC,CAAE,IAAIC,CAAE,IAAIC,CAAG,GACtBZ,EACTQ,EAAK,IAAIC,CAAE,IAAIC,CAAE,IAAI,CAACC,EAAK,CAAC,KAE5BH,EAAK,KAAKA,CAAE,GAGP,GAAGN,CAAI,IAAIM,CAAE,GAAG,KAAK,GAGxBlC,GAAU,CAACuC,EAAKzC,EAASrC,IAAY,CACzC,QAAS,EAAI,EAAG,EAAI8E,EAAI,OAAQ,IAC9B,GAAI,CAACA,EAAI,CAAC,EAAE,KAAKzC,CAAO,EACtB,MAAO,GAIX,GAAIA,EAAQ,WAAW,QAAU,CAACrC,EAAQ,kBAAmB,CAM3D,QAAS,EAAI,EAAG,EAAI8E,EAAI,OAAQ,IAE9B,GADAzD,EAAMyD,EAAI,CAAC,EAAE,MAAM,EACfA,EAAI,CAAC,EAAE,SAAW5E,GAAW,KAI7B4E,EAAI,CAAC,EAAE,OAAO,WAAW,OAAS,EAAG,CACvC,IAAMC,EAAUD,EAAI,CAAC,EAAE,OACvB,GAAIC,EAAQ,QAAU1C,EAAQ,OAC1B0C,EAAQ,QAAU1C,EAAQ,OAC1B0C,EAAQ,QAAU1C,EAAQ,MAC5B,MAAO,EAEX,CAIF,MAAO,EACT,CAEA,MAAO,EACT,IC5iBA,IAAA2C,GAAAC,EAAA,CAAAC,GAAAC,KAAA,cAEA,IAAMC,GAAQ,KACRC,GAAY,CAACC,EAASC,EAAOC,IAAY,CAC7C,GAAI,CACFD,EAAQ,IAAIH,GAAMG,EAAOC,CAAO,CAClC,MAAa,CACX,MAAO,EACT,CACA,OAAOD,EAAM,KAAKD,CAAO,CAC3B,EACAH,GAAO,QAAUE,KCXjB,IAAAI,GAAAC,EAAA,CAAAC,GAAAC,KAAA,CAAAA,GAAA,SACE,KAAQ,QACR,YAAe,qHACf,QAAW,SACX,OAAU,kCACV,SAAY,kCACZ,aAAgB,CACd,gDACA,8CACA,4CACA,yCACA,yCACA,wCACA,sCACA,yCACA,iCACA,4CACA,0CACA,0CACA,8CACA,8CACA,oCACA,oCACA,2CACA,qCACA,gDACA,4CACA,uCACA,qCACA,4CACA,sCACA,yCACA,yCACA,uCACA,sCACA,sCACA,gDACA,iCACA,oCACA,oCACA,0CACA,wDACA,iDACA,wDACA,2CACA,wCACA,wDACA,0CACA,4BACA,kCACA,iDACA,iCACA,4CACA,8CACA,iDACA,4CACA,mCACA,2BACA,kCACA,gCACA,sCACA,uCACA,wCACA,gCACA,gCACA,oCACA,uCACA,yCACA,2CACA,uCACA,yCACA,wCACA,6DACA,uCACA,qCACA,+BACA,6BACA,gCACA,iCACA,mCACA,4CACA,uCACA,oDACA,uCACA,uCACA,yCACA,uCACA,qCACA,2CACA,sCACA,sCACA,qCACF,EACA,QAAW,CACT,QAAW,wBACX,MAAS,kEACT,KAAQ,yFACR,YAAa,0BACb,YAAa,4EACb,iBAAkB,gGAClB,YAAa,sBACb,aAAc,MACd,2BAA4B,+BAC5B,wBAAyB,4BACzB,aAAc,sBACd,aAAc,uBACd,eAAgB,kHAClB,EACA,KAAQ,WACR,KAAQ,eACR,MAAS,iBACT,MAAS,CACP,UACA,MACA,kBACF,EACA,WAAc,CACZ,KAAQ,MACR,IAAO,mCACT,EACA,SAAY,CACV,OACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,QACA,SACA,YACA,OACA,QACA,UACA,MACF,EACA,aAAgB,CACd,cAAe,SACf,cAAe,SACf,OAAU,QACZ,EACA,qBAAwB,CACtB,0BAA2B,SAC3B,wBAAyB,SACzB,kCAAmC,QACnC,gCAAiC,QACjC,+BAAgC,QAChC,iCAAkC,QAClC,iCAAkC,QAClC,iCAAkC,QAClC,+BAAgC,QAChC,qCAAsC,QACtC,mCAAoC,QACpC,uBAAwB,SACxB,yBAA0B,SAC1B,yBAA0B,SAC1B,yBAA0B,SAC1B,uBAAwB,SACxB,6BAA8B,SAC9B,2BAA4B,SAC5B,oBAAqB,SACrB,yBAA0B,SAC1B,wBAAyB,SACzB,uBAAwB,QAC1B,EACA,gBAAmB,CACjB,kBAAmB,SACnB,yBAA0B,QAC1B,gCAAiC,QACjC,iCAAkC,QAClC,gCAAiC,QACjC,+BAAgC,QAChC,cAAe,IACf,GAAM,SACN,OAAU,SACV,cAAe,SACf,cAAe,SACf,IAAO,SACP,oBAAqB,SACrB,kBAAmB,UACnB,MAAS,UACT,iBAAkB,SAC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",
  "names": ["require_is", "__commonJSMin", "exports", "module", "defined", "val", "object", "plainObject", "fn", "bool", "buffer", "typedArray", "arrayBuffer", "string", "number", "integer", "inRange", "min", "max", "inArray", "list", "invalidParameterError", "name", "expected", "actual", "nativeError", "native", "context", "require_process", "__commonJSMin", "exports", "module", "isLinux", "report", "getReport", "orig", "require_filesystem", "__commonJSMin", "exports", "module", "fs", "LDD_PATH", "SELF_PATH", "MAX_LENGTH", "readFileSync", "path", "fd", "buffer", "bytesRead", "readFile", "resolve", "reject", "err", "_", "require_elf", "__commonJSMin", "exports", "module", "interpreterPath", "elf", "offset", "size", "count", "i", "headerOffset", "fileOffset", "fileSize", "require_detect_libc", "__commonJSMin", "exports", "module", "childProcess", "isLinux", "getReport", "LDD_PATH", "SELF_PATH", "readFile", "readFileSync", "interpreterPath", "cachedFamilyInterpreter", "cachedFamilyFilesystem", "cachedVersionFilesystem", "command", "commandOut", "safeCommand", "resolve", "err", "out", "safeCommandSync", "GLIBC", "RE_GLIBC_VERSION", "MUSL", "isFileMusl", "f", "familyFromReport", "report", "familyFromCommand", "getconf", "ldd1", "familyFromInterpreterPath", "path", "getFamilyFromLddContent", "content", "familyFromFilesystem", "lddContent", "familyFromFilesystemSync", "familyFromInterpreter", "selfContent", "familyFromInterpreterSync", "family", "familySync", "isNonGlibcLinux", "isNonGlibcLinuxSync", "versionFromFilesystem", "versionMatch", "versionFromFilesystemSync", "versionFromReport", "versionSuffix", "s", "versionFromCommand", "ldd2", "version", "versionSync", "require_debug", "__commonJSMin", "exports", "module", "debug", "args", "require_constants", "__commonJSMin", "exports", "module", "SEMVER_SPEC_VERSION", "MAX_SAFE_INTEGER", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "RELEASE_TYPES", "require_re", "__commonJSMin", "exports", "module", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "MAX_LENGTH", "debug", "re", "safeRe", "src", "safeSrc", "t", "R", "LETTERDASHNUMBER", "safeRegexReplacements", "makeSafeRegex", "value", "token", "max", "createToken", "name", "isGlobal", "safe", "index", "require_parse_options", "__commonJSMin", "exports", "module", "looseOption", "emptyOpts", "parseOptions", "options", "require_identifiers", "__commonJSMin", "exports", "module", "numeric", "compareIdentifiers", "a", "b", "anum", "bnum", "rcompareIdentifiers", "require_semver", "__commonJSMin", "exports", "module", "debug", "MAX_LENGTH", "MAX_SAFE_INTEGER", "re", "t", "parseOptions", "compareIdentifiers", "SemVer", "_SemVer", "version", "options", "m", "id", "num", "other", "i", "a", "b", "release", "identifier", "identifierBase", "match", "base", "prerelease", "require_parse", "__commonJSMin", "exports", "module", "SemVer", "parse", "version", "options", "throwErrors", "er", "require_coerce", "__commonJSMin", "exports", "module", "SemVer", "parse", "re", "t", "coerce", "version", "options", "match", "coerceRtlRegex", "next", "major", "minor", "patch", "prerelease", "build", "require_compare", "__commonJSMin", "exports", "module", "SemVer", "compare", "a", "b", "loose", "require_gte", "__commonJSMin", "exports", "module", "compare", "gte", "a", "b", "loose", "require_lrucache", "__commonJSMin", "exports", "module", "LRUCache", "key", "value", "firstKey", "require_eq", "__commonJSMin", "exports", "module", "compare", "eq", "a", "b", "loose", "require_neq", "__commonJSMin", "exports", "module", "compare", "neq", "a", "b", "loose", "require_gt", "__commonJSMin", "exports", "module", "compare", "gt", "a", "b", "loose", "require_lt", "__commonJSMin", "exports", "module", "compare", "lt", "a", "b", "loose", "require_lte", "__commonJSMin", "exports", "module", "compare", "lte", "a", "b", "loose", "require_cmp", "__commonJSMin", "exports", "module", "eq", "neq", "gt", "gte", "lt", "lte", "cmp", "a", "op", "b", "loose", "require_comparator", "__commonJSMin", "exports", "module", "ANY", "Comparator", "_Comparator", "comp", "options", "parseOptions", "debug", "r", "re", "t", "m", "SemVer", "version", "cmp", "Range", "require_range", "__commonJSMin", "exports", "module", "SPACE_CHARACTERS", "Range", "_Range", "range", "options", "parseOptions", "Comparator", "r", "c", "first", "isNullSet", "isAny", "i", "comps", "k", "memoKey", "FLAG_INCLUDE_PRERELEASE", "FLAG_LOOSE", "cached", "cache", "loose", "hr", "re", "t", "hyphenReplace", "debug", "comparatorTrimReplace", "tildeTrimReplace", "caretTrimReplace", "rangeList", "comp", "parseComparator", "replaceGTE0", "rangeMap", "comparators", "result", "thisComparators", "isSatisfiable", "rangeComparators", "thisComparator", "rangeComparator", "version", "SemVer", "testSet", "LRU", "remainingComparators", "testComparator", "otherComparator", "replaceCarets", "replaceTildes", "replaceXRanges", "replaceStars", "isX", "id", "replaceTilde", "_", "M", "m", "p", "pr", "ret", "replaceCaret", "z", "replaceXRange", "gtlt", "xM", "xm", "xp", "anyX", "incPr", "$0", "from", "fM", "fm", "fp", "fpr", "fb", "to", "tM", "tm", "tp", "tpr", "set", "allowed", "require_satisfies", "__commonJSMin", "exports", "module", "Range", "satisfies", "version", "range", "options", "require_package", "__commonJSMin", "exports", "module", "require_libvips", "__commonJSMin", "exports", "module", "spawnSync", "createHash", "semverCoerce", "semverGreaterThanOrEqualTo", "semverSatisfies", "detectLibc", "config", "engines", "optionalDependencies", "minimumLibvipsVersionLabelled", "minimumLibvipsVersion", "prebuiltPlatforms", "spawnSyncOptions", "log", "item", "runtimeLibc", "runtimePlatformArch", "buildPlatformArch", "isEmscripten", "npm_config_arch", "npm_config_platform", "npm_config_libc", "libc", "buildSharpLibvipsIncludeDir", "buildSharpLibvipsCPlusPlusDir", "buildSharpLibvipsLibDir", "isUnsupportedNodeRuntime", "CC", "isRosetta", "sha512", "s", "yarnLocator", "identHash", "npmVersion", "spawnRebuild", "globalLibvipsVersion", "pkgConfigPath", "skipSearch", "status", "reason", "logger", "useGlobalLibvips", "globalVipsVersion", "require_sharp", "__commonJSMin", "exports", "module", "familySync", "versionSync", "runtimePlatformArch", "isUnsupportedNodeRuntime", "prebuiltPlatforms", "minimumLibvipsVersion", "runtimePlatform", "paths", "path", "sharp", "errors", "err", "isLinux", "isMacOs", "isWindows", "os", "help", "messages", "found", "expected", "cpu", "libc", "config", "libcFound", "libcRequires", "require_constructor", "__commonJSMin", "exports", "module", "util", "stream", "debuglog", "Sharp", "input", "options", "warning", "queueLength", "clone", "queueListener", "require_input", "__commonJSMin", "exports", "module", "is", "sharp", "align", "inputStreamParameters", "_inputOptionsFromObject", "obj", "params", "p", "_createInputDescriptor", "input", "inputOptions", "containerOptions", "inputDescriptor", "i", "_write", "chunk", "encoding", "callback", "_flattenBufferIn", "_isStreamInput", "metadata", "stack", "err", "resolve", "reject", "finished", "stats", "Sharp", "require_resize", "__commonJSMin", "exports", "module", "is", "gravity", "position", "extendWith", "strategy", "kernel", "fit", "mapFitToCanvas", "isRotationExpected", "options", "isResizeExpected", "resize", "widthOrOptions", "height", "canvas", "pos", "extend", "extract", "suffix", "name", "value", "trim", "Sharp", "require_composite", "__commonJSMin", "exports", "module", "is", "blend", "composite", "images", "image", "inputOptions", "Sharp", "require_operation", "__commonJSMin", "exports", "module", "is", "vipsPrecision", "rotate", "angle", "options", "autoOrient", "flip", "flop", "affine", "matrix", "flatMatrix", "sharpen", "flat", "jagged", "median", "size", "blur", "sigma", "dilate", "width", "erode", "flatten", "unflatten", "gamma", "gammaOut", "negate", "normalise", "normalize", "clahe", "convolve", "kernel", "a", "b", "threshold", "boolean", "operand", "operator", "linear", "recomb", "inputMatrix", "recombMatrix", "modulate", "Sharp", "require_color", "__commonJSMin", "exports", "module", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__export", "target", "all", "name", "__copyProps", "to", "from", "except", "desc", "key", "__toCommonJS", "mod", "index_exports", "index_default", "color_name_default", "reverseNames", "cs", "string", "prefix", "value", "model", "abbr", "hex", "rgba", "per", "keyword", "rgb", "match", "i", "hexAlpha", "i2", "clamp", "hsl", "alpha", "h", "l", "a", "hwb", "w", "b", "hexDouble", "g", "hsla", "hwba", "number_", "min", "max", "string_", "color_string_default", "reverseKeywords", "convert", "conversions_default", "LAB_FT", "srgbNonlinearTransform", "c", "cc", "srgbNonlinearTransformInv", "channels", "labels", "delta", "s", "rdif", "gdif", "bdif", "r", "v", "diff", "diffc", "lp", "mp", "sp", "aa", "bb", "k", "m", "y", "comparativeDistance", "x", "reversed", "currentClosestDistance", "currentClosestKeyword", "distance", "z", "xyz", "t3", "t2", "t1", "smin", "lmin", "sv", "hsv", "hi", "f", "p", "q", "t", "vmin", "sl", "wh", "bl", "ratio", "n", "cmyk", "oklab", "ll", "oklch", "lab", "y2", "x2", "z2", "lch", "hr", "args", "saturation", "ansi", "color", "mult", "rem", "colorString", "char", "integer", "chroma", "hue", "grayscale", "hcg", "pure", "mg", "apple", "gray", "buildGraph", "graph", "models2", "length", "deriveBFS", "fromModel", "queue", "current", "adjacents", "adjacent", "node", "link", "wrapConversion", "toModel", "path", "fn", "cur", "route", "conversion", "route_default", "convert2", "models", "wrapRaw", "wrappedFn", "arg0", "wrapRounded", "result", "routes", "routeModels", "color_convert_default", "skippedModels", "hashedModelKeys", "limiters", "Color", "object", "newArray", "zeroArray", "keys", "hashedKeys", "limit", "places", "self", "arguments_", "roundToPlace", "getset", "maxfn", "rgbArray", "alphaHex", "lum", "element", "chan", "color2", "lum1", "lum2", "contrastRatio", "degrees", "mixinColor", "weight", "color1", "w1", "w2", "assertArray", "roundTo", "number", "channel", "modifier", "array", "require_colour", "__commonJSMin", "exports", "module", "require_colour", "__commonJSMin", "exports", "module", "color", "is", "colourspace", "tint", "greyscale", "grayscale", "pipelineColourspace", "pipelineColorspace", "colorspace", "toColourspace", "toColorspace", "_getBackgroundColourOption", "value", "colour", "_setBackgroundColourOption", "key", "Sharp", "require_channel", "__commonJSMin", "exports", "module", "is", "bool", "removeAlpha", "ensureAlpha", "alpha", "extractChannel", "channel", "channelMap", "joinChannel", "images", "options", "image", "bandbool", "boolOp", "Sharp", "require_output", "__commonJSMin", "exports", "module", "path", "is", "sharp", "formats", "jp2Regex", "errJp2Save", "bitdepthFromColourCount", "colours", "toFile", "fileOut", "callback", "err", "stack", "toBuffer", "options", "keepExif", "withExif", "exif", "ifd", "entries", "k", "v", "withExifMerge", "keepIccProfile", "withIccProfile", "icc", "keepXmp", "withXmp", "xmp", "keepMetadata", "withMetadata", "toFormat", "format", "actualFormat", "jpeg", "optimiseCoding", "trellisQuantisation", "optimiseScans", "quantisationTable", "png", "webp", "trySetAnimationOptions", "gif", "jp2", "source", "target", "tiff", "avif", "heif", "jxl", "raw", "tile", "centre", "timeout", "_updateFormatOut", "formatOut", "_setBooleanOption", "key", "val", "_read", "_pipeline", "data", "info", "resolve", "reject", "Sharp", "require_utility", "__commonJSMin", "exports", "module", "events", "detectLibc", "is", "runtimePlatformArch", "sharp", "runtimePlatform", "libvipsVersion", "format", "interpolators", "versions", "cache", "options", "concurrency", "queue", "counters", "simd", "block", "unblock", "Sharp", "require_lib", "__commonJSMin", "exports", "module", "Sharp", "thumbgen_exports", "__export", "handler", "__toCommonJS", "import_client_s3", "import_sharp", "s3", "BUCKET", "event", "record", "key", "thumbKey", "buf", "resized", "sharp"]
}
