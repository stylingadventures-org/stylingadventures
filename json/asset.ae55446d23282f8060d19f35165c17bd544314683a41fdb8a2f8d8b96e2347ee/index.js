"use strict";var s=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var o=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var c=(n,e)=>{for(var t in e)s(n,t,{get:e[t],enumerable:!0})},l=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of o(e))!u.call(n,r)&&r!==t&&s(n,r,{get:()=>e[r],enumerable:!(i=a(e,r))||i.enumerable});return n};var d=n=>l(s({},"__esModule",{value:!0}),n);var m={};c(m,{handler:()=>p});module.exports=d(m);function g(n){var i,r;if(!n)return!1;let e=((i=n.claims)==null?void 0:i["cognito:groups"])??((r=n.claims)==null?void 0:r["custom:groups"])??n.groups,t=Array.isArray(e)?e:typeof e=="string"?e.split(","):[];return t.includes("admin")||t.includes("ADMIN")}var p=async n=>{let e=n.identity,t=n.info.fieldName;if(!(e!=null&&e.sub))throw new Error("Unauthorized");if(!g(e))throw new Error("Forbidden");switch(t){case"adminLaunchChallenge":return{ok:!0,challengeId:"placeholder-challenge-id",createdAt:new Date().toISOString()};case"adminListChallenges":return{items:[],nextToken:null};case"adminTriggerCommunityEvent":return{ok:!0,triggeredAt:new Date().toISOString()};case"adminSendShoutout":return{ok:!0,sentAt:new Date().toISOString()};case"adminSendTargetedInvite":return{ok:!0,sentAt:new Date().toISOString()};default:return{ok:!0,handled:!1,field:t}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
